(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();/**
* @vue/shared v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function CP(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Ra={},Dg=[],Gi=()=>{},Iae=()=>!1,BC=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),TP=e=>e.startsWith("onUpdate:"),po=Object.assign,MP=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},kae=Object.prototype.hasOwnProperty,mi=(e,t)=>kae.call(e,t),Tn=Array.isArray,Og=e=>tw(e)==="[object Map]",FC=e=>tw(e)==="[object Set]",ip=e=>tw(e)==="[object Date]",tr=e=>typeof e=="function",Qn=e=>typeof e=="string",hc=e=>typeof e=="symbol",Ar=e=>e!==null&&typeof e=="object",rx=e=>(Ar(e)||tr(e))&&tr(e.then)&&tr(e.catch),kj=Object.prototype.toString,tw=e=>kj.call(e),P3=e=>tw(e).slice(8,-1),CS=e=>tw(e)==="[object Object]",EP=e=>Qn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Pb=CP(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),NC=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Pae=/-(\w)/g,pl=NC(e=>e.replace(Pae,(t,n)=>n?n.toUpperCase():"")),Lae=/\B([A-Z])/g,ph=NC(e=>e.replace(Lae,"-$1").toLowerCase()),nw=NC(e=>e.charAt(0).toUpperCase()+e.slice(1)),Lb=NC(e=>e?`on${nw(e)}`:""),Yf=(e,t)=>!Object.is(e,t),L3=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Pj=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},SA=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Rae=e=>{const t=Qn(e)?Number(e):NaN;return isNaN(t)?e:t};let bB;const $C=()=>bB||(bB=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Vn(e){if(Tn(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=Qn(r)?Bae(r):Vn(r);if(i)for(const o in i)t[o]=i[o]}return t}else if(Qn(e)||Ar(e))return e}const Dae=/;(?![^(]*\))/g,Oae=/:([^]+)/,zae=/\/\*[^]*?\*\//g;function Bae(e){const t={};return e.replace(zae,"").split(Dae).forEach(n=>{if(n){const r=n.split(Oae);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function ye(e){let t="";if(Qn(e))t=e;else if(Tn(e))for(let n=0;n<e.length;n++){const r=ye(e[n]);r&&(t+=r+" ")}else if(Ar(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function ac(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Qn(t)&&(e.class=ye(t)),n&&(e.style=Vn(n)),e}const Fae="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Nae=CP(Fae);function Lj(e){return!!e||e===""}function $ae(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Qg(e[r],t[r]);return n}function Qg(e,t){if(e===t)return!0;let n=ip(e),r=ip(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=hc(e),r=hc(t),n||r)return e===t;if(n=Tn(e),r=Tn(t),n||r)return n&&r?$ae(e,t):!1;if(n=Ar(e),r=Ar(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const s in e){const u=e.hasOwnProperty(s),a=t.hasOwnProperty(s);if(u&&!a||!u&&a||!Qg(e[s],t[s]))return!1}}return String(e)===String(t)}function Rj(e,t){return e.findIndex(n=>Qg(n,t))}const Dj=e=>!!(e&&e.__v_isRef===!0),pn=e=>Qn(e)?e:e==null?"":Tn(e)||Ar(e)&&(e.toString===kj||!tr(e.toString))?Dj(e)?pn(e.value):JSON.stringify(e,Oj,2):String(e),Oj=(e,t)=>Dj(t)?Oj(e,t.value):Og(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i],o)=>(n[r5(r,o)+" =>"]=i,n),{})}:FC(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>r5(n))}:hc(t)?r5(t):Ar(t)&&!Tn(t)&&!CS(t)?String(t):t,r5=(e,t="")=>{var n;return hc(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let zs;class zj{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=zs,!t&&zs&&(this.index=(zs.scopes||(zs.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=zs;try{return zs=this,t()}finally{zs=n}}}on(){zs=this}off(){zs=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Vae(e){return new zj(e)}function Bj(){return zs}function Fj(e,t=!1){zs&&zs.cleanups.push(e)}let Va;const i5=new WeakSet;class Nj{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,zs&&zs.active&&zs.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,i5.has(this)&&(i5.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Vj(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,xB(this),Hj(this);const t=Va,n=cc;Va=this,cc=!0;try{return this.fn()}finally{Uj(this),Va=t,cc=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)kP(t);this.deps=this.depsTail=void 0,xB(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?i5.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){CA(this)&&this.run()}get dirty(){return CA(this)}}let $j=0,Rb,Db;function Vj(e,t=!1){if(e.flags|=8,t){e.next=Db,Db=e;return}e.next=Rb,Rb=e}function AP(){$j++}function IP(){if(--$j>0)return;if(Db){let t=Db;for(Db=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Rb;){let t=Rb;for(Rb=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function Hj(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Uj(e){let t,n=e.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),kP(r),Hae(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}e.deps=t,e.depsTail=n}function CA(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(jj(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function jj(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ix))return;e.globalVersion=ix;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!CA(e)){e.flags&=-3;return}const n=Va,r=cc;Va=e,cc=!0;try{Hj(e);const i=e.fn(e._value);(t.version===0||Yf(i,e._value))&&(e._value=i,t.version++)}catch(i){throw t.version++,i}finally{Va=n,cc=r,Uj(e),e.flags&=-3}}function kP(e,t=!1){const{dep:n,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)kP(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Hae(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let cc=!0;const Gj=[];function gp(){Gj.push(cc),cc=!1}function _p(){const e=Gj.pop();cc=e===void 0?!0:e}function xB(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Va;Va=void 0;try{t()}finally{Va=n}}}let ix=0,Uae=class{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class VC{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Va||!cc||Va===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Va)n=this.activeLink=new Uae(Va,this),Va.deps?(n.prevDep=Va.depsTail,Va.depsTail.nextDep=n,Va.depsTail=n):Va.deps=Va.depsTail=n,Wj(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Va.depsTail,n.nextDep=void 0,Va.depsTail.nextDep=n,Va.depsTail=n,Va.deps===n&&(Va.deps=r)}return n}trigger(t){this.version++,ix++,this.notify(t)}notify(t){AP();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{IP()}}}function Wj(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)Wj(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const TS=new WeakMap,Qm=Symbol(""),TA=Symbol(""),ax=Symbol("");function ps(e,t,n){if(cc&&Va){let r=TS.get(e);r||TS.set(e,r=new Map);let i=r.get(n);i||(r.set(n,i=new VC),i.map=r,i.key=n),i.track()}}function Kd(e,t,n,r,i,o){const s=TS.get(e);if(!s){ix++;return}const u=a=>{a&&a.trigger()};if(AP(),t==="clear")s.forEach(u);else{const a=Tn(e),h=a&&EP(n);if(a&&n==="length"){const m=Number(r);s.forEach((v,_)=>{(_==="length"||_===ax||!hc(_)&&_>=m)&&u(v)})}else switch((n!==void 0||s.has(void 0))&&u(s.get(n)),h&&u(s.get(ax)),t){case"add":a?h&&u(s.get("length")):(u(s.get(Qm)),Og(e)&&u(s.get(TA)));break;case"delete":a||(u(s.get(Qm)),Og(e)&&u(s.get(TA)));break;case"set":Og(e)&&u(s.get(Qm));break}}IP()}function jae(e,t){const n=TS.get(e);return n&&n.get(t)}function qv(e){const t=Bi(e);return t===e?t:(ps(t,"iterate",ax),Su(e)?t:t.map(ms))}function HC(e){return ps(e=Bi(e),"iterate",ax),e}const Gae={__proto__:null,[Symbol.iterator](){return a5(this,Symbol.iterator,ms)},concat(...e){return qv(this).concat(...e.map(t=>Tn(t)?qv(t):t))},entries(){return a5(this,"entries",e=>(e[1]=ms(e[1]),e))},every(e,t){return Bd(this,"every",e,t,void 0,arguments)},filter(e,t){return Bd(this,"filter",e,t,n=>n.map(ms),arguments)},find(e,t){return Bd(this,"find",e,t,ms,arguments)},findIndex(e,t){return Bd(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Bd(this,"findLast",e,t,ms,arguments)},findLastIndex(e,t){return Bd(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Bd(this,"forEach",e,t,void 0,arguments)},includes(...e){return o5(this,"includes",e)},indexOf(...e){return o5(this,"indexOf",e)},join(e){return qv(this).join(e)},lastIndexOf(...e){return o5(this,"lastIndexOf",e)},map(e,t){return Bd(this,"map",e,t,void 0,arguments)},pop(){return B1(this,"pop")},push(...e){return B1(this,"push",e)},reduce(e,...t){return wB(this,"reduce",e,t)},reduceRight(e,...t){return wB(this,"reduceRight",e,t)},shift(){return B1(this,"shift")},some(e,t){return Bd(this,"some",e,t,void 0,arguments)},splice(...e){return B1(this,"splice",e)},toReversed(){return qv(this).toReversed()},toSorted(e){return qv(this).toSorted(e)},toSpliced(...e){return qv(this).toSpliced(...e)},unshift(...e){return B1(this,"unshift",e)},values(){return a5(this,"values",ms)}};function a5(e,t,n){const r=HC(e),i=r[t]();return r!==e&&!Su(e)&&(i._next=i.next,i.next=()=>{const o=i._next();return o.value&&(o.value=n(o.value)),o}),i}const Wae=Array.prototype;function Bd(e,t,n,r,i,o){const s=HC(e),u=s!==e&&!Su(e),a=s[t];if(a!==Wae[t]){const v=a.apply(e,o);return u?ms(v):v}let h=n;s!==e&&(u?h=function(v,_){return n.call(this,ms(v),_,e)}:n.length>2&&(h=function(v,_){return n.call(this,v,_,e)}));const m=a.call(s,h,r);return u&&i?i(m):m}function wB(e,t,n,r){const i=HC(e);let o=n;return i!==e&&(Su(e)?n.length>3&&(o=function(s,u,a){return n.call(this,s,u,a,e)}):o=function(s,u,a){return n.call(this,s,ms(u),a,e)}),i[t](o,...r)}function o5(e,t,n){const r=Bi(e);ps(r,"iterate",ax);const i=r[t](...n);return(i===-1||i===!1)&&UC(n[0])?(n[0]=Bi(n[0]),r[t](...n)):i}function B1(e,t,n=[]){gp(),AP();const r=Bi(e)[t].apply(e,n);return IP(),_p(),r}const qae=CP("__proto__,__v_isRef,__isVue"),qj=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(hc));function Kae(e){hc(e)||(e=String(e));const t=Bi(this);return ps(t,"has",e),t.hasOwnProperty(e)}class Kj{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){const i=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(i?o?ioe:Jj:o?Xj:Zj).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const s=Tn(t);if(!i){let a;if(s&&(a=Gae[n]))return a;if(n==="hasOwnProperty")return Kae}const u=Reflect.get(t,n,ra(t)?t:r);return(hc(n)?qj.has(n):qae(n))||(i||ps(t,"get",n),o)?u:ra(u)?s&&EP(n)?u:u.value:Ar(u)?i?T_(u):Ci(u):u}}class Yj extends Kj{constructor(t=!1){super(!1,t)}set(t,n,r,i){let o=t[n];if(!this._isShallow){const a=u0(o);if(!Su(r)&&!u0(r)&&(o=Bi(o),r=Bi(r)),!Tn(t)&&ra(o)&&!ra(r))return a?!1:(o.value=r,!0)}const s=Tn(t)&&EP(n)?Number(n)<t.length:mi(t,n),u=Reflect.set(t,n,r,ra(t)?t:i);return t===Bi(i)&&(s?Yf(r,o)&&Kd(t,"set",n,r):Kd(t,"add",n,r)),u}deleteProperty(t,n){const r=mi(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&r&&Kd(t,"delete",n,void 0),i}has(t,n){const r=Reflect.has(t,n);return(!hc(n)||!qj.has(n))&&ps(t,"has",n),r}ownKeys(t){return ps(t,"iterate",Tn(t)?"length":Qm),Reflect.ownKeys(t)}}class Yae extends Kj{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Zae=new Yj,Xae=new Yae,Jae=new Yj(!0);const MA=e=>e,_6=e=>Reflect.getPrototypeOf(e);function Qae(e,t,n){return function(...r){const i=this.__v_raw,o=Bi(i),s=Og(o),u=e==="entries"||e===Symbol.iterator&&s,a=e==="keys"&&s,h=i[e](...r),m=n?MA:t?EA:ms;return!t&&ps(o,"iterate",a?TA:Qm),{next(){const{value:v,done:_}=h.next();return _?{value:v,done:_}:{value:u?[m(v[0]),m(v[1])]:m(v),done:_}},[Symbol.iterator](){return this}}}}function y6(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function eoe(e,t){const n={get(i){const o=this.__v_raw,s=Bi(o),u=Bi(i);e||(Yf(i,u)&&ps(s,"get",i),ps(s,"get",u));const{has:a}=_6(s),h=t?MA:e?EA:ms;if(a.call(s,i))return h(o.get(i));if(a.call(s,u))return h(o.get(u));o!==s&&o.get(i)},get size(){const i=this.__v_raw;return!e&&ps(Bi(i),"iterate",Qm),Reflect.get(i,"size",i)},has(i){const o=this.__v_raw,s=Bi(o),u=Bi(i);return e||(Yf(i,u)&&ps(s,"has",i),ps(s,"has",u)),i===u?o.has(i):o.has(i)||o.has(u)},forEach(i,o){const s=this,u=s.__v_raw,a=Bi(u),h=t?MA:e?EA:ms;return!e&&ps(a,"iterate",Qm),u.forEach((m,v)=>i.call(o,h(m),h(v),s))}};return po(n,e?{add:y6("add"),set:y6("set"),delete:y6("delete"),clear:y6("clear")}:{add(i){!t&&!Su(i)&&!u0(i)&&(i=Bi(i));const o=Bi(this);return _6(o).has.call(o,i)||(o.add(i),Kd(o,"add",i,i)),this},set(i,o){!t&&!Su(o)&&!u0(o)&&(o=Bi(o));const s=Bi(this),{has:u,get:a}=_6(s);let h=u.call(s,i);h||(i=Bi(i),h=u.call(s,i));const m=a.call(s,i);return s.set(i,o),h?Yf(o,m)&&Kd(s,"set",i,o):Kd(s,"add",i,o),this},delete(i){const o=Bi(this),{has:s,get:u}=_6(o);let a=s.call(o,i);a||(i=Bi(i),a=s.call(o,i)),u&&u.call(o,i);const h=o.delete(i);return a&&Kd(o,"delete",i,void 0),h},clear(){const i=Bi(this),o=i.size!==0,s=i.clear();return o&&Kd(i,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Qae(i,e,t)}),n}function PP(e,t){const n=eoe(e,t);return(r,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(mi(n,i)&&i in r?n:r,i,o)}const toe={get:PP(!1,!1)},noe={get:PP(!1,!0)},roe={get:PP(!0,!1)};const Zj=new WeakMap,Xj=new WeakMap,Jj=new WeakMap,ioe=new WeakMap;function aoe(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ooe(e){return e.__v_skip||!Object.isExtensible(e)?0:aoe(P3(e))}function Ci(e){return u0(e)?e:RP(e,!1,Zae,toe,Zj)}function LP(e){return RP(e,!1,Jae,noe,Xj)}function T_(e){return RP(e,!0,Xae,roe,Jj)}function RP(e,t,n,r,i){if(!Ar(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const s=ooe(e);if(s===0)return e;const u=new Proxy(e,s===2?r:n);return i.set(e,u),u}function zg(e){return u0(e)?zg(e.__v_raw):!!(e&&e.__v_isReactive)}function u0(e){return!!(e&&e.__v_isReadonly)}function Su(e){return!!(e&&e.__v_isShallow)}function UC(e){return e?!!e.__v_raw:!1}function Bi(e){const t=e&&e.__v_raw;return t?Bi(t):e}function Zf(e){return!mi(e,"__v_skip")&&Object.isExtensible(e)&&Pj(e,"__v_skip",!0),e}const ms=e=>Ar(e)?Ci(e):e,EA=e=>Ar(e)?T_(e):e;function ra(e){return e?e.__v_isRef===!0:!1}function Te(e){return Qj(e,!1)}function Ji(e){return Qj(e,!0)}function Qj(e,t){return ra(e)?e:new soe(e,t)}class soe{constructor(t,n){this.dep=new VC,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Bi(t),this._value=n?t:ms(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Su(t)||u0(t);t=r?t:Bi(t),Yf(t,n)&&(this._rawValue=t,this._value=r?t:ms(t),this.dep.trigger())}}function A(e){return ra(e)?e.value:e}const loe={get:(e,t,n)=>t==="__v_raw"?e:A(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return ra(i)&&!ra(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function eG(e){return zg(e)?e:new Proxy(e,loe)}class uoe{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new VC,{get:r,set:i}=t(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=i}get value(){return this._value=this._get()}set value(t){this._set(t)}}function coe(e){return new uoe(e)}function Co(e){const t=Tn(e)?new Array(e.length):{};for(const n in e)t[n]=tG(e,n);return t}class doe{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return jae(Bi(this._object),this._key)}}class hoe{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Li(e,t,n){return ra(e)?e:tr(e)?new hoe(e):Ar(e)&&arguments.length>1?tG(e,t,n):Te(e)}function tG(e,t,n){const r=e[t];return ra(r)?r:new doe(e,t,n)}class foe{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new VC(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ix-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Va!==this)return Vj(this,!0),!0}get value(){const t=this.dep.track();return jj(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function poe(e,t,n=!1){let r,i;return tr(e)?r=e:(r=e.get,i=e.set),new foe(r,i,n)}const b6={},MS=new WeakMap;let Fm;function moe(e,t=!1,n=Fm){if(n){let r=MS.get(n);r||MS.set(n,r=[]),r.push(e)}}function voe(e,t,n=Ra){const{immediate:r,deep:i,once:o,scheduler:s,augmentJob:u,call:a}=n,h=U=>i?U:Su(U)||i===!1||i===0?Yd(U,1):Yd(U);let m,v,_,b,T=!1,M=!1;if(ra(e)?(v=()=>e.value,T=Su(e)):zg(e)?(v=()=>h(e),T=!0):Tn(e)?(M=!0,T=e.some(U=>zg(U)||Su(U)),v=()=>e.map(U=>{if(ra(U))return U.value;if(zg(U))return h(U);if(tr(U))return a?a(U,2):U()})):tr(e)?t?v=a?()=>a(e,2):e:v=()=>{if(_){gp();try{_()}finally{_p()}}const U=Fm;Fm=m;try{return a?a(e,3,[b]):e(b)}finally{Fm=U}}:v=Gi,t&&i){const U=v,W=i===!0?1/0:i;v=()=>Yd(U(),W)}const E=Bj(),k=()=>{m.stop(),E&&MP(E.effects,m)};if(o&&t){const U=t;t=(...W)=>{U(...W),k()}}let z=M?new Array(e.length).fill(b6):b6;const B=U=>{if(!(!(m.flags&1)||!m.dirty&&!U))if(t){const W=m.run();if(i||T||(M?W.some((q,Q)=>Yf(q,z[Q])):Yf(W,z))){_&&_();const q=Fm;Fm=m;try{const Q=[W,z===b6?void 0:M&&z[0]===b6?[]:z,b];a?a(t,3,Q):t(...Q),z=W}finally{Fm=q}}}else m.run()};return u&&u(B),m=new Nj(v),m.scheduler=s?()=>s(B,!1):B,b=U=>moe(U,!1,m),_=m.onStop=()=>{const U=MS.get(m);if(U){if(a)a(U,4);else for(const W of U)W();MS.delete(m)}},t?r?B(!0):z=m.run():s?s(B.bind(null,!0),!0):m.run(),k.pause=m.pause.bind(m),k.resume=m.resume.bind(m),k.stop=k,k}function Yd(e,t=1/0,n){if(t<=0||!Ar(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,ra(e))Yd(e.value,t,n);else if(Tn(e))for(let r=0;r<e.length;r++)Yd(e[r],t,n);else if(FC(e)||Og(e))e.forEach(r=>{Yd(r,t,n)});else if(CS(e)){for(const r in e)Yd(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Yd(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function rw(e,t,n,r){try{return r?e(...r):e()}catch(i){jC(i,t,n)}}function fc(e,t,n,r){if(tr(e)){const i=rw(e,t,n,r);return i&&rx(i)&&i.catch(o=>{jC(o,t,n)}),i}if(Tn(e)){const i=[];for(let o=0;o<e.length;o++)i.push(fc(e[o],t,n,r));return i}}function jC(e,t,n,r=!0){const i=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:s}=t&&t.appContext.config||Ra;if(t){let u=t.parent;const a=t.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;u;){const m=u.ec;if(m){for(let v=0;v<m.length;v++)if(m[v](e,a,h)===!1)return}u=u.parent}if(o){gp(),rw(o,null,10,[e,a,h]),_p();return}}goe(e,n,i,r,s)}function goe(e,t,n,r=!0,i=!1){if(i)throw e;console.error(e)}const Fs=[];let Gc=-1;const Bg=[];let Bf=null,vg=0;const nG=Promise.resolve();let ES=null;function Fn(e){const t=ES||nG;return e?t.then(this?e.bind(this):e):t}function _oe(e){let t=Gc+1,n=Fs.length;for(;t<n;){const r=t+n>>>1,i=Fs[r],o=ox(i);o<e||o===e&&i.flags&2?t=r+1:n=r}return t}function DP(e){if(!(e.flags&1)){const t=ox(e),n=Fs[Fs.length-1];!n||!(e.flags&2)&&t>=ox(n)?Fs.push(e):Fs.splice(_oe(t),0,e),e.flags|=1,rG()}}function rG(){ES||(ES=nG.then(aG))}function yoe(e){Tn(e)?Bg.push(...e):Bf&&e.id===-1?Bf.splice(vg+1,0,e):e.flags&1||(Bg.push(e),e.flags|=1),rG()}function SB(e,t,n=Gc+1){for(;n<Fs.length;n++){const r=Fs[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Fs.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function iG(e){if(Bg.length){const t=[...new Set(Bg)].sort((n,r)=>ox(n)-ox(r));if(Bg.length=0,Bf){Bf.push(...t);return}for(Bf=t,vg=0;vg<Bf.length;vg++){const n=Bf[vg];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Bf=null,vg=0}}const ox=e=>e.id==null?e.flags&2?-1:1/0:e.id;function aG(e){try{for(Gc=0;Gc<Fs.length;Gc++){const t=Fs[Gc];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),rw(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Gc<Fs.length;Gc++){const t=Fs[Gc];t&&(t.flags&=-2)}Gc=-1,Fs.length=0,iG(),ES=null,(Fs.length||Bg.length)&&aG()}}let Vo=null,oG=null;function AS(e){const t=Vo;return Vo=e,oG=e&&e.type.__scopeId||null,t}function tt(e,t=Vo,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&OB(-1);const o=AS(t);let s;try{s=e(...i)}finally{AS(o),r._d&&OB(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function yr(e,t){if(Vo===null)return e;const n=YC(Vo),r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,s,u,a=Ra]=t[i];o&&(tr(o)&&(o={mounted:o,updated:o}),o.deep&&Yd(s),r.push({dir:o,instance:n,value:s,oldValue:void 0,arg:u,modifiers:a}))}return e}function dm(e,t,n,r){const i=e.dirs,o=t&&t.dirs;for(let s=0;s<i.length;s++){const u=i[s];o&&(u.oldValue=o[s].value);let a=u.dir[r];a&&(gp(),fc(a,n,8,[e.el,u,e,t]),_p())}}const sG=Symbol("_vte"),lG=e=>e.__isTeleport,Ob=e=>e&&(e.disabled||e.disabled===""),boe=e=>e&&(e.defer||e.defer===""),CB=e=>typeof SVGElement<"u"&&e instanceof SVGElement,TB=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,AA=(e,t)=>{const n=e&&e.to;return Qn(n)?t?t(n):null:n},xoe={name:"Teleport",__isTeleport:!0,process(e,t,n,r,i,o,s,u,a,h){const{mc:m,pc:v,pbc:_,o:{insert:b,querySelector:T,createText:M,createComment:E}}=h,k=Ob(t.props);let{shapeFlag:z,children:B,dynamicChildren:U}=t;if(e==null){const W=t.el=M(""),q=t.anchor=M("");b(W,n,r),b(q,n,r);const Q=(ie,ae)=>{z&16&&(i&&i.isCE&&(i.ce._teleportTarget=ie),m(B,ie,ae,i,o,s,u,a))},te=()=>{const ie=t.target=AA(t.props,T),ae=uG(ie,t,M,b);ie&&(s!=="svg"&&CB(ie)?s="svg":s!=="mathml"&&TB(ie)&&(s="mathml"),k||(Q(ie,ae),R3(t,!1)))};k&&(Q(n,q),R3(t,!0)),boe(t.props)?rl(te,o):te()}else{t.el=e.el,t.targetStart=e.targetStart;const W=t.anchor=e.anchor,q=t.target=e.target,Q=t.targetAnchor=e.targetAnchor,te=Ob(e.props),ie=te?n:q,ae=te?W:Q;if(s==="svg"||CB(q)?s="svg":(s==="mathml"||TB(q))&&(s="mathml"),U?(_(e.dynamicChildren,U,ie,i,o,s,u),UP(e,t,!0)):a||v(e,t,ie,ae,i,o,s,u,!1),k)te?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):x6(t,n,W,h,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const re=t.target=AA(t.props,T);re&&x6(t,re,null,h,0)}else te&&x6(t,q,Q,h,1);R3(t,k)}},remove(e,t,n,{um:r,o:{remove:i}},o){const{shapeFlag:s,children:u,anchor:a,targetStart:h,targetAnchor:m,target:v,props:_}=e;if(v&&(i(h),i(m)),o&&i(a),s&16){const b=o||!Ob(_);for(let T=0;T<u.length;T++){const M=u[T];r(M,t,n,b,!!M.dynamicChildren)}}},move:x6,hydrate:woe};function x6(e,t,n,{o:{insert:r},m:i},o=2){o===0&&r(e.targetAnchor,t,n);const{el:s,anchor:u,shapeFlag:a,children:h,props:m}=e,v=o===2;if(v&&r(s,t,n),(!v||Ob(m))&&a&16)for(let _=0;_<h.length;_++)i(h[_],t,n,2);v&&r(u,t,n)}function woe(e,t,n,r,i,o,{o:{nextSibling:s,parentNode:u,querySelector:a,insert:h,createText:m}},v){const _=t.target=AA(t.props,a);if(_){const b=Ob(t.props),T=_._lpa||_.firstChild;if(t.shapeFlag&16)if(b)t.anchor=v(s(e),t,u(e),n,r,i,o),t.targetStart=T,t.targetAnchor=T&&s(T);else{t.anchor=s(e);let M=T;for(;M;){if(M&&M.nodeType===8){if(M.data==="teleport start anchor")t.targetStart=M;else if(M.data==="teleport anchor"){t.targetAnchor=M,_._lpa=t.targetAnchor&&s(t.targetAnchor);break}}M=s(M)}t.targetAnchor||uG(_,t,m,h),v(T&&s(T),t,_,n,r,i,o)}R3(t,b)}return t.anchor&&s(t.anchor)}const OP=xoe;function R3(e,t){const n=e.ctx;if(n&&n.ut){let r,i;for(t?(r=e.el,i=e.anchor):(r=e.targetStart,i=e.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function uG(e,t,n,r){const i=t.targetStart=n(""),o=t.targetAnchor=n("");return i[sG]=o,e&&(r(i,e),r(o,e)),o}const Ff=Symbol("_leaveCb"),w6=Symbol("_enterCb");function cG(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return br(()=>{e.isMounted=!0}),Di(()=>{e.isUnmounting=!0}),e}const au=[Function,Array],dG={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:au,onEnter:au,onAfterEnter:au,onEnterCancelled:au,onBeforeLeave:au,onLeave:au,onAfterLeave:au,onLeaveCancelled:au,onBeforeAppear:au,onAppear:au,onAfterAppear:au,onAppearCancelled:au},hG=e=>{const t=e.subTree;return t.component?hG(t.component):t},Soe={name:"BaseTransition",props:dG,setup(e,{slots:t}){const n=Mr(),r=cG();return()=>{const i=t.default&&zP(t.default(),!0);if(!i||!i.length)return;const o=fG(i),s=Bi(e),{mode:u}=s;if(r.isLeaving)return s5(o);const a=MB(o);if(!a)return s5(o);let h=sx(a,s,r,n,_=>h=_);a.type!==Io&&c0(a,h);const m=n.subTree,v=m&&MB(m);if(v&&v.type!==Io&&!Nm(a,v)&&hG(n).type!==Io){const _=sx(v,s,r,n);if(c0(v,_),u==="out-in"&&a.type!==Io)return r.isLeaving=!0,_.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete _.afterLeave},s5(o);u==="in-out"&&a.type!==Io&&(_.delayLeave=(b,T,M)=>{const E=pG(r,v);E[String(v.key)]=v,b[Ff]=()=>{T(),b[Ff]=void 0,delete h.delayedLeave},h.delayedLeave=M})}return o}}};function fG(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Io){t=n;break}}return t}const Coe=Soe;function pG(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function sx(e,t,n,r,i){const{appear:o,mode:s,persisted:u=!1,onBeforeEnter:a,onEnter:h,onAfterEnter:m,onEnterCancelled:v,onBeforeLeave:_,onLeave:b,onAfterLeave:T,onLeaveCancelled:M,onBeforeAppear:E,onAppear:k,onAfterAppear:z,onAppearCancelled:B}=t,U=String(e.key),W=pG(n,e),q=(ie,ae)=>{ie&&fc(ie,r,9,ae)},Q=(ie,ae)=>{const re=ae[1];q(ie,ae),Tn(ie)?ie.every(se=>se.length<=1)&&re():ie.length<=1&&re()},te={mode:s,persisted:u,beforeEnter(ie){let ae=a;if(!n.isMounted)if(o)ae=E||a;else return;ie[Ff]&&ie[Ff](!0);const re=W[U];re&&Nm(e,re)&&re.el[Ff]&&re.el[Ff](),q(ae,[ie])},enter(ie){let ae=h,re=m,se=v;if(!n.isMounted)if(o)ae=k||h,re=z||m,se=B||v;else return;let be=!1;const Ie=ie[w6]=Se=>{be||(be=!0,Se?q(se,[ie]):q(re,[ie]),te.delayedLeave&&te.delayedLeave(),ie[w6]=void 0)};ae?Q(ae,[ie,Ie]):Ie()},leave(ie,ae){const re=String(e.key);if(ie[w6]&&ie[w6](!0),n.isUnmounting)return ae();q(_,[ie]);let se=!1;const be=ie[Ff]=Ie=>{se||(se=!0,ae(),Ie?q(M,[ie]):q(T,[ie]),ie[Ff]=void 0,W[re]===e&&delete W[re])};W[re]=e,b?Q(b,[ie,be]):be()},clone(ie){const ae=sx(ie,t,n,r,i);return i&&i(ae),ae}};return te}function s5(e){if(GC(e))return e=oh(e),e.children=null,e}function MB(e){if(!GC(e))return lG(e.type)&&e.children?fG(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&tr(n.default))return n.default()}}function c0(e,t){e.shapeFlag&6&&e.component?(e.transition=t,c0(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function zP(e,t=!1,n){let r=[],i=0;for(let o=0;o<e.length;o++){let s=e[o];const u=n==null?s.key:String(n)+String(s.key!=null?s.key:o);s.type===Nn?(s.patchFlag&128&&i++,r=r.concat(zP(s.children,t,u))):(t||s.type!==Io)&&r.push(u!=null?oh(s,{key:u}):s)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function ge(e,t){return tr(e)?po({name:e.name},t,{setup:e}):e}function mG(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function IA(e,t,n,r,i=!1){if(Tn(e)){e.forEach((T,M)=>IA(T,t&&(Tn(t)?t[M]:t),n,r,i));return}if(Fg(r)&&!i)return;const o=r.shapeFlag&4?YC(r.component):r.el,s=i?null:o,{i:u,r:a}=e,h=t&&t.r,m=u.refs===Ra?u.refs={}:u.refs,v=u.setupState,_=Bi(v),b=v===Ra?()=>!1:T=>mi(_,T);if(h!=null&&h!==a&&(Qn(h)?(m[h]=null,b(h)&&(v[h]=null)):ra(h)&&(h.value=null)),tr(a))rw(a,u,12,[s,m]);else{const T=Qn(a),M=ra(a);if(T||M){const E=()=>{if(e.f){const k=T?b(a)?v[a]:m[a]:a.value;i?Tn(k)&&MP(k,o):Tn(k)?k.includes(o)||k.push(o):T?(m[a]=[o],b(a)&&(v[a]=m[a])):(a.value=[o],e.k&&(m[e.k]=a.value))}else T?(m[a]=s,b(a)&&(v[a]=s)):M&&(a.value=s,e.k&&(m[e.k]=s))};s?(E.id=-1,rl(E,n)):E()}}}$C().requestIdleCallback;$C().cancelIdleCallback;const Fg=e=>!!e.type.__asyncLoader,GC=e=>e.type.__isKeepAlive;function BP(e,t){gG(e,"a",t)}function vG(e,t){gG(e,"da",t)}function gG(e,t,n=Qo){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(WC(t,r,n),n){let i=n.parent;for(;i&&i.parent;)GC(i.parent.vnode)&&Toe(r,t,n,i),i=i.parent}}function Toe(e,t,n,r){const i=WC(t,e,r,!0);vh(()=>{MP(r[t],i)},n)}function WC(e,t,n=Qo,r=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...s)=>{gp();const u=iw(n),a=fc(t,n,e,s);return u(),_p(),a});return r?i.unshift(o):i.push(o),o}}const mh=e=>(t,n=Qo)=>{(!ux||e==="sp")&&WC(e,(...r)=>t(...r),n)},M_=mh("bm"),br=mh("m"),FP=mh("bu"),ud=mh("u"),Di=mh("bum"),vh=mh("um"),Moe=mh("sp"),Eoe=mh("rtg"),Aoe=mh("rtc");function Ioe(e,t=Qo){WC("ec",e,t)}const NP="components",koe="directives";function Zn(e,t){return $P(NP,e,!0,t)||e}const _G=Symbol.for("v-ndc");function kr(e){return Qn(e)?$P(NP,e,!1)||e:e||_G}function qC(e){return $P(koe,e)}function $P(e,t,n=!0,r=!1){const i=Vo||Qo;if(i){const o=i.type;if(e===NP){const u=pse(o,!1);if(u&&(u===t||u===pl(t)||u===nw(pl(t))))return o}const s=EB(i[e]||o[e],t)||EB(i.appContext[e],t);return!s&&r?o:s}}function EB(e,t){return e&&(e[t]||e[pl(t)]||e[nw(pl(t))])}function Ur(e,t,n,r){let i;const o=n,s=Tn(e);if(s||Qn(e)){const u=s&&zg(e);let a=!1;u&&(a=!Su(e),e=HC(e)),i=new Array(e.length);for(let h=0,m=e.length;h<m;h++)i[h]=t(a?ms(e[h]):e[h],h,void 0,o)}else if(typeof e=="number"){i=new Array(e);for(let u=0;u<e;u++)i[u]=t(u+1,u,void 0,o)}else if(Ar(e))if(e[Symbol.iterator])i=Array.from(e,(u,a)=>t(u,a,void 0,o));else{const u=Object.keys(e);i=new Array(u.length);for(let a=0,h=u.length;a<h;a++){const m=u[a];i[a]=t(e[m],m,a,o)}}else i=[];return i}function Mu(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(Tn(r))for(let i=0;i<r.length;i++)e[r[i].name]=r[i].fn;else r&&(e[r.name]=r.key?(...i)=>{const o=r.fn(...i);return o&&(o.key=r.key),o}:r.fn)}return e}function bt(e,t,n={},r,i){if(Vo.ce||Vo.parent&&Fg(Vo.parent)&&Vo.parent.ce)return t!=="default"&&(n.name=t),X(),Rt(Nn,null,[Fe("slot",n,r&&r())],64);let o=e[t];o&&o._c&&(o._d=!1),X();const s=o&&yG(o(n)),u=n.key||s&&s.key,a=Rt(Nn,{key:(u&&!hc(u)?u:`_${t}`)+(!s&&r?"_fb":"")},s||(r?r():[]),s&&e._===1?64:-2);return a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function yG(e){return e.some(t=>fa(t)?!(t.type===Io||t.type===Nn&&!yG(t.children)):!0)?e:null}function Poe(e,t){const n={};for(const r in e)n[Lb(r)]=e[r];return n}const kA=e=>e?FG(e)?YC(e):kA(e.parent):null,zb=po(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>kA(e.parent),$root:e=>kA(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>VP(e),$forceUpdate:e=>e.f||(e.f=()=>{DP(e.update)}),$nextTick:e=>e.n||(e.n=Fn.bind(e.proxy)),$watch:e=>Joe.bind(e)}),l5=(e,t)=>e!==Ra&&!e.__isScriptSetup&&mi(e,t),Loe={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:u,appContext:a}=e;let h;if(t[0]!=="$"){const b=s[t];if(b!==void 0)switch(b){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return o[t]}else{if(l5(r,t))return s[t]=1,r[t];if(i!==Ra&&mi(i,t))return s[t]=2,i[t];if((h=e.propsOptions[0])&&mi(h,t))return s[t]=3,o[t];if(n!==Ra&&mi(n,t))return s[t]=4,n[t];PA&&(s[t]=0)}}const m=zb[t];let v,_;if(m)return t==="$attrs"&&ps(e.attrs,"get",""),m(e);if((v=u.__cssModules)&&(v=v[t]))return v;if(n!==Ra&&mi(n,t))return s[t]=4,n[t];if(_=a.config.globalProperties,mi(_,t))return _[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:o}=e;return l5(i,t)?(i[t]=n,!0):r!==Ra&&mi(r,t)?(r[t]=n,!0):mi(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let u;return!!n[s]||e!==Ra&&mi(e,s)||l5(t,s)||(u=o[0])&&mi(u,s)||mi(r,s)||mi(zb,s)||mi(i.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:mi(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function yo(){return bG().slots}function jl(){return bG().attrs}function bG(){const e=Mr();return e.setupContext||(e.setupContext=$G(e))}function AB(e){return Tn(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let PA=!0;function Roe(e){const t=VP(e),n=e.proxy,r=e.ctx;PA=!1,t.beforeCreate&&IB(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:s,watch:u,provide:a,inject:h,created:m,beforeMount:v,mounted:_,beforeUpdate:b,updated:T,activated:M,deactivated:E,beforeDestroy:k,beforeUnmount:z,destroyed:B,unmounted:U,render:W,renderTracked:q,renderTriggered:Q,errorCaptured:te,serverPrefetch:ie,expose:ae,inheritAttrs:re,components:se,directives:be,filters:Ie}=t;if(h&&Doe(h,r,null),s)for(const Le in s){const Ee=s[Le];tr(Ee)&&(r[Le]=Ee.bind(n))}if(i){const Le=i.call(n,n);Ar(Le)&&(e.data=Ci(Le))}if(PA=!0,o)for(const Le in o){const Ee=o[Le],_e=tr(Ee)?Ee.bind(n,n):tr(Ee.get)?Ee.get.bind(n,n):Gi,xe=!tr(Ee)&&tr(Ee.set)?Ee.set.bind(n):Gi,Be=le({get:_e,set:xe});Object.defineProperty(r,Le,{enumerable:!0,configurable:!0,get:()=>Be.value,set:Je=>Be.value=Je})}if(u)for(const Le in u)xG(u[Le],r,n,Le);if(a){const Le=tr(a)?a.call(n):a;Reflect.ownKeys(Le).forEach(Ee=>{Rr(Ee,Le[Ee])})}m&&IB(m,e,"c");function me(Le,Ee){Tn(Ee)?Ee.forEach(_e=>Le(_e.bind(n))):Ee&&Le(Ee.bind(n))}if(me(M_,v),me(br,_),me(FP,b),me(ud,T),me(BP,M),me(vG,E),me(Ioe,te),me(Aoe,q),me(Eoe,Q),me(Di,z),me(vh,U),me(Moe,ie),Tn(ae))if(ae.length){const Le=e.exposed||(e.exposed={});ae.forEach(Ee=>{Object.defineProperty(Le,Ee,{get:()=>n[Ee],set:_e=>n[Ee]=_e})})}else e.exposed||(e.exposed={});W&&e.render===Gi&&(e.render=W),re!=null&&(e.inheritAttrs=re),se&&(e.components=se),be&&(e.directives=be),ie&&mG(e)}function Doe(e,t,n=Gi){Tn(e)&&(e=LA(e));for(const r in e){const i=e[r];let o;Ar(i)?"default"in i?o=An(i.from||r,i.default,!0):o=An(i.from||r):o=An(i),ra(o)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):t[r]=o}}function IB(e,t,n){fc(Tn(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function xG(e,t,n,r){let i=r.includes(".")?RG(n,r):()=>n[r];if(Qn(e)){const o=t[e];tr(o)&&Wt(i,o)}else if(tr(e))Wt(i,e.bind(n));else if(Ar(e))if(Tn(e))e.forEach(o=>xG(o,t,n,r));else{const o=tr(e.handler)?e.handler.bind(n):t[e.handler];tr(o)&&Wt(i,o,e)}}function VP(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,u=o.get(t);let a;return u?a=u:!i.length&&!n&&!r?a=t:(a={},i.length&&i.forEach(h=>IS(a,h,s,!0)),IS(a,t,s)),Ar(t)&&o.set(t,a),a}function IS(e,t,n,r=!1){const{mixins:i,extends:o}=t;o&&IS(e,o,n,!0),i&&i.forEach(s=>IS(e,s,n,!0));for(const s in t)if(!(r&&s==="expose")){const u=Ooe[s]||n&&n[s];e[s]=u?u(e[s],t[s]):t[s]}return e}const Ooe={data:kB,props:PB,emits:PB,methods:gb,computed:gb,beforeCreate:Ds,created:Ds,beforeMount:Ds,mounted:Ds,beforeUpdate:Ds,updated:Ds,beforeDestroy:Ds,beforeUnmount:Ds,destroyed:Ds,unmounted:Ds,activated:Ds,deactivated:Ds,errorCaptured:Ds,serverPrefetch:Ds,components:gb,directives:gb,watch:Boe,provide:kB,inject:zoe};function kB(e,t){return t?e?function(){return po(tr(e)?e.call(this,this):e,tr(t)?t.call(this,this):t)}:t:e}function zoe(e,t){return gb(LA(e),LA(t))}function LA(e){if(Tn(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ds(e,t){return e?[...new Set([].concat(e,t))]:t}function gb(e,t){return e?po(Object.create(null),e,t):t}function PB(e,t){return e?Tn(e)&&Tn(t)?[...new Set([...e,...t])]:po(Object.create(null),AB(e),AB(t??{})):t}function Boe(e,t){if(!e)return t;if(!t)return e;const n=po(Object.create(null),e);for(const r in t)n[r]=Ds(e[r],t[r]);return n}function wG(){return{app:null,config:{isNativeTag:Iae,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Foe=0;function Noe(e,t){return function(r,i=null){tr(r)||(r=po({},r)),i!=null&&!Ar(i)&&(i=null);const o=wG(),s=new WeakSet,u=[];let a=!1;const h=o.app={_uid:Foe++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:vse,get config(){return o.config},set config(m){},use(m,...v){return s.has(m)||(m&&tr(m.install)?(s.add(m),m.install(h,...v)):tr(m)&&(s.add(m),m(h,...v))),h},mixin(m){return o.mixins.includes(m)||o.mixins.push(m),h},component(m,v){return v?(o.components[m]=v,h):o.components[m]},directive(m,v){return v?(o.directives[m]=v,h):o.directives[m]},mount(m,v,_){if(!a){const b=h._ceVNode||Fe(r,i);return b.appContext=o,_===!0?_="svg":_===!1&&(_=void 0),v&&t?t(b,m):e(b,m,_),a=!0,h._container=m,m.__vue_app__=h,YC(b.component)}},onUnmount(m){u.push(m)},unmount(){a&&(fc(u,h._instance,16),e(null,h._container),delete h._container.__vue_app__)},provide(m,v){return o.provides[m]=v,h},runWithContext(m){const v=Ng;Ng=h;try{return m()}finally{Ng=v}}};return h}}let Ng=null;function Rr(e,t){if(Qo){let n=Qo.provides;const r=Qo.parent&&Qo.parent.provides;r===n&&(n=Qo.provides=Object.create(r)),n[e]=t}}function An(e,t,n=!1){const r=Qo||Vo;if(r||Ng){const i=Ng?Ng._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&tr(t)?t.call(r&&r.proxy):t}}const SG={},CG=()=>Object.create(SG),TG=e=>Object.getPrototypeOf(e)===SG;function $oe(e,t,n,r=!1){const i={},o=CG();e.propsDefaults=Object.create(null),MG(e,t,i,o);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);n?e.props=r?i:LP(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function Voe(e,t,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=e,u=Bi(i),[a]=e.propsOptions;let h=!1;if((r||s>0)&&!(s&16)){if(s&8){const m=e.vnode.dynamicProps;for(let v=0;v<m.length;v++){let _=m[v];if(KC(e.emitsOptions,_))continue;const b=t[_];if(a)if(mi(o,_))b!==o[_]&&(o[_]=b,h=!0);else{const T=pl(_);i[T]=RA(a,u,T,b,e,!1)}else b!==o[_]&&(o[_]=b,h=!0)}}}else{MG(e,t,i,o)&&(h=!0);let m;for(const v in u)(!t||!mi(t,v)&&((m=ph(v))===v||!mi(t,m)))&&(a?n&&(n[v]!==void 0||n[m]!==void 0)&&(i[v]=RA(a,u,v,void 0,e,!0)):delete i[v]);if(o!==u)for(const v in o)(!t||!mi(t,v))&&(delete o[v],h=!0)}h&&Kd(e.attrs,"set","")}function MG(e,t,n,r){const[i,o]=e.propsOptions;let s=!1,u;if(t)for(let a in t){if(Pb(a))continue;const h=t[a];let m;i&&mi(i,m=pl(a))?!o||!o.includes(m)?n[m]=h:(u||(u={}))[m]=h:KC(e.emitsOptions,a)||(!(a in r)||h!==r[a])&&(r[a]=h,s=!0)}if(o){const a=Bi(n),h=u||Ra;for(let m=0;m<o.length;m++){const v=o[m];n[v]=RA(i,a,v,h[v],e,!mi(h,v))}}return s}function RA(e,t,n,r,i,o){const s=e[n];if(s!=null){const u=mi(s,"default");if(u&&r===void 0){const a=s.default;if(s.type!==Function&&!s.skipFactory&&tr(a)){const{propsDefaults:h}=i;if(n in h)r=h[n];else{const m=iw(i);r=h[n]=a.call(null,t),m()}}else r=a;i.ce&&i.ce._setProp(n,r)}s[0]&&(o&&!u?r=!1:s[1]&&(r===""||r===ph(n))&&(r=!0))}return r}const Hoe=new WeakMap;function EG(e,t,n=!1){const r=n?Hoe:t.propsCache,i=r.get(e);if(i)return i;const o=e.props,s={},u=[];let a=!1;if(!tr(e)){const m=v=>{a=!0;const[_,b]=EG(v,t,!0);po(s,_),b&&u.push(...b)};!n&&t.mixins.length&&t.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}if(!o&&!a)return Ar(e)&&r.set(e,Dg),Dg;if(Tn(o))for(let m=0;m<o.length;m++){const v=pl(o[m]);LB(v)&&(s[v]=Ra)}else if(o)for(const m in o){const v=pl(m);if(LB(v)){const _=o[m],b=s[v]=Tn(_)||tr(_)?{type:_}:po({},_),T=b.type;let M=!1,E=!0;if(Tn(T))for(let k=0;k<T.length;++k){const z=T[k],B=tr(z)&&z.name;if(B==="Boolean"){M=!0;break}else B==="String"&&(E=!1)}else M=tr(T)&&T.name==="Boolean";b[0]=M,b[1]=E,(M||mi(b,"default"))&&u.push(v)}}const h=[s,u];return Ar(e)&&r.set(e,h),h}function LB(e){return e[0]!=="$"&&!Pb(e)}const AG=e=>e[0]==="_"||e==="$stable",HP=e=>Tn(e)?e.map(qc):[qc(e)],Uoe=(e,t,n)=>{if(t._n)return t;const r=tt((...i)=>HP(t(...i)),n);return r._c=!1,r},IG=(e,t,n)=>{const r=e._ctx;for(const i in e){if(AG(i))continue;const o=e[i];if(tr(o))t[i]=Uoe(i,o,r);else if(o!=null){const s=HP(o);t[i]=()=>s}}},kG=(e,t)=>{const n=HP(t);e.slots.default=()=>n},PG=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},joe=(e,t,n)=>{const r=e.slots=CG();if(e.vnode.shapeFlag&32){const i=t._;i?(PG(r,t,n),n&&Pj(r,"_",i,!0)):IG(t,r)}else t&&kG(e,t)},Goe=(e,t,n)=>{const{vnode:r,slots:i}=e;let o=!0,s=Ra;if(r.shapeFlag&32){const u=t._;u?n&&u===1?o=!1:PG(i,t,n):(o=!t.$stable,IG(t,i)),s=t}else t&&(kG(e,t),s={default:1});if(o)for(const u in i)!AG(u)&&s[u]==null&&delete i[u]},rl=ase;function Woe(e){return qoe(e)}function qoe(e,t){const n=$C();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:u,createComment:a,setText:h,setElementText:m,parentNode:v,nextSibling:_,setScopeId:b=Gi,insertStaticContent:T}=e,M=(Ne,et,Ze,nn=null,It=null,Ft=null,zt=void 0,tn=null,fn=!!et.dynamicChildren)=>{if(Ne===et)return;Ne&&!Nm(Ne,et)&&(nn=je(Ne),Je(Ne,It,Ft,!0),Ne=null),et.patchFlag===-2&&(fn=!1,et.dynamicChildren=null);const{type:hn,ref:Dn,shapeFlag:ln}=et;switch(hn){case E_:E(Ne,et,Ze,nn);break;case Io:k(Ne,et,Ze,nn);break;case d5:Ne==null&&z(et,Ze,nn,zt);break;case Nn:se(Ne,et,Ze,nn,It,Ft,zt,tn,fn);break;default:ln&1?W(Ne,et,Ze,nn,It,Ft,zt,tn,fn):ln&6?be(Ne,et,Ze,nn,It,Ft,zt,tn,fn):(ln&64||ln&128)&&hn.process(Ne,et,Ze,nn,It,Ft,zt,tn,fn,Vt)}Dn!=null&&It&&IA(Dn,Ne&&Ne.ref,Ft,et||Ne,!et)},E=(Ne,et,Ze,nn)=>{if(Ne==null)r(et.el=u(et.children),Ze,nn);else{const It=et.el=Ne.el;et.children!==Ne.children&&h(It,et.children)}},k=(Ne,et,Ze,nn)=>{Ne==null?r(et.el=a(et.children||""),Ze,nn):et.el=Ne.el},z=(Ne,et,Ze,nn)=>{[Ne.el,Ne.anchor]=T(Ne.children,et,Ze,nn,Ne.el,Ne.anchor)},B=({el:Ne,anchor:et},Ze,nn)=>{let It;for(;Ne&&Ne!==et;)It=_(Ne),r(Ne,Ze,nn),Ne=It;r(et,Ze,nn)},U=({el:Ne,anchor:et})=>{let Ze;for(;Ne&&Ne!==et;)Ze=_(Ne),i(Ne),Ne=Ze;i(et)},W=(Ne,et,Ze,nn,It,Ft,zt,tn,fn)=>{et.type==="svg"?zt="svg":et.type==="math"&&(zt="mathml"),Ne==null?q(et,Ze,nn,It,Ft,zt,tn,fn):ie(Ne,et,It,Ft,zt,tn,fn)},q=(Ne,et,Ze,nn,It,Ft,zt,tn)=>{let fn,hn;const{props:Dn,shapeFlag:ln,transition:St,dirs:Pn}=Ne;if(fn=Ne.el=s(Ne.type,Ft,Dn&&Dn.is,Dn),ln&8?m(fn,Ne.children):ln&16&&te(Ne.children,fn,null,nn,It,u5(Ne,Ft),zt,tn),Pn&&dm(Ne,null,nn,"created"),Q(fn,Ne,Ne.scopeId,zt,nn),Dn){for(const cr in Dn)cr!=="value"&&!Pb(cr)&&o(fn,cr,null,Dn[cr],Ft,nn);"value"in Dn&&o(fn,"value",null,Dn.value,Ft),(hn=Dn.onVnodeBeforeMount)&&$c(hn,nn,Ne)}Pn&&dm(Ne,null,nn,"beforeMount");const rr=Koe(It,St);rr&&St.beforeEnter(fn),r(fn,et,Ze),((hn=Dn&&Dn.onVnodeMounted)||rr||Pn)&&rl(()=>{hn&&$c(hn,nn,Ne),rr&&St.enter(fn),Pn&&dm(Ne,null,nn,"mounted")},It)},Q=(Ne,et,Ze,nn,It)=>{if(Ze&&b(Ne,Ze),nn)for(let Ft=0;Ft<nn.length;Ft++)b(Ne,nn[Ft]);if(It){let Ft=It.subTree;if(et===Ft||OG(Ft.type)&&(Ft.ssContent===et||Ft.ssFallback===et)){const zt=It.vnode;Q(Ne,zt,zt.scopeId,zt.slotScopeIds,It.parent)}}},te=(Ne,et,Ze,nn,It,Ft,zt,tn,fn=0)=>{for(let hn=fn;hn<Ne.length;hn++){const Dn=Ne[hn]=tn?Nf(Ne[hn]):qc(Ne[hn]);M(null,Dn,et,Ze,nn,It,Ft,zt,tn)}},ie=(Ne,et,Ze,nn,It,Ft,zt)=>{const tn=et.el=Ne.el;let{patchFlag:fn,dynamicChildren:hn,dirs:Dn}=et;fn|=Ne.patchFlag&16;const ln=Ne.props||Ra,St=et.props||Ra;let Pn;if(Ze&&hm(Ze,!1),(Pn=St.onVnodeBeforeUpdate)&&$c(Pn,Ze,et,Ne),Dn&&dm(et,Ne,Ze,"beforeUpdate"),Ze&&hm(Ze,!0),(ln.innerHTML&&St.innerHTML==null||ln.textContent&&St.textContent==null)&&m(tn,""),hn?ae(Ne.dynamicChildren,hn,tn,Ze,nn,u5(et,It),Ft):zt||Ee(Ne,et,tn,null,Ze,nn,u5(et,It),Ft,!1),fn>0){if(fn&16)re(tn,ln,St,Ze,It);else if(fn&2&&ln.class!==St.class&&o(tn,"class",null,St.class,It),fn&4&&o(tn,"style",ln.style,St.style,It),fn&8){const rr=et.dynamicProps;for(let cr=0;cr<rr.length;cr++){const sr=rr[cr],Xr=ln[sr],wi=St[sr];(wi!==Xr||sr==="value")&&o(tn,sr,Xr,wi,It,Ze)}}fn&1&&Ne.children!==et.children&&m(tn,et.children)}else!zt&&hn==null&&re(tn,ln,St,Ze,It);((Pn=St.onVnodeUpdated)||Dn)&&rl(()=>{Pn&&$c(Pn,Ze,et,Ne),Dn&&dm(et,Ne,Ze,"updated")},nn)},ae=(Ne,et,Ze,nn,It,Ft,zt)=>{for(let tn=0;tn<et.length;tn++){const fn=Ne[tn],hn=et[tn],Dn=fn.el&&(fn.type===Nn||!Nm(fn,hn)||fn.shapeFlag&70)?v(fn.el):Ze;M(fn,hn,Dn,null,nn,It,Ft,zt,!0)}},re=(Ne,et,Ze,nn,It)=>{if(et!==Ze){if(et!==Ra)for(const Ft in et)!Pb(Ft)&&!(Ft in Ze)&&o(Ne,Ft,et[Ft],null,It,nn);for(const Ft in Ze){if(Pb(Ft))continue;const zt=Ze[Ft],tn=et[Ft];zt!==tn&&Ft!=="value"&&o(Ne,Ft,tn,zt,It,nn)}"value"in Ze&&o(Ne,"value",et.value,Ze.value,It)}},se=(Ne,et,Ze,nn,It,Ft,zt,tn,fn)=>{const hn=et.el=Ne?Ne.el:u(""),Dn=et.anchor=Ne?Ne.anchor:u("");let{patchFlag:ln,dynamicChildren:St,slotScopeIds:Pn}=et;Pn&&(tn=tn?tn.concat(Pn):Pn),Ne==null?(r(hn,Ze,nn),r(Dn,Ze,nn),te(et.children||[],Ze,Dn,It,Ft,zt,tn,fn)):ln>0&&ln&64&&St&&Ne.dynamicChildren?(ae(Ne.dynamicChildren,St,Ze,It,Ft,zt,tn),(et.key!=null||It&&et===It.subTree)&&UP(Ne,et,!0)):Ee(Ne,et,Ze,Dn,It,Ft,zt,tn,fn)},be=(Ne,et,Ze,nn,It,Ft,zt,tn,fn)=>{et.slotScopeIds=tn,Ne==null?et.shapeFlag&512?It.ctx.activate(et,Ze,nn,zt,fn):Ie(et,Ze,nn,It,Ft,zt,fn):Se(Ne,et,fn)},Ie=(Ne,et,Ze,nn,It,Ft,zt)=>{const tn=Ne.component=cse(Ne,nn,It);if(GC(Ne)&&(tn.ctx.renderer=Vt),dse(tn,!1,zt),tn.asyncDep){if(It&&It.registerDep(tn,me,zt),!Ne.el){const fn=tn.subTree=Fe(Io);k(null,fn,et,Ze)}}else me(tn,Ne,et,Ze,It,Ft,zt)},Se=(Ne,et,Ze)=>{const nn=et.component=Ne.component;if(rse(Ne,et,Ze))if(nn.asyncDep&&!nn.asyncResolved){Le(nn,et,Ze);return}else nn.next=et,nn.update();else et.el=Ne.el,nn.vnode=et},me=(Ne,et,Ze,nn,It,Ft,zt)=>{const tn=()=>{if(Ne.isMounted){let{next:ln,bu:St,u:Pn,parent:rr,vnode:cr}=Ne;{const yn=LG(Ne);if(yn){ln&&(ln.el=cr.el,Le(Ne,ln,zt)),yn.asyncDep.then(()=>{Ne.isUnmounted||tn()});return}}let sr=ln,Xr;hm(Ne,!1),ln?(ln.el=cr.el,Le(Ne,ln,zt)):ln=cr,St&&L3(St),(Xr=ln.props&&ln.props.onVnodeBeforeUpdate)&&$c(Xr,rr,ln,cr),hm(Ne,!0);const wi=c5(Ne),Bt=Ne.subTree;Ne.subTree=wi,M(Bt,wi,v(Bt.el),je(Bt),Ne,It,Ft),ln.el=wi.el,sr===null&&ise(Ne,wi.el),Pn&&rl(Pn,It),(Xr=ln.props&&ln.props.onVnodeUpdated)&&rl(()=>$c(Xr,rr,ln,cr),It)}else{let ln;const{el:St,props:Pn}=et,{bm:rr,m:cr,parent:sr,root:Xr,type:wi}=Ne,Bt=Fg(et);if(hm(Ne,!1),rr&&L3(rr),!Bt&&(ln=Pn&&Pn.onVnodeBeforeMount)&&$c(ln,sr,et),hm(Ne,!0),St&&pt){const yn=()=>{Ne.subTree=c5(Ne),pt(St,Ne.subTree,Ne,It,null)};Bt&&wi.__asyncHydrate?wi.__asyncHydrate(St,Ne,yn):yn()}else{Xr.ce&&Xr.ce._injectChildStyle(wi);const yn=Ne.subTree=c5(Ne);M(null,yn,Ze,nn,Ne,It,Ft),et.el=yn.el}if(cr&&rl(cr,It),!Bt&&(ln=Pn&&Pn.onVnodeMounted)){const yn=et;rl(()=>$c(ln,sr,yn),It)}(et.shapeFlag&256||sr&&Fg(sr.vnode)&&sr.vnode.shapeFlag&256)&&Ne.a&&rl(Ne.a,It),Ne.isMounted=!0,et=Ze=nn=null}};Ne.scope.on();const fn=Ne.effect=new Nj(tn);Ne.scope.off();const hn=Ne.update=fn.run.bind(fn),Dn=Ne.job=fn.runIfDirty.bind(fn);Dn.i=Ne,Dn.id=Ne.uid,fn.scheduler=()=>DP(Dn),hm(Ne,!0),hn()},Le=(Ne,et,Ze)=>{et.component=Ne;const nn=Ne.vnode.props;Ne.vnode=et,Ne.next=null,Voe(Ne,et.props,nn,Ze),Goe(Ne,et.children,Ze),gp(),SB(Ne),_p()},Ee=(Ne,et,Ze,nn,It,Ft,zt,tn,fn=!1)=>{const hn=Ne&&Ne.children,Dn=Ne?Ne.shapeFlag:0,ln=et.children,{patchFlag:St,shapeFlag:Pn}=et;if(St>0){if(St&128){xe(hn,ln,Ze,nn,It,Ft,zt,tn,fn);return}else if(St&256){_e(hn,ln,Ze,nn,It,Ft,zt,tn,fn);return}}Pn&8?(Dn&16&&Dt(hn,It,Ft),ln!==hn&&m(Ze,ln)):Dn&16?Pn&16?xe(hn,ln,Ze,nn,It,Ft,zt,tn,fn):Dt(hn,It,Ft,!0):(Dn&8&&m(Ze,""),Pn&16&&te(ln,Ze,nn,It,Ft,zt,tn,fn))},_e=(Ne,et,Ze,nn,It,Ft,zt,tn,fn)=>{Ne=Ne||Dg,et=et||Dg;const hn=Ne.length,Dn=et.length,ln=Math.min(hn,Dn);let St;for(St=0;St<ln;St++){const Pn=et[St]=fn?Nf(et[St]):qc(et[St]);M(Ne[St],Pn,Ze,null,It,Ft,zt,tn,fn)}hn>Dn?Dt(Ne,It,Ft,!0,!1,ln):te(et,Ze,nn,It,Ft,zt,tn,fn,ln)},xe=(Ne,et,Ze,nn,It,Ft,zt,tn,fn)=>{let hn=0;const Dn=et.length;let ln=Ne.length-1,St=Dn-1;for(;hn<=ln&&hn<=St;){const Pn=Ne[hn],rr=et[hn]=fn?Nf(et[hn]):qc(et[hn]);if(Nm(Pn,rr))M(Pn,rr,Ze,null,It,Ft,zt,tn,fn);else break;hn++}for(;hn<=ln&&hn<=St;){const Pn=Ne[ln],rr=et[St]=fn?Nf(et[St]):qc(et[St]);if(Nm(Pn,rr))M(Pn,rr,Ze,null,It,Ft,zt,tn,fn);else break;ln--,St--}if(hn>ln){if(hn<=St){const Pn=St+1,rr=Pn<Dn?et[Pn].el:nn;for(;hn<=St;)M(null,et[hn]=fn?Nf(et[hn]):qc(et[hn]),Ze,rr,It,Ft,zt,tn,fn),hn++}}else if(hn>St)for(;hn<=ln;)Je(Ne[hn],It,Ft,!0),hn++;else{const Pn=hn,rr=hn,cr=new Map;for(hn=rr;hn<=St;hn++){const Xt=et[hn]=fn?Nf(et[hn]):qc(et[hn]);Xt.key!=null&&cr.set(Xt.key,hn)}let sr,Xr=0;const wi=St-rr+1;let Bt=!1,yn=0;const ht=new Array(wi);for(hn=0;hn<wi;hn++)ht[hn]=0;for(hn=Pn;hn<=ln;hn++){const Xt=Ne[hn];if(Xr>=wi){Je(Xt,It,Ft,!0);continue}let qn;if(Xt.key!=null)qn=cr.get(Xt.key);else for(sr=rr;sr<=St;sr++)if(ht[sr-rr]===0&&Nm(Xt,et[sr])){qn=sr;break}qn===void 0?Je(Xt,It,Ft,!0):(ht[qn-rr]=hn+1,qn>=yn?yn=qn:Bt=!0,M(Xt,et[qn],Ze,null,It,Ft,zt,tn,fn),Xr++)}const Zt=Bt?Yoe(ht):Dg;for(sr=Zt.length-1,hn=wi-1;hn>=0;hn--){const Xt=rr+hn,qn=et[Xt],Qr=Xt+1<Dn?et[Xt+1].el:nn;ht[hn]===0?M(null,qn,Ze,Qr,It,Ft,zt,tn,fn):Bt&&(sr<0||hn!==Zt[sr]?Be(qn,Ze,Qr,2):sr--)}}},Be=(Ne,et,Ze,nn,It=null)=>{const{el:Ft,type:zt,transition:tn,children:fn,shapeFlag:hn}=Ne;if(hn&6){Be(Ne.component.subTree,et,Ze,nn);return}if(hn&128){Ne.suspense.move(et,Ze,nn);return}if(hn&64){zt.move(Ne,et,Ze,Vt);return}if(zt===Nn){r(Ft,et,Ze);for(let ln=0;ln<fn.length;ln++)Be(fn[ln],et,Ze,nn);r(Ne.anchor,et,Ze);return}if(zt===d5){B(Ne,et,Ze);return}if(nn!==2&&hn&1&&tn)if(nn===0)tn.beforeEnter(Ft),r(Ft,et,Ze),rl(()=>tn.enter(Ft),It);else{const{leave:ln,delayLeave:St,afterLeave:Pn}=tn,rr=()=>r(Ft,et,Ze),cr=()=>{ln(Ft,()=>{rr(),Pn&&Pn()})};St?St(Ft,rr,cr):cr()}else r(Ft,et,Ze)},Je=(Ne,et,Ze,nn=!1,It=!1)=>{const{type:Ft,props:zt,ref:tn,children:fn,dynamicChildren:hn,shapeFlag:Dn,patchFlag:ln,dirs:St,cacheIndex:Pn}=Ne;if(ln===-2&&(It=!1),tn!=null&&IA(tn,null,Ze,Ne,!0),Pn!=null&&(et.renderCache[Pn]=void 0),Dn&256){et.ctx.deactivate(Ne);return}const rr=Dn&1&&St,cr=!Fg(Ne);let sr;if(cr&&(sr=zt&&zt.onVnodeBeforeUnmount)&&$c(sr,et,Ne),Dn&6)Nt(Ne.component,Ze,nn);else{if(Dn&128){Ne.suspense.unmount(Ze,nn);return}rr&&dm(Ne,null,et,"beforeUnmount"),Dn&64?Ne.type.remove(Ne,et,Ze,Vt,nn):hn&&!hn.hasOnce&&(Ft!==Nn||ln>0&&ln&64)?Dt(hn,et,Ze,!1,!0):(Ft===Nn&&ln&384||!It&&Dn&16)&&Dt(fn,et,Ze),nn&&Ye(Ne)}(cr&&(sr=zt&&zt.onVnodeUnmounted)||rr)&&rl(()=>{sr&&$c(sr,et,Ne),rr&&dm(Ne,null,et,"unmounted")},Ze)},Ye=Ne=>{const{type:et,el:Ze,anchor:nn,transition:It}=Ne;if(et===Nn){lt(Ze,nn);return}if(et===d5){U(Ne);return}const Ft=()=>{i(Ze),It&&!It.persisted&&It.afterLeave&&It.afterLeave()};if(Ne.shapeFlag&1&&It&&!It.persisted){const{leave:zt,delayLeave:tn}=It,fn=()=>zt(Ze,Ft);tn?tn(Ne.el,Ft,fn):fn()}else Ft()},lt=(Ne,et)=>{let Ze;for(;Ne!==et;)Ze=_(Ne),i(Ne),Ne=Ze;i(et)},Nt=(Ne,et,Ze)=>{const{bum:nn,scope:It,job:Ft,subTree:zt,um:tn,m:fn,a:hn}=Ne;RB(fn),RB(hn),nn&&L3(nn),It.stop(),Ft&&(Ft.flags|=8,Je(zt,Ne,et,Ze)),tn&&rl(tn,et),rl(()=>{Ne.isUnmounted=!0},et),et&&et.pendingBranch&&!et.isUnmounted&&Ne.asyncDep&&!Ne.asyncResolved&&Ne.suspenseId===et.pendingId&&(et.deps--,et.deps===0&&et.resolve())},Dt=(Ne,et,Ze,nn=!1,It=!1,Ft=0)=>{for(let zt=Ft;zt<Ne.length;zt++)Je(Ne[zt],et,Ze,nn,It)},je=Ne=>{if(Ne.shapeFlag&6)return je(Ne.component.subTree);if(Ne.shapeFlag&128)return Ne.suspense.next();const et=_(Ne.anchor||Ne.el),Ze=et&&et[sG];return Ze?_(Ze):et};let Ct=!1;const vt=(Ne,et,Ze)=>{Ne==null?et._vnode&&Je(et._vnode,null,null,!0):M(et._vnode||null,Ne,et,null,null,null,Ze),et._vnode=Ne,Ct||(Ct=!0,SB(),iG(),Ct=!1)},Vt={p:M,um:Je,m:Be,r:Ye,mt:Ie,mc:te,pc:Ee,pbc:ae,n:je,o:e};let Re,pt;return{render:vt,hydrate:Re,createApp:Noe(vt,Re)}}function u5({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function hm({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Koe(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function UP(e,t,n=!1){const r=e.children,i=t.children;if(Tn(r)&&Tn(i))for(let o=0;o<r.length;o++){const s=r[o];let u=i[o];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=i[o]=Nf(i[o]),u.el=s.el),!n&&u.patchFlag!==-2&&UP(s,u)),u.type===E_&&(u.el=s.el)}}function Yoe(e){const t=e.slice(),n=[0];let r,i,o,s,u;const a=e.length;for(r=0;r<a;r++){const h=e[r];if(h!==0){if(i=n[n.length-1],e[i]<h){t[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)u=o+s>>1,e[n[u]]<h?o=u+1:s=u;h<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=t[s];return n}function LG(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:LG(t)}function RB(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Zoe=Symbol.for("v-scx"),Xoe=()=>An(Zoe);function ko(e,t){return jP(e,null,t)}function Wt(e,t,n){return jP(e,t,n)}function jP(e,t,n=Ra){const{immediate:r,deep:i,flush:o,once:s}=n,u=po({},n),a=t&&r||!t&&o!=="post";let h;if(ux){if(o==="sync"){const b=Xoe();h=b.__watcherHandles||(b.__watcherHandles=[])}else if(!a){const b=()=>{};return b.stop=Gi,b.resume=Gi,b.pause=Gi,b}}const m=Qo;u.call=(b,T,M)=>fc(b,m,T,M);let v=!1;o==="post"?u.scheduler=b=>{rl(b,m&&m.suspense)}:o!=="sync"&&(v=!0,u.scheduler=(b,T)=>{T?b():DP(b)}),u.augmentJob=b=>{t&&(b.flags|=4),v&&(b.flags|=2,m&&(b.id=m.uid,b.i=m))};const _=voe(e,t,u);return ux&&(h?h.push(_):a&&_()),_}function Joe(e,t,n){const r=this.proxy,i=Qn(e)?e.includes(".")?RG(r,e):()=>r[e]:e.bind(r,r);let o;tr(t)?o=t:(o=t.handler,n=t);const s=iw(this),u=jP(i,o.bind(r),n);return s(),u}function RG(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const Qoe=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${pl(t)}Modifiers`]||e[`${ph(t)}Modifiers`];function ese(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Ra;let i=n;const o=t.startsWith("update:"),s=o&&Qoe(r,t.slice(7));s&&(s.trim&&(i=n.map(m=>Qn(m)?m.trim():m)),s.number&&(i=n.map(SA)));let u,a=r[u=Lb(t)]||r[u=Lb(pl(t))];!a&&o&&(a=r[u=Lb(ph(t))]),a&&fc(a,e,6,i);const h=r[u+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,fc(h,e,6,i)}}function DG(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const o=e.emits;let s={},u=!1;if(!tr(e)){const a=h=>{const m=DG(h,t,!0);m&&(u=!0,po(s,m))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!o&&!u?(Ar(e)&&r.set(e,null),null):(Tn(o)?o.forEach(a=>s[a]=null):po(s,o),Ar(e)&&r.set(e,s),s)}function KC(e,t){return!e||!BC(t)?!1:(t=t.slice(2).replace(/Once$/,""),mi(e,t[0].toLowerCase()+t.slice(1))||mi(e,ph(t))||mi(e,t))}function c5(e){const{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[o],slots:s,attrs:u,emit:a,render:h,renderCache:m,props:v,data:_,setupState:b,ctx:T,inheritAttrs:M}=e,E=AS(e);let k,z;try{if(n.shapeFlag&4){const U=i||r,W=U;k=qc(h.call(W,U,m,v,b,_,T)),z=u}else{const U=t;k=qc(U.length>1?U(v,{attrs:u,slots:s,emit:a}):U(v,null)),z=t.props?u:tse(u)}}catch(U){Bb.length=0,jC(U,e,1),k=Fe(Io)}let B=k;if(z&&M!==!1){const U=Object.keys(z),{shapeFlag:W}=B;U.length&&W&7&&(o&&U.some(TP)&&(z=nse(z,o)),B=oh(B,z,!1,!0))}return n.dirs&&(B=oh(B,null,!1,!0),B.dirs=B.dirs?B.dirs.concat(n.dirs):n.dirs),n.transition&&c0(B,n.transition),k=B,AS(E),k}const tse=e=>{let t;for(const n in e)(n==="class"||n==="style"||BC(n))&&((t||(t={}))[n]=e[n]);return t},nse=(e,t)=>{const n={};for(const r in e)(!TP(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function rse(e,t,n){const{props:r,children:i,component:o}=e,{props:s,children:u,patchFlag:a}=t,h=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return r?DB(r,s,h):!!s;if(a&8){const m=t.dynamicProps;for(let v=0;v<m.length;v++){const _=m[v];if(s[_]!==r[_]&&!KC(h,_))return!0}}}else return(i||u)&&(!u||!u.$stable)?!0:r===s?!1:r?s?DB(r,s,h):!0:!!s;return!1}function DB(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!KC(n,o))return!0}return!1}function ise({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const OG=e=>e.__isSuspense;function ase(e,t){t&&t.pendingBranch?Tn(e)?t.effects.push(...e):t.effects.push(e):yoe(e)}const Nn=Symbol.for("v-fgt"),E_=Symbol.for("v-txt"),Io=Symbol.for("v-cmt"),d5=Symbol.for("v-stc"),Bb=[];let zl=null;function X(e=!1){Bb.push(zl=e?null:[])}function ose(){Bb.pop(),zl=Bb[Bb.length-1]||null}let lx=1;function OB(e){lx+=e,e<0&&zl&&(zl.hasOnce=!0)}function zG(e){return e.dynamicChildren=lx>0?zl||Dg:null,ose(),lx>0&&zl&&zl.push(e),e}function pe(e,t,n,r,i,o){return zG(ue(e,t,n,r,i,o,!0))}function Rt(e,t,n,r,i){return zG(Fe(e,t,n,r,i,!0))}function fa(e){return e?e.__v_isVNode===!0:!1}function Nm(e,t){return e.type===t.type&&e.key===t.key}const BG=({key:e})=>e??null,D3=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Qn(e)||ra(e)||tr(e)?{i:Vo,r:e,k:t,f:!!n}:e:null);function ue(e,t=null,n=null,r=0,i=null,o=e===Nn?0:1,s=!1,u=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&BG(t),ref:t&&D3(t),scopeId:oG,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Vo};return u?(GP(a,n),o&128&&e.normalize(a)):n&&(a.shapeFlag|=Qn(n)?8:16),lx>0&&!s&&zl&&(a.patchFlag>0||o&6)&&a.patchFlag!==32&&zl.push(a),a}const Fe=sse;function sse(e,t=null,n=null,r=0,i=null,o=!1){if((!e||e===_G)&&(e=Io),fa(e)){const u=oh(e,t,!0);return n&&GP(u,n),lx>0&&!o&&zl&&(u.shapeFlag&6?zl[zl.indexOf(e)]=u:zl.push(u)),u.patchFlag=-2,u}if(mse(e)&&(e=e.__vccOpts),t){t=ap(t);let{class:u,style:a}=t;u&&!Qn(u)&&(t.class=ye(u)),Ar(a)&&(UC(a)&&!Tn(a)&&(a=po({},a)),t.style=Vn(a))}const s=Qn(e)?1:OG(e)?128:lG(e)?64:Ar(e)?4:tr(e)?2:0;return ue(e,t,n,r,i,s,o,!0)}function ap(e){return e?UC(e)||TG(e)?po({},e):e:null}function oh(e,t,n=!1,r=!1){const{props:i,ref:o,patchFlag:s,children:u,transition:a}=e,h=t?Lr(i||{},t):i,m={__v_isVNode:!0,__v_skip:!0,type:e.type,props:h,key:h&&BG(h),ref:t&&t.ref?n&&o?Tn(o)?o.concat(D3(t)):[o,D3(t)]:D3(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Nn?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:a,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&oh(e.ssContent),ssFallback:e.ssFallback&&oh(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return a&&r&&c0(m,a.clone(m)),m}function Br(e=" ",t=0){return Fe(E_,null,e,t)}function wt(e="",t=!1){return t?(X(),Rt(Io,null,e)):Fe(Io,null,e)}function qc(e){return e==null||typeof e=="boolean"?Fe(Io):Tn(e)?Fe(Nn,null,e.slice()):fa(e)?Nf(e):Fe(E_,null,String(e))}function Nf(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:oh(e)}function GP(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Tn(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),GP(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!TG(t)?t._ctx=Vo:i===3&&Vo&&(Vo.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else tr(t)?(t={default:t,_ctx:Vo},n=32):(t=String(t),r&64?(n=16,t=[Br(t)]):n=8);e.children=t,e.shapeFlag|=n}function Lr(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=ye([t.class,r.class]));else if(i==="style")t.style=Vn([t.style,r.style]);else if(BC(i)){const o=t[i],s=r[i];s&&o!==s&&!(Tn(o)&&o.includes(s))&&(t[i]=o?[].concat(o,s):s)}else i!==""&&(t[i]=r[i])}return t}function $c(e,t,n,r=null){fc(e,t,7,[n,r])}const lse=wG();let use=0;function cse(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||lse,o={uid:use++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new zj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:EG(r,i),emitsOptions:DG(r,i),emit:null,emitted:null,propsDefaults:Ra,inheritAttrs:r.inheritAttrs,ctx:Ra,data:Ra,props:Ra,attrs:Ra,slots:Ra,refs:Ra,setupState:Ra,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=ese.bind(null,o),e.ce&&e.ce(o),o}let Qo=null;const Mr=()=>Qo||Vo;let kS,DA;{const e=$C(),t=(n,r)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(r),o=>{i.length>1?i.forEach(s=>s(o)):i[0](o)}};kS=t("__VUE_INSTANCE_SETTERS__",n=>Qo=n),DA=t("__VUE_SSR_SETTERS__",n=>ux=n)}const iw=e=>{const t=Qo;return kS(e),e.scope.on(),()=>{e.scope.off(),kS(t)}},zB=()=>{Qo&&Qo.scope.off(),kS(null)};function FG(e){return e.vnode.shapeFlag&4}let ux=!1;function dse(e,t=!1,n=!1){t&&DA(t);const{props:r,children:i}=e.vnode,o=FG(e);$oe(e,r,o,t),joe(e,i,n);const s=o?hse(e,t):void 0;return t&&DA(!1),s}function hse(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Loe);const{setup:r}=n;if(r){gp();const i=e.setupContext=r.length>1?$G(e):null,o=iw(e),s=rw(r,e,0,[e.props,i]),u=rx(s);if(_p(),o(),(u||e.sp)&&!Fg(e)&&mG(e),u){if(s.then(zB,zB),t)return s.then(a=>{BB(e,a,t)}).catch(a=>{jC(a,e,0)});e.asyncDep=s}else BB(e,s,t)}else NG(e,t)}function BB(e,t,n){tr(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ar(t)&&(e.setupState=eG(t)),NG(e,n)}let FB;function NG(e,t,n){const r=e.type;if(!e.render){if(!t&&FB&&!r.render){const i=r.template||VP(e).template;if(i){const{isCustomElement:o,compilerOptions:s}=e.appContext.config,{delimiters:u,compilerOptions:a}=r,h=po(po({isCustomElement:o,delimiters:u},s),a);r.render=FB(i,h)}}e.render=r.render||Gi}{const i=iw(e);gp();try{Roe(e)}finally{_p(),i()}}}const fse={get(e,t){return ps(e,"get",""),e[t]}};function $G(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,fse),slots:e.slots,emit:e.emit,expose:t}}function YC(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(eG(Zf(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in zb)return zb[n](e)},has(t,n){return n in t||n in zb}})):e.proxy}function pse(e,t=!0){return tr(e)?e.displayName||e.name:e.name||t&&e.__name}function mse(e){return tr(e)&&"__vccOpts"in e}const le=(e,t)=>poe(e,t,ux);function jn(e,t,n){const r=arguments.length;return r===2?Ar(t)&&!Tn(t)?fa(t)?Fe(e,null,[t]):Fe(e,t):Fe(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&fa(n)&&(n=[n]),Fe(e,t,n))}const vse="3.5.12",gse=Gi;/**
* @vue/runtime-dom v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let OA;const NB=typeof window<"u"&&window.trustedTypes;if(NB)try{OA=NB.createPolicy("vue",{createHTML:e=>e})}catch{}const VG=OA?e=>OA.createHTML(e):e=>e,_se="http://www.w3.org/2000/svg",yse="http://www.w3.org/1998/Math/MathML",jd=typeof document<"u"?document:null,$B=jd&&jd.createElement("template"),bse={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t==="svg"?jd.createElementNS(_se,e):t==="mathml"?jd.createElementNS(yse,e):n?jd.createElement(e,{is:n}):jd.createElement(e);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>jd.createTextNode(e),createComment:e=>jd.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>jd.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,o){const s=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{$B.innerHTML=VG(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const u=$B.content;if(r==="svg"||r==="mathml"){const a=u.firstChild;for(;a.firstChild;)u.appendChild(a.firstChild);u.removeChild(a)}t.insertBefore(u,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},_f="transition",F1="animation",e_=Symbol("_vtc"),HG={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},UG=po({},dG,HG),xse=e=>(e.displayName="Transition",e.props=UG,e),Lo=xse((e,{slots:t})=>jn(Coe,jG(e),t)),fm=(e,t=[])=>{Tn(e)?e.forEach(n=>n(...t)):e&&e(...t)},VB=e=>e?Tn(e)?e.some(t=>t.length>1):e.length>1:!1;function jG(e){const t={};for(const se in e)se in HG||(t[se]=e[se]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:u=`${n}-enter-to`,appearFromClass:a=o,appearActiveClass:h=s,appearToClass:m=u,leaveFromClass:v=`${n}-leave-from`,leaveActiveClass:_=`${n}-leave-active`,leaveToClass:b=`${n}-leave-to`}=e,T=wse(i),M=T&&T[0],E=T&&T[1],{onBeforeEnter:k,onEnter:z,onEnterCancelled:B,onLeave:U,onLeaveCancelled:W,onBeforeAppear:q=k,onAppear:Q=z,onAppearCancelled:te=B}=t,ie=(se,be,Ie)=>{Pf(se,be?m:u),Pf(se,be?h:s),Ie&&Ie()},ae=(se,be)=>{se._isLeaving=!1,Pf(se,v),Pf(se,b),Pf(se,_),be&&be()},re=se=>(be,Ie)=>{const Se=se?Q:z,me=()=>ie(be,se,Ie);fm(Se,[be,me]),HB(()=>{Pf(be,se?a:o),Ud(be,se?m:u),VB(Se)||UB(be,r,M,me)})};return po(t,{onBeforeEnter(se){fm(k,[se]),Ud(se,o),Ud(se,s)},onBeforeAppear(se){fm(q,[se]),Ud(se,a),Ud(se,h)},onEnter:re(!1),onAppear:re(!0),onLeave(se,be){se._isLeaving=!0;const Ie=()=>ae(se,be);Ud(se,v),Ud(se,_),WG(),HB(()=>{se._isLeaving&&(Pf(se,v),Ud(se,b),VB(U)||UB(se,r,E,Ie))}),fm(U,[se,Ie])},onEnterCancelled(se){ie(se,!1),fm(B,[se])},onAppearCancelled(se){ie(se,!0),fm(te,[se])},onLeaveCancelled(se){ae(se),fm(W,[se])}})}function wse(e){if(e==null)return null;if(Ar(e))return[h5(e.enter),h5(e.leave)];{const t=h5(e);return[t,t]}}function h5(e){return Rae(e)}function Ud(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[e_]||(e[e_]=new Set)).add(t)}function Pf(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[e_];n&&(n.delete(t),n.size||(e[e_]=void 0))}function HB(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Sse=0;function UB(e,t,n,r){const i=e._endId=++Sse,o=()=>{i===e._endId&&r()};if(n!=null)return setTimeout(o,n);const{type:s,timeout:u,propCount:a}=GG(e,t);if(!s)return r();const h=s+"end";let m=0;const v=()=>{e.removeEventListener(h,_),o()},_=b=>{b.target===e&&++m>=a&&v()};setTimeout(()=>{m<a&&v()},u+1),e.addEventListener(h,_)}function GG(e,t){const n=window.getComputedStyle(e),r=T=>(n[T]||"").split(", "),i=r(`${_f}Delay`),o=r(`${_f}Duration`),s=jB(i,o),u=r(`${F1}Delay`),a=r(`${F1}Duration`),h=jB(u,a);let m=null,v=0,_=0;t===_f?s>0&&(m=_f,v=s,_=o.length):t===F1?h>0&&(m=F1,v=h,_=a.length):(v=Math.max(s,h),m=v>0?s>h?_f:F1:null,_=m?m===_f?o.length:a.length:0);const b=m===_f&&/\b(transform|all)(,|$)/.test(r(`${_f}Property`).toString());return{type:m,timeout:v,propCount:_,hasTransform:b}}function jB(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>GB(n)+GB(e[r])))}function GB(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function WG(){return document.body.offsetHeight}function Cse(e,t,n){const r=e[e_];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const PS=Symbol("_vod"),qG=Symbol("_vsh"),vi={beforeMount(e,{value:t},{transition:n}){e[PS]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):N1(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),N1(e,!0),r.enter(e)):r.leave(e,()=>{N1(e,!1)}):N1(e,t))},beforeUnmount(e,{value:t}){N1(e,t)}};function N1(e,t){e.style.display=t?e[PS]:"none",e[qG]=!t}const Tse=Symbol(""),Mse=/(^|;)\s*display\s*:/;function Ese(e,t,n){const r=e.style,i=Qn(n);let o=!1;if(n&&!i){if(t)if(Qn(t))for(const s of t.split(";")){const u=s.slice(0,s.indexOf(":")).trim();n[u]==null&&O3(r,u,"")}else for(const s in t)n[s]==null&&O3(r,s,"");for(const s in n)s==="display"&&(o=!0),O3(r,s,n[s])}else if(i){if(t!==n){const s=r[Tse];s&&(n+=";"+s),r.cssText=n,o=Mse.test(n)}}else t&&e.removeAttribute("style");PS in e&&(e[PS]=o?r.display:"",e[qG]&&(r.display="none"))}const WB=/\s*!important$/;function O3(e,t,n){if(Tn(n))n.forEach(r=>O3(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Ase(e,t);WB.test(n)?e.setProperty(ph(r),n.replace(WB,""),"important"):e[r]=n}}const qB=["Webkit","Moz","ms"],f5={};function Ase(e,t){const n=f5[t];if(n)return n;let r=pl(t);if(r!=="filter"&&r in e)return f5[t]=r;r=nw(r);for(let i=0;i<qB.length;i++){const o=qB[i]+r;if(o in e)return f5[t]=o}return t}const KB="http://www.w3.org/1999/xlink";function YB(e,t,n,r,i,o=Nae(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(KB,t.slice(6,t.length)):e.setAttributeNS(KB,t,n):n==null||o&&!Lj(n)?e.removeAttribute(t):e.setAttribute(t,o?"":hc(n)?String(n):n)}function ZB(e,t,n,r,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?VG(n):n);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const u=o==="OPTION"?e.getAttribute("value")||"":e.value,a=n==null?e.type==="checkbox"?"on":"":String(n);(u!==a||!("_value"in e))&&(e.value=a),n==null&&e.removeAttribute(t),e._value=n;return}let s=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=Lj(n):n==null&&u==="string"?(n="",s=!0):u==="number"&&(n=0,s=!0)}try{e[t]=n}catch{}s&&e.removeAttribute(i||t)}function Vf(e,t,n,r){e.addEventListener(t,n,r)}function Ise(e,t,n,r){e.removeEventListener(t,n,r)}const XB=Symbol("_vei");function kse(e,t,n,r,i=null){const o=e[XB]||(e[XB]={}),s=o[t];if(r&&s)s.value=r;else{const[u,a]=Pse(t);if(r){const h=o[t]=Dse(r,i);Vf(e,u,h,a)}else s&&(Ise(e,u,s,a),o[t]=void 0)}}const JB=/(?:Once|Passive|Capture)$/;function Pse(e){let t;if(JB.test(e)){t={};let r;for(;r=e.match(JB);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ph(e.slice(2)),t]}let p5=0;const Lse=Promise.resolve(),Rse=()=>p5||(Lse.then(()=>p5=0),p5=Date.now());function Dse(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;fc(Ose(r,n.value),t,5,[r])};return n.value=e,n.attached=Rse(),n}function Ose(e,t){if(Tn(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const QB=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,zse=(e,t,n,r,i,o)=>{const s=i==="svg";t==="class"?Cse(e,r,s):t==="style"?Ese(e,n,r):BC(t)?TP(t)||kse(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Bse(e,t,r,s))?(ZB(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&YB(e,t,r,s,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Qn(r))?ZB(e,pl(t),r,o,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),YB(e,t,r,s))};function Bse(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&QB(t)&&tr(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return QB(t)&&Qn(n)?!1:t in e}const KG=new WeakMap,YG=new WeakMap,LS=Symbol("_moveCb"),eF=Symbol("_enterCb"),Fse=e=>(delete e.props.mode,e),Nse=Fse({name:"TransitionGroup",props:po({},UG,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Mr(),r=cG();let i,o;return ud(()=>{if(!i.length)return;const s=e.moveClass||`${e.name||"v"}-move`;if(!Use(i[0].el,n.vnode.el,s))return;i.forEach($se),i.forEach(Vse);const u=i.filter(Hse);WG(),u.forEach(a=>{const h=a.el,m=h.style;Ud(h,s),m.transform=m.webkitTransform=m.transitionDuration="";const v=h[LS]=_=>{_&&_.target!==h||(!_||/transform$/.test(_.propertyName))&&(h.removeEventListener("transitionend",v),h[LS]=null,Pf(h,s))};h.addEventListener("transitionend",v)})}),()=>{const s=Bi(e),u=jG(s);let a=s.tag||Nn;if(i=[],o)for(let h=0;h<o.length;h++){const m=o[h];m.el&&m.el instanceof Element&&(i.push(m),c0(m,sx(m,u,r,n)),KG.set(m,m.el.getBoundingClientRect()))}o=t.default?zP(t.default()):[];for(let h=0;h<o.length;h++){const m=o[h];m.key!=null&&c0(m,sx(m,u,r,n))}return Fe(a,null,o)}}}),ZG=Nse;function $se(e){const t=e.el;t[LS]&&t[LS](),t[eF]&&t[eF]()}function Vse(e){YG.set(e,e.el.getBoundingClientRect())}function Hse(e){const t=KG.get(e),n=YG.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const o=e.el.style;return o.transform=o.webkitTransform=`translate(${r}px,${i}px)`,o.transitionDuration="0s",e}}function Use(e,t,n){const r=e.cloneNode(),i=e[e_];i&&i.forEach(u=>{u.split(/\s+/).forEach(a=>a&&r.classList.remove(a))}),n.split(/\s+/).forEach(u=>u&&r.classList.add(u)),r.style.display="none";const o=t.nodeType===1?t:t.parentNode;o.appendChild(r);const{hasTransform:s}=GG(r);return o.removeChild(r),s}const t_=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Tn(t)?n=>L3(t,n):t};function jse(e){e.target.composing=!0}function tF(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const nh=Symbol("_assign"),WP={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[nh]=t_(i);const o=r||i.props&&i.props.type==="number";Vf(e,t?"change":"input",s=>{if(s.target.composing)return;let u=e.value;n&&(u=u.trim()),o&&(u=SA(u)),e[nh](u)}),n&&Vf(e,"change",()=>{e.value=e.value.trim()}),t||(Vf(e,"compositionstart",jse),Vf(e,"compositionend",tF),Vf(e,"change",tF))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:i,number:o}},s){if(e[nh]=t_(s),e.composing)return;const u=(o||e.type==="number")&&!/^0\d/.test(e.value)?SA(e.value):e.value,a=t??"";u!==a&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||i&&e.value.trim()===a)||(e.value=a))}},RS={deep:!0,created(e,t,n){e[nh]=t_(n),Vf(e,"change",()=>{const r=e._modelValue,i=JG(e),o=e.checked,s=e[nh];if(Tn(r)){const u=Rj(r,i),a=u!==-1;if(o&&!a)s(r.concat(i));else if(!o&&a){const h=[...r];h.splice(u,1),s(h)}}else if(FC(r)){const u=new Set(r);o?u.add(i):u.delete(i),s(u)}else s(QG(e,o))})},mounted:nF,beforeUpdate(e,t,n){e[nh]=t_(n),nF(e,t,n)}};function nF(e,{value:t,oldValue:n},r){e._modelValue=t;let i;if(Tn(t))i=Rj(t,r.props.value)>-1;else if(FC(t))i=t.has(r.props.value);else{if(t===n)return;i=Qg(t,QG(e,!0))}e.checked!==i&&(e.checked=i)}const XG={created(e,{value:t},n){e.checked=Qg(t,n.props.value),e[nh]=t_(n),Vf(e,"change",()=>{e[nh](JG(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[nh]=t_(r),t!==n&&(e.checked=Qg(t,r.props.value))}};function JG(e){return"_value"in e?e._value:e.value}function QG(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Gse=["ctrl","shift","alt","meta"],Wse={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Gse.some(n=>e[`${n}Key`]&&!t.includes(n))},er=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(i,...o)=>{for(let s=0;s<t.length;s++){const u=Wse[t[s]];if(u&&u(i,t))return}return e(i,...o)})},qse={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Wi=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const o=ph(i.key);if(t.some(s=>s===o||qse[s]===o))return e(i)})},Kse=po({patchProp:zse},bse);let rF;function eW(){return rF||(rF=Woe(Kse))}const op=(...e)=>{eW().render(...e)},tW=(...e)=>{const t=eW().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=Zse(r);if(!i)return;const o=t._component;!tr(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const s=n(i,!1,Yse(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t};function Yse(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Zse(e){return Qn(e)?document.querySelector(e):e}/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const gg=typeof document<"u";function nW(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Xse(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&nW(e.default)}const va=Object.assign;function m5(e,t){const n={};for(const r in t){const i=t[r];n[r]=pc(i)?i.map(e):e(i)}return n}const Fb=()=>{},pc=Array.isArray,rW=/#/g,Jse=/&/g,Qse=/\//g,ele=/=/g,tle=/\?/g,iW=/\+/g,nle=/%5B/g,rle=/%5D/g,aW=/%5E/g,ile=/%60/g,oW=/%7B/g,ale=/%7C/g,sW=/%7D/g,ole=/%20/g;function qP(e){return encodeURI(""+e).replace(ale,"|").replace(nle,"[").replace(rle,"]")}function sle(e){return qP(e).replace(oW,"{").replace(sW,"}").replace(aW,"^")}function zA(e){return qP(e).replace(iW,"%2B").replace(ole,"+").replace(rW,"%23").replace(Jse,"%26").replace(ile,"`").replace(oW,"{").replace(sW,"}").replace(aW,"^")}function lle(e){return zA(e).replace(ele,"%3D")}function ule(e){return qP(e).replace(rW,"%23").replace(tle,"%3F")}function cle(e){return e==null?"":ule(e).replace(Qse,"%2F")}function cx(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const dle=/\/$/,hle=e=>e.replace(dle,"");function v5(e,t,n="/"){let r,i={},o="",s="";const u=t.indexOf("#");let a=t.indexOf("?");return u<a&&u>=0&&(a=-1),a>-1&&(r=t.slice(0,a),o=t.slice(a+1,u>-1?u:t.length),i=e(o)),u>-1&&(r=r||t.slice(0,u),s=t.slice(u,t.length)),r=vle(r??t,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:cx(s)}}function fle(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function iF(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function ple(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&n_(t.matched[r],n.matched[i])&&lW(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function n_(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function lW(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!mle(e[n],t[n]))return!1;return!0}function mle(e,t){return pc(e)?aF(e,t):pc(t)?aF(t,e):e===t}function aF(e,t){return pc(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function vle(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let o=n.length-1,s,u;for(s=0;s<r.length;s++)if(u=r[s],u!==".")if(u==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(s).join("/")}const yf={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var dx;(function(e){e.pop="pop",e.push="push"})(dx||(dx={}));var Nb;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Nb||(Nb={}));function gle(e){if(!e)if(gg){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),hle(e)}const _le=/^[^#]+#/;function yle(e,t){return e.replace(_le,"#")+t}function ble(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const ZC=()=>({left:window.scrollX,top:window.scrollY});function xle(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=ble(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function oF(e,t){return(history.state?history.state.position-t:-1)+e}const BA=new Map;function wle(e,t){BA.set(e,t)}function Sle(e){const t=BA.get(e);return BA.delete(e),t}let Cle=()=>location.protocol+"//"+location.host;function uW(e,t){const{pathname:n,search:r,hash:i}=t,o=e.indexOf("#");if(o>-1){let u=i.includes(e.slice(o))?e.slice(o).length:1,a=i.slice(u);return a[0]!=="/"&&(a="/"+a),iF(a,"")}return iF(n,e)+r+i}function Tle(e,t,n,r){let i=[],o=[],s=null;const u=({state:_})=>{const b=uW(e,location),T=n.value,M=t.value;let E=0;if(_){if(n.value=b,t.value=_,s&&s===T){s=null;return}E=M?_.position-M.position:0}else r(b);i.forEach(k=>{k(n.value,T,{delta:E,type:dx.pop,direction:E?E>0?Nb.forward:Nb.back:Nb.unknown})})};function a(){s=n.value}function h(_){i.push(_);const b=()=>{const T=i.indexOf(_);T>-1&&i.splice(T,1)};return o.push(b),b}function m(){const{history:_}=window;_.state&&_.replaceState(va({},_.state,{scroll:ZC()}),"")}function v(){for(const _ of o)_();o=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",m)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",m,{passive:!0}),{pauseListeners:a,listen:h,destroy:v}}function sF(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?ZC():null}}function Mle(e){const{history:t,location:n}=window,r={value:uW(e,n)},i={value:t.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(a,h,m){const v=e.indexOf("#"),_=v>-1?(n.host&&document.querySelector("base")?e:e.slice(v))+a:Cle()+e+a;try{t[m?"replaceState":"pushState"](h,"",_),i.value=h}catch(b){console.error(b),n[m?"replace":"assign"](_)}}function s(a,h){const m=va({},t.state,sF(i.value.back,a,i.value.forward,!0),h,{position:i.value.position});o(a,m,!0),r.value=a}function u(a,h){const m=va({},i.value,t.state,{forward:a,scroll:ZC()});o(m.current,m,!0);const v=va({},sF(r.value,a,null),{position:m.position+1},h);o(a,v,!1),r.value=a}return{location:r,state:i,push:u,replace:s}}function Ele(e){e=gle(e);const t=Mle(e),n=Tle(e,t.state,t.location,t.replace);function r(o,s=!0){s||n.pauseListeners(),history.go(o)}const i=va({location:"",base:e,go:r,createHref:yle.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function Ale(e){return typeof e=="string"||e&&typeof e=="object"}function cW(e){return typeof e=="string"||typeof e=="symbol"}const dW=Symbol("");var lF;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(lF||(lF={}));function r_(e,t){return va(new Error,{type:e,[dW]:!0},t)}function Fd(e,t){return e instanceof Error&&dW in e&&(t==null||!!(e.type&t))}const uF="[^/]+?",Ile={sensitive:!1,strict:!1,start:!0,end:!0},kle=/[.+*?^${}()[\]/\\]/g;function Ple(e,t){const n=va({},Ile,t),r=[];let i=n.start?"^":"";const o=[];for(const h of e){const m=h.length?[]:[90];n.strict&&!h.length&&(i+="/");for(let v=0;v<h.length;v++){const _=h[v];let b=40+(n.sensitive?.25:0);if(_.type===0)v||(i+="/"),i+=_.value.replace(kle,"\\$&"),b+=40;else if(_.type===1){const{value:T,repeatable:M,optional:E,regexp:k}=_;o.push({name:T,repeatable:M,optional:E});const z=k||uF;if(z!==uF){b+=10;try{new RegExp(`(${z})`)}catch(U){throw new Error(`Invalid custom RegExp for param "${T}" (${z}): `+U.message)}}let B=M?`((?:${z})(?:/(?:${z}))*)`:`(${z})`;v||(B=E&&h.length<2?`(?:/${B})`:"/"+B),E&&(B+="?"),i+=B,b+=20,E&&(b+=-8),M&&(b+=-20),z===".*"&&(b+=-50)}m.push(b)}r.push(m)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");function u(h){const m=h.match(s),v={};if(!m)return null;for(let _=1;_<m.length;_++){const b=m[_]||"",T=o[_-1];v[T.name]=b&&T.repeatable?b.split("/"):b}return v}function a(h){let m="",v=!1;for(const _ of e){(!v||!m.endsWith("/"))&&(m+="/"),v=!1;for(const b of _)if(b.type===0)m+=b.value;else if(b.type===1){const{value:T,repeatable:M,optional:E}=b,k=T in h?h[T]:"";if(pc(k)&&!M)throw new Error(`Provided param "${T}" is an array but it is not repeatable (* or + modifiers)`);const z=pc(k)?k.join("/"):k;if(!z)if(E)_.length<2&&(m.endsWith("/")?m=m.slice(0,-1):v=!0);else throw new Error(`Missing required param "${T}"`);m+=z}}return m||"/"}return{re:s,score:r,keys:o,parse:u,stringify:a}}function Lle(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function hW(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const o=Lle(r[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-r.length)===1){if(cF(r))return 1;if(cF(i))return-1}return i.length-r.length}function cF(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Rle={type:0,value:""},Dle=/[a-zA-Z0-9_]/;function Ole(e){if(!e)return[[]];if(e==="/")return[[Rle]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(b){throw new Error(`ERR (${n})/"${h}": ${b}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let u=0,a,h="",m="";function v(){h&&(n===0?o.push({type:0,value:h}):n===1||n===2||n===3?(o.length>1&&(a==="*"||a==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:h,regexp:m,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):t("Invalid state to consume buffer"),h="")}function _(){h+=a}for(;u<e.length;){if(a=e[u++],a==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:a==="/"?(h&&v(),s()):a===":"?(v(),n=1):_();break;case 4:_(),n=r;break;case 1:a==="("?n=2:Dle.test(a)?_():(v(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&u--);break;case 2:a===")"?m[m.length-1]=="\\"?m=m.slice(0,-1)+a:n=3:m+=a;break;case 3:v(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&u--,m="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${h}"`),v(),s(),i}function zle(e,t,n){const r=Ple(Ole(e.path),n),i=va(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function Ble(e,t){const n=[],r=new Map;t=pF({strict:!1,end:!0,sensitive:!1},t);function i(v){return r.get(v)}function o(v,_,b){const T=!b,M=hF(v);M.aliasOf=b&&b.record;const E=pF(t,v),k=[M];if("alias"in v){const U=typeof v.alias=="string"?[v.alias]:v.alias;for(const W of U)k.push(hF(va({},M,{components:b?b.record.components:M.components,path:W,aliasOf:b?b.record:M})))}let z,B;for(const U of k){const{path:W}=U;if(_&&W[0]!=="/"){const q=_.record.path,Q=q[q.length-1]==="/"?"":"/";U.path=_.record.path+(W&&Q+W)}if(z=zle(U,_,E),b?b.alias.push(z):(B=B||z,B!==z&&B.alias.push(z),T&&v.name&&!fF(z)&&s(v.name)),fW(z)&&a(z),M.children){const q=M.children;for(let Q=0;Q<q.length;Q++)o(q[Q],z,b&&b.children[Q])}b=b||z}return B?()=>{s(B)}:Fb}function s(v){if(cW(v)){const _=r.get(v);_&&(r.delete(v),n.splice(n.indexOf(_),1),_.children.forEach(s),_.alias.forEach(s))}else{const _=n.indexOf(v);_>-1&&(n.splice(_,1),v.record.name&&r.delete(v.record.name),v.children.forEach(s),v.alias.forEach(s))}}function u(){return n}function a(v){const _=$le(v,n);n.splice(_,0,v),v.record.name&&!fF(v)&&r.set(v.record.name,v)}function h(v,_){let b,T={},M,E;if("name"in v&&v.name){if(b=r.get(v.name),!b)throw r_(1,{location:v});E=b.record.name,T=va(dF(_.params,b.keys.filter(B=>!B.optional).concat(b.parent?b.parent.keys.filter(B=>B.optional):[]).map(B=>B.name)),v.params&&dF(v.params,b.keys.map(B=>B.name))),M=b.stringify(T)}else if(v.path!=null)M=v.path,b=n.find(B=>B.re.test(M)),b&&(T=b.parse(M),E=b.record.name);else{if(b=_.name?r.get(_.name):n.find(B=>B.re.test(_.path)),!b)throw r_(1,{location:v,currentLocation:_});E=b.record.name,T=va({},_.params,v.params),M=b.stringify(T)}const k=[];let z=b;for(;z;)k.unshift(z.record),z=z.parent;return{name:E,path:M,params:T,matched:k,meta:Nle(k)}}e.forEach(v=>o(v));function m(){n.length=0,r.clear()}return{addRoute:o,resolve:h,removeRoute:s,clearRoutes:m,getRoutes:u,getRecordMatcher:i}}function dF(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function hF(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Fle(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Fle(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function fF(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Nle(e){return e.reduce((t,n)=>va(t,n.meta),{})}function pF(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function $le(e,t){let n=0,r=t.length;for(;n!==r;){const o=n+r>>1;hW(e,t[o])<0?r=o:n=o+1}const i=Vle(e);return i&&(r=t.lastIndexOf(i,r-1)),r}function Vle(e){let t=e;for(;t=t.parent;)if(fW(t)&&hW(e,t)===0)return t}function fW({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Hle(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(iW," "),s=o.indexOf("="),u=cx(s<0?o:o.slice(0,s)),a=s<0?null:cx(o.slice(s+1));if(u in t){let h=t[u];pc(h)||(h=t[u]=[h]),h.push(a)}else t[u]=a}return t}function mF(e){let t="";for(let n in e){const r=e[n];if(n=lle(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(pc(r)?r.map(o=>o&&zA(o)):[r&&zA(r)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function Ule(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=pc(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const jle=Symbol(""),vF=Symbol(""),KP=Symbol(""),pW=Symbol(""),FA=Symbol("");function $1(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function $f(e,t,n,r,i,o=s=>s()){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((u,a)=>{const h=_=>{_===!1?a(r_(4,{from:n,to:t})):_ instanceof Error?a(_):Ale(_)?a(r_(2,{from:t,to:_})):(s&&r.enterCallbacks[i]===s&&typeof _=="function"&&s.push(_),u())},m=o(()=>e.call(r&&r.instances[i],t,n,h));let v=Promise.resolve(m);e.length<3&&(v=v.then(h)),v.catch(_=>a(_))})}function g5(e,t,n,r,i=o=>o()){const o=[];for(const s of e)for(const u in s.components){let a=s.components[u];if(!(t!=="beforeRouteEnter"&&!s.instances[u]))if(nW(a)){const m=(a.__vccOpts||a)[t];m&&o.push($f(m,n,r,s,u,i))}else{let h=a();o.push(()=>h.then(m=>{if(!m)throw new Error(`Couldn't resolve component "${u}" at "${s.path}"`);const v=Xse(m)?m.default:m;s.mods[u]=m,s.components[u]=v;const b=(v.__vccOpts||v)[t];return b&&$f(b,n,r,s,u,i)()}))}}return o}function gF(e){const t=An(KP),n=An(pW),r=le(()=>{const a=A(e.to);return t.resolve(a)}),i=le(()=>{const{matched:a}=r.value,{length:h}=a,m=a[h-1],v=n.matched;if(!m||!v.length)return-1;const _=v.findIndex(n_.bind(null,m));if(_>-1)return _;const b=_F(a[h-2]);return h>1&&_F(m)===b&&v[v.length-1].path!==b?v.findIndex(n_.bind(null,a[h-2])):_}),o=le(()=>i.value>-1&&Kle(n.params,r.value.params)),s=le(()=>i.value>-1&&i.value===n.matched.length-1&&lW(n.params,r.value.params));function u(a={}){return qle(a)?t[A(e.replace)?"replace":"push"](A(e.to)).catch(Fb):Promise.resolve()}return{route:r,href:le(()=>r.value.href),isActive:o,isExactActive:s,navigate:u}}const Gle=ge({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:gF,setup(e,{slots:t}){const n=Ci(gF(e)),{options:r}=An(KP),i=le(()=>({[yF(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[yF(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:jn("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),Wle=Gle;function qle(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Kle(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!pc(i)||i.length!==r.length||r.some((o,s)=>o!==i[s]))return!1}return!0}function _F(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const yF=(e,t,n)=>e??t??n,Yle=ge({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=An(FA),i=le(()=>e.route||r.value),o=An(vF,0),s=le(()=>{let h=A(o);const{matched:m}=i.value;let v;for(;(v=m[h])&&!v.components;)h++;return h}),u=le(()=>i.value.matched[s.value]);Rr(vF,le(()=>s.value+1)),Rr(jle,u),Rr(FA,i);const a=Te();return Wt(()=>[a.value,u.value,e.name],([h,m,v],[_,b,T])=>{m&&(m.instances[v]=h,b&&b!==m&&h&&h===_&&(m.leaveGuards.size||(m.leaveGuards=b.leaveGuards),m.updateGuards.size||(m.updateGuards=b.updateGuards))),h&&m&&(!b||!n_(m,b)||!_)&&(m.enterCallbacks[v]||[]).forEach(M=>M(h))},{flush:"post"}),()=>{const h=i.value,m=e.name,v=u.value,_=v&&v.components[m];if(!_)return bF(n.default,{Component:_,route:h});const b=v.props[m],T=b?b===!0?h.params:typeof b=="function"?b(h):b:null,E=jn(_,va({},T,t,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(v.instances[m]=null)},ref:a}));return bF(n.default,{Component:E,route:h})||E}}});function bF(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Zle=Yle;function Xle(e){const t=Ble(e.routes,e),n=e.parseQuery||Hle,r=e.stringifyQuery||mF,i=e.history,o=$1(),s=$1(),u=$1(),a=Ji(yf);let h=yf;gg&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const m=m5.bind(null,je=>""+je),v=m5.bind(null,cle),_=m5.bind(null,cx);function b(je,Ct){let vt,Vt;return cW(je)?(vt=t.getRecordMatcher(je),Vt=Ct):Vt=je,t.addRoute(Vt,vt)}function T(je){const Ct=t.getRecordMatcher(je);Ct&&t.removeRoute(Ct)}function M(){return t.getRoutes().map(je=>je.record)}function E(je){return!!t.getRecordMatcher(je)}function k(je,Ct){if(Ct=va({},Ct||a.value),typeof je=="string"){const et=v5(n,je,Ct.path),Ze=t.resolve({path:et.path},Ct),nn=i.createHref(et.fullPath);return va(et,Ze,{params:_(Ze.params),hash:cx(et.hash),redirectedFrom:void 0,href:nn})}let vt;if(je.path!=null)vt=va({},je,{path:v5(n,je.path,Ct.path).path});else{const et=va({},je.params);for(const Ze in et)et[Ze]==null&&delete et[Ze];vt=va({},je,{params:v(et)}),Ct.params=v(Ct.params)}const Vt=t.resolve(vt,Ct),Re=je.hash||"";Vt.params=m(_(Vt.params));const pt=fle(r,va({},je,{hash:sle(Re),path:Vt.path})),Ne=i.createHref(pt);return va({fullPath:pt,hash:Re,query:r===mF?Ule(je.query):je.query||{}},Vt,{redirectedFrom:void 0,href:Ne})}function z(je){return typeof je=="string"?v5(n,je,a.value.path):va({},je)}function B(je,Ct){if(h!==je)return r_(8,{from:Ct,to:je})}function U(je){return Q(je)}function W(je){return U(va(z(je),{replace:!0}))}function q(je){const Ct=je.matched[je.matched.length-1];if(Ct&&Ct.redirect){const{redirect:vt}=Ct;let Vt=typeof vt=="function"?vt(je):vt;return typeof Vt=="string"&&(Vt=Vt.includes("?")||Vt.includes("#")?Vt=z(Vt):{path:Vt},Vt.params={}),va({query:je.query,hash:je.hash,params:Vt.path!=null?{}:je.params},Vt)}}function Q(je,Ct){const vt=h=k(je),Vt=a.value,Re=je.state,pt=je.force,Ne=je.replace===!0,et=q(vt);if(et)return Q(va(z(et),{state:typeof et=="object"?va({},Re,et.state):Re,force:pt,replace:Ne}),Ct||vt);const Ze=vt;Ze.redirectedFrom=Ct;let nn;return!pt&&ple(r,Vt,vt)&&(nn=r_(16,{to:Ze,from:Vt}),Be(Vt,Vt,!0,!1)),(nn?Promise.resolve(nn):ae(Ze,Vt)).catch(It=>Fd(It)?Fd(It,2)?It:xe(It):Ee(It,Ze,Vt)).then(It=>{if(It){if(Fd(It,2))return Q(va({replace:Ne},z(It.to),{state:typeof It.to=="object"?va({},Re,It.to.state):Re,force:pt}),Ct||Ze)}else It=se(Ze,Vt,!0,Ne,Re);return re(Ze,Vt,It),It})}function te(je,Ct){const vt=B(je,Ct);return vt?Promise.reject(vt):Promise.resolve()}function ie(je){const Ct=lt.values().next().value;return Ct&&typeof Ct.runWithContext=="function"?Ct.runWithContext(je):je()}function ae(je,Ct){let vt;const[Vt,Re,pt]=Jle(je,Ct);vt=g5(Vt.reverse(),"beforeRouteLeave",je,Ct);for(const et of Vt)et.leaveGuards.forEach(Ze=>{vt.push($f(Ze,je,Ct))});const Ne=te.bind(null,je,Ct);return vt.push(Ne),Dt(vt).then(()=>{vt=[];for(const et of o.list())vt.push($f(et,je,Ct));return vt.push(Ne),Dt(vt)}).then(()=>{vt=g5(Re,"beforeRouteUpdate",je,Ct);for(const et of Re)et.updateGuards.forEach(Ze=>{vt.push($f(Ze,je,Ct))});return vt.push(Ne),Dt(vt)}).then(()=>{vt=[];for(const et of pt)if(et.beforeEnter)if(pc(et.beforeEnter))for(const Ze of et.beforeEnter)vt.push($f(Ze,je,Ct));else vt.push($f(et.beforeEnter,je,Ct));return vt.push(Ne),Dt(vt)}).then(()=>(je.matched.forEach(et=>et.enterCallbacks={}),vt=g5(pt,"beforeRouteEnter",je,Ct,ie),vt.push(Ne),Dt(vt))).then(()=>{vt=[];for(const et of s.list())vt.push($f(et,je,Ct));return vt.push(Ne),Dt(vt)}).catch(et=>Fd(et,8)?et:Promise.reject(et))}function re(je,Ct,vt){u.list().forEach(Vt=>ie(()=>Vt(je,Ct,vt)))}function se(je,Ct,vt,Vt,Re){const pt=B(je,Ct);if(pt)return pt;const Ne=Ct===yf,et=gg?history.state:{};vt&&(Vt||Ne?i.replace(je.fullPath,va({scroll:Ne&&et&&et.scroll},Re)):i.push(je.fullPath,Re)),a.value=je,Be(je,Ct,vt,Ne),xe()}let be;function Ie(){be||(be=i.listen((je,Ct,vt)=>{if(!Nt.listening)return;const Vt=k(je),Re=q(Vt);if(Re){Q(va(Re,{replace:!0}),Vt).catch(Fb);return}h=Vt;const pt=a.value;gg&&wle(oF(pt.fullPath,vt.delta),ZC()),ae(Vt,pt).catch(Ne=>Fd(Ne,12)?Ne:Fd(Ne,2)?(Q(Ne.to,Vt).then(et=>{Fd(et,20)&&!vt.delta&&vt.type===dx.pop&&i.go(-1,!1)}).catch(Fb),Promise.reject()):(vt.delta&&i.go(-vt.delta,!1),Ee(Ne,Vt,pt))).then(Ne=>{Ne=Ne||se(Vt,pt,!1),Ne&&(vt.delta&&!Fd(Ne,8)?i.go(-vt.delta,!1):vt.type===dx.pop&&Fd(Ne,20)&&i.go(-1,!1)),re(Vt,pt,Ne)}).catch(Fb)}))}let Se=$1(),me=$1(),Le;function Ee(je,Ct,vt){xe(je);const Vt=me.list();return Vt.length?Vt.forEach(Re=>Re(je,Ct,vt)):console.error(je),Promise.reject(je)}function _e(){return Le&&a.value!==yf?Promise.resolve():new Promise((je,Ct)=>{Se.add([je,Ct])})}function xe(je){return Le||(Le=!je,Ie(),Se.list().forEach(([Ct,vt])=>je?vt(je):Ct()),Se.reset()),je}function Be(je,Ct,vt,Vt){const{scrollBehavior:Re}=e;if(!gg||!Re)return Promise.resolve();const pt=!vt&&Sle(oF(je.fullPath,0))||(Vt||!vt)&&history.state&&history.state.scroll||null;return Fn().then(()=>Re(je,Ct,pt)).then(Ne=>Ne&&xle(Ne)).catch(Ne=>Ee(Ne,je,Ct))}const Je=je=>i.go(je);let Ye;const lt=new Set,Nt={currentRoute:a,listening:!0,addRoute:b,removeRoute:T,clearRoutes:t.clearRoutes,hasRoute:E,getRoutes:M,resolve:k,options:e,push:U,replace:W,go:Je,back:()=>Je(-1),forward:()=>Je(1),beforeEach:o.add,beforeResolve:s.add,afterEach:u.add,onError:me.add,isReady:_e,install(je){const Ct=this;je.component("RouterLink",Wle),je.component("RouterView",Zle),je.config.globalProperties.$router=Ct,Object.defineProperty(je.config.globalProperties,"$route",{enumerable:!0,get:()=>A(a)}),gg&&!Ye&&a.value===yf&&(Ye=!0,U(i.location).catch(Re=>{}));const vt={};for(const Re in yf)Object.defineProperty(vt,Re,{get:()=>a.value[Re],enumerable:!0});je.provide(KP,Ct),je.provide(pW,LP(vt)),je.provide(FA,a);const Vt=je.unmount;lt.add(je),je.unmount=function(){lt.delete(je),lt.size<1&&(h=yf,be&&be(),be=null,a.value=yf,Ye=!1,Le=!1),Vt()}}};function Dt(je){return je.reduce((Ct,vt)=>Ct.then(()=>ie(vt)),Promise.resolve())}return Nt}function Jle(e,t){const n=[],r=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let s=0;s<o;s++){const u=t.matched[s];u&&(e.matched.find(h=>n_(h,u))?r.push(u):n.push(u));const a=e.matched[s];a&&(t.matched.find(h=>n_(h,a))||i.push(a))}return[n,r,i]}const Qle=""+new URL("stellerus-BiqfsNAB.jpg",import.meta.url).href,eue='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',tue=e=>getComputedStyle(e).position==="fixed"?!1:e.offsetParent!==null,xF=e=>Array.from(e.querySelectorAll(eue)).filter(t=>nue(t)&&tue(t)),nue=e=>{if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return!(e.type==="hidden"||e.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},z3=function(e,t,...n){let r;t.includes("mouse")||t.includes("click")?r="MouseEvents":t.includes("key")?r="KeyboardEvent":r="HTMLEvents";const i=document.createEvent(r);return i.initEvent(t,...n),e.dispatchEvent(i),e},mW=e=>!e.getAttribute("aria-owns"),vW=(e,t,n)=>{const{parentNode:r}=e;if(!r)return null;const i=r.querySelectorAll(n),o=Array.prototype.indexOf.call(i,e);return i[o+t]||null},B3=e=>{e&&(e.focus(),!mW(e)&&e.click())},Ha=(e,t,{checkForDefaultPrevented:n=!0}={})=>i=>{const o=e==null?void 0:e(i);if(n===!1||!o)return t==null?void 0:t(i)},wF=e=>t=>t.pointerType==="mouse"?e(t):void 0;var rue=Object.defineProperty,iue=Object.defineProperties,aue=Object.getOwnPropertyDescriptors,SF=Object.getOwnPropertySymbols,oue=Object.prototype.hasOwnProperty,sue=Object.prototype.propertyIsEnumerable,CF=(e,t,n)=>t in e?rue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lue=(e,t)=>{for(var n in t||(t={}))oue.call(t,n)&&CF(e,n,t[n]);if(SF)for(var n of SF(t))sue.call(t,n)&&CF(e,n,t[n]);return e},uue=(e,t)=>iue(e,aue(t));function TF(e,t){var n;const r=Ji();return ko(()=>{r.value=e()},uue(lue({},t),{flush:(n=void 0)!=null?n:"sync"})),T_(r)}var MF;const ri=typeof window<"u",cue=e=>typeof e<"u",NA=e=>typeof e=="function",due=e=>typeof e=="string",i_=()=>{},$A=ri&&((MF=window==null?void 0:window.navigator)==null?void 0:MF.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function sp(e){return typeof e=="function"?e():A(e)}function gW(e,t){function n(...r){return new Promise((i,o)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(i).catch(o)})}return n}function hue(e,t={}){let n,r,i=i_;const o=u=>{clearTimeout(u),i(),i=i_};return u=>{const a=sp(e),h=sp(t.maxWait);return n&&o(n),a<=0||h!==void 0&&h<=0?(r&&(o(r),r=null),Promise.resolve(u())):new Promise((m,v)=>{i=t.rejectOnCancel?v:m,h&&!r&&(r=setTimeout(()=>{n&&o(n),r=null,m(u())},h)),n=setTimeout(()=>{r&&o(r),r=null,m(u())},a)})}}function fue(e,t=!0,n=!0,r=!1){let i=0,o,s=!0,u=i_,a;const h=()=>{o&&(clearTimeout(o),o=void 0,u(),u=i_)};return v=>{const _=sp(e),b=Date.now()-i,T=()=>a=v();return h(),_<=0?(i=Date.now(),T()):(b>_&&(n||!s)?(i=Date.now(),T()):t&&(a=new Promise((M,E)=>{u=r?E:M,o=setTimeout(()=>{i=Date.now(),s=!0,M(T()),h()},Math.max(0,_-b))})),!n&&!o&&(o=setTimeout(()=>s=!0,_)),s=!1,a)}}function pue(e){return e}function mue(e,t){let n,r,i;const o=Te(!0),s=()=>{o.value=!0,i()};Wt(e,s,{flush:"sync"});const u=NA(t)?t:t.get,a=NA(t)?void 0:t.set,h=coe((m,v)=>(r=m,i=v,{get(){return o.value&&(n=u(),o.value=!1),r(),n},set(_){a==null||a(_)}}));return Object.isExtensible(h)&&(h.trigger=s),h}function aw(e){return Bj()?(Fj(e),!0):!1}function vue(e,t=200,n={}){return gW(hue(t,n),e)}function gue(e,t=200,n={}){const r=Te(e.value),i=vue(()=>{r.value=e.value},t,n);return Wt(e,()=>i()),r}function _W(e,t=200,n=!1,r=!0,i=!1){return gW(fue(t,n,r,i),e)}function YP(e,t=!0){Mr()?br(e):t?e():Fn(e)}function d0(e,t,n={}){const{immediate:r=!0}=n,i=Te(!1);let o=null;function s(){o&&(clearTimeout(o),o=null)}function u(){i.value=!1,s()}function a(...h){s(),i.value=!0,o=setTimeout(()=>{i.value=!1,o=null,e(...h)},sp(t))}return r&&(i.value=!0,ri&&a()),aw(u),{isPending:T_(i),start:a,stop:u}}function sl(e){var t;const n=sp(e);return(t=n==null?void 0:n.$el)!=null?t:n}const yp=ri?window:void 0,_ue=ri?window.document:void 0;function Fi(...e){let t,n,r,i;if(due(e[0])||Array.isArray(e[0])?([n,r,i]=e,t=yp):[t,n,r,i]=e,!t)return i_;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const o=[],s=()=>{o.forEach(m=>m()),o.length=0},u=(m,v,_,b)=>(m.addEventListener(v,_,b),()=>m.removeEventListener(v,_,b)),a=Wt(()=>[sl(t),sp(i)],([m,v])=>{s(),m&&o.push(...n.flatMap(_=>r.map(b=>u(m,_,b,v))))},{immediate:!0,flush:"post"}),h=()=>{a(),s()};return aw(h),h}let EF=!1;function ZP(e,t,n={}){const{window:r=yp,ignore:i=[],capture:o=!0,detectIframe:s=!1}=n;if(!r)return;$A&&!EF&&(EF=!0,Array.from(r.document.body.children).forEach(_=>_.addEventListener("click",i_)));let u=!0;const a=_=>i.some(b=>{if(typeof b=="string")return Array.from(r.document.querySelectorAll(b)).some(T=>T===_.target||_.composedPath().includes(T));{const T=sl(b);return T&&(_.target===T||_.composedPath().includes(T))}}),m=[Fi(r,"click",_=>{const b=sl(e);if(!(!b||b===_.target||_.composedPath().includes(b))){if(_.detail===0&&(u=!a(_)),!u){u=!0;return}t(_)}},{passive:!0,capture:o}),Fi(r,"pointerdown",_=>{const b=sl(e);b&&(u=!_.composedPath().includes(b)&&!a(_))},{passive:!0}),s&&Fi(r,"blur",_=>{var b;const T=sl(e);((b=r.document.activeElement)==null?void 0:b.tagName)==="IFRAME"&&!(T!=null&&T.contains(r.document.activeElement))&&t(_)})].filter(Boolean);return()=>m.forEach(_=>_())}function yue(e={}){var t;const{window:n=yp}=e,r=(t=e.document)!=null?t:n==null?void 0:n.document,i=mue(()=>null,()=>r==null?void 0:r.activeElement);return n&&(Fi(n,"blur",o=>{o.relatedTarget===null&&i.trigger()},!0),Fi(n,"focus",i.trigger,!0)),i}function yW(e,t=!1){const n=Te(),r=()=>n.value=!!e();return r(),YP(r,t),n}function bue(e){return JSON.parse(JSON.stringify(e))}const AF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},IF="__vueuse_ssr_handlers__";AF[IF]=AF[IF]||{};function xue(e,t,{window:n=yp,initialValue:r=""}={}){const i=Te(r),o=le(()=>{var s;return sl(t)||((s=n==null?void 0:n.document)==null?void 0:s.documentElement)});return Wt([o,()=>sp(e)],([s,u])=>{var a;if(s&&n){const h=(a=n.getComputedStyle(s).getPropertyValue(u))==null?void 0:a.trim();i.value=h||r}},{immediate:!0}),Wt(i,s=>{var u;(u=o.value)!=null&&u.style&&o.value.style.setProperty(sp(e),s)}),i}function wue({document:e=_ue}={}){if(!e)return Te("visible");const t=Te(e.visibilityState);return Fi(e,"visibilitychange",()=>{t.value=e.visibilityState}),t}var kF=Object.getOwnPropertySymbols,Sue=Object.prototype.hasOwnProperty,Cue=Object.prototype.propertyIsEnumerable,Tue=(e,t)=>{var n={};for(var r in e)Sue.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&kF)for(var r of kF(e))t.indexOf(r)<0&&Cue.call(e,r)&&(n[r]=e[r]);return n};function ga(e,t,n={}){const r=n,{window:i=yp}=r,o=Tue(r,["window"]);let s;const u=yW(()=>i&&"ResizeObserver"in i),a=()=>{s&&(s.disconnect(),s=void 0)},h=Wt(()=>sl(e),v=>{a(),u.value&&i&&v&&(s=new ResizeObserver(t),s.observe(v,o))},{immediate:!0,flush:"post"}),m=()=>{a(),h()};return aw(m),{isSupported:u,stop:m}}function PF(e,t={}){const{reset:n=!0,windowResize:r=!0,windowScroll:i=!0,immediate:o=!0}=t,s=Te(0),u=Te(0),a=Te(0),h=Te(0),m=Te(0),v=Te(0),_=Te(0),b=Te(0);function T(){const M=sl(e);if(!M){n&&(s.value=0,u.value=0,a.value=0,h.value=0,m.value=0,v.value=0,_.value=0,b.value=0);return}const E=M.getBoundingClientRect();s.value=E.height,u.value=E.bottom,a.value=E.left,h.value=E.right,m.value=E.top,v.value=E.width,_.value=E.x,b.value=E.y}return ga(e,T),Wt(()=>sl(e),M=>!M&&T()),i&&Fi("scroll",T,{capture:!0,passive:!0}),r&&Fi("resize",T,{passive:!0}),YP(()=>{o&&T()}),{height:s,bottom:u,left:a,right:h,top:m,width:v,x:_,y:b,update:T}}var LF=Object.getOwnPropertySymbols,Mue=Object.prototype.hasOwnProperty,Eue=Object.prototype.propertyIsEnumerable,Aue=(e,t)=>{var n={};for(var r in e)Mue.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&LF)for(var r of LF(e))t.indexOf(r)<0&&Eue.call(e,r)&&(n[r]=e[r]);return n};function bW(e,t,n={}){const r=n,{window:i=yp}=r,o=Aue(r,["window"]);let s;const u=yW(()=>i&&"MutationObserver"in i),a=()=>{s&&(s.disconnect(),s=void 0)},h=Wt(()=>sl(e),v=>{a(),u.value&&i&&v&&(s=new MutationObserver(t),s.observe(v,o))},{immediate:!0}),m=()=>{a(),h()};return aw(m),{isSupported:u,stop:m}}var RF;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(RF||(RF={}));var Iue=Object.defineProperty,DF=Object.getOwnPropertySymbols,kue=Object.prototype.hasOwnProperty,Pue=Object.prototype.propertyIsEnumerable,OF=(e,t,n)=>t in e?Iue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Lue=(e,t)=>{for(var n in t||(t={}))kue.call(t,n)&&OF(e,n,t[n]);if(DF)for(var n of DF(t))Pue.call(t,n)&&OF(e,n,t[n]);return e};const Rue={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Lue({linear:pue},Rue);function xW(e,t,n,r={}){var i,o,s;const{clone:u=!1,passive:a=!1,eventName:h,deep:m=!1,defaultValue:v}=r,_=Mr(),b=n||(_==null?void 0:_.emit)||((i=_==null?void 0:_.$emit)==null?void 0:i.bind(_))||((s=(o=_==null?void 0:_.proxy)==null?void 0:o.$emit)==null?void 0:s.bind(_==null?void 0:_.proxy));let T=h;t||(t="modelValue"),T=h||T||`update:${t.toString()}`;const M=k=>u?NA(u)?u(k):bue(k):k,E=()=>cue(e[t])?M(e[t]):v;if(a){const k=E(),z=Te(k);return Wt(()=>e[t],B=>z.value=M(B)),Wt(z,B=>{(B!==e[t]||m)&&b(T,B)},{deep:m}),z}else return le({get(){return E()},set(k){b(T,k)}})}function Due({window:e=yp}={}){if(!e)return Te(!1);const t=Te(e.document.hasFocus());return Fi(e,"blur",()=>{t.value=!1}),Fi(e,"focus",()=>{t.value=!0}),t}function Oue(e={}){const{window:t=yp,initialWidth:n=1/0,initialHeight:r=1/0,listenOrientation:i=!0,includeScrollbar:o=!0}=e,s=Te(n),u=Te(r),a=()=>{t&&(o?(s.value=t.innerWidth,u.value=t.innerHeight):(s.value=t.document.documentElement.clientWidth,u.value=t.document.documentElement.clientHeight))};return a(),YP(a),Fi("resize",a,{passive:!0}),i&&Fi("orientationchange",a,{passive:!0}),{width:s,height:u}}const XP=()=>ri&&/firefox/i.test(window.navigator.userAgent),zue=(e,t)=>{if(!ri||!e||!t)return!1;const n=e.getBoundingClientRect();let r;return t instanceof Element?r=t.getBoundingClientRect():r={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right},zF=e=>{let t=0,n=e;for(;n;)t+=n.offsetTop,n=n.offsetParent;return t},VA=(e,t)=>Math.abs(zF(e)-zF(t)),JP=e=>{let t,n;return e.type==="touchend"?(n=e.changedTouches[0].clientY,t=e.changedTouches[0].clientX):e.type.startsWith("touch")?(n=e.touches[0].clientY,t=e.touches[0].clientX):(n=e.clientY,t=e.clientX),{clientX:t,clientY:n}};function Bue(e,t,n,r){const i=n-t;return e/=r/2,e<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t}var wW=typeof global=="object"&&global&&global.Object===Object&&global,Fue=typeof self=="object"&&self&&self.Object===Object&&self,_c=wW||Fue||Function("return this")(),Eu=_c.Symbol,SW=Object.prototype,Nue=SW.hasOwnProperty,$ue=SW.toString,V1=Eu?Eu.toStringTag:void 0;function Vue(e){var t=Nue.call(e,V1),n=e[V1];try{e[V1]=void 0;var r=!0}catch{}var i=$ue.call(e);return r&&(t?e[V1]=n:delete e[V1]),i}var Hue=Object.prototype,Uue=Hue.toString;function jue(e){return Uue.call(e)}var Gue="[object Null]",Wue="[object Undefined]",BF=Eu?Eu.toStringTag:void 0;function A0(e){return e==null?e===void 0?Wue:Gue:BF&&BF in Object(e)?Vue(e):jue(e)}function rd(e){return e!=null&&typeof e=="object"}var que="[object Symbol]";function XC(e){return typeof e=="symbol"||rd(e)&&A0(e)==que}function QP(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var js=Array.isArray,Kue=1/0,FF=Eu?Eu.prototype:void 0,NF=FF?FF.toString:void 0;function CW(e){if(typeof e=="string")return e;if(js(e))return QP(e,CW)+"";if(XC(e))return NF?NF.call(e):"";var t=e+"";return t=="0"&&1/e==-Kue?"-0":t}var Yue=/\s/;function Zue(e){for(var t=e.length;t--&&Yue.test(e.charAt(t)););return t}var Xue=/^\s+/;function Jue(e){return e&&e.slice(0,Zue(e)+1).replace(Xue,"")}function Gs(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var $F=NaN,Que=/^[-+]0x[0-9a-f]+$/i,ece=/^0b[01]+$/i,tce=/^0o[0-7]+$/i,nce=parseInt;function VF(e){if(typeof e=="number")return e;if(XC(e))return $F;if(Gs(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Gs(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Jue(e);var n=ece.test(e);return n||tce.test(e)?nce(e.slice(2),n?2:8):Que.test(e)?$F:+e}function eL(e){return e}var rce="[object AsyncFunction]",ice="[object Function]",ace="[object GeneratorFunction]",oce="[object Proxy]";function tL(e){if(!Gs(e))return!1;var t=A0(e);return t==ice||t==ace||t==rce||t==oce}var _5=_c["__core-js_shared__"],HF=function(){var e=/[^.]+$/.exec(_5&&_5.keys&&_5.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function sce(e){return!!HF&&HF in e}var lce=Function.prototype,uce=lce.toString;function I0(e){if(e!=null){try{return uce.call(e)}catch{}try{return e+""}catch{}}return""}var cce=/[\\^$.*+?()[\]{}|]/g,dce=/^\[object .+?Constructor\]$/,hce=Function.prototype,fce=Object.prototype,pce=hce.toString,mce=fce.hasOwnProperty,vce=RegExp("^"+pce.call(mce).replace(cce,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function gce(e){if(!Gs(e)||sce(e))return!1;var t=tL(e)?vce:dce;return t.test(I0(e))}function _ce(e,t){return e==null?void 0:e[t]}function k0(e,t){var n=_ce(e,t);return gce(n)?n:void 0}var HA=k0(_c,"WeakMap"),UF=Object.create,yce=function(){function e(){}return function(t){if(!Gs(t))return{};if(UF)return UF(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function bce(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function xce(){}function TW(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var wce=800,Sce=16,Cce=Date.now;function Tce(e){var t=0,n=0;return function(){var r=Cce(),i=Sce-(r-n);if(n=r,i>0){if(++t>=wce)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Mce(e){return function(){return e}}var DS=function(){try{var e=k0(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Ece=DS?function(e,t){return DS(e,"toString",{configurable:!0,enumerable:!1,value:Mce(t),writable:!0})}:eL,MW=Tce(Ece);function Ace(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function EW(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Ice(e){return e!==e}function kce(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function Pce(e,t,n){return t===t?kce(e,t,n):EW(e,Ice,n)}function Lce(e,t){var n=e==null?0:e.length;return!!n&&Pce(e,t,0)>-1}var Rce=9007199254740991,Dce=/^(?:0|[1-9]\d*)$/;function JC(e,t){var n=typeof e;return t=t??Rce,!!t&&(n=="number"||n!="symbol"&&Dce.test(e))&&e>-1&&e%1==0&&e<t}function nL(e,t,n){t=="__proto__"&&DS?DS(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ow(e,t){return e===t||e!==e&&t!==t}var Oce=Object.prototype,zce=Oce.hasOwnProperty;function rL(e,t,n){var r=e[t];(!(zce.call(e,t)&&ow(r,n))||n===void 0&&!(t in e))&&nL(e,t,n)}function A_(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var u=t[o],a=void 0;a===void 0&&(a=e[u]),i?nL(n,u,a):rL(n,u,a)}return n}var jF=Math.max;function AW(e,t,n){return t=jF(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=jF(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=r[i];return u[t]=n(s),bce(e,this,u)}}function IW(e,t){return MW(AW(e,t,eL),e+"")}var Bce=9007199254740991;function iL(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Bce}function I_(e){return e!=null&&iL(e.length)&&!tL(e)}function Fce(e,t,n){if(!Gs(n))return!1;var r=typeof t;return(r=="number"?I_(n)&&JC(t,n.length):r=="string"&&t in n)?ow(n[t],e):!1}function Nce(e){return IW(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,s&&Fce(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var u=n[r];u&&e(t,u,r,o)}return t})}var $ce=Object.prototype;function aL(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||$ce;return e===n}function Vce(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Hce="[object Arguments]";function GF(e){return rd(e)&&A0(e)==Hce}var kW=Object.prototype,Uce=kW.hasOwnProperty,jce=kW.propertyIsEnumerable,hx=GF(function(){return arguments}())?GF:function(e){return rd(e)&&Uce.call(e,"callee")&&!jce.call(e,"callee")};function Gce(){return!1}var PW=typeof exports=="object"&&exports&&!exports.nodeType&&exports,WF=PW&&typeof module=="object"&&module&&!module.nodeType&&module,Wce=WF&&WF.exports===PW,qF=Wce?_c.Buffer:void 0,qce=qF?qF.isBuffer:void 0,fx=qce||Gce,Kce="[object Arguments]",Yce="[object Array]",Zce="[object Boolean]",Xce="[object Date]",Jce="[object Error]",Qce="[object Function]",ede="[object Map]",tde="[object Number]",nde="[object Object]",rde="[object RegExp]",ide="[object Set]",ade="[object String]",ode="[object WeakMap]",sde="[object ArrayBuffer]",lde="[object DataView]",ude="[object Float32Array]",cde="[object Float64Array]",dde="[object Int8Array]",hde="[object Int16Array]",fde="[object Int32Array]",pde="[object Uint8Array]",mde="[object Uint8ClampedArray]",vde="[object Uint16Array]",gde="[object Uint32Array]",qa={};qa[ude]=qa[cde]=qa[dde]=qa[hde]=qa[fde]=qa[pde]=qa[mde]=qa[vde]=qa[gde]=!0;qa[Kce]=qa[Yce]=qa[sde]=qa[Zce]=qa[lde]=qa[Xce]=qa[Jce]=qa[Qce]=qa[ede]=qa[tde]=qa[nde]=qa[rde]=qa[ide]=qa[ade]=qa[ode]=!1;function _de(e){return rd(e)&&iL(e.length)&&!!qa[A0(e)]}function oL(e){return function(t){return e(t)}}var LW=typeof exports=="object"&&exports&&!exports.nodeType&&exports,$b=LW&&typeof module=="object"&&module&&!module.nodeType&&module,yde=$b&&$b.exports===LW,y5=yde&&wW.process,a_=function(){try{var e=$b&&$b.require&&$b.require("util").types;return e||y5&&y5.binding&&y5.binding("util")}catch{}}(),KF=a_&&a_.isTypedArray,sL=KF?oL(KF):_de,bde=Object.prototype,xde=bde.hasOwnProperty;function RW(e,t){var n=js(e),r=!n&&hx(e),i=!n&&!r&&fx(e),o=!n&&!r&&!i&&sL(e),s=n||r||i||o,u=s?Vce(e.length,String):[],a=u.length;for(var h in e)(t||xde.call(e,h))&&!(s&&(h=="length"||i&&(h=="offset"||h=="parent")||o&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||JC(h,a)))&&u.push(h);return u}function DW(e,t){return function(n){return e(t(n))}}var wde=DW(Object.keys,Object),Sde=Object.prototype,Cde=Sde.hasOwnProperty;function Tde(e){if(!aL(e))return wde(e);var t=[];for(var n in Object(e))Cde.call(e,n)&&n!="constructor"&&t.push(n);return t}function sw(e){return I_(e)?RW(e):Tde(e)}function Mde(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var Ede=Object.prototype,Ade=Ede.hasOwnProperty;function Ide(e){if(!Gs(e))return Mde(e);var t=aL(e),n=[];for(var r in e)r=="constructor"&&(t||!Ade.call(e,r))||n.push(r);return n}function lw(e){return I_(e)?RW(e,!0):Ide(e)}var kde=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pde=/^\w*$/;function lL(e,t){if(js(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||XC(e)?!0:Pde.test(e)||!kde.test(e)||t!=null&&e in Object(t)}var px=k0(Object,"create");function Lde(){this.__data__=px?px(null):{},this.size=0}function Rde(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Dde="__lodash_hash_undefined__",Ode=Object.prototype,zde=Ode.hasOwnProperty;function Bde(e){var t=this.__data__;if(px){var n=t[e];return n===Dde?void 0:n}return zde.call(t,e)?t[e]:void 0}var Fde=Object.prototype,Nde=Fde.hasOwnProperty;function $de(e){var t=this.__data__;return px?t[e]!==void 0:Nde.call(t,e)}var Vde="__lodash_hash_undefined__";function Hde(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=px&&t===void 0?Vde:t,this}function h0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}h0.prototype.clear=Lde;h0.prototype.delete=Rde;h0.prototype.get=Bde;h0.prototype.has=$de;h0.prototype.set=Hde;function Ude(){this.__data__=[],this.size=0}function QC(e,t){for(var n=e.length;n--;)if(ow(e[n][0],t))return n;return-1}var jde=Array.prototype,Gde=jde.splice;function Wde(e){var t=this.__data__,n=QC(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Gde.call(t,n,1),--this.size,!0}function qde(e){var t=this.__data__,n=QC(t,e);return n<0?void 0:t[n][1]}function Kde(e){return QC(this.__data__,e)>-1}function Yde(e,t){var n=this.__data__,r=QC(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function gh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}gh.prototype.clear=Ude;gh.prototype.delete=Wde;gh.prototype.get=qde;gh.prototype.has=Kde;gh.prototype.set=Yde;var mx=k0(_c,"Map");function Zde(){this.size=0,this.__data__={hash:new h0,map:new(mx||gh),string:new h0}}function Xde(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function e8(e,t){var n=e.__data__;return Xde(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Jde(e){var t=e8(this,e).delete(e);return this.size-=t?1:0,t}function Qde(e){return e8(this,e).get(e)}function ehe(e){return e8(this,e).has(e)}function the(e,t){var n=e8(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function _h(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_h.prototype.clear=Zde;_h.prototype.delete=Jde;_h.prototype.get=Qde;_h.prototype.has=ehe;_h.prototype.set=the;var nhe="Expected a function";function t8(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(nhe);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(t8.Cache||_h),n}t8.Cache=_h;var rhe=500;function ihe(e){var t=t8(e,function(r){return n.size===rhe&&n.clear(),r}),n=t.cache;return t}var ahe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ohe=/\\(\\)?/g,she=ihe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(ahe,function(n,r,i,o){t.push(i?o.replace(ohe,"$1"):r||n)}),t});function lhe(e){return e==null?"":CW(e)}function k_(e,t){return js(e)?e:lL(e,t)?[e]:she(lhe(e))}var uhe=1/0;function P_(e){if(typeof e=="string"||XC(e))return e;var t=e+"";return t=="0"&&1/e==-uhe?"-0":t}function n8(e,t){t=k_(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[P_(t[n++])];return n&&n==r?e:void 0}function Ka(e,t,n){var r=e==null?void 0:n8(e,t);return r===void 0?n:r}function uL(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var YF=Eu?Eu.isConcatSpreadable:void 0;function che(e){return js(e)||hx(e)||!!(YF&&e&&e[YF])}function uw(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=che),i||(i=[]);++o<s;){var u=e[o];t>0&&n(u)?t>1?uw(u,t-1,n,r,i):uL(i,u):r||(i[i.length]=u)}return i}function OW(e){var t=e==null?0:e.length;return t?uw(e,1):[]}function zW(e){return MW(AW(e,void 0,OW),e+"")}var cL=DW(Object.getPrototypeOf,Object),dhe="[object Object]",hhe=Function.prototype,fhe=Object.prototype,BW=hhe.toString,phe=fhe.hasOwnProperty,mhe=BW.call(Object);function FW(e){if(!rd(e)||A0(e)!=dhe)return!1;var t=cL(e);if(t===null)return!0;var n=phe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&BW.call(n)==mhe}function vhe(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}function vs(){if(!arguments.length)return[];var e=arguments[0];return js(e)?e:[e]}function ghe(){this.__data__=new gh,this.size=0}function _he(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function yhe(e){return this.__data__.get(e)}function bhe(e){return this.__data__.has(e)}var xhe=200;function whe(e,t){var n=this.__data__;if(n instanceof gh){var r=n.__data__;if(!mx||r.length<xhe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new _h(r)}return n.set(e,t),this.size=n.size,this}function dc(e){var t=this.__data__=new gh(e);this.size=t.size}dc.prototype.clear=ghe;dc.prototype.delete=_he;dc.prototype.get=yhe;dc.prototype.has=bhe;dc.prototype.set=whe;function She(e,t){return e&&A_(t,sw(t),e)}function Che(e,t){return e&&A_(t,lw(t),e)}var NW=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ZF=NW&&typeof module=="object"&&module&&!module.nodeType&&module,The=ZF&&ZF.exports===NW,XF=The?_c.Buffer:void 0,JF=XF?XF.allocUnsafe:void 0;function $W(e,t){if(t)return e.slice();var n=e.length,r=JF?JF(n):new e.constructor(n);return e.copy(r),r}function Mhe(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function VW(){return[]}var Ehe=Object.prototype,Ahe=Ehe.propertyIsEnumerable,QF=Object.getOwnPropertySymbols,dL=QF?function(e){return e==null?[]:(e=Object(e),Mhe(QF(e),function(t){return Ahe.call(e,t)}))}:VW;function Ihe(e,t){return A_(e,dL(e),t)}var khe=Object.getOwnPropertySymbols,HW=khe?function(e){for(var t=[];e;)uL(t,dL(e)),e=cL(e);return t}:VW;function Phe(e,t){return A_(e,HW(e),t)}function UW(e,t,n){var r=t(e);return js(e)?r:uL(r,n(e))}function UA(e){return UW(e,sw,dL)}function jW(e){return UW(e,lw,HW)}var jA=k0(_c,"DataView"),GA=k0(_c,"Promise"),$g=k0(_c,"Set"),e7="[object Map]",Lhe="[object Object]",t7="[object Promise]",n7="[object Set]",r7="[object WeakMap]",i7="[object DataView]",Rhe=I0(jA),Dhe=I0(mx),Ohe=I0(GA),zhe=I0($g),Bhe=I0(HA),ic=A0;(jA&&ic(new jA(new ArrayBuffer(1)))!=i7||mx&&ic(new mx)!=e7||GA&&ic(GA.resolve())!=t7||$g&&ic(new $g)!=n7||HA&&ic(new HA)!=r7)&&(ic=function(e){var t=A0(e),n=t==Lhe?e.constructor:void 0,r=n?I0(n):"";if(r)switch(r){case Rhe:return i7;case Dhe:return e7;case Ohe:return t7;case zhe:return n7;case Bhe:return r7}return t});var Fhe=Object.prototype,Nhe=Fhe.hasOwnProperty;function $he(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Nhe.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var OS=_c.Uint8Array;function hL(e){var t=new e.constructor(e.byteLength);return new OS(t).set(new OS(e)),t}function Vhe(e,t){var n=t?hL(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var Hhe=/\w*$/;function Uhe(e){var t=new e.constructor(e.source,Hhe.exec(e));return t.lastIndex=e.lastIndex,t}var a7=Eu?Eu.prototype:void 0,o7=a7?a7.valueOf:void 0;function jhe(e){return o7?Object(o7.call(e)):{}}function GW(e,t){var n=t?hL(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var Ghe="[object Boolean]",Whe="[object Date]",qhe="[object Map]",Khe="[object Number]",Yhe="[object RegExp]",Zhe="[object Set]",Xhe="[object String]",Jhe="[object Symbol]",Qhe="[object ArrayBuffer]",efe="[object DataView]",tfe="[object Float32Array]",nfe="[object Float64Array]",rfe="[object Int8Array]",ife="[object Int16Array]",afe="[object Int32Array]",ofe="[object Uint8Array]",sfe="[object Uint8ClampedArray]",lfe="[object Uint16Array]",ufe="[object Uint32Array]";function cfe(e,t,n){var r=e.constructor;switch(t){case Qhe:return hL(e);case Ghe:case Whe:return new r(+e);case efe:return Vhe(e,n);case tfe:case nfe:case rfe:case ife:case afe:case ofe:case sfe:case lfe:case ufe:return GW(e,n);case qhe:return new r;case Khe:case Xhe:return new r(e);case Yhe:return Uhe(e);case Zhe:return new r;case Jhe:return jhe(e)}}function WW(e){return typeof e.constructor=="function"&&!aL(e)?yce(cL(e)):{}}var dfe="[object Map]";function hfe(e){return rd(e)&&ic(e)==dfe}var s7=a_&&a_.isMap,ffe=s7?oL(s7):hfe,pfe="[object Set]";function mfe(e){return rd(e)&&ic(e)==pfe}var l7=a_&&a_.isSet,vfe=l7?oL(l7):mfe,gfe=1,_fe=2,yfe=4,qW="[object Arguments]",bfe="[object Array]",xfe="[object Boolean]",wfe="[object Date]",Sfe="[object Error]",KW="[object Function]",Cfe="[object GeneratorFunction]",Tfe="[object Map]",Mfe="[object Number]",YW="[object Object]",Efe="[object RegExp]",Afe="[object Set]",Ife="[object String]",kfe="[object Symbol]",Pfe="[object WeakMap]",Lfe="[object ArrayBuffer]",Rfe="[object DataView]",Dfe="[object Float32Array]",Ofe="[object Float64Array]",zfe="[object Int8Array]",Bfe="[object Int16Array]",Ffe="[object Int32Array]",Nfe="[object Uint8Array]",$fe="[object Uint8ClampedArray]",Vfe="[object Uint16Array]",Hfe="[object Uint32Array]",$a={};$a[qW]=$a[bfe]=$a[Lfe]=$a[Rfe]=$a[xfe]=$a[wfe]=$a[Dfe]=$a[Ofe]=$a[zfe]=$a[Bfe]=$a[Ffe]=$a[Tfe]=$a[Mfe]=$a[YW]=$a[Efe]=$a[Afe]=$a[Ife]=$a[kfe]=$a[Nfe]=$a[$fe]=$a[Vfe]=$a[Hfe]=!0;$a[Sfe]=$a[KW]=$a[Pfe]=!1;function Vg(e,t,n,r,i,o){var s,u=t&gfe,a=t&_fe,h=t&yfe;if(n&&(s=i?n(e,r,i,o):n(e)),s!==void 0)return s;if(!Gs(e))return e;var m=js(e);if(m){if(s=$he(e),!u)return TW(e,s)}else{var v=ic(e),_=v==KW||v==Cfe;if(fx(e))return $W(e,u);if(v==YW||v==qW||_&&!i){if(s=a||_?{}:WW(e),!u)return a?Phe(e,Che(s,e)):Ihe(e,She(s,e))}else{if(!$a[v])return i?e:{};s=cfe(e,v,u)}}o||(o=new dc);var b=o.get(e);if(b)return b;o.set(e,s),vfe(e)?e.forEach(function(E){s.add(Vg(E,t,n,E,e,o))}):ffe(e)&&e.forEach(function(E,k){s.set(k,Vg(E,t,n,k,e,o))});var T=h?a?jW:UA:a?lw:sw,M=m?void 0:T(e);return Ace(M||e,function(E,k){M&&(k=E,E=e[k]),rL(s,k,Vg(E,t,n,k,e,o))}),s}var Ufe=4;function u7(e){return Vg(e,Ufe)}var jfe=1,Gfe=4;function zS(e){return Vg(e,jfe|Gfe)}var Wfe="__lodash_hash_undefined__";function qfe(e){return this.__data__.set(e,Wfe),this}function Kfe(e){return this.__data__.has(e)}function vx(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new _h;++t<n;)this.add(e[t])}vx.prototype.add=vx.prototype.push=qfe;vx.prototype.has=Kfe;function Yfe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function ZW(e,t){return e.has(t)}var Zfe=1,Xfe=2;function XW(e,t,n,r,i,o){var s=n&Zfe,u=e.length,a=t.length;if(u!=a&&!(s&&a>u))return!1;var h=o.get(e),m=o.get(t);if(h&&m)return h==t&&m==e;var v=-1,_=!0,b=n&Xfe?new vx:void 0;for(o.set(e,t),o.set(t,e);++v<u;){var T=e[v],M=t[v];if(r)var E=s?r(M,T,v,t,e,o):r(T,M,v,e,t,o);if(E!==void 0){if(E)continue;_=!1;break}if(b){if(!Yfe(t,function(k,z){if(!ZW(b,z)&&(T===k||i(T,k,n,r,o)))return b.push(z)})){_=!1;break}}else if(!(T===M||i(T,M,n,r,o))){_=!1;break}}return o.delete(e),o.delete(t),_}function Jfe(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function fL(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Qfe=1,epe=2,tpe="[object Boolean]",npe="[object Date]",rpe="[object Error]",ipe="[object Map]",ape="[object Number]",ope="[object RegExp]",spe="[object Set]",lpe="[object String]",upe="[object Symbol]",cpe="[object ArrayBuffer]",dpe="[object DataView]",c7=Eu?Eu.prototype:void 0,b5=c7?c7.valueOf:void 0;function hpe(e,t,n,r,i,o,s){switch(n){case dpe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case cpe:return!(e.byteLength!=t.byteLength||!o(new OS(e),new OS(t)));case tpe:case npe:case ape:return ow(+e,+t);case rpe:return e.name==t.name&&e.message==t.message;case ope:case lpe:return e==t+"";case ipe:var u=Jfe;case spe:var a=r&Qfe;if(u||(u=fL),e.size!=t.size&&!a)return!1;var h=s.get(e);if(h)return h==t;r|=epe,s.set(e,t);var m=XW(u(e),u(t),r,i,o,s);return s.delete(e),m;case upe:if(b5)return b5.call(e)==b5.call(t)}return!1}var fpe=1,ppe=Object.prototype,mpe=ppe.hasOwnProperty;function vpe(e,t,n,r,i,o){var s=n&fpe,u=UA(e),a=u.length,h=UA(t),m=h.length;if(a!=m&&!s)return!1;for(var v=a;v--;){var _=u[v];if(!(s?_ in t:mpe.call(t,_)))return!1}var b=o.get(e),T=o.get(t);if(b&&T)return b==t&&T==e;var M=!0;o.set(e,t),o.set(t,e);for(var E=s;++v<a;){_=u[v];var k=e[_],z=t[_];if(r)var B=s?r(z,k,_,t,e,o):r(k,z,_,e,t,o);if(!(B===void 0?k===z||i(k,z,n,r,o):B)){M=!1;break}E||(E=_=="constructor")}if(M&&!E){var U=e.constructor,W=t.constructor;U!=W&&"constructor"in e&&"constructor"in t&&!(typeof U=="function"&&U instanceof U&&typeof W=="function"&&W instanceof W)&&(M=!1)}return o.delete(e),o.delete(t),M}var gpe=1,d7="[object Arguments]",h7="[object Array]",S6="[object Object]",_pe=Object.prototype,f7=_pe.hasOwnProperty;function ype(e,t,n,r,i,o){var s=js(e),u=js(t),a=s?h7:ic(e),h=u?h7:ic(t);a=a==d7?S6:a,h=h==d7?S6:h;var m=a==S6,v=h==S6,_=a==h;if(_&&fx(e)){if(!fx(t))return!1;s=!0,m=!1}if(_&&!m)return o||(o=new dc),s||sL(e)?XW(e,t,n,r,i,o):hpe(e,t,a,n,r,i,o);if(!(n&gpe)){var b=m&&f7.call(e,"__wrapped__"),T=v&&f7.call(t,"__wrapped__");if(b||T){var M=b?e.value():e,E=T?t.value():t;return o||(o=new dc),i(M,E,n,r,o)}}return _?(o||(o=new dc),vpe(e,t,n,r,i,o)):!1}function r8(e,t,n,r,i){return e===t?!0:e==null||t==null||!rd(e)&&!rd(t)?e!==e&&t!==t:ype(e,t,n,r,r8,i)}var bpe=1,xpe=2;function wpe(e,t,n,r){var i=n.length,o=i;if(e==null)return!o;for(e=Object(e);i--;){var s=n[i];if(s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){s=n[i];var u=s[0],a=e[u],h=s[1];if(s[2]){if(a===void 0&&!(u in e))return!1}else{var m=new dc,v;if(!(v===void 0?r8(h,a,bpe|xpe,r,m):v))return!1}}return!0}function JW(e){return e===e&&!Gs(e)}function Spe(e){for(var t=sw(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,JW(i)]}return t}function QW(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function Cpe(e){var t=Spe(e);return t.length==1&&t[0][2]?QW(t[0][0],t[0][1]):function(n){return n===e||wpe(n,e,t)}}function Tpe(e,t){return e!=null&&t in Object(e)}function Mpe(e,t,n){t=k_(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var s=P_(t[r]);if(!(o=e!=null&&n(e,s)))break;e=e[s]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&iL(i)&&JC(s,i)&&(js(e)||hx(e)))}function eq(e,t){return e!=null&&Mpe(e,t,Tpe)}var Epe=1,Ape=2;function Ipe(e,t){return lL(e)&&JW(t)?QW(P_(e),t):function(n){var r=Ka(n,e);return r===void 0&&r===t?eq(n,e):r8(t,r,Epe|Ape)}}function kpe(e){return function(t){return t==null?void 0:t[e]}}function Ppe(e){return function(t){return n8(t,e)}}function Lpe(e){return lL(e)?kpe(P_(e)):Ppe(e)}function tq(e){return typeof e=="function"?e:e==null?eL:typeof e=="object"?js(e)?Ipe(e[0],e[1]):Cpe(e):Lpe(e)}function Rpe(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),u=s.length;u--;){var a=s[++i];if(n(o[a],a,o)===!1)break}return t}}var nq=Rpe();function Dpe(e,t){return e&&nq(e,t,sw)}function Ope(e,t){return function(n,r){if(n==null)return n;if(!I_(n))return e(n,r);for(var i=n.length,o=-1,s=Object(n);++o<i&&r(s[o],o,s)!==!1;);return n}}var zpe=Ope(Dpe),x5=function(){return _c.Date.now()},Bpe="Expected a function",Fpe=Math.max,Npe=Math.min;function mo(e,t,n){var r,i,o,s,u,a,h=0,m=!1,v=!1,_=!0;if(typeof e!="function")throw new TypeError(Bpe);t=VF(t)||0,Gs(n)&&(m=!!n.leading,v="maxWait"in n,o=v?Fpe(VF(n.maxWait)||0,t):o,_="trailing"in n?!!n.trailing:_);function b(q){var Q=r,te=i;return r=i=void 0,h=q,s=e.apply(te,Q),s}function T(q){return h=q,u=setTimeout(k,t),m?b(q):s}function M(q){var Q=q-a,te=q-h,ie=t-Q;return v?Npe(ie,o-te):ie}function E(q){var Q=q-a,te=q-h;return a===void 0||Q>=t||Q<0||v&&te>=o}function k(){var q=x5();if(E(q))return z(q);u=setTimeout(k,M(q))}function z(q){return u=void 0,_&&r?b(q):(r=i=void 0,s)}function B(){u!==void 0&&clearTimeout(u),h=0,r=a=i=u=void 0}function U(){return u===void 0?s:z(x5())}function W(){var q=x5(),Q=E(q);if(r=arguments,i=this,a=q,Q){if(u===void 0)return T(a);if(v)return clearTimeout(u),u=setTimeout(k,t),b(a)}return u===void 0&&(u=setTimeout(k,t)),s}return W.cancel=B,W.flush=U,W}function WA(e,t,n){(n!==void 0&&!ow(e[t],n)||n===void 0&&!(t in e))&&nL(e,t,n)}function rq(e){return rd(e)&&I_(e)}function qA(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function $pe(e){return A_(e,lw(e))}function Vpe(e,t,n,r,i,o,s){var u=qA(e,n),a=qA(t,n),h=s.get(a);if(h){WA(e,n,h);return}var m=o?o(u,a,n+"",e,t,s):void 0,v=m===void 0;if(v){var _=js(a),b=!_&&fx(a),T=!_&&!b&&sL(a);m=a,_||b||T?js(u)?m=u:rq(u)?m=TW(u):b?(v=!1,m=$W(a,!0)):T?(v=!1,m=GW(a,!0)):m=[]:FW(a)||hx(a)?(m=u,hx(u)?m=$pe(u):(!Gs(u)||tL(u))&&(m=WW(a))):v=!1}v&&(s.set(a,m),i(m,a,r,o,s),s.delete(a)),WA(e,n,m)}function iq(e,t,n,r,i){e!==t&&nq(t,function(o,s){if(i||(i=new dc),Gs(o))Vpe(e,t,s,n,iq,r,i);else{var u=r?r(qA(e,s),o,s+"",e,t,i):void 0;u===void 0&&(u=o),WA(e,s,u)}},lw)}function Hpe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function aq(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=r-1;return EW(e,tq(t),i,!0)}function Upe(e,t){var n=-1,r=I_(e)?Array(e.length):[];return zpe(e,function(i,o,s){r[++n]=t(i,o,s)}),r}function jpe(e,t){var n=js(e)?QP:Upe;return n(e,tq(t))}function Gpe(e,t){return uw(jpe(e,t),1)}var Wpe=1/0;function qpe(e){var t=e==null?0:e.length;return t?uw(e,Wpe):[]}function gx(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}function Kpe(e,t){return t.length<2?e:n8(e,vhe(t,0,-1))}function ys(e,t){return r8(e,t)}function So(e){return e==null}function oq(e){return e===void 0}var Vb=Nce(function(e,t,n){iq(e,t,n)});function Ype(e,t){return t=k_(t,e),e=Kpe(e,t),e==null||delete e[P_(Hpe(t))]}function Zpe(e){return FW(e)?void 0:e}var Xpe=1,Jpe=2,Qpe=4,eme=zW(function(e,t){var n={};if(e==null)return n;var r=!1;t=QP(t,function(o){return o=k_(o,e),r||(r=o.length>1),o}),A_(e,jW(e),n),r&&(n=Vg(n,Xpe|Jpe|Qpe,Zpe));for(var i=t.length;i--;)Ype(n,t[i]);return n});function sq(e,t,n,r){if(!Gs(e))return e;t=k_(t,e);for(var i=-1,o=t.length,s=o-1,u=e;u!=null&&++i<o;){var a=P_(t[i]),h=n;if(a==="__proto__"||a==="constructor"||a==="prototype")return e;if(i!=s){var m=u[a];h=void 0,h===void 0&&(h=Gs(m)?m:JC(t[i+1])?[]:{})}rL(u,a,h),u=u[a]}return e}function tme(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],u=n8(e,s);n(u,s)&&sq(o,k_(s,e),u)}return o}function nme(e,t){return tme(e,t,function(n,r){return eq(e,r)})}var oc=zW(function(e,t){return e==null?{}:nme(e,t)});function rme(e,t,n){return e==null?e:sq(e,t,n)}var ime="Expected a function";function e0(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(ime);return Gs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),mo(e,t,{leading:r,maxWait:t,trailing:i})}var ame=1/0,ome=$g&&1/fL(new $g([,-0]))[1]==ame?function(e){return new $g(e)}:xce,sme=200;function lme(e,t,n){var r=-1,i=Lce,o=e.length,s=!0,u=[],a=u;if(o>=sme){var h=ome(e);if(h)return fL(h);s=!1,i=ZW,a=new vx}else a=u;e:for(;++r<o;){var m=e[r],v=m;if(m=m!==0?m:0,s&&v===v){for(var _=a.length;_--;)if(a[_]===v)continue e;u.push(m)}else i(a,v,n)||(a!==u&&a.push(v),u.push(m))}return u}var w5=IW(function(e){return lme(uw(e,1,rq,!0))});const Oa=e=>e===void 0,za=e=>typeof e=="boolean",Jn=e=>typeof e=="number",Dl=e=>!e&&e!==0||Tn(e)&&e.length===0||Ar(e)&&!Object.keys(e).length,Fl=e=>typeof Element>"u"?!1:e instanceof Element,f0=e=>So(e),ume=e=>Qn(e)?!Number.isNaN(Number(e)):!1,i8=e=>e===window,lp=e=>ri?window.requestAnimationFrame(e):setTimeout(e,16),p0=e=>ri?window.cancelAnimationFrame(e):clearTimeout(e),pL=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Kc=e=>nw(e),o_=e=>Object.keys(e),cme=e=>Object.entries(e),F3=(e,t,n)=>({get value(){return Ka(e,t,n)},set value(r){rme(e,t,r)}});class dme extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function vo(e,t){throw new dme(`[${e}] ${t}`)}const lq=(e="")=>e.split(" ").filter(t=>!!t.trim()),ll=(e,t)=>{if(!e||!t)return!1;if(t.includes(" "))throw new Error("className should not contain space.");return e.classList.contains(t)},bu=(e,t)=>{!e||!t.trim()||e.classList.add(...lq(t))},bs=(e,t)=>{!e||!t.trim()||e.classList.remove(...lq(t))},Hf=(e,t)=>{var n;if(!ri||!e||!t)return"";let r=pl(t);r==="float"&&(r="cssFloat");try{const i=e.style[r];if(i)return i;const o=(n=document.defaultView)==null?void 0:n.getComputedStyle(e,"");return o?o[r]:""}catch{return e.style[r]}};function Ua(e,t="px"){if(!e)return"";if(Jn(e)||ume(e))return`${e}${t}`;if(Qn(e))return e}const hme=(e,t)=>{if(!ri)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(t)],r=Hf(e,n);return["scroll","auto","overlay"].some(i=>r.includes(i))},mL=(e,t)=>{if(!ri)return;let n=e;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(hme(n,t))return n;n=n.parentNode}return n};let C6;const uq=e=>{var t;if(!ri)return 0;if(C6!==void 0)return C6;const n=document.createElement("div");n.className=`${e}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const r=n.offsetWidth;n.style.overflow="scroll";const i=document.createElement("div");i.style.width="100%",n.appendChild(i);const o=i.offsetWidth;return(t=n.parentNode)==null||t.removeChild(n),C6=r-o,C6};function vL(e,t){if(!ri)return;if(!t){e.scrollTop=0;return}const n=[];let r=t.offsetParent;for(;r!==null&&e!==r&&e.contains(r);)n.push(r),r=r.offsetParent;const i=t.offsetTop+n.reduce((a,h)=>a+h.offsetTop,0),o=i+t.offsetHeight,s=e.scrollTop,u=s+e.clientHeight;i<s?e.scrollTop=i:o>u&&(e.scrollTop=o-e.clientHeight)}function fme(e,t,n,r,i){const o=Date.now();let s;const u=()=>{const h=Date.now()-o,m=Bue(h>r?r:h,t,n,r);i8(e)?e.scrollTo(window.pageXOffset,m):e.scrollTop=m,h<r?s=lp(u):typeof i=="function"&&i()};return u(),()=>{s&&p0(s)}}const p7=(e,t)=>i8(t)?e.ownerDocument.documentElement:t,m7=e=>i8(e)?window.scrollY:e.scrollTop,T6=e=>{if(!ri||e==="")return null;if(Qn(e))try{return document.querySelector(e)}catch{return null}return e};/*! Element Plus Icons Vue v2.3.1 */var pme=ge({name:"AddLocation",__name:"add-location",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M288 896h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32"}),ue("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416M512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544"}),ue("path",{fill:"currentColor",d:"M544 384h96a32 32 0 1 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96v-96a32 32 0 0 1 64 0z"})]))}}),mme=pme,vme=ge({name:"Aim",__name:"aim",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),ue("path",{fill:"currentColor",d:"M512 96a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V128a32 32 0 0 1 32-32m0 576a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V704a32 32 0 0 1 32-32M96 512a32 32 0 0 1 32-32h192a32 32 0 0 1 0 64H128a32 32 0 0 1-32-32m576 0a32 32 0 0 1 32-32h192a32 32 0 1 1 0 64H704a32 32 0 0 1-32-32"})]))}}),gme=vme,_me=ge({name:"AlarmClock",__name:"alarm-clock",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 832a320 320 0 1 0 0-640 320 320 0 0 0 0 640m0 64a384 384 0 1 1 0-768 384 384 0 0 1 0 768"}),ue("path",{fill:"currentColor",d:"m292.288 824.576 55.424 32-48 83.136a32 32 0 1 1-55.424-32zm439.424 0-55.424 32 48 83.136a32 32 0 1 0 55.424-32zM512 512h160a32 32 0 1 1 0 64H480a32 32 0 0 1-32-32V320a32 32 0 0 1 64 0zM90.496 312.256A160 160 0 0 1 312.32 90.496l-46.848 46.848a96 96 0 0 0-128 128L90.56 312.256zm835.264 0A160 160 0 0 0 704 90.496l46.848 46.848a96 96 0 0 1 128 128z"})]))}}),yme=_me,bme=ge({name:"Apple",__name:"apple",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M599.872 203.776a189.44 189.44 0 0 1 64.384-4.672l2.624.128c31.168 1.024 51.2 4.096 79.488 16.32 37.632 16.128 74.496 45.056 111.488 89.344 96.384 115.264 82.752 372.8-34.752 521.728-7.68 9.728-32 41.6-30.72 39.936a426.624 426.624 0 0 1-30.08 35.776c-31.232 32.576-65.28 49.216-110.08 50.048-31.36.64-53.568-5.312-84.288-18.752l-6.528-2.88c-20.992-9.216-30.592-11.904-47.296-11.904-18.112 0-28.608 2.88-51.136 12.672l-6.464 2.816c-28.416 12.224-48.32 18.048-76.16 19.2-74.112 2.752-116.928-38.08-180.672-132.16-96.64-142.08-132.608-349.312-55.04-486.4 46.272-81.92 129.92-133.632 220.672-135.04 32.832-.576 60.288 6.848 99.648 22.72 27.136 10.88 34.752 13.76 37.376 14.272 16.256-20.16 27.776-36.992 34.56-50.24 13.568-26.304 27.2-59.968 40.704-100.8a32 32 0 1 1 60.8 20.224c-12.608 37.888-25.408 70.4-38.528 97.664zm-51.52 78.08c-14.528 17.792-31.808 37.376-51.904 58.816a32 32 0 1 1-46.72-43.776l12.288-13.248c-28.032-11.2-61.248-26.688-95.68-26.112-70.4 1.088-135.296 41.6-171.648 105.792C121.6 492.608 176 684.16 247.296 788.992c34.816 51.328 76.352 108.992 130.944 106.944 52.48-2.112 72.32-34.688 135.872-34.688 63.552 0 81.28 34.688 136.96 33.536 56.448-1.088 75.776-39.04 126.848-103.872 107.904-136.768 107.904-362.752 35.776-449.088-72.192-86.272-124.672-84.096-151.68-85.12-41.472-4.288-81.6 12.544-113.664 25.152z"})]))}}),xme=bme,wme=ge({name:"ArrowDownBold",__name:"arrow-down-bold",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M104.704 338.752a64 64 0 0 1 90.496 0l316.8 316.8 316.8-316.8a64 64 0 0 1 90.496 90.496L557.248 791.296a64 64 0 0 1-90.496 0L104.704 429.248a64 64 0 0 1 0-90.496z"})]))}}),Sme=wme,Cme=ge({name:"ArrowDown",__name:"arrow-down",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),cd=Cme,Tme=ge({name:"ArrowLeftBold",__name:"arrow-left-bold",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M685.248 104.704a64 64 0 0 1 0 90.496L368.448 512l316.8 316.8a64 64 0 0 1-90.496 90.496L232.704 557.248a64 64 0 0 1 0-90.496l362.048-362.048a64 64 0 0 1 90.496 0z"})]))}}),Mme=Tme,Eme=ge({name:"ArrowLeft",__name:"arrow-left",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),sh=Eme,Ame=ge({name:"ArrowRightBold",__name:"arrow-right-bold",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M338.752 104.704a64 64 0 0 0 0 90.496l316.8 316.8-316.8 316.8a64 64 0 0 0 90.496 90.496l362.048-362.048a64 64 0 0 0 0-90.496L429.248 104.704a64 64 0 0 0-90.496 0z"})]))}}),Ime=Ame,kme=ge({name:"ArrowRight",__name:"arrow-right",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),xs=kme,Pme=ge({name:"ArrowUpBold",__name:"arrow-up-bold",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M104.704 685.248a64 64 0 0 0 90.496 0l316.8-316.8 316.8 316.8a64 64 0 0 0 90.496-90.496L557.248 232.704a64 64 0 0 0-90.496 0L104.704 594.752a64 64 0 0 0 0 90.496z"})]))}}),Lme=Pme,Rme=ge({name:"ArrowUp",__name:"arrow-up",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),a8=Rme,Dme=ge({name:"Avatar",__name:"avatar",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M628.736 528.896A416 416 0 0 1 928 928H96a415.872 415.872 0 0 1 299.264-399.104L512 704zM720 304a208 208 0 1 1-416 0 208 208 0 0 1 416 0"})]))}}),Ome=Dme,zme=ge({name:"Back",__name:"back",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),ue("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}}),cq=zme,Bme=ge({name:"Baseball",__name:"baseball",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M195.2 828.8a448 448 0 1 1 633.6-633.6 448 448 0 0 1-633.6 633.6zm45.248-45.248a384 384 0 1 0 543.104-543.104 384 384 0 0 0-543.104 543.104"}),ue("path",{fill:"currentColor",d:"M497.472 96.896c22.784 4.672 44.416 9.472 64.896 14.528a256.128 256.128 0 0 0 350.208 350.208c5.056 20.48 9.856 42.112 14.528 64.896A320.128 320.128 0 0 1 497.472 96.896zM108.48 491.904a320.128 320.128 0 0 1 423.616 423.68c-23.04-3.648-44.992-7.424-65.728-11.52a256.128 256.128 0 0 0-346.496-346.432 1736.64 1736.64 0 0 1-11.392-65.728z"})]))}}),Fme=Bme,Nme=ge({name:"Basketball",__name:"basketball",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M778.752 788.224a382.464 382.464 0 0 0 116.032-245.632 256.512 256.512 0 0 0-241.728-13.952 762.88 762.88 0 0 1 125.696 259.584zm-55.04 44.224a699.648 699.648 0 0 0-125.056-269.632 256.128 256.128 0 0 0-56.064 331.968 382.72 382.72 0 0 0 181.12-62.336m-254.08 61.248A320.128 320.128 0 0 1 557.76 513.6a715.84 715.84 0 0 0-48.192-48.128 320.128 320.128 0 0 1-379.264 88.384 382.4 382.4 0 0 0 110.144 229.696 382.4 382.4 0 0 0 229.184 110.08zM129.28 481.088a256.128 256.128 0 0 0 331.072-56.448 699.648 699.648 0 0 0-268.8-124.352 382.656 382.656 0 0 0-62.272 180.8m106.56-235.84a762.88 762.88 0 0 1 258.688 125.056 256.512 256.512 0 0 0-13.44-241.088A382.464 382.464 0 0 0 235.84 245.248zm318.08-114.944c40.576 89.536 37.76 193.92-8.448 281.344a779.84 779.84 0 0 1 66.176 66.112 320.832 320.832 0 0 1 282.112-8.128 382.4 382.4 0 0 0-110.144-229.12 382.4 382.4 0 0 0-229.632-110.208zM828.8 828.8a448 448 0 1 1-633.6-633.6 448 448 0 0 1 633.6 633.6"})]))}}),$me=Nme,Vme=ge({name:"BellFilled",__name:"bell-filled",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M640 832a128 128 0 0 1-256 0zm192-64H134.4a38.4 38.4 0 0 1 0-76.8H192V448c0-154.88 110.08-284.16 256.32-313.6a64 64 0 1 1 127.36 0A320.128 320.128 0 0 1 832 448v243.2h57.6a38.4 38.4 0 0 1 0 76.8z"})]))}}),Hme=Vme,Ume=ge({name:"Bell",__name:"bell",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 64a64 64 0 0 1 64 64v64H448v-64a64 64 0 0 1 64-64"}),ue("path",{fill:"currentColor",d:"M256 768h512V448a256 256 0 1 0-512 0zm256-640a320 320 0 0 1 320 320v384H192V448a320 320 0 0 1 320-320"}),ue("path",{fill:"currentColor",d:"M96 768h832q32 0 32 32t-32 32H96q-32 0-32-32t32-32m352 128h128a64 64 0 0 1-128 0"})]))}}),jme=Ume,Gme=ge({name:"Bicycle",__name:"bicycle",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M256 832a128 128 0 1 0 0-256 128 128 0 0 0 0 256m0 64a192 192 0 1 1 0-384 192 192 0 0 1 0 384"}),ue("path",{fill:"currentColor",d:"M288 672h320q32 0 32 32t-32 32H288q-32 0-32-32t32-32"}),ue("path",{fill:"currentColor",d:"M768 832a128 128 0 1 0 0-256 128 128 0 0 0 0 256m0 64a192 192 0 1 1 0-384 192 192 0 0 1 0 384"}),ue("path",{fill:"currentColor",d:"M480 192a32 32 0 0 1 0-64h160a32 32 0 0 1 31.04 24.256l96 384a32 32 0 0 1-62.08 15.488L615.04 192zM96 384a32 32 0 0 1 0-64h128a32 32 0 0 1 30.336 21.888l64 192a32 32 0 1 1-60.672 20.224L200.96 384z"}),ue("path",{fill:"currentColor",d:"m373.376 599.808-42.752-47.616 320-288 42.752 47.616z"})]))}}),Wme=Gme,qme=ge({name:"BottomLeft",__name:"bottom-left",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M256 768h416a32 32 0 1 1 0 64H224a32 32 0 0 1-32-32V352a32 32 0 0 1 64 0z"}),ue("path",{fill:"currentColor",d:"M246.656 822.656a32 32 0 0 1-45.312-45.312l544-544a32 32 0 0 1 45.312 45.312l-544 544z"})]))}}),Kme=qme,Yme=ge({name:"BottomRight",__name:"bottom-right",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M352 768a32 32 0 1 0 0 64h448a32 32 0 0 0 32-32V352a32 32 0 0 0-64 0v416z"}),ue("path",{fill:"currentColor",d:"M777.344 822.656a32 32 0 0 0 45.312-45.312l-544-544a32 32 0 0 0-45.312 45.312z"})]))}}),Zme=Yme,Xme=ge({name:"Bottom",__name:"bottom",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M544 805.888V168a32 32 0 1 0-64 0v637.888L246.656 557.952a30.72 30.72 0 0 0-45.312 0 35.52 35.52 0 0 0 0 48.064l288 306.048a30.72 30.72 0 0 0 45.312 0l288-306.048a35.52 35.52 0 0 0 0-48 30.72 30.72 0 0 0-45.312 0L544 805.824z"})]))}}),Jme=Xme,Qme=ge({name:"Bowl",__name:"bowl",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M714.432 704a351.744 351.744 0 0 0 148.16-256H161.408a351.744 351.744 0 0 0 148.16 256zM288 766.592A415.68 415.68 0 0 1 96 416a32 32 0 0 1 32-32h768a32 32 0 0 1 32 32 415.68 415.68 0 0 1-192 350.592V832a64 64 0 0 1-64 64H352a64 64 0 0 1-64-64zM493.248 320h-90.496l254.4-254.4a32 32 0 1 1 45.248 45.248zm187.328 0h-128l269.696-155.712a32 32 0 0 1 32 55.424zM352 768v64h320v-64z"})]))}}),e0e=Qme,t0e=ge({name:"Box",__name:"box",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M317.056 128 128 344.064V896h768V344.064L706.944 128zm-14.528-64h418.944a32 32 0 0 1 24.064 10.88l206.528 236.096A32 32 0 0 1 960 332.032V928a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V332.032a32 32 0 0 1 7.936-21.12L278.4 75.008A32 32 0 0 1 302.528 64z"}),ue("path",{fill:"currentColor",d:"M64 320h896v64H64z"}),ue("path",{fill:"currentColor",d:"M448 327.872V640h128V327.872L526.08 128h-28.16zM448 64h128l64 256v352a32 32 0 0 1-32 32H416a32 32 0 0 1-32-32V320z"})]))}}),n0e=t0e,r0e=ge({name:"Briefcase",__name:"briefcase",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M320 320V128h384v192h192v192H128V320zM128 576h768v320H128zm256-256h256.064V192H384z"})]))}}),i0e=r0e,a0e=ge({name:"BrushFilled",__name:"brush-filled",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M608 704v160a96 96 0 0 1-192 0V704h-96a128 128 0 0 1-128-128h640a128 128 0 0 1-128 128zM192 512V128.064h640V512z"})]))}}),o0e=a0e,s0e=ge({name:"Brush",__name:"brush",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M896 448H128v192a64 64 0 0 0 64 64h192v192h256V704h192a64 64 0 0 0 64-64zm-770.752-64c0-47.552 5.248-90.24 15.552-128 14.72-54.016 42.496-107.392 83.2-160h417.28l-15.36 70.336L736 96h211.2c-24.832 42.88-41.92 96.256-51.2 160a663.872 663.872 0 0 0-6.144 128H960v256a128 128 0 0 1-128 128H704v160a32 32 0 0 1-32 32H352a32 32 0 0 1-32-32V768H192A128 128 0 0 1 64 640V384h61.248zm64 0h636.544c-2.048-45.824.256-91.584 6.848-137.216 4.48-30.848 10.688-59.776 18.688-86.784h-96.64l-221.12 141.248L561.92 160H256.512c-25.856 37.888-43.776 75.456-53.952 112.832-8.768 32.064-13.248 69.12-13.312 111.168z"})]))}}),l0e=s0e,u0e=ge({name:"Burger",__name:"burger",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M160 512a32 32 0 0 0-32 32v64a32 32 0 0 0 30.08 32H864a32 32 0 0 0 32-32v-64a32 32 0 0 0-32-32zm736-58.56A96 96 0 0 1 960 544v64a96 96 0 0 1-51.968 85.312L855.36 833.6a96 96 0 0 1-89.856 62.272H258.496A96 96 0 0 1 168.64 833.6l-52.608-140.224A96 96 0 0 1 64 608v-64a96 96 0 0 1 64-90.56V448a384 384 0 1 1 768 5.44M832 448a320 320 0 0 0-640 0zM512 704H188.352l40.192 107.136a32 32 0 0 0 29.952 20.736h507.008a32 32 0 0 0 29.952-20.736L835.648 704z"})]))}}),c0e=u0e,d0e=ge({name:"Calendar",__name:"calendar",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),dq=d0e,h0e=ge({name:"CameraFilled",__name:"camera-filled",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M160 224a64 64 0 0 0-64 64v512a64 64 0 0 0 64 64h704a64 64 0 0 0 64-64V288a64 64 0 0 0-64-64H748.416l-46.464-92.672A64 64 0 0 0 644.736 96H379.328a64 64 0 0 0-57.216 35.392L275.776 224zm352 435.2a115.2 115.2 0 1 0 0-230.4 115.2 115.2 0 0 0 0 230.4m0 140.8a256 256 0 1 1 0-512 256 256 0 0 1 0 512"})]))}}),f0e=h0e,p0e=ge({name:"Camera",__name:"camera",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M896 256H128v576h768zm-199.424-64-32.064-64h-304.96l-32 64zM96 192h160l46.336-92.608A64 64 0 0 1 359.552 64h304.96a64 64 0 0 1 57.216 35.328L768.192 192H928a32 32 0 0 1 32 32v640a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V224a32 32 0 0 1 32-32m416 512a160 160 0 1 0 0-320 160 160 0 0 0 0 320m0 64a224 224 0 1 1 0-448 224 224 0 0 1 0 448"})]))}}),m0e=p0e,v0e=ge({name:"CaretBottom",__name:"caret-bottom",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m192 384 320 384 320-384z"})]))}}),g0e=v0e,_0e=ge({name:"CaretLeft",__name:"caret-left",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M672 192 288 511.936 672 832z"})]))}}),y0e=_0e,b0e=ge({name:"CaretRight",__name:"caret-right",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),gL=b0e,x0e=ge({name:"CaretTop",__name:"caret-top",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}}),hq=x0e,w0e=ge({name:"Cellphone",__name:"cellphone",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M256 128a64 64 0 0 0-64 64v640a64 64 0 0 0 64 64h512a64 64 0 0 0 64-64V192a64 64 0 0 0-64-64zm0-64h512a128 128 0 0 1 128 128v640a128 128 0 0 1-128 128H256a128 128 0 0 1-128-128V192A128 128 0 0 1 256 64m128 128h256a32 32 0 1 1 0 64H384a32 32 0 0 1 0-64m128 640a64 64 0 1 1 0-128 64 64 0 0 1 0 128"})]))}}),S0e=w0e,C0e=ge({name:"ChatDotRound",__name:"chat-dot-round",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m174.72 855.68 135.296-45.12 23.68 11.84C388.096 849.536 448.576 864 512 864c211.84 0 384-166.784 384-352S723.84 160 512 160 128 326.784 128 512c0 69.12 24.96 139.264 70.848 199.232l22.08 28.8-46.272 115.584zm-45.248 82.56A32 32 0 0 1 89.6 896l58.368-145.92C94.72 680.32 64 596.864 64 512 64 299.904 256 96 512 96s448 203.904 448 416-192 416-448 416a461.056 461.056 0 0 1-206.912-48.384l-175.616 58.56z"}),ue("path",{fill:"currentColor",d:"M512 563.2a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4m192 0a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4m-384 0a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4"})]))}}),T0e=C0e,M0e=ge({name:"ChatDotSquare",__name:"chat-dot-square",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M273.536 736H800a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64H224a64 64 0 0 0-64 64v570.88zM296 800 147.968 918.4A32 32 0 0 1 96 893.44V256a128 128 0 0 1 128-128h576a128 128 0 0 1 128 128v416a128 128 0 0 1-128 128z"}),ue("path",{fill:"currentColor",d:"M512 499.2a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4zm192 0a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4zm-384 0a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4z"})]))}}),E0e=M0e,A0e=ge({name:"ChatLineRound",__name:"chat-line-round",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m174.72 855.68 135.296-45.12 23.68 11.84C388.096 849.536 448.576 864 512 864c211.84 0 384-166.784 384-352S723.84 160 512 160 128 326.784 128 512c0 69.12 24.96 139.264 70.848 199.232l22.08 28.8-46.272 115.584zm-45.248 82.56A32 32 0 0 1 89.6 896l58.368-145.92C94.72 680.32 64 596.864 64 512 64 299.904 256 96 512 96s448 203.904 448 416-192 416-448 416a461.056 461.056 0 0 1-206.912-48.384l-175.616 58.56z"}),ue("path",{fill:"currentColor",d:"M352 576h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32m32-192h256q32 0 32 32t-32 32H384q-32 0-32-32t32-32"})]))}}),I0e=A0e,k0e=ge({name:"ChatLineSquare",__name:"chat-line-square",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M160 826.88 273.536 736H800a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64H224a64 64 0 0 0-64 64zM296 800 147.968 918.4A32 32 0 0 1 96 893.44V256a128 128 0 0 1 128-128h576a128 128 0 0 1 128 128v416a128 128 0 0 1-128 128z"}),ue("path",{fill:"currentColor",d:"M352 512h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32m0-192h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32"})]))}}),P0e=k0e,L0e=ge({name:"ChatRound",__name:"chat-round",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m174.72 855.68 130.048-43.392 23.424 11.392C382.4 849.984 444.352 864 512 864c223.744 0 384-159.872 384-352 0-192.832-159.104-352-384-352S128 319.168 128 512a341.12 341.12 0 0 0 69.248 204.288l21.632 28.8-44.16 110.528zm-45.248 82.56A32 32 0 0 1 89.6 896l56.512-141.248A405.12 405.12 0 0 1 64 512C64 299.904 235.648 96 512 96s448 203.904 448 416-173.44 416-448 416c-79.68 0-150.848-17.152-211.712-46.72l-170.88 56.96z"})]))}}),R0e=L0e,D0e=ge({name:"ChatSquare",__name:"chat-square",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M273.536 736H800a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64H224a64 64 0 0 0-64 64v570.88zM296 800 147.968 918.4A32 32 0 0 1 96 893.44V256a128 128 0 0 1 128-128h576a128 128 0 0 1 128 128v416a128 128 0 0 1-128 128z"})]))}}),O0e=D0e,z0e=ge({name:"Check",__name:"check",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),L_=z0e,B0e=ge({name:"Checked",__name:"checked",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M704 192h160v736H160V192h160.064v64H704zM311.616 537.28l-45.312 45.248L447.36 763.52l316.8-316.8-45.312-45.184L447.36 673.024zM384 192V96h256v96z"})]))}}),F0e=B0e,N0e=ge({name:"Cherry",__name:"cherry",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M261.056 449.6c13.824-69.696 34.88-128.96 63.36-177.728 23.744-40.832 61.12-88.64 112.256-143.872H320a32 32 0 0 1 0-64h384a32 32 0 1 1 0 64H554.752c14.912 39.168 41.344 86.592 79.552 141.76 47.36 68.48 84.8 106.752 106.304 114.304a224 224 0 1 1-84.992 14.784c-22.656-22.912-47.04-53.76-73.92-92.608-38.848-56.128-67.008-105.792-84.352-149.312-55.296 58.24-94.528 107.52-117.76 147.2-23.168 39.744-41.088 88.768-53.568 147.072a224.064 224.064 0 1 1-64.96-1.6zM288 832a160 160 0 1 0 0-320 160 160 0 0 0 0 320m448-64a160 160 0 1 0 0-320 160 160 0 0 0 0 320"})]))}}),$0e=N0e,V0e=ge({name:"Chicken",__name:"chicken",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M349.952 716.992 478.72 588.16a106.688 106.688 0 0 1-26.176-19.072 106.688 106.688 0 0 1-19.072-26.176L304.704 671.744c.768 3.072 1.472 6.144 2.048 9.216l2.048 31.936 31.872 1.984c3.136.64 6.208 1.28 9.28 2.112zm57.344 33.152a128 128 0 1 1-216.32 114.432l-1.92-32-32-1.92a128 128 0 1 1 114.432-216.32L416.64 469.248c-2.432-101.44 58.112-239.104 149.056-330.048 107.328-107.328 231.296-85.504 316.8 0 85.44 85.44 107.328 209.408 0 316.8-91.008 90.88-228.672 151.424-330.112 149.056L407.296 750.08zm90.496-226.304c49.536 49.536 233.344-7.04 339.392-113.088 78.208-78.208 63.232-163.072 0-226.304-63.168-63.232-148.032-78.208-226.24 0C504.896 290.496 448.32 474.368 497.792 523.84M244.864 708.928a64 64 0 1 0-59.84 59.84l56.32-3.52zm8.064 127.68a64 64 0 1 0 59.84-59.84l-56.32 3.52-3.52 56.32z"})]))}}),H0e=V0e,U0e=ge({name:"ChromeFilled",__name:"chrome-filled",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M938.67 512.01c0-44.59-6.82-87.6-19.54-128H682.67a212.372 212.372 0 0 1 42.67 128c.06 38.71-10.45 76.7-30.42 109.87l-182.91 316.8c235.65-.01 426.66-191.02 426.66-426.67z"}),ue("path",{fill:"currentColor",d:"M576.79 401.63a127.92 127.92 0 0 0-63.56-17.6c-22.36-.22-44.39 5.43-63.89 16.38s-35.79 26.82-47.25 46.02a128.005 128.005 0 0 0-2.16 127.44l1.24 2.13a127.906 127.906 0 0 0 46.36 46.61 127.907 127.907 0 0 0 63.38 17.44c22.29.2 44.24-5.43 63.68-16.33a127.94 127.94 0 0 0 47.16-45.79v-.01l1.11-1.92a127.984 127.984 0 0 0 .29-127.46 127.957 127.957 0 0 0-46.36-46.91"}),ue("path",{fill:"currentColor",d:"M394.45 333.96A213.336 213.336 0 0 1 512 298.67h369.58A426.503 426.503 0 0 0 512 85.34a425.598 425.598 0 0 0-171.74 35.98 425.644 425.644 0 0 0-142.62 102.22l118.14 204.63a213.397 213.397 0 0 1 78.67-94.21m117.56 604.72H512zm-97.25-236.73a213.284 213.284 0 0 1-89.54-86.81L142.48 298.6c-36.35 62.81-57.13 135.68-57.13 213.42 0 203.81 142.93 374.22 333.95 416.55h.04l118.19-204.71a213.315 213.315 0 0 1-122.77-21.91z"})]))}}),j0e=U0e,G0e=ge({name:"CircleCheckFilled",__name:"circle-check-filled",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),fq=G0e,W0e=ge({name:"CircleCheck",__name:"circle-check",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),ue("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),o8=W0e,q0e=ge({name:"CircleCloseFilled",__name:"circle-close-filled",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),s8=q0e,K0e=ge({name:"CircleClose",__name:"circle-close",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),ue("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),yh=K0e,Y0e=ge({name:"CirclePlusFilled",__name:"circle-plus-filled",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-38.4 409.6H326.4a38.4 38.4 0 1 0 0 76.8h147.2v147.2a38.4 38.4 0 0 0 76.8 0V550.4h147.2a38.4 38.4 0 0 0 0-76.8H550.4V326.4a38.4 38.4 0 1 0-76.8 0v147.2z"})]))}}),Z0e=Y0e,X0e=ge({name:"CirclePlus",__name:"circle-plus",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M352 480h320a32 32 0 1 1 0 64H352a32 32 0 0 1 0-64"}),ue("path",{fill:"currentColor",d:"M480 672V352a32 32 0 1 1 64 0v320a32 32 0 0 1-64 0"}),ue("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),J0e=X0e,Q0e=ge({name:"Clock",__name:"clock",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),ue("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),ue("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),_L=Q0e,eve=ge({name:"CloseBold",__name:"close-bold",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M195.2 195.2a64 64 0 0 1 90.496 0L512 421.504 738.304 195.2a64 64 0 0 1 90.496 90.496L602.496 512 828.8 738.304a64 64 0 0 1-90.496 90.496L512 602.496 285.696 828.8a64 64 0 0 1-90.496-90.496L421.504 512 195.2 285.696a64 64 0 0 1 0-90.496z"})]))}}),tve=eve,nve=ge({name:"Close",__name:"close",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),Au=nve,rve=ge({name:"Cloudy",__name:"cloudy",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M598.4 831.872H328.192a256 256 0 0 1-34.496-510.528A352 352 0 1 1 598.4 831.872m-271.36-64h272.256a288 288 0 1 0-248.512-417.664L335.04 381.44l-34.816 3.584a192 192 0 0 0 26.88 382.848z"})]))}}),ive=rve,ave=ge({name:"CoffeeCup",__name:"coffee-cup",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M768 192a192 192 0 1 1-8 383.808A256.128 256.128 0 0 1 512 768H320A256 256 0 0 1 64 512V160a32 32 0 0 1 32-32h640a32 32 0 0 1 32 32zm0 64v256a128 128 0 1 0 0-256M96 832h640a32 32 0 1 1 0 64H96a32 32 0 1 1 0-64m32-640v320a192 192 0 0 0 192 192h192a192 192 0 0 0 192-192V192z"})]))}}),ove=ave,sve=ge({name:"Coffee",__name:"coffee",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M822.592 192h14.272a32 32 0 0 1 31.616 26.752l21.312 128A32 32 0 0 1 858.24 384h-49.344l-39.04 546.304A32 32 0 0 1 737.92 960H285.824a32 32 0 0 1-32-29.696L214.912 384H165.76a32 32 0 0 1-31.552-37.248l21.312-128A32 32 0 0 1 187.136 192h14.016l-6.72-93.696A32 32 0 0 1 226.368 64h571.008a32 32 0 0 1 31.936 34.304zm-64.128 0 4.544-64H260.736l4.544 64h493.184m-548.16 128H820.48l-10.688-64H214.208l-10.688 64h6.784m68.736 64 36.544 512H708.16l36.544-512z"})]))}}),lve=sve,uve=ge({name:"Coin",__name:"coin",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m161.92 580.736 29.888 58.88C171.328 659.776 160 681.728 160 704c0 82.304 155.328 160 352 160s352-77.696 352-160c0-22.272-11.392-44.16-31.808-64.32l30.464-58.432C903.936 615.808 928 657.664 928 704c0 129.728-188.544 224-416 224S96 833.728 96 704c0-46.592 24.32-88.576 65.92-123.264z"}),ue("path",{fill:"currentColor",d:"m161.92 388.736 29.888 58.88C171.328 467.84 160 489.792 160 512c0 82.304 155.328 160 352 160s352-77.696 352-160c0-22.272-11.392-44.16-31.808-64.32l30.464-58.432C903.936 423.808 928 465.664 928 512c0 129.728-188.544 224-416 224S96 641.728 96 512c0-46.592 24.32-88.576 65.92-123.264z"}),ue("path",{fill:"currentColor",d:"M512 544c-227.456 0-416-94.272-416-224S284.544 96 512 96s416 94.272 416 224-188.544 224-416 224m0-64c196.672 0 352-77.696 352-160S708.672 160 512 160s-352 77.696-352 160 155.328 160 352 160"})]))}}),cve=uve,dve=ge({name:"ColdDrink",__name:"cold-drink",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M768 64a192 192 0 1 1-69.952 370.88L480 725.376V896h96a32 32 0 1 1 0 64H320a32 32 0 1 1 0-64h96V725.376L76.8 273.536a64 64 0 0 1-12.8-38.4v-10.688a32 32 0 0 1 32-32h71.808l-65.536-83.84a32 32 0 0 1 50.432-39.424l96.256 123.264h337.728A192.064 192.064 0 0 1 768 64M656.896 192.448H800a32 32 0 0 1 32 32v10.624a64 64 0 0 1-12.8 38.4l-80.448 107.2a128 128 0 1 0-81.92-188.16v-.064zm-357.888 64 129.472 165.76a32 32 0 0 1-50.432 39.36l-160.256-205.12H144l304 404.928 304-404.928z"})]))}}),hve=dve,fve=ge({name:"CollectionTag",__name:"collection-tag",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M256 128v698.88l196.032-156.864a96 96 0 0 1 119.936 0L768 826.816V128zm-32-64h576a32 32 0 0 1 32 32v797.44a32 32 0 0 1-51.968 24.96L531.968 720a32 32 0 0 0-39.936 0L243.968 918.4A32 32 0 0 1 192 893.44V96a32 32 0 0 1 32-32"})]))}}),pve=fve,mve=ge({name:"Collection",__name:"collection",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M192 736h640V128H256a64 64 0 0 0-64 64zm64-672h608a32 32 0 0 1 32 32v672a32 32 0 0 1-32 32H160l-32 57.536V192A128 128 0 0 1 256 64"}),ue("path",{fill:"currentColor",d:"M240 800a48 48 0 1 0 0 96h592v-96zm0-64h656v160a64 64 0 0 1-64 64H240a112 112 0 0 1 0-224m144-608v250.88l96-76.8 96 76.8V128zm-64-64h320v381.44a32 32 0 0 1-51.968 24.96L480 384l-108.032 86.4A32 32 0 0 1 320 445.44z"})]))}}),vve=mve,gve=ge({name:"Comment",__name:"comment",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M736 504a56 56 0 1 1 0-112 56 56 0 0 1 0 112m-224 0a56 56 0 1 1 0-112 56 56 0 0 1 0 112m-224 0a56 56 0 1 1 0-112 56 56 0 0 1 0 112M128 128v640h192v160l224-160h352V128z"})]))}}),_ve=gve,yve=ge({name:"Compass",__name:"compass",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),ue("path",{fill:"currentColor",d:"M725.888 315.008C676.48 428.672 624 513.28 568.576 568.64c-55.424 55.424-139.968 107.904-253.568 157.312a12.8 12.8 0 0 1-16.896-16.832c49.536-113.728 102.016-198.272 157.312-253.632 55.36-55.296 139.904-107.776 253.632-157.312a12.8 12.8 0 0 1 16.832 16.832"})]))}}),bve=yve,xve=ge({name:"Connection",__name:"connection",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M640 384v64H448a128 128 0 0 0-128 128v128a128 128 0 0 0 128 128h320a128 128 0 0 0 128-128V576a128 128 0 0 0-64-110.848V394.88c74.56 26.368 128 97.472 128 181.056v128a192 192 0 0 1-192 192H448a192 192 0 0 1-192-192V576a192 192 0 0 1 192-192z"}),ue("path",{fill:"currentColor",d:"M384 640v-64h192a128 128 0 0 0 128-128V320a128 128 0 0 0-128-128H256a128 128 0 0 0-128 128v128a128 128 0 0 0 64 110.848v70.272A192.064 192.064 0 0 1 64 448V320a192 192 0 0 1 192-192h320a192 192 0 0 1 192 192v128a192 192 0 0 1-192 192z"})]))}}),wve=xve,Sve=ge({name:"Coordinate",__name:"coordinate",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M480 512h64v320h-64z"}),ue("path",{fill:"currentColor",d:"M192 896h640a64 64 0 0 0-64-64H256a64 64 0 0 0-64 64m64-128h512a128 128 0 0 1 128 128v64H128v-64a128 128 0 0 1 128-128m256-256a192 192 0 1 0 0-384 192 192 0 0 0 0 384m0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512"})]))}}),Cve=Sve,Tve=ge({name:"CopyDocument",__name:"copy-document",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M768 832a128 128 0 0 1-128 128H192A128 128 0 0 1 64 832V384a128 128 0 0 1 128-128v64a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64z"}),ue("path",{fill:"currentColor",d:"M384 128a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64V192a64 64 0 0 0-64-64zm0-64h448a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H384a128 128 0 0 1-128-128V192A128 128 0 0 1 384 64"})]))}}),Mve=Tve,Eve=ge({name:"Cpu",__name:"cpu",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M320 256a64 64 0 0 0-64 64v384a64 64 0 0 0 64 64h384a64 64 0 0 0 64-64V320a64 64 0 0 0-64-64zm0-64h384a128 128 0 0 1 128 128v384a128 128 0 0 1-128 128H320a128 128 0 0 1-128-128V320a128 128 0 0 1 128-128"}),ue("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v128h-64V96a32 32 0 0 1 32-32m160 0a32 32 0 0 1 32 32v128h-64V96a32 32 0 0 1 32-32m-320 0a32 32 0 0 1 32 32v128h-64V96a32 32 0 0 1 32-32m160 896a32 32 0 0 1-32-32V800h64v128a32 32 0 0 1-32 32m160 0a32 32 0 0 1-32-32V800h64v128a32 32 0 0 1-32 32m-320 0a32 32 0 0 1-32-32V800h64v128a32 32 0 0 1-32 32M64 512a32 32 0 0 1 32-32h128v64H96a32 32 0 0 1-32-32m0-160a32 32 0 0 1 32-32h128v64H96a32 32 0 0 1-32-32m0 320a32 32 0 0 1 32-32h128v64H96a32 32 0 0 1-32-32m896-160a32 32 0 0 1-32 32H800v-64h128a32 32 0 0 1 32 32m0-160a32 32 0 0 1-32 32H800v-64h128a32 32 0 0 1 32 32m0 320a32 32 0 0 1-32 32H800v-64h128a32 32 0 0 1 32 32"})]))}}),Ave=Eve,Ive=ge({name:"CreditCard",__name:"credit-card",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M896 324.096c0-42.368-2.496-55.296-9.536-68.48a52.352 52.352 0 0 0-22.144-22.08c-13.12-7.04-26.048-9.536-68.416-9.536H228.096c-42.368 0-55.296 2.496-68.48 9.536a52.352 52.352 0 0 0-22.08 22.144c-7.04 13.12-9.536 26.048-9.536 68.416v375.808c0 42.368 2.496 55.296 9.536 68.48a52.352 52.352 0 0 0 22.144 22.08c13.12 7.04 26.048 9.536 68.416 9.536h567.808c42.368 0 55.296-2.496 68.48-9.536a52.352 52.352 0 0 0 22.08-22.144c7.04-13.12 9.536-26.048 9.536-68.416zm64 0v375.808c0 57.088-5.952 77.76-17.088 98.56-11.136 20.928-27.52 37.312-48.384 48.448-20.864 11.136-41.6 17.088-98.56 17.088H228.032c-57.088 0-77.76-5.952-98.56-17.088a116.288 116.288 0 0 1-48.448-48.384c-11.136-20.864-17.088-41.6-17.088-98.56V324.032c0-57.088 5.952-77.76 17.088-98.56 11.136-20.928 27.52-37.312 48.384-48.448 20.864-11.136 41.6-17.088 98.56-17.088H795.84c57.088 0 77.76 5.952 98.56 17.088 20.928 11.136 37.312 27.52 48.448 48.384 11.136 20.864 17.088 41.6 17.088 98.56z"}),ue("path",{fill:"currentColor",d:"M64 320h896v64H64zm0 128h896v64H64zm128 192h256v64H192z"})]))}}),kve=Ive,Pve=ge({name:"Crop",__name:"crop",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M256 768h672a32 32 0 1 1 0 64H224a32 32 0 0 1-32-32V96a32 32 0 0 1 64 0z"}),ue("path",{fill:"currentColor",d:"M832 224v704a32 32 0 1 1-64 0V256H96a32 32 0 0 1 0-64h704a32 32 0 0 1 32 32"})]))}}),Lve=Pve,Rve=ge({name:"DArrowLeft",__name:"d-arrow-left",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}}),lh=Rve,Dve=ge({name:"DArrowRight",__name:"d-arrow-right",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}}),uh=Dve,Ove=ge({name:"DCaret",__name:"d-caret",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m512 128 288 320H224zM224 576h576L512 896z"})]))}}),zve=Ove,Bve=ge({name:"DataAnalysis",__name:"data-analysis",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m665.216 768 110.848 192h-73.856L591.36 768H433.024L322.176 960H248.32l110.848-192H160a32 32 0 0 1-32-32V192H64a32 32 0 0 1 0-64h896a32 32 0 1 1 0 64h-64v544a32 32 0 0 1-32 32zM832 192H192v512h640zM352 448a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0v-64a32 32 0 0 1 32-32m160-64a32 32 0 0 1 32 32v128a32 32 0 0 1-64 0V416a32 32 0 0 1 32-32m160-64a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V352a32 32 0 0 1 32-32"})]))}}),Fve=Bve,Nve=ge({name:"DataBoard",__name:"data-board",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M32 128h960v64H32z"}),ue("path",{fill:"currentColor",d:"M192 192v512h640V192zm-64-64h768v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32z"}),ue("path",{fill:"currentColor",d:"M322.176 960H248.32l144.64-250.56 55.424 32zm453.888 0h-73.856L576 741.44l55.424-32z"})]))}}),$ve=Nve,Vve=ge({name:"DataLine",__name:"data-line",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M359.168 768H160a32 32 0 0 1-32-32V192H64a32 32 0 0 1 0-64h896a32 32 0 1 1 0 64h-64v544a32 32 0 0 1-32 32H665.216l110.848 192h-73.856L591.36 768H433.024L322.176 960H248.32zM832 192H192v512h640zM342.656 534.656a32 32 0 1 1-45.312-45.312L444.992 341.76l125.44 94.08L679.04 300.032a32 32 0 1 1 49.92 39.936L581.632 524.224 451.008 426.24 342.656 534.592z"})]))}}),Hve=Vve,Uve=ge({name:"DeleteFilled",__name:"delete-filled",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M352 192V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64H96a32 32 0 0 1 0-64zm64 0h192v-64H416zM192 960a32 32 0 0 1-32-32V256h704v672a32 32 0 0 1-32 32zm224-192a32 32 0 0 0 32-32V416a32 32 0 0 0-64 0v320a32 32 0 0 0 32 32m192 0a32 32 0 0 0 32-32V416a32 32 0 0 0-64 0v320a32 32 0 0 0 32 32"})]))}}),jve=Uve,Gve=ge({name:"DeleteLocation",__name:"delete-location",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M288 896h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32"}),ue("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416M512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544"}),ue("path",{fill:"currentColor",d:"M384 384h256q32 0 32 32t-32 32H384q-32 0-32-32t32-32"})]))}}),Wve=Gve,qve=ge({name:"Delete",__name:"delete",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),pq=qve,Kve=ge({name:"Dessert",__name:"dessert",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M128 416v-48a144 144 0 0 1 168.64-141.888 224.128 224.128 0 0 1 430.72 0A144 144 0 0 1 896 368v48a384 384 0 0 1-352 382.72V896h-64v-97.28A384 384 0 0 1 128 416m287.104-32.064h193.792a143.808 143.808 0 0 1 58.88-132.736 160.064 160.064 0 0 0-311.552 0 143.808 143.808 0 0 1 58.88 132.8zm-72.896 0a72 72 0 1 0-140.48 0h140.48m339.584 0h140.416a72 72 0 1 0-140.48 0zM512 736a320 320 0 0 0 318.4-288.064H193.6A320 320 0 0 0 512 736M384 896.064h256a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64"})]))}}),Yve=Kve,Zve=ge({name:"Discount",__name:"discount",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M224 704h576V318.336L552.512 115.84a64 64 0 0 0-81.024 0L224 318.336zm0 64v128h576V768zM593.024 66.304l259.2 212.096A32 32 0 0 1 864 303.168V928a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V303.168a32 32 0 0 1 11.712-24.768l259.2-212.096a128 128 0 0 1 162.112 0"}),ue("path",{fill:"currentColor",d:"M512 448a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256"})]))}}),Xve=Zve,Jve=ge({name:"DishDot",__name:"dish-dot",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m384.064 274.56.064-50.688A128 128 0 0 1 512.128 96c70.528 0 127.68 57.152 127.68 127.68v50.752A448.192 448.192 0 0 1 955.392 768H68.544A448.192 448.192 0 0 1 384 274.56zM96 832h832a32 32 0 1 1 0 64H96a32 32 0 1 1 0-64m32-128h768a384 384 0 1 0-768 0m447.808-448v-32.32a63.68 63.68 0 0 0-63.68-63.68 64 64 0 0 0-64 63.936V256z"})]))}}),Qve=Jve,ege=ge({name:"Dish",__name:"dish",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M480 257.152V192h-96a32 32 0 0 1 0-64h256a32 32 0 1 1 0 64h-96v65.152A448 448 0 0 1 955.52 768H68.48A448 448 0 0 1 480 257.152M128 704h768a384 384 0 1 0-768 0M96 832h832a32 32 0 1 1 0 64H96a32 32 0 1 1 0-64"})]))}}),tge=ege,nge=ge({name:"DocumentAdd",__name:"document-add",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m320 512V448h64v128h128v64H544v128h-64V640H352v-64z"})]))}}),rge=nge,ige=ge({name:"DocumentChecked",__name:"document-checked",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M805.504 320 640 154.496V320zM832 384H576V128H192v768h640zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m318.4 582.144 180.992-180.992L704.64 510.4 478.4 736.64 320 578.304l45.248-45.312z"})]))}}),age=ige,oge=ge({name:"DocumentCopy",__name:"document-copy",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M128 320v576h576V320zm-32-64h640a32 32 0 0 1 32 32v640a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V288a32 32 0 0 1 32-32M960 96v704a32 32 0 0 1-32 32h-96v-64h64V128H384v64h-64V96a32 32 0 0 1 32-32h576a32 32 0 0 1 32 32M256 672h320v64H256zm0-192h320v64H256z"})]))}}),sge=oge,lge=ge({name:"DocumentDelete",__name:"document-delete",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M805.504 320 640 154.496V320zM832 384H576V128H192v768h640zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m308.992 546.304-90.496-90.624 45.248-45.248 90.56 90.496 90.496-90.432 45.248 45.248-90.496 90.56 90.496 90.496-45.248 45.248-90.496-90.496-90.56 90.496-45.248-45.248 90.496-90.496z"})]))}}),uge=lge,cge=ge({name:"DocumentRemove",__name:"document-remove",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M805.504 320 640 154.496V320zM832 384H576V128H192v768h640zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m192 512h320v64H352z"})]))}}),dge=cge,hge=ge({name:"Document",__name:"document",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),mq=hge,fge=ge({name:"Download",__name:"download",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64m384-253.696 236.288-236.352 45.248 45.248L508.8 704 192 387.2l45.248-45.248L480 584.704V128h64z"})]))}}),pge=fge,mge=ge({name:"Drizzling",__name:"drizzling",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m739.328 291.328-35.2-6.592-12.8-33.408a192.064 192.064 0 0 0-365.952 23.232l-9.92 40.896-41.472 7.04a176.32 176.32 0 0 0-146.24 173.568c0 97.28 78.72 175.936 175.808 175.936h400a192 192 0 0 0 35.776-380.672zM959.552 480a256 256 0 0 1-256 256h-400A239.808 239.808 0 0 1 63.744 496.192a240.32 240.32 0 0 1 199.488-236.8 256.128 256.128 0 0 1 487.872-30.976A256.064 256.064 0 0 1 959.552 480M288 800h64v64h-64zm192 0h64v64h-64zm-96 96h64v64h-64zm192 0h64v64h-64zm96-96h64v64h-64z"})]))}}),vge=mge,gge=ge({name:"EditPen",__name:"edit-pen",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m199.04 672.64 193.984 112 224-387.968-193.92-112-224 388.032zm-23.872 60.16 32.896 148.288 144.896-45.696zM455.04 229.248l193.92 112 56.704-98.112-193.984-112-56.64 98.112zM104.32 708.8l384-665.024 304.768 175.936L409.152 884.8h.064l-248.448 78.336zm384 254.272v-64h448v64h-448z"})]))}}),_ge=gge,yge=ge({name:"Edit",__name:"edit",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M832 512a32 32 0 1 1 64 0v352a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h352a32 32 0 0 1 0 64H192v640h640z"}),ue("path",{fill:"currentColor",d:"m469.952 554.24 52.8-7.552L847.104 222.4a32 32 0 1 0-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 0 1 0 135.808l-331.84 331.84a32 32 0 0 1-18.112 9.088L436.8 623.68a32 32 0 0 1-36.224-36.224l15.104-105.6a32 32 0 0 1 9.024-18.112l331.904-331.84a96 96 0 0 1 135.744 0z"})]))}}),bge=yge,xge=ge({name:"ElemeFilled",__name:"eleme-filled",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M176 64h672c61.824 0 112 50.176 112 112v672a112 112 0 0 1-112 112H176A112 112 0 0 1 64 848V176c0-61.824 50.176-112 112-112m150.528 173.568c-152.896 99.968-196.544 304.064-97.408 456.96a330.688 330.688 0 0 0 456.96 96.64c9.216-5.888 17.6-11.776 25.152-18.56a18.24 18.24 0 0 0 4.224-24.32L700.352 724.8a47.552 47.552 0 0 0-65.536-14.272A234.56 234.56 0 0 1 310.592 641.6C240 533.248 271.104 387.968 379.456 316.48a234.304 234.304 0 0 1 276.352 15.168c1.664.832 2.56 2.56 3.392 4.224 5.888 8.384 3.328 19.328-5.12 25.216L456.832 489.6a47.552 47.552 0 0 0-14.336 65.472l16 24.384c5.888 8.384 16.768 10.88 25.216 5.056l308.224-199.936a19.584 19.584 0 0 0 6.72-23.488v-.896c-4.992-9.216-10.048-17.6-15.104-26.88-99.968-151.168-304.064-194.88-456.96-95.744zM786.88 504.704l-62.208 40.32c-8.32 5.888-10.88 16.768-4.992 25.216L760 632.32c5.888 8.448 16.768 11.008 25.152 5.12l31.104-20.16a55.36 55.36 0 0 0 16-76.48l-20.224-31.04a19.52 19.52 0 0 0-25.152-5.12z"})]))}}),wge=xge,Sge=ge({name:"Eleme",__name:"eleme",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M300.032 188.8c174.72-113.28 408-63.36 522.24 109.44 5.76 10.56 11.52 20.16 17.28 30.72v.96a22.4 22.4 0 0 1-7.68 26.88l-352.32 228.48c-9.6 6.72-22.08 3.84-28.8-5.76l-18.24-27.84a54.336 54.336 0 0 1 16.32-74.88l225.6-146.88c9.6-6.72 12.48-19.2 5.76-28.8-.96-1.92-1.92-3.84-3.84-4.8a267.84 267.84 0 0 0-315.84-17.28c-123.84 81.6-159.36 247.68-78.72 371.52a268.096 268.096 0 0 0 370.56 78.72 54.336 54.336 0 0 1 74.88 16.32l17.28 26.88c5.76 9.6 3.84 21.12-4.8 27.84-8.64 7.68-18.24 14.4-28.8 21.12a377.92 377.92 0 0 1-522.24-110.4c-113.28-174.72-63.36-408 111.36-522.24zm526.08 305.28a22.336 22.336 0 0 1 28.8 5.76l23.04 35.52a63.232 63.232 0 0 1-18.24 87.36l-35.52 23.04c-9.6 6.72-22.08 3.84-28.8-5.76l-46.08-71.04c-6.72-9.6-3.84-22.08 5.76-28.8l71.04-46.08z"})]))}}),Cge=Sge,Tge=ge({name:"ElementPlus",__name:"element-plus",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M839.7 734.7c0 33.3-17.9 41-17.9 41S519.7 949.8 499.2 960c-10.2 5.1-20.5 5.1-30.7 0 0 0-314.9-184.3-325.1-192-5.1-5.1-10.2-12.8-12.8-20.5V368.6c0-17.9 20.5-28.2 20.5-28.2L466 158.6c12.8-5.1 25.6-5.1 38.4 0 0 0 279 161.3 309.8 179.2 17.9 7.7 28.2 25.6 25.6 46.1-.1-5-.1 317.5-.1 350.8M714.2 371.2c-64-35.8-217.6-125.4-217.6-125.4-7.7-5.1-20.5-5.1-30.7 0L217.6 389.1s-17.9 10.2-17.9 23v297c0 5.1 5.1 12.8 7.7 17.9 7.7 5.1 256 148.5 256 148.5 7.7 5.1 17.9 5.1 25.6 0 15.4-7.7 250.9-145.9 250.9-145.9s12.8-5.1 12.8-30.7v-74.2l-276.5 169v-64c0-17.9 7.7-30.7 20.5-46.1L745 535c5.1-7.7 10.2-20.5 10.2-30.7v-66.6l-279 169v-69.1c0-15.4 5.1-30.7 17.9-38.4l220.1-128zM919 135.7c0-5.1-5.1-7.7-7.7-7.7h-58.9V66.6c0-5.1-5.1-5.1-10.2-5.1l-30.7 5.1c-5.1 0-5.1 2.6-5.1 5.1V128h-56.3c-5.1 0-5.1 5.1-7.7 5.1v38.4h69.1v64c0 5.1 5.1 5.1 10.2 5.1l30.7-5.1c5.1 0 5.1-2.6 5.1-5.1v-56.3h64l-2.5-38.4z"})]))}}),Mge=Tge,Ege=ge({name:"Expand",__name:"expand",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M128 192h768v128H128zm0 256h512v128H128zm0 256h768v128H128zm576-352 192 160-192 128z"})]))}}),Age=Ege,Ige=ge({name:"Failed",__name:"failed",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m557.248 608 135.744-135.744-45.248-45.248-135.68 135.744-135.808-135.68-45.248 45.184L466.752 608l-135.68 135.68 45.184 45.312L512 653.248l135.744 135.744 45.248-45.248L557.312 608zM704 192h160v736H160V192h160v64h384zm-320 0V96h256v96z"})]))}}),kge=Ige,Pge=ge({name:"Female",__name:"female",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 640a256 256 0 1 0 0-512 256 256 0 0 0 0 512m0 64a320 320 0 1 1 0-640 320 320 0 0 1 0 640"}),ue("path",{fill:"currentColor",d:"M512 640q32 0 32 32v256q0 32-32 32t-32-32V672q0-32 32-32"}),ue("path",{fill:"currentColor",d:"M352 800h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32"})]))}}),Lge=Pge,Rge=ge({name:"Files",__name:"files",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M128 384v448h768V384zm-32-64h832a32 32 0 0 1 32 32v512a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V352a32 32 0 0 1 32-32m64-128h704v64H160zm96-128h512v64H256z"})]))}}),Dge=Rge,Oge=ge({name:"Film",__name:"film",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M160 160v704h704V160zm-32-64h768a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H128a32 32 0 0 1-32-32V128a32 32 0 0 1 32-32"}),ue("path",{fill:"currentColor",d:"M320 288V128h64v352h256V128h64v160h160v64H704v128h160v64H704v128h160v64H704v160h-64V544H384v352h-64V736H128v-64h192V544H128v-64h192V352H128v-64z"})]))}}),zge=Oge,Bge=ge({name:"Filter",__name:"filter",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M384 523.392V928a32 32 0 0 0 46.336 28.608l192-96A32 32 0 0 0 640 832V523.392l280.768-343.104a32 32 0 1 0-49.536-40.576l-288 352A32 32 0 0 0 576 512v300.224l-128 64V512a32 32 0 0 0-7.232-20.288L195.52 192H704a32 32 0 1 0 0-64H128a32 32 0 0 0-24.768 52.288z"})]))}}),Fge=Bge,Nge=ge({name:"Finished",__name:"finished",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M280.768 753.728 691.456 167.04a32 32 0 1 1 52.416 36.672L314.24 817.472a32 32 0 0 1-45.44 7.296l-230.4-172.8a32 32 0 0 1 38.4-51.2l203.968 152.96zM736 448a32 32 0 1 1 0-64h192a32 32 0 1 1 0 64zM608 640a32 32 0 0 1 0-64h319.936a32 32 0 1 1 0 64zM480 832a32 32 0 1 1 0-64h447.936a32 32 0 1 1 0 64z"})]))}}),$ge=Nge,Vge=ge({name:"FirstAidKit",__name:"first-aid-kit",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M192 256a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V320a64 64 0 0 0-64-64zm0-64h640a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H192A128 128 0 0 1 64 768V320a128 128 0 0 1 128-128"}),ue("path",{fill:"currentColor",d:"M544 512h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96v-96a32 32 0 0 1 64 0zM352 128v64h320v-64zm-32-64h384a32 32 0 0 1 32 32v128a32 32 0 0 1-32 32H320a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32"})]))}}),Hge=Vge,Uge=ge({name:"Flag",__name:"flag",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M288 128h608L736 384l160 256H288v320h-96V64h96z"})]))}}),jge=Uge,Gge=ge({name:"Fold",__name:"fold",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M896 192H128v128h768zm0 256H384v128h512zm0 256H128v128h768zM320 384 128 512l192 128z"})]))}}),Wge=Gge,qge=ge({name:"FolderAdd",__name:"folder-add",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32m384 416V416h64v128h128v64H544v128h-64V608H352v-64z"})]))}}),Kge=qge,Yge=ge({name:"FolderChecked",__name:"folder-checked",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32m414.08 502.144 180.992-180.992L736.32 494.4 510.08 720.64l-158.4-158.336 45.248-45.312z"})]))}}),Zge=Yge,Xge=ge({name:"FolderDelete",__name:"folder-delete",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32m370.752 448-90.496-90.496 45.248-45.248L512 530.752l90.496-90.496 45.248 45.248L557.248 576l90.496 90.496-45.248 45.248L512 621.248l-90.496 90.496-45.248-45.248z"})]))}}),Jge=Xge,Qge=ge({name:"FolderOpened",__name:"folder-opened",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M878.08 448H241.92l-96 384h636.16l96-384zM832 384v-64H485.76L357.504 192H128v448l57.92-231.744A32 32 0 0 1 216.96 384zm-24.96 512H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h287.872l128.384 128H864a32 32 0 0 1 32 32v96h23.04a32 32 0 0 1 31.04 39.744l-112 448A32 32 0 0 1 807.04 896"})]))}}),e_e=Qge,t_e=ge({name:"FolderRemove",__name:"folder-remove",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32m256 416h320v64H352z"})]))}}),n_e=t_e,r_e=ge({name:"Folder",__name:"folder",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32"})]))}}),i_e=r_e,a_e=ge({name:"Food",__name:"food",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M128 352.576V352a288 288 0 0 1 491.072-204.224 192 192 0 0 1 274.24 204.48 64 64 0 0 1 57.216 74.24C921.6 600.512 850.048 710.656 736 756.992V800a96 96 0 0 1-96 96H384a96 96 0 0 1-96-96v-43.008c-114.048-46.336-185.6-156.48-214.528-330.496A64 64 0 0 1 128 352.64zm64-.576h64a160 160 0 0 1 320 0h64a224 224 0 0 0-448 0m128 0h192a96 96 0 0 0-192 0m439.424 0h68.544A128.256 128.256 0 0 0 704 192c-15.36 0-29.952 2.688-43.52 7.616 11.328 18.176 20.672 37.76 27.84 58.304A64.128 64.128 0 0 1 759.424 352M672 768H352v32a32 32 0 0 0 32 32h256a32 32 0 0 0 32-32zm-342.528-64h365.056c101.504-32.64 165.76-124.928 192.896-288H136.576c27.136 163.072 91.392 255.36 192.896 288"})]))}}),o_e=a_e,s_e=ge({name:"Football",__name:"football",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 960a448 448 0 1 1 0-896 448 448 0 0 1 0 896m0-64a384 384 0 1 0 0-768 384 384 0 0 0 0 768"}),ue("path",{fill:"currentColor",d:"M186.816 268.288c16-16.384 31.616-31.744 46.976-46.08 17.472 30.656 39.808 58.112 65.984 81.28l-32.512 56.448a385.984 385.984 0 0 1-80.448-91.648zm653.696-5.312a385.92 385.92 0 0 1-83.776 96.96l-32.512-56.384a322.923 322.923 0 0 0 68.48-85.76c15.552 14.08 31.488 29.12 47.808 45.184zM465.984 445.248l11.136-63.104a323.584 323.584 0 0 0 69.76 0l11.136 63.104a387.968 387.968 0 0 1-92.032 0m-62.72-12.8A381.824 381.824 0 0 1 320 396.544l32-55.424a319.885 319.885 0 0 0 62.464 27.712l-11.2 63.488zm300.8-35.84a381.824 381.824 0 0 1-83.328 35.84l-11.2-63.552A319.885 319.885 0 0 0 672 341.184l32 55.424zm-520.768 364.8a385.92 385.92 0 0 1 83.968-97.28l32.512 56.32c-26.88 23.936-49.856 52.352-67.52 84.032-16-13.44-32.32-27.712-48.96-43.072zm657.536.128a1442.759 1442.759 0 0 1-49.024 43.072 321.408 321.408 0 0 0-67.584-84.16l32.512-56.32c33.216 27.456 61.696 60.352 84.096 97.408zM465.92 578.752a387.968 387.968 0 0 1 92.032 0l-11.136 63.104a323.584 323.584 0 0 0-69.76 0zm-62.72 12.8 11.2 63.552a319.885 319.885 0 0 0-62.464 27.712L320 627.392a381.824 381.824 0 0 1 83.264-35.84zm300.8 35.84-32 55.424a318.272 318.272 0 0 0-62.528-27.712l11.2-63.488c29.44 8.64 57.28 20.736 83.264 35.776z"})]))}}),l_e=s_e,u_e=ge({name:"ForkSpoon",__name:"fork-spoon",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M256 410.304V96a32 32 0 0 1 64 0v314.304a96 96 0 0 0 64-90.56V96a32 32 0 0 1 64 0v223.744a160 160 0 0 1-128 156.8V928a32 32 0 1 1-64 0V476.544a160 160 0 0 1-128-156.8V96a32 32 0 0 1 64 0v223.744a96 96 0 0 0 64 90.56zM672 572.48C581.184 552.128 512 446.848 512 320c0-141.44 85.952-256 192-256s192 114.56 192 256c0 126.848-69.184 232.128-160 252.48V928a32 32 0 1 1-64 0zM704 512c66.048 0 128-82.56 128-192s-61.952-192-128-192-128 82.56-128 192 61.952 192 128 192"})]))}}),c_e=u_e,d_e=ge({name:"Fries",__name:"fries",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M608 224v-64a32 32 0 0 0-64 0v336h26.88A64 64 0 0 0 608 484.096zm101.12 160A64 64 0 0 0 672 395.904V384h64V224a32 32 0 1 0-64 0v160zm74.88 0a92.928 92.928 0 0 1 91.328 110.08l-60.672 323.584A96 96 0 0 1 720.32 896H303.68a96 96 0 0 1-94.336-78.336L148.672 494.08A92.928 92.928 0 0 1 240 384h-16V224a96 96 0 0 1 188.608-25.28A95.744 95.744 0 0 1 480 197.44V160a96 96 0 0 1 188.608-25.28A96 96 0 0 1 800 224v160zM670.784 512a128 128 0 0 1-99.904 48H453.12a128 128 0 0 1-99.84-48H352v-1.536a128.128 128.128 0 0 1-9.984-14.976L314.88 448H240a28.928 28.928 0 0 0-28.48 34.304L241.088 640h541.824l29.568-157.696A28.928 28.928 0 0 0 784 448h-74.88l-27.136 47.488A132.405 132.405 0 0 1 672 510.464V512zM480 288a32 32 0 0 0-64 0v196.096A64 64 0 0 0 453.12 496H480zm-128 96V224a32 32 0 0 0-64 0v160zh-37.12A64 64 0 0 1 352 395.904zm-98.88 320 19.072 101.888A32 32 0 0 0 303.68 832h416.64a32 32 0 0 0 31.488-26.112L770.88 704z"})]))}}),h_e=d_e,f_e=ge({name:"FullScreen",__name:"full-screen",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),vq=f_e,p_e=ge({name:"GobletFull",__name:"goblet-full",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M256 320h512c0-78.592-12.608-142.4-36.928-192h-434.24C269.504 192.384 256 256.256 256 320m503.936 64H264.064a256.128 256.128 0 0 0 495.872 0zM544 638.4V896h96a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64h96V638.4A320 320 0 0 1 192 320c0-85.632 21.312-170.944 64-256h512c42.688 64.32 64 149.632 64 256a320 320 0 0 1-288 318.4"})]))}}),m_e=p_e,v_e=ge({name:"GobletSquareFull",__name:"goblet-square-full",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M256 270.912c10.048 6.72 22.464 14.912 28.992 18.624a220.16 220.16 0 0 0 114.752 30.72c30.592 0 49.408-9.472 91.072-41.152l.64-.448c52.928-40.32 82.368-55.04 132.288-54.656 55.552.448 99.584 20.8 142.72 57.408l1.536 1.28V128H256v142.912zm.96 76.288C266.368 482.176 346.88 575.872 512 576c157.44.064 237.952-85.056 253.248-209.984a952.32 952.32 0 0 1-40.192-35.712c-32.704-27.776-63.36-41.92-101.888-42.24-31.552-.256-50.624 9.28-93.12 41.6l-.576.448c-52.096 39.616-81.024 54.208-129.792 54.208-54.784 0-100.48-13.376-142.784-37.056zM480 638.848C250.624 623.424 192 442.496 192 319.68V96a32 32 0 0 1 32-32h576a32 32 0 0 1 32 32v224c0 122.816-58.624 303.68-288 318.912V896h96a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64h96z"})]))}}),g_e=v_e,__e=ge({name:"GobletSquare",__name:"goblet-square",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M544 638.912V896h96a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64h96V638.848C250.624 623.424 192 442.496 192 319.68V96a32 32 0 0 1 32-32h576a32 32 0 0 1 32 32v224c0 122.816-58.624 303.68-288 318.912M256 319.68c0 149.568 80 256.192 256 256.256C688.128 576 768 469.568 768 320V128H256z"})]))}}),y_e=__e,b_e=ge({name:"Goblet",__name:"goblet",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M544 638.4V896h96a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64h96V638.4A320 320 0 0 1 192 320c0-85.632 21.312-170.944 64-256h512c42.688 64.32 64 149.632 64 256a320 320 0 0 1-288 318.4M256 320a256 256 0 1 0 512 0c0-78.592-12.608-142.4-36.928-192h-434.24C269.504 192.384 256 256.256 256 320"})]))}}),x_e=b_e,w_e=ge({name:"GoldMedal",__name:"gold-medal",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m772.13 452.84 53.86-351.81c1.32-10.01-1.17-18.68-7.49-26.02S804.35 64 795.01 64H228.99v-.01h-.06c-9.33 0-17.15 3.67-23.49 11.01s-8.83 16.01-7.49 26.02l53.87 351.89C213.54 505.73 193.59 568.09 192 640c2 90.67 33.17 166.17 93.5 226.5S421.33 957.99 512 960c90.67-2 166.17-33.17 226.5-93.5 60.33-60.34 91.49-135.83 93.5-226.5-1.59-71.94-21.56-134.32-59.87-187.16zM640.01 128h117.02l-39.01 254.02c-20.75-10.64-40.74-19.73-59.94-27.28-5.92-3-11.95-5.8-18.08-8.41V128h.01zM576 128v198.76c-13.18-2.58-26.74-4.43-40.67-5.55-8.07-.8-15.85-1.2-23.33-1.2-10.54 0-21.09.66-31.64 1.96a359.844 359.844 0 0 0-32.36 4.79V128zm-192 0h.04v218.3c-6.22 2.66-12.34 5.5-18.36 8.56-19.13 7.54-39.02 16.6-59.66 27.16L267.01 128zm308.99 692.99c-48 48-108.33 73-180.99 75.01-72.66-2.01-132.99-27.01-180.99-75.01S258.01 712.66 256 640c2.01-72.66 27.01-132.99 75.01-180.99 19.67-19.67 41.41-35.47 65.22-47.41 38.33-15.04 71.15-23.92 98.44-26.65 5.07-.41 10.2-.7 15.39-.88.63-.01 1.28-.03 1.91-.03.66 0 1.35.03 2.02.04 5.11.17 10.15.46 15.13.86 27.4 2.71 60.37 11.65 98.91 26.79 23.71 11.93 45.36 27.69 64.96 47.29 48 48 73 108.33 75.01 180.99-2.01 72.65-27.01 132.98-75.01 180.98z"}),ue("path",{fill:"currentColor",d:"M544 480H416v64h64v192h-64v64h192v-64h-64z"})]))}}),S_e=w_e,C_e=ge({name:"GoodsFilled",__name:"goods-filled",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M192 352h640l64 544H128zm128 224h64V448h-64zm320 0h64V448h-64zM384 288h-64a192 192 0 1 1 384 0h-64a128 128 0 1 0-256 0"})]))}}),T_e=C_e,M_e=ge({name:"Goods",__name:"goods",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M320 288v-22.336C320 154.688 405.504 64 512 64s192 90.688 192 201.664v22.4h131.072a32 32 0 0 1 31.808 28.8l57.6 576a32 32 0 0 1-31.808 35.2H131.328a32 32 0 0 1-31.808-35.2l57.6-576a32 32 0 0 1 31.808-28.8H320zm64 0h256v-22.336C640 189.248 582.272 128 512 128c-70.272 0-128 61.248-128 137.664v22.4zm-64 64H217.92l-51.2 512h690.56l-51.264-512H704v96a32 32 0 1 1-64 0v-96H384v96a32 32 0 0 1-64 0z"})]))}}),E_e=M_e,A_e=ge({name:"Grape",__name:"grape",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M544 195.2a160 160 0 0 1 96 60.8 160 160 0 1 1 146.24 254.976 160 160 0 0 1-128 224 160 160 0 1 1-292.48 0 160 160 0 0 1-128-224A160 160 0 1 1 384 256a160 160 0 0 1 96-60.8V128h-64a32 32 0 0 1 0-64h192a32 32 0 0 1 0 64h-64zM512 448a96 96 0 1 0 0-192 96 96 0 0 0 0 192m-256 0a96 96 0 1 0 0-192 96 96 0 0 0 0 192m128 224a96 96 0 1 0 0-192 96 96 0 0 0 0 192m128 224a96 96 0 1 0 0-192 96 96 0 0 0 0 192m128-224a96 96 0 1 0 0-192 96 96 0 0 0 0 192m128-224a96 96 0 1 0 0-192 96 96 0 0 0 0 192"})]))}}),I_e=A_e,k_e=ge({name:"Grid",__name:"grid",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M640 384v256H384V384zm64 0h192v256H704zm-64 512H384V704h256zm64 0V704h192v192zm-64-768v192H384V128zm64 0h192v192H704zM320 384v256H128V384zm0 512H128V704h192zm0-768v192H128V128z"})]))}}),P_e=k_e,L_e=ge({name:"Guide",__name:"guide",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M640 608h-64V416h64zm0 160v160a32 32 0 0 1-32 32H416a32 32 0 0 1-32-32V768h64v128h128V768zM384 608V416h64v192zm256-352h-64V128H448v128h-64V96a32 32 0 0 1 32-32h192a32 32 0 0 1 32 32z"}),ue("path",{fill:"currentColor",d:"m220.8 256-71.232 80 71.168 80H768V256H220.8zm-14.4-64H800a32 32 0 0 1 32 32v224a32 32 0 0 1-32 32H206.4a32 32 0 0 1-23.936-10.752l-99.584-112a32 32 0 0 1 0-42.496l99.584-112A32 32 0 0 1 206.4 192m678.784 496-71.104 80H266.816V608h547.2l71.168 80zm-56.768-144H234.88a32 32 0 0 0-32 32v224a32 32 0 0 0 32 32h593.6a32 32 0 0 0 23.936-10.752l99.584-112a32 32 0 0 0 0-42.496l-99.584-112A32 32 0 0 0 828.48 544z"})]))}}),R_e=L_e,D_e=ge({name:"Handbag",__name:"handbag",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M887.01 264.99c-6-5.99-13.67-8.99-23.01-8.99H704c-1.34-54.68-20.01-100.01-56-136s-81.32-54.66-136-56c-54.68 1.34-100.01 20.01-136 56s-54.66 81.32-56 136H160c-9.35 0-17.02 3-23.01 8.99-5.99 6-8.99 13.67-8.99 23.01v640c0 9.35 2.99 17.02 8.99 23.01S150.66 960 160 960h704c9.35 0 17.02-2.99 23.01-8.99S896 937.34 896 928V288c0-9.35-2.99-17.02-8.99-23.01M421.5 165.5c24.32-24.34 54.49-36.84 90.5-37.5 35.99.68 66.16 13.18 90.5 37.5s36.84 54.49 37.5 90.5H384c.68-35.99 13.18-66.16 37.5-90.5M832 896H192V320h128v128h64V320h256v128h64V320h128z"})]))}}),O_e=D_e,z_e=ge({name:"Headset",__name:"headset",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M896 529.152V512a384 384 0 1 0-768 0v17.152A128 128 0 0 1 320 640v128a128 128 0 1 1-256 0V512a448 448 0 1 1 896 0v256a128 128 0 1 1-256 0V640a128 128 0 0 1 192-110.848M896 640a64 64 0 0 0-128 0v128a64 64 0 0 0 128 0zm-768 0v128a64 64 0 0 0 128 0V640a64 64 0 1 0-128 0"})]))}}),B_e=z_e,F_e=ge({name:"HelpFilled",__name:"help-filled",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M926.784 480H701.312A192.512 192.512 0 0 0 544 322.688V97.216A416.064 416.064 0 0 1 926.784 480m0 64A416.064 416.064 0 0 1 544 926.784V701.312A192.512 192.512 0 0 0 701.312 544zM97.28 544h225.472A192.512 192.512 0 0 0 480 701.312v225.472A416.064 416.064 0 0 1 97.216 544zm0-64A416.064 416.064 0 0 1 480 97.216v225.472A192.512 192.512 0 0 0 322.688 480H97.216z"})]))}}),N_e=F_e,$_e=ge({name:"Help",__name:"help",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m759.936 805.248-90.944-91.008A254.912 254.912 0 0 1 512 768a254.912 254.912 0 0 1-156.992-53.76l-90.944 91.008A382.464 382.464 0 0 0 512 896c94.528 0 181.12-34.176 247.936-90.752m45.312-45.312A382.464 382.464 0 0 0 896 512c0-94.528-34.176-181.12-90.752-247.936l-91.008 90.944C747.904 398.4 768 452.864 768 512c0 59.136-20.096 113.6-53.76 156.992l91.008 90.944zm-45.312-541.184A382.464 382.464 0 0 0 512 128c-94.528 0-181.12 34.176-247.936 90.752l90.944 91.008A254.912 254.912 0 0 1 512 256c59.136 0 113.6 20.096 156.992 53.76l90.944-91.008zm-541.184 45.312A382.464 382.464 0 0 0 128 512c0 94.528 34.176 181.12 90.752 247.936l91.008-90.944A254.912 254.912 0 0 1 256 512c0-59.136 20.096-113.6 53.76-156.992zm417.28 394.496a194.56 194.56 0 0 0 22.528-22.528C686.912 602.56 704 559.232 704 512a191.232 191.232 0 0 0-67.968-146.56A191.296 191.296 0 0 0 512 320a191.232 191.232 0 0 0-146.56 67.968C337.088 421.44 320 464.768 320 512a191.232 191.232 0 0 0 67.968 146.56C421.44 686.912 464.768 704 512 704c47.296 0 90.56-17.088 124.032-45.44zM512 960a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),V_e=$_e,H_e=ge({name:"Hide",__name:"hide",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),ue("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),gq=H_e,U_e=ge({name:"Histogram",__name:"histogram",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M416 896V128h192v768zm-288 0V448h192v448zm576 0V320h192v576z"})]))}}),j_e=U_e,G_e=ge({name:"HomeFilled",__name:"home-filled",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 128 128 447.936V896h255.936V640H640v256h255.936V447.936z"})]))}}),W_e=G_e,q_e=ge({name:"HotWater",__name:"hot-water",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M273.067 477.867h477.866V409.6H273.067zm0 68.266v51.2A187.733 187.733 0 0 0 460.8 785.067h102.4a187.733 187.733 0 0 0 187.733-187.734v-51.2H273.067zm-34.134-204.8h546.134a34.133 34.133 0 0 1 34.133 34.134v221.866a256 256 0 0 1-256 256H460.8a256 256 0 0 1-256-256V375.467a34.133 34.133 0 0 1 34.133-34.134zM512 34.133a34.133 34.133 0 0 1 34.133 34.134v170.666a34.133 34.133 0 0 1-68.266 0V68.267A34.133 34.133 0 0 1 512 34.133zM375.467 102.4a34.133 34.133 0 0 1 34.133 34.133v102.4a34.133 34.133 0 0 1-68.267 0v-102.4a34.133 34.133 0 0 1 34.134-34.133m273.066 0a34.133 34.133 0 0 1 34.134 34.133v102.4a34.133 34.133 0 1 1-68.267 0v-102.4a34.133 34.133 0 0 1 34.133-34.133M170.667 921.668h682.666a34.133 34.133 0 1 1 0 68.267H170.667a34.133 34.133 0 1 1 0-68.267z"})]))}}),K_e=q_e,Y_e=ge({name:"House",__name:"house",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M192 413.952V896h640V413.952L512 147.328zM139.52 374.4l352-293.312a32 32 0 0 1 40.96 0l352 293.312A32 32 0 0 1 896 398.976V928a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V398.976a32 32 0 0 1 11.52-24.576"})]))}}),Z_e=Y_e,X_e=ge({name:"IceCreamRound",__name:"ice-cream-round",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m308.352 489.344 226.304 226.304a32 32 0 0 0 45.248 0L783.552 512A192 192 0 1 0 512 240.448L308.352 444.16a32 32 0 0 0 0 45.248zm135.744 226.304L308.352 851.392a96 96 0 0 1-135.744-135.744l135.744-135.744-45.248-45.248a96 96 0 0 1 0-135.808L466.752 195.2A256 256 0 0 1 828.8 557.248L625.152 760.96a96 96 0 0 1-135.808 0l-45.248-45.248zM398.848 670.4 353.6 625.152 217.856 760.896a32 32 0 0 0 45.248 45.248zm248.96-384.64a32 32 0 0 1 0 45.248L466.624 512a32 32 0 1 1-45.184-45.248l180.992-181.056a32 32 0 0 1 45.248 0zm90.496 90.496a32 32 0 0 1 0 45.248L557.248 602.496A32 32 0 1 1 512 557.248l180.992-180.992a32 32 0 0 1 45.312 0z"})]))}}),J_e=X_e,Q_e=ge({name:"IceCreamSquare",__name:"ice-cream-square",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M416 640h256a32 32 0 0 0 32-32V160a32 32 0 0 0-32-32H352a32 32 0 0 0-32 32v448a32 32 0 0 0 32 32zm192 64v160a96 96 0 0 1-192 0V704h-64a96 96 0 0 1-96-96V160a96 96 0 0 1 96-96h320a96 96 0 0 1 96 96v448a96 96 0 0 1-96 96zm-64 0h-64v160a32 32 0 1 0 64 0z"})]))}}),eye=Q_e,tye=ge({name:"IceCream",__name:"ice-cream",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M128.64 448a208 208 0 0 1 193.536-191.552 224 224 0 0 1 445.248 15.488A208.128 208.128 0 0 1 894.784 448H896L548.8 983.68a32 32 0 0 1-53.248.704L128 448zm64.256 0h286.208a144 144 0 0 0-286.208 0zm351.36 0h286.272a144 144 0 0 0-286.272 0zm-294.848 64 271.808 396.608L778.24 512H249.408zM511.68 352.64a207.872 207.872 0 0 1 189.184-96.192 160 160 0 0 0-314.752 5.632c52.608 12.992 97.28 46.08 125.568 90.56"})]))}}),nye=tye,rye=ge({name:"IceDrink",__name:"ice-drink",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 448v128h239.68l16.064-128zm-64 0H256.256l16.064 128H448zm64-255.36V384h247.744A256.128 256.128 0 0 0 512 192.64m-64 8.064A256.448 256.448 0 0 0 264.256 384H448zm64-72.064A320.128 320.128 0 0 1 825.472 384H896a32 32 0 1 1 0 64h-64v1.92l-56.96 454.016A64 64 0 0 1 711.552 960H312.448a64 64 0 0 1-63.488-56.064L192 449.92V448h-64a32 32 0 0 1 0-64h70.528A320.384 320.384 0 0 1 448 135.04V96a96 96 0 0 1 96-96h128a32 32 0 1 1 0 64H544a32 32 0 0 0-32 32zM743.68 640H280.32l32.128 256h399.104z"})]))}}),iye=rye,aye=ge({name:"IceTea",__name:"ice-tea",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M197.696 259.648a320.128 320.128 0 0 1 628.608 0A96 96 0 0 1 896 352v64a96 96 0 0 1-71.616 92.864l-49.408 395.072A64 64 0 0 1 711.488 960H312.512a64 64 0 0 1-63.488-56.064l-49.408-395.072A96 96 0 0 1 128 416v-64a96 96 0 0 1 69.696-92.352M264.064 256h495.872a256.128 256.128 0 0 0-495.872 0m495.424 256H264.512l48 384h398.976zM224 448h576a32 32 0 0 0 32-32v-64a32 32 0 0 0-32-32H224a32 32 0 0 0-32 32v64a32 32 0 0 0 32 32m160 192h64v64h-64zm192 64h64v64h-64zm-128 64h64v64h-64zm64-192h64v64h-64z"})]))}}),oye=aye,sye=ge({name:"InfoFilled",__name:"info-filled",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),l8=sye,lye=ge({name:"Iphone",__name:"iphone",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M224 768v96.064a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64V768zm0-64h576V160a64 64 0 0 0-64-64H288a64 64 0 0 0-64 64zm32 288a96 96 0 0 1-96-96V128a96 96 0 0 1 96-96h512a96 96 0 0 1 96 96v768a96 96 0 0 1-96 96zm304-144a48 48 0 1 1-96 0 48 48 0 0 1 96 0"})]))}}),uye=lye,cye=ge({name:"Key",__name:"key",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M448 456.064V96a32 32 0 0 1 32-32.064L672 64a32 32 0 0 1 0 64H512v128h160a32 32 0 0 1 0 64H512v128a256 256 0 1 1-64 8.064M512 896a192 192 0 1 0 0-384 192 192 0 0 0 0 384"})]))}}),dye=cye,hye=ge({name:"KnifeFork",__name:"knife-fork",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M256 410.56V96a32 32 0 0 1 64 0v314.56A96 96 0 0 0 384 320V96a32 32 0 0 1 64 0v224a160 160 0 0 1-128 156.8V928a32 32 0 1 1-64 0V476.8A160 160 0 0 1 128 320V96a32 32 0 0 1 64 0v224a96 96 0 0 0 64 90.56m384-250.24V544h126.72c-3.328-78.72-12.928-147.968-28.608-207.744-14.336-54.528-46.848-113.344-98.112-175.872zM640 608v320a32 32 0 1 1-64 0V64h64c85.312 89.472 138.688 174.848 160 256 21.312 81.152 32 177.152 32 288z"})]))}}),fye=hye,pye=ge({name:"Lightning",__name:"lightning",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M288 671.36v64.128A239.808 239.808 0 0 1 63.744 496.192a240.32 240.32 0 0 1 199.488-236.8 256.128 256.128 0 0 1 487.872-30.976A256.064 256.064 0 0 1 736 734.016v-64.768a192 192 0 0 0 3.328-377.92l-35.2-6.592-12.8-33.408a192.064 192.064 0 0 0-365.952 23.232l-9.92 40.896-41.472 7.04a176.32 176.32 0 0 0-146.24 173.568c0 91.968 70.464 167.36 160.256 175.232z"}),ue("path",{fill:"currentColor",d:"M416 736a32 32 0 0 1-27.776-47.872l128-224a32 32 0 1 1 55.552 31.744L471.168 672H608a32 32 0 0 1 27.776 47.872l-128 224a32 32 0 1 1-55.68-31.744L552.96 736z"})]))}}),mye=pye,vye=ge({name:"Link",__name:"link",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M715.648 625.152 670.4 579.904l90.496-90.56c75.008-74.944 85.12-186.368 22.656-248.896-62.528-62.464-173.952-52.352-248.96 22.656L444.16 353.6l-45.248-45.248 90.496-90.496c100.032-99.968 251.968-110.08 339.456-22.656 87.488 87.488 77.312 239.424-22.656 339.456l-90.496 90.496zm-90.496 90.496-90.496 90.496C434.624 906.112 282.688 916.224 195.2 828.8c-87.488-87.488-77.312-239.424 22.656-339.456l90.496-90.496 45.248 45.248-90.496 90.56c-75.008 74.944-85.12 186.368-22.656 248.896 62.528 62.464 173.952 52.352 248.96-22.656l90.496-90.496zm0-362.048 45.248 45.248L398.848 670.4 353.6 625.152z"})]))}}),gye=vye,_ye=ge({name:"List",__name:"list",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M704 192h160v736H160V192h160v64h384zM288 512h448v-64H288zm0 256h448v-64H288zm96-576V96h256v96z"})]))}}),yye=_ye,bye=ge({name:"Loading",__name:"loading",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),mc=bye,xye=ge({name:"LocationFilled",__name:"location-filled",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 928c23.936 0 117.504-68.352 192.064-153.152C803.456 661.888 864 535.808 864 416c0-189.632-155.84-320-352-320S160 226.368 160 416c0 120.32 60.544 246.4 159.936 359.232C394.432 859.84 488 928 512 928m0-435.2a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 140.8a204.8 204.8 0 1 1 0-409.6 204.8 204.8 0 0 1 0 409.6"})]))}}),wye=xye,Sye=ge({name:"LocationInformation",__name:"location-information",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M288 896h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32"}),ue("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416M512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544"}),ue("path",{fill:"currentColor",d:"M512 512a96 96 0 1 0 0-192 96 96 0 0 0 0 192m0 64a160 160 0 1 1 0-320 160 160 0 0 1 0 320"})]))}}),Cye=Sye,Tye=ge({name:"Location",__name:"location",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416M512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544"}),ue("path",{fill:"currentColor",d:"M512 512a96 96 0 1 0 0-192 96 96 0 0 0 0 192m0 64a160 160 0 1 1 0-320 160 160 0 0 1 0 320"})]))}}),Mye=Tye,Eye=ge({name:"Lock",__name:"lock",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M224 448a32 32 0 0 0-32 32v384a32 32 0 0 0 32 32h576a32 32 0 0 0 32-32V480a32 32 0 0 0-32-32zm0-64h576a96 96 0 0 1 96 96v384a96 96 0 0 1-96 96H224a96 96 0 0 1-96-96V480a96 96 0 0 1 96-96"}),ue("path",{fill:"currentColor",d:"M512 544a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V576a32 32 0 0 1 32-32m192-160v-64a192 192 0 1 0-384 0v64zM512 64a256 256 0 0 1 256 256v128H256V320A256 256 0 0 1 512 64"})]))}}),Aye=Eye,Iye=ge({name:"Lollipop",__name:"lollipop",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M513.28 448a64 64 0 1 1 76.544 49.728A96 96 0 0 0 768 448h64a160 160 0 0 1-320 0zm-126.976-29.696a256 256 0 1 0 43.52-180.48A256 256 0 0 1 832 448h-64a192 192 0 0 0-381.696-29.696m105.664 249.472L285.696 874.048a96 96 0 0 1-135.68-135.744l206.208-206.272a320 320 0 1 1 135.744 135.744zm-54.464-36.032a321.92 321.92 0 0 1-45.248-45.248L195.2 783.552a32 32 0 1 0 45.248 45.248l197.056-197.12z"})]))}}),kye=Iye,Pye=ge({name:"MagicStick",__name:"magic-stick",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 64h64v192h-64zm0 576h64v192h-64zM160 480v-64h192v64zm576 0v-64h192v64zM249.856 199.04l45.248-45.184L430.848 289.6 385.6 334.848 249.856 199.104zM657.152 606.4l45.248-45.248 135.744 135.744-45.248 45.248zM114.048 923.2 68.8 877.952l316.8-316.8 45.248 45.248zM702.4 334.848 657.152 289.6l135.744-135.744 45.248 45.248z"})]))}}),Lye=Pye,Rye=ge({name:"Magnet",__name:"magnet",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M832 320V192H704v320a192 192 0 1 1-384 0V192H192v128h128v64H192v128a320 320 0 0 0 640 0V384H704v-64zM640 512V128h256v384a384 384 0 1 1-768 0V128h256v384a128 128 0 1 0 256 0"})]))}}),Dye=Rye,Oye=ge({name:"Male",__name:"male",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M399.5 849.5a225 225 0 1 0 0-450 225 225 0 0 0 0 450m0 56.25a281.25 281.25 0 1 1 0-562.5 281.25 281.25 0 0 1 0 562.5m253.125-787.5h225q28.125 0 28.125 28.125T877.625 174.5h-225q-28.125 0-28.125-28.125t28.125-28.125"}),ue("path",{fill:"currentColor",d:"M877.625 118.25q28.125 0 28.125 28.125v225q0 28.125-28.125 28.125T849.5 371.375v-225q0-28.125 28.125-28.125"}),ue("path",{fill:"currentColor",d:"M604.813 458.9 565.1 419.131l292.613-292.668 39.825 39.824z"})]))}}),zye=Oye,Bye=ge({name:"Management",__name:"management",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M576 128v288l96-96 96 96V128h128v768H320V128zm-448 0h128v768H128z"})]))}}),Fye=Bye,Nye=ge({name:"MapLocation",__name:"map-location",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416M512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544"}),ue("path",{fill:"currentColor",d:"M512 448a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256m345.6 192L960 960H672v-64H352v64H64l102.4-256zm-68.928 0H235.328l-76.8 192h706.944z"})]))}}),$ye=Nye,Vye=ge({name:"Medal",__name:"medal",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 896a256 256 0 1 0 0-512 256 256 0 0 0 0 512m0 64a320 320 0 1 1 0-640 320 320 0 0 1 0 640"}),ue("path",{fill:"currentColor",d:"M576 128H448v200a286.72 286.72 0 0 1 64-8c19.52 0 40.832 2.688 64 8zm64 0v219.648c24.448 9.088 50.56 20.416 78.4 33.92L757.44 128zm-256 0H266.624l39.04 253.568c27.84-13.504 53.888-24.832 78.336-33.92V128zM229.312 64h565.376a32 32 0 0 1 31.616 36.864L768 480c-113.792-64-199.104-96-256-96-56.896 0-142.208 32-256 96l-58.304-379.136A32 32 0 0 1 229.312 64"})]))}}),Hye=Vye,Uye=ge({name:"Memo",__name:"memo",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M480 320h192c21.33 0 32-10.67 32-32s-10.67-32-32-32H480c-21.33 0-32 10.67-32 32s10.67 32 32 32"}),ue("path",{fill:"currentColor",d:"M887.01 72.99C881.01 67 873.34 64 864 64H160c-9.35 0-17.02 3-23.01 8.99C131 78.99 128 86.66 128 96v832c0 9.35 2.99 17.02 8.99 23.01S150.66 960 160 960h704c9.35 0 17.02-2.99 23.01-8.99S896 937.34 896 928V96c0-9.35-3-17.02-8.99-23.01M192 896V128h96v768zm640 0H352V128h480z"}),ue("path",{fill:"currentColor",d:"M480 512h192c21.33 0 32-10.67 32-32s-10.67-32-32-32H480c-21.33 0-32 10.67-32 32s10.67 32 32 32m0 192h192c21.33 0 32-10.67 32-32s-10.67-32-32-32H480c-21.33 0-32 10.67-32 32s10.67 32 32 32"})]))}}),jye=Uye,Gye=ge({name:"Menu",__name:"menu",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M160 448a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32zm448 0a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32zM160 896a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32zm448 0a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32z"})]))}}),Wye=Gye,qye=ge({name:"MessageBox",__name:"message-box",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M288 384h448v64H288zm96-128h256v64H384zM131.456 512H384v128h256V512h252.544L721.856 192H302.144zM896 576H704v128H320V576H128v256h768zM275.776 128h472.448a32 32 0 0 1 28.608 17.664l179.84 359.552A32 32 0 0 1 960 519.552V864a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V519.552a32 32 0 0 1 3.392-14.336l179.776-359.552A32 32 0 0 1 275.776 128z"})]))}}),Kye=qye,Yye=ge({name:"Message",__name:"message",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M128 224v512a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V224zm0-64h768a64 64 0 0 1 64 64v512a128 128 0 0 1-128 128H192A128 128 0 0 1 64 736V224a64 64 0 0 1 64-64"}),ue("path",{fill:"currentColor",d:"M904 224 656.512 506.88a192 192 0 0 1-289.024 0L120 224zm-698.944 0 210.56 240.704a128 128 0 0 0 192.704 0L818.944 224H205.056"})]))}}),Zye=Yye,Xye=ge({name:"Mic",__name:"mic",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M480 704h160a64 64 0 0 0 64-64v-32h-96a32 32 0 0 1 0-64h96v-96h-96a32 32 0 0 1 0-64h96v-96h-96a32 32 0 0 1 0-64h96v-32a64 64 0 0 0-64-64H384a64 64 0 0 0-64 64v32h96a32 32 0 0 1 0 64h-96v96h96a32 32 0 0 1 0 64h-96v96h96a32 32 0 0 1 0 64h-96v32a64 64 0 0 0 64 64zm64 64v128h192a32 32 0 1 1 0 64H288a32 32 0 1 1 0-64h192V768h-96a128 128 0 0 1-128-128V192A128 128 0 0 1 384 64h256a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128z"})]))}}),Jye=Xye,Qye=ge({name:"Microphone",__name:"microphone",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 128a128 128 0 0 0-128 128v256a128 128 0 1 0 256 0V256a128 128 0 0 0-128-128m0-64a192 192 0 0 1 192 192v256a192 192 0 1 1-384 0V256A192 192 0 0 1 512 64m-32 832v-64a288 288 0 0 1-288-288v-32a32 32 0 0 1 64 0v32a224 224 0 0 0 224 224h64a224 224 0 0 0 224-224v-32a32 32 0 1 1 64 0v32a288 288 0 0 1-288 288v64h64a32 32 0 1 1 0 64H416a32 32 0 1 1 0-64z"})]))}}),e1e=Qye,t1e=ge({name:"MilkTea",__name:"milk-tea",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M416 128V96a96 96 0 0 1 96-96h128a32 32 0 1 1 0 64H512a32 32 0 0 0-32 32v32h320a96 96 0 0 1 11.712 191.296l-39.68 581.056A64 64 0 0 1 708.224 960H315.776a64 64 0 0 1-63.872-59.648l-39.616-581.056A96 96 0 0 1 224 128zM276.48 320l39.296 576h392.448l4.8-70.784a224.064 224.064 0 0 1 30.016-439.808L747.52 320zM224 256h576a32 32 0 1 0 0-64H224a32 32 0 0 0 0 64m493.44 503.872 21.12-309.12a160 160 0 0 0-21.12 309.12"})]))}}),n1e=t1e,r1e=ge({name:"Minus",__name:"minus",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),_q=r1e,i1e=ge({name:"Money",__name:"money",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M256 640v192h640V384H768v-64h150.976c14.272 0 19.456 1.472 24.64 4.288a29.056 29.056 0 0 1 12.16 12.096c2.752 5.184 4.224 10.368 4.224 24.64v493.952c0 14.272-1.472 19.456-4.288 24.64a29.056 29.056 0 0 1-12.096 12.16c-5.184 2.752-10.368 4.224-24.64 4.224H233.024c-14.272 0-19.456-1.472-24.64-4.288a29.056 29.056 0 0 1-12.16-12.096c-2.688-5.184-4.224-10.368-4.224-24.576V640z"}),ue("path",{fill:"currentColor",d:"M768 192H128v448h640zm64-22.976v493.952c0 14.272-1.472 19.456-4.288 24.64a29.056 29.056 0 0 1-12.096 12.16c-5.184 2.752-10.368 4.224-24.64 4.224H105.024c-14.272 0-19.456-1.472-24.64-4.288a29.056 29.056 0 0 1-12.16-12.096C65.536 682.432 64 677.248 64 663.04V169.024c0-14.272 1.472-19.456 4.288-24.64a29.056 29.056 0 0 1 12.096-12.16C85.568 129.536 90.752 128 104.96 128h685.952c14.272 0 19.456 1.472 24.64 4.288a29.056 29.056 0 0 1 12.16 12.096c2.752 5.184 4.224 10.368 4.224 24.64z"}),ue("path",{fill:"currentColor",d:"M448 576a160 160 0 1 1 0-320 160 160 0 0 1 0 320m0-64a96 96 0 1 0 0-192 96 96 0 0 0 0 192"})]))}}),a1e=i1e,o1e=ge({name:"Monitor",__name:"monitor",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M544 768v128h192a32 32 0 1 1 0 64H288a32 32 0 1 1 0-64h192V768H192A128 128 0 0 1 64 640V256a128 128 0 0 1 128-128h640a128 128 0 0 1 128 128v384a128 128 0 0 1-128 128zM192 192a64 64 0 0 0-64 64v384a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64z"})]))}}),s1e=o1e,l1e=ge({name:"MoonNight",__name:"moon-night",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M384 512a448 448 0 0 1 215.872-383.296A384 384 0 0 0 213.76 640h188.8A448.256 448.256 0 0 1 384 512M171.136 704a448 448 0 0 1 636.992-575.296A384 384 0 0 0 499.328 704h-328.32z"}),ue("path",{fill:"currentColor",d:"M32 640h960q32 0 32 32t-32 32H32q-32 0-32-32t32-32m128 128h384a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64m160 127.68 224 .256a32 32 0 0 1 32 32V928a32 32 0 0 1-32 32l-224-.384a32 32 0 0 1-32-32v-.064a32 32 0 0 1 32-32z"})]))}}),u1e=l1e,c1e=ge({name:"Moon",__name:"moon",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M240.448 240.448a384 384 0 1 0 559.424 525.696 448 448 0 0 1-542.016-542.08 390.592 390.592 0 0 0-17.408 16.384zm181.056 362.048a384 384 0 0 0 525.632 16.384A448 448 0 1 1 405.056 76.8a384 384 0 0 0 16.448 525.696"})]))}}),d1e=c1e,h1e=ge({name:"MoreFilled",__name:"more-filled",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),KA=h1e,f1e=ge({name:"More",__name:"more",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),yq=f1e,p1e=ge({name:"MostlyCloudy",__name:"mostly-cloudy",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M737.216 357.952 704 349.824l-11.776-32a192.064 192.064 0 0 0-367.424 23.04l-8.96 39.04-39.04 8.96A192.064 192.064 0 0 0 320 768h368a207.808 207.808 0 0 0 207.808-208 208.32 208.32 0 0 0-158.592-202.048m15.168-62.208A272.32 272.32 0 0 1 959.744 560a271.808 271.808 0 0 1-271.552 272H320a256 256 0 0 1-57.536-505.536 256.128 256.128 0 0 1 489.92-30.72"})]))}}),m1e=p1e,v1e=ge({name:"Mouse",__name:"mouse",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M438.144 256c-68.352 0-92.736 4.672-117.76 18.112-20.096 10.752-35.52 26.176-46.272 46.272C260.672 345.408 256 369.792 256 438.144v275.712c0 68.352 4.672 92.736 18.112 117.76 10.752 20.096 26.176 35.52 46.272 46.272C345.408 891.328 369.792 896 438.144 896h147.712c68.352 0 92.736-4.672 117.76-18.112 20.096-10.752 35.52-26.176 46.272-46.272C763.328 806.592 768 782.208 768 713.856V438.144c0-68.352-4.672-92.736-18.112-117.76a110.464 110.464 0 0 0-46.272-46.272C678.592 260.672 654.208 256 585.856 256zm0-64h147.712c85.568 0 116.608 8.96 147.904 25.6 31.36 16.768 55.872 41.344 72.576 72.64C823.104 321.536 832 352.576 832 438.08v275.84c0 85.504-8.96 116.544-25.6 147.84a174.464 174.464 0 0 1-72.64 72.576C702.464 951.104 671.424 960 585.92 960H438.08c-85.504 0-116.544-8.96-147.84-25.6a174.464 174.464 0 0 1-72.64-72.704c-16.768-31.296-25.664-62.336-25.664-147.84v-275.84c0-85.504 8.96-116.544 25.6-147.84a174.464 174.464 0 0 1 72.768-72.576c31.232-16.704 62.272-25.6 147.776-25.6z"}),ue("path",{fill:"currentColor",d:"M512 320q32 0 32 32v128q0 32-32 32t-32-32V352q0-32 32-32m32-96a32 32 0 0 1-64 0v-64a32 32 0 0 0-32-32h-96a32 32 0 0 1 0-64h96a96 96 0 0 1 96 96z"})]))}}),g1e=v1e,_1e=ge({name:"Mug",__name:"mug",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M736 800V160H160v640a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64m64-544h63.552a96 96 0 0 1 96 96v224a96 96 0 0 1-96 96H800v128a128 128 0 0 1-128 128H224A128 128 0 0 1 96 800V128a32 32 0 0 1 32-32h640a32 32 0 0 1 32 32zm0 64v288h63.552a32 32 0 0 0 32-32V352a32 32 0 0 0-32-32z"})]))}}),y1e=_1e,b1e=ge({name:"MuteNotification",__name:"mute-notification",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m241.216 832 63.616-64H768V448c0-42.368-10.24-82.304-28.48-117.504l46.912-47.232C815.36 331.392 832 387.84 832 448v320h96a32 32 0 1 1 0 64zm-90.24 0H96a32 32 0 1 1 0-64h96V448a320.128 320.128 0 0 1 256-313.6V128a64 64 0 1 1 128 0v6.4a319.552 319.552 0 0 1 171.648 97.088l-45.184 45.44A256 256 0 0 0 256 448v278.336L151.04 832zM448 896h128a64 64 0 0 1-128 0"}),ue("path",{fill:"currentColor",d:"M150.72 859.072a32 32 0 0 1-45.44-45.056l704-708.544a32 32 0 0 1 45.44 45.056l-704 708.544z"})]))}}),x1e=b1e,w1e=ge({name:"Mute",__name:"mute",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m412.16 592.128-45.44 45.44A191.232 191.232 0 0 1 320 512V256a192 192 0 1 1 384 0v44.352l-64 64V256a128 128 0 1 0-256 0v256c0 30.336 10.56 58.24 28.16 80.128m51.968 38.592A128 128 0 0 0 640 512v-57.152l64-64V512a192 192 0 0 1-287.68 166.528zM314.88 779.968l46.144-46.08A222.976 222.976 0 0 0 480 768h64a224 224 0 0 0 224-224v-32a32 32 0 1 1 64 0v32a288 288 0 0 1-288 288v64h64a32 32 0 1 1 0 64H416a32 32 0 1 1 0-64h64v-64c-61.44 0-118.4-19.2-165.12-52.032M266.752 737.6A286.976 286.976 0 0 1 192 544v-32a32 32 0 0 1 64 0v32c0 56.832 21.184 108.8 56.064 148.288z"}),ue("path",{fill:"currentColor",d:"M150.72 859.072a32 32 0 0 1-45.44-45.056l704-708.544a32 32 0 0 1 45.44 45.056l-704 708.544z"})]))}}),S1e=w1e,C1e=ge({name:"NoSmoking",__name:"no-smoking",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M440.256 576H256v128h56.256l-64 64H224a32 32 0 0 1-32-32V544a32 32 0 0 1 32-32h280.256zm143.488 128H704V583.744L775.744 512H928a32 32 0 0 1 32 32v192a32 32 0 0 1-32 32H519.744zM768 576v128h128V576zm-29.696-207.552 45.248 45.248-497.856 497.856-45.248-45.248zM256 64h64v320h-64zM128 192h64v192h-64zM64 512h64v256H64z"})]))}}),T1e=C1e,M1e=ge({name:"Notebook",__name:"notebook",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M192 128v768h640V128zm-32-64h704a32 32 0 0 1 32 32v832a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32"}),ue("path",{fill:"currentColor",d:"M672 128h64v768h-64zM96 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32m0 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32m0 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32m0 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32"})]))}}),E1e=M1e,A1e=ge({name:"Notification",__name:"notification",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 128v64H256a64 64 0 0 0-64 64v512a64 64 0 0 0 64 64h512a64 64 0 0 0 64-64V512h64v256a128 128 0 0 1-128 128H256a128 128 0 0 1-128-128V256a128 128 0 0 1 128-128z"}),ue("path",{fill:"currentColor",d:"M768 384a128 128 0 1 0 0-256 128 128 0 0 0 0 256m0 64a192 192 0 1 1 0-384 192 192 0 0 1 0 384"})]))}}),I1e=A1e,k1e=ge({name:"Odometer",__name:"odometer",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),ue("path",{fill:"currentColor",d:"M192 512a320 320 0 1 1 640 0 32 32 0 1 1-64 0 256 256 0 1 0-512 0 32 32 0 0 1-64 0"}),ue("path",{fill:"currentColor",d:"M570.432 627.84A96 96 0 1 1 509.568 608l60.992-187.776A32 32 0 1 1 631.424 440l-60.992 187.776zM502.08 734.464a32 32 0 1 0 19.84-60.928 32 32 0 0 0-19.84 60.928"})]))}}),P1e=k1e,L1e=ge({name:"OfficeBuilding",__name:"office-building",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M192 128v704h384V128zm-32-64h448a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32"}),ue("path",{fill:"currentColor",d:"M256 256h256v64H256zm0 192h256v64H256zm0 192h256v64H256zm384-128h128v64H640zm0 128h128v64H640zM64 832h896v64H64z"}),ue("path",{fill:"currentColor",d:"M640 384v448h192V384zm-32-64h256a32 32 0 0 1 32 32v512a32 32 0 0 1-32 32H608a32 32 0 0 1-32-32V352a32 32 0 0 1 32-32"})]))}}),R1e=L1e,D1e=ge({name:"Open",__name:"open",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M329.956 257.138a254.862 254.862 0 0 0 0 509.724h364.088a254.862 254.862 0 0 0 0-509.724zm0-72.818h364.088a327.68 327.68 0 1 1 0 655.36H329.956a327.68 327.68 0 1 1 0-655.36z"}),ue("path",{fill:"currentColor",d:"M694.044 621.227a109.227 109.227 0 1 0 0-218.454 109.227 109.227 0 0 0 0 218.454m0 72.817a182.044 182.044 0 1 1 0-364.088 182.044 182.044 0 0 1 0 364.088"})]))}}),O1e=D1e,z1e=ge({name:"Operation",__name:"operation",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M389.44 768a96.064 96.064 0 0 1 181.12 0H896v64H570.56a96.064 96.064 0 0 1-181.12 0H128v-64zm192-288a96.064 96.064 0 0 1 181.12 0H896v64H762.56a96.064 96.064 0 0 1-181.12 0H128v-64zm-320-288a96.064 96.064 0 0 1 181.12 0H896v64H442.56a96.064 96.064 0 0 1-181.12 0H128v-64z"})]))}}),B1e=z1e,F1e=ge({name:"Opportunity",__name:"opportunity",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M384 960v-64h192.064v64zm448-544a350.656 350.656 0 0 1-128.32 271.424C665.344 719.04 640 763.776 640 813.504V832H320v-14.336c0-48-19.392-95.36-57.216-124.992a351.552 351.552 0 0 1-128.448-344.256c25.344-136.448 133.888-248.128 269.76-276.48A352.384 352.384 0 0 1 832 416m-544 32c0-132.288 75.904-224 192-224v-64c-154.432 0-256 122.752-256 288z"})]))}}),N1e=F1e,$1e=ge({name:"Orange",__name:"orange",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M544 894.72a382.336 382.336 0 0 0 215.936-89.472L577.024 622.272c-10.24 6.016-21.248 10.688-33.024 13.696v258.688zm261.248-134.784A382.336 382.336 0 0 0 894.656 544H635.968c-3.008 11.776-7.68 22.848-13.696 33.024l182.976 182.912zM894.656 480a382.336 382.336 0 0 0-89.408-215.936L622.272 446.976c6.016 10.24 10.688 21.248 13.696 33.024h258.688zm-134.72-261.248A382.336 382.336 0 0 0 544 129.344v258.688c11.776 3.008 22.848 7.68 33.024 13.696zM480 129.344a382.336 382.336 0 0 0-215.936 89.408l182.912 182.976c10.24-6.016 21.248-10.688 33.024-13.696zm-261.248 134.72A382.336 382.336 0 0 0 129.344 480h258.688c3.008-11.776 7.68-22.848 13.696-33.024zM129.344 544a382.336 382.336 0 0 0 89.408 215.936l182.976-182.912A127.232 127.232 0 0 1 388.032 544zm134.72 261.248A382.336 382.336 0 0 0 480 894.656V635.968a127.232 127.232 0 0 1-33.024-13.696zM512 960a448 448 0 1 1 0-896 448 448 0 0 1 0 896m0-384a64 64 0 1 0 0-128 64 64 0 0 0 0 128"})]))}}),V1e=$1e,H1e=ge({name:"Paperclip",__name:"paperclip",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M602.496 240.448A192 192 0 1 1 874.048 512l-316.8 316.8A256 256 0 0 1 195.2 466.752L602.496 59.456l45.248 45.248L240.448 512A192 192 0 0 0 512 783.552l316.8-316.8a128 128 0 1 0-181.056-181.056L353.6 579.904a32 32 0 1 0 45.248 45.248l294.144-294.144 45.312 45.248L444.096 670.4a96 96 0 1 1-135.744-135.744l294.144-294.208z"})]))}}),U1e=H1e,j1e=ge({name:"PartlyCloudy",__name:"partly-cloudy",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M598.4 895.872H328.192a256 256 0 0 1-34.496-510.528A352 352 0 1 1 598.4 895.872m-271.36-64h272.256a288 288 0 1 0-248.512-417.664L335.04 445.44l-34.816 3.584a192 192 0 0 0 26.88 382.848z"}),ue("path",{fill:"currentColor",d:"M139.84 501.888a256 256 0 1 1 417.856-277.12c-17.728 2.176-38.208 8.448-61.504 18.816A192 192 0 1 0 189.12 460.48a6003.84 6003.84 0 0 0-49.28 41.408z"})]))}}),G1e=j1e,W1e=ge({name:"Pear",__name:"pear",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M542.336 258.816a443.255 443.255 0 0 0-9.024 25.088 32 32 0 1 1-60.8-20.032l1.088-3.328a162.688 162.688 0 0 0-122.048 131.392l-17.088 102.72-20.736 15.36C256.192 552.704 224 610.88 224 672c0 120.576 126.4 224 288 224s288-103.424 288-224c0-61.12-32.192-119.296-89.728-161.92l-20.736-15.424-17.088-102.72a162.688 162.688 0 0 0-130.112-133.12zm-40.128-66.56c7.936-15.552 16.576-30.08 25.92-43.776 23.296-33.92 49.408-59.776 78.528-77.12a32 32 0 1 1 32.704 55.04c-20.544 12.224-40.064 31.552-58.432 58.304a316.608 316.608 0 0 0-9.792 15.104 226.688 226.688 0 0 1 164.48 181.568l12.8 77.248C819.456 511.36 864 587.392 864 672c0 159.04-157.568 288-352 288S160 831.04 160 672c0-84.608 44.608-160.64 115.584-213.376l12.8-77.248a226.624 226.624 0 0 1 213.76-189.184z"})]))}}),q1e=W1e,K1e=ge({name:"PhoneFilled",__name:"phone-filled",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M199.232 125.568 90.624 379.008a32 32 0 0 0 6.784 35.2l512.384 512.384a32 32 0 0 0 35.2 6.784l253.44-108.608a32 32 0 0 0 10.048-52.032L769.6 633.92a32 32 0 0 0-36.928-5.952l-130.176 65.088-271.488-271.552 65.024-130.176a32 32 0 0 0-5.952-36.928L251.2 115.52a32 32 0 0 0-51.968 10.048z"})]))}}),Y1e=K1e,Z1e=ge({name:"Phone",__name:"phone",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M79.36 432.256 591.744 944.64a32 32 0 0 0 35.2 6.784l253.44-108.544a32 32 0 0 0 9.984-52.032l-153.856-153.92a32 32 0 0 0-36.928-6.016l-69.888 34.944L358.08 394.24l35.008-69.888a32 32 0 0 0-5.952-36.928L233.152 133.568a32 32 0 0 0-52.032 10.048L72.512 397.056a32 32 0 0 0 6.784 35.2zm60.48-29.952 81.536-190.08L325.568 316.48l-24.64 49.216-20.608 41.216 32.576 32.64 271.552 271.552 32.64 32.64 41.216-20.672 49.28-24.576 104.192 104.128-190.08 81.472L139.84 402.304zM512 320v-64a256 256 0 0 1 256 256h-64a192 192 0 0 0-192-192m0-192V64a448 448 0 0 1 448 448h-64a384 384 0 0 0-384-384"})]))}}),X1e=Z1e,J1e=ge({name:"PictureFilled",__name:"picture-filled",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}}),bq=J1e,Q1e=ge({name:"PictureRounded",__name:"picture-rounded",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 128a384 384 0 1 0 0 768 384 384 0 0 0 0-768m0-64a448 448 0 1 1 0 896 448 448 0 0 1 0-896"}),ue("path",{fill:"currentColor",d:"M640 288q64 0 64 64t-64 64q-64 0-64-64t64-64M214.656 790.656l-45.312-45.312 185.664-185.6a96 96 0 0 1 123.712-10.24l138.24 98.688a32 32 0 0 0 39.872-2.176L906.688 422.4l42.624 47.744L699.52 693.696a96 96 0 0 1-119.808 6.592l-138.24-98.752a32 32 0 0 0-41.152 3.456l-185.664 185.6z"})]))}}),ebe=Q1e,tbe=ge({name:"Picture",__name:"picture",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M160 160v704h704V160zm-32-64h768a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H128a32 32 0 0 1-32-32V128a32 32 0 0 1 32-32"}),ue("path",{fill:"currentColor",d:"M384 288q64 0 64 64t-64 64q-64 0-64-64t64-64M185.408 876.992l-50.816-38.912L350.72 556.032a96 96 0 0 1 134.592-17.856l1.856 1.472 122.88 99.136a32 32 0 0 0 44.992-4.864l216-269.888 49.92 39.936-215.808 269.824-.256.32a96 96 0 0 1-135.04 14.464l-122.88-99.072-.64-.512a32 32 0 0 0-44.8 5.952z"})]))}}),nbe=tbe,rbe=ge({name:"PieChart",__name:"pie-chart",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M448 68.48v64.832A384.128 384.128 0 0 0 512 896a384.128 384.128 0 0 0 378.688-320h64.768A448.128 448.128 0 0 1 64 512 448.128 448.128 0 0 1 448 68.48z"}),ue("path",{fill:"currentColor",d:"M576 97.28V448h350.72A384.064 384.064 0 0 0 576 97.28zM512 64V33.152A448 448 0 0 1 990.848 512H512z"})]))}}),ibe=rbe,abe=ge({name:"Place",__name:"place",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 512a192 192 0 1 0 0-384 192 192 0 0 0 0 384m0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512"}),ue("path",{fill:"currentColor",d:"M512 512a32 32 0 0 1 32 32v256a32 32 0 1 1-64 0V544a32 32 0 0 1 32-32"}),ue("path",{fill:"currentColor",d:"M384 649.088v64.96C269.76 732.352 192 771.904 192 800c0 37.696 139.904 96 320 96s320-58.304 320-96c0-28.16-77.76-67.648-192-85.952v-64.96C789.12 671.04 896 730.368 896 800c0 88.32-171.904 160-384 160s-384-71.68-384-160c0-69.696 106.88-128.96 256-150.912"})]))}}),obe=abe,sbe=ge({name:"Platform",__name:"platform",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M448 832v-64h128v64h192v64H256v-64zM128 704V128h768v576z"})]))}}),lbe=sbe,ube=ge({name:"Plus",__name:"plus",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),yL=ube,cbe=ge({name:"Pointer",__name:"pointer",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M511.552 128c-35.584 0-64.384 28.8-64.384 64.448v516.48L274.048 570.88a94.272 94.272 0 0 0-112.896-3.456 44.416 44.416 0 0 0-8.96 62.208L332.8 870.4A64 64 0 0 0 384 896h512V575.232a64 64 0 0 0-45.632-61.312l-205.952-61.76A96 96 0 0 1 576 360.192V192.448C576 156.8 547.2 128 511.552 128M359.04 556.8l24.128 19.2V192.448a128.448 128.448 0 1 1 256.832 0v167.744a32 32 0 0 0 22.784 30.656l206.016 61.76A128 128 0 0 1 960 575.232V896a64 64 0 0 1-64 64H384a128 128 0 0 1-102.4-51.2L101.056 668.032A108.416 108.416 0 0 1 128 512.512a158.272 158.272 0 0 1 185.984 8.32z"})]))}}),dbe=cbe,hbe=ge({name:"Position",__name:"position",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m249.6 417.088 319.744 43.072 39.168 310.272L845.12 178.88 249.6 417.088zm-129.024 47.168a32 32 0 0 1-7.68-61.44l777.792-311.04a32 32 0 0 1 41.6 41.6l-310.336 775.68a32 32 0 0 1-61.44-7.808L512 516.992l-391.424-52.736z"})]))}}),fbe=hbe,pbe=ge({name:"Postcard",__name:"postcard",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M160 224a32 32 0 0 0-32 32v512a32 32 0 0 0 32 32h704a32 32 0 0 0 32-32V256a32 32 0 0 0-32-32zm0-64h704a96 96 0 0 1 96 96v512a96 96 0 0 1-96 96H160a96 96 0 0 1-96-96V256a96 96 0 0 1 96-96"}),ue("path",{fill:"currentColor",d:"M704 320a64 64 0 1 1 0 128 64 64 0 0 1 0-128M288 448h256q32 0 32 32t-32 32H288q-32 0-32-32t32-32m0 128h256q32 0 32 32t-32 32H288q-32 0-32-32t32-32"})]))}}),mbe=pbe,vbe=ge({name:"Pouring",__name:"pouring",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m739.328 291.328-35.2-6.592-12.8-33.408a192.064 192.064 0 0 0-365.952 23.232l-9.92 40.896-41.472 7.04a176.32 176.32 0 0 0-146.24 173.568c0 97.28 78.72 175.936 175.808 175.936h400a192 192 0 0 0 35.776-380.672zM959.552 480a256 256 0 0 1-256 256h-400A239.808 239.808 0 0 1 63.744 496.192a240.32 240.32 0 0 1 199.488-236.8 256.128 256.128 0 0 1 487.872-30.976A256.064 256.064 0 0 1 959.552 480M224 800a32 32 0 0 1 32 32v96a32 32 0 1 1-64 0v-96a32 32 0 0 1 32-32m192 0a32 32 0 0 1 32 32v96a32 32 0 1 1-64 0v-96a32 32 0 0 1 32-32m192 0a32 32 0 0 1 32 32v96a32 32 0 1 1-64 0v-96a32 32 0 0 1 32-32m192 0a32 32 0 0 1 32 32v96a32 32 0 1 1-64 0v-96a32 32 0 0 1 32-32"})]))}}),gbe=vbe,_be=ge({name:"Present",__name:"present",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M480 896V640H192v-64h288V320H192v576zm64 0h288V320H544v256h288v64H544zM128 256h768v672a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32z"}),ue("path",{fill:"currentColor",d:"M96 256h832q32 0 32 32t-32 32H96q-32 0-32-32t32-32"}),ue("path",{fill:"currentColor",d:"M416 256a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256"}),ue("path",{fill:"currentColor",d:"M608 256a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256"})]))}}),ybe=_be,bbe=ge({name:"PriceTag",__name:"price-tag",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M224 318.336V896h576V318.336L552.512 115.84a64 64 0 0 0-81.024 0zM593.024 66.304l259.2 212.096A32 32 0 0 1 864 303.168V928a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V303.168a32 32 0 0 1 11.712-24.768l259.2-212.096a128 128 0 0 1 162.112 0z"}),ue("path",{fill:"currentColor",d:"M512 448a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256"})]))}}),xbe=bbe,wbe=ge({name:"Printer",__name:"printer",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M256 768H105.024c-14.272 0-19.456-1.472-24.64-4.288a29.056 29.056 0 0 1-12.16-12.096C65.536 746.432 64 741.248 64 727.04V379.072c0-42.816 4.48-58.304 12.8-73.984 8.384-15.616 20.672-27.904 36.288-36.288 15.68-8.32 31.168-12.8 73.984-12.8H256V64h512v192h68.928c42.816 0 58.304 4.48 73.984 12.8 15.616 8.384 27.904 20.672 36.288 36.288 8.32 15.68 12.8 31.168 12.8 73.984v347.904c0 14.272-1.472 19.456-4.288 24.64a29.056 29.056 0 0 1-12.096 12.16c-5.184 2.752-10.368 4.224-24.64 4.224H768v192H256zm64-192v320h384V576zm-64 128V512h512v192h128V379.072c0-29.376-1.408-36.48-5.248-43.776a23.296 23.296 0 0 0-10.048-10.048c-7.232-3.84-14.4-5.248-43.776-5.248H187.072c-29.376 0-36.48 1.408-43.776 5.248a23.296 23.296 0 0 0-10.048 10.048c-3.84 7.232-5.248 14.4-5.248 43.776V704zm64-448h384V128H320zm-64 128h64v64h-64zm128 0h64v64h-64z"})]))}}),Sbe=wbe,Cbe=ge({name:"Promotion",__name:"promotion",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m64 448 832-320-128 704-446.08-243.328L832 192 242.816 545.472zm256 512V657.024L512 768z"})]))}}),Tbe=Cbe,Mbe=ge({name:"QuartzWatch",__name:"quartz-watch",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M422.02 602.01v-.03c-6.68-5.99-14.35-8.83-23.01-8.51-8.67.32-16.17 3.66-22.5 10.02-6.33 6.36-9.5 13.7-9.5 22.02s3 15.82 8.99 22.5c8.68 8.68 19.02 11.35 31.01 8s19.49-10.85 22.5-22.5c3.01-11.65.51-22.15-7.49-31.49zM384 512c0-9.35-3-17.02-8.99-23.01-6-5.99-13.66-8.99-23.01-8.99-9.35 0-17.02 3-23.01 8.99-5.99 6-8.99 13.66-8.99 23.01s3 17.02 8.99 23.01c6 5.99 13.66 8.99 23.01 8.99 9.35 0 17.02-3 23.01-8.99 5.99-6 8.99-13.67 8.99-23.01m6.53-82.49c11.65 3.01 22.15.51 31.49-7.49h.04c5.99-6.68 8.83-14.34 8.51-23.01-.32-8.67-3.66-16.16-10.02-22.5-6.36-6.33-13.7-9.5-22.02-9.5s-15.82 3-22.5 8.99c-8.68 8.69-11.35 19.02-8 31.01 3.35 11.99 10.85 19.49 22.5 22.5zm242.94 0c11.67-3.03 19.01-10.37 22.02-22.02 3.01-11.65.51-22.15-7.49-31.49h.01c-6.68-5.99-14.18-8.99-22.5-8.99s-15.66 3.16-22.02 9.5c-6.36 6.34-9.7 13.84-10.02 22.5-.32 8.66 2.52 16.33 8.51 23.01 9.32 8.02 19.82 10.52 31.49 7.49M512 640c-9.35 0-17.02 3-23.01 8.99-5.99 6-8.99 13.66-8.99 23.01s3 17.02 8.99 23.01c6 5.99 13.67 8.99 23.01 8.99 9.35 0 17.02-3 23.01-8.99 5.99-6 8.99-13.66 8.99-23.01s-3-17.02-8.99-23.01c-6-5.99-13.66-8.99-23.01-8.99m183.01-151.01c-6-5.99-13.66-8.99-23.01-8.99s-17.02 3-23.01 8.99c-5.99 6-8.99 13.66-8.99 23.01s3 17.02 8.99 23.01c6 5.99 13.66 8.99 23.01 8.99s17.02-3 23.01-8.99c5.99-6 8.99-13.67 8.99-23.01 0-9.35-3-17.02-8.99-23.01"}),ue("path",{fill:"currentColor",d:"M832 512c-2-90.67-33.17-166.17-93.5-226.5-20.43-20.42-42.6-37.49-66.5-51.23V64H352v170.26c-23.9 13.74-46.07 30.81-66.5 51.24-60.33 60.33-91.49 135.83-93.5 226.5 2 90.67 33.17 166.17 93.5 226.5 20.43 20.43 42.6 37.5 66.5 51.24V960h320V789.74c23.9-13.74 46.07-30.81 66.5-51.24 60.33-60.34 91.49-135.83 93.5-226.5M416 128h192v78.69c-29.85-9.03-61.85-13.93-96-14.69-34.15.75-66.15 5.65-96 14.68zm192 768H416v-78.68c29.85 9.03 61.85 13.93 96 14.68 34.15-.75 66.15-5.65 96-14.68zm-96-128c-72.66-2.01-132.99-27.01-180.99-75.01S258.01 584.66 256 512c2.01-72.66 27.01-132.99 75.01-180.99S439.34 258.01 512 256c72.66 2.01 132.99 27.01 180.99 75.01S765.99 439.34 768 512c-2.01 72.66-27.01 132.99-75.01 180.99S584.66 765.99 512 768"}),ue("path",{fill:"currentColor",d:"M512 320c-9.35 0-17.02 3-23.01 8.99-5.99 6-8.99 13.66-8.99 23.01 0 9.35 3 17.02 8.99 23.01 6 5.99 13.67 8.99 23.01 8.99 9.35 0 17.02-3 23.01-8.99 5.99-6 8.99-13.66 8.99-23.01 0-9.35-3-17.02-8.99-23.01-6-5.99-13.66-8.99-23.01-8.99m112.99 273.5c-8.66-.32-16.33 2.52-23.01 8.51-7.98 9.32-10.48 19.82-7.49 31.49s10.49 19.17 22.5 22.5 22.35.66 31.01-8v.04c5.99-6.68 8.99-14.18 8.99-22.5s-3.16-15.66-9.5-22.02-13.84-9.7-22.5-10.02"})]))}}),Ebe=Mbe,Abe=ge({name:"QuestionFilled",__name:"question-filled",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"})]))}}),xq=Abe,Ibe=ge({name:"Rank",__name:"rank",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m186.496 544 41.408 41.344a32 32 0 1 1-45.248 45.312l-96-96a32 32 0 0 1 0-45.312l96-96a32 32 0 1 1 45.248 45.312L186.496 480h290.816V186.432l-41.472 41.472a32 32 0 1 1-45.248-45.184l96-96.128a32 32 0 0 1 45.312 0l96 96.064a32 32 0 0 1-45.248 45.184l-41.344-41.28V480H832l-41.344-41.344a32 32 0 0 1 45.248-45.312l96 96a32 32 0 0 1 0 45.312l-96 96a32 32 0 0 1-45.248-45.312L832 544H541.312v293.44l41.344-41.28a32 32 0 1 1 45.248 45.248l-96 96a32 32 0 0 1-45.312 0l-96-96a32 32 0 1 1 45.312-45.248l41.408 41.408V544H186.496z"})]))}}),kbe=Ibe,Pbe=ge({name:"ReadingLamp",__name:"reading-lamp",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M352 896h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32m-44.672-768-99.52 448h608.384l-99.52-448zm-25.6-64h460.608a32 32 0 0 1 31.232 25.088l113.792 512A32 32 0 0 1 856.128 640H167.872a32 32 0 0 1-31.232-38.912l113.792-512A32 32 0 0 1 281.664 64z"}),ue("path",{fill:"currentColor",d:"M672 576q32 0 32 32v128q0 32-32 32t-32-32V608q0-32 32-32m-192-.064h64V960h-64z"})]))}}),Lbe=Pbe,Rbe=ge({name:"Reading",__name:"reading",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m512 863.36 384-54.848v-638.72L525.568 222.72a96 96 0 0 1-27.136 0L128 169.792v638.72zM137.024 106.432l370.432 52.928a32 32 0 0 0 9.088 0l370.432-52.928A64 64 0 0 1 960 169.792v638.72a64 64 0 0 1-54.976 63.36l-388.48 55.488a32 32 0 0 1-9.088 0l-388.48-55.488A64 64 0 0 1 64 808.512v-638.72a64 64 0 0 1 73.024-63.36z"}),ue("path",{fill:"currentColor",d:"M480 192h64v704h-64z"})]))}}),Dbe=Rbe,Obe=ge({name:"RefreshLeft",__name:"refresh-left",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),wq=Obe,zbe=ge({name:"RefreshRight",__name:"refresh-right",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),Sq=zbe,Bbe=ge({name:"Refresh",__name:"refresh",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M771.776 794.88A384 384 0 0 1 128 512h64a320 320 0 0 0 555.712 216.448H654.72a32 32 0 1 1 0-64h149.056a32 32 0 0 1 32 32v148.928a32 32 0 1 1-64 0v-50.56zM276.288 295.616h92.992a32 32 0 0 1 0 64H220.16a32 32 0 0 1-32-32V178.56a32 32 0 0 1 64 0v50.56A384 384 0 0 1 896.128 512h-64a320 320 0 0 0-555.776-216.384z"})]))}}),Fbe=Bbe,Nbe=ge({name:"Refrigerator",__name:"refrigerator",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M256 448h512V160a32 32 0 0 0-32-32H288a32 32 0 0 0-32 32zm0 64v352a32 32 0 0 0 32 32h448a32 32 0 0 0 32-32V512zm32-448h448a96 96 0 0 1 96 96v704a96 96 0 0 1-96 96H288a96 96 0 0 1-96-96V160a96 96 0 0 1 96-96m32 224h64v96h-64zm0 288h64v96h-64z"})]))}}),$be=Nbe,Vbe=ge({name:"RemoveFilled",__name:"remove-filled",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896M288 512a38.4 38.4 0 0 0 38.4 38.4h371.2a38.4 38.4 0 0 0 0-76.8H326.4A38.4 38.4 0 0 0 288 512"})]))}}),Hbe=Vbe,Ube=ge({name:"Remove",__name:"remove",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M352 480h320a32 32 0 1 1 0 64H352a32 32 0 0 1 0-64"}),ue("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),jbe=Ube,Gbe=ge({name:"Right",__name:"right",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M754.752 480H160a32 32 0 1 0 0 64h594.752L521.344 777.344a32 32 0 0 0 45.312 45.312l288-288a32 32 0 0 0 0-45.312l-288-288a32 32 0 1 0-45.312 45.312z"})]))}}),Wbe=Gbe,qbe=ge({name:"ScaleToOriginal",__name:"scale-to-original",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),Cq=qbe,Kbe=ge({name:"School",__name:"school",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M224 128v704h576V128zm-32-64h640a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32"}),ue("path",{fill:"currentColor",d:"M64 832h896v64H64zm256-640h128v96H320z"}),ue("path",{fill:"currentColor",d:"M384 832h256v-64a128 128 0 1 0-256 0zm128-256a192 192 0 0 1 192 192v128H320V768a192 192 0 0 1 192-192M320 384h128v96H320zm256-192h128v96H576zm0 192h128v96H576z"})]))}}),Ybe=Kbe,Zbe=ge({name:"Scissor",__name:"scissor",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m512.064 578.368-106.88 152.768a160 160 0 1 1-23.36-78.208L472.96 522.56 196.864 128.256a32 32 0 1 1 52.48-36.736l393.024 561.344a160 160 0 1 1-23.36 78.208l-106.88-152.704zm54.4-189.248 208.384-297.6a32 32 0 0 1 52.48 36.736l-221.76 316.672-39.04-55.808zm-376.32 425.856a96 96 0 1 0 110.144-157.248 96 96 0 0 0-110.08 157.248zm643.84 0a96 96 0 1 0-110.08-157.248 96 96 0 0 0 110.08 157.248"})]))}}),Xbe=Zbe,Jbe=ge({name:"Search",__name:"search",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),Tq=Jbe,Qbe=ge({name:"Select",__name:"select",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M77.248 415.04a64 64 0 0 1 90.496 0l226.304 226.304L846.528 188.8a64 64 0 1 1 90.56 90.496l-543.04 543.04-316.8-316.8a64 64 0 0 1 0-90.496z"})]))}}),e2e=Qbe,t2e=ge({name:"Sell",__name:"sell",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M704 288h131.072a32 32 0 0 1 31.808 28.8L886.4 512h-64.384l-16-160H704v96a32 32 0 1 1-64 0v-96H384v96a32 32 0 0 1-64 0v-96H217.92l-51.2 512H512v64H131.328a32 32 0 0 1-31.808-35.2l57.6-576a32 32 0 0 1 31.808-28.8H320v-22.336C320 154.688 405.504 64 512 64s192 90.688 192 201.664v22.4zm-64 0v-22.336C640 189.248 582.272 128 512 128c-70.272 0-128 61.248-128 137.664v22.4h256zm201.408 483.84L768 698.496V928a32 32 0 1 1-64 0V698.496l-73.344 73.344a32 32 0 1 1-45.248-45.248l128-128a32 32 0 0 1 45.248 0l128 128a32 32 0 1 1-45.248 45.248z"})]))}}),n2e=t2e,r2e=ge({name:"SemiSelect",__name:"semi-select",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M128 448h768q64 0 64 64t-64 64H128q-64 0-64-64t64-64"})]))}}),i2e=r2e,a2e=ge({name:"Service",__name:"service",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M864 409.6a192 192 0 0 1-37.888 349.44A256.064 256.064 0 0 1 576 960h-96a32 32 0 1 1 0-64h96a192.064 192.064 0 0 0 181.12-128H736a32 32 0 0 1-32-32V416a32 32 0 0 1 32-32h32c10.368 0 20.544.832 30.528 2.432a288 288 0 0 0-573.056 0A193.235 193.235 0 0 1 256 384h32a32 32 0 0 1 32 32v320a32 32 0 0 1-32 32h-32a192 192 0 0 1-96-358.4 352 352 0 0 1 704 0M256 448a128 128 0 1 0 0 256zm640 128a128 128 0 0 0-128-128v256a128 128 0 0 0 128-128"})]))}}),o2e=a2e,s2e=ge({name:"SetUp",__name:"set-up",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M224 160a64 64 0 0 0-64 64v576a64 64 0 0 0 64 64h576a64 64 0 0 0 64-64V224a64 64 0 0 0-64-64zm0-64h576a128 128 0 0 1 128 128v576a128 128 0 0 1-128 128H224A128 128 0 0 1 96 800V224A128 128 0 0 1 224 96"}),ue("path",{fill:"currentColor",d:"M384 416a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256"}),ue("path",{fill:"currentColor",d:"M480 320h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32m160 416a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256"}),ue("path",{fill:"currentColor",d:"M288 640h256q32 0 32 32t-32 32H288q-32 0-32-32t32-32"})]))}}),l2e=s2e,u2e=ge({name:"Setting",__name:"setting",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357.12 357.12 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a351.616 351.616 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357.12 357.12 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088-24.512 11.968a294.113 294.113 0 0 0-34.816 20.096l-22.656 15.36-116.224-25.088-65.28 113.152 79.68 88.192-1.92 27.136a293.12 293.12 0 0 0 0 40.192l1.92 27.136-79.808 88.192 65.344 113.152 116.224-25.024 22.656 15.296a294.113 294.113 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152 24.448-11.904a288.282 288.282 0 0 0 34.752-20.096l22.592-15.296 116.288 25.024 65.28-113.152-79.744-88.192 1.92-27.136a293.12 293.12 0 0 0 0-40.256l-1.92-27.136 79.808-88.128-65.344-113.152-116.288 24.96-22.592-15.232a287.616 287.616 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384 192 192 0 0 1 0-384m0 64a128 128 0 1 0 0 256 128 128 0 0 0 0-256"})]))}}),c2e=u2e,d2e=ge({name:"Share",__name:"share",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m679.872 348.8-301.76 188.608a127.808 127.808 0 0 1 5.12 52.16l279.936 104.96a128 128 0 1 1-22.464 59.904l-279.872-104.96a128 128 0 1 1-16.64-166.272l301.696-188.608a128 128 0 1 1 33.92 54.272z"})]))}}),h2e=d2e,f2e=ge({name:"Ship",__name:"ship",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 386.88V448h405.568a32 32 0 0 1 30.72 40.768l-76.48 267.968A192 192 0 0 1 687.168 896H336.832a192 192 0 0 1-184.64-139.264L75.648 488.768A32 32 0 0 1 106.368 448H448V117.888a32 32 0 0 1 47.36-28.096l13.888 7.616L512 96v2.88l231.68 126.4a32 32 0 0 1-2.048 57.216zm0-70.272 144.768-65.792L512 171.84zM512 512H148.864l18.24 64H856.96l18.24-64zM185.408 640l28.352 99.2A128 128 0 0 0 336.832 832h350.336a128 128 0 0 0 123.072-92.8l28.352-99.2H185.408"})]))}}),p2e=f2e,m2e=ge({name:"Shop",__name:"shop",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M704 704h64v192H256V704h64v64h384zm188.544-152.192C894.528 559.616 896 567.616 896 576a96 96 0 1 1-192 0 96 96 0 1 1-192 0 96 96 0 1 1-192 0 96 96 0 1 1-192 0c0-8.384 1.408-16.384 3.392-24.192L192 128h640z"})]))}}),v2e=m2e,g2e=ge({name:"ShoppingBag",__name:"shopping-bag",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M704 320v96a32 32 0 0 1-32 32h-32V320H384v128h-32a32 32 0 0 1-32-32v-96H192v576h640V320zm-384-64a192 192 0 1 1 384 0h160a32 32 0 0 1 32 32v640a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V288a32 32 0 0 1 32-32zm64 0h256a128 128 0 1 0-256 0"}),ue("path",{fill:"currentColor",d:"M192 704h640v64H192z"})]))}}),_2e=g2e,y2e=ge({name:"ShoppingCartFull",__name:"shopping-cart-full",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M432 928a48 48 0 1 1 0-96 48 48 0 0 1 0 96m320 0a48 48 0 1 1 0-96 48 48 0 0 1 0 96M96 128a32 32 0 0 1 0-64h160a32 32 0 0 1 31.36 25.728L320.64 256H928a32 32 0 0 1 31.296 38.72l-96 448A32 32 0 0 1 832 768H384a32 32 0 0 1-31.36-25.728L229.76 128zm314.24 576h395.904l82.304-384H333.44l76.8 384z"}),ue("path",{fill:"currentColor",d:"M699.648 256 608 145.984 516.352 256h183.296zm-140.8-151.04a64 64 0 0 1 98.304 0L836.352 320H379.648l179.2-215.04"})]))}}),b2e=y2e,x2e=ge({name:"ShoppingCart",__name:"shopping-cart",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M432 928a48 48 0 1 1 0-96 48 48 0 0 1 0 96m320 0a48 48 0 1 1 0-96 48 48 0 0 1 0 96M96 128a32 32 0 0 1 0-64h160a32 32 0 0 1 31.36 25.728L320.64 256H928a32 32 0 0 1 31.296 38.72l-96 448A32 32 0 0 1 832 768H384a32 32 0 0 1-31.36-25.728L229.76 128zm314.24 576h395.904l82.304-384H333.44l76.8 384z"})]))}}),w2e=x2e,S2e=ge({name:"ShoppingTrolley",__name:"shopping-trolley",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M368 833c-13.3 0-24.5 4.5-33.5 13.5S321 866.7 321 880s4.5 24.5 13.5 33.5 20.2 13.8 33.5 14.5c13.3-.7 24.5-5.5 33.5-14.5S415 893.3 415 880s-4.5-24.5-13.5-33.5S381.3 833 368 833m439-193c7.4 0 13.8-2.2 19.5-6.5S836 623.3 838 616l112-448c2-10-.2-19.2-6.5-27.5S929 128 919 128H96c-9.3 0-17 3-23 9s-9 13.7-9 23 3 17 9 23 13.7 9 23 9h96v576h672c9.3 0 17-3 23-9s9-13.7 9-23-3-17-9-23-13.7-9-23-9H256v-64zM256 192h622l-96 384H256zm432 641c-13.3 0-24.5 4.5-33.5 13.5S641 866.7 641 880s4.5 24.5 13.5 33.5 20.2 13.8 33.5 14.5c13.3-.7 24.5-5.5 33.5-14.5S735 893.3 735 880s-4.5-24.5-13.5-33.5S701.3 833 688 833"})]))}}),C2e=S2e,T2e=ge({name:"Smoking",__name:"smoking",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M256 576v128h640V576zm-32-64h704a32 32 0 0 1 32 32v192a32 32 0 0 1-32 32H224a32 32 0 0 1-32-32V544a32 32 0 0 1 32-32"}),ue("path",{fill:"currentColor",d:"M704 576h64v128h-64zM256 64h64v320h-64zM128 192h64v192h-64zM64 512h64v256H64z"})]))}}),M2e=T2e,E2e=ge({name:"Soccer",__name:"soccer",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M418.496 871.04 152.256 604.8c-16.512 94.016-2.368 178.624 42.944 224 44.928 44.928 129.344 58.752 223.296 42.24m72.32-18.176a573.056 573.056 0 0 0 224.832-137.216 573.12 573.12 0 0 0 137.216-224.832L533.888 171.84a578.56 578.56 0 0 0-227.52 138.496A567.68 567.68 0 0 0 170.432 532.48l320.384 320.384zM871.04 418.496c16.512-93.952 2.688-178.368-42.24-223.296-44.544-44.544-128.704-58.048-222.592-41.536zM149.952 874.048c-112.96-112.96-88.832-408.96 111.168-608.96C461.056 65.152 760.96 36.928 874.048 149.952c113.024 113.024 86.784 411.008-113.152 610.944-199.936 199.936-497.92 226.112-610.944 113.152m452.544-497.792 22.656-22.656a32 32 0 0 1 45.248 45.248l-22.656 22.656 45.248 45.248A32 32 0 1 1 647.744 512l-45.248-45.248L557.248 512l45.248 45.248a32 32 0 1 1-45.248 45.248L512 557.248l-45.248 45.248L512 647.744a32 32 0 1 1-45.248 45.248l-45.248-45.248-22.656 22.656a32 32 0 1 1-45.248-45.248l22.656-22.656-45.248-45.248A32 32 0 1 1 376.256 512l45.248 45.248L466.752 512l-45.248-45.248a32 32 0 1 1 45.248-45.248L512 466.752l45.248-45.248L512 376.256a32 32 0 0 1 45.248-45.248l45.248 45.248z"})]))}}),A2e=E2e,I2e=ge({name:"SoldOut",__name:"sold-out",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M704 288h131.072a32 32 0 0 1 31.808 28.8L886.4 512h-64.384l-16-160H704v96a32 32 0 1 1-64 0v-96H384v96a32 32 0 0 1-64 0v-96H217.92l-51.2 512H512v64H131.328a32 32 0 0 1-31.808-35.2l57.6-576a32 32 0 0 1 31.808-28.8H320v-22.336C320 154.688 405.504 64 512 64s192 90.688 192 201.664v22.4zm-64 0v-22.336C640 189.248 582.272 128 512 128c-70.272 0-128 61.248-128 137.664v22.4h256zm201.408 476.16a32 32 0 1 1 45.248 45.184l-128 128a32 32 0 0 1-45.248 0l-128-128a32 32 0 1 1 45.248-45.248L704 837.504V608a32 32 0 1 1 64 0v229.504l73.408-73.408z"})]))}}),k2e=I2e,P2e=ge({name:"SortDown",__name:"sort-down",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}}),Mq=P2e,L2e=ge({name:"SortUp",__name:"sort-up",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}}),Eq=L2e,R2e=ge({name:"Sort",__name:"sort",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M384 96a32 32 0 0 1 64 0v786.752a32 32 0 0 1-54.592 22.656L95.936 608a32 32 0 0 1 0-45.312h.128a32 32 0 0 1 45.184 0L384 805.632zm192 45.248a32 32 0 0 1 54.592-22.592L928.064 416a32 32 0 0 1 0 45.312h-.128a32 32 0 0 1-45.184 0L640 218.496V928a32 32 0 1 1-64 0V141.248z"})]))}}),D2e=R2e,O2e=ge({name:"Stamp",__name:"stamp",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M624 475.968V640h144a128 128 0 0 1 128 128H128a128 128 0 0 1 128-128h144V475.968a192 192 0 1 1 224 0M128 896v-64h768v64z"})]))}}),z2e=O2e,B2e=ge({name:"StarFilled",__name:"star-filled",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"})]))}}),_b=B2e,F2e=ge({name:"Star",__name:"star",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),Aq=F2e,N2e=ge({name:"Stopwatch",__name:"stopwatch",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),ue("path",{fill:"currentColor",d:"M672 234.88c-39.168 174.464-80 298.624-122.688 372.48-64 110.848-202.624 30.848-138.624-80C453.376 453.44 540.48 355.968 672 234.816z"})]))}}),$2e=N2e,V2e=ge({name:"SuccessFilled",__name:"success-filled",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),bL=V2e,H2e=ge({name:"Sugar",__name:"sugar",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m801.728 349.184 4.48 4.48a128 128 0 0 1 0 180.992L534.656 806.144a128 128 0 0 1-181.056 0l-4.48-4.48-19.392 109.696a64 64 0 0 1-108.288 34.176L78.464 802.56a64 64 0 0 1 34.176-108.288l109.76-19.328-4.544-4.544a128 128 0 0 1 0-181.056l271.488-271.488a128 128 0 0 1 181.056 0l4.48 4.48 19.392-109.504a64 64 0 0 1 108.352-34.048l142.592 143.04a64 64 0 0 1-34.24 108.16l-109.248 19.2zm-548.8 198.72h447.168v2.24l60.8-60.8a63.808 63.808 0 0 0 18.752-44.416h-426.88l-89.664 89.728a64.064 64.064 0 0 0-10.24 13.248zm0 64c2.752 4.736 6.144 9.152 10.176 13.248l135.744 135.744a64 64 0 0 0 90.496 0L638.4 611.904zm490.048-230.976L625.152 263.104a64 64 0 0 0-90.496 0L416.768 380.928zM123.712 757.312l142.976 142.976 24.32-137.6a25.6 25.6 0 0 0-29.696-29.632l-137.6 24.256zm633.6-633.344-24.32 137.472a25.6 25.6 0 0 0 29.632 29.632l137.28-24.064-142.656-143.04z"})]))}}),U2e=H2e,j2e=ge({name:"SuitcaseLine",__name:"suitcase-line",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M922.5 229.5c-24.32-24.34-54.49-36.84-90.5-37.5H704v-64c-.68-17.98-7.02-32.98-19.01-44.99S658.01 64.66 640 64H384c-17.98.68-32.98 7.02-44.99 19.01S320.66 110 320 128v64H192c-35.99.68-66.16 13.18-90.5 37.5C77.16 253.82 64.66 283.99 64 320v448c.68 35.99 13.18 66.16 37.5 90.5s54.49 36.84 90.5 37.5h640c35.99-.68 66.16-13.18 90.5-37.5s36.84-54.49 37.5-90.5V320c-.68-35.99-13.18-66.16-37.5-90.5M384 128h256v64H384zM256 832h-64c-17.98-.68-32.98-7.02-44.99-19.01S128.66 786.01 128 768V448h128zm448 0H320V448h384zm192-64c-.68 17.98-7.02 32.98-19.01 44.99S850.01 831.34 832 832h-64V448h128zm0-384H128v-64c.69-17.98 7.02-32.98 19.01-44.99S173.99 256.66 192 256h640c17.98.69 32.98 7.02 44.99 19.01S895.34 301.99 896 320z"})]))}}),G2e=j2e,W2e=ge({name:"Suitcase",__name:"suitcase",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M128 384h768v-64a64 64 0 0 0-64-64H192a64 64 0 0 0-64 64zm0 64v320a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V448zm64-256h640a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H192A128 128 0 0 1 64 768V320a128 128 0 0 1 128-128"}),ue("path",{fill:"currentColor",d:"M384 128v64h256v-64zm0-64h256a64 64 0 0 1 64 64v64a64 64 0 0 1-64 64H384a64 64 0 0 1-64-64v-64a64 64 0 0 1 64-64"})]))}}),q2e=W2e,K2e=ge({name:"Sunny",__name:"sunny",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 704a192 192 0 1 0 0-384 192 192 0 0 0 0 384m0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512m0-704a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 768a32 32 0 0 1 32 32v64a32 32 0 1 1-64 0v-64a32 32 0 0 1 32-32M195.2 195.2a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 1 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm543.104 543.104a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 0 1-45.248 45.248l-45.248-45.248a32 32 0 0 1 0-45.248M64 512a32 32 0 0 1 32-32h64a32 32 0 0 1 0 64H96a32 32 0 0 1-32-32m768 0a32 32 0 0 1 32-32h64a32 32 0 1 1 0 64h-64a32 32 0 0 1-32-32M195.2 828.8a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248L240.448 828.8a32 32 0 0 1-45.248 0zm543.104-543.104a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248l-45.248 45.248a32 32 0 0 1-45.248 0"})]))}}),Y2e=K2e,Z2e=ge({name:"Sunrise",__name:"sunrise",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M32 768h960a32 32 0 1 1 0 64H32a32 32 0 1 1 0-64m129.408-96a352 352 0 0 1 701.184 0h-64.32a288 288 0 0 0-572.544 0h-64.32zM512 128a32 32 0 0 1 32 32v96a32 32 0 0 1-64 0v-96a32 32 0 0 1 32-32m407.296 168.704a32 32 0 0 1 0 45.248l-67.84 67.84a32 32 0 1 1-45.248-45.248l67.84-67.84a32 32 0 0 1 45.248 0zm-814.592 0a32 32 0 0 1 45.248 0l67.84 67.84a32 32 0 1 1-45.248 45.248l-67.84-67.84a32 32 0 0 1 0-45.248"})]))}}),X2e=Z2e,J2e=ge({name:"Sunset",__name:"sunset",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M82.56 640a448 448 0 1 1 858.88 0h-67.2a384 384 0 1 0-724.288 0zM32 704h960q32 0 32 32t-32 32H32q-32 0-32-32t32-32m256 128h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32"})]))}}),Q2e=J2e,exe=ge({name:"SwitchButton",__name:"switch-button",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M352 159.872V230.4a352 352 0 1 0 320 0v-70.528A416.128 416.128 0 0 1 512 960a416 416 0 0 1-160-800.128z"}),ue("path",{fill:"currentColor",d:"M512 64q32 0 32 32v320q0 32-32 32t-32-32V96q0-32 32-32"})]))}}),txe=exe,nxe=ge({name:"SwitchFilled",__name:"switch-filled",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M247.47 358.4v.04c.07 19.17 7.72 37.53 21.27 51.09s31.92 21.2 51.09 21.27c39.86 0 72.41-32.6 72.41-72.4s-32.6-72.36-72.41-72.36-72.36 32.55-72.36 72.36z"}),ue("path",{fill:"currentColor",d:"M492.38 128H324.7c-52.16 0-102.19 20.73-139.08 57.61a196.655 196.655 0 0 0-57.61 139.08V698.7c-.01 25.84 5.08 51.42 14.96 75.29s24.36 45.56 42.63 63.83 39.95 32.76 63.82 42.65a196.67 196.67 0 0 0 75.28 14.98h167.68c3.03 0 5.46-2.43 5.46-5.42V133.42c.6-2.99-1.83-5.42-5.46-5.42zm-56.11 705.88H324.7c-17.76.13-35.36-3.33-51.75-10.18s-31.22-16.94-43.61-29.67c-25.3-25.35-39.81-59.1-39.81-95.32V324.69c-.13-17.75 3.33-35.35 10.17-51.74a131.695 131.695 0 0 1 29.64-43.62c25.39-25.3 59.14-39.81 95.36-39.81h111.57zm402.12-647.67a196.655 196.655 0 0 0-139.08-57.61H580.48c-3.03 0-4.82 2.43-4.82 4.82v757.16c-.6 2.99 1.79 5.42 5.42 5.42h118.23a196.69 196.69 0 0 0 139.08-57.61A196.655 196.655 0 0 0 896 699.31V325.29a196.69 196.69 0 0 0-57.61-139.08zm-111.3 441.92c-42.83 0-77.82-34.99-77.82-77.82s34.98-77.82 77.82-77.82c42.83 0 77.82 34.99 77.82 77.82s-34.99 77.82-77.82 77.82z"})]))}}),rxe=nxe,ixe=ge({name:"Switch",__name:"switch",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M118.656 438.656a32 32 0 0 1 0-45.248L416 96l4.48-3.776A32 32 0 0 1 461.248 96l3.712 4.48a32.064 32.064 0 0 1-3.712 40.832L218.56 384H928a32 32 0 1 1 0 64H141.248a32 32 0 0 1-22.592-9.344zM64 608a32 32 0 0 1 32-32h786.752a32 32 0 0 1 22.656 54.592L608 928l-4.48 3.776a32.064 32.064 0 0 1-40.832-49.024L805.632 640H96a32 32 0 0 1-32-32"})]))}}),axe=ixe,oxe=ge({name:"TakeawayBox",__name:"takeaway-box",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M832 384H192v448h640zM96 320h832V128H96zm800 64v480a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V384H64a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32h896a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32zM416 512h192a32 32 0 0 1 0 64H416a32 32 0 0 1 0-64"})]))}}),sxe=oxe,lxe=ge({name:"Ticket",__name:"ticket",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M640 832H64V640a128 128 0 1 0 0-256V192h576v160h64V192h256v192a128 128 0 1 0 0 256v192H704V672h-64zm0-416v192h64V416z"})]))}}),uxe=lxe,cxe=ge({name:"Tickets",__name:"tickets",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M192 128v768h640V128zm-32-64h704a32 32 0 0 1 32 32v832a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h192v64H320zm0 384h384v64H320z"})]))}}),dxe=cxe,hxe=ge({name:"Timer",__name:"timer",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 896a320 320 0 1 0 0-640 320 320 0 0 0 0 640m0 64a384 384 0 1 1 0-768 384 384 0 0 1 0 768"}),ue("path",{fill:"currentColor",d:"M512 320a32 32 0 0 1 32 32l-.512 224a32 32 0 1 1-64 0L480 352a32 32 0 0 1 32-32"}),ue("path",{fill:"currentColor",d:"M448 576a64 64 0 1 0 128 0 64 64 0 1 0-128 0m96-448v128h-64V128h-96a32 32 0 0 1 0-64h256a32 32 0 1 1 0 64z"})]))}}),fxe=hxe,pxe=ge({name:"ToiletPaper",__name:"toilet-paper",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M595.2 128H320a192 192 0 0 0-192 192v576h384V352c0-90.496 32.448-171.2 83.2-224M736 64c123.712 0 224 128.96 224 288S859.712 640 736 640H576v320H64V320A256 256 0 0 1 320 64zM576 352v224h160c84.352 0 160-97.28 160-224s-75.648-224-160-224-160 97.28-160 224"}),ue("path",{fill:"currentColor",d:"M736 448c-35.328 0-64-43.008-64-96s28.672-96 64-96 64 43.008 64 96-28.672 96-64 96"})]))}}),mxe=pxe,vxe=ge({name:"Tools",__name:"tools",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M764.416 254.72a351.68 351.68 0 0 1 86.336 149.184H960v192.064H850.752a351.68 351.68 0 0 1-86.336 149.312l54.72 94.72-166.272 96-54.592-94.72a352.64 352.64 0 0 1-172.48 0L371.136 936l-166.272-96 54.72-94.72a351.68 351.68 0 0 1-86.336-149.312H64v-192h109.248a351.68 351.68 0 0 1 86.336-149.312L204.8 160l166.208-96h.192l54.656 94.592a352.64 352.64 0 0 1 172.48 0L652.8 64h.128L819.2 160l-54.72 94.72zM704 499.968a192 192 0 1 0-384 0 192 192 0 0 0 384 0"})]))}}),gxe=vxe,_xe=ge({name:"TopLeft",__name:"top-left",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M256 256h416a32 32 0 1 0 0-64H224a32 32 0 0 0-32 32v448a32 32 0 0 0 64 0z"}),ue("path",{fill:"currentColor",d:"M246.656 201.344a32 32 0 0 0-45.312 45.312l544 544a32 32 0 0 0 45.312-45.312l-544-544z"})]))}}),yxe=_xe,bxe=ge({name:"TopRight",__name:"top-right",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M768 256H353.6a32 32 0 1 1 0-64H800a32 32 0 0 1 32 32v448a32 32 0 0 1-64 0z"}),ue("path",{fill:"currentColor",d:"M777.344 201.344a32 32 0 0 1 45.312 45.312l-544 544a32 32 0 0 1-45.312-45.312l544-544z"})]))}}),xxe=bxe,wxe=ge({name:"Top",__name:"top",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M572.235 205.282v600.365a30.118 30.118 0 1 1-60.235 0V205.282L292.382 438.633a28.913 28.913 0 0 1-42.646 0 33.43 33.43 0 0 1 0-45.236l271.058-288.045a28.913 28.913 0 0 1 42.647 0L834.5 393.397a33.43 33.43 0 0 1 0 45.176 28.913 28.913 0 0 1-42.647 0l-219.618-233.23z"})]))}}),Sxe=wxe,Cxe=ge({name:"TrendCharts",__name:"trend-charts",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M128 896V128h768v768zm291.712-327.296 128 102.4 180.16-201.792-47.744-42.624-139.84 156.608-128-102.4-180.16 201.792 47.744 42.624 139.84-156.608zM816 352a48 48 0 1 0-96 0 48 48 0 0 0 96 0"})]))}}),Txe=Cxe,Mxe=ge({name:"TrophyBase",__name:"trophy-base",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M918.4 201.6c-6.4-6.4-12.8-9.6-22.4-9.6H768V96c0-9.6-3.2-16-9.6-22.4C752 67.2 745.6 64 736 64H288c-9.6 0-16 3.2-22.4 9.6C259.2 80 256 86.4 256 96v96H128c-9.6 0-16 3.2-22.4 9.6-6.4 6.4-9.6 16-9.6 22.4 3.2 108.8 25.6 185.6 64 224 34.4 34.4 77.56 55.65 127.65 61.99 10.91 20.44 24.78 39.25 41.95 56.41 40.86 40.86 91 65.47 150.4 71.9V768h-96c-9.6 0-16 3.2-22.4 9.6-6.4 6.4-9.6 12.8-9.6 22.4s3.2 16 9.6 22.4c6.4 6.4 12.8 9.6 22.4 9.6h256c9.6 0 16-3.2 22.4-9.6 6.4-6.4 9.6-12.8 9.6-22.4s-3.2-16-9.6-22.4c-6.4-6.4-12.8-9.6-22.4-9.6h-96V637.26c59.4-7.71 109.54-30.01 150.4-70.86 17.2-17.2 31.51-36.06 42.81-56.55 48.93-6.51 90.02-27.7 126.79-61.85 38.4-38.4 60.8-112 64-224 0-6.4-3.2-16-9.6-22.4zM256 438.4c-19.2-6.4-35.2-19.2-51.2-35.2-22.4-22.4-35.2-70.4-41.6-147.2H256zm390.4 80C608 553.6 566.4 576 512 576s-99.2-19.2-134.4-57.6C342.4 480 320 438.4 320 384V128h384v256c0 54.4-19.2 99.2-57.6 134.4m172.8-115.2c-16 16-32 25.6-51.2 35.2V256h92.8c-6.4 76.8-19.2 124.8-41.6 147.2zM768 896H256c-9.6 0-16 3.2-22.4 9.6-6.4 6.4-9.6 12.8-9.6 22.4s3.2 16 9.6 22.4c6.4 6.4 12.8 9.6 22.4 9.6h512c9.6 0 16-3.2 22.4-9.6 6.4-6.4 9.6-12.8 9.6-22.4s-3.2-16-9.6-22.4c-6.4-6.4-12.8-9.6-22.4-9.6"})]))}}),Exe=Mxe,Axe=ge({name:"Trophy",__name:"trophy",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M480 896V702.08A256.256 256.256 0 0 1 264.064 512h-32.64a96 96 0 0 1-91.968-68.416L93.632 290.88a76.8 76.8 0 0 1 73.6-98.88H256V96a32 32 0 0 1 32-32h448a32 32 0 0 1 32 32v96h88.768a76.8 76.8 0 0 1 73.6 98.88L884.48 443.52A96 96 0 0 1 792.576 512h-32.64A256.256 256.256 0 0 1 544 702.08V896h128a32 32 0 1 1 0 64H352a32 32 0 1 1 0-64zm224-448V128H320v320a192 192 0 1 0 384 0m64 0h24.576a32 32 0 0 0 30.656-22.784l45.824-152.768A12.8 12.8 0 0 0 856.768 256H768zm-512 0V256h-88.768a12.8 12.8 0 0 0-12.288 16.448l45.824 152.768A32 32 0 0 0 231.424 448z"})]))}}),Ixe=Axe,kxe=ge({name:"TurnOff",__name:"turn-off",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M329.956 257.138a254.862 254.862 0 0 0 0 509.724h364.088a254.862 254.862 0 0 0 0-509.724zm0-72.818h364.088a327.68 327.68 0 1 1 0 655.36H329.956a327.68 327.68 0 1 1 0-655.36z"}),ue("path",{fill:"currentColor",d:"M329.956 621.227a109.227 109.227 0 1 0 0-218.454 109.227 109.227 0 0 0 0 218.454m0 72.817a182.044 182.044 0 1 1 0-364.088 182.044 182.044 0 0 1 0 364.088"})]))}}),Pxe=kxe,Lxe=ge({name:"Umbrella",__name:"umbrella",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M320 768a32 32 0 1 1 64 0 64 64 0 0 0 128 0V512H64a448 448 0 1 1 896 0H576v256a128 128 0 1 1-256 0m570.688-320a384.128 384.128 0 0 0-757.376 0z"})]))}}),Rxe=Lxe,Dxe=ge({name:"Unlock",__name:"unlock",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M224 448a32 32 0 0 0-32 32v384a32 32 0 0 0 32 32h576a32 32 0 0 0 32-32V480a32 32 0 0 0-32-32zm0-64h576a96 96 0 0 1 96 96v384a96 96 0 0 1-96 96H224a96 96 0 0 1-96-96V480a96 96 0 0 1 96-96"}),ue("path",{fill:"currentColor",d:"M512 544a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V576a32 32 0 0 1 32-32m178.304-295.296A192.064 192.064 0 0 0 320 320v64h352l96 38.4V448H256V320a256 256 0 0 1 493.76-95.104z"})]))}}),Oxe=Dxe,zxe=ge({name:"UploadFilled",__name:"upload-filled",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M544 864V672h128L512 480 352 672h128v192H320v-1.6c-5.376.32-10.496 1.6-16 1.6A240 240 0 0 1 64 624c0-123.136 93.12-223.488 212.608-237.248A239.808 239.808 0 0 1 512 192a239.872 239.872 0 0 1 235.456 194.752c119.488 13.76 212.48 114.112 212.48 237.248a240 240 0 0 1-240 240c-5.376 0-10.56-1.28-16-1.6v1.6z"})]))}}),Bxe=zxe,Fxe=ge({name:"Upload",__name:"upload",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64m384-578.304V704h-64V247.296L237.248 490.048 192 444.8 508.8 128l316.8 316.8-45.312 45.248z"})]))}}),Nxe=Fxe,$xe=ge({name:"UserFilled",__name:"user-filled",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M288 320a224 224 0 1 0 448 0 224 224 0 1 0-448 0m544 608H160a32 32 0 0 1-32-32v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 0 1-32 32z"})]))}}),Vxe=$xe,Hxe=ge({name:"User",__name:"user",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 512a192 192 0 1 0 0-384 192 192 0 0 0 0 384m0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512m320 320v-96a96 96 0 0 0-96-96H288a96 96 0 0 0-96 96v96a32 32 0 1 1-64 0v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 1 1-64 0"})]))}}),Uxe=Hxe,jxe=ge({name:"Van",__name:"van",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M128.896 736H96a32 32 0 0 1-32-32V224a32 32 0 0 1 32-32h576a32 32 0 0 1 32 32v96h164.544a32 32 0 0 1 31.616 27.136l54.144 352A32 32 0 0 1 922.688 736h-91.52a144 144 0 1 1-286.272 0H415.104a144 144 0 1 1-286.272 0zm23.36-64a143.872 143.872 0 0 1 239.488 0H568.32c17.088-25.6 42.24-45.376 71.744-55.808V256H128v416zm655.488 0h77.632l-19.648-128H704v64.896A144 144 0 0 1 807.744 672m48.128-192-14.72-96H704v96h151.872M688 832a80 80 0 1 0 0-160 80 80 0 0 0 0 160m-416 0a80 80 0 1 0 0-160 80 80 0 0 0 0 160"})]))}}),Gxe=jxe,Wxe=ge({name:"VideoCameraFilled",__name:"video-camera-filled",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m768 576 192-64v320l-192-64v96a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V480a32 32 0 0 1 32-32h640a32 32 0 0 1 32 32zM192 768v64h384v-64zm192-480a160 160 0 0 1 320 0 160 160 0 0 1-320 0m64 0a96 96 0 1 0 192.064-.064A96 96 0 0 0 448 288m-320 32a128 128 0 1 1 256.064.064A128 128 0 0 1 128 320m64 0a64 64 0 1 0 128 0 64 64 0 0 0-128 0"})]))}}),qxe=Wxe,Kxe=ge({name:"VideoCamera",__name:"video-camera",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M704 768V256H128v512zm64-416 192-96v512l-192-96v128a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V224a32 32 0 0 1 32-32h640a32 32 0 0 1 32 32zm0 71.552v176.896l128 64V359.552zM192 320h192v64H192z"})]))}}),Yxe=Kxe,Zxe=ge({name:"VideoPause",__name:"video-pause",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768m-96-544q32 0 32 32v256q0 32-32 32t-32-32V384q0-32 32-32m192 0q32 0 32 32v256q0 32-32 32t-32-32V384q0-32 32-32"})]))}}),Xxe=Zxe,Jxe=ge({name:"VideoPlay",__name:"video-play",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768m-48-247.616L668.608 512 464 375.616zm10.624-342.656 249.472 166.336a48 48 0 0 1 0 79.872L474.624 718.272A48 48 0 0 1 400 678.336V345.6a48 48 0 0 1 74.624-39.936z"})]))}}),Qxe=Jxe,ewe=ge({name:"View",__name:"view",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),Iq=ewe,twe=ge({name:"WalletFilled",__name:"wallet-filled",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M688 512a112 112 0 1 0 0 224h208v160H128V352h768v160zm32 160h-32a48 48 0 0 1 0-96h32a48 48 0 0 1 0 96m-80-544 128 160H384z"})]))}}),nwe=twe,rwe=ge({name:"Wallet",__name:"wallet",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M640 288h-64V128H128v704h384v32a32 32 0 0 0 32 32H96a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32h512a32 32 0 0 1 32 32z"}),ue("path",{fill:"currentColor",d:"M128 320v512h768V320zm-32-64h832a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V288a32 32 0 0 1 32-32"}),ue("path",{fill:"currentColor",d:"M704 640a64 64 0 1 1 0-128 64 64 0 0 1 0 128"})]))}}),iwe=rwe,awe=ge({name:"WarnTriangleFilled",__name:"warn-triangle-filled",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M928.99 755.83 574.6 203.25c-12.89-20.16-36.76-32.58-62.6-32.58s-49.71 12.43-62.6 32.58L95.01 755.83c-12.91 20.12-12.9 44.91.01 65.03 12.92 20.12 36.78 32.51 62.59 32.49h708.78c25.82.01 49.68-12.37 62.59-32.49 12.91-20.12 12.92-44.91.01-65.03M554.67 768h-85.33v-85.33h85.33zm0-426.67v298.66h-85.33V341.32z"})]))}}),owe=awe,swe=ge({name:"WarningFilled",__name:"warning-filled",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),cw=swe,lwe=ge({name:"Warning",__name:"warning",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768m48-176a48 48 0 1 1-96 0 48 48 0 0 1 96 0m-48-464a32 32 0 0 1 32 32v288a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"})]))}}),uwe=lwe,cwe=ge({name:"Watch",__name:"watch",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M512 768a256 256 0 1 0 0-512 256 256 0 0 0 0 512m0 64a320 320 0 1 1 0-640 320 320 0 0 1 0 640"}),ue("path",{fill:"currentColor",d:"M480 352a32 32 0 0 1 32 32v160a32 32 0 0 1-64 0V384a32 32 0 0 1 32-32"}),ue("path",{fill:"currentColor",d:"M480 512h128q32 0 32 32t-32 32H480q-32 0-32-32t32-32m128-256V128H416v128h-64V64h320v192zM416 768v128h192V768h64v192H352V768z"})]))}}),dwe=cwe,hwe=ge({name:"Watermelon",__name:"watermelon",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m683.072 600.32-43.648 162.816-61.824-16.512 53.248-198.528L576 493.248l-158.4 158.4-45.248-45.248 158.4-158.4-55.616-55.616-198.528 53.248-16.512-61.824 162.816-43.648L282.752 200A384 384 0 0 0 824 741.248zm231.552 141.056a448 448 0 1 1-632-632l632 632"})]))}}),fwe=hwe,pwe=ge({name:"WindPower",__name:"wind-power",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"M160 64q32 0 32 32v832q0 32-32 32t-32-32V96q0-32 32-32m416 354.624 128-11.584V168.96l-128-11.52v261.12zm-64 5.824V151.552L320 134.08V160h-64V64l616.704 56.064A96 96 0 0 1 960 215.68v144.64a96 96 0 0 1-87.296 95.616L256 512V224h64v217.92zm256-23.232 98.88-8.96A32 32 0 0 0 896 360.32V215.68a32 32 0 0 0-29.12-31.872l-98.88-8.96z"})]))}}),mwe=pwe,vwe=ge({name:"ZoomIn",__name:"zoom-in",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),xL=vwe,gwe=ge({name:"ZoomOut",__name:"zoom-out",setup(e){return(t,n)=>(X(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ue("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),kq=gwe;const _we=Object.freeze(Object.defineProperty({__proto__:null,AddLocation:mme,Aim:gme,AlarmClock:yme,Apple:xme,ArrowDown:cd,ArrowDownBold:Sme,ArrowLeft:sh,ArrowLeftBold:Mme,ArrowRight:xs,ArrowRightBold:Ime,ArrowUp:a8,ArrowUpBold:Lme,Avatar:Ome,Back:cq,Baseball:Fme,Basketball:$me,Bell:jme,BellFilled:Hme,Bicycle:Wme,Bottom:Jme,BottomLeft:Kme,BottomRight:Zme,Bowl:e0e,Box:n0e,Briefcase:i0e,Brush:l0e,BrushFilled:o0e,Burger:c0e,Calendar:dq,Camera:m0e,CameraFilled:f0e,CaretBottom:g0e,CaretLeft:y0e,CaretRight:gL,CaretTop:hq,Cellphone:S0e,ChatDotRound:T0e,ChatDotSquare:E0e,ChatLineRound:I0e,ChatLineSquare:P0e,ChatRound:R0e,ChatSquare:O0e,Check:L_,Checked:F0e,Cherry:$0e,Chicken:H0e,ChromeFilled:j0e,CircleCheck:o8,CircleCheckFilled:fq,CircleClose:yh,CircleCloseFilled:s8,CirclePlus:J0e,CirclePlusFilled:Z0e,Clock:_L,Close:Au,CloseBold:tve,Cloudy:ive,Coffee:lve,CoffeeCup:ove,Coin:cve,ColdDrink:hve,Collection:vve,CollectionTag:pve,Comment:_ve,Compass:bve,Connection:wve,Coordinate:Cve,CopyDocument:Mve,Cpu:Ave,CreditCard:kve,Crop:Lve,DArrowLeft:lh,DArrowRight:uh,DCaret:zve,DataAnalysis:Fve,DataBoard:$ve,DataLine:Hve,Delete:pq,DeleteFilled:jve,DeleteLocation:Wve,Dessert:Yve,Discount:Xve,Dish:tge,DishDot:Qve,Document:mq,DocumentAdd:rge,DocumentChecked:age,DocumentCopy:sge,DocumentDelete:uge,DocumentRemove:dge,Download:pge,Drizzling:vge,Edit:bge,EditPen:_ge,Eleme:Cge,ElemeFilled:wge,ElementPlus:Mge,Expand:Age,Failed:kge,Female:Lge,Files:Dge,Film:zge,Filter:Fge,Finished:$ge,FirstAidKit:Hge,Flag:jge,Fold:Wge,Folder:i_e,FolderAdd:Kge,FolderChecked:Zge,FolderDelete:Jge,FolderOpened:e_e,FolderRemove:n_e,Food:o_e,Football:l_e,ForkSpoon:c_e,Fries:h_e,FullScreen:vq,Goblet:x_e,GobletFull:m_e,GobletSquare:y_e,GobletSquareFull:g_e,GoldMedal:S_e,Goods:E_e,GoodsFilled:T_e,Grape:I_e,Grid:P_e,Guide:R_e,Handbag:O_e,Headset:B_e,Help:V_e,HelpFilled:N_e,Hide:gq,Histogram:j_e,HomeFilled:W_e,HotWater:K_e,House:Z_e,IceCream:nye,IceCreamRound:J_e,IceCreamSquare:eye,IceDrink:iye,IceTea:oye,InfoFilled:l8,Iphone:uye,Key:dye,KnifeFork:fye,Lightning:mye,Link:gye,List:yye,Loading:mc,Location:Mye,LocationFilled:wye,LocationInformation:Cye,Lock:Aye,Lollipop:kye,MagicStick:Lye,Magnet:Dye,Male:zye,Management:Fye,MapLocation:$ye,Medal:Hye,Memo:jye,Menu:Wye,Message:Zye,MessageBox:Kye,Mic:Jye,Microphone:e1e,MilkTea:n1e,Minus:_q,Money:a1e,Monitor:s1e,Moon:d1e,MoonNight:u1e,More:yq,MoreFilled:KA,MostlyCloudy:m1e,Mouse:g1e,Mug:y1e,Mute:S1e,MuteNotification:x1e,NoSmoking:T1e,Notebook:E1e,Notification:I1e,Odometer:P1e,OfficeBuilding:R1e,Open:O1e,Operation:B1e,Opportunity:N1e,Orange:V1e,Paperclip:U1e,PartlyCloudy:G1e,Pear:q1e,Phone:X1e,PhoneFilled:Y1e,Picture:nbe,PictureFilled:bq,PictureRounded:ebe,PieChart:ibe,Place:obe,Platform:lbe,Plus:yL,Pointer:dbe,Position:fbe,Postcard:mbe,Pouring:gbe,Present:ybe,PriceTag:xbe,Printer:Sbe,Promotion:Tbe,QuartzWatch:Ebe,QuestionFilled:xq,Rank:kbe,Reading:Dbe,ReadingLamp:Lbe,Refresh:Fbe,RefreshLeft:wq,RefreshRight:Sq,Refrigerator:$be,Remove:jbe,RemoveFilled:Hbe,Right:Wbe,ScaleToOriginal:Cq,School:Ybe,Scissor:Xbe,Search:Tq,Select:e2e,Sell:n2e,SemiSelect:i2e,Service:o2e,SetUp:l2e,Setting:c2e,Share:h2e,Ship:p2e,Shop:v2e,ShoppingBag:_2e,ShoppingCart:w2e,ShoppingCartFull:b2e,ShoppingTrolley:C2e,Smoking:M2e,Soccer:A2e,SoldOut:k2e,Sort:D2e,SortDown:Mq,SortUp:Eq,Stamp:z2e,Star:Aq,StarFilled:_b,Stopwatch:$2e,SuccessFilled:bL,Sugar:U2e,Suitcase:q2e,SuitcaseLine:G2e,Sunny:Y2e,Sunrise:X2e,Sunset:Q2e,Switch:axe,SwitchButton:txe,SwitchFilled:rxe,TakeawayBox:sxe,Ticket:uxe,Tickets:dxe,Timer:fxe,ToiletPaper:mxe,Tools:gxe,Top:Sxe,TopLeft:yxe,TopRight:xxe,TrendCharts:Txe,Trophy:Ixe,TrophyBase:Exe,TurnOff:Pxe,Umbrella:Rxe,Unlock:Oxe,Upload:Nxe,UploadFilled:Bxe,User:Uxe,UserFilled:Vxe,Van:Gxe,VideoCamera:Yxe,VideoCameraFilled:qxe,VideoPause:Xxe,VideoPlay:Qxe,View:Iq,Wallet:iwe,WalletFilled:nwe,WarnTriangleFilled:owe,Warning:uwe,WarningFilled:cw,Watch:dwe,Watermelon:fwe,WindPower:mwe,ZoomIn:xL,ZoomOut:kq},Symbol.toStringTag,{value:"Module"})),Pq="__epPropKey",dt=e=>e,ywe=e=>Ar(e)&&!!e[Pq],yc=(e,t)=>{if(!Ar(e)||ywe(e))return e;const{values:n,required:r,default:i,type:o,validator:s}=e,a={type:o,required:!!r,validator:n||s?h=>{let m=!1,v=[];if(n&&(v=Array.from(n),mi(e,"default")&&v.push(i),m||(m=v.includes(h))),s&&(m||(m=s(h))),!m&&v.length>0){const _=[...new Set(v)].map(b=>JSON.stringify(b)).join(", ");gse(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${_}], got value ${JSON.stringify(h)}.`)}return m}:void 0,[Pq]:!0};return mi(e,"default")&&(a.default=i),a},un=e=>gx(Object.entries(e).map(([t,n])=>[t,yc(n,t)])),Vi=dt([String,Object,Function]),wL={Close:Au},SL={Close:Au,SuccessFilled:bL,InfoFilled:l8,WarningFilled:cw,CircleCloseFilled:s8},up={success:bL,warning:cw,error:s8,info:l8},CL={validating:mc,success:o8,error:yh},pr=(e,t)=>{if(e.install=n=>{for(const r of[e,...Object.values(t??{})])n.component(r.name,r)},t)for(const[n,r]of Object.entries(t))e[n]=r;return e},Lq=(e,t)=>(e.install=n=>{e._context=n._context,n.config.globalProperties[t]=e},e),bwe=(e,t)=>(e.install=n=>{n.directive(t,e)},e),Ma=e=>(e.install=Gi,e),u8=(...e)=>t=>{e.forEach(n=>{tr(n)?n(t):n.value=t})},Kn={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},xwe=["year","years","month","months","date","dates","week","datetime","datetimerange","daterange","monthrange","yearrange"],S5=["sun","mon","tue","wed","thu","fri","sat"],Tr="update:modelValue",sa="change",Hs="input",v7=Symbol("INSTALLED_KEY"),dd=["","default","small","large"],Rq=e=>["",...dd].includes(e);var fu=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(fu||{});function YA(e){return fa(e)&&e.type===Nn}function wwe(e){return fa(e)&&e.type===Io}function Swe(e){return fa(e)&&!YA(e)&&!wwe(e)}const Cwe=e=>{if(!fa(e))return{};const t=e.props||{},n=(fa(e.type)?e.type.props:void 0)||{},r={};return Object.keys(n).forEach(i=>{mi(n[i],"default")&&(r[i]=n[i].default)}),Object.keys(t).forEach(i=>{r[pl(i)]=t[i]}),r},Twe=e=>{if(!Tn(e)||e.length>1)throw new Error("expect to receive a single Vue element child");return e[0]},Xf=e=>{const t=Tn(e)?e:[e],n=[];return t.forEach(r=>{var i;Tn(r)?n.push(...Xf(r)):fa(r)&&Tn(r.children)?n.push(...Xf(r.children)):(n.push(r),fa(r)&&((i=r.component)!=null&&i.subTree)&&n.push(...Xf(r.component.subTree)))}),n},g7=e=>[...new Set(e)],Vs=e=>!e&&e!==0?[]:Array.isArray(e)?e:[e],Mwe=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e),Ca=e=>e;function Ewe(e){let t=0;const n=(...r)=>{t&&p0(t),t=lp(()=>{e(...r),t=0})};return n.cancel=()=>{p0(t),t=0},n}const Awe=["class","style"],Iwe=/^on[A-Z]/,TL=(e={})=>{const{excludeListeners:t=!1,excludeKeys:n}=e,r=le(()=>((n==null?void 0:n.value)||[]).concat(Awe)),i=Mr();return le(i?()=>{var o;return gx(Object.entries((o=i.proxy)==null?void 0:o.$attrs).filter(([s])=>!r.value.includes(s)&&!(t&&Iwe.test(s))))}:()=>({}))},Jf=({from:e,replacement:t,scope:n,version:r,ref:i,type:o="API"},s)=>{Wt(()=>A(s),u=>{},{immediate:!0})},Dq=(e,t,n,r)=>{let i={offsetX:0,offsetY:0};const o=h=>{const m=h.clientX,v=h.clientY,{offsetX:_,offsetY:b}=i,T=e.value.getBoundingClientRect(),M=T.left,E=T.top,k=T.width,z=T.height,B=document.documentElement.clientWidth,U=document.documentElement.clientHeight,W=-M+_,q=-E+b,Q=B-M-k+_,te=U-E-z+b,ie=re=>{let se=_+re.clientX-m,be=b+re.clientY-v;r!=null&&r.value||(se=Math.min(Math.max(se,W),Q),be=Math.min(Math.max(be,q),te)),i={offsetX:se,offsetY:be},e.value&&(e.value.style.transform=`translate(${Ua(se)}, ${Ua(be)})`)},ae=()=>{document.removeEventListener("mousemove",ie),document.removeEventListener("mouseup",ae)};document.addEventListener("mousemove",ie),document.addEventListener("mouseup",ae)},s=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",o)},u=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",o)},a=()=>{i={offsetX:0,offsetY:0},e.value&&(e.value.style.transform="none")};return br(()=>{ko(()=>{n.value?s():u()})}),Di(()=>{u()}),{resetPosition:a}};var kwe={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const Pwe=e=>(t,n)=>Lwe(t,n,A(e)),Lwe=(e,t,n)=>Ka(n,e,e).replace(/\{(\w+)\}/g,(r,i)=>{var o;return`${(o=t==null?void 0:t[i])!=null?o:`{${i}}`}`}),Rwe=e=>{const t=le(()=>A(e).name),n=ra(e)?e:Te(e);return{lang:t,locale:n,t:Pwe(e)}},Oq=Symbol("localeContextKey"),ii=e=>{const t=e||An(Oq,Te());return Rwe(le(()=>t.value||kwe))},Hb="el",Dwe="is-",pm=(e,t,n,r,i)=>{let o=`${e}-${t}`;return n&&(o+=`-${n}`),r&&(o+=`__${r}`),i&&(o+=`--${i}`),o},zq=Symbol("namespaceContextKey"),ML=e=>{const t=e||(Mr()?An(zq,Te(Hb)):Te(Hb));return le(()=>A(t)||Hb)},en=(e,t)=>{const n=ML(t);return{namespace:n,b:(M="")=>pm(n.value,e,M,"",""),e:M=>M?pm(n.value,e,"",M,""):"",m:M=>M?pm(n.value,e,"","",M):"",be:(M,E)=>M&&E?pm(n.value,e,M,E,""):"",em:(M,E)=>M&&E?pm(n.value,e,"",M,E):"",bm:(M,E)=>M&&E?pm(n.value,e,M,"",E):"",bem:(M,E,k)=>M&&E&&k?pm(n.value,e,M,E,k):"",is:(M,...E)=>{const k=E.length>=1?E[0]:!0;return M&&k?`${Dwe}${M}`:""},cssVar:M=>{const E={};for(const k in M)M[k]&&(E[`--${n.value}-${k}`]=M[k]);return E},cssVarName:M=>`--${n.value}-${M}`,cssVarBlock:M=>{const E={};for(const k in M)M[k]&&(E[`--${n.value}-${e}-${k}`]=M[k]);return E},cssVarBlockName:M=>`--${n.value}-${e}-${M}`}},EL=(e,t={})=>{ra(e)||vo("[useLockscreen]","You need to pass a ref param to this function");const n=t.ns||en("popup"),r=le(()=>n.bm("parent","hidden"));if(!ri||ll(document.body,r.value))return;let i=0,o=!1,s="0";const u=()=>{setTimeout(()=>{typeof document>"u"||(bs(document==null?void 0:document.body,r.value),o&&document&&(document.body.style.width=s))},200)};Wt(e,a=>{if(!a){u();return}o=!ll(document.body,r.value),o&&(s=document.body.style.width),i=uq(n.namespace.value);const h=document.documentElement.clientHeight<document.body.scrollHeight,m=Hf(document.body,"overflowY");i>0&&(h||m==="scroll")&&o&&(document.body.style.width=`calc(100% - ${i}px)`),bu(document.body,r.value)}),Fj(()=>u())},Owe=yc({type:dt(Boolean),default:null}),zwe=yc({type:dt(Function)}),Bwe=e=>{const t=`update:${e}`,n=`onUpdate:${e}`,r=[t],i={[e]:Owe,[n]:zwe};return{useModelToggle:({indicator:s,toggleReason:u,shouldHideWhenRouteChanges:a,shouldProceed:h,onShow:m,onHide:v})=>{const _=Mr(),{emit:b}=_,T=_.props,M=le(()=>tr(T[n])),E=le(()=>T[e]===null),k=Q=>{s.value!==!0&&(s.value=!0,u&&(u.value=Q),tr(m)&&m(Q))},z=Q=>{s.value!==!1&&(s.value=!1,u&&(u.value=Q),tr(v)&&v(Q))},B=Q=>{if(T.disabled===!0||tr(h)&&!h())return;const te=M.value&&ri;te&&b(t,!0),(E.value||!te)&&k(Q)},U=Q=>{if(T.disabled===!0||!ri)return;const te=M.value&&ri;te&&b(t,!1),(E.value||!te)&&z(Q)},W=Q=>{za(Q)&&(T.disabled&&Q?M.value&&b(t,!1):s.value!==Q&&(Q?k():z()))},q=()=>{s.value?U():B()};return Wt(()=>T[e],W),a&&_.appContext.config.globalProperties.$route!==void 0&&Wt(()=>({..._.proxy.$route}),()=>{a.value&&s.value&&U()}),br(()=>{W(T[e])}),{hide:U,show:B,toggle:q,hasUpdateHandler:M}},useModelToggleProps:i,useModelToggleEmits:r}},Bq=e=>{const t=Mr();return le(()=>{var n,r;return(r=(n=t==null?void 0:t.proxy)==null?void 0:n.$props)==null?void 0:r[e]})};var ul="top",Iu="bottom",ku="right",cl="left",AL="auto",dw=[ul,Iu,ku,cl],s_="start",_x="end",Fwe="clippingParents",Fq="viewport",H1="popper",Nwe="reference",_7=dw.reduce(function(e,t){return e.concat([t+"-"+s_,t+"-"+_x])},[]),bh=[].concat(dw,[AL]).reduce(function(e,t){return e.concat([t,t+"-"+s_,t+"-"+_x])},[]),$we="beforeRead",Vwe="read",Hwe="afterRead",Uwe="beforeMain",jwe="main",Gwe="afterMain",Wwe="beforeWrite",qwe="write",Kwe="afterWrite",Ywe=[$we,Vwe,Hwe,Uwe,jwe,Gwe,Wwe,qwe,Kwe];function id(e){return e?(e.nodeName||"").toLowerCase():null}function bc(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function l_(e){var t=bc(e).Element;return e instanceof t||e instanceof Element}function Cu(e){var t=bc(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function IL(e){if(typeof ShadowRoot>"u")return!1;var t=bc(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Zwe(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},o=t.elements[n];!Cu(o)||!id(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var u=i[s];u===!1?o.removeAttribute(s):o.setAttribute(s,u===!0?"":u)}))})}function Xwe(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],o=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),u=s.reduce(function(a,h){return a[h]="",a},{});!Cu(i)||!id(i)||(Object.assign(i.style,u),Object.keys(o).forEach(function(a){i.removeAttribute(a)}))})}}var Nq={name:"applyStyles",enabled:!0,phase:"write",fn:Zwe,effect:Xwe,requires:["computeStyles"]};function Qc(e){return e.split("-")[0]}var t0=Math.max,BS=Math.min,u_=Math.round;function c_(e,t){t===void 0&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;if(Cu(e)&&t){var o=e.offsetHeight,s=e.offsetWidth;s>0&&(r=u_(n.width)/s||1),o>0&&(i=u_(n.height)/o||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function kL(e){var t=c_(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function $q(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&IL(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ch(e){return bc(e).getComputedStyle(e)}function Jwe(e){return["table","td","th"].indexOf(id(e))>=0}function bp(e){return((l_(e)?e.ownerDocument:e.document)||window.document).documentElement}function c8(e){return id(e)==="html"?e:e.assignedSlot||e.parentNode||(IL(e)?e.host:null)||bp(e)}function y7(e){return!Cu(e)||ch(e).position==="fixed"?null:e.offsetParent}function Qwe(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Cu(e)){var r=ch(e);if(r.position==="fixed")return null}var i=c8(e);for(IL(i)&&(i=i.host);Cu(i)&&["html","body"].indexOf(id(i))<0;){var o=ch(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function hw(e){for(var t=bc(e),n=y7(e);n&&Jwe(n)&&ch(n).position==="static";)n=y7(n);return n&&(id(n)==="html"||id(n)==="body"&&ch(n).position==="static")?t:n||Qwe(e)||t}function PL(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ub(e,t,n){return t0(e,BS(t,n))}function e4e(e,t,n){var r=Ub(e,t,n);return r>n?n:r}function Vq(){return{top:0,right:0,bottom:0,left:0}}function Hq(e){return Object.assign({},Vq(),e)}function Uq(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var t4e=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Hq(typeof e!="number"?e:Uq(e,dw))};function n4e(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,u=Qc(n.placement),a=PL(u),h=[cl,ku].indexOf(u)>=0,m=h?"height":"width";if(!(!o||!s)){var v=t4e(i.padding,n),_=kL(o),b=a==="y"?ul:cl,T=a==="y"?Iu:ku,M=n.rects.reference[m]+n.rects.reference[a]-s[a]-n.rects.popper[m],E=s[a]-n.rects.reference[a],k=hw(o),z=k?a==="y"?k.clientHeight||0:k.clientWidth||0:0,B=M/2-E/2,U=v[b],W=z-_[m]-v[T],q=z/2-_[m]/2+B,Q=Ub(U,q,W),te=a;n.modifiersData[r]=(t={},t[te]=Q,t.centerOffset=Q-q,t)}}function r4e(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||!$q(t.elements.popper,i)||(t.elements.arrow=i))}var i4e={name:"arrow",enabled:!0,phase:"main",fn:n4e,effect:r4e,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function d_(e){return e.split("-")[1]}var a4e={top:"auto",right:"auto",bottom:"auto",left:"auto"};function o4e(e){var t=e.x,n=e.y,r=window,i=r.devicePixelRatio||1;return{x:u_(t*i)/i||0,y:u_(n*i)/i||0}}function b7(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,u=e.position,a=e.gpuAcceleration,h=e.adaptive,m=e.roundOffsets,v=e.isFixed,_=s.x,b=_===void 0?0:_,T=s.y,M=T===void 0?0:T,E=typeof m=="function"?m({x:b,y:M}):{x:b,y:M};b=E.x,M=E.y;var k=s.hasOwnProperty("x"),z=s.hasOwnProperty("y"),B=cl,U=ul,W=window;if(h){var q=hw(n),Q="clientHeight",te="clientWidth";if(q===bc(n)&&(q=bp(n),ch(q).position!=="static"&&u==="absolute"&&(Q="scrollHeight",te="scrollWidth")),q=q,i===ul||(i===cl||i===ku)&&o===_x){U=Iu;var ie=v&&q===W&&W.visualViewport?W.visualViewport.height:q[Q];M-=ie-r.height,M*=a?1:-1}if(i===cl||(i===ul||i===Iu)&&o===_x){B=ku;var ae=v&&q===W&&W.visualViewport?W.visualViewport.width:q[te];b-=ae-r.width,b*=a?1:-1}}var re=Object.assign({position:u},h&&a4e),se=m===!0?o4e({x:b,y:M}):{x:b,y:M};if(b=se.x,M=se.y,a){var be;return Object.assign({},re,(be={},be[U]=z?"0":"",be[B]=k?"0":"",be.transform=(W.devicePixelRatio||1)<=1?"translate("+b+"px, "+M+"px)":"translate3d("+b+"px, "+M+"px, 0)",be))}return Object.assign({},re,(t={},t[U]=z?M+"px":"",t[B]=k?b+"px":"",t.transform="",t))}function s4e(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,u=n.roundOffsets,a=u===void 0?!0:u,h={placement:Qc(t.placement),variation:d_(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,b7(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:a})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,b7(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var jq={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:s4e,data:{}},M6={passive:!0};function l4e(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,u=s===void 0?!0:s,a=bc(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&h.forEach(function(m){m.addEventListener("scroll",n.update,M6)}),u&&a.addEventListener("resize",n.update,M6),function(){o&&h.forEach(function(m){m.removeEventListener("scroll",n.update,M6)}),u&&a.removeEventListener("resize",n.update,M6)}}var Gq={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:l4e,data:{}},u4e={left:"right",right:"left",bottom:"top",top:"bottom"};function N3(e){return e.replace(/left|right|bottom|top/g,function(t){return u4e[t]})}var c4e={start:"end",end:"start"};function x7(e){return e.replace(/start|end/g,function(t){return c4e[t]})}function LL(e){var t=bc(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function RL(e){return c_(bp(e)).left+LL(e).scrollLeft}function d4e(e){var t=bc(e),n=bp(e),r=t.visualViewport,i=n.clientWidth,o=n.clientHeight,s=0,u=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=r.offsetLeft,u=r.offsetTop)),{width:i,height:o,x:s+RL(e),y:u}}function h4e(e){var t,n=bp(e),r=LL(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=t0(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=t0(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-r.scrollLeft+RL(e),a=-r.scrollTop;return ch(i||n).direction==="rtl"&&(u+=t0(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:u,y:a}}function DL(e){var t=ch(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Wq(e){return["html","body","#document"].indexOf(id(e))>=0?e.ownerDocument.body:Cu(e)&&DL(e)?e:Wq(c8(e))}function jb(e,t){var n;t===void 0&&(t=[]);var r=Wq(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=bc(r),s=i?[o].concat(o.visualViewport||[],DL(r)?r:[]):r,u=t.concat(s);return i?u:u.concat(jb(c8(s)))}function ZA(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function f4e(e){var t=c_(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function w7(e,t){return t===Fq?ZA(d4e(e)):l_(t)?f4e(t):ZA(h4e(bp(e)))}function p4e(e){var t=jb(c8(e)),n=["absolute","fixed"].indexOf(ch(e).position)>=0,r=n&&Cu(e)?hw(e):e;return l_(r)?t.filter(function(i){return l_(i)&&$q(i,r)&&id(i)!=="body"}):[]}function m4e(e,t,n){var r=t==="clippingParents"?p4e(e):[].concat(t),i=[].concat(r,[n]),o=i[0],s=i.reduce(function(u,a){var h=w7(e,a);return u.top=t0(h.top,u.top),u.right=BS(h.right,u.right),u.bottom=BS(h.bottom,u.bottom),u.left=t0(h.left,u.left),u},w7(e,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function qq(e){var t=e.reference,n=e.element,r=e.placement,i=r?Qc(r):null,o=r?d_(r):null,s=t.x+t.width/2-n.width/2,u=t.y+t.height/2-n.height/2,a;switch(i){case ul:a={x:s,y:t.y-n.height};break;case Iu:a={x:s,y:t.y+t.height};break;case ku:a={x:t.x+t.width,y:u};break;case cl:a={x:t.x-n.width,y:u};break;default:a={x:t.x,y:t.y}}var h=i?PL(i):null;if(h!=null){var m=h==="y"?"height":"width";switch(o){case s_:a[h]=a[h]-(t[m]/2-n[m]/2);break;case _x:a[h]=a[h]+(t[m]/2-n[m]/2);break}}return a}function yx(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,o=n.boundary,s=o===void 0?Fwe:o,u=n.rootBoundary,a=u===void 0?Fq:u,h=n.elementContext,m=h===void 0?H1:h,v=n.altBoundary,_=v===void 0?!1:v,b=n.padding,T=b===void 0?0:b,M=Hq(typeof T!="number"?T:Uq(T,dw)),E=m===H1?Nwe:H1,k=e.rects.popper,z=e.elements[_?E:m],B=m4e(l_(z)?z:z.contextElement||bp(e.elements.popper),s,a),U=c_(e.elements.reference),W=qq({reference:U,element:k,strategy:"absolute",placement:i}),q=ZA(Object.assign({},k,W)),Q=m===H1?q:U,te={top:B.top-Q.top+M.top,bottom:Q.bottom-B.bottom+M.bottom,left:B.left-Q.left+M.left,right:Q.right-B.right+M.right},ie=e.modifiersData.offset;if(m===H1&&ie){var ae=ie[i];Object.keys(te).forEach(function(re){var se=[ku,Iu].indexOf(re)>=0?1:-1,be=[ul,Iu].indexOf(re)>=0?"y":"x";te[re]+=ae[be]*se})}return te}function v4e(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,u=n.flipVariations,a=n.allowedAutoPlacements,h=a===void 0?bh:a,m=d_(r),v=m?u?_7:_7.filter(function(T){return d_(T)===m}):dw,_=v.filter(function(T){return h.indexOf(T)>=0});_.length===0&&(_=v);var b=_.reduce(function(T,M){return T[M]=yx(e,{placement:M,boundary:i,rootBoundary:o,padding:s})[Qc(M)],T},{});return Object.keys(b).sort(function(T,M){return b[T]-b[M]})}function g4e(e){if(Qc(e)===AL)return[];var t=N3(e);return[x7(e),t,x7(t)]}function _4e(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,u=s===void 0?!0:s,a=n.fallbackPlacements,h=n.padding,m=n.boundary,v=n.rootBoundary,_=n.altBoundary,b=n.flipVariations,T=b===void 0?!0:b,M=n.allowedAutoPlacements,E=t.options.placement,k=Qc(E),z=k===E,B=a||(z||!T?[N3(E)]:g4e(E)),U=[E].concat(B).reduce(function(lt,Nt){return lt.concat(Qc(Nt)===AL?v4e(t,{placement:Nt,boundary:m,rootBoundary:v,padding:h,flipVariations:T,allowedAutoPlacements:M}):Nt)},[]),W=t.rects.reference,q=t.rects.popper,Q=new Map,te=!0,ie=U[0],ae=0;ae<U.length;ae++){var re=U[ae],se=Qc(re),be=d_(re)===s_,Ie=[ul,Iu].indexOf(se)>=0,Se=Ie?"width":"height",me=yx(t,{placement:re,boundary:m,rootBoundary:v,altBoundary:_,padding:h}),Le=Ie?be?ku:cl:be?Iu:ul;W[Se]>q[Se]&&(Le=N3(Le));var Ee=N3(Le),_e=[];if(o&&_e.push(me[se]<=0),u&&_e.push(me[Le]<=0,me[Ee]<=0),_e.every(function(lt){return lt})){ie=re,te=!1;break}Q.set(re,_e)}if(te)for(var xe=T?3:1,Be=function(lt){var Nt=U.find(function(Dt){var je=Q.get(Dt);if(je)return je.slice(0,lt).every(function(Ct){return Ct})});if(Nt)return ie=Nt,"break"},Je=xe;Je>0;Je--){var Ye=Be(Je);if(Ye==="break")break}t.placement!==ie&&(t.modifiersData[r]._skip=!0,t.placement=ie,t.reset=!0)}}var y4e={name:"flip",enabled:!0,phase:"main",fn:_4e,requiresIfExists:["offset"],data:{_skip:!1}};function S7(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function C7(e){return[ul,ku,Iu,cl].some(function(t){return e[t]>=0})}function b4e(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=yx(t,{elementContext:"reference"}),u=yx(t,{altBoundary:!0}),a=S7(s,r),h=S7(u,i,o),m=C7(a),v=C7(h);t.modifiersData[n]={referenceClippingOffsets:a,popperEscapeOffsets:h,isReferenceHidden:m,hasPopperEscaped:v},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":v})}var x4e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:b4e};function w4e(e,t,n){var r=Qc(e),i=[cl,ul].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=o[0],u=o[1];return s=s||0,u=(u||0)*i,[cl,ku].indexOf(r)>=0?{x:u,y:s}:{x:s,y:u}}function S4e(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=i===void 0?[0,0]:i,s=bh.reduce(function(m,v){return m[v]=w4e(v,t.rects,o),m},{}),u=s[t.placement],a=u.x,h=u.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=a,t.modifiersData.popperOffsets.y+=h),t.modifiersData[r]=s}var C4e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:S4e};function T4e(e){var t=e.state,n=e.name;t.modifiersData[n]=qq({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var Kq={name:"popperOffsets",enabled:!0,phase:"read",fn:T4e,data:{}};function M4e(e){return e==="x"?"y":"x"}function E4e(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,u=s===void 0?!1:s,a=n.boundary,h=n.rootBoundary,m=n.altBoundary,v=n.padding,_=n.tether,b=_===void 0?!0:_,T=n.tetherOffset,M=T===void 0?0:T,E=yx(t,{boundary:a,rootBoundary:h,padding:v,altBoundary:m}),k=Qc(t.placement),z=d_(t.placement),B=!z,U=PL(k),W=M4e(U),q=t.modifiersData.popperOffsets,Q=t.rects.reference,te=t.rects.popper,ie=typeof M=="function"?M(Object.assign({},t.rects,{placement:t.placement})):M,ae=typeof ie=="number"?{mainAxis:ie,altAxis:ie}:Object.assign({mainAxis:0,altAxis:0},ie),re=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,se={x:0,y:0};if(q){if(o){var be,Ie=U==="y"?ul:cl,Se=U==="y"?Iu:ku,me=U==="y"?"height":"width",Le=q[U],Ee=Le+E[Ie],_e=Le-E[Se],xe=b?-te[me]/2:0,Be=z===s_?Q[me]:te[me],Je=z===s_?-te[me]:-Q[me],Ye=t.elements.arrow,lt=b&&Ye?kL(Ye):{width:0,height:0},Nt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Vq(),Dt=Nt[Ie],je=Nt[Se],Ct=Ub(0,Q[me],lt[me]),vt=B?Q[me]/2-xe-Ct-Dt-ae.mainAxis:Be-Ct-Dt-ae.mainAxis,Vt=B?-Q[me]/2+xe+Ct+je+ae.mainAxis:Je+Ct+je+ae.mainAxis,Re=t.elements.arrow&&hw(t.elements.arrow),pt=Re?U==="y"?Re.clientTop||0:Re.clientLeft||0:0,Ne=(be=re==null?void 0:re[U])!=null?be:0,et=Le+vt-Ne-pt,Ze=Le+Vt-Ne,nn=Ub(b?BS(Ee,et):Ee,Le,b?t0(_e,Ze):_e);q[U]=nn,se[U]=nn-Le}if(u){var It,Ft=U==="x"?ul:cl,zt=U==="x"?Iu:ku,tn=q[W],fn=W==="y"?"height":"width",hn=tn+E[Ft],Dn=tn-E[zt],ln=[ul,cl].indexOf(k)!==-1,St=(It=re==null?void 0:re[W])!=null?It:0,Pn=ln?hn:tn-Q[fn]-te[fn]-St+ae.altAxis,rr=ln?tn+Q[fn]+te[fn]-St-ae.altAxis:Dn,cr=b&&ln?e4e(Pn,tn,rr):Ub(b?Pn:hn,tn,b?rr:Dn);q[W]=cr,se[W]=cr-tn}t.modifiersData[r]=se}}var A4e={name:"preventOverflow",enabled:!0,phase:"main",fn:E4e,requiresIfExists:["offset"]};function I4e(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function k4e(e){return e===bc(e)||!Cu(e)?LL(e):I4e(e)}function P4e(e){var t=e.getBoundingClientRect(),n=u_(t.width)/e.offsetWidth||1,r=u_(t.height)/e.offsetHeight||1;return n!==1||r!==1}function L4e(e,t,n){n===void 0&&(n=!1);var r=Cu(t),i=Cu(t)&&P4e(t),o=bp(t),s=c_(e,i),u={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(r||!r&&!n)&&((id(t)!=="body"||DL(o))&&(u=k4e(t)),Cu(t)?(a=c_(t,!0),a.x+=t.clientLeft,a.y+=t.clientTop):o&&(a.x=RL(o))),{x:s.left+u.scrollLeft-a.x,y:s.top+u.scrollTop-a.y,width:s.width,height:s.height}}function R4e(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(u){if(!n.has(u)){var a=t.get(u);a&&i(a)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||i(o)}),r}function D4e(e){var t=R4e(e);return Ywe.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function O4e(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function z4e(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var T7={placement:"bottom",modifiers:[],strategy:"absolute"};function M7(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function OL(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,o=i===void 0?T7:i;return function(s,u,a){a===void 0&&(a=o);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},T7,o),modifiersData:{},elements:{reference:s,popper:u},attributes:{},styles:{}},m=[],v=!1,_={state:h,setOptions:function(M){var E=typeof M=="function"?M(h.options):M;T(),h.options=Object.assign({},o,h.options,E),h.scrollParents={reference:l_(s)?jb(s):s.contextElement?jb(s.contextElement):[],popper:jb(u)};var k=D4e(z4e([].concat(r,h.options.modifiers)));return h.orderedModifiers=k.filter(function(z){return z.enabled}),b(),_.update()},forceUpdate:function(){if(!v){var M=h.elements,E=M.reference,k=M.popper;if(M7(E,k)){h.rects={reference:L4e(E,hw(k),h.options.strategy==="fixed"),popper:kL(k)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(te){return h.modifiersData[te.name]=Object.assign({},te.data)});for(var z=0;z<h.orderedModifiers.length;z++){if(h.reset===!0){h.reset=!1,z=-1;continue}var B=h.orderedModifiers[z],U=B.fn,W=B.options,q=W===void 0?{}:W,Q=B.name;typeof U=="function"&&(h=U({state:h,options:q,name:Q,instance:_})||h)}}}},update:O4e(function(){return new Promise(function(M){_.forceUpdate(),M(h)})}),destroy:function(){T(),v=!0}};if(!M7(s,u))return _;_.setOptions(a).then(function(M){!v&&a.onFirstUpdate&&a.onFirstUpdate(M)});function b(){h.orderedModifiers.forEach(function(M){var E=M.name,k=M.options,z=k===void 0?{}:k,B=M.effect;if(typeof B=="function"){var U=B({state:h,name:E,instance:_,options:z}),W=function(){};m.push(U||W)}})}function T(){m.forEach(function(M){return M()}),m=[]}return _}}OL();var B4e=[Gq,Kq,jq,Nq];OL({defaultModifiers:B4e});var F4e=[Gq,Kq,jq,Nq,C4e,y4e,A4e,i4e,x4e],N4e=OL({defaultModifiers:F4e});const $4e=(e,t,n={})=>{const r={name:"updateState",enabled:!0,phase:"write",fn:({state:a})=>{const h=V4e(a);Object.assign(s.value,h)},requires:["computeStyles"]},i=le(()=>{const{onFirstUpdate:a,placement:h,strategy:m,modifiers:v}=A(n);return{onFirstUpdate:a,placement:h||"bottom",strategy:m||"absolute",modifiers:[...v||[],r,{name:"applyStyles",enabled:!1}]}}),o=Ji(),s=Te({styles:{popper:{position:A(i).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),u=()=>{o.value&&(o.value.destroy(),o.value=void 0)};return Wt(i,a=>{const h=A(o);h&&h.setOptions(a)},{deep:!0}),Wt([e,t],([a,h])=>{u(),!(!a||!h)&&(o.value=N4e(a,h,A(i)))}),Di(()=>{u()}),{state:le(()=>{var a;return{...((a=A(o))==null?void 0:a.state)||{}}}),styles:le(()=>A(s).styles),attributes:le(()=>A(s).attributes),update:()=>{var a;return(a=A(o))==null?void 0:a.update()},forceUpdate:()=>{var a;return(a=A(o))==null?void 0:a.forceUpdate()},instanceRef:le(()=>A(o))}};function V4e(e){const t=Object.keys(e.elements),n=gx(t.map(i=>[i,e.styles[i]||{}])),r=gx(t.map(i=>[i,e.attributes[i]]));return{styles:n,attributes:r}}const zL=e=>{if(!e)return{onClick:Gi,onMousedown:Gi,onMouseup:Gi};let t=!1,n=!1;return{onClick:s=>{t&&n&&e(s),t=n=!1},onMousedown:s=>{t=s.target===s.currentTarget},onMouseup:s=>{n=s.target===s.currentTarget}}},H4e=(e,t=0)=>{if(t===0)return e;const n=Te(!1);let r=null;const i=()=>{r&&clearTimeout(r),r=setTimeout(()=>{n.value=e.value},t)};return br(i),Wt(()=>e.value,o=>{o?i():n.value=o}),n};function E7(){let e;const t=(r,i)=>{n(),e=window.setTimeout(r,i)},n=()=>window.clearTimeout(e);return aw(()=>n()),{registerTimeout:t,cancelTimeout:n}}const A7={prefix:Math.floor(Math.random()*1e4),current:0},U4e=Symbol("elIdInjection"),BL=()=>Mr()?An(U4e,A7):A7,Ho=e=>{const t=BL(),n=ML();return le(()=>A(e)||`${n.value}-id-${t.prefix}-${t.current++}`)};let _g=[];const I7=e=>{const t=e;t.key===Kn.esc&&_g.forEach(n=>n(t))},j4e=e=>{br(()=>{_g.length===0&&document.addEventListener("keydown",I7),ri&&_g.push(e)}),Di(()=>{_g=_g.filter(t=>t!==e),_g.length===0&&ri&&document.removeEventListener("keydown",I7)})},Yq=()=>{const e=ML(),t=BL(),n=le(()=>`${e.value}-popper-container-${t.prefix}`),r=le(()=>`#${n.value}`);return{id:n,selector:r}},G4e=e=>{const t=document.createElement("div");return t.id=e,document.body.appendChild(t),t},W4e=()=>{const{id:e,selector:t}=Yq();return M_(()=>{ri&&(document.body.querySelector(t.value)||G4e(e.value))}),{id:e,selector:t}},q4e=un({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),K4e=({showAfter:e,hideAfter:t,autoClose:n,open:r,close:i})=>{const{registerTimeout:o}=E7(),{registerTimeout:s,cancelTimeout:u}=E7();return{onOpen:m=>{o(()=>{r(m);const v=A(n);Jn(v)&&v>0&&s(()=>{i(m)},v)},A(e))},onClose:m=>{u(),o(()=>{i(m)},A(t))}}},Zq=Symbol("elForwardRef"),Y4e=e=>{Rr(Zq,{setForwardRef:n=>{e.value=n}})},Z4e=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),k7={current:0},P7=Te(0),Xq=2e3,L7=Symbol("elZIndexContextKey"),Jq=Symbol("zIndexContextKey"),R_=e=>{const t=Mr()?An(L7,k7):k7,n=e||(Mr()?An(Jq,void 0):void 0),r=le(()=>{const s=A(n);return Jn(s)?s:Xq}),i=le(()=>r.value+P7.value),o=()=>(t.current++,P7.value=t.current,i.value);return!ri&&An(L7),{initialZIndex:r,currentZIndex:i,nextZIndex:o}},h_=Math.min,n0=Math.max,FS=Math.round,E6=Math.floor,cp=e=>({x:e,y:e}),X4e={left:"right",right:"left",bottom:"top",top:"bottom"},J4e={start:"end",end:"start"};function XA(e,t,n){return n0(e,h_(t,n))}function fw(e,t){return typeof e=="function"?e(t):e}function m0(e){return e.split("-")[0]}function pw(e){return e.split("-")[1]}function Qq(e){return e==="x"?"y":"x"}function FL(e){return e==="y"?"height":"width"}function f_(e){return["top","bottom"].includes(m0(e))?"y":"x"}function NL(e){return Qq(f_(e))}function Q4e(e,t,n){n===void 0&&(n=!1);const r=pw(e),i=NL(e),o=FL(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=NS(s)),[s,NS(s)]}function e6e(e){const t=NS(e);return[JA(e),t,JA(t)]}function JA(e){return e.replace(/start|end/g,t=>J4e[t])}function t6e(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:s;default:return[]}}function n6e(e,t,n,r){const i=pw(e);let o=t6e(m0(e),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(JA)))),o}function NS(e){return e.replace(/left|right|bottom|top/g,t=>X4e[t])}function r6e(e){return{top:0,right:0,bottom:0,left:0,...e}}function eK(e){return typeof e!="number"?r6e(e):{top:e,right:e,bottom:e,left:e}}function $S(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function R7(e,t,n){let{reference:r,floating:i}=e;const o=f_(t),s=NL(t),u=FL(s),a=m0(t),h=o==="y",m=r.x+r.width/2-i.width/2,v=r.y+r.height/2-i.height/2,_=r[u]/2-i[u]/2;let b;switch(a){case"top":b={x:m,y:r.y-i.height};break;case"bottom":b={x:m,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:v};break;case"left":b={x:r.x-i.width,y:v};break;default:b={x:r.x,y:r.y}}switch(pw(t)){case"start":b[s]-=_*(n&&h?-1:1);break;case"end":b[s]+=_*(n&&h?-1:1);break}return b}const i6e=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,u=o.filter(Boolean),a=await(s.isRTL==null?void 0:s.isRTL(t));let h=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:m,y:v}=R7(h,r,a),_=r,b={},T=0;for(let M=0;M<u.length;M++){const{name:E,fn:k}=u[M],{x:z,y:B,data:U,reset:W}=await k({x:m,y:v,initialPlacement:r,placement:_,strategy:i,middlewareData:b,rects:h,platform:s,elements:{reference:e,floating:t}});m=z??m,v=B??v,b={...b,[E]:{...b[E],...U}},W&&T<=50&&(T++,typeof W=="object"&&(W.placement&&(_=W.placement),W.rects&&(h=W.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):W.rects),{x:m,y:v}=R7(h,_,a)),M=-1)}return{x:m,y:v,placement:_,strategy:i,middlewareData:b}};async function $L(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:u,strategy:a}=e,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:v="floating",altBoundary:_=!1,padding:b=0}=fw(t,e),T=eK(b),E=u[_?v==="floating"?"reference":"floating":v],k=$S(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(E)))==null||n?E:E.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:h,rootBoundary:m,strategy:a})),z=v==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,B=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),U=await(o.isElement==null?void 0:o.isElement(B))?await(o.getScale==null?void 0:o.getScale(B))||{x:1,y:1}:{x:1,y:1},W=$S(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:z,offsetParent:B,strategy:a}):z);return{top:(k.top-W.top+T.top)/U.y,bottom:(W.bottom-k.bottom+T.bottom)/U.y,left:(k.left-W.left+T.left)/U.x,right:(W.right-k.right+T.right)/U.x}}const a6e=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:s,elements:u,middlewareData:a}=t,{element:h,padding:m=0}=fw(e,t)||{};if(h==null)return{};const v=eK(m),_={x:n,y:r},b=NL(i),T=FL(b),M=await s.getDimensions(h),E=b==="y",k=E?"top":"left",z=E?"bottom":"right",B=E?"clientHeight":"clientWidth",U=o.reference[T]+o.reference[b]-_[b]-o.floating[T],W=_[b]-o.reference[b],q=await(s.getOffsetParent==null?void 0:s.getOffsetParent(h));let Q=q?q[B]:0;(!Q||!await(s.isElement==null?void 0:s.isElement(q)))&&(Q=u.floating[B]||o.floating[T]);const te=U/2-W/2,ie=Q/2-M[T]/2-1,ae=h_(v[k],ie),re=h_(v[z],ie),se=ae,be=Q-M[T]-re,Ie=Q/2-M[T]/2+te,Se=XA(se,Ie,be),me=!a.arrow&&pw(i)!=null&&Ie!==Se&&o.reference[T]/2-(Ie<se?ae:re)-M[T]/2<0,Le=me?Ie<se?Ie-se:Ie-be:0;return{[b]:_[b]+Le,data:{[b]:Se,centerOffset:Ie-Se-Le,...me&&{alignmentOffset:Le}},reset:me}}}),o6e=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:u,platform:a,elements:h}=t,{mainAxis:m=!0,crossAxis:v=!0,fallbackPlacements:_,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:M=!0,...E}=fw(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const k=m0(i),z=f_(u),B=m0(u)===u,U=await(a.isRTL==null?void 0:a.isRTL(h.floating)),W=_||(B||!M?[NS(u)]:e6e(u)),q=T!=="none";!_&&q&&W.push(...n6e(u,M,T,U));const Q=[u,...W],te=await $L(t,E),ie=[];let ae=((r=o.flip)==null?void 0:r.overflows)||[];if(m&&ie.push(te[k]),v){const Ie=Q4e(i,s,U);ie.push(te[Ie[0]],te[Ie[1]])}if(ae=[...ae,{placement:i,overflows:ie}],!ie.every(Ie=>Ie<=0)){var re,se;const Ie=(((re=o.flip)==null?void 0:re.index)||0)+1,Se=Q[Ie];if(Se)return{data:{index:Ie,overflows:ae},reset:{placement:Se}};let me=(se=ae.filter(Le=>Le.overflows[0]<=0).sort((Le,Ee)=>Le.overflows[1]-Ee.overflows[1])[0])==null?void 0:se.placement;if(!me)switch(b){case"bestFit":{var be;const Le=(be=ae.filter(Ee=>{if(q){const _e=f_(Ee.placement);return _e===z||_e==="y"}return!0}).map(Ee=>[Ee.placement,Ee.overflows.filter(_e=>_e>0).reduce((_e,xe)=>_e+xe,0)]).sort((Ee,_e)=>Ee[1]-_e[1])[0])==null?void 0:be[0];Le&&(me=Le);break}case"initialPlacement":me=u;break}if(i!==me)return{reset:{placement:me}}}return{}}}};async function s6e(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=m0(n),u=pw(n),a=f_(n)==="y",h=["left","top"].includes(s)?-1:1,m=o&&a?-1:1,v=fw(t,e);let{mainAxis:_,crossAxis:b,alignmentAxis:T}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return u&&typeof T=="number"&&(b=u==="end"?T*-1:T),a?{x:b*m,y:_*h}:{x:_*h,y:b*m}}const l6e=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:u}=t,a=await s6e(t,e);return s===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+a.x,y:o+a.y,data:{...a,placement:s}}}}},u6e=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:u={fn:E=>{let{x:k,y:z}=E;return{x:k,y:z}}},...a}=fw(e,t),h={x:n,y:r},m=await $L(t,a),v=f_(m0(i)),_=Qq(v);let b=h[_],T=h[v];if(o){const E=_==="y"?"top":"left",k=_==="y"?"bottom":"right",z=b+m[E],B=b-m[k];b=XA(z,b,B)}if(s){const E=v==="y"?"top":"left",k=v==="y"?"bottom":"right",z=T+m[E],B=T-m[k];T=XA(z,T,B)}const M=u.fn({...t,[_]:b,[v]:T});return{...M,data:{x:M.x-n,y:M.y-r,enabled:{[_]:o,[v]:s}}}}}};function d8(){return typeof window<"u"}function D_(e){return tK(e)?(e.nodeName||"").toLowerCase():"#document"}function Nl(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function hd(e){var t;return(t=(tK(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function tK(e){return d8()?e instanceof Node||e instanceof Nl(e).Node:!1}function vc(e){return d8()?e instanceof Element||e instanceof Nl(e).Element:!1}function ad(e){return d8()?e instanceof HTMLElement||e instanceof Nl(e).HTMLElement:!1}function D7(e){return!d8()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Nl(e).ShadowRoot}function mw(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=gc(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function c6e(e){return["table","td","th"].includes(D_(e))}function h8(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function VL(e){const t=HL(),n=vc(e)?gc(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function d6e(e){let t=dp(e);for(;ad(t)&&!p_(t);){if(VL(t))return t;if(h8(t))return null;t=dp(t)}return null}function HL(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function p_(e){return["html","body","#document"].includes(D_(e))}function gc(e){return Nl(e).getComputedStyle(e)}function f8(e){return vc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function dp(e){if(D_(e)==="html")return e;const t=e.assignedSlot||e.parentNode||D7(e)&&e.host||hd(e);return D7(t)?t.host:t}function nK(e){const t=dp(e);return p_(t)?e.ownerDocument?e.ownerDocument.body:e.body:ad(t)&&mw(t)?t:nK(t)}function bx(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=nK(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),s=Nl(i);if(o){const u=QA(s);return t.concat(s,s.visualViewport||[],mw(i)?i:[],u&&n?bx(u):[])}return t.concat(i,bx(i,[],n))}function QA(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function rK(e){const t=gc(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=ad(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,u=FS(n)!==o||FS(r)!==s;return u&&(n=o,r=s),{width:n,height:r,$:u}}function UL(e){return vc(e)?e:e.contextElement}function Hg(e){const t=UL(e);if(!ad(t))return cp(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=rK(t);let s=(o?FS(n.width):n.width)/r,u=(o?FS(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!u||!Number.isFinite(u))&&(u=1),{x:s,y:u}}const h6e=cp(0);function iK(e){const t=Nl(e);return!HL()||!t.visualViewport?h6e:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function f6e(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Nl(e)?!1:t}function v0(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=UL(e);let s=cp(1);t&&(r?vc(r)&&(s=Hg(r)):s=Hg(e));const u=f6e(o,n,r)?iK(o):cp(0);let a=(i.left+u.x)/s.x,h=(i.top+u.y)/s.y,m=i.width/s.x,v=i.height/s.y;if(o){const _=Nl(o),b=r&&vc(r)?Nl(r):r;let T=_,M=QA(T);for(;M&&r&&b!==T;){const E=Hg(M),k=M.getBoundingClientRect(),z=gc(M),B=k.left+(M.clientLeft+parseFloat(z.paddingLeft))*E.x,U=k.top+(M.clientTop+parseFloat(z.paddingTop))*E.y;a*=E.x,h*=E.y,m*=E.x,v*=E.y,a+=B,h+=U,T=Nl(M),M=QA(T)}}return $S({width:m,height:v,x:a,y:h})}function p6e(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",s=hd(r),u=t?h8(t.floating):!1;if(r===s||u&&o)return n;let a={scrollLeft:0,scrollTop:0},h=cp(1);const m=cp(0),v=ad(r);if((v||!v&&!o)&&((D_(r)!=="body"||mw(s))&&(a=f8(r)),ad(r))){const _=v0(r);h=Hg(r),m.x=_.x+r.clientLeft,m.y=_.y+r.clientTop}return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-a.scrollLeft*h.x+m.x,y:n.y*h.y-a.scrollTop*h.y+m.y}}function m6e(e){return Array.from(e.getClientRects())}function eI(e,t){const n=f8(e).scrollLeft;return t?t.left+n:v0(hd(e)).left+n}function v6e(e){const t=hd(e),n=f8(e),r=e.ownerDocument.body,i=n0(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=n0(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+eI(e);const u=-n.scrollTop;return gc(r).direction==="rtl"&&(s+=n0(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:u}}function g6e(e,t){const n=Nl(e),r=hd(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,u=0,a=0;if(i){o=i.width,s=i.height;const h=HL();(!h||h&&t==="fixed")&&(u=i.offsetLeft,a=i.offsetTop)}return{width:o,height:s,x:u,y:a}}function _6e(e,t){const n=v0(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=ad(e)?Hg(e):cp(1),s=e.clientWidth*o.x,u=e.clientHeight*o.y,a=i*o.x,h=r*o.y;return{width:s,height:u,x:a,y:h}}function O7(e,t,n){let r;if(t==="viewport")r=g6e(e,n);else if(t==="document")r=v6e(hd(e));else if(vc(t))r=_6e(t,n);else{const i=iK(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return $S(r)}function aK(e,t){const n=dp(e);return n===t||!vc(n)||p_(n)?!1:gc(n).position==="fixed"||aK(n,t)}function y6e(e,t){const n=t.get(e);if(n)return n;let r=bx(e,[],!1).filter(u=>vc(u)&&D_(u)!=="body"),i=null;const o=gc(e).position==="fixed";let s=o?dp(e):e;for(;vc(s)&&!p_(s);){const u=gc(s),a=VL(s);!a&&u.position==="fixed"&&(i=null),(o?!a&&!i:!a&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||mw(s)&&!a&&aK(e,s))?r=r.filter(m=>m!==s):i=u,s=dp(s)}return t.set(e,r),r}function b6e(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?h8(t)?[]:y6e(t,this._c):[].concat(n),r],u=s[0],a=s.reduce((h,m)=>{const v=O7(t,m,i);return h.top=n0(v.top,h.top),h.right=h_(v.right,h.right),h.bottom=h_(v.bottom,h.bottom),h.left=n0(v.left,h.left),h},O7(t,u,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function x6e(e){const{width:t,height:n}=rK(e);return{width:t,height:n}}function w6e(e,t,n){const r=ad(t),i=hd(t),o=n==="fixed",s=v0(e,!0,o,t);let u={scrollLeft:0,scrollTop:0};const a=cp(0);if(r||!r&&!o)if((D_(t)!=="body"||mw(i))&&(u=f8(t)),r){const b=v0(t,!0,o,t);a.x=b.x+t.clientLeft,a.y=b.y+t.clientTop}else i&&(a.x=eI(i));let h=0,m=0;if(i&&!r&&!o){const b=i.getBoundingClientRect();m=b.top+u.scrollTop,h=b.left+u.scrollLeft-eI(i,b)}const v=s.left+u.scrollLeft-a.x-h,_=s.top+u.scrollTop-a.y-m;return{x:v,y:_,width:s.width,height:s.height}}function C5(e){return gc(e).position==="static"}function z7(e,t){if(!ad(e)||gc(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return hd(e)===n&&(n=n.ownerDocument.body),n}function oK(e,t){const n=Nl(e);if(h8(e))return n;if(!ad(e)){let i=dp(e);for(;i&&!p_(i);){if(vc(i)&&!C5(i))return i;i=dp(i)}return n}let r=z7(e,t);for(;r&&c6e(r)&&C5(r);)r=z7(r,t);return r&&p_(r)&&C5(r)&&!VL(r)?n:r||d6e(e)||n}const S6e=async function(e){const t=this.getOffsetParent||oK,n=this.getDimensions,r=await n(e.floating);return{reference:w6e(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function C6e(e){return gc(e).direction==="rtl"}const T6e={convertOffsetParentRelativeRectToViewportRelativeRect:p6e,getDocumentElement:hd,getClippingRect:b6e,getOffsetParent:oK,getElementRects:S6e,getClientRects:m6e,getDimensions:x6e,getScale:Hg,isElement:vc,isRTL:C6e};function M6e(e,t){let n=null,r;const i=hd(e);function o(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function s(u,a){u===void 0&&(u=!1),a===void 0&&(a=1),o();const{left:h,top:m,width:v,height:_}=e.getBoundingClientRect();if(u||t(),!v||!_)return;const b=E6(m),T=E6(i.clientWidth-(h+v)),M=E6(i.clientHeight-(m+_)),E=E6(h),z={rootMargin:-b+"px "+-T+"px "+-M+"px "+-E+"px",threshold:n0(0,h_(1,a))||1};let B=!0;function U(W){const q=W[0].intersectionRatio;if(q!==a){if(!B)return s();q?s(!1,q):r=setTimeout(()=>{s(!1,1e-7)},1e3)}B=!1}try{n=new IntersectionObserver(U,{...z,root:i.ownerDocument})}catch{n=new IntersectionObserver(U,z)}n.observe(e)}return s(!0),o}function E6e(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:a=!1}=r,h=UL(e),m=i||o?[...h?bx(h):[],...bx(t)]:[];m.forEach(k=>{i&&k.addEventListener("scroll",n,{passive:!0}),o&&k.addEventListener("resize",n)});const v=h&&u?M6e(h,n):null;let _=-1,b=null;s&&(b=new ResizeObserver(k=>{let[z]=k;z&&z.target===h&&b&&(b.unobserve(t),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var B;(B=b)==null||B.observe(t)})),n()}),h&&!a&&b.observe(h),b.observe(t));let T,M=a?v0(e):null;a&&E();function E(){const k=v0(e);M&&(k.x!==M.x||k.y!==M.y||k.width!==M.width||k.height!==M.height)&&n(),M=k,T=requestAnimationFrame(E)}return n(),()=>{var k;m.forEach(z=>{i&&z.removeEventListener("scroll",n),o&&z.removeEventListener("resize",n)}),v==null||v(),(k=b)==null||k.disconnect(),b=null,a&&cancelAnimationFrame(T)}}const A6e=$L,sK=l6e,I6e=u6e,k6e=o6e,lK=a6e,uK=(e,t,n)=>{const r=new Map,i={platform:T6e,...n},o={...i.platform,_c:r};return i6e(e,t,{...i,platform:o})};un({});const P6e=e=>{if(!ri)return;if(!e)return e;const t=sl(e);return t||(ra(e)?t:e)},L6e=({middleware:e,placement:t,strategy:n})=>{const r=Te(),i=Te(),o=Te(),s=Te(),u=Te({}),a={x:o,y:s,placement:t,strategy:n,middlewareData:u},h=async()=>{if(!ri)return;const m=P6e(r),v=sl(i);if(!m||!v)return;const _=await uK(m,v,{placement:A(t),strategy:A(n),middleware:A(e)});o_(a).forEach(b=>{a[b].value=_[b]})};return br(()=>{ko(()=>{h()})}),{...a,update:h,referenceRef:r,contentRef:i}},R6e=({arrowRef:e,padding:t})=>({name:"arrow",options:{element:e,padding:t},fn(n){const r=A(e);return r?lK({element:r,padding:t}).fn(n):{}}});function D6e(e){let t;function n(){if(e.value==null)return;const{selectionStart:i,selectionEnd:o,value:s}=e.value;if(i==null||o==null)return;const u=s.slice(0,Math.max(0,i)),a=s.slice(Math.max(0,o));t={selectionStart:i,selectionEnd:o,value:s,beforeTxt:u,afterTxt:a}}function r(){if(e.value==null||t==null)return;const{value:i}=e.value,{beforeTxt:o,afterTxt:s,selectionStart:u}=t;if(o==null||s==null||u==null)return;let a=i.length;if(i.endsWith(s))a=i.length-s.length;else if(i.startsWith(o))a=o.length;else{const h=o[u-1],m=i.indexOf(h,u-1);m!==-1&&(a=m+1)}e.value.setSelectionRange(a,a)}return[n,r]}const O6e=(e,t,n)=>Xf(e.subTree).filter(o=>{var s;return fa(o)&&((s=o.type)==null?void 0:s.name)===t&&!!o.component}).map(o=>o.component.uid).map(o=>n[o]).filter(o=>!!o),jL=(e,t)=>{const n={},r=Ji([]);return{children:r,addChild:s=>{n[s.uid]=s,r.value=O6e(e,t,n)},removeChild:s=>{delete n[s],r.value=r.value.filter(u=>u.uid!==s)}}},go=yc({type:String,values:dd,required:!1}),cK=Symbol("size"),dK=()=>{const e=An(cK,{});return le(()=>A(e.size)||"")};function vw(e,{beforeFocus:t,afterFocus:n,beforeBlur:r,afterBlur:i}={}){const o=Mr(),{emit:s}=o,u=Ji(),a=Te(!1),h=_=>{tr(t)&&t(_)||a.value||(a.value=!0,s("focus",_),n==null||n())},m=_=>{var b;tr(r)&&r(_)||_.relatedTarget&&((b=u.value)!=null&&b.contains(_.relatedTarget))||(a.value=!1,s("blur",_),i==null||i())},v=()=>{var _,b;(_=u.value)!=null&&_.contains(document.activeElement)&&u.value!==document.activeElement||(b=e.value)==null||b.focus()};return Wt(u,_=>{_&&_.setAttribute("tabindex","-1")}),Fi(u,"focus",h,!0),Fi(u,"blur",m,!0),Fi(u,"click",v,!0),{isFocused:a,wrapperRef:u,handleFocus:h,handleBlur:m}}function p8({afterComposition:e,emit:t}){const n=Te(!1),r=u=>{t==null||t("compositionstart",u),n.value=!0},i=u=>{var a;t==null||t("compositionupdate",u);const h=(a=u.target)==null?void 0:a.value,m=h[h.length-1]||"";n.value=!Mwe(m)},o=u=>{t==null||t("compositionend",u),n.value&&(n.value=!1,Fn(()=>e(u)))};return{isComposing:n,handleComposition:u=>{u.type==="compositionend"?o(u):i(u)},handleCompositionStart:r,handleCompositionUpdate:i,handleCompositionEnd:o}}const hK=Symbol("emptyValuesContextKey"),z6e=["",void 0,null],B6e=void 0,O_=un({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:e=>tr(e)?!e():!e}}),m8=(e,t)=>{const n=Mr()?An(hK,Te({})):Te({}),r=le(()=>e.emptyValues||n.value.emptyValues||z6e),i=le(()=>tr(e.valueOnClear)?e.valueOnClear():e.valueOnClear!==void 0?e.valueOnClear:tr(n.value.valueOnClear)?n.value.valueOnClear():n.value.valueOnClear!==void 0?n.value.valueOnClear:t!==void 0?t:B6e),o=s=>r.value.includes(s);return r.value.includes(i.value),{emptyValues:r,valueOnClear:i,isEmptyValue:o}},F6e=un({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),Uo=e=>oc(F6e,e),fK=Symbol(),VS=Te();function v8(e,t=void 0){const n=Mr()?An(fK,VS):VS;return e?le(()=>{var r,i;return(i=(r=n.value)==null?void 0:r[e])!=null?i:t}):n}function g8(e,t){const n=v8(),r=en(e,le(()=>{var u;return((u=n.value)==null?void 0:u.namespace)||Hb})),i=ii(le(()=>{var u;return(u=n.value)==null?void 0:u.locale})),o=R_(le(()=>{var u;return((u=n.value)==null?void 0:u.zIndex)||Xq})),s=le(()=>{var u;return A(t)||((u=n.value)==null?void 0:u.size)||""});return GL(le(()=>A(n)||{})),{ns:r,locale:i,zIndex:o,size:s}}const GL=(e,t,n=!1)=>{var r;const i=!!Mr(),o=i?v8():void 0,s=(r=t==null?void 0:t.provide)!=null?r:i?Rr:void 0;if(!s)return;const u=le(()=>{const a=A(e);return o!=null&&o.value?N6e(o.value,a):a});return s(fK,u),s(Oq,le(()=>u.value.locale)),s(zq,le(()=>u.value.namespace)),s(Jq,le(()=>u.value.zIndex)),s(cK,{size:le(()=>u.value.size||"")}),s(hK,le(()=>({emptyValues:u.value.emptyValues,valueOnClear:u.value.valueOnClear}))),(n||!VS.value)&&(VS.value=u.value),u},N6e=(e,t)=>{const n=[...new Set([...o_(e),...o_(t)])],r={};for(const i of n)r[i]=t[i]!==void 0?t[i]:e[i];return r},$6e=un({a11y:{type:Boolean,default:!0},locale:{type:dt(Object)},size:go,button:{type:dt(Object)},experimentalFeatures:{type:dt(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:dt(Object)},zIndex:Number,namespace:{type:String,default:"el"},...O_}),rc={},V6e=ge({name:"ElConfigProvider",props:$6e,setup(e,{slots:t}){Wt(()=>e.message,r=>{Object.assign(rc,r??{})},{immediate:!0,deep:!0});const n=GL(e);return()=>bt(t,"default",{config:n==null?void 0:n.value})}}),H6e=pr(V6e),U6e="2.8.5",j6e=(e=[])=>({version:U6e,install:(n,r)=>{n[v7]||(n[v7]=!0,e.forEach(i=>n.use(i)),r&&GL(r,n,!0))}}),G6e=un({zIndex:{type:dt([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),W6e={scroll:({scrollTop:e,fixed:t})=>Jn(e)&&za(t),[sa]:e=>za(e)};var mn=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n};const pK="ElAffix",q6e=ge({name:pK}),K6e=ge({...q6e,props:G6e,emits:W6e,setup(e,{expose:t,emit:n}){const r=e,i=en("affix"),o=Ji(),s=Ji(),u=Ji(),{height:a}=Oue(),{height:h,width:m,top:v,bottom:_,update:b}=PF(s,{windowScroll:!1}),T=PF(o),M=Te(!1),E=Te(0),k=Te(0),z=le(()=>({height:M.value?`${h.value}px`:"",width:M.value?`${m.value}px`:""})),B=le(()=>{if(!M.value)return{};const q=r.offset?Ua(r.offset):0;return{height:`${h.value}px`,width:`${m.value}px`,top:r.position==="top"?q:"",bottom:r.position==="bottom"?q:"",transform:k.value?`translateY(${k.value}px)`:"",zIndex:r.zIndex}}),U=()=>{if(!u.value)return;E.value=u.value instanceof Window?document.documentElement.scrollTop:u.value.scrollTop||0;const{position:q,target:Q,offset:te}=r,ie=te+h.value;if(q==="top")if(Q){const ae=T.bottom.value-ie;M.value=te>v.value&&T.bottom.value>0,k.value=ae<0?ae:0}else M.value=te>v.value;else if(Q){const ae=a.value-T.top.value-ie;M.value=a.value-te<_.value&&a.value>T.top.value,k.value=ae<0?-ae:0}else M.value=a.value-te<_.value},W=()=>{b(),n("scroll",{scrollTop:E.value,fixed:M.value})};return Wt(M,q=>n("change",q)),br(()=>{var q;r.target?(o.value=(q=document.querySelector(r.target))!=null?q:void 0,o.value||vo(pK,`Target does not exist: ${r.target}`)):o.value=document.documentElement,u.value=mL(s.value,!0),b()}),Fi(u,"scroll",W),ko(U),t({update:U,updateRoot:b}),(q,Q)=>(X(),pe("div",{ref_key:"root",ref:s,class:ye(A(i).b()),style:Vn(A(z))},[ue("div",{class:ye({[A(i).m("fixed")]:M.value}),style:Vn(A(B))},[bt(q.$slots,"default")],6)],6))}});var Y6e=mn(K6e,[["__file","affix.vue"]]);const Z6e=pr(Y6e),X6e=un({size:{type:dt([Number,String])},color:{type:String}}),J6e=ge({name:"ElIcon",inheritAttrs:!1}),Q6e=ge({...J6e,props:X6e,setup(e){const t=e,n=en("icon"),r=le(()=>{const{size:i,color:o}=t;return!i&&!o?{}:{fontSize:Oa(i)?void 0:Ua(i),"--color":o}});return(i,o)=>(X(),pe("i",Lr({class:A(n).b(),style:A(r)},i.$attrs),[bt(i.$slots,"default")],16))}});var e3e=mn(Q6e,[["__file","icon.vue"]]);const On=pr(e3e),t3e=["light","dark"],n3e=un({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:o_(up),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:t3e,default:"light"}}),r3e={close:e=>e instanceof MouseEvent},i3e=ge({name:"ElAlert"}),a3e=ge({...i3e,props:n3e,emits:r3e,setup(e,{emit:t}){const n=e,{Close:r}=SL,i=yo(),o=en("alert"),s=Te(!0),u=le(()=>up[n.type]),a=le(()=>[o.e("icon"),{[o.is("big")]:!!n.description||!!i.default}]),h=le(()=>({"with-description":n.description||i.default})),m=v=>{s.value=!1,t("close",v)};return(v,_)=>(X(),Rt(Lo,{name:A(o).b("fade"),persisted:""},{default:tt(()=>[yr(ue("div",{class:ye([A(o).b(),A(o).m(v.type),A(o).is("center",v.center),A(o).is(v.effect)]),role:"alert"},[v.showIcon&&A(u)?(X(),Rt(A(On),{key:0,class:ye(A(a))},{default:tt(()=>[(X(),Rt(kr(A(u))))]),_:1},8,["class"])):wt("v-if",!0),ue("div",{class:ye(A(o).e("content"))},[v.title||v.$slots.title?(X(),pe("span",{key:0,class:ye([A(o).e("title"),A(h)])},[bt(v.$slots,"title",{},()=>[Br(pn(v.title),1)])],2)):wt("v-if",!0),v.$slots.default||v.description?(X(),pe("p",{key:1,class:ye(A(o).e("description"))},[bt(v.$slots,"default",{},()=>[Br(pn(v.description),1)])],2)):wt("v-if",!0),v.closable?(X(),pe(Nn,{key:2},[v.closeText?(X(),pe("div",{key:0,class:ye([A(o).e("close-btn"),A(o).is("customed")]),onClick:m},pn(v.closeText),3)):(X(),Rt(A(On),{key:1,class:ye(A(o).e("close-btn")),onClick:m},{default:tt(()=>[Fe(A(r))]),_:1},8,["class"]))],64)):wt("v-if",!0)],2)],2),[[vi,s.value]])]),_:3},8,["name"]))}});var o3e=mn(a3e,[["__file","alert.vue"]]);const s3e=pr(o3e),P0=Symbol("formContextKey"),od=Symbol("formItemContextKey"),lo=(e,t={})=>{const n=Te(void 0),r=t.prop?n:Bq("size"),i=t.global?n:dK(),o=t.form?{size:void 0}:An(P0,void 0),s=t.formItem?{size:void 0}:An(od,void 0);return le(()=>r.value||A(e)||(s==null?void 0:s.size)||(o==null?void 0:o.size)||i.value||"")},Ss=e=>{const t=Bq("disabled"),n=An(P0,void 0);return le(()=>t.value||A(e)||(n==null?void 0:n.disabled)||!1)},Cs=()=>{const e=An(P0,void 0),t=An(od,void 0);return{form:e,formItem:t}},xc=(e,{formItemContext:t,disableIdGeneration:n,disableIdManagement:r})=>{n||(n=Te(!1)),r||(r=Te(!1));const i=Te();let o;const s=le(()=>{var u;return!!(!(e.label||e.ariaLabel)&&t&&t.inputIds&&((u=t.inputIds)==null?void 0:u.length)<=1)});return br(()=>{o=Wt([Li(e,"id"),n],([u,a])=>{const h=u??(a?void 0:Ho().value);h!==i.value&&(t!=null&&t.removeInputId&&(i.value&&t.removeInputId(i.value),!(r!=null&&r.value)&&!a&&h&&t.addInputId(h)),i.value=h)},{immediate:!0})}),vh(()=>{o&&o(),t!=null&&t.removeInputId&&i.value&&t.removeInputId(i.value)}),{isLabeledByFormItem:s,inputId:i}},l3e=un({size:{type:String,values:dd},disabled:Boolean}),u3e=un({...l3e,model:Object,rules:{type:dt(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),c3e={validate:(e,t,n)=>(Tn(e)||Qn(e))&&za(t)&&Qn(n)};function d3e(){const e=Te([]),t=le(()=>{if(!e.value.length)return"0";const o=Math.max(...e.value);return o?`${o}px`:""});function n(o){const s=e.value.indexOf(o);return s===-1&&t.value,s}function r(o,s){if(o&&s){const u=n(s);e.value.splice(u,1,o)}else o&&e.value.push(o)}function i(o){const s=n(o);s>-1&&e.value.splice(s,1)}return{autoLabelWidth:t,registerLabelWidth:r,deregisterLabelWidth:i}}const A6=(e,t)=>{const n=vs(t);return n.length>0?e.filter(r=>r.prop&&n.includes(r.prop)):e},h3e="ElForm",f3e=ge({name:h3e}),p3e=ge({...f3e,props:u3e,emits:c3e,setup(e,{expose:t,emit:n}){const r=e,i=[],o=lo(),s=en("form"),u=le(()=>{const{labelPosition:B,inline:U}=r;return[s.b(),s.m(o.value||"default"),{[s.m(`label-${B}`)]:B,[s.m("inline")]:U}]}),a=B=>i.find(U=>U.prop===B),h=B=>{i.push(B)},m=B=>{B.prop&&i.splice(i.indexOf(B),1)},v=(B=[])=>{r.model&&A6(i,B).forEach(U=>U.resetField())},_=(B=[])=>{A6(i,B).forEach(U=>U.clearValidate())},b=le(()=>!!r.model),T=B=>{if(i.length===0)return[];const U=A6(i,B);return U.length?U:[]},M=async B=>k(void 0,B),E=async(B=[])=>{if(!b.value)return!1;const U=T(B);if(U.length===0)return!0;let W={};for(const q of U)try{await q.validate("")}catch(Q){W={...W,...Q}}return Object.keys(W).length===0?!0:Promise.reject(W)},k=async(B=[],U)=>{const W=!tr(U);try{const q=await E(B);return q===!0&&await(U==null?void 0:U(q)),q}catch(q){if(q instanceof Error)throw q;const Q=q;return r.scrollToError&&z(Object.keys(Q)[0]),await(U==null?void 0:U(!1,Q)),W&&Promise.reject(Q)}},z=B=>{var U;const W=A6(i,B)[0];W&&((U=W.$el)==null||U.scrollIntoView(r.scrollIntoViewOptions))};return Wt(()=>r.rules,()=>{r.validateOnRuleChange&&M().catch(B=>void 0)},{deep:!0}),Rr(P0,Ci({...Co(r),emit:n,resetFields:v,clearValidate:_,validateField:k,getField:a,addField:h,removeField:m,...d3e()})),t({validate:M,validateField:k,resetFields:v,clearValidate:_,scrollToField:z,fields:i}),(B,U)=>(X(),pe("form",{class:ye(A(u))},[bt(B.$slots,"default")],2))}});var m3e=mn(p3e,[["__file","form.vue"]]);function Um(){return Um=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Um.apply(this,arguments)}function v3e(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,xx(e,t)}function tI(e){return tI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tI(e)}function xx(e,t){return xx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xx(e,t)}function g3e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $3(e,t,n){return g3e()?$3=Reflect.construct.bind():$3=function(i,o,s){var u=[null];u.push.apply(u,o);var a=Function.bind.apply(i,u),h=new a;return s&&xx(h,s.prototype),h},$3.apply(null,arguments)}function _3e(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function nI(e){var t=typeof Map=="function"?new Map:void 0;return nI=function(r){if(r===null||!_3e(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,i)}function i(){return $3(r,arguments,tI(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),xx(i,r)},nI(e)}var y3e=/%[sdj%]/g,b3e=function(){};function rI(e){if(!e||!e.length)return null;var t={};return e.forEach(function(n){var r=n.field;t[r]=t[r]||[],t[r].push(n)}),t}function Bl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o=n.length;if(typeof e=="function")return e.apply(null,n);if(typeof e=="string"){var s=e.replace(y3e,function(u){if(u==="%%")return"%";if(i>=o)return u;switch(u){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch{return"[Circular]"}break;default:return u}});return s}return e}function x3e(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function Ro(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||x3e(t)&&typeof e=="string"&&!e)}function w3e(e,t,n){var r=[],i=0,o=e.length;function s(u){r.push.apply(r,u||[]),i++,i===o&&n(r)}e.forEach(function(u){t(u,s)})}function B7(e,t,n){var r=0,i=e.length;function o(s){if(s&&s.length){n(s);return}var u=r;r=r+1,u<i?t(e[u],o):n([])}o([])}function S3e(e){var t=[];return Object.keys(e).forEach(function(n){t.push.apply(t,e[n]||[])}),t}var F7=function(e){v3e(t,e);function t(n,r){var i;return i=e.call(this,"Async Validation Error")||this,i.errors=n,i.fields=r,i}return t}(nI(Error));function C3e(e,t,n,r,i){if(t.first){var o=new Promise(function(_,b){var T=function(k){return r(k),k.length?b(new F7(k,rI(k))):_(i)},M=S3e(e);B7(M,n,T)});return o.catch(function(_){return _}),o}var s=t.firstFields===!0?Object.keys(e):t.firstFields||[],u=Object.keys(e),a=u.length,h=0,m=[],v=new Promise(function(_,b){var T=function(E){if(m.push.apply(m,E),h++,h===a)return r(m),m.length?b(new F7(m,rI(m))):_(i)};u.length||(r(m),_(i)),u.forEach(function(M){var E=e[M];s.indexOf(M)!==-1?B7(E,n,T):w3e(E,n,T)})});return v.catch(function(_){return _}),v}function T3e(e){return!!(e&&e.message!==void 0)}function M3e(e,t){for(var n=e,r=0;r<t.length;r++){if(n==null)return n;n=n[t[r]]}return n}function N7(e,t){return function(n){var r;return e.fullFields?r=M3e(t,e.fullFields):r=t[n.field||e.fullField],T3e(n)?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||e.fullField}}}function $7(e,t){if(t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];typeof r=="object"&&typeof e[n]=="object"?e[n]=Um({},e[n],r):e[n]=r}}return e}var mK=function(t,n,r,i,o,s){t.required&&(!r.hasOwnProperty(t.field)||Ro(n,s||t.type))&&i.push(Bl(o.messages.required,t.fullField))},E3e=function(t,n,r,i,o){(/^\s+$/.test(n)||n==="")&&i.push(Bl(o.messages.whitespace,t.fullField))},I6,A3e=function(){if(I6)return I6;var e="[a-fA-F\\d:]",t=function(U){return U&&U.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+n+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+n+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+n+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),s=new RegExp("^"+n+"$"),u=new RegExp("^"+i+"$"),a=function(U){return U&&U.exact?o:new RegExp("(?:"+t(U)+n+t(U)+")|(?:"+t(U)+i+t(U)+")","g")};a.v4=function(B){return B&&B.exact?s:new RegExp(""+t(B)+n+t(B),"g")},a.v6=function(B){return B&&B.exact?u:new RegExp(""+t(B)+i+t(B),"g")};var h="(?:(?:[a-z]+:)?//)",m="(?:\\S+(?::\\S*)?@)?",v=a.v4().source,_=a.v6().source,b="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",T="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",M="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",E="(?::\\d{2,5})?",k='(?:[/?#][^\\s"]*)?',z="(?:"+h+"|www\\.)"+m+"(?:localhost|"+v+"|"+_+"|"+b+T+M+")"+E+k;return I6=new RegExp("(?:^"+z+"$)","i"),I6},V7={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},yb={integer:function(t){return yb.number(t)&&parseInt(t,10)===t},float:function(t){return yb.number(t)&&!yb.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return typeof t=="object"&&!yb.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(V7.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(A3e())},hex:function(t){return typeof t=="string"&&!!t.match(V7.hex)}},I3e=function(t,n,r,i,o){if(t.required&&n===void 0){mK(t,n,r,i,o);return}var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],u=t.type;s.indexOf(u)>-1?yb[u](n)||i.push(Bl(o.messages.types[u],t.fullField,t.type)):u&&typeof n!==t.type&&i.push(Bl(o.messages.types[u],t.fullField,t.type))},k3e=function(t,n,r,i,o){var s=typeof t.len=="number",u=typeof t.min=="number",a=typeof t.max=="number",h=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m=n,v=null,_=typeof n=="number",b=typeof n=="string",T=Array.isArray(n);if(_?v="number":b?v="string":T&&(v="array"),!v)return!1;T&&(m=n.length),b&&(m=n.replace(h,"_").length),s?m!==t.len&&i.push(Bl(o.messages[v].len,t.fullField,t.len)):u&&!a&&m<t.min?i.push(Bl(o.messages[v].min,t.fullField,t.min)):a&&!u&&m>t.max?i.push(Bl(o.messages[v].max,t.fullField,t.max)):u&&a&&(m<t.min||m>t.max)&&i.push(Bl(o.messages[v].range,t.fullField,t.min,t.max))},Kv="enum",P3e=function(t,n,r,i,o){t[Kv]=Array.isArray(t[Kv])?t[Kv]:[],t[Kv].indexOf(n)===-1&&i.push(Bl(o.messages[Kv],t.fullField,t[Kv].join(", ")))},L3e=function(t,n,r,i,o){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(n)||i.push(Bl(o.messages.pattern.mismatch,t.fullField,n,t.pattern));else if(typeof t.pattern=="string"){var s=new RegExp(t.pattern);s.test(n)||i.push(Bl(o.messages.pattern.mismatch,t.fullField,n,t.pattern))}}},Ki={required:mK,whitespace:E3e,type:I3e,range:k3e,enum:P3e,pattern:L3e},R3e=function(t,n,r,i,o){var s=[],u=t.required||!t.required&&i.hasOwnProperty(t.field);if(u){if(Ro(n,"string")&&!t.required)return r();Ki.required(t,n,i,s,o,"string"),Ro(n,"string")||(Ki.type(t,n,i,s,o),Ki.range(t,n,i,s,o),Ki.pattern(t,n,i,s,o),t.whitespace===!0&&Ki.whitespace(t,n,i,s,o))}r(s)},D3e=function(t,n,r,i,o){var s=[],u=t.required||!t.required&&i.hasOwnProperty(t.field);if(u){if(Ro(n)&&!t.required)return r();Ki.required(t,n,i,s,o),n!==void 0&&Ki.type(t,n,i,s,o)}r(s)},O3e=function(t,n,r,i,o){var s=[],u=t.required||!t.required&&i.hasOwnProperty(t.field);if(u){if(n===""&&(n=void 0),Ro(n)&&!t.required)return r();Ki.required(t,n,i,s,o),n!==void 0&&(Ki.type(t,n,i,s,o),Ki.range(t,n,i,s,o))}r(s)},z3e=function(t,n,r,i,o){var s=[],u=t.required||!t.required&&i.hasOwnProperty(t.field);if(u){if(Ro(n)&&!t.required)return r();Ki.required(t,n,i,s,o),n!==void 0&&Ki.type(t,n,i,s,o)}r(s)},B3e=function(t,n,r,i,o){var s=[],u=t.required||!t.required&&i.hasOwnProperty(t.field);if(u){if(Ro(n)&&!t.required)return r();Ki.required(t,n,i,s,o),Ro(n)||Ki.type(t,n,i,s,o)}r(s)},F3e=function(t,n,r,i,o){var s=[],u=t.required||!t.required&&i.hasOwnProperty(t.field);if(u){if(Ro(n)&&!t.required)return r();Ki.required(t,n,i,s,o),n!==void 0&&(Ki.type(t,n,i,s,o),Ki.range(t,n,i,s,o))}r(s)},N3e=function(t,n,r,i,o){var s=[],u=t.required||!t.required&&i.hasOwnProperty(t.field);if(u){if(Ro(n)&&!t.required)return r();Ki.required(t,n,i,s,o),n!==void 0&&(Ki.type(t,n,i,s,o),Ki.range(t,n,i,s,o))}r(s)},$3e=function(t,n,r,i,o){var s=[],u=t.required||!t.required&&i.hasOwnProperty(t.field);if(u){if(n==null&&!t.required)return r();Ki.required(t,n,i,s,o,"array"),n!=null&&(Ki.type(t,n,i,s,o),Ki.range(t,n,i,s,o))}r(s)},V3e=function(t,n,r,i,o){var s=[],u=t.required||!t.required&&i.hasOwnProperty(t.field);if(u){if(Ro(n)&&!t.required)return r();Ki.required(t,n,i,s,o),n!==void 0&&Ki.type(t,n,i,s,o)}r(s)},H3e="enum",U3e=function(t,n,r,i,o){var s=[],u=t.required||!t.required&&i.hasOwnProperty(t.field);if(u){if(Ro(n)&&!t.required)return r();Ki.required(t,n,i,s,o),n!==void 0&&Ki[H3e](t,n,i,s,o)}r(s)},j3e=function(t,n,r,i,o){var s=[],u=t.required||!t.required&&i.hasOwnProperty(t.field);if(u){if(Ro(n,"string")&&!t.required)return r();Ki.required(t,n,i,s,o),Ro(n,"string")||Ki.pattern(t,n,i,s,o)}r(s)},G3e=function(t,n,r,i,o){var s=[],u=t.required||!t.required&&i.hasOwnProperty(t.field);if(u){if(Ro(n,"date")&&!t.required)return r();if(Ki.required(t,n,i,s,o),!Ro(n,"date")){var a;n instanceof Date?a=n:a=new Date(n),Ki.type(t,a,i,s,o),a&&Ki.range(t,a.getTime(),i,s,o)}}r(s)},W3e=function(t,n,r,i,o){var s=[],u=Array.isArray(n)?"array":typeof n;Ki.required(t,n,i,s,o,u),r(s)},T5=function(t,n,r,i,o){var s=t.type,u=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(Ro(n,s)&&!t.required)return r();Ki.required(t,n,i,u,o,s),Ro(n,s)||Ki.type(t,n,i,u,o)}r(u)},q3e=function(t,n,r,i,o){var s=[],u=t.required||!t.required&&i.hasOwnProperty(t.field);if(u){if(Ro(n)&&!t.required)return r();Ki.required(t,n,i,s,o)}r(s)},Gb={string:R3e,method:D3e,number:O3e,boolean:z3e,regexp:B3e,integer:F3e,float:N3e,array:$3e,object:V3e,enum:U3e,pattern:j3e,date:G3e,url:T5,hex:T5,email:T5,required:W3e,any:q3e};function iI(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var aI=iI(),gw=function(){function e(n){this.rules=null,this._messages=aI,this.define(n)}var t=e.prototype;return t.define=function(r){var i=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(o){var s=r[o];i.rules[o]=Array.isArray(s)?s:[s]})},t.messages=function(r){return r&&(this._messages=$7(iI(),r)),this._messages},t.validate=function(r,i,o){var s=this;i===void 0&&(i={}),o===void 0&&(o=function(){});var u=r,a=i,h=o;if(typeof a=="function"&&(h=a,a={}),!this.rules||Object.keys(this.rules).length===0)return h&&h(null,u),Promise.resolve(u);function m(M){var E=[],k={};function z(U){if(Array.isArray(U)){var W;E=(W=E).concat.apply(W,U)}else E.push(U)}for(var B=0;B<M.length;B++)z(M[B]);E.length?(k=rI(E),h(E,k)):h(null,u)}if(a.messages){var v=this.messages();v===aI&&(v=iI()),$7(v,a.messages),a.messages=v}else a.messages=this.messages();var _={},b=a.keys||Object.keys(this.rules);b.forEach(function(M){var E=s.rules[M],k=u[M];E.forEach(function(z){var B=z;typeof B.transform=="function"&&(u===r&&(u=Um({},u)),k=u[M]=B.transform(k)),typeof B=="function"?B={validator:B}:B=Um({},B),B.validator=s.getValidationMethod(B),B.validator&&(B.field=M,B.fullField=B.fullField||M,B.type=s.getType(B),_[M]=_[M]||[],_[M].push({rule:B,value:k,source:u,field:M}))})});var T={};return C3e(_,a,function(M,E){var k=M.rule,z=(k.type==="object"||k.type==="array")&&(typeof k.fields=="object"||typeof k.defaultField=="object");z=z&&(k.required||!k.required&&M.value),k.field=M.field;function B(q,Q){return Um({},Q,{fullField:k.fullField+"."+q,fullFields:k.fullFields?[].concat(k.fullFields,[q]):[q]})}function U(q){q===void 0&&(q=[]);var Q=Array.isArray(q)?q:[q];!a.suppressWarning&&Q.length&&e.warning("async-validator:",Q),Q.length&&k.message!==void 0&&(Q=[].concat(k.message));var te=Q.map(N7(k,u));if(a.first&&te.length)return T[k.field]=1,E(te);if(!z)E(te);else{if(k.required&&!M.value)return k.message!==void 0?te=[].concat(k.message).map(N7(k,u)):a.error&&(te=[a.error(k,Bl(a.messages.required,k.field))]),E(te);var ie={};k.defaultField&&Object.keys(M.value).map(function(se){ie[se]=k.defaultField}),ie=Um({},ie,M.rule.fields);var ae={};Object.keys(ie).forEach(function(se){var be=ie[se],Ie=Array.isArray(be)?be:[be];ae[se]=Ie.map(B.bind(null,se))});var re=new e(ae);re.messages(a.messages),M.rule.options&&(M.rule.options.messages=a.messages,M.rule.options.error=a.error),re.validate(M.value,M.rule.options||a,function(se){var be=[];te&&te.length&&be.push.apply(be,te),se&&se.length&&be.push.apply(be,se),E(be.length?be:null)})}}var W;if(k.asyncValidator)W=k.asyncValidator(k,M.value,U,M.source,a);else if(k.validator){try{W=k.validator(k,M.value,U,M.source,a)}catch(q){console.error==null||console.error(q),a.suppressValidatorError||setTimeout(function(){throw q},0),U(q.message)}W===!0?U():W===!1?U(typeof k.message=="function"?k.message(k.fullField||k.field):k.message||(k.fullField||k.field)+" fails"):W instanceof Array?U(W):W instanceof Error&&U(W.message)}W&&W.then&&W.then(function(){return U()},function(q){return U(q)})},function(M){m(M)},u)},t.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!Gb.hasOwnProperty(r.type))throw new Error(Bl("Unknown rule type %s",r.type));return r.type||"string"},t.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var i=Object.keys(r),o=i.indexOf("message");return o!==-1&&i.splice(o,1),i.length===1&&i[0]==="required"?Gb.required:Gb[this.getType(r)]||void 0},e}();gw.register=function(t,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");Gb[t]=n};gw.warning=b3e;gw.messages=aI;gw.validators=Gb;const K3e=["","error","validating","success"],Y3e=un({label:String,labelWidth:{type:[String,Number],default:""},labelPosition:{type:String,values:["left","right","top",""],default:""},prop:{type:dt([String,Array])},required:{type:Boolean,default:void 0},rules:{type:dt([Object,Array])},error:String,validateStatus:{type:String,values:K3e},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:dd}}),H7="ElLabelWrap";var Z3e=ge({name:H7,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(e,{slots:t}){const n=An(P0,void 0),r=An(od);r||vo(H7,"usage: <el-form-item><label-wrap /></el-form-item>");const i=en("form"),o=Te(),s=Te(0),u=()=>{var m;if((m=o.value)!=null&&m.firstElementChild){const v=window.getComputedStyle(o.value.firstElementChild).width;return Math.ceil(Number.parseFloat(v))}else return 0},a=(m="update")=>{Fn(()=>{t.default&&e.isAutoWidth&&(m==="update"?s.value=u():m==="remove"&&(n==null||n.deregisterLabelWidth(s.value)))})},h=()=>a("update");return br(()=>{h()}),Di(()=>{a("remove")}),ud(()=>h()),Wt(s,(m,v)=>{e.updateAll&&(n==null||n.registerLabelWidth(m,v))}),ga(le(()=>{var m,v;return(v=(m=o.value)==null?void 0:m.firstElementChild)!=null?v:null}),h),()=>{var m,v;if(!t)return null;const{isAutoWidth:_}=e;if(_){const b=n==null?void 0:n.autoLabelWidth,T=r==null?void 0:r.hasLabel,M={};if(T&&b&&b!=="auto"){const E=Math.max(0,Number.parseInt(b,10)-s.value),z=(r.labelPosition||n.labelPosition)==="left"?"marginRight":"marginLeft";E&&(M[z]=`${E}px`)}return Fe("div",{ref:o,class:[i.be("item","label-wrap")],style:M},[(m=t.default)==null?void 0:m.call(t)])}else return Fe(Nn,{ref:o},[(v=t.default)==null?void 0:v.call(t)])}}});const X3e=ge({name:"ElFormItem"}),J3e=ge({...X3e,props:Y3e,setup(e,{expose:t}){const n=e,r=yo(),i=An(P0,void 0),o=An(od,void 0),s=lo(void 0,{formItem:!1}),u=en("form-item"),a=Ho().value,h=Te([]),m=Te(""),v=gue(m,100),_=Te(""),b=Te();let T,M=!1;const E=le(()=>n.labelPosition||(i==null?void 0:i.labelPosition)),k=le(()=>{if(E.value==="top")return{};const Ct=Ua(n.labelWidth||(i==null?void 0:i.labelWidth)||"");return Ct?{width:Ct}:{}}),z=le(()=>{if(E.value==="top"||i!=null&&i.inline)return{};if(!n.label&&!n.labelWidth&&ae)return{};const Ct=Ua(n.labelWidth||(i==null?void 0:i.labelWidth)||"");return!n.label&&!r.label?{marginLeft:Ct}:{}}),B=le(()=>[u.b(),u.m(s.value),u.is("error",m.value==="error"),u.is("validating",m.value==="validating"),u.is("success",m.value==="success"),u.is("required",Se.value||n.required),u.is("no-asterisk",i==null?void 0:i.hideRequiredAsterisk),(i==null?void 0:i.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[u.m("feedback")]:i==null?void 0:i.statusIcon,[u.m(`label-${E.value}`)]:E.value}]),U=le(()=>za(n.inlineMessage)?n.inlineMessage:(i==null?void 0:i.inlineMessage)||!1),W=le(()=>[u.e("error"),{[u.em("error","inline")]:U.value}]),q=le(()=>n.prop?Qn(n.prop)?n.prop:n.prop.join("."):""),Q=le(()=>!!(n.label||r.label)),te=le(()=>n.for||(h.value.length===1?h.value[0]:void 0)),ie=le(()=>!te.value&&Q.value),ae=!!o,re=le(()=>{const Ct=i==null?void 0:i.model;if(!(!Ct||!n.prop))return F3(Ct,n.prop).value}),se=le(()=>{const{required:Ct}=n,vt=[];n.rules&&vt.push(...vs(n.rules));const Vt=i==null?void 0:i.rules;if(Vt&&n.prop){const Re=F3(Vt,n.prop).value;Re&&vt.push(...vs(Re))}if(Ct!==void 0){const Re=vt.map((pt,Ne)=>[pt,Ne]).filter(([pt])=>Object.keys(pt).includes("required"));if(Re.length>0)for(const[pt,Ne]of Re)pt.required!==Ct&&(vt[Ne]={...pt,required:Ct});else vt.push({required:Ct})}return vt}),be=le(()=>se.value.length>0),Ie=Ct=>se.value.filter(Vt=>!Vt.trigger||!Ct?!0:Array.isArray(Vt.trigger)?Vt.trigger.includes(Ct):Vt.trigger===Ct).map(({trigger:Vt,...Re})=>Re),Se=le(()=>se.value.some(Ct=>Ct.required)),me=le(()=>{var Ct;return v.value==="error"&&n.showMessage&&((Ct=i==null?void 0:i.showMessage)!=null?Ct:!0)}),Le=le(()=>`${n.label||""}${(i==null?void 0:i.labelSuffix)||""}`),Ee=Ct=>{m.value=Ct},_e=Ct=>{var vt,Vt;const{errors:Re,fields:pt}=Ct;(!Re||!pt)&&console.error(Ct),Ee("error"),_.value=Re?(Vt=(vt=Re==null?void 0:Re[0])==null?void 0:vt.message)!=null?Vt:`${n.prop} is required`:"",i==null||i.emit("validate",n.prop,!1,_.value)},xe=()=>{Ee("success"),i==null||i.emit("validate",n.prop,!0,"")},Be=async Ct=>{const vt=q.value;return new gw({[vt]:Ct}).validate({[vt]:re.value},{firstFields:!0}).then(()=>(xe(),!0)).catch(Re=>(_e(Re),Promise.reject(Re)))},Je=async(Ct,vt)=>{if(M||!n.prop)return!1;const Vt=tr(vt);if(!be.value)return vt==null||vt(!1),!1;const Re=Ie(Ct);return Re.length===0?(vt==null||vt(!0),!0):(Ee("validating"),Be(Re).then(()=>(vt==null||vt(!0),!0)).catch(pt=>{const{fields:Ne}=pt;return vt==null||vt(!1,Ne),Vt?!1:Promise.reject(Ne)}))},Ye=()=>{Ee(""),_.value="",M=!1},lt=async()=>{const Ct=i==null?void 0:i.model;if(!Ct||!n.prop)return;const vt=F3(Ct,n.prop);M=!0,vt.value=u7(T),await Fn(),Ye(),M=!1},Nt=Ct=>{h.value.includes(Ct)||h.value.push(Ct)},Dt=Ct=>{h.value=h.value.filter(vt=>vt!==Ct)};Wt(()=>n.error,Ct=>{_.value=Ct||"",Ee(Ct?"error":"")},{immediate:!0}),Wt(()=>n.validateStatus,Ct=>Ee(Ct||""));const je=Ci({...Co(n),$el:b,size:s,validateState:m,labelId:a,inputIds:h,isGroup:ie,hasLabel:Q,fieldValue:re,addInputId:Nt,removeInputId:Dt,resetField:lt,clearValidate:Ye,validate:Je});return Rr(od,je),br(()=>{n.prop&&(i==null||i.addField(je),T=u7(re.value))}),Di(()=>{i==null||i.removeField(je)}),t({size:s,validateMessage:_,validateState:m,validate:Je,clearValidate:Ye,resetField:lt}),(Ct,vt)=>{var Vt;return X(),pe("div",{ref_key:"formItemRef",ref:b,class:ye(A(B)),role:A(ie)?"group":void 0,"aria-labelledby":A(ie)?A(a):void 0},[Fe(A(Z3e),{"is-auto-width":A(k).width==="auto","update-all":((Vt=A(i))==null?void 0:Vt.labelWidth)==="auto"},{default:tt(()=>[A(Q)?(X(),Rt(kr(A(te)?"label":"div"),{key:0,id:A(a),for:A(te),class:ye(A(u).e("label")),style:Vn(A(k))},{default:tt(()=>[bt(Ct.$slots,"label",{label:A(Le)},()=>[Br(pn(A(Le)),1)])]),_:3},8,["id","for","class","style"])):wt("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),ue("div",{class:ye(A(u).e("content")),style:Vn(A(z))},[bt(Ct.$slots,"default"),Fe(ZG,{name:`${A(u).namespace.value}-zoom-in-top`},{default:tt(()=>[A(me)?bt(Ct.$slots,"error",{key:0,error:_.value},()=>[ue("div",{class:ye(A(W))},pn(_.value),3)]):wt("v-if",!0)]),_:3},8,["name"])],6)],10,["role","aria-labelledby"])}}});var vK=mn(J3e,[["__file","form-item.vue"]]);const Q3e=pr(m3e,{FormItem:vK}),eSe=Ma(vK);let Zu;const tSe=`
  height:0 !important;
  visibility:hidden !important;
  ${XP()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,nSe=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function rSe(e){const t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),r=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),i=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:nSe.map(s=>`${s}:${t.getPropertyValue(s)}`).join(";"),paddingSize:r,borderSize:i,boxSizing:n}}function U7(e,t=1,n){var r;Zu||(Zu=document.createElement("textarea"),document.body.appendChild(Zu));const{paddingSize:i,borderSize:o,boxSizing:s,contextStyle:u}=rSe(e);Zu.setAttribute("style",`${u};${tSe}`),Zu.value=e.value||e.placeholder||"";let a=Zu.scrollHeight;const h={};s==="border-box"?a=a+o:s==="content-box"&&(a=a-i),Zu.value="";const m=Zu.scrollHeight-i;if(Jn(t)){let v=m*t;s==="border-box"&&(v=v+i+o),a=Math.max(v,a),h.minHeight=`${v}px`}if(Jn(n)){let v=m*n;s==="border-box"&&(v=v+i+o),a=Math.min(v,a)}return h.height=`${a}px`,(r=Zu.parentNode)==null||r.removeChild(Zu),Zu=void 0,h}const WL=un({id:{type:String,default:void 0},size:go,disabled:Boolean,modelValue:{type:dt([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:dt([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:Vi},prefixIcon:{type:Vi},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:dt([Object,Array,String]),default:()=>Ca({})},autofocus:Boolean,rows:{type:Number,default:2},...Uo(["ariaLabel"])}),iSe={[Tr]:e=>Qn(e),input:e=>Qn(e),change:e=>Qn(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},aSe=ge({name:"ElInput",inheritAttrs:!1}),oSe=ge({...aSe,props:WL,emits:iSe,setup(e,{expose:t,emit:n}){const r=e,i=jl(),o=yo(),s=le(()=>{const St={};return r.containerRole==="combobox"&&(St["aria-haspopup"]=i["aria-haspopup"],St["aria-owns"]=i["aria-owns"],St["aria-expanded"]=i["aria-expanded"]),St}),u=le(()=>[r.type==="textarea"?E.b():M.b(),M.m(b.value),M.is("disabled",T.value),M.is("exceed",Ye.value),{[M.b("group")]:o.prepend||o.append,[M.m("prefix")]:o.prefix||r.prefixIcon,[M.m("suffix")]:o.suffix||r.suffixIcon||r.clearable||r.showPassword,[M.bm("suffix","password-clear")]:_e.value&&xe.value,[M.b("hidden")]:r.type==="hidden"},i.class]),a=le(()=>[M.e("wrapper"),M.is("focus",ie.value)]),h=TL({excludeKeys:le(()=>Object.keys(s.value))}),{form:m,formItem:v}=Cs(),{inputId:_}=xc(r,{formItemContext:v}),b=lo(),T=Ss(),M=en("input"),E=en("textarea"),k=Ji(),z=Ji(),B=Te(!1),U=Te(!1),W=Te(),q=Ji(r.inputStyle),Q=le(()=>k.value||z.value),{wrapperRef:te,isFocused:ie,handleFocus:ae,handleBlur:re}=vw(Q,{beforeFocus(){return T.value},afterBlur(){var St;r.validateEvent&&((St=v==null?void 0:v.validate)==null||St.call(v,"blur").catch(Pn=>void 0))}}),se=le(()=>{var St;return(St=m==null?void 0:m.statusIcon)!=null?St:!1}),be=le(()=>(v==null?void 0:v.validateState)||""),Ie=le(()=>be.value&&CL[be.value]),Se=le(()=>U.value?Iq:gq),me=le(()=>[i.style]),Le=le(()=>[r.inputStyle,q.value,{resize:r.resize}]),Ee=le(()=>So(r.modelValue)?"":String(r.modelValue)),_e=le(()=>r.clearable&&!T.value&&!r.readonly&&!!Ee.value&&(ie.value||B.value)),xe=le(()=>r.showPassword&&!T.value&&!r.readonly&&!!Ee.value&&(!!Ee.value||ie.value)),Be=le(()=>r.showWordLimit&&!!r.maxlength&&(r.type==="text"||r.type==="textarea")&&!T.value&&!r.readonly&&!r.showPassword),Je=le(()=>Ee.value.length),Ye=le(()=>!!Be.value&&Je.value>Number(r.maxlength)),lt=le(()=>!!o.suffix||!!r.suffixIcon||_e.value||r.showPassword||Be.value||!!be.value&&se.value),[Nt,Dt]=D6e(k);ga(z,St=>{if(vt(),!Be.value||r.resize!=="both")return;const Pn=St[0],{width:rr}=Pn.contentRect;W.value={right:`calc(100% - ${rr+15+6}px)`}});const je=()=>{const{type:St,autosize:Pn}=r;if(!(!ri||St!=="textarea"||!z.value))if(Pn){const rr=Ar(Pn)?Pn.minRows:void 0,cr=Ar(Pn)?Pn.maxRows:void 0,sr=U7(z.value,rr,cr);q.value={overflowY:"hidden",...sr},Fn(()=>{z.value.offsetHeight,q.value=sr})}else q.value={minHeight:U7(z.value).minHeight}},vt=(St=>{let Pn=!1;return()=>{var rr;if(Pn||!r.autosize)return;((rr=z.value)==null?void 0:rr.offsetParent)===null||(St(),Pn=!0)}})(je),Vt=()=>{const St=Q.value,Pn=r.formatter?r.formatter(Ee.value):Ee.value;!St||St.value===Pn||(St.value=Pn)},Re=async St=>{Nt();let{value:Pn}=St.target;if(r.formatter&&(Pn=r.parser?r.parser(Pn):Pn),!Ne.value){if(Pn===Ee.value){Vt();return}n(Tr,Pn),n("input",Pn),await Fn(),Vt(),Dt()}},pt=St=>{n("change",St.target.value)},{isComposing:Ne,handleCompositionStart:et,handleCompositionUpdate:Ze,handleCompositionEnd:nn}=p8({emit:n,afterComposition:Re}),It=()=>{U.value=!U.value,Ft()},Ft=async()=>{var St;await Fn(),(St=Q.value)==null||St.focus()},zt=()=>{var St;return(St=Q.value)==null?void 0:St.blur()},tn=St=>{B.value=!1,n("mouseleave",St)},fn=St=>{B.value=!0,n("mouseenter",St)},hn=St=>{n("keydown",St)},Dn=()=>{var St;(St=Q.value)==null||St.select()},ln=()=>{n(Tr,""),n("change",""),n("clear"),n("input","")};return Wt(()=>r.modelValue,()=>{var St;Fn(()=>je()),r.validateEvent&&((St=v==null?void 0:v.validate)==null||St.call(v,"change").catch(Pn=>void 0))}),Wt(Ee,()=>Vt()),Wt(()=>r.type,async()=>{await Fn(),Vt(),je()}),br(()=>{!r.formatter&&r.parser,Vt(),Fn(je)}),t({input:k,textarea:z,ref:Q,textareaStyle:Le,autosize:Li(r,"autosize"),isComposing:Ne,focus:Ft,blur:zt,select:Dn,clear:ln,resizeTextarea:je}),(St,Pn)=>(X(),pe("div",Lr(A(s),{class:[A(u),{[A(M).bm("group","append")]:St.$slots.append,[A(M).bm("group","prepend")]:St.$slots.prepend}],style:A(me),role:St.containerRole,onMouseenter:fn,onMouseleave:tn}),[wt(" input "),St.type!=="textarea"?(X(),pe(Nn,{key:0},[wt(" prepend slot "),St.$slots.prepend?(X(),pe("div",{key:0,class:ye(A(M).be("group","prepend"))},[bt(St.$slots,"prepend")],2)):wt("v-if",!0),ue("div",{ref_key:"wrapperRef",ref:te,class:ye(A(a))},[wt(" prefix slot "),St.$slots.prefix||St.prefixIcon?(X(),pe("span",{key:0,class:ye(A(M).e("prefix"))},[ue("span",{class:ye(A(M).e("prefix-inner"))},[bt(St.$slots,"prefix"),St.prefixIcon?(X(),Rt(A(On),{key:0,class:ye(A(M).e("icon"))},{default:tt(()=>[(X(),Rt(kr(St.prefixIcon)))]),_:1},8,["class"])):wt("v-if",!0)],2)],2)):wt("v-if",!0),ue("input",Lr({id:A(_),ref_key:"input",ref:k,class:A(M).e("inner")},A(h),{minlength:St.minlength,maxlength:St.maxlength,type:St.showPassword?U.value?"text":"password":St.type,disabled:A(T),readonly:St.readonly,autocomplete:St.autocomplete,tabindex:St.tabindex,"aria-label":St.ariaLabel,placeholder:St.placeholder,style:St.inputStyle,form:St.form,autofocus:St.autofocus,onCompositionstart:A(et),onCompositionupdate:A(Ze),onCompositionend:A(nn),onInput:Re,onChange:pt,onKeydown:hn}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","onCompositionstart","onCompositionupdate","onCompositionend"]),wt(" suffix slot "),A(lt)?(X(),pe("span",{key:1,class:ye(A(M).e("suffix"))},[ue("span",{class:ye(A(M).e("suffix-inner"))},[!A(_e)||!A(xe)||!A(Be)?(X(),pe(Nn,{key:0},[bt(St.$slots,"suffix"),St.suffixIcon?(X(),Rt(A(On),{key:0,class:ye(A(M).e("icon"))},{default:tt(()=>[(X(),Rt(kr(St.suffixIcon)))]),_:1},8,["class"])):wt("v-if",!0)],64)):wt("v-if",!0),A(_e)?(X(),Rt(A(On),{key:1,class:ye([A(M).e("icon"),A(M).e("clear")]),onMousedown:er(A(Gi),["prevent"]),onClick:ln},{default:tt(()=>[Fe(A(yh))]),_:1},8,["class","onMousedown"])):wt("v-if",!0),A(xe)?(X(),Rt(A(On),{key:2,class:ye([A(M).e("icon"),A(M).e("password")]),onClick:It},{default:tt(()=>[(X(),Rt(kr(A(Se))))]),_:1},8,["class"])):wt("v-if",!0),A(Be)?(X(),pe("span",{key:3,class:ye(A(M).e("count"))},[ue("span",{class:ye(A(M).e("count-inner"))},pn(A(Je))+" / "+pn(St.maxlength),3)],2)):wt("v-if",!0),A(be)&&A(Ie)&&A(se)?(X(),Rt(A(On),{key:4,class:ye([A(M).e("icon"),A(M).e("validateIcon"),A(M).is("loading",A(be)==="validating")])},{default:tt(()=>[(X(),Rt(kr(A(Ie))))]),_:1},8,["class"])):wt("v-if",!0)],2)],2)):wt("v-if",!0)],2),wt(" append slot "),St.$slots.append?(X(),pe("div",{key:1,class:ye(A(M).be("group","append"))},[bt(St.$slots,"append")],2)):wt("v-if",!0)],64)):(X(),pe(Nn,{key:1},[wt(" textarea "),ue("textarea",Lr({id:A(_),ref_key:"textarea",ref:z,class:[A(E).e("inner"),A(M).is("focus",A(ie))]},A(h),{minlength:St.minlength,maxlength:St.maxlength,tabindex:St.tabindex,disabled:A(T),readonly:St.readonly,autocomplete:St.autocomplete,style:A(Le),"aria-label":St.ariaLabel,placeholder:St.placeholder,form:St.form,autofocus:St.autofocus,rows:St.rows,onCompositionstart:A(et),onCompositionupdate:A(Ze),onCompositionend:A(nn),onInput:Re,onFocus:A(ae),onBlur:A(re),onChange:pt,onKeydown:hn}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),A(Be)?(X(),pe("span",{key:0,style:Vn(W.value),class:ye(A(M).e("count"))},pn(A(Je))+" / "+pn(St.maxlength),7)):wt("v-if",!0)],64))],16,["role"]))}});var sSe=mn(oSe,[["__file","input.vue"]]);const _s=pr(sSe),Yv=4,gK={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},lSe=({move:e,size:t,bar:n})=>({[n.size]:t,transform:`translate${n.axis}(${e}%)`}),qL=Symbol("scrollbarContextKey"),uSe=un({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),cSe="Thumb",dSe=ge({__name:"thumb",props:uSe,setup(e){const t=e,n=An(qL),r=en("scrollbar");n||vo(cSe,"can not inject scrollbar context");const i=Te(),o=Te(),s=Te({}),u=Te(!1);let a=!1,h=!1,m=ri?document.onselectstart:null;const v=le(()=>gK[t.vertical?"vertical":"horizontal"]),_=le(()=>lSe({size:t.size,move:t.move,bar:v.value})),b=le(()=>i.value[v.value.offset]**2/n.wrapElement[v.value.scrollSize]/t.ratio/o.value[v.value.offset]),T=q=>{var Q;if(q.stopPropagation(),q.ctrlKey||[1,2].includes(q.button))return;(Q=window.getSelection())==null||Q.removeAllRanges(),E(q);const te=q.currentTarget;te&&(s.value[v.value.axis]=te[v.value.offset]-(q[v.value.client]-te.getBoundingClientRect()[v.value.direction]))},M=q=>{if(!o.value||!i.value||!n.wrapElement)return;const Q=Math.abs(q.target.getBoundingClientRect()[v.value.direction]-q[v.value.client]),te=o.value[v.value.offset]/2,ie=(Q-te)*100*b.value/i.value[v.value.offset];n.wrapElement[v.value.scroll]=ie*n.wrapElement[v.value.scrollSize]/100},E=q=>{q.stopImmediatePropagation(),a=!0,document.addEventListener("mousemove",k),document.addEventListener("mouseup",z),m=document.onselectstart,document.onselectstart=()=>!1},k=q=>{if(!i.value||!o.value||a===!1)return;const Q=s.value[v.value.axis];if(!Q)return;const te=(i.value.getBoundingClientRect()[v.value.direction]-q[v.value.client])*-1,ie=o.value[v.value.offset]-Q,ae=(te-ie)*100*b.value/i.value[v.value.offset];n.wrapElement[v.value.scroll]=ae*n.wrapElement[v.value.scrollSize]/100},z=()=>{a=!1,s.value[v.value.axis]=0,document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",z),W(),h&&(u.value=!1)},B=()=>{h=!1,u.value=!!t.size},U=()=>{h=!0,u.value=a};Di(()=>{W(),document.removeEventListener("mouseup",z)});const W=()=>{document.onselectstart!==m&&(document.onselectstart=m)};return Fi(Li(n,"scrollbarElement"),"mousemove",B),Fi(Li(n,"scrollbarElement"),"mouseleave",U),(q,Q)=>(X(),Rt(Lo,{name:A(r).b("fade"),persisted:""},{default:tt(()=>[yr(ue("div",{ref_key:"instance",ref:i,class:ye([A(r).e("bar"),A(r).is(A(v).key)]),onMousedown:M},[ue("div",{ref_key:"thumb",ref:o,class:ye(A(r).e("thumb")),style:Vn(A(_)),onMousedown:T},null,38)],34),[[vi,q.always||u.value]])]),_:1},8,["name"]))}});var j7=mn(dSe,[["__file","thumb.vue"]]);const hSe=un({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),fSe=ge({__name:"bar",props:hSe,setup(e,{expose:t}){const n=e,r=An(qL),i=Te(0),o=Te(0),s=Te(""),u=Te(""),a=Te(1),h=Te(1);return t({handleScroll:_=>{if(_){const b=_.offsetHeight-Yv,T=_.offsetWidth-Yv;o.value=_.scrollTop*100/b*a.value,i.value=_.scrollLeft*100/T*h.value}},update:()=>{const _=r==null?void 0:r.wrapElement;if(!_)return;const b=_.offsetHeight-Yv,T=_.offsetWidth-Yv,M=b**2/_.scrollHeight,E=T**2/_.scrollWidth,k=Math.max(M,n.minSize),z=Math.max(E,n.minSize);a.value=M/(b-M)/(k/(b-k)),h.value=E/(T-E)/(z/(T-z)),u.value=k+Yv<b?`${k}px`:"",s.value=z+Yv<T?`${z}px`:""}}),(_,b)=>(X(),pe(Nn,null,[Fe(j7,{move:i.value,ratio:h.value,size:s.value,always:_.always},null,8,["move","ratio","size","always"]),Fe(j7,{move:o.value,ratio:a.value,size:u.value,vertical:"",always:_.always},null,8,["move","ratio","size","always"])],64))}});var pSe=mn(fSe,[["__file","bar.vue"]]);const mSe=un({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:dt([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...Uo(["ariaLabel","ariaOrientation"])}),vSe={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(Jn)},gSe="ElScrollbar",_Se=ge({name:gSe}),ySe=ge({..._Se,props:mSe,emits:vSe,setup(e,{expose:t,emit:n}){const r=e,i=en("scrollbar");let o,s,u=0,a=0;const h=Te(),m=Te(),v=Te(),_=Te(),b=le(()=>{const W={};return r.height&&(W.height=Ua(r.height)),r.maxHeight&&(W.maxHeight=Ua(r.maxHeight)),[r.wrapStyle,W]}),T=le(()=>[r.wrapClass,i.e("wrap"),{[i.em("wrap","hidden-default")]:!r.native}]),M=le(()=>[i.e("view"),r.viewClass]),E=()=>{var W;m.value&&((W=_.value)==null||W.handleScroll(m.value),u=m.value.scrollTop,a=m.value.scrollLeft,n("scroll",{scrollTop:m.value.scrollTop,scrollLeft:m.value.scrollLeft}))};function k(W,q){Ar(W)?m.value.scrollTo(W):Jn(W)&&Jn(q)&&m.value.scrollTo(W,q)}const z=W=>{Jn(W)&&(m.value.scrollTop=W)},B=W=>{Jn(W)&&(m.value.scrollLeft=W)},U=()=>{var W;(W=_.value)==null||W.update()};return Wt(()=>r.noresize,W=>{W?(o==null||o(),s==null||s()):({stop:o}=ga(v,U),s=Fi("resize",U))},{immediate:!0}),Wt(()=>[r.maxHeight,r.height],()=>{r.native||Fn(()=>{var W;U(),m.value&&((W=_.value)==null||W.handleScroll(m.value))})}),Rr(qL,Ci({scrollbarElement:h,wrapElement:m})),BP(()=>{m.value&&(m.value.scrollTop=u,m.value.scrollLeft=a)}),br(()=>{r.native||Fn(()=>{U()})}),ud(()=>U()),t({wrapRef:m,update:U,scrollTo:k,setScrollTop:z,setScrollLeft:B,handleScroll:E}),(W,q)=>(X(),pe("div",{ref_key:"scrollbarRef",ref:h,class:ye(A(i).b())},[ue("div",{ref_key:"wrapRef",ref:m,class:ye(A(T)),style:Vn(A(b)),tabindex:W.tabindex,onScroll:E},[(X(),Rt(kr(W.tag),{id:W.id,ref_key:"resizeRef",ref:v,class:ye(A(M)),style:Vn(W.viewStyle),role:W.role,"aria-label":W.ariaLabel,"aria-orientation":W.ariaOrientation},{default:tt(()=>[bt(W.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),W.native?wt("v-if",!0):(X(),Rt(pSe,{key:0,ref_key:"barRef",ref:_,always:W.always,"min-size":W.minSize},null,8,["always","min-size"]))],2))}});var bSe=mn(ySe,[["__file","scrollbar.vue"]]);const fd=pr(bSe),KL=Symbol("popper"),_K=Symbol("popperContent"),xSe=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],yK=un({role:{type:String,values:xSe,default:"tooltip"}}),wSe=ge({name:"ElPopper",inheritAttrs:!1}),SSe=ge({...wSe,props:yK,setup(e,{expose:t}){const n=e,r=Te(),i=Te(),o=Te(),s=Te(),u=le(()=>n.role),a={triggerRef:r,popperInstanceRef:i,contentRef:o,referenceRef:s,role:u};return t(a),Rr(KL,a),(h,m)=>bt(h.$slots,"default")}});var CSe=mn(SSe,[["__file","popper.vue"]]);const bK=un({arrowOffset:{type:Number,default:5}}),TSe=ge({name:"ElPopperArrow",inheritAttrs:!1}),MSe=ge({...TSe,props:bK,setup(e,{expose:t}){const n=e,r=en("popper"),{arrowOffset:i,arrowRef:o,arrowStyle:s}=An(_K,void 0);return Wt(()=>n.arrowOffset,u=>{i.value=u}),Di(()=>{o.value=void 0}),t({arrowRef:o}),(u,a)=>(X(),pe("span",{ref_key:"arrowRef",ref:o,class:ye(A(r).e("arrow")),style:Vn(A(s)),"data-popper-arrow":""},null,6))}});var ESe=mn(MSe,[["__file","arrow.vue"]]);const ASe="ElOnlyChild",xK=ge({name:ASe,setup(e,{slots:t,attrs:n}){var r;const i=An(Zq),o=Z4e((r=i==null?void 0:i.setForwardRef)!=null?r:Gi);return()=>{var s;const u=(s=t.default)==null?void 0:s.call(t,n);if(!u||u.length>1)return null;const a=wK(u);return a?yr(oh(a,n),[[o]]):null}}});function wK(e){if(!e)return null;const t=e;for(const n of t){if(Ar(n))switch(n.type){case Io:continue;case E_:case"svg":return G7(n);case Nn:return wK(n.children);default:return n}return G7(n)}return null}function G7(e){const t=en("only-child");return Fe("span",{class:t.e("content")},[e])}const SK=un({virtualRef:{type:dt(Object)},virtualTriggering:Boolean,onMouseenter:{type:dt(Function)},onMouseleave:{type:dt(Function)},onClick:{type:dt(Function)},onKeydown:{type:dt(Function)},onFocus:{type:dt(Function)},onBlur:{type:dt(Function)},onContextmenu:{type:dt(Function)},id:String,open:Boolean}),ISe=ge({name:"ElPopperTrigger",inheritAttrs:!1}),kSe=ge({...ISe,props:SK,setup(e,{expose:t}){const n=e,{role:r,triggerRef:i}=An(KL,void 0);Y4e(i);const o=le(()=>u.value?n.id:void 0),s=le(()=>{if(r&&r.value==="tooltip")return n.open&&n.id?n.id:void 0}),u=le(()=>{if(r&&r.value!=="tooltip")return r.value}),a=le(()=>u.value?`${n.open}`:void 0);let h;const m=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return br(()=>{Wt(()=>n.virtualRef,v=>{v&&(i.value=sl(v))},{immediate:!0}),Wt(i,(v,_)=>{h==null||h(),h=void 0,Fl(v)&&(m.forEach(b=>{var T;const M=n[b];M&&(v.addEventListener(b.slice(2).toLowerCase(),M),(T=_==null?void 0:_.removeEventListener)==null||T.call(_,b.slice(2).toLowerCase(),M))}),h=Wt([o,s,u,a],b=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((T,M)=>{So(b[M])?v.removeAttribute(T):v.setAttribute(T,b[M])})},{immediate:!0})),Fl(_)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(b=>_.removeAttribute(b))},{immediate:!0})}),Di(()=>{if(h==null||h(),h=void 0,i.value&&Fl(i.value)){const v=i.value;m.forEach(_=>{const b=n[_];b&&v.removeEventListener(_.slice(2).toLowerCase(),b)}),i.value=void 0}}),t({triggerRef:i}),(v,_)=>v.virtualTriggering?wt("v-if",!0):(X(),Rt(A(xK),Lr({key:0},v.$attrs,{"aria-controls":A(o),"aria-describedby":A(s),"aria-expanded":A(a),"aria-haspopup":A(u)}),{default:tt(()=>[bt(v.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var PSe=mn(kSe,[["__file","trigger.vue"]]);const M5="focus-trap.focus-after-trapped",E5="focus-trap.focus-after-released",LSe="focus-trap.focusout-prevented",W7={cancelable:!0,bubbles:!1},RSe={cancelable:!0,bubbles:!1},q7="focusAfterTrapped",K7="focusAfterReleased",YL=Symbol("elFocusTrap"),ZL=Te(),_8=Te(0),XL=Te(0);let k6=0;const CK=e=>{const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t},Y7=(e,t)=>{for(const n of e)if(!DSe(n,t))return n},DSe=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},OSe=e=>{const t=CK(e),n=Y7(t,e),r=Y7(t.reverse(),e);return[n,r]},zSe=e=>e instanceof HTMLInputElement&&"select"in e,Lf=(e,t)=>{if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),XL.value=window.performance.now(),e!==n&&zSe(e)&&t&&e.select()}};function Z7(e,t){const n=[...e],r=e.indexOf(t);return r!==-1&&n.splice(r,1),n}const BSe=()=>{let e=[];return{push:r=>{const i=e[0];i&&r!==i&&i.pause(),e=Z7(e,r),e.unshift(r)},remove:r=>{var i,o;e=Z7(e,r),(o=(i=e[0])==null?void 0:i.resume)==null||o.call(i)}}},FSe=(e,t=!1)=>{const n=document.activeElement;for(const r of e)if(Lf(r,t),document.activeElement!==n)return},X7=BSe(),NSe=()=>_8.value>XL.value,P6=()=>{ZL.value="pointer",_8.value=window.performance.now()},J7=()=>{ZL.value="keyboard",_8.value=window.performance.now()},$Se=()=>(br(()=>{k6===0&&(document.addEventListener("mousedown",P6),document.addEventListener("touchstart",P6),document.addEventListener("keydown",J7)),k6++}),Di(()=>{k6--,k6<=0&&(document.removeEventListener("mousedown",P6),document.removeEventListener("touchstart",P6),document.removeEventListener("keydown",J7))}),{focusReason:ZL,lastUserFocusTimestamp:_8,lastAutomatedFocusTimestamp:XL}),L6=e=>new CustomEvent(LSe,{...RSe,detail:e}),VSe=ge({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[q7,K7,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const n=Te();let r,i;const{focusReason:o}=$Se();j4e(T=>{e.trapped&&!s.paused&&t("release-requested",T)});const s={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},u=T=>{if(!e.loop&&!e.trapped||s.paused)return;const{key:M,altKey:E,ctrlKey:k,metaKey:z,currentTarget:B,shiftKey:U}=T,{loop:W}=e,q=M===Kn.tab&&!E&&!k&&!z,Q=document.activeElement;if(q&&Q){const te=B,[ie,ae]=OSe(te);if(ie&&ae){if(!U&&Q===ae){const se=L6({focusReason:o.value});t("focusout-prevented",se),se.defaultPrevented||(T.preventDefault(),W&&Lf(ie,!0))}else if(U&&[ie,te].includes(Q)){const se=L6({focusReason:o.value});t("focusout-prevented",se),se.defaultPrevented||(T.preventDefault(),W&&Lf(ae,!0))}}else if(Q===te){const se=L6({focusReason:o.value});t("focusout-prevented",se),se.defaultPrevented||T.preventDefault()}}};Rr(YL,{focusTrapRef:n,onKeydown:u}),Wt(()=>e.focusTrapEl,T=>{T&&(n.value=T)},{immediate:!0}),Wt([n],([T],[M])=>{T&&(T.addEventListener("keydown",u),T.addEventListener("focusin",m),T.addEventListener("focusout",v)),M&&(M.removeEventListener("keydown",u),M.removeEventListener("focusin",m),M.removeEventListener("focusout",v))});const a=T=>{t(q7,T)},h=T=>t(K7,T),m=T=>{const M=A(n);if(!M)return;const E=T.target,k=T.relatedTarget,z=E&&M.contains(E);e.trapped||k&&M.contains(k)||(r=k),z&&t("focusin",T),!s.paused&&e.trapped&&(z?i=E:Lf(i,!0))},v=T=>{const M=A(n);if(!(s.paused||!M))if(e.trapped){const E=T.relatedTarget;!So(E)&&!M.contains(E)&&setTimeout(()=>{if(!s.paused&&e.trapped){const k=L6({focusReason:o.value});t("focusout-prevented",k),k.defaultPrevented||Lf(i,!0)}},0)}else{const E=T.target;E&&M.contains(E)||t("focusout",T)}};async function _(){await Fn();const T=A(n);if(T){X7.push(s);const M=T.contains(document.activeElement)?r:document.activeElement;if(r=M,!T.contains(M)){const k=new Event(M5,W7);T.addEventListener(M5,a),T.dispatchEvent(k),k.defaultPrevented||Fn(()=>{let z=e.focusStartEl;Qn(z)||(Lf(z),document.activeElement!==z&&(z="first")),z==="first"&&FSe(CK(T),!0),(document.activeElement===M||z==="container")&&Lf(T)})}}}function b(){const T=A(n);if(T){T.removeEventListener(M5,a);const M=new CustomEvent(E5,{...W7,detail:{focusReason:o.value}});T.addEventListener(E5,h),T.dispatchEvent(M),!M.defaultPrevented&&(o.value=="keyboard"||!NSe()||T.contains(document.activeElement))&&Lf(r??document.body),T.removeEventListener(E5,h),X7.remove(s)}}return br(()=>{e.trapped&&_(),Wt(()=>e.trapped,T=>{T?_():b()})}),Di(()=>{e.trapped&&b(),n.value&&(n.value.removeEventListener("keydown",u),n.value.removeEventListener("focusin",m),n.value.removeEventListener("focusout",v),n.value=void 0)}),{onKeydown:u}}});function HSe(e,t,n,r,i,o){return bt(e.$slots,"default",{handleKeydown:e.onKeydown})}var _w=mn(VSe,[["render",HSe],["__file","focus-trap.vue"]]);const USe=["fixed","absolute"],jSe=un({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:dt(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:bh,default:"bottom"},popperOptions:{type:dt(Object),default:()=>({})},strategy:{type:String,values:USe,default:"absolute"}}),TK=un({...jSe,id:String,style:{type:dt([String,Array,Object])},className:{type:dt([String,Array,Object])},effect:{type:dt(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:dt([String,Array,Object])},popperStyle:{type:dt([String,Array,Object])},referenceEl:{type:dt(Object)},triggerTargetEl:{type:dt(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...Uo(["ariaLabel"])}),GSe={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},WSe=(e,t=[])=>{const{placement:n,strategy:r,popperOptions:i}=e,o={placement:n,strategy:r,...i,modifiers:[...KSe(e),...t]};return YSe(o,i==null?void 0:i.modifiers),o},qSe=e=>{if(ri)return sl(e)};function KSe(e){const{offset:t,gpuAcceleration:n,fallbackPlacements:r}=e;return[{name:"offset",options:{offset:[0,t??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function YSe(e,t){t&&(e.modifiers=[...e.modifiers,...t??[]])}const ZSe=0,XSe=e=>{const{popperInstanceRef:t,contentRef:n,triggerRef:r,role:i}=An(KL,void 0),o=Te(),s=Te(),u=le(()=>({name:"eventListeners",enabled:!!e.visible})),a=le(()=>{var k;const z=A(o),B=(k=A(s))!=null?k:ZSe;return{name:"arrow",enabled:!oq(z),options:{element:z,padding:B}}}),h=le(()=>({onFirstUpdate:()=>{T()},...WSe(e,[A(a),A(u)])})),m=le(()=>qSe(e.referenceEl)||A(r)),{attributes:v,state:_,styles:b,update:T,forceUpdate:M,instanceRef:E}=$4e(m,n,h);return Wt(E,k=>t.value=k),br(()=>{Wt(()=>{var k;return(k=A(m))==null?void 0:k.getBoundingClientRect()},()=>{T()})}),{attributes:v,arrowRef:o,contentRef:n,instanceRef:E,state:_,styles:b,role:i,forceUpdate:M,update:T}},JSe=(e,{attributes:t,styles:n,role:r})=>{const{nextZIndex:i}=R_(),o=en("popper"),s=le(()=>A(t).popper),u=Te(Jn(e.zIndex)?e.zIndex:i()),a=le(()=>[o.b(),o.is("pure",e.pure),o.is(e.effect),e.popperClass]),h=le(()=>[{zIndex:A(u)},A(n).popper,e.popperStyle||{}]),m=le(()=>r.value==="dialog"?"false":void 0),v=le(()=>A(n).arrow||{});return{ariaModal:m,arrowStyle:v,contentAttrs:s,contentClass:a,contentStyle:h,contentZIndex:u,updateZIndex:()=>{u.value=Jn(e.zIndex)?e.zIndex:i()}}},QSe=(e,t)=>{const n=Te(!1),r=Te();return{focusStartRef:r,trapped:n,onFocusAfterReleased:h=>{var m;((m=h.detail)==null?void 0:m.focusReason)!=="pointer"&&(r.value="first",t("blur"))},onFocusAfterTrapped:()=>{t("focus")},onFocusInTrap:h=>{e.visible&&!n.value&&(h.target&&(r.value=h.target),n.value=!0)},onFocusoutPrevented:h=>{e.trapping||(h.detail.focusReason==="pointer"&&h.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,t("close")}}},eCe=ge({name:"ElPopperContent"}),tCe=ge({...eCe,props:TK,emits:GSe,setup(e,{expose:t,emit:n}){const r=e,{focusStartRef:i,trapped:o,onFocusAfterReleased:s,onFocusAfterTrapped:u,onFocusInTrap:a,onFocusoutPrevented:h,onReleaseRequested:m}=QSe(r,n),{attributes:v,arrowRef:_,contentRef:b,styles:T,instanceRef:M,role:E,update:k}=XSe(r),{ariaModal:z,arrowStyle:B,contentAttrs:U,contentClass:W,contentStyle:q,updateZIndex:Q}=JSe(r,{styles:T,attributes:v,role:E}),te=An(od,void 0),ie=Te();Rr(_K,{arrowStyle:B,arrowRef:_,arrowOffset:ie}),te&&Rr(od,{...te,addInputId:Gi,removeInputId:Gi});let ae;const re=(be=!0)=>{k(),be&&Q()},se=()=>{re(!1),r.visible&&r.focusOnShow?o.value=!0:r.visible===!1&&(o.value=!1)};return br(()=>{Wt(()=>r.triggerTargetEl,(be,Ie)=>{ae==null||ae(),ae=void 0;const Se=A(be||b.value),me=A(Ie||b.value);Fl(Se)&&(ae=Wt([E,()=>r.ariaLabel,z,()=>r.id],Le=>{["role","aria-label","aria-modal","id"].forEach((Ee,_e)=>{So(Le[_e])?Se.removeAttribute(Ee):Se.setAttribute(Ee,Le[_e])})},{immediate:!0})),me!==Se&&Fl(me)&&["role","aria-label","aria-modal","id"].forEach(Le=>{me.removeAttribute(Le)})},{immediate:!0}),Wt(()=>r.visible,se,{immediate:!0})}),Di(()=>{ae==null||ae(),ae=void 0}),t({popperContentRef:b,popperInstanceRef:M,updatePopper:re,contentStyle:q}),(be,Ie)=>(X(),pe("div",Lr({ref_key:"contentRef",ref:b},A(U),{style:A(q),class:A(W),tabindex:"-1",onMouseenter:Se=>be.$emit("mouseenter",Se),onMouseleave:Se=>be.$emit("mouseleave",Se)}),[Fe(A(_w),{trapped:A(o),"trap-on-focus-in":!0,"focus-trap-el":A(b),"focus-start-el":A(i),onFocusAfterTrapped:A(u),onFocusAfterReleased:A(s),onFocusin:A(a),onFocusoutPrevented:A(h),onReleaseRequested:A(m)},{default:tt(()=>[bt(be.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16,["onMouseenter","onMouseleave"]))}});var nCe=mn(tCe,[["__file","content.vue"]]);const MK=pr(CSe),y8=Symbol("elTooltip"),Ao=un({...q4e,...TK,appendTo:{type:dt([String,Object])},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:dt(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...Uo(["ariaLabel"])}),Sx=un({...SK,disabled:Boolean,trigger:{type:dt([String,Array]),default:"hover"},triggerKeys:{type:dt(Array),default:()=>[Kn.enter,Kn.space]}}),{useModelToggleProps:rCe,useModelToggleEmits:iCe,useModelToggle:aCe}=Bwe("visible"),oCe=un({...yK,...rCe,...Ao,...Sx,...bK,showArrow:{type:Boolean,default:!0}}),sCe=[...iCe,"before-show","before-hide","show","hide","open","close"],lCe=(e,t)=>Tn(e)?e.includes(t):e===t,Zv=(e,t,n)=>r=>{lCe(A(e),t)&&n(r)},uCe=ge({name:"ElTooltipTrigger"}),cCe=ge({...uCe,props:Sx,setup(e,{expose:t}){const n=e,r=en("tooltip"),{controlled:i,id:o,open:s,onOpen:u,onClose:a,onToggle:h}=An(y8,void 0),m=Te(null),v=()=>{if(A(i)||n.disabled)return!0},_=Li(n,"trigger"),b=Ha(v,Zv(_,"hover",u)),T=Ha(v,Zv(_,"hover",a)),M=Ha(v,Zv(_,"click",U=>{U.button===0&&h(U)})),E=Ha(v,Zv(_,"focus",u)),k=Ha(v,Zv(_,"focus",a)),z=Ha(v,Zv(_,"contextmenu",U=>{U.preventDefault(),h(U)})),B=Ha(v,U=>{const{code:W}=U;n.triggerKeys.includes(W)&&(U.preventDefault(),h(U))});return t({triggerRef:m}),(U,W)=>(X(),Rt(A(PSe),{id:A(o),"virtual-ref":U.virtualRef,open:A(s),"virtual-triggering":U.virtualTriggering,class:ye(A(r).e("trigger")),onBlur:A(k),onClick:A(M),onContextmenu:A(z),onFocus:A(E),onMouseenter:A(b),onMouseleave:A(T),onKeydown:A(B)},{default:tt(()=>[bt(U.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var dCe=mn(cCe,[["__file","trigger.vue"]]);const hCe=un({to:{type:dt([String,Object]),required:!0},disabled:Boolean}),fCe=ge({__name:"teleport",props:hCe,setup(e){return(t,n)=>t.disabled?bt(t.$slots,"default",{key:0}):(X(),Rt(OP,{key:1,to:t.to},[bt(t.$slots,"default")],8,["to"]))}});var pCe=mn(fCe,[["__file","teleport.vue"]]);const z_=pr(pCe),mCe=ge({name:"ElTooltipContent",inheritAttrs:!1}),vCe=ge({...mCe,props:Ao,setup(e,{expose:t}){const n=e,{selector:r}=Yq(),i=en("tooltip"),o=Te(null);let s;const{controlled:u,id:a,open:h,trigger:m,onClose:v,onOpen:_,onShow:b,onHide:T,onBeforeShow:M,onBeforeHide:E}=An(y8,void 0),k=le(()=>n.transition||`${i.namespace.value}-fade-in-linear`),z=le(()=>n.persistent);Di(()=>{s==null||s()});const B=le(()=>A(z)?!0:A(h)),U=le(()=>n.disabled?!1:A(h)),W=le(()=>n.appendTo||r.value),q=le(()=>{var me;return(me=n.style)!=null?me:{}}),Q=Te(!0),te=()=>{T(),Q.value=!0},ie=()=>{if(A(u))return!0},ae=Ha(ie,()=>{n.enterable&&A(m)==="hover"&&_()}),re=Ha(ie,()=>{A(m)==="hover"&&v()}),se=()=>{var me,Le;(Le=(me=o.value)==null?void 0:me.updatePopper)==null||Le.call(me),M==null||M()},be=()=>{E==null||E()},Ie=()=>{b(),s=ZP(le(()=>{var me;return(me=o.value)==null?void 0:me.popperContentRef}),()=>{if(A(u))return;A(m)!=="hover"&&v()})},Se=()=>{n.virtualTriggering||v()};return Wt(()=>A(h),me=>{me?Q.value=!1:s==null||s()},{flush:"post"}),Wt(()=>n.content,()=>{var me,Le;(Le=(me=o.value)==null?void 0:me.updatePopper)==null||Le.call(me)}),t({contentRef:o}),(me,Le)=>(X(),Rt(A(z_),{disabled:!me.teleported,to:A(W)},{default:tt(()=>[Fe(Lo,{name:A(k),onAfterLeave:te,onBeforeEnter:se,onAfterEnter:Ie,onBeforeLeave:be},{default:tt(()=>[A(B)?yr((X(),Rt(A(nCe),Lr({key:0,id:A(a),ref_key:"contentRef",ref:o},me.$attrs,{"aria-label":me.ariaLabel,"aria-hidden":Q.value,"boundaries-padding":me.boundariesPadding,"fallback-placements":me.fallbackPlacements,"gpu-acceleration":me.gpuAcceleration,offset:me.offset,placement:me.placement,"popper-options":me.popperOptions,strategy:me.strategy,effect:me.effect,enterable:me.enterable,pure:me.pure,"popper-class":me.popperClass,"popper-style":[me.popperStyle,A(q)],"reference-el":me.referenceEl,"trigger-target-el":me.triggerTargetEl,visible:A(U),"z-index":me.zIndex,onMouseenter:A(ae),onMouseleave:A(re),onBlur:Se,onClose:A(v)}),{default:tt(()=>[bt(me.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[vi,A(U)]]):wt("v-if",!0)]),_:3},8,["name"])]),_:3},8,["disabled","to"]))}});var gCe=mn(vCe,[["__file","content.vue"]]);const _Ce=ge({name:"ElTooltip"}),yCe=ge({..._Ce,props:oCe,emits:sCe,setup(e,{expose:t,emit:n}){const r=e;W4e();const i=Ho(),o=Te(),s=Te(),u=()=>{var k;const z=A(o);z&&((k=z.popperInstanceRef)==null||k.update())},a=Te(!1),h=Te(),{show:m,hide:v,hasUpdateHandler:_}=aCe({indicator:a,toggleReason:h}),{onOpen:b,onClose:T}=K4e({showAfter:Li(r,"showAfter"),hideAfter:Li(r,"hideAfter"),autoClose:Li(r,"autoClose"),open:m,close:v}),M=le(()=>za(r.visible)&&!_.value);Rr(y8,{controlled:M,id:i,open:T_(a),trigger:Li(r,"trigger"),onOpen:k=>{b(k)},onClose:k=>{T(k)},onToggle:k=>{A(a)?T(k):b(k)},onShow:()=>{n("show",h.value)},onHide:()=>{n("hide",h.value)},onBeforeShow:()=>{n("before-show",h.value)},onBeforeHide:()=>{n("before-hide",h.value)},updatePopper:u}),Wt(()=>r.disabled,k=>{k&&a.value&&(a.value=!1)});const E=k=>{var z,B;const U=(B=(z=s.value)==null?void 0:z.contentRef)==null?void 0:B.popperContentRef,W=(k==null?void 0:k.relatedTarget)||document.activeElement;return U&&U.contains(W)};return vG(()=>a.value&&v()),t({popperRef:o,contentRef:s,isFocusInsideContent:E,updatePopper:u,onOpen:b,onClose:T,hide:v}),(k,z)=>(X(),Rt(A(MK),{ref_key:"popperRef",ref:o,role:k.role},{default:tt(()=>[Fe(dCe,{disabled:k.disabled,trigger:k.trigger,"trigger-keys":k.triggerKeys,"virtual-ref":k.virtualRef,"virtual-triggering":k.virtualTriggering},{default:tt(()=>[k.$slots.default?bt(k.$slots,"default",{key:0}):wt("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),Fe(gCe,{ref_key:"contentRef",ref:s,"aria-label":k.ariaLabel,"boundaries-padding":k.boundariesPadding,content:k.content,disabled:k.disabled,effect:k.effect,enterable:k.enterable,"fallback-placements":k.fallbackPlacements,"hide-after":k.hideAfter,"gpu-acceleration":k.gpuAcceleration,offset:k.offset,persistent:k.persistent,"popper-class":k.popperClass,"popper-style":k.popperStyle,placement:k.placement,"popper-options":k.popperOptions,pure:k.pure,"raw-content":k.rawContent,"reference-el":k.referenceEl,"trigger-target-el":k.triggerTargetEl,"show-after":k.showAfter,strategy:k.strategy,teleported:k.teleported,transition:k.transition,"virtual-triggering":k.virtualTriggering,"z-index":k.zIndex,"append-to":k.appendTo},{default:tt(()=>[bt(k.$slots,"content",{},()=>[k.rawContent?(X(),pe("span",{key:0,innerHTML:k.content},null,8,["innerHTML"])):(X(),pe("span",{key:1},pn(k.content),1))]),k.showArrow?(X(),Rt(A(ESe),{key:0,"arrow-offset":k.arrowOffset},null,8,["arrow-offset"])):wt("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var bCe=mn(yCe,[["__file","tooltip.vue"]]);const ns=pr(bCe),xCe=un({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:dt(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:dt([Function,Array]),default:Gi},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},teleported:Ao.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String,...Uo(["ariaLabel"])}),wCe={[Tr]:e=>Qn(e),[Hs]:e=>Qn(e),[sa]:e=>Qn(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,select:e=>Ar(e)},EK="ElAutocomplete",SCe=ge({name:EK,inheritAttrs:!1}),CCe=ge({...SCe,props:xCe,emits:wCe,setup(e,{expose:t,emit:n}){const r=e,i=TL(),o=jl(),s=Ss(),u=en("autocomplete"),a=Te(),h=Te(),m=Te(),v=Te();let _=!1,b=!1;const T=Te([]),M=Te(-1),E=Te(""),k=Te(!1),z=Te(!1),B=Te(!1),U=Ho(),W=le(()=>o.style),q=le(()=>(T.value.length>0||B.value)&&k.value),Q=le(()=>!r.hideLoading&&B.value),te=le(()=>a.value?Array.from(a.value.$el.querySelectorAll("input")):[]),ie=()=>{q.value&&(E.value=`${a.value.$el.offsetWidth}px`)},ae=()=>{M.value=-1},re=async je=>{if(z.value)return;const Ct=vt=>{B.value=!1,!z.value&&(Tn(vt)?(T.value=vt,M.value=r.highlightFirstItem?0:-1):vo(EK,"autocomplete suggestions must be an array"))};if(B.value=!0,Tn(r.fetchSuggestions))Ct(r.fetchSuggestions);else{const vt=await r.fetchSuggestions(je,Ct);Tn(vt)&&Ct(vt)}},se=mo(re,r.debounce),be=je=>{const Ct=!!je;if(n(Hs,je),n(Tr,je),z.value=!1,k.value||(k.value=Ct),!r.triggerOnFocus&&!je){z.value=!0,T.value=[];return}se(je)},Ie=je=>{var Ct;s.value||(((Ct=je.target)==null?void 0:Ct.tagName)!=="INPUT"||te.value.includes(document.activeElement))&&(k.value=!0)},Se=je=>{n(sa,je)},me=je=>{b?b=!1:(k.value=!0,n("focus",je),r.triggerOnFocus&&!_&&se(String(r.modelValue)))},Le=je=>{setTimeout(()=>{var Ct;if((Ct=m.value)!=null&&Ct.isFocusInsideContent()){b=!0;return}k.value&&Be(),n("blur",je)})},Ee=()=>{k.value=!1,n(Tr,""),n("clear")},_e=async()=>{q.value&&M.value>=0&&M.value<T.value.length?lt(T.value[M.value]):r.selectWhenUnmatched&&(n("select",{value:r.modelValue}),T.value=[],M.value=-1)},xe=je=>{q.value&&(je.preventDefault(),je.stopPropagation(),Be())},Be=()=>{k.value=!1},Je=()=>{var je;(je=a.value)==null||je.focus()},Ye=()=>{var je;(je=a.value)==null||je.blur()},lt=async je=>{n(Hs,je[r.valueKey]),n(Tr,je[r.valueKey]),n("select",je),T.value=[],M.value=-1},Nt=je=>{if(!q.value||B.value)return;if(je<0){M.value=-1;return}je>=T.value.length&&(je=T.value.length-1);const Ct=h.value.querySelector(`.${u.be("suggestion","wrap")}`),Vt=Ct.querySelectorAll(`.${u.be("suggestion","list")} li`)[je],Re=Ct.scrollTop,{offsetTop:pt,scrollHeight:Ne}=Vt;pt+Ne>Re+Ct.clientHeight&&(Ct.scrollTop+=Ne),pt<Re&&(Ct.scrollTop-=Ne),M.value=je,a.value.ref.setAttribute("aria-activedescendant",`${U.value}-item-${M.value}`)},Dt=ZP(v,()=>{q.value&&Be()});return Di(()=>{Dt==null||Dt()}),br(()=>{a.value.ref.setAttribute("role","textbox"),a.value.ref.setAttribute("aria-autocomplete","list"),a.value.ref.setAttribute("aria-controls","id"),a.value.ref.setAttribute("aria-activedescendant",`${U.value}-item-${M.value}`),_=a.value.ref.hasAttribute("readonly")}),t({highlightedIndex:M,activated:k,loading:B,inputRef:a,popperRef:m,suggestions:T,handleSelect:lt,handleKeyEnter:_e,focus:Je,blur:Ye,close:Be,highlight:Nt,getData:re}),(je,Ct)=>(X(),Rt(A(ns),{ref_key:"popperRef",ref:m,visible:A(q),placement:je.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[A(u).e("popper"),je.popperClass],teleported:je.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${A(u).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:ie,onHide:ae},{content:tt(()=>[ue("div",{ref_key:"regionRef",ref:h,class:ye([A(u).b("suggestion"),A(u).is("loading",A(Q))]),style:Vn({[je.fitInputWidth?"width":"minWidth"]:E.value,outline:"none"}),role:"region"},[Fe(A(fd),{id:A(U),tag:"ul","wrap-class":A(u).be("suggestion","wrap"),"view-class":A(u).be("suggestion","list"),role:"listbox"},{default:tt(()=>[A(Q)?(X(),pe("li",{key:0},[bt(je.$slots,"loading",{},()=>[Fe(A(On),{class:ye(A(u).is("loading"))},{default:tt(()=>[Fe(A(mc))]),_:1},8,["class"])])])):(X(!0),pe(Nn,{key:1},Ur(T.value,(vt,Vt)=>(X(),pe("li",{id:`${A(U)}-item-${Vt}`,key:Vt,class:ye({highlighted:M.value===Vt}),role:"option","aria-selected":M.value===Vt,onClick:Re=>lt(vt)},[bt(je.$slots,"default",{item:vt},()=>[Br(pn(vt[je.valueKey]),1)])],10,["id","aria-selected","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:tt(()=>[ue("div",{ref_key:"listboxRef",ref:v,class:ye([A(u).b(),je.$attrs.class]),style:Vn(A(W)),role:"combobox","aria-haspopup":"listbox","aria-expanded":A(q),"aria-owns":A(U)},[Fe(A(_s),Lr({ref_key:"inputRef",ref:a},A(i),{clearable:je.clearable,disabled:A(s),name:je.name,"model-value":je.modelValue,"aria-label":je.ariaLabel,onInput:be,onChange:Se,onFocus:me,onBlur:Le,onClear:Ee,onKeydown:[Wi(er(vt=>Nt(M.value-1),["prevent"]),["up"]),Wi(er(vt=>Nt(M.value+1),["prevent"]),["down"]),Wi(_e,["enter"]),Wi(Be,["tab"]),Wi(xe,["esc"])],onMousedown:Ie}),Mu({_:2},[je.$slots.prepend?{name:"prepend",fn:tt(()=>[bt(je.$slots,"prepend")])}:void 0,je.$slots.append?{name:"append",fn:tt(()=>[bt(je.$slots,"append")])}:void 0,je.$slots.prefix?{name:"prefix",fn:tt(()=>[bt(je.$slots,"prefix")])}:void 0,je.$slots.suffix?{name:"suffix",fn:tt(()=>[bt(je.$slots,"suffix")])}:void 0]),1040,["clearable","disabled","name","model-value","aria-label","onKeydown"])],14,["aria-expanded","aria-owns"])]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var TCe=mn(CCe,[["__file","autocomplete.vue"]]);const MCe=pr(TCe),ECe=un({size:{type:[Number,String],values:dd,default:"",validator:e=>Jn(e)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:Vi},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:dt(String),default:"cover"}}),ACe={error:e=>e instanceof Event},ICe=ge({name:"ElAvatar"}),kCe=ge({...ICe,props:ECe,emits:ACe,setup(e,{emit:t}){const n=e,r=en("avatar"),i=Te(!1),o=le(()=>{const{size:h,icon:m,shape:v}=n,_=[r.b()];return Qn(h)&&_.push(r.m(h)),m&&_.push(r.m("icon")),v&&_.push(r.m(v)),_}),s=le(()=>{const{size:h}=n;return Jn(h)?r.cssVarBlock({size:Ua(h)||""}):void 0}),u=le(()=>({objectFit:n.fit}));Wt(()=>n.src,()=>i.value=!1);function a(h){i.value=!0,t("error",h)}return(h,m)=>(X(),pe("span",{class:ye(A(o)),style:Vn(A(s))},[(h.src||h.srcSet)&&!i.value?(X(),pe("img",{key:0,src:h.src,alt:h.alt,srcset:h.srcSet,style:Vn(A(u)),onError:a},null,44,["src","alt","srcset"])):h.icon?(X(),Rt(A(On),{key:1},{default:tt(()=>[(X(),Rt(kr(h.icon)))]),_:1})):bt(h.$slots,"default",{key:2})],6))}});var PCe=mn(kCe,[["__file","avatar.vue"]]);const LCe=pr(PCe),RCe={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},DCe={click:e=>e instanceof MouseEvent},OCe=(e,t,n)=>{const r=Ji(),i=Ji(),o=Te(!1),s=()=>{r.value&&(o.value=r.value.scrollTop>=e.visibilityHeight)},u=h=>{var m;(m=r.value)==null||m.scrollTo({top:0,behavior:"smooth"}),t("click",h)},a=_W(s,300,!0);return Fi(i,"scroll",a),br(()=>{var h;i.value=document,r.value=document.documentElement,e.target&&(r.value=(h=document.querySelector(e.target))!=null?h:void 0,r.value||vo(n,`target does not exist: ${e.target}`),i.value=r.value),s()}),{visible:o,handleClick:u}},AK="ElBacktop",zCe=ge({name:AK}),BCe=ge({...zCe,props:RCe,emits:DCe,setup(e,{emit:t}){const n=e,r=en("backtop"),{handleClick:i,visible:o}=OCe(n,t,AK),s=le(()=>({right:`${n.right}px`,bottom:`${n.bottom}px`}));return(u,a)=>(X(),Rt(Lo,{name:`${A(r).namespace.value}-fade-in`},{default:tt(()=>[A(o)?(X(),pe("div",{key:0,style:Vn(A(s)),class:ye(A(r).b()),onClick:er(A(i),["stop"])},[bt(u.$slots,"default",{},()=>[Fe(A(On),{class:ye(A(r).e("icon"))},{default:tt(()=>[Fe(A(hq))]),_:1},8,["class"])])],14,["onClick"])):wt("v-if",!0)]),_:3},8,["name"]))}});var FCe=mn(BCe,[["__file","backtop.vue"]]);const NCe=pr(FCe),$Ce=un({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:dt([String,Object,Array])},offset:{type:dt(Array),default:[0,0]},badgeClass:{type:String}}),VCe=ge({name:"ElBadge"}),HCe=ge({...VCe,props:$Ce,setup(e,{expose:t}){const n=e,r=en("badge"),i=le(()=>n.isDot?"":Jn(n.value)&&Jn(n.max)?n.max<n.value?`${n.max}+`:`${n.value}`:`${n.value}`),o=le(()=>{var s,u,a,h,m;return[{backgroundColor:n.color,marginRight:Ua(-((u=(s=n.offset)==null?void 0:s[0])!=null?u:0)),marginTop:Ua((h=(a=n.offset)==null?void 0:a[1])!=null?h:0)},(m=n.badgeStyle)!=null?m:{}]});return t({content:i}),(s,u)=>(X(),pe("div",{class:ye(A(r).b())},[bt(s.$slots,"default"),Fe(Lo,{name:`${A(r).namespace.value}-zoom-in-center`,persisted:""},{default:tt(()=>[yr(ue("sup",{class:ye([A(r).e("content"),A(r).em("content",s.type),A(r).is("fixed",!!s.$slots.default),A(r).is("dot",s.isDot),A(r).is("hide-zero",!s.showZero&&n.value===0),s.badgeClass]),style:Vn(A(o)),textContent:pn(A(i))},null,14,["textContent"]),[[vi,!s.hidden&&(A(i)||s.isDot)]])]),_:1},8,["name"])],2))}});var UCe=mn(HCe,[["__file","badge.vue"]]);const IK=pr(UCe),kK=Symbol("breadcrumbKey"),jCe=un({separator:{type:String,default:"/"},separatorIcon:{type:Vi}}),GCe=ge({name:"ElBreadcrumb"}),WCe=ge({...GCe,props:jCe,setup(e){const t=e,{t:n}=ii(),r=en("breadcrumb"),i=Te();return Rr(kK,t),br(()=>{const o=i.value.querySelectorAll(`.${r.e("item")}`);o.length&&o[o.length-1].setAttribute("aria-current","page")}),(o,s)=>(X(),pe("div",{ref_key:"breadcrumb",ref:i,class:ye(A(r).b()),"aria-label":A(n)("el.breadcrumb.label"),role:"navigation"},[bt(o.$slots,"default")],10,["aria-label"]))}});var qCe=mn(WCe,[["__file","breadcrumb.vue"]]);const KCe=un({to:{type:dt([String,Object]),default:""},replace:Boolean}),YCe=ge({name:"ElBreadcrumbItem"}),ZCe=ge({...YCe,props:KCe,setup(e){const t=e,n=Mr(),r=An(kK,void 0),i=en("breadcrumb"),o=n.appContext.config.globalProperties.$router,s=Te(),u=()=>{!t.to||!o||(t.replace?o.replace(t.to):o.push(t.to))};return(a,h)=>{var m,v;return X(),pe("span",{class:ye(A(i).e("item"))},[ue("span",{ref_key:"link",ref:s,class:ye([A(i).e("inner"),A(i).is("link",!!a.to)]),role:"link",onClick:u},[bt(a.$slots,"default")],2),(m=A(r))!=null&&m.separatorIcon?(X(),Rt(A(On),{key:0,class:ye(A(i).e("separator"))},{default:tt(()=>[(X(),Rt(kr(A(r).separatorIcon)))]),_:1},8,["class"])):(X(),pe("span",{key:1,class:ye(A(i).e("separator")),role:"presentation"},pn((v=A(r))==null?void 0:v.separator),3))],2)}}});var PK=mn(ZCe,[["__file","breadcrumb-item.vue"]]);const XCe=pr(qCe,{BreadcrumbItem:PK}),JCe=Ma(PK),LK=Symbol("buttonGroupContextKey"),QCe=(e,t)=>{Jf({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},le(()=>e.type==="text"));const n=An(LK,void 0),r=v8("button"),{form:i}=Cs(),o=lo(le(()=>n==null?void 0:n.size)),s=Ss(),u=Te(),a=yo(),h=le(()=>e.type||(n==null?void 0:n.type)||""),m=le(()=>{var T,M,E;return(E=(M=e.autoInsertSpace)!=null?M:(T=r.value)==null?void 0:T.autoInsertSpace)!=null?E:!1}),v=le(()=>e.tag==="button"?{ariaDisabled:s.value||e.loading,disabled:s.value||e.loading,autofocus:e.autofocus,type:e.nativeType}:{}),_=le(()=>{var T;const M=(T=a.default)==null?void 0:T.call(a);if(m.value&&(M==null?void 0:M.length)===1){const E=M[0];if((E==null?void 0:E.type)===E_){const k=E.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(k.trim())}}return!1});return{_disabled:s,_size:o,_type:h,_ref:u,_props:v,shouldAddSpace:_,handleClick:T=>{if(s.value||e.loading){T.stopPropagation();return}e.nativeType==="reset"&&(i==null||i.resetFields()),t("click",T)}}},oI=["default","primary","success","warning","info","danger","text",""],e8e=["button","submit","reset"],sI=un({size:go,disabled:Boolean,type:{type:String,values:oI,default:""},icon:{type:Vi},nativeType:{type:String,values:e8e,default:"button"},loading:Boolean,loadingIcon:{type:Vi,default:()=>mc},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:dt([String,Object]),default:"button"}}),t8e={click:e=>e instanceof MouseEvent};function es(e,t){n8e(e)&&(e="100%");var n=r8e(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function R6(e){return Math.min(1,Math.max(0,e))}function n8e(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function r8e(e){return typeof e=="string"&&e.indexOf("%")!==-1}function RK(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function D6(e){return e<=1?"".concat(Number(e)*100,"%"):e}function jm(e){return e.length===1?"0"+e:String(e)}function i8e(e,t,n){return{r:es(e,255)*255,g:es(t,255)*255,b:es(n,255)*255}}function Q7(e,t,n){e=es(e,255),t=es(t,255),n=es(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o=0,s=0,u=(r+i)/2;if(r===i)s=0,o=0;else{var a=r-i;switch(s=u>.5?a/(2-r-i):a/(r+i),r){case e:o=(t-n)/a+(t<n?6:0);break;case t:o=(n-e)/a+2;break;case n:o=(e-t)/a+4;break}o/=6}return{h:o,s,l:u}}function A5(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*(6*n):n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function a8e(e,t,n){var r,i,o;if(e=es(e,360),t=es(t,100),n=es(n,100),t===0)i=n,o=n,r=n;else{var s=n<.5?n*(1+t):n+t-n*t,u=2*n-s;r=A5(u,s,e+1/3),i=A5(u,s,e),o=A5(u,s,e-1/3)}return{r:r*255,g:i*255,b:o*255}}function eN(e,t,n){e=es(e,255),t=es(t,255),n=es(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o=0,s=r,u=r-i,a=r===0?0:u/r;if(r===i)o=0;else{switch(r){case e:o=(t-n)/u+(t<n?6:0);break;case t:o=(n-e)/u+2;break;case n:o=(e-t)/u+4;break}o/=6}return{h:o,s:a,v:s}}function o8e(e,t,n){e=es(e,360)*6,t=es(t,100),n=es(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),s=n*(1-i*t),u=n*(1-(1-i)*t),a=r%6,h=[n,s,o,o,u,n][a],m=[u,n,n,s,o,o][a],v=[o,o,u,n,n,s][a];return{r:h*255,g:m*255,b:v*255}}function tN(e,t,n,r){var i=[jm(Math.round(e).toString(16)),jm(Math.round(t).toString(16)),jm(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function s8e(e,t,n,r,i){var o=[jm(Math.round(e).toString(16)),jm(Math.round(t).toString(16)),jm(Math.round(n).toString(16)),jm(l8e(r))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function l8e(e){return Math.round(parseFloat(e)*255).toString(16)}function nN(e){return kl(e)/255}function kl(e){return parseInt(e,16)}function u8e(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var lI={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function c8e(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,u=!1;return typeof e=="string"&&(e=f8e(e)),typeof e=="object"&&(Nd(e.r)&&Nd(e.g)&&Nd(e.b)?(t=i8e(e.r,e.g,e.b),s=!0,u=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Nd(e.h)&&Nd(e.s)&&Nd(e.v)?(r=D6(e.s),i=D6(e.v),t=o8e(e.h,r,i),s=!0,u="hsv"):Nd(e.h)&&Nd(e.s)&&Nd(e.l)&&(r=D6(e.s),o=D6(e.l),t=a8e(e.h,r,o),s=!0,u="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=RK(n),{ok:s,format:e.format||u,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var d8e="[-\\+]?\\d+%?",h8e="[-\\+]?\\d*\\.\\d+%?",jf="(?:".concat(h8e,")|(?:").concat(d8e,")"),I5="[\\s|\\(]+(".concat(jf,")[,|\\s]+(").concat(jf,")[,|\\s]+(").concat(jf,")\\s*\\)?"),k5="[\\s|\\(]+(".concat(jf,")[,|\\s]+(").concat(jf,")[,|\\s]+(").concat(jf,")[,|\\s]+(").concat(jf,")\\s*\\)?"),Qu={CSS_UNIT:new RegExp(jf),rgb:new RegExp("rgb"+I5),rgba:new RegExp("rgba"+k5),hsl:new RegExp("hsl"+I5),hsla:new RegExp("hsla"+k5),hsv:new RegExp("hsv"+I5),hsva:new RegExp("hsva"+k5),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function f8e(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(lI[e])e=lI[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=Qu.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=Qu.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Qu.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=Qu.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Qu.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=Qu.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Qu.hex8.exec(e),n?{r:kl(n[1]),g:kl(n[2]),b:kl(n[3]),a:nN(n[4]),format:t?"name":"hex8"}:(n=Qu.hex6.exec(e),n?{r:kl(n[1]),g:kl(n[2]),b:kl(n[3]),format:t?"name":"hex"}:(n=Qu.hex4.exec(e),n?{r:kl(n[1]+n[1]),g:kl(n[2]+n[2]),b:kl(n[3]+n[3]),a:nN(n[4]+n[4]),format:t?"name":"hex8"}:(n=Qu.hex3.exec(e),n?{r:kl(n[1]+n[1]),g:kl(n[2]+n[2]),b:kl(n[3]+n[3]),format:t?"name":"hex"}:!1)))))))))}function Nd(e){return!!Qu.CSS_UNIT.exec(String(e))}var DK=function(){function e(t,n){t===void 0&&(t=""),n===void 0&&(n={});var r;if(t instanceof e)return t;typeof t=="number"&&(t=u8e(t)),this.originalInput=t;var i=c8e(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),n,r,i,o=t.r/255,s=t.g/255,u=t.b/255;return o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),s<=.03928?r=s/12.92:r=Math.pow((s+.055)/1.055,2.4),u<=.03928?i=u/12.92:i=Math.pow((u+.055)/1.055,2.4),.2126*n+.7152*r+.0722*i},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=RK(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=eN(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=eN(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=Q7(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=Q7(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),tN(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),s8e(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(n,", ").concat(r,")"):"rgba(".concat(t,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(n){return"".concat(Math.round(es(n,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(n){return Math.round(es(n,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+tN(this.r,this.g,this.b,!1),n=0,r=Object.entries(lI);n<r.length;n++){var i=r[n],o=i[0],s=i[1];if(t===s)return o}return!1},e.prototype.toString=function(t){var n=!!t;t=t??this.format;var r=!1,i=this.a<1&&this.a>=0,o=!n&&i&&(t.startsWith("hex")||t==="name");return o?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=R6(n.l),new e(n)},e.prototype.brighten=function(t){t===void 0&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),new e(n)},e.prototype.darken=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=R6(n.l),new e(n)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=R6(n.s),new e(n)},e.prototype.saturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=R6(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){n===void 0&&(n=50);var r=this.toRgb(),i=new e(t).toRgb(),o=n/100,s={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return new e(s)},e.prototype.analogous=function(t,n){t===void 0&&(t=6),n===void 0&&(n=30);var r=this.toHsl(),i=360/n,o=[this];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(new e(r));return o},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var n=this.toHsv(),r=n.h,i=n.s,o=n.v,s=[],u=1/t;t--;)s.push(new e({h:r,s:i,v:o})),o=(o+u)%1;return s},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb(),i=n.a+r.a*(1-n.a);return new e({r:(n.r*n.a+r.r*r.a*(1-n.a))/i,g:(n.g*n.a+r.g*r.a*(1-n.a))/i,b:(n.b*n.a+r.b*r.a*(1-n.a))/i,a:i})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,i=[this],o=360/t,s=1;s<t;s++)i.push(new e({h:(r+s*o)%360,s:n.s,l:n.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function bf(e,t=20){return e.mix("#141414",t).toString()}function p8e(e){const t=Ss(),n=en("button");return le(()=>{let r={},i=e.color;if(i){const o=i.match(/var\((.*?)\)/);o&&(i=window.getComputedStyle(window.document.documentElement).getPropertyValue(o[1]));const s=new DK(i),u=e.dark?s.tint(20).toString():bf(s,20);if(e.plain)r=n.cssVarBlock({"bg-color":e.dark?bf(s,90):s.tint(90).toString(),"text-color":i,"border-color":e.dark?bf(s,50):s.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":i,"hover-border-color":i,"active-bg-color":u,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":u}),t.value&&(r[n.cssVarBlockName("disabled-bg-color")]=e.dark?bf(s,90):s.tint(90).toString(),r[n.cssVarBlockName("disabled-text-color")]=e.dark?bf(s,50):s.tint(50).toString(),r[n.cssVarBlockName("disabled-border-color")]=e.dark?bf(s,80):s.tint(80).toString());else{const a=e.dark?bf(s,30):s.tint(30).toString(),h=s.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(r=n.cssVarBlock({"bg-color":i,"text-color":h,"border-color":i,"hover-bg-color":a,"hover-text-color":h,"hover-border-color":a,"active-bg-color":u,"active-border-color":u}),t.value){const m=e.dark?bf(s,50):s.tint(50).toString();r[n.cssVarBlockName("disabled-bg-color")]=m,r[n.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,r[n.cssVarBlockName("disabled-border-color")]=m}}}return r})}const m8e=ge({name:"ElButton"}),v8e=ge({...m8e,props:sI,emits:t8e,setup(e,{expose:t,emit:n}){const r=e,i=p8e(r),o=en("button"),{_ref:s,_size:u,_type:a,_disabled:h,_props:m,shouldAddSpace:v,handleClick:_}=QCe(r,n),b=le(()=>[o.b(),o.m(a.value),o.m(u.value),o.is("disabled",h.value),o.is("loading",r.loading),o.is("plain",r.plain),o.is("round",r.round),o.is("circle",r.circle),o.is("text",r.text),o.is("link",r.link),o.is("has-bg",r.bg)]);return t({ref:s,size:u,type:a,disabled:h,shouldAddSpace:v}),(T,M)=>(X(),Rt(kr(T.tag),Lr({ref_key:"_ref",ref:s},A(m),{class:A(b),style:A(i),onClick:A(_)}),{default:tt(()=>[T.loading?(X(),pe(Nn,{key:0},[T.$slots.loading?bt(T.$slots,"loading",{key:0}):(X(),Rt(A(On),{key:1,class:ye(A(o).is("loading"))},{default:tt(()=>[(X(),Rt(kr(T.loadingIcon)))]),_:1},8,["class"]))],64)):T.icon||T.$slots.icon?(X(),Rt(A(On),{key:1},{default:tt(()=>[T.icon?(X(),Rt(kr(T.icon),{key:0})):bt(T.$slots,"icon",{key:1})]),_:3})):wt("v-if",!0),T.$slots.default?(X(),pe("span",{key:2,class:ye({[A(o).em("text","expand")]:A(v)})},[bt(T.$slots,"default")],2)):wt("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var g8e=mn(v8e,[["__file","button.vue"]]);const _8e={size:sI.size,type:sI.type},y8e=ge({name:"ElButtonGroup"}),b8e=ge({...y8e,props:_8e,setup(e){const t=e;Rr(LK,Ci({size:Li(t,"size"),type:Li(t,"type")}));const n=en("button");return(r,i)=>(X(),pe("div",{class:ye(A(n).b("group"))},[bt(r.$slots,"default")],2))}});var OK=mn(b8e,[["__file","button-group.vue"]]);const Po=pr(g8e,{ButtonGroup:OK}),zK=Ma(OK);var pd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function md(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var BK={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(pd,function(){var n=1e3,r=6e4,i=36e5,o="millisecond",s="second",u="minute",a="hour",h="day",m="week",v="month",_="quarter",b="year",T="date",M="Invalid Date",E=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,k=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,z={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Ie){var Se=["th","st","nd","rd"],me=Ie%100;return"["+Ie+(Se[(me-20)%10]||Se[me]||Se[0])+"]"}},B=function(Ie,Se,me){var Le=String(Ie);return!Le||Le.length>=Se?Ie:""+Array(Se+1-Le.length).join(me)+Ie},U={s:B,z:function(Ie){var Se=-Ie.utcOffset(),me=Math.abs(Se),Le=Math.floor(me/60),Ee=me%60;return(Se<=0?"+":"-")+B(Le,2,"0")+":"+B(Ee,2,"0")},m:function Ie(Se,me){if(Se.date()<me.date())return-Ie(me,Se);var Le=12*(me.year()-Se.year())+(me.month()-Se.month()),Ee=Se.clone().add(Le,v),_e=me-Ee<0,xe=Se.clone().add(Le+(_e?-1:1),v);return+(-(Le+(me-Ee)/(_e?Ee-xe:xe-Ee))||0)},a:function(Ie){return Ie<0?Math.ceil(Ie)||0:Math.floor(Ie)},p:function(Ie){return{M:v,y:b,w:m,d:h,D:T,h:a,m:u,s,ms:o,Q:_}[Ie]||String(Ie||"").toLowerCase().replace(/s$/,"")},u:function(Ie){return Ie===void 0}},W="en",q={};q[W]=z;var Q="$isDayjsObject",te=function(Ie){return Ie instanceof se||!(!Ie||!Ie[Q])},ie=function Ie(Se,me,Le){var Ee;if(!Se)return W;if(typeof Se=="string"){var _e=Se.toLowerCase();q[_e]&&(Ee=_e),me&&(q[_e]=me,Ee=_e);var xe=Se.split("-");if(!Ee&&xe.length>1)return Ie(xe[0])}else{var Be=Se.name;q[Be]=Se,Ee=Be}return!Le&&Ee&&(W=Ee),Ee||!Le&&W},ae=function(Ie,Se){if(te(Ie))return Ie.clone();var me=typeof Se=="object"?Se:{};return me.date=Ie,me.args=arguments,new se(me)},re=U;re.l=ie,re.i=te,re.w=function(Ie,Se){return ae(Ie,{locale:Se.$L,utc:Se.$u,x:Se.$x,$offset:Se.$offset})};var se=function(){function Ie(me){this.$L=ie(me.locale,null,!0),this.parse(me),this.$x=this.$x||me.x||{},this[Q]=!0}var Se=Ie.prototype;return Se.parse=function(me){this.$d=function(Le){var Ee=Le.date,_e=Le.utc;if(Ee===null)return new Date(NaN);if(re.u(Ee))return new Date;if(Ee instanceof Date)return new Date(Ee);if(typeof Ee=="string"&&!/Z$/i.test(Ee)){var xe=Ee.match(E);if(xe){var Be=xe[2]-1||0,Je=(xe[7]||"0").substring(0,3);return _e?new Date(Date.UTC(xe[1],Be,xe[3]||1,xe[4]||0,xe[5]||0,xe[6]||0,Je)):new Date(xe[1],Be,xe[3]||1,xe[4]||0,xe[5]||0,xe[6]||0,Je)}}return new Date(Ee)}(me),this.init()},Se.init=function(){var me=this.$d;this.$y=me.getFullYear(),this.$M=me.getMonth(),this.$D=me.getDate(),this.$W=me.getDay(),this.$H=me.getHours(),this.$m=me.getMinutes(),this.$s=me.getSeconds(),this.$ms=me.getMilliseconds()},Se.$utils=function(){return re},Se.isValid=function(){return this.$d.toString()!==M},Se.isSame=function(me,Le){var Ee=ae(me);return this.startOf(Le)<=Ee&&Ee<=this.endOf(Le)},Se.isAfter=function(me,Le){return ae(me)<this.startOf(Le)},Se.isBefore=function(me,Le){return this.endOf(Le)<ae(me)},Se.$g=function(me,Le,Ee){return re.u(me)?this[Le]:this.set(Ee,me)},Se.unix=function(){return Math.floor(this.valueOf()/1e3)},Se.valueOf=function(){return this.$d.getTime()},Se.startOf=function(me,Le){var Ee=this,_e=!!re.u(Le)||Le,xe=re.p(me),Be=function(vt,Vt){var Re=re.w(Ee.$u?Date.UTC(Ee.$y,Vt,vt):new Date(Ee.$y,Vt,vt),Ee);return _e?Re:Re.endOf(h)},Je=function(vt,Vt){return re.w(Ee.toDate()[vt].apply(Ee.toDate("s"),(_e?[0,0,0,0]:[23,59,59,999]).slice(Vt)),Ee)},Ye=this.$W,lt=this.$M,Nt=this.$D,Dt="set"+(this.$u?"UTC":"");switch(xe){case b:return _e?Be(1,0):Be(31,11);case v:return _e?Be(1,lt):Be(0,lt+1);case m:var je=this.$locale().weekStart||0,Ct=(Ye<je?Ye+7:Ye)-je;return Be(_e?Nt-Ct:Nt+(6-Ct),lt);case h:case T:return Je(Dt+"Hours",0);case a:return Je(Dt+"Minutes",1);case u:return Je(Dt+"Seconds",2);case s:return Je(Dt+"Milliseconds",3);default:return this.clone()}},Se.endOf=function(me){return this.startOf(me,!1)},Se.$set=function(me,Le){var Ee,_e=re.p(me),xe="set"+(this.$u?"UTC":""),Be=(Ee={},Ee[h]=xe+"Date",Ee[T]=xe+"Date",Ee[v]=xe+"Month",Ee[b]=xe+"FullYear",Ee[a]=xe+"Hours",Ee[u]=xe+"Minutes",Ee[s]=xe+"Seconds",Ee[o]=xe+"Milliseconds",Ee)[_e],Je=_e===h?this.$D+(Le-this.$W):Le;if(_e===v||_e===b){var Ye=this.clone().set(T,1);Ye.$d[Be](Je),Ye.init(),this.$d=Ye.set(T,Math.min(this.$D,Ye.daysInMonth())).$d}else Be&&this.$d[Be](Je);return this.init(),this},Se.set=function(me,Le){return this.clone().$set(me,Le)},Se.get=function(me){return this[re.p(me)]()},Se.add=function(me,Le){var Ee,_e=this;me=Number(me);var xe=re.p(Le),Be=function(lt){var Nt=ae(_e);return re.w(Nt.date(Nt.date()+Math.round(lt*me)),_e)};if(xe===v)return this.set(v,this.$M+me);if(xe===b)return this.set(b,this.$y+me);if(xe===h)return Be(1);if(xe===m)return Be(7);var Je=(Ee={},Ee[u]=r,Ee[a]=i,Ee[s]=n,Ee)[xe]||1,Ye=this.$d.getTime()+me*Je;return re.w(Ye,this)},Se.subtract=function(me,Le){return this.add(-1*me,Le)},Se.format=function(me){var Le=this,Ee=this.$locale();if(!this.isValid())return Ee.invalidDate||M;var _e=me||"YYYY-MM-DDTHH:mm:ssZ",xe=re.z(this),Be=this.$H,Je=this.$m,Ye=this.$M,lt=Ee.weekdays,Nt=Ee.months,Dt=Ee.meridiem,je=function(Vt,Re,pt,Ne){return Vt&&(Vt[Re]||Vt(Le,_e))||pt[Re].slice(0,Ne)},Ct=function(Vt){return re.s(Be%12||12,Vt,"0")},vt=Dt||function(Vt,Re,pt){var Ne=Vt<12?"AM":"PM";return pt?Ne.toLowerCase():Ne};return _e.replace(k,function(Vt,Re){return Re||function(pt){switch(pt){case"YY":return String(Le.$y).slice(-2);case"YYYY":return re.s(Le.$y,4,"0");case"M":return Ye+1;case"MM":return re.s(Ye+1,2,"0");case"MMM":return je(Ee.monthsShort,Ye,Nt,3);case"MMMM":return je(Nt,Ye);case"D":return Le.$D;case"DD":return re.s(Le.$D,2,"0");case"d":return String(Le.$W);case"dd":return je(Ee.weekdaysMin,Le.$W,lt,2);case"ddd":return je(Ee.weekdaysShort,Le.$W,lt,3);case"dddd":return lt[Le.$W];case"H":return String(Be);case"HH":return re.s(Be,2,"0");case"h":return Ct(1);case"hh":return Ct(2);case"a":return vt(Be,Je,!0);case"A":return vt(Be,Je,!1);case"m":return String(Je);case"mm":return re.s(Je,2,"0");case"s":return String(Le.$s);case"ss":return re.s(Le.$s,2,"0");case"SSS":return re.s(Le.$ms,3,"0");case"Z":return xe}return null}(Vt)||xe.replace(":","")})},Se.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Se.diff=function(me,Le,Ee){var _e,xe=this,Be=re.p(Le),Je=ae(me),Ye=(Je.utcOffset()-this.utcOffset())*r,lt=this-Je,Nt=function(){return re.m(xe,Je)};switch(Be){case b:_e=Nt()/12;break;case v:_e=Nt();break;case _:_e=Nt()/3;break;case m:_e=(lt-Ye)/6048e5;break;case h:_e=(lt-Ye)/864e5;break;case a:_e=lt/i;break;case u:_e=lt/r;break;case s:_e=lt/n;break;default:_e=lt}return Ee?_e:re.a(_e)},Se.daysInMonth=function(){return this.endOf(v).$D},Se.$locale=function(){return q[this.$L]},Se.locale=function(me,Le){if(!me)return this.$L;var Ee=this.clone(),_e=ie(me,Le,!0);return _e&&(Ee.$L=_e),Ee},Se.clone=function(){return re.w(this.$d,this)},Se.toDate=function(){return new Date(this.valueOf())},Se.toJSON=function(){return this.isValid()?this.toISOString():null},Se.toISOString=function(){return this.$d.toISOString()},Se.toString=function(){return this.$d.toUTCString()},Ie}(),be=se.prototype;return ae.prototype=be,[["$ms",o],["$s",s],["$m",u],["$H",a],["$W",h],["$M",v],["$y",b],["$D",T]].forEach(function(Ie){be[Ie[1]]=function(Se){return this.$g(Se,Ie[0],Ie[1])}}),ae.extend=function(Ie,Se){return Ie.$i||(Ie(Se,se,ae),Ie.$i=!0),ae},ae.locale=ie,ae.isDayjs=te,ae.unix=function(Ie){return ae(1e3*Ie)},ae.en=q[W],ae.Ls=q,ae.p={},ae})})(BK);var x8e=BK.exports;const ur=md(x8e);var FK={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(pd,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d/,o=/\d\d/,s=/\d\d?/,u=/\d*[^-_:/,()\s\d]+/,a={},h=function(E){return(E=+E)+(E>68?1900:2e3)},m=function(E){return function(k){this[E]=+k}},v=[/[+-]\d\d:?(\d\d)?|Z/,function(E){(this.zone||(this.zone={})).offset=function(k){if(!k||k==="Z")return 0;var z=k.match(/([+-]|\d\d)/g),B=60*z[1]+(+z[2]||0);return B===0?0:z[0]==="+"?-B:B}(E)}],_=function(E){var k=a[E];return k&&(k.indexOf?k:k.s.concat(k.f))},b=function(E,k){var z,B=a.meridiem;if(B){for(var U=1;U<=24;U+=1)if(E.indexOf(B(U,0,k))>-1){z=U>12;break}}else z=E===(k?"pm":"PM");return z},T={A:[u,function(E){this.afternoon=b(E,!1)}],a:[u,function(E){this.afternoon=b(E,!0)}],Q:[i,function(E){this.month=3*(E-1)+1}],S:[i,function(E){this.milliseconds=100*+E}],SS:[o,function(E){this.milliseconds=10*+E}],SSS:[/\d{3}/,function(E){this.milliseconds=+E}],s:[s,m("seconds")],ss:[s,m("seconds")],m:[s,m("minutes")],mm:[s,m("minutes")],H:[s,m("hours")],h:[s,m("hours")],HH:[s,m("hours")],hh:[s,m("hours")],D:[s,m("day")],DD:[o,m("day")],Do:[u,function(E){var k=a.ordinal,z=E.match(/\d+/);if(this.day=z[0],k)for(var B=1;B<=31;B+=1)k(B).replace(/\[|\]/g,"")===E&&(this.day=B)}],w:[s,m("week")],ww:[o,m("week")],M:[s,m("month")],MM:[o,m("month")],MMM:[u,function(E){var k=_("months"),z=(_("monthsShort")||k.map(function(B){return B.slice(0,3)})).indexOf(E)+1;if(z<1)throw new Error;this.month=z%12||z}],MMMM:[u,function(E){var k=_("months").indexOf(E)+1;if(k<1)throw new Error;this.month=k%12||k}],Y:[/[+-]?\d+/,m("year")],YY:[o,function(E){this.year=h(E)}],YYYY:[/\d{4}/,m("year")],Z:v,ZZ:v};function M(E){var k,z;k=E,z=a&&a.formats;for(var B=(E=k.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(ae,re,se){var be=se&&se.toUpperCase();return re||z[se]||n[se]||z[be].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Ie,Se,me){return Se||me.slice(1)})})).match(r),U=B.length,W=0;W<U;W+=1){var q=B[W],Q=T[q],te=Q&&Q[0],ie=Q&&Q[1];B[W]=ie?{regex:te,parser:ie}:q.replace(/^\[|\]$/g,"")}return function(ae){for(var re={},se=0,be=0;se<U;se+=1){var Ie=B[se];if(typeof Ie=="string")be+=Ie.length;else{var Se=Ie.regex,me=Ie.parser,Le=ae.slice(be),Ee=Se.exec(Le)[0];me.call(re,Ee),ae=ae.replace(Ee,"")}}return function(_e){var xe=_e.afternoon;if(xe!==void 0){var Be=_e.hours;xe?Be<12&&(_e.hours+=12):Be===12&&(_e.hours=0),delete _e.afternoon}}(re),re}}return function(E,k,z){z.p.customParseFormat=!0,E&&E.parseTwoDigitYear&&(h=E.parseTwoDigitYear);var B=k.prototype,U=B.parse;B.parse=function(W){var q=W.date,Q=W.utc,te=W.args;this.$u=Q;var ie=te[1];if(typeof ie=="string"){var ae=te[2]===!0,re=te[3]===!0,se=ae||re,be=te[2];re&&(be=te[2]),a=this.$locale(),!ae&&be&&(a=z.Ls[be]),this.$d=function(Le,Ee,_e,xe){try{if(["x","X"].indexOf(Ee)>-1)return new Date((Ee==="X"?1e3:1)*Le);var Be=M(Ee)(Le),Je=Be.year,Ye=Be.month,lt=Be.day,Nt=Be.hours,Dt=Be.minutes,je=Be.seconds,Ct=Be.milliseconds,vt=Be.zone,Vt=Be.week,Re=new Date,pt=lt||(Je||Ye?1:Re.getDate()),Ne=Je||Re.getFullYear(),et=0;Je&&!Ye||(et=Ye>0?Ye-1:Re.getMonth());var Ze,nn=Nt||0,It=Dt||0,Ft=je||0,zt=Ct||0;return vt?new Date(Date.UTC(Ne,et,pt,nn,It,Ft,zt+60*vt.offset*1e3)):_e?new Date(Date.UTC(Ne,et,pt,nn,It,Ft,zt)):(Ze=new Date(Ne,et,pt,nn,It,Ft,zt),Vt&&(Ze=xe(Ze).week(Vt).toDate()),Ze)}catch{return new Date("")}}(q,ie,Q,z),this.init(),be&&be!==!0&&(this.$L=this.locale(be).$L),se&&q!=this.format(ie)&&(this.$d=new Date("")),a={}}else if(ie instanceof Array)for(var Ie=ie.length,Se=1;Se<=Ie;Se+=1){te[1]=ie[Se-1];var me=z.apply(this,te);if(me.isValid()){this.$d=me.$d,this.$L=me.$L,this.init();break}Se===Ie&&(this.$d=new Date(""))}else U.call(this,W)}}})})(FK);var w8e=FK.exports;const JL=md(w8e),rN=["hours","minutes","seconds"],uI="HH:mm:ss",yg="YYYY-MM-DD",S8e={date:yg,dates:yg,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",months:"YYYY-MM",datetime:`${yg} ${uI}`,monthrange:"YYYY-MM",yearrange:"YYYY",daterange:yg,datetimerange:`${yg} ${uI}`},P5=(e,t)=>[e>0?e-1:void 0,e,e<t?e+1:void 0],Qf=e=>Array.from(Array.from({length:e}).keys()),NK=e=>e.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),$K=e=>e.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),iN=function(e,t){const n=ip(e),r=ip(t);return n&&r?e.getTime()===t.getTime():!n&&!r?e===t:!1},aN=function(e,t){const n=Tn(e),r=Tn(t);return n&&r?e.length!==t.length?!1:e.every((i,o)=>iN(i,t[o])):!n&&!r?iN(e,t):!1},oN=function(e,t,n){const r=Dl(t)||t==="x"?ur(e).locale(n):ur(e,t).locale(n);return r.isValid()?r:void 0},sN=function(e,t,n){return Dl(t)?e:t==="x"?+e:ur(e).locale(n).format(t)},L5=(e,t)=>{var n;const r=[],i=t==null?void 0:t();for(let o=0;o<e;o++)r.push((n=i==null?void 0:i.includes(o))!=null?n:!1);return r},VK=un({disabledHours:{type:dt(Function)},disabledMinutes:{type:dt(Function)},disabledSeconds:{type:dt(Function)}}),HK=un({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),QL=un({id:{type:dt([Array,String])},name:{type:dt([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:dt([String,Object]),default:yh},editable:{type:Boolean,default:!0},prefixIcon:{type:dt([String,Object]),default:""},size:go,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:dt(Object),default:()=>({})},modelValue:{type:dt([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:dt([Date,Array])},defaultTime:{type:dt([Date,Array])},isRange:Boolean,...VK,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,tabindex:{type:dt([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,placement:{type:dt(String),values:bh,default:"bottom"},fallbackPlacements:{type:dt(Array),default:["bottom","top","right","left"]},...O_,...Uo(["ariaLabel"])}),C8e=ge({name:"Picker"}),T8e=ge({...C8e,props:QL,emits:["update:modelValue","change","focus","blur","clear","calendar-change","panel-change","visible-change","keydown"],setup(e,{expose:t,emit:n}){const r=e,i=jl(),{lang:o}=ii(),s=en("date"),u=en("input"),a=en("range"),{form:h,formItem:m}=Cs(),v=An("ElPopperOptions",{}),{valueOnClear:_}=m8(r,null),b=Te(),T=Te(),M=Te(!1),E=Te(!1),k=Te(null);let z=!1,B=!1;const U=le(()=>[s.b("editor"),s.bm("editor",r.type),u.e("wrapper"),s.is("disabled",Ye.value),s.is("active",M.value),a.b("editor"),tn?a.bm("editor",tn.value):"",i.class]),W=le(()=>[u.e("icon"),a.e("close-icon"),pt.value?"":a.e("close-icon--hidden")]);Wt(M,Mt=>{Mt?Fn(()=>{Mt&&(k.value=r.modelValue)}):(ln.value=null,Fn(()=>{q(r.modelValue)}))});const q=(Mt,Gn)=>{(Gn||!aN(Mt,k.value))&&(n("change",Mt),r.validateEvent&&(m==null||m.validate("change").catch(Wr=>void 0)))},Q=Mt=>{if(!aN(r.modelValue,Mt)){let Gn;Tn(Mt)?Gn=Mt.map(Wr=>sN(Wr,r.valueFormat,o.value)):Mt&&(Gn=sN(Mt,r.valueFormat,o.value)),n("update:modelValue",Mt&&Gn,o.value)}},te=Mt=>{n("keydown",Mt)},ie=le(()=>{if(T.value){const Mt=zt.value?T.value:T.value.$el;return Array.from(Mt.querySelectorAll("input"))}return[]}),ae=(Mt,Gn,Wr)=>{const Nr=ie.value;Nr.length&&(!Wr||Wr==="min"?(Nr[0].setSelectionRange(Mt,Gn),Nr[0].focus()):Wr==="max"&&(Nr[1].setSelectionRange(Mt,Gn),Nr[1].focus()))},re=()=>{_e(!0,!0),Fn(()=>{B=!1})},se=(Mt="",Gn=!1)=>{Gn||(B=!0),M.value=Gn;let Wr;Tn(Mt)?Wr=Mt.map(Nr=>Nr.toDate()):Wr=Mt&&Mt.toDate(),ln.value=null,Q(Wr)},be=()=>{E.value=!0},Ie=()=>{n("visible-change",!0)},Se=Mt=>{(Mt==null?void 0:Mt.key)===Kn.esc&&_e(!0,!0)},me=()=>{E.value=!1,M.value=!1,B=!1,n("visible-change",!1)},Le=()=>{M.value=!0},Ee=()=>{M.value=!1},_e=(Mt=!0,Gn=!1)=>{B=Gn;const[Wr,Nr]=A(ie);let qr=Wr;!Mt&&zt.value&&(qr=Nr),qr&&qr.focus()},xe=Mt=>{r.readonly||Ye.value||M.value||B||(M.value=!0,n("focus",Mt))};let Be;const Je=Mt=>{const Gn=async()=>{setTimeout(()=>{var Wr;Be===Gn&&(!((Wr=b.value)!=null&&Wr.isFocusInsideContent()&&!z)&&ie.value.filter(Nr=>Nr.contains(document.activeElement)).length===0&&(St(),M.value=!1,n("blur",Mt),r.validateEvent&&(m==null||m.validate("blur").catch(Nr=>void 0))),z=!1)},0)};Be=Gn,Gn()},Ye=le(()=>r.disabled||(h==null?void 0:h.disabled)),lt=le(()=>{let Mt;if(et.value?Zt.value.getDefaultValue&&(Mt=Zt.value.getDefaultValue()):Tn(r.modelValue)?Mt=r.modelValue.map(Gn=>oN(Gn,r.valueFormat,o.value)):Mt=oN(r.modelValue,r.valueFormat,o.value),Zt.value.getRangeAvailableTime){const Gn=Zt.value.getRangeAvailableTime(Mt);ys(Gn,Mt)||(Mt=Gn,et.value||Q(Tn(Mt)?Mt.map(Wr=>Wr.toDate()):Mt.toDate()))}return Tn(Mt)&&Mt.some(Gn=>!Gn)&&(Mt=[]),Mt}),Nt=le(()=>{if(!Zt.value.panelReady)return"";const Mt=rr(lt.value);return Tn(ln.value)?[ln.value[0]||Mt&&Mt[0]||"",ln.value[1]||Mt&&Mt[1]||""]:ln.value!==null?ln.value:!je.value&&et.value||!M.value&&et.value?"":Mt?Ct.value||vt.value||Vt.value?Mt.join(", "):Mt:""}),Dt=le(()=>r.type.includes("time")),je=le(()=>r.type.startsWith("time")),Ct=le(()=>r.type==="dates"),vt=le(()=>r.type==="months"),Vt=le(()=>r.type==="years"),Re=le(()=>r.prefixIcon||(Dt.value?_L:dq)),pt=Te(!1),Ne=Mt=>{r.readonly||Ye.value||(pt.value&&(Mt.stopPropagation(),re(),Zt.value.handleClear?Zt.value.handleClear():Q(_.value),q(_.value,!0),pt.value=!1,me()),n("clear"))},et=le(()=>{const{modelValue:Mt}=r;return!Mt||Tn(Mt)&&!Mt.filter(Boolean).length}),Ze=async Mt=>{var Gn;r.readonly||Ye.value||(((Gn=Mt.target)==null?void 0:Gn.tagName)!=="INPUT"||ie.value.includes(document.activeElement))&&(M.value=!0)},nn=()=>{r.readonly||Ye.value||!et.value&&r.clearable&&(pt.value=!0)},It=()=>{pt.value=!1},Ft=Mt=>{var Gn;r.readonly||Ye.value||(((Gn=Mt.touches[0].target)==null?void 0:Gn.tagName)!=="INPUT"||ie.value.includes(document.activeElement))&&(M.value=!0)},zt=le(()=>r.type.includes("range")),tn=lo(),fn=le(()=>{var Mt,Gn;return(Gn=(Mt=A(b))==null?void 0:Mt.popperRef)==null?void 0:Gn.contentRef}),hn=le(()=>{var Mt;return A(zt)?A(T):(Mt=A(T))==null?void 0:Mt.$el}),Dn=ZP(hn,Mt=>{const Gn=A(fn),Wr=A(hn);Gn&&(Mt.target===Gn||Mt.composedPath().includes(Gn))||Mt.target===Wr||Mt.composedPath().includes(Wr)||(M.value=!1)});Di(()=>{Dn==null||Dn()});const ln=Te(null),St=()=>{if(ln.value){const Mt=Pn(Nt.value);Mt&&cr(Mt)&&(Q(Tn(Mt)?Mt.map(Gn=>Gn.toDate()):Mt.toDate()),ln.value=null)}ln.value===""&&(Q(_.value),q(_.value),ln.value=null)},Pn=Mt=>Mt?Zt.value.parseUserInput(Mt):null,rr=Mt=>Mt?Zt.value.formatToString(Mt):null,cr=Mt=>Zt.value.isValidValue(Mt),sr=async Mt=>{if(r.readonly||Ye.value)return;const{code:Gn}=Mt;if(te(Mt),Gn===Kn.esc){M.value===!0&&(M.value=!1,Mt.preventDefault(),Mt.stopPropagation());return}if(Gn===Kn.down&&(Zt.value.handleFocusPicker&&(Mt.preventDefault(),Mt.stopPropagation()),M.value===!1&&(M.value=!0,await Fn()),Zt.value.handleFocusPicker)){Zt.value.handleFocusPicker();return}if(Gn===Kn.tab){z=!0;return}if(Gn===Kn.enter||Gn===Kn.numpadEnter){(ln.value===null||ln.value===""||cr(Pn(Nt.value)))&&(St(),M.value=!1),Mt.stopPropagation();return}if(ln.value){Mt.stopPropagation();return}Zt.value.handleKeydownInput&&Zt.value.handleKeydownInput(Mt)},Xr=Mt=>{ln.value=Mt,M.value||(M.value=!0)},wi=Mt=>{const Gn=Mt.target;ln.value?ln.value=[Gn.value,ln.value[1]]:ln.value=[Gn.value,null]},Bt=Mt=>{const Gn=Mt.target;ln.value?ln.value=[ln.value[0],Gn.value]:ln.value=[null,Gn.value]},yn=()=>{var Mt;const Gn=ln.value,Wr=Pn(Gn&&Gn[0]),Nr=A(lt);if(Wr&&Wr.isValid()){ln.value=[rr(Wr),((Mt=Nt.value)==null?void 0:Mt[1])||null];const qr=[Wr,Nr&&(Nr[1]||null)];cr(qr)&&(Q(qr),ln.value=null)}},ht=()=>{var Mt;const Gn=A(ln),Wr=Pn(Gn&&Gn[1]),Nr=A(lt);if(Wr&&Wr.isValid()){ln.value=[((Mt=A(Nt))==null?void 0:Mt[0])||null,rr(Wr)];const qr=[Nr&&Nr[0],Wr];cr(qr)&&(Q(qr),ln.value=null)}},Zt=Te({}),Xt=Mt=>{Zt.value[Mt[0]]=Mt[1],Zt.value.panelReady=!0},qn=Mt=>{n("calendar-change",Mt)},Qr=(Mt,Gn,Wr)=>{n("panel-change",Mt,Gn,Wr)};return Rr("EP_PICKER_BASE",{props:r}),t({focus:_e,handleFocusInput:xe,handleBlurInput:Je,handleOpen:Le,handleClose:Ee,onPick:se}),(Mt,Gn)=>(X(),Rt(A(ns),Lr({ref_key:"refPopper",ref:b,visible:M.value,effect:"light",pure:"",trigger:"click"},Mt.$attrs,{role:"dialog",teleported:"",transition:`${A(s).namespace.value}-zoom-in-top`,"popper-class":[`${A(s).namespace.value}-picker__popper`,Mt.popperClass],"popper-options":A(v),"fallback-placements":Mt.fallbackPlacements,"gpu-acceleration":!1,placement:Mt.placement,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:be,onShow:Ie,onHide:me}),{default:tt(()=>[A(zt)?(X(),pe("div",{key:1,ref_key:"inputRef",ref:T,class:ye(A(U)),style:Vn(Mt.$attrs.style),onClick:xe,onMouseenter:nn,onMouseleave:It,onTouchstartPassive:Ft,onKeydown:sr},[A(Re)?(X(),Rt(A(On),{key:0,class:ye([A(u).e("icon"),A(a).e("icon")]),onMousedown:er(Ze,["prevent"]),onTouchstartPassive:Ft},{default:tt(()=>[(X(),Rt(kr(A(Re))))]),_:1},8,["class","onMousedown"])):wt("v-if",!0),ue("input",{id:Mt.id&&Mt.id[0],autocomplete:"off",name:Mt.name&&Mt.name[0],placeholder:Mt.startPlaceholder,value:A(Nt)&&A(Nt)[0],disabled:A(Ye),readonly:!Mt.editable||Mt.readonly,class:ye(A(a).b("input")),onMousedown:Ze,onInput:wi,onChange:yn,onFocus:xe,onBlur:Je},null,42,["id","name","placeholder","value","disabled","readonly"]),bt(Mt.$slots,"range-separator",{},()=>[ue("span",{class:ye(A(a).b("separator"))},pn(Mt.rangeSeparator),3)]),ue("input",{id:Mt.id&&Mt.id[1],autocomplete:"off",name:Mt.name&&Mt.name[1],placeholder:Mt.endPlaceholder,value:A(Nt)&&A(Nt)[1],disabled:A(Ye),readonly:!Mt.editable||Mt.readonly,class:ye(A(a).b("input")),onMousedown:Ze,onFocus:xe,onBlur:Je,onInput:Bt,onChange:ht},null,42,["id","name","placeholder","value","disabled","readonly"]),Mt.clearIcon?(X(),Rt(A(On),{key:1,class:ye(A(W)),onClick:Ne},{default:tt(()=>[(X(),Rt(kr(Mt.clearIcon)))]),_:1},8,["class"])):wt("v-if",!0)],38)):(X(),Rt(A(_s),{key:0,id:Mt.id,ref_key:"inputRef",ref:T,"container-role":"combobox","model-value":A(Nt),name:Mt.name,size:A(tn),disabled:A(Ye),placeholder:Mt.placeholder,class:ye([A(s).b("editor"),A(s).bm("editor",Mt.type),Mt.$attrs.class]),style:Vn(Mt.$attrs.style),readonly:!Mt.editable||Mt.readonly||A(Ct)||A(vt)||A(Vt)||Mt.type==="week","aria-label":Mt.ariaLabel,tabindex:Mt.tabindex,"validate-event":!1,onInput:Xr,onFocus:xe,onBlur:Je,onKeydown:sr,onChange:St,onMousedown:Ze,onMouseenter:nn,onMouseleave:It,onTouchstartPassive:Ft,onClick:er(()=>{},["stop"])},{prefix:tt(()=>[A(Re)?(X(),Rt(A(On),{key:0,class:ye(A(u).e("icon")),onMousedown:er(Ze,["prevent"]),onTouchstartPassive:Ft},{default:tt(()=>[(X(),Rt(kr(A(Re))))]),_:1},8,["class","onMousedown"])):wt("v-if",!0)]),suffix:tt(()=>[pt.value&&Mt.clearIcon?(X(),Rt(A(On),{key:0,class:ye(`${A(u).e("icon")} clear-icon`),onClick:er(Ne,["stop"])},{default:tt(()=>[(X(),Rt(kr(Mt.clearIcon)))]),_:1},8,["class","onClick"])):wt("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onKeydown","onClick"]))]),content:tt(()=>[bt(Mt.$slots,"default",{visible:M.value,actualVisible:E.value,parsedValue:A(lt),format:Mt.format,dateFormat:Mt.dateFormat,timeFormat:Mt.timeFormat,unlinkPanels:Mt.unlinkPanels,type:Mt.type,defaultValue:Mt.defaultValue,onPick:se,onSelectRange:ae,onSetPickerOption:Xt,onCalendarChange:qn,onPanelChange:Qr,onKeydown:Se,onMousedown:er(()=>{},["stop"])})]),_:3},16,["visible","transition","popper-class","popper-options","fallback-placements","placement"]))}});var UK=mn(T8e,[["__file","picker.vue"]]);const M8e=un({...HK,datetimeRole:String,parsedValue:{type:dt(Object)}}),jK=({getAvailableHours:e,getAvailableMinutes:t,getAvailableSeconds:n})=>{const r=(s,u,a,h)=>{const m={hour:e,minute:t,second:n};let v=s;return["hour","minute","second"].forEach(_=>{if(m[_]){let b;const T=m[_];switch(_){case"minute":{b=T(v.hour(),u,h);break}case"second":{b=T(v.hour(),v.minute(),u,h);break}default:{b=T(u,h);break}}if(b!=null&&b.length&&!b.includes(v[_]())){const M=a?0:b.length-1;v=v[_](b[M])}}}),v},i={};return{timePickerOptions:i,getAvailableTime:r,onSetOption:([s,u])=>{i[s]=u}}},R5=e=>{const t=(r,i)=>r||i,n=r=>r!==!0;return e.map(t).filter(n)},GK=(e,t,n)=>({getHoursList:(s,u)=>L5(24,e&&(()=>e==null?void 0:e(s,u))),getMinutesList:(s,u,a)=>L5(60,t&&(()=>t==null?void 0:t(s,u,a))),getSecondsList:(s,u,a,h)=>L5(60,n&&(()=>n==null?void 0:n(s,u,a,h)))}),WK=(e,t,n)=>{const{getHoursList:r,getMinutesList:i,getSecondsList:o}=GK(e,t,n);return{getAvailableHours:(h,m)=>R5(r(h,m)),getAvailableMinutes:(h,m,v)=>R5(i(h,m,v)),getAvailableSeconds:(h,m,v,_)=>R5(o(h,m,v,_))}},qK=e=>{const t=Te(e.parsedValue);return Wt(()=>e.visible,n=>{n||(t.value=e.parsedValue)}),t},Rf=new Map;if(ri){let e;document.addEventListener("mousedown",t=>e=t),document.addEventListener("mouseup",t=>{if(e){for(const n of Rf.values())for(const{documentHandler:r}of n)r(t,e);e=void 0}})}function lN(e,t){let n=[];return Array.isArray(t.arg)?n=t.arg:Fl(t.arg)&&n.push(t.arg),function(r,i){const o=t.instance.popperRef,s=r.target,u=i==null?void 0:i.target,a=!t||!t.instance,h=!s||!u,m=e.contains(s)||e.contains(u),v=e===s,_=n.length&&n.some(T=>T==null?void 0:T.contains(s))||n.length&&n.includes(u),b=o&&(o.contains(s)||o.contains(u));a||h||m||v||_||b||t.value(r,i)}}const dh={beforeMount(e,t){Rf.has(e)||Rf.set(e,[]),Rf.get(e).push({documentHandler:lN(e,t),bindingFn:t.value})},updated(e,t){Rf.has(e)||Rf.set(e,[]);const n=Rf.get(e),r=n.findIndex(o=>o.bindingFn===t.oldValue),i={documentHandler:lN(e,t),bindingFn:t.value};r>=0?n.splice(r,1,i):n.push(i)},unmounted(e){Rf.delete(e)}},E8e=100,A8e=600,HS={beforeMount(e,t){const n=t.value,{interval:r=E8e,delay:i=A8e}=tr(n)?{}:n;let o,s;const u=()=>tr(n)?n():n.handler(),a=()=>{s&&(clearTimeout(s),s=void 0),o&&(clearInterval(o),o=void 0)};e.addEventListener("mousedown",h=>{h.button===0&&(a(),u(),document.addEventListener("mouseup",()=>a(),{once:!0}),s=setTimeout(()=>{o=setInterval(()=>{u()},r)},i))})}},cI="_trap-focus-children",Gm=[],uN=e=>{if(Gm.length===0)return;const t=Gm[Gm.length-1][cI];if(t.length>0&&e.code===Kn.tab){if(t.length===1){e.preventDefault(),document.activeElement!==t[0]&&t[0].focus();return}const n=e.shiftKey,r=e.target===t[0],i=e.target===t[t.length-1];r&&n&&(e.preventDefault(),t[t.length-1].focus()),i&&!n&&(e.preventDefault(),t[0].focus())}},I8e={beforeMount(e){e[cI]=xF(e),Gm.push(e),Gm.length<=1&&document.addEventListener("keydown",uN)},updated(e){Fn(()=>{e[cI]=xF(e)})},unmounted(){Gm.shift(),Gm.length===0&&document.removeEventListener("keydown",uN)}};var cN=!1,$m,dI,hI,V3,H3,KK,U3,fI,pI,mI,YK,vI,gI,ZK,XK;function el(){if(!cN){cN=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(vI=/\b(iPhone|iP[ao]d)/.exec(e),gI=/\b(iP[ao]d)/.exec(e),mI=/Android/i.exec(e),ZK=/FBAN\/\w+;/i.exec(e),XK=/Mobile/i.exec(e),YK=!!/Win64/.exec(e),t){$m=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,$m&&document&&document.documentMode&&($m=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(e);KK=r?parseFloat(r[1])+4:$m,dI=t[2]?parseFloat(t[2]):NaN,hI=t[3]?parseFloat(t[3]):NaN,V3=t[4]?parseFloat(t[4]):NaN,V3?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),H3=t&&t[1]?parseFloat(t[1]):NaN):H3=NaN}else $m=dI=hI=H3=V3=NaN;if(n){if(n[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);U3=i?parseFloat(i[1].replace("_",".")):!0}else U3=!1;fI=!!n[2],pI=!!n[3]}else U3=fI=pI=!1}}var _I={ie:function(){return el()||$m},ieCompatibilityMode:function(){return el()||KK>$m},ie64:function(){return _I.ie()&&YK},firefox:function(){return el()||dI},opera:function(){return el()||hI},webkit:function(){return el()||V3},safari:function(){return _I.webkit()},chrome:function(){return el()||H3},windows:function(){return el()||fI},osx:function(){return el()||U3},linux:function(){return el()||pI},iphone:function(){return el()||vI},mobile:function(){return el()||vI||gI||mI||XK},nativeApp:function(){return el()||ZK},android:function(){return el()||mI},ipad:function(){return el()||gI}},k8e=_I,O6=!!(typeof window<"u"&&window.document&&window.document.createElement),P8e={canUseDOM:O6,canUseWorkers:typeof Worker<"u",canUseEventListeners:O6&&!!(window.addEventListener||window.attachEvent),canUseViewport:O6&&!!window.screen,isInWorker:!O6},JK=P8e,QK;JK.canUseDOM&&(QK=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function L8e(e,t){if(!JK.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var i=document.createElement("div");i.setAttribute(n,"return;"),r=typeof i[n]=="function"}return!r&&QK&&e==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var R8e=L8e,dN=10,hN=40,fN=800;function eY(e){var t=0,n=0,r=0,i=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=t*dN,i=n*dN,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||i)&&e.deltaMode&&(e.deltaMode==1?(r*=hN,i*=hN):(r*=fN,i*=fN)),r&&!t&&(t=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:i}}eY.getEventType=function(){return k8e.firefox()?"DOMMouseScroll":R8e("wheel")?"wheel":"mousewheel"};var D8e=eY;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const O8e=function(e,t){if(e&&e.addEventListener){const n=function(r){const i=D8e(r);t&&Reflect.apply(t,this,[r,i])};e.addEventListener("wheel",n,{passive:!0})}},z8e={beforeMount(e,t){O8e(e,t.value)}},B8e=un({role:{type:String,required:!0},spinnerDate:{type:dt(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:dt(String),default:""},...VK}),F8e=ge({__name:"basic-time-spinner",props:B8e,emits:["change","select-range","set-option"],setup(e,{emit:t}){const n=e,r=en("time"),{getHoursList:i,getMinutesList:o,getSecondsList:s}=GK(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let u=!1;const a=Te(),h=Te(),m=Te(),v=Te(),_={hours:h,minutes:m,seconds:v},b=le(()=>n.showSeconds?rN:rN.slice(0,2)),T=le(()=>{const{spinnerDate:_e}=n,xe=_e.hour(),Be=_e.minute(),Je=_e.second();return{hours:xe,minutes:Be,seconds:Je}}),M=le(()=>{const{hours:_e,minutes:xe}=A(T);return{hours:i(n.role),minutes:o(_e,n.role),seconds:s(_e,xe,n.role)}}),E=le(()=>{const{hours:_e,minutes:xe,seconds:Be}=A(T);return{hours:P5(_e,23),minutes:P5(xe,59),seconds:P5(Be,59)}}),k=mo(_e=>{u=!1,U(_e)},200),z=_e=>{if(!!!n.amPmMode)return"";const Be=n.amPmMode==="A";let Je=_e<12?" am":" pm";return Be&&(Je=Je.toUpperCase()),Je},B=_e=>{let xe;switch(_e){case"hours":xe=[0,2];break;case"minutes":xe=[3,5];break;case"seconds":xe=[6,8];break}const[Be,Je]=xe;t("select-range",Be,Je),a.value=_e},U=_e=>{Q(_e,A(T)[_e])},W=()=>{U("hours"),U("minutes"),U("seconds")},q=_e=>_e.querySelector(`.${r.namespace.value}-scrollbar__wrap`),Q=(_e,xe)=>{if(n.arrowControl)return;const Be=A(_[_e]);Be&&Be.$el&&(q(Be.$el).scrollTop=Math.max(0,xe*te(_e)))},te=_e=>{const xe=A(_[_e]),Be=xe==null?void 0:xe.$el.querySelector("li");return Be&&Number.parseFloat(Hf(Be,"height"))||0},ie=()=>{re(1)},ae=()=>{re(-1)},re=_e=>{a.value||B("hours");const xe=a.value,Be=A(T)[xe],Je=a.value==="hours"?24:60,Ye=se(xe,Be,_e,Je);be(xe,Ye),Q(xe,Ye),Fn(()=>B(xe))},se=(_e,xe,Be,Je)=>{let Ye=(xe+Be+Je)%Je;const lt=A(M)[_e];for(;lt[Ye]&&Ye!==xe;)Ye=(Ye+Be+Je)%Je;return Ye},be=(_e,xe)=>{if(A(M)[_e][xe])return;const{hours:Ye,minutes:lt,seconds:Nt}=A(T);let Dt;switch(_e){case"hours":Dt=n.spinnerDate.hour(xe).minute(lt).second(Nt);break;case"minutes":Dt=n.spinnerDate.hour(Ye).minute(xe).second(Nt);break;case"seconds":Dt=n.spinnerDate.hour(Ye).minute(lt).second(xe);break}t("change",Dt)},Ie=(_e,{value:xe,disabled:Be})=>{Be||(be(_e,xe),B(_e),Q(_e,xe))},Se=_e=>{u=!0,k(_e);const xe=Math.min(Math.round((q(A(_[_e]).$el).scrollTop-(me(_e)*.5-10)/te(_e)+3)/te(_e)),_e==="hours"?23:59);be(_e,xe)},me=_e=>A(_[_e]).$el.offsetHeight,Le=()=>{const _e=xe=>{const Be=A(_[xe]);Be&&Be.$el&&(q(Be.$el).onscroll=()=>{Se(xe)})};_e("hours"),_e("minutes"),_e("seconds")};br(()=>{Fn(()=>{!n.arrowControl&&Le(),W(),n.role==="start"&&B("hours")})});const Ee=(_e,xe)=>{_[xe].value=_e};return t("set-option",[`${n.role}_scrollDown`,re]),t("set-option",[`${n.role}_emitSelectRange`,B]),Wt(()=>n.spinnerDate,()=>{u||W()}),(_e,xe)=>(X(),pe("div",{class:ye([A(r).b("spinner"),{"has-seconds":_e.showSeconds}])},[_e.arrowControl?wt("v-if",!0):(X(!0),pe(Nn,{key:0},Ur(A(b),Be=>(X(),Rt(A(fd),{key:Be,ref_for:!0,ref:Je=>Ee(Je,Be),class:ye(A(r).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":A(r).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:Je=>B(Be),onMousemove:Je=>U(Be)},{default:tt(()=>[(X(!0),pe(Nn,null,Ur(A(M)[Be],(Je,Ye)=>(X(),pe("li",{key:Ye,class:ye([A(r).be("spinner","item"),A(r).is("active",Ye===A(T)[Be]),A(r).is("disabled",Je)]),onClick:lt=>Ie(Be,{value:Ye,disabled:Je})},[Be==="hours"?(X(),pe(Nn,{key:0},[Br(pn(("0"+(_e.amPmMode?Ye%12||12:Ye)).slice(-2))+pn(z(Ye)),1)],64)):(X(),pe(Nn,{key:1},[Br(pn(("0"+Ye).slice(-2)),1)],64))],10,["onClick"]))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),_e.arrowControl?(X(!0),pe(Nn,{key:1},Ur(A(b),Be=>(X(),pe("div",{key:Be,class:ye([A(r).be("spinner","wrapper"),A(r).is("arrow")]),onMouseenter:Je=>B(Be)},[yr((X(),Rt(A(On),{class:ye(["arrow-up",A(r).be("spinner","arrow")])},{default:tt(()=>[Fe(A(a8))]),_:1},8,["class"])),[[A(HS),ae]]),yr((X(),Rt(A(On),{class:ye(["arrow-down",A(r).be("spinner","arrow")])},{default:tt(()=>[Fe(A(cd))]),_:1},8,["class"])),[[A(HS),ie]]),ue("ul",{class:ye(A(r).be("spinner","list"))},[(X(!0),pe(Nn,null,Ur(A(E)[Be],(Je,Ye)=>(X(),pe("li",{key:Ye,class:ye([A(r).be("spinner","item"),A(r).is("active",Je===A(T)[Be]),A(r).is("disabled",A(M)[Be][Je])])},[typeof Je=="number"?(X(),pe(Nn,{key:0},[Be==="hours"?(X(),pe(Nn,{key:0},[Br(pn(("0"+(_e.amPmMode?Je%12||12:Je)).slice(-2))+pn(z(Je)),1)],64)):(X(),pe(Nn,{key:1},[Br(pn(("0"+Je).slice(-2)),1)],64))],64)):wt("v-if",!0)],2))),128))],2)],42,["onMouseenter"]))),128)):wt("v-if",!0)],2))}});var yI=mn(F8e,[["__file","basic-time-spinner.vue"]]);const N8e=ge({__name:"panel-time-pick",props:M8e,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const n=e,r=An("EP_PICKER_BASE"),{arrowControl:i,disabledHours:o,disabledMinutes:s,disabledSeconds:u,defaultValue:a}=r.props,{getAvailableHours:h,getAvailableMinutes:m,getAvailableSeconds:v}=WK(o,s,u),_=en("time"),{t:b,lang:T}=ii(),M=Te([0,2]),E=qK(n),k=le(()=>Oa(n.actualVisible)?`${_.namespace.value}-zoom-in-top`:""),z=le(()=>n.format.includes("ss")),B=le(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),U=Ee=>{const _e=ur(Ee).locale(T.value),xe=Ie(_e);return _e.isSame(xe)},W=()=>{t("pick",E.value,!1)},q=(Ee=!1,_e=!1)=>{_e||t("pick",n.parsedValue,Ee)},Q=Ee=>{if(!n.visible)return;const _e=Ie(Ee).millisecond(0);t("pick",_e,!0)},te=(Ee,_e)=>{t("select-range",Ee,_e),M.value=[Ee,_e]},ie=Ee=>{const _e=[0,3].concat(z.value?[6]:[]),xe=["hours","minutes"].concat(z.value?["seconds"]:[]),Je=(_e.indexOf(M.value[0])+Ee+_e.length)%_e.length;re.start_emitSelectRange(xe[Je])},ae=Ee=>{const _e=Ee.code,{left:xe,right:Be,up:Je,down:Ye}=Kn;if([xe,Be].includes(_e)){ie(_e===xe?-1:1),Ee.preventDefault();return}if([Je,Ye].includes(_e)){const lt=_e===Je?-1:1;re.start_scrollDown(lt),Ee.preventDefault();return}},{timePickerOptions:re,onSetOption:se,getAvailableTime:be}=jK({getAvailableHours:h,getAvailableMinutes:m,getAvailableSeconds:v}),Ie=Ee=>be(Ee,n.datetimeRole||"",!0),Se=Ee=>Ee?ur(Ee,n.format).locale(T.value):null,me=Ee=>Ee?Ee.format(n.format):null,Le=()=>ur(a).locale(T.value);return t("set-picker-option",["isValidValue",U]),t("set-picker-option",["formatToString",me]),t("set-picker-option",["parseUserInput",Se]),t("set-picker-option",["handleKeydownInput",ae]),t("set-picker-option",["getRangeAvailableTime",Ie]),t("set-picker-option",["getDefaultValue",Le]),(Ee,_e)=>(X(),Rt(Lo,{name:A(k)},{default:tt(()=>[Ee.actualVisible||Ee.visible?(X(),pe("div",{key:0,class:ye(A(_).b("panel"))},[ue("div",{class:ye([A(_).be("panel","content"),{"has-seconds":A(z)}])},[Fe(yI,{ref:"spinner",role:Ee.datetimeRole||"start","arrow-control":A(i),"show-seconds":A(z),"am-pm-mode":A(B),"spinner-date":Ee.parsedValue,"disabled-hours":A(o),"disabled-minutes":A(s),"disabled-seconds":A(u),onChange:Q,onSetOption:A(se),onSelectRange:te},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),ue("div",{class:ye(A(_).be("panel","footer"))},[ue("button",{type:"button",class:ye([A(_).be("panel","btn"),"cancel"]),onClick:W},pn(A(b)("el.datepicker.cancel")),3),ue("button",{type:"button",class:ye([A(_).be("panel","btn"),"confirm"]),onClick:xe=>q()},pn(A(b)("el.datepicker.confirm")),11,["onClick"])],2)],2)):wt("v-if",!0)]),_:1},8,["name"]))}});var US=mn(N8e,[["__file","panel-time-pick.vue"]]);const $8e=un({...HK,parsedValue:{type:dt(Array)}}),V8e=ge({__name:"panel-time-range",props:$8e,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const n=e,r=(Re,pt)=>{const Ne=[];for(let et=Re;et<=pt;et++)Ne.push(et);return Ne},{t:i,lang:o}=ii(),s=en("time"),u=en("picker"),a=An("EP_PICKER_BASE"),{arrowControl:h,disabledHours:m,disabledMinutes:v,disabledSeconds:_,defaultValue:b}=a.props,T=le(()=>[s.be("range-picker","body"),s.be("panel","content"),s.is("arrow",h),U.value?"has-seconds":""]),M=le(()=>[s.be("range-picker","body"),s.be("panel","content"),s.is("arrow",h),U.value?"has-seconds":""]),E=le(()=>n.parsedValue[0]),k=le(()=>n.parsedValue[1]),z=qK(n),B=()=>{t("pick",z.value,!1)},U=le(()=>n.format.includes("ss")),W=le(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),q=(Re=!1)=>{t("pick",[E.value,k.value],Re)},Q=Re=>{ae(Re.millisecond(0),k.value)},te=Re=>{ae(E.value,Re.millisecond(0))},ie=Re=>{const pt=Re.map(et=>ur(et).locale(o.value)),Ne=Be(pt);return pt[0].isSame(Ne[0])&&pt[1].isSame(Ne[1])},ae=(Re,pt)=>{t("pick",[Re,pt],!0)},re=le(()=>E.value>k.value),se=Te([0,2]),be=(Re,pt)=>{t("select-range",Re,pt,"min"),se.value=[Re,pt]},Ie=le(()=>U.value?11:8),Se=(Re,pt)=>{t("select-range",Re,pt,"max");const Ne=A(Ie);se.value=[Re+Ne,pt+Ne]},me=Re=>{const pt=U.value?[0,3,6,11,14,17]:[0,3,8,11],Ne=["hours","minutes"].concat(U.value?["seconds"]:[]),Ze=(pt.indexOf(se.value[0])+Re+pt.length)%pt.length,nn=pt.length/2;Ze<nn?Nt.start_emitSelectRange(Ne[Ze]):Nt.end_emitSelectRange(Ne[Ze-nn])},Le=Re=>{const pt=Re.code,{left:Ne,right:et,up:Ze,down:nn}=Kn;if([Ne,et].includes(pt)){me(pt===Ne?-1:1),Re.preventDefault();return}if([Ze,nn].includes(pt)){const It=pt===Ze?-1:1,Ft=se.value[0]<Ie.value?"start":"end";Nt[`${Ft}_scrollDown`](It),Re.preventDefault();return}},Ee=(Re,pt)=>{const Ne=m?m(Re):[],et=Re==="start",nn=(pt||(et?k.value:E.value)).hour(),It=et?r(nn+1,23):r(0,nn-1);return w5(Ne,It)},_e=(Re,pt,Ne)=>{const et=v?v(Re,pt):[],Ze=pt==="start",nn=Ne||(Ze?k.value:E.value),It=nn.hour();if(Re!==It)return et;const Ft=nn.minute(),zt=Ze?r(Ft+1,59):r(0,Ft-1);return w5(et,zt)},xe=(Re,pt,Ne,et)=>{const Ze=_?_(Re,pt,Ne):[],nn=Ne==="start",It=et||(nn?k.value:E.value),Ft=It.hour(),zt=It.minute();if(Re!==Ft||pt!==zt)return Ze;const tn=It.second(),fn=nn?r(tn+1,59):r(0,tn-1);return w5(Ze,fn)},Be=([Re,pt])=>[Dt(Re,"start",!0,pt),Dt(pt,"end",!1,Re)],{getAvailableHours:Je,getAvailableMinutes:Ye,getAvailableSeconds:lt}=WK(Ee,_e,xe),{timePickerOptions:Nt,getAvailableTime:Dt,onSetOption:je}=jK({getAvailableHours:Je,getAvailableMinutes:Ye,getAvailableSeconds:lt}),Ct=Re=>Re?Tn(Re)?Re.map(pt=>ur(pt,n.format).locale(o.value)):ur(Re,n.format).locale(o.value):null,vt=Re=>Re?Tn(Re)?Re.map(pt=>pt.format(n.format)):Re.format(n.format):null,Vt=()=>{if(Tn(b))return b.map(pt=>ur(pt).locale(o.value));const Re=ur(b).locale(o.value);return[Re,Re.add(60,"m")]};return t("set-picker-option",["formatToString",vt]),t("set-picker-option",["parseUserInput",Ct]),t("set-picker-option",["isValidValue",ie]),t("set-picker-option",["handleKeydownInput",Le]),t("set-picker-option",["getDefaultValue",Vt]),t("set-picker-option",["getRangeAvailableTime",Be]),(Re,pt)=>Re.actualVisible?(X(),pe("div",{key:0,class:ye([A(s).b("range-picker"),A(u).b("panel")])},[ue("div",{class:ye(A(s).be("range-picker","content"))},[ue("div",{class:ye(A(s).be("range-picker","cell"))},[ue("div",{class:ye(A(s).be("range-picker","header"))},pn(A(i)("el.datepicker.startTime")),3),ue("div",{class:ye(A(T))},[Fe(yI,{ref:"minSpinner",role:"start","show-seconds":A(U),"am-pm-mode":A(W),"arrow-control":A(h),"spinner-date":A(E),"disabled-hours":Ee,"disabled-minutes":_e,"disabled-seconds":xe,onChange:Q,onSetOption:A(je),onSelectRange:be},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),ue("div",{class:ye(A(s).be("range-picker","cell"))},[ue("div",{class:ye(A(s).be("range-picker","header"))},pn(A(i)("el.datepicker.endTime")),3),ue("div",{class:ye(A(M))},[Fe(yI,{ref:"maxSpinner",role:"end","show-seconds":A(U),"am-pm-mode":A(W),"arrow-control":A(h),"spinner-date":A(k),"disabled-hours":Ee,"disabled-minutes":_e,"disabled-seconds":xe,onChange:te,onSetOption:A(je),onSelectRange:Se},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),ue("div",{class:ye(A(s).be("panel","footer"))},[ue("button",{type:"button",class:ye([A(s).be("panel","btn"),"cancel"]),onClick:Ne=>B()},pn(A(i)("el.datepicker.cancel")),11,["onClick"]),ue("button",{type:"button",class:ye([A(s).be("panel","btn"),"confirm"]),disabled:A(re),onClick:Ne=>q()},pn(A(i)("el.datepicker.confirm")),11,["disabled","onClick"])],2)],2)):wt("v-if",!0)}});var H8e=mn(V8e,[["__file","panel-time-range.vue"]]);ur.extend(JL);var U8e=ge({name:"ElTimePicker",install:null,props:{...QL,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,t){const n=Te(),[r,i]=e.isRange?["timerange",H8e]:["time",US],o=s=>t.emit("update:modelValue",s);return Rr("ElPopperOptions",e.popperOptions),t.expose({focus:s=>{var u;(u=n.value)==null||u.handleFocusInput(s)},blur:s=>{var u;(u=n.value)==null||u.handleBlurInput(s)},handleOpen:()=>{var s;(s=n.value)==null||s.handleOpen()},handleClose:()=>{var s;(s=n.value)==null||s.handleClose()}}),()=>{var s;const u=(s=e.format)!=null?s:uI;return Fe(UK,Lr(e,{ref:n,type:r,format:u,"onUpdate:modelValue":o}),{default:a=>Fe(i,a,null)})}}});const j8e=pr(U8e),G8e=(e,t)=>{const n=e.subtract(1,"month").endOf("month").date();return Qf(t).map((r,i)=>n-(t-i-1))},W8e=e=>{const t=e.daysInMonth();return Qf(t).map((n,r)=>r+1)},q8e=e=>Qf(e.length/7).map(t=>{const n=t*7;return e.slice(n,n+7)}),K8e=un({selectedDay:{type:dt(Object)},range:{type:dt(Array)},date:{type:dt(Object),required:!0},hideHeader:{type:Boolean}}),Y8e={pick:e=>Ar(e)};var tY={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(pd,function(){return function(n,r,i){var o=r.prototype,s=function(v){return v&&(v.indexOf?v:v.s)},u=function(v,_,b,T,M){var E=v.name?v:v.$locale(),k=s(E[_]),z=s(E[b]),B=k||z.map(function(W){return W.slice(0,T)});if(!M)return B;var U=E.weekStart;return B.map(function(W,q){return B[(q+(U||0))%7]})},a=function(){return i.Ls[i.locale()]},h=function(v,_){return v.formats[_]||function(b){return b.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(T,M,E){return M||E.slice(1)})}(v.formats[_.toUpperCase()])},m=function(){var v=this;return{months:function(_){return _?_.format("MMMM"):u(v,"months")},monthsShort:function(_){return _?_.format("MMM"):u(v,"monthsShort","months",3)},firstDayOfWeek:function(){return v.$locale().weekStart||0},weekdays:function(_){return _?_.format("dddd"):u(v,"weekdays")},weekdaysMin:function(_){return _?_.format("dd"):u(v,"weekdaysMin","weekdays",2)},weekdaysShort:function(_){return _?_.format("ddd"):u(v,"weekdaysShort","weekdays",3)},longDateFormat:function(_){return h(v.$locale(),_)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return m.bind(this)()},i.localeData=function(){var v=a();return{firstDayOfWeek:function(){return v.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(_){return h(v,_)},meridiem:v.meridiem,ordinal:v.ordinal}},i.months=function(){return u(a(),"months")},i.monthsShort=function(){return u(a(),"monthsShort","months",3)},i.weekdays=function(v){return u(a(),"weekdays",null,null,v)},i.weekdaysShort=function(v){return u(a(),"weekdaysShort","weekdays",3,v)},i.weekdaysMin=function(v){return u(a(),"weekdaysMin","weekdays",2,v)}}})})(tY);var Z8e=tY.exports;const nY=md(Z8e),X8e=(e,t)=>{ur.extend(nY);const n=ur.localeData().firstDayOfWeek(),{t:r,lang:i}=ii(),o=ur().locale(i.value),s=le(()=>!!e.range&&!!e.range.length),u=le(()=>{let _=[];if(s.value){const[b,T]=e.range,M=Qf(T.date()-b.date()+1).map(z=>({text:b.date()+z,type:"current"}));let E=M.length%7;E=E===0?0:7-E;const k=Qf(E).map((z,B)=>({text:B+1,type:"next"}));_=M.concat(k)}else{const b=e.date.startOf("month").day(),T=G8e(e.date,(b-n+7)%7).map(z=>({text:z,type:"prev"})),M=W8e(e.date).map(z=>({text:z,type:"current"}));_=[...T,...M];const E=7-(_.length%7||7),k=Qf(E).map((z,B)=>({text:B+1,type:"next"}));_=_.concat(k)}return q8e(_)}),a=le(()=>{const _=n;return _===0?S5.map(b=>r(`el.datepicker.weeks.${b}`)):S5.slice(_).concat(S5.slice(0,_)).map(b=>r(`el.datepicker.weeks.${b}`))}),h=(_,b)=>{switch(b){case"prev":return e.date.startOf("month").subtract(1,"month").date(_);case"next":return e.date.startOf("month").add(1,"month").date(_);case"current":return e.date.date(_)}};return{now:o,isInRange:s,rows:u,weekDays:a,getFormattedDate:h,handlePickDay:({text:_,type:b})=>{const T=h(_,b);t("pick",T)},getSlotData:({text:_,type:b})=>{const T=h(_,b);return{isSelected:T.isSame(e.selectedDay),type:`${b}-month`,day:T.format("YYYY-MM-DD"),date:T.toDate()}}}},J8e=ge({name:"DateTable"}),Q8e=ge({...J8e,props:K8e,emits:Y8e,setup(e,{expose:t,emit:n}){const r=e,{isInRange:i,now:o,rows:s,weekDays:u,getFormattedDate:a,handlePickDay:h,getSlotData:m}=X8e(r,n),v=en("calendar-table"),_=en("calendar-day"),b=({text:T,type:M})=>{const E=[M];if(M==="current"){const k=a(T,M);k.isSame(r.selectedDay,"day")&&E.push(_.is("selected")),k.isSame(o,"day")&&E.push(_.is("today"))}return E};return t({getFormattedDate:a}),(T,M)=>(X(),pe("table",{class:ye([A(v).b(),A(v).is("range",A(i))]),cellspacing:"0",cellpadding:"0"},[T.hideHeader?wt("v-if",!0):(X(),pe("thead",{key:0},[(X(!0),pe(Nn,null,Ur(A(u),E=>(X(),pe("th",{key:E},pn(E),1))),128))])),ue("tbody",null,[(X(!0),pe(Nn,null,Ur(A(s),(E,k)=>(X(),pe("tr",{key:k,class:ye({[A(v).e("row")]:!0,[A(v).em("row","hide-border")]:k===0&&T.hideHeader})},[(X(!0),pe(Nn,null,Ur(E,(z,B)=>(X(),pe("td",{key:B,class:ye(b(z)),onClick:U=>A(h)(z)},[ue("div",{class:ye(A(_).b())},[bt(T.$slots,"date-cell",{data:A(m)(z)},()=>[ue("span",null,pn(z.text),1)])],2)],10,["onClick"]))),128))],2))),128))])],2))}});var pN=mn(Q8e,[["__file","date-table.vue"]]);const eTe=(e,t)=>{const n=e.endOf("month"),r=t.startOf("month"),o=n.isSame(r,"week")?r.add(1,"week"):r;return[[e,n],[o.startOf("week"),t]]},tTe=(e,t)=>{const n=e.endOf("month"),r=e.add(1,"month").startOf("month"),i=n.isSame(r,"week")?r.add(1,"week"):r,o=i.endOf("month"),s=t.startOf("month"),u=o.isSame(s,"week")?s.add(1,"week"):s;return[[e,n],[i.startOf("week"),o],[u.startOf("week"),t]]},nTe=(e,t,n)=>{const{lang:r}=ii(),i=Te(),o=ur().locale(r.value),s=le({get(){return e.modelValue?a.value:i.value},set(E){if(!E)return;i.value=E;const k=E.toDate();t(Hs,k),t(Tr,k)}}),u=le(()=>{if(!e.range||!Tn(e.range)||e.range.length!==2||e.range.some(B=>!ip(B)))return[];const E=e.range.map(B=>ur(B).locale(r.value)),[k,z]=E;return k.isAfter(z)?[]:k.isSame(z,"month")?b(k,z):k.add(1,"month").month()!==z.month()?[]:b(k,z)}),a=le(()=>e.modelValue?ur(e.modelValue).locale(r.value):s.value||(u.value.length?u.value[0][0]:o)),h=le(()=>a.value.subtract(1,"month").date(1)),m=le(()=>a.value.add(1,"month").date(1)),v=le(()=>a.value.subtract(1,"year").date(1)),_=le(()=>a.value.add(1,"year").date(1)),b=(E,k)=>{const z=E.startOf("week"),B=k.endOf("week"),U=z.get("month"),W=B.get("month");return U===W?[[z,B]]:(U+1)%12===W?eTe(z,B):U+2===W||(U+1)%11===W?tTe(z,B):[]},T=E=>{s.value=E};return{calculateValidatedDateRange:b,date:a,realSelectedDay:s,pickDay:T,selectDate:E=>{const z={"prev-month":h.value,"next-month":m.value,"prev-year":v.value,"next-year":_.value,today:o}[E];z.isSame(a.value,"day")||T(z)},validatedRange:u}},rTe=e=>Tn(e)&&e.length===2&&e.every(t=>ip(t)),iTe=un({modelValue:{type:Date},range:{type:dt(Array),validator:rTe}}),aTe={[Tr]:e=>ip(e),[Hs]:e=>ip(e)},oTe="ElCalendar",sTe=ge({name:oTe}),lTe=ge({...sTe,props:iTe,emits:aTe,setup(e,{expose:t,emit:n}){const r=e,i=en("calendar"),{calculateValidatedDateRange:o,date:s,pickDay:u,realSelectedDay:a,selectDate:h,validatedRange:m}=nTe(r,n),{t:v}=ii(),_=le(()=>{const b=`el.datepicker.month${s.value.format("M")}`;return`${s.value.year()} ${v("el.datepicker.year")} ${v(b)}`});return t({selectedDay:a,pickDay:u,selectDate:h,calculateValidatedDateRange:o}),(b,T)=>(X(),pe("div",{class:ye(A(i).b())},[ue("div",{class:ye(A(i).e("header"))},[bt(b.$slots,"header",{date:A(_)},()=>[ue("div",{class:ye(A(i).e("title"))},pn(A(_)),3),A(m).length===0?(X(),pe("div",{key:0,class:ye(A(i).e("button-group"))},[Fe(A(zK),null,{default:tt(()=>[Fe(A(Po),{size:"small",onClick:M=>A(h)("prev-month")},{default:tt(()=>[Br(pn(A(v)("el.datepicker.prevMonth")),1)]),_:1},8,["onClick"]),Fe(A(Po),{size:"small",onClick:M=>A(h)("today")},{default:tt(()=>[Br(pn(A(v)("el.datepicker.today")),1)]),_:1},8,["onClick"]),Fe(A(Po),{size:"small",onClick:M=>A(h)("next-month")},{default:tt(()=>[Br(pn(A(v)("el.datepicker.nextMonth")),1)]),_:1},8,["onClick"])]),_:1})],2)):wt("v-if",!0)])],2),A(m).length===0?(X(),pe("div",{key:0,class:ye(A(i).e("body"))},[Fe(pN,{date:A(s),"selected-day":A(a),onPick:A(u)},Mu({_:2},[b.$slots["date-cell"]?{name:"date-cell",fn:tt(M=>[bt(b.$slots,"date-cell",ac(ap(M)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(X(),pe("div",{key:1,class:ye(A(i).e("body"))},[(X(!0),pe(Nn,null,Ur(A(m),(M,E)=>(X(),Rt(pN,{key:E,date:M[0],"selected-day":A(a),range:M,"hide-header":E!==0,onPick:A(u)},Mu({_:2},[b.$slots["date-cell"]?{name:"date-cell",fn:tt(k=>[bt(b.$slots,"date-cell",ac(ap(k)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var uTe=mn(lTe,[["__file","calendar.vue"]]);const cTe=pr(uTe),dTe=un({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:dt([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),hTe=ge({name:"ElCard"}),fTe=ge({...hTe,props:dTe,setup(e){const t=en("card");return(n,r)=>(X(),pe("div",{class:ye([A(t).b(),A(t).is(`${n.shadow}-shadow`)])},[n.$slots.header||n.header?(X(),pe("div",{key:0,class:ye(A(t).e("header"))},[bt(n.$slots,"header",{},()=>[Br(pn(n.header),1)])],2)):wt("v-if",!0),ue("div",{class:ye([A(t).e("body"),n.bodyClass]),style:Vn(n.bodyStyle)},[bt(n.$slots,"default")],6),n.$slots.footer||n.footer?(X(),pe("div",{key:1,class:ye(A(t).e("footer"))},[bt(n.$slots,"footer",{},()=>[Br(pn(n.footer),1)])],2)):wt("v-if",!0)],2))}});var pTe=mn(fTe,[["__file","card.vue"]]);const mTe=pr(pTe),vTe=un({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),gTe={change:(e,t)=>[e,t].every(Jn)},rY=Symbol("carouselContextKey"),bI="ElCarouselItem",mN=300,_Te=(e,t,n)=>{const{children:r,addChild:i,removeChild:o}=jL(Mr(),bI),s=yo(),u=Te(-1),a=Te(null),h=Te(!1),m=Te(),v=Te(0),_=Te(!0),b=Te(!0),T=Te(!1),M=le(()=>e.arrow!=="never"&&!A(z)),E=le(()=>r.value.some(Dt=>Dt.props.label.toString().length>0)),k=le(()=>e.type==="card"),z=le(()=>e.direction==="vertical"),B=le(()=>e.height!=="auto"?{height:e.height}:{height:`${v.value}px`,overflow:"hidden"}),U=e0(Dt=>{ae(Dt)},mN,{trailing:!0}),W=e0(Dt=>{_e(Dt)},mN),q=Dt=>_.value?u.value<=1?Dt<=1:Dt>1:!0;function Q(){a.value&&(clearInterval(a.value),a.value=null)}function te(){e.interval<=0||!e.autoplay||a.value||(a.value=setInterval(()=>ie(),e.interval))}const ie=()=>{b.value||(T.value=!0),b.value=!1,u.value<r.value.length-1?u.value=u.value+1:e.loop?u.value=0:T.value=!1};function ae(Dt){if(b.value||(T.value=!0),b.value=!1,Qn(Dt)){const vt=r.value.filter(Vt=>Vt.props.name===Dt);vt.length>0&&(Dt=r.value.indexOf(vt[0]))}if(Dt=Number(Dt),Number.isNaN(Dt)||Dt!==Math.floor(Dt))return;const je=r.value.length,Ct=u.value;Dt<0?u.value=e.loop?je-1:0:Dt>=je?u.value=e.loop?0:je-1:u.value=Dt,Ct===u.value&&re(Ct),Je()}function re(Dt){r.value.forEach((je,Ct)=>{je.translateItem(Ct,u.value,Dt)})}function se(Dt,je){var Ct,vt,Vt,Re;const pt=A(r),Ne=pt.length;if(Ne===0||!Dt.states.inStage)return!1;const et=je+1,Ze=je-1,nn=Ne-1,It=pt[nn].states.active,Ft=pt[0].states.active,zt=(vt=(Ct=pt[et])==null?void 0:Ct.states)==null?void 0:vt.active,tn=(Re=(Vt=pt[Ze])==null?void 0:Vt.states)==null?void 0:Re.active;return je===nn&&Ft||zt?"left":je===0&&It||tn?"right":!1}function be(){h.value=!0,e.pauseOnHover&&Q()}function Ie(){h.value=!1,te()}function Se(){T.value=!1}function me(Dt){A(z)||r.value.forEach((je,Ct)=>{Dt===se(je,Ct)&&(je.states.hover=!0)})}function Le(){A(z)||r.value.forEach(Dt=>{Dt.states.hover=!1})}function Ee(Dt){Dt!==u.value&&(b.value||(T.value=!0)),u.value=Dt}function _e(Dt){e.trigger==="hover"&&Dt!==u.value&&(u.value=Dt,b.value||(T.value=!0))}function xe(){ae(u.value-1)}function Be(){ae(u.value+1)}function Je(){Q(),e.pauseOnHover||te()}function Ye(Dt){e.height==="auto"&&(v.value=Dt)}function lt(){var Dt;const je=(Dt=s.default)==null?void 0:Dt.call(s);if(!je)return null;const vt=Xf(je).filter(Vt=>fa(Vt)&&Vt.type.name===bI);return(vt==null?void 0:vt.length)===2&&e.loop&&!k.value?(_.value=!0,vt):(_.value=!1,null)}Wt(()=>u.value,(Dt,je)=>{re(je),_.value&&(Dt=Dt%2,je=je%2),je>-1&&t("change",Dt,je)}),Wt(()=>e.autoplay,Dt=>{Dt?te():Q()}),Wt(()=>e.loop,()=>{ae(u.value)}),Wt(()=>e.interval,()=>{Je()});const Nt=Ji();return br(()=>{Wt(()=>r.value,()=>{r.value.length>0&&ae(e.initialIndex)},{immediate:!0}),Nt.value=ga(m.value,()=>{re()}),te()}),Di(()=>{Q(),m.value&&Nt.value&&Nt.value.stop()}),Rr(rY,{root:m,isCardType:k,isVertical:z,items:r,loop:e.loop,cardScale:e.cardScale,addItem:i,removeItem:o,setActiveItem:ae,setContainerHeight:Ye}),{root:m,activeIndex:u,arrowDisplay:M,hasLabel:E,hover:h,isCardType:k,isTransitioning:T,items:r,isVertical:z,containerStyle:B,isItemsTwoLength:_,handleButtonEnter:me,handleTransitionEnd:Se,handleButtonLeave:Le,handleIndicatorClick:Ee,handleMouseEnter:be,handleMouseLeave:Ie,setActiveItem:ae,prev:xe,next:Be,PlaceholderItem:lt,isTwoLengthShow:q,throttledArrowClick:U,throttledIndicatorHover:W}},yTe="ElCarousel",bTe=ge({name:yTe}),xTe=ge({...bTe,props:vTe,emits:gTe,setup(e,{expose:t,emit:n}){const r=e,{root:i,activeIndex:o,arrowDisplay:s,hasLabel:u,hover:a,isCardType:h,items:m,isVertical:v,containerStyle:_,handleButtonEnter:b,handleButtonLeave:T,isTransitioning:M,handleIndicatorClick:E,handleMouseEnter:k,handleMouseLeave:z,handleTransitionEnd:B,setActiveItem:U,prev:W,next:q,PlaceholderItem:Q,isTwoLengthShow:te,throttledArrowClick:ie,throttledIndicatorHover:ae}=_Te(r,n),re=en("carousel"),{t:se}=ii(),be=le(()=>{const me=[re.b(),re.m(r.direction)];return A(h)&&me.push(re.m("card")),me}),Ie=le(()=>{const me=[re.e("container")];return r.motionBlur&&A(M)&&m.value.length>1&&me.push(A(v)?`${re.namespace.value}-transitioning-vertical`:`${re.namespace.value}-transitioning`),me}),Se=le(()=>{const me=[re.e("indicators"),re.em("indicators",r.direction)];return A(u)&&me.push(re.em("indicators","labels")),r.indicatorPosition==="outside"&&me.push(re.em("indicators","outside")),A(v)&&me.push(re.em("indicators","right")),me});return t({activeIndex:o,setActiveItem:U,prev:W,next:q}),(me,Le)=>(X(),pe("div",{ref_key:"root",ref:i,class:ye(A(be)),onMouseenter:er(A(k),["stop"]),onMouseleave:er(A(z),["stop"])},[A(s)?(X(),Rt(Lo,{key:0,name:"carousel-arrow-left",persisted:""},{default:tt(()=>[yr(ue("button",{type:"button",class:ye([A(re).e("arrow"),A(re).em("arrow","left")]),"aria-label":A(se)("el.carousel.leftArrow"),onMouseenter:Ee=>A(b)("left"),onMouseleave:A(T),onClick:er(Ee=>A(ie)(A(o)-1),["stop"])},[Fe(A(On),null,{default:tt(()=>[Fe(A(sh))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[vi,(me.arrow==="always"||A(a))&&(r.loop||A(o)>0)]])]),_:1})):wt("v-if",!0),A(s)?(X(),Rt(Lo,{key:1,name:"carousel-arrow-right",persisted:""},{default:tt(()=>[yr(ue("button",{type:"button",class:ye([A(re).e("arrow"),A(re).em("arrow","right")]),"aria-label":A(se)("el.carousel.rightArrow"),onMouseenter:Ee=>A(b)("right"),onMouseleave:A(T),onClick:er(Ee=>A(ie)(A(o)+1),["stop"])},[Fe(A(On),null,{default:tt(()=>[Fe(A(xs))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[vi,(me.arrow==="always"||A(a))&&(r.loop||A(o)<A(m).length-1)]])]),_:1})):wt("v-if",!0),ue("div",{class:ye(A(Ie)),style:Vn(A(_)),onTransitionend:A(B)},[Fe(A(Q)),bt(me.$slots,"default")],46,["onTransitionend"]),me.indicatorPosition!=="none"?(X(),pe("ul",{key:2,class:ye(A(Se))},[(X(!0),pe(Nn,null,Ur(A(m),(Ee,_e)=>yr((X(),pe("li",{key:_e,class:ye([A(re).e("indicator"),A(re).em("indicator",me.direction),A(re).is("active",_e===A(o))]),onMouseenter:xe=>A(ae)(_e),onClick:er(xe=>A(E)(_e),["stop"])},[ue("button",{class:ye(A(re).e("button")),"aria-label":A(se)("el.carousel.indicator",{index:_e+1})},[A(u)?(X(),pe("span",{key:0},pn(Ee.props.label),1)):wt("v-if",!0)],10,["aria-label"])],42,["onMouseenter","onClick"])),[[vi,A(te)(_e)]])),128))],2)):wt("v-if",!0),r.motionBlur?(X(),pe("svg",{key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},[ue("defs",null,[ue("filter",{id:"elCarouselHorizontal"},[ue("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),ue("filter",{id:"elCarouselVertical"},[ue("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])])])):wt("v-if",!0)],42,["onMouseenter","onMouseleave"]))}});var wTe=mn(xTe,[["__file","carousel.vue"]]);const STe=un({name:{type:String,default:""},label:{type:[String,Number],default:""}}),CTe=e=>{const t=An(rY),n=Mr(),r=Te(),i=Te(!1),o=Te(0),s=Te(1),u=Te(!1),a=Te(!1),h=Te(!1),m=Te(!1),{isCardType:v,isVertical:_,cardScale:b}=t;function T(B,U,W){const q=W-1,Q=U-1,te=U+1,ie=W/2;return U===0&&B===q?-1:U===q&&B===0?W:B<Q&&U-B>=ie?W+1:B>te&&B-U>=ie?-2:B}function M(B,U){var W,q;const Q=A(_)?((W=t.root.value)==null?void 0:W.offsetHeight)||0:((q=t.root.value)==null?void 0:q.offsetWidth)||0;return h.value?Q*((2-b)*(B-U)+1)/4:B<U?-(1+b)*Q/4:(3+b)*Q/4}function E(B,U,W){const q=t.root.value;return q?((W?q.offsetHeight:q.offsetWidth)||0)*(B-U):0}const k=(B,U,W)=>{var q;const Q=A(v),te=(q=t.items.value.length)!=null?q:Number.NaN,ie=B===U;!Q&&!Oa(W)&&(m.value=ie||B===W),!ie&&te>2&&t.loop&&(B=T(B,U,te));const ae=A(_);u.value=ie,Q?(h.value=Math.round(Math.abs(B-U))<=1,o.value=M(B,U),s.value=A(u)?1:b):o.value=E(B,U,ae),a.value=!0,ie&&r.value&&t.setContainerHeight(r.value.offsetHeight)};function z(){if(t&&A(v)){const B=t.items.value.findIndex(({uid:U})=>U===n.uid);t.setActiveItem(B)}}return br(()=>{t.addItem({props:e,states:Ci({hover:i,translate:o,scale:s,active:u,ready:a,inStage:h,animating:m}),uid:n.uid,translateItem:k})}),vh(()=>{t.removeItem(n.uid)}),{carouselItemRef:r,active:u,animating:m,hover:i,inStage:h,isVertical:_,translate:o,isCardType:v,scale:s,ready:a,handleItemClick:z}},TTe=ge({name:bI}),MTe=ge({...TTe,props:STe,setup(e){const t=e,n=en("carousel"),{carouselItemRef:r,active:i,animating:o,hover:s,inStage:u,isVertical:a,translate:h,isCardType:m,scale:v,ready:_,handleItemClick:b}=CTe(t),T=le(()=>[n.e("item"),n.is("active",i.value),n.is("in-stage",u.value),n.is("hover",s.value),n.is("animating",o.value),{[n.em("item","card")]:m.value,[n.em("item","card-vertical")]:m.value&&a.value}]),M=le(()=>{const k=`${`translate${A(a)?"Y":"X"}`}(${A(h)}px)`,z=`scale(${A(v)})`;return{transform:[k,z].join(" ")}});return(E,k)=>yr((X(),pe("div",{ref_key:"carouselItemRef",ref:r,class:ye(A(T)),style:Vn(A(M)),onClick:A(b)},[A(m)?yr((X(),pe("div",{key:0,class:ye(A(n).e("mask"))},null,2)),[[vi,!A(i)]]):wt("v-if",!0),bt(E.$slots,"default")],14,["onClick"])),[[vi,A(_)]])}});var iY=mn(MTe,[["__file","carousel-item.vue"]]);const ETe=pr(wTe,{CarouselItem:iY}),ATe=Ma(iY),aY={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:go,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...Uo(["ariaControls"])},oY={[Tr]:e=>Qn(e)||Jn(e)||za(e),change:e=>Qn(e)||Jn(e)||za(e)},B_=Symbol("checkboxGroupContextKey"),ITe=({model:e,isChecked:t})=>{const n=An(B_,void 0),r=le(()=>{var o,s;const u=(o=n==null?void 0:n.max)==null?void 0:o.value,a=(s=n==null?void 0:n.min)==null?void 0:s.value;return!Oa(u)&&e.value.length>=u&&!t.value||!Oa(a)&&e.value.length<=a&&t.value});return{isDisabled:Ss(le(()=>(n==null?void 0:n.disabled.value)||r.value)),isLimitDisabled:r}},kTe=(e,{model:t,isLimitExceeded:n,hasOwnLabel:r,isDisabled:i,isLabeledByFormItem:o})=>{const s=An(B_,void 0),{formItem:u}=Cs(),{emit:a}=Mr();function h(T){var M,E,k,z;return[!0,e.trueValue,e.trueLabel].includes(T)?(E=(M=e.trueValue)!=null?M:e.trueLabel)!=null?E:!0:(z=(k=e.falseValue)!=null?k:e.falseLabel)!=null?z:!1}function m(T,M){a("change",h(T),M)}function v(T){if(n.value)return;const M=T.target;a("change",h(M.checked),T)}async function _(T){n.value||!r.value&&!i.value&&o.value&&(T.composedPath().some(k=>k.tagName==="LABEL")||(t.value=h([!1,e.falseValue,e.falseLabel].includes(t.value)),await Fn(),m(t.value,T)))}const b=le(()=>(s==null?void 0:s.validateEvent)||e.validateEvent);return Wt(()=>e.modelValue,()=>{b.value&&(u==null||u.validate("change").catch(T=>void 0))}),{handleChange:v,onClickRoot:_}},PTe=e=>{const t=Te(!1),{emit:n}=Mr(),r=An(B_,void 0),i=le(()=>Oa(r)===!1),o=Te(!1),s=le({get(){var u,a;return i.value?(u=r==null?void 0:r.modelValue)==null?void 0:u.value:(a=e.modelValue)!=null?a:t.value},set(u){var a,h;i.value&&Tn(u)?(o.value=((a=r==null?void 0:r.max)==null?void 0:a.value)!==void 0&&u.length>(r==null?void 0:r.max.value)&&u.length>s.value.length,o.value===!1&&((h=r==null?void 0:r.changeEvent)==null||h.call(r,u))):(n(Tr,u),t.value=u)}});return{model:s,isGroup:i,isLimitExceeded:o}},LTe=(e,t,{model:n})=>{const r=An(B_,void 0),i=Te(!1),o=le(()=>f0(e.value)?e.label:e.value),s=le(()=>{const m=n.value;return za(m)?m:Tn(m)?Ar(o.value)?m.map(Bi).some(v=>ys(v,o.value)):m.map(Bi).includes(o.value):m!=null?m===e.trueValue||m===e.trueLabel:!!m}),u=lo(le(()=>{var m;return(m=r==null?void 0:r.size)==null?void 0:m.value}),{prop:!0}),a=lo(le(()=>{var m;return(m=r==null?void 0:r.size)==null?void 0:m.value})),h=le(()=>!!t.default||!f0(o.value));return{checkboxButtonSize:u,isChecked:s,isFocused:i,checkboxSize:a,hasOwnLabel:h,actualValue:o}},sY=(e,t)=>{const{formItem:n}=Cs(),{model:r,isGroup:i,isLimitExceeded:o}=PTe(e),{isFocused:s,isChecked:u,checkboxButtonSize:a,checkboxSize:h,hasOwnLabel:m,actualValue:v}=LTe(e,t,{model:r}),{isDisabled:_}=ITe({model:r,isChecked:u}),{inputId:b,isLabeledByFormItem:T}=xc(e,{formItemContext:n,disableIdGeneration:m,disableIdManagement:i}),{handleChange:M,onClickRoot:E}=kTe(e,{model:r,isLimitExceeded:o,hasOwnLabel:m,isDisabled:_,isLabeledByFormItem:T});return(()=>{function z(){var B,U;Tn(r.value)&&!r.value.includes(v.value)?r.value.push(v.value):r.value=(U=(B=e.trueValue)!=null?B:e.trueLabel)!=null?U:!0}e.checked&&z()})(),Jf({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},le(()=>i.value&&f0(e.value))),Jf({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},le(()=>!!e.trueLabel)),Jf({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},le(()=>!!e.falseLabel)),{inputId:b,isLabeledByFormItem:T,isChecked:u,isDisabled:_,isFocused:s,checkboxButtonSize:a,checkboxSize:h,hasOwnLabel:m,model:r,actualValue:v,handleChange:M,onClickRoot:E}},RTe=ge({name:"ElCheckbox"}),DTe=ge({...RTe,props:aY,emits:oY,setup(e){const t=e,n=yo(),{inputId:r,isLabeledByFormItem:i,isChecked:o,isDisabled:s,isFocused:u,checkboxSize:a,hasOwnLabel:h,model:m,actualValue:v,handleChange:_,onClickRoot:b}=sY(t,n),T=en("checkbox"),M=le(()=>[T.b(),T.m(a.value),T.is("disabled",s.value),T.is("bordered",t.border),T.is("checked",o.value)]),E=le(()=>[T.e("input"),T.is("disabled",s.value),T.is("checked",o.value),T.is("indeterminate",t.indeterminate),T.is("focus",u.value)]);return(k,z)=>(X(),Rt(kr(!A(h)&&A(i)?"span":"label"),{class:ye(A(M)),"aria-controls":k.indeterminate?k.ariaControls:null,onClick:A(b)},{default:tt(()=>{var B,U,W,q;return[ue("span",{class:ye(A(E))},[k.trueValue||k.falseValue||k.trueLabel||k.falseLabel?yr((X(),pe("input",{key:0,id:A(r),"onUpdate:modelValue":Q=>ra(m)?m.value=Q:null,class:ye(A(T).e("original")),type:"checkbox",indeterminate:k.indeterminate,name:k.name,tabindex:k.tabindex,disabled:A(s),"true-value":(U=(B=k.trueValue)!=null?B:k.trueLabel)!=null?U:!0,"false-value":(q=(W=k.falseValue)!=null?W:k.falseLabel)!=null?q:!1,onChange:A(_),onFocus:Q=>u.value=!0,onBlur:Q=>u.value=!1,onClick:er(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[RS,A(m)]]):yr((X(),pe("input",{key:1,id:A(r),"onUpdate:modelValue":Q=>ra(m)?m.value=Q:null,class:ye(A(T).e("original")),type:"checkbox",indeterminate:k.indeterminate,disabled:A(s),value:A(v),name:k.name,tabindex:k.tabindex,onChange:A(_),onFocus:Q=>u.value=!0,onBlur:Q=>u.value=!1,onClick:er(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","disabled","value","name","tabindex","onChange","onFocus","onBlur","onClick"])),[[RS,A(m)]]),ue("span",{class:ye(A(T).e("inner"))},null,2)],2),A(h)?(X(),pe("span",{key:0,class:ye(A(T).e("label"))},[bt(k.$slots,"default"),k.$slots.default?wt("v-if",!0):(X(),pe(Nn,{key:0},[Br(pn(k.label),1)],64))],2)):wt("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var OTe=mn(DTe,[["__file","checkbox.vue"]]);const zTe=ge({name:"ElCheckboxButton"}),BTe=ge({...zTe,props:aY,emits:oY,setup(e){const t=e,n=yo(),{isFocused:r,isChecked:i,isDisabled:o,checkboxButtonSize:s,model:u,actualValue:a,handleChange:h}=sY(t,n),m=An(B_,void 0),v=en("checkbox"),_=le(()=>{var T,M,E,k;const z=(M=(T=m==null?void 0:m.fill)==null?void 0:T.value)!=null?M:"";return{backgroundColor:z,borderColor:z,color:(k=(E=m==null?void 0:m.textColor)==null?void 0:E.value)!=null?k:"",boxShadow:z?`-1px 0 0 0 ${z}`:void 0}}),b=le(()=>[v.b("button"),v.bm("button",s.value),v.is("disabled",o.value),v.is("checked",i.value),v.is("focus",r.value)]);return(T,M)=>{var E,k,z,B;return X(),pe("label",{class:ye(A(b))},[T.trueValue||T.falseValue||T.trueLabel||T.falseLabel?yr((X(),pe("input",{key:0,"onUpdate:modelValue":U=>ra(u)?u.value=U:null,class:ye(A(v).be("button","original")),type:"checkbox",name:T.name,tabindex:T.tabindex,disabled:A(o),"true-value":(k=(E=T.trueValue)!=null?E:T.trueLabel)!=null?k:!0,"false-value":(B=(z=T.falseValue)!=null?z:T.falseLabel)!=null?B:!1,onChange:A(h),onFocus:U=>r.value=!0,onBlur:U=>r.value=!1,onClick:er(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[RS,A(u)]]):yr((X(),pe("input",{key:1,"onUpdate:modelValue":U=>ra(u)?u.value=U:null,class:ye(A(v).be("button","original")),type:"checkbox",name:T.name,tabindex:T.tabindex,disabled:A(o),value:A(a),onChange:A(h),onFocus:U=>r.value=!0,onBlur:U=>r.value=!1,onClick:er(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","value","onChange","onFocus","onBlur","onClick"])),[[RS,A(u)]]),T.$slots.default||T.label?(X(),pe("span",{key:2,class:ye(A(v).be("button","inner")),style:Vn(A(i)?A(_):void 0)},[bt(T.$slots,"default",{},()=>[Br(pn(T.label),1)])],6)):wt("v-if",!0)],2)}}});var lY=mn(BTe,[["__file","checkbox-button.vue"]]);const FTe=un({modelValue:{type:dt(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:go,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},...Uo(["ariaLabel"])}),NTe={[Tr]:e=>Tn(e),change:e=>Tn(e)},$Te=ge({name:"ElCheckboxGroup"}),VTe=ge({...$Te,props:FTe,emits:NTe,setup(e,{emit:t}){const n=e,r=en("checkbox"),{formItem:i}=Cs(),{inputId:o,isLabeledByFormItem:s}=xc(n,{formItemContext:i}),u=async h=>{t(Tr,h),await Fn(),t("change",h)},a=le({get(){return n.modelValue},set(h){u(h)}});return Rr(B_,{...oc(Co(n),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:a,changeEvent:u}),Wt(()=>n.modelValue,()=>{n.validateEvent&&(i==null||i.validate("change").catch(h=>void 0))}),(h,m)=>{var v;return X(),Rt(kr(h.tag),{id:A(o),class:ye(A(r).b("group")),role:"group","aria-label":A(s)?void 0:h.ariaLabel||"checkbox-group","aria-labelledby":A(s)?(v=A(i))==null?void 0:v.labelId:void 0},{default:tt(()=>[bt(h.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var uY=mn(VTe,[["__file","checkbox-group.vue"]]);const Pu=pr(OTe,{CheckboxButton:lY,CheckboxGroup:uY}),HTe=Ma(lY),cY=Ma(uY),dY=un({modelValue:{type:[String,Number,Boolean],default:void 0},size:go,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),UTe=un({...dY,border:Boolean}),hY={[Tr]:e=>Qn(e)||Jn(e)||za(e),[sa]:e=>Qn(e)||Jn(e)||za(e)},fY=Symbol("radioGroupKey"),pY=(e,t)=>{const n=Te(),r=An(fY,void 0),i=le(()=>!!r),o=le(()=>f0(e.value)?e.label:e.value),s=le({get(){return i.value?r.modelValue:e.modelValue},set(v){i.value?r.changeEvent(v):t&&t(Tr,v),n.value.checked=e.modelValue===o.value}}),u=lo(le(()=>r==null?void 0:r.size)),a=Ss(le(()=>r==null?void 0:r.disabled)),h=Te(!1),m=le(()=>a.value||i.value&&s.value!==o.value?-1:0);return Jf({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},le(()=>i.value&&f0(e.value))),{radioRef:n,isGroup:i,radioGroup:r,focus:h,size:u,disabled:a,tabIndex:m,modelValue:s,actualValue:o}},jTe=ge({name:"ElRadio"}),GTe=ge({...jTe,props:UTe,emits:hY,setup(e,{emit:t}){const n=e,r=en("radio"),{radioRef:i,radioGroup:o,focus:s,size:u,disabled:a,modelValue:h,actualValue:m}=pY(n,t);function v(){Fn(()=>t("change",h.value))}return(_,b)=>{var T;return X(),pe("label",{class:ye([A(r).b(),A(r).is("disabled",A(a)),A(r).is("focus",A(s)),A(r).is("bordered",_.border),A(r).is("checked",A(h)===A(m)),A(r).m(A(u))])},[ue("span",{class:ye([A(r).e("input"),A(r).is("disabled",A(a)),A(r).is("checked",A(h)===A(m))])},[yr(ue("input",{ref_key:"radioRef",ref:i,"onUpdate:modelValue":M=>ra(h)?h.value=M:null,class:ye(A(r).e("original")),value:A(m),name:_.name||((T=A(o))==null?void 0:T.name),disabled:A(a),checked:A(h)===A(m),type:"radio",onFocus:M=>s.value=!0,onBlur:M=>s.value=!1,onChange:v,onClick:er(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","checked","onFocus","onBlur","onClick"]),[[XG,A(h)]]),ue("span",{class:ye(A(r).e("inner"))},null,2)],2),ue("span",{class:ye(A(r).e("label")),onKeydown:er(()=>{},["stop"])},[bt(_.$slots,"default",{},()=>[Br(pn(_.label),1)])],42,["onKeydown"])],2)}}});var WTe=mn(GTe,[["__file","radio.vue"]]);const qTe=un({...dY}),KTe=ge({name:"ElRadioButton"}),YTe=ge({...KTe,props:qTe,setup(e){const t=e,n=en("radio"),{radioRef:r,focus:i,size:o,disabled:s,modelValue:u,radioGroup:a,actualValue:h}=pY(t),m=le(()=>({backgroundColor:(a==null?void 0:a.fill)||"",borderColor:(a==null?void 0:a.fill)||"",boxShadow:a!=null&&a.fill?`-1px 0 0 0 ${a.fill}`:"",color:(a==null?void 0:a.textColor)||""}));return(v,_)=>{var b;return X(),pe("label",{class:ye([A(n).b("button"),A(n).is("active",A(u)===A(h)),A(n).is("disabled",A(s)),A(n).is("focus",A(i)),A(n).bm("button",A(o))])},[yr(ue("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":T=>ra(u)?u.value=T:null,class:ye(A(n).be("button","original-radio")),value:A(h),type:"radio",name:v.name||((b=A(a))==null?void 0:b.name),disabled:A(s),onFocus:T=>i.value=!0,onBlur:T=>i.value=!1,onClick:er(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","onFocus","onBlur","onClick"]),[[XG,A(u)]]),ue("span",{class:ye(A(n).be("button","inner")),style:Vn(A(u)===A(h)?A(m):{}),onKeydown:er(()=>{},["stop"])},[bt(v.$slots,"default",{},()=>[Br(pn(v.label),1)])],46,["onKeydown"])],2)}}});var mY=mn(YTe,[["__file","radio-button.vue"]]);const ZTe=un({id:{type:String,default:void 0},size:go,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...Uo(["ariaLabel"])}),XTe=hY,JTe=ge({name:"ElRadioGroup"}),QTe=ge({...JTe,props:ZTe,emits:XTe,setup(e,{emit:t}){const n=e,r=en("radio"),i=Ho(),o=Te(),{formItem:s}=Cs(),{inputId:u,isLabeledByFormItem:a}=xc(n,{formItemContext:s}),h=v=>{t(Tr,v),Fn(()=>t("change",v))};br(()=>{const v=o.value.querySelectorAll("[type=radio]"),_=v[0];!Array.from(v).some(b=>b.checked)&&_&&(_.tabIndex=0)});const m=le(()=>n.name||i.value);return Rr(fY,Ci({...Co(n),changeEvent:h,name:m})),Wt(()=>n.modelValue,()=>{n.validateEvent&&(s==null||s.validate("change").catch(v=>void 0))}),(v,_)=>(X(),pe("div",{id:A(u),ref_key:"radioGroupRef",ref:o,class:ye(A(r).b("group")),role:"radiogroup","aria-label":A(a)?void 0:v.ariaLabel||"radio-group","aria-labelledby":A(a)?A(s).labelId:void 0},[bt(v.$slots,"default")],10,["id","aria-label","aria-labelledby"]))}});var vY=mn(QTe,[["__file","radio-group.vue"]]);const gY=pr(WTe,{RadioButton:mY,RadioGroup:vY}),eMe=Ma(vY),tMe=Ma(mY);var nMe=ge({name:"NodeContent",setup(){return{ns:en("cascader-node")}},render(){const{ns:e}=this,{node:t,panel:n}=this.$parent,{data:r,label:i}=t,{renderLabelFn:o}=n;return jn("span",{class:e.e("label")},o?o({node:t,data:r}):i)}});const eR=Symbol(),rMe=ge({name:"ElCascaderNode",components:{ElCheckbox:Pu,ElRadio:gY,NodeContent:nMe,ElIcon:On,Check:L_,Loading:mc,ArrowRight:xs},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:t}){const n=An(eR),r=en("cascader-node"),i=le(()=>n.isHoverMenu),o=le(()=>n.config.multiple),s=le(()=>n.config.checkStrictly),u=le(()=>{var q;return(q=n.checkedNodes[0])==null?void 0:q.uid}),a=le(()=>e.node.isDisabled),h=le(()=>e.node.isLeaf),m=le(()=>s.value&&!h.value||!a.value),v=le(()=>b(n.expandingNode)),_=le(()=>s.value&&n.checkedNodes.some(b)),b=q=>{var Q;const{level:te,uid:ie}=e.node;return((Q=q==null?void 0:q.pathNodes[te-1])==null?void 0:Q.uid)===ie},T=()=>{v.value||n.expandNode(e.node)},M=q=>{const{node:Q}=e;q!==Q.checked&&n.handleCheckChange(Q,q)},E=()=>{n.lazyLoad(e.node,()=>{h.value||T()})},k=q=>{i.value&&(z(),!h.value&&t("expand",q))},z=()=>{const{node:q}=e;!m.value||q.loading||(q.loaded?T():E())},B=()=>{i.value&&!h.value||(h.value&&!a.value&&!s.value&&!o.value?W(!0):z())},U=q=>{s.value?(M(q),e.node.loaded&&T()):W(q)},W=q=>{e.node.loaded?(M(q),!s.value&&T()):E()};return{panel:n,isHoverMenu:i,multiple:o,checkStrictly:s,checkedNodeId:u,isDisabled:a,isLeaf:h,expandable:m,inExpandingPath:v,inCheckedPath:_,ns:r,handleHoverExpand:k,handleExpand:z,handleClick:B,handleCheck:W,handleSelectCheck:U}}});function iMe(e,t,n,r,i,o){const s=Zn("el-checkbox"),u=Zn("el-radio"),a=Zn("check"),h=Zn("el-icon"),m=Zn("node-content"),v=Zn("loading"),_=Zn("arrow-right");return X(),pe("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?null:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:void 0,class:ye([e.ns.b(),e.ns.is("selectable",e.checkStrictly),e.ns.is("active",e.node.checked),e.ns.is("disabled",!e.expandable),e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path"]),onMouseenter:e.handleHoverExpand,onFocus:e.handleHoverExpand,onClick:e.handleClick},[wt(" prefix "),e.multiple?(X(),Rt(s,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:er(()=>{},["stop"]),"onUpdate:modelValue":e.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onClick","onUpdate:modelValue"])):e.checkStrictly?(X(),Rt(u,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleSelectCheck,onClick:er(()=>{},["stop"])},{default:tt(()=>[wt(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),ue("span")]),_:1},8,["model-value","label","disabled","onUpdate:modelValue","onClick"])):e.isLeaf&&e.node.checked?(X(),Rt(h,{key:2,class:ye(e.ns.e("prefix"))},{default:tt(()=>[Fe(a)]),_:1},8,["class"])):wt("v-if",!0),wt(" content "),Fe(m),wt(" postfix "),e.isLeaf?wt("v-if",!0):(X(),pe(Nn,{key:3},[e.node.loading?(X(),Rt(h,{key:0,class:ye([e.ns.is("loading"),e.ns.e("postfix")])},{default:tt(()=>[Fe(v)]),_:1},8,["class"])):(X(),Rt(h,{key:1,class:ye(["arrow-right",e.ns.e("postfix")])},{default:tt(()=>[Fe(_)]),_:1},8,["class"]))],64))],42,["id","aria-haspopup","aria-owns","aria-expanded","tabindex","onMouseenter","onFocus","onClick"])}var aMe=mn(rMe,[["render",iMe],["__file","node.vue"]]);const oMe=ge({name:"ElCascaderMenu",components:{Loading:mc,ElIcon:On,ElScrollbar:fd,ElCascaderNode:aMe},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const t=Mr(),n=en("cascader-menu"),{t:r}=ii(),i=Ho();let o=null,s=null;const u=An(eR),a=Te(null),h=le(()=>!e.nodes.length),m=le(()=>!u.initialLoaded),v=le(()=>`${i.value}-${e.index}`),_=E=>{o=E.target},b=E=>{if(!(!u.isHoverMenu||!o||!a.value))if(o.contains(E.target)){T();const k=t.vnode.el,{left:z}=k.getBoundingClientRect(),{offsetWidth:B,offsetHeight:U}=k,W=E.clientX-z,q=o.offsetTop,Q=q+o.offsetHeight;a.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${W} ${q} L${B} 0 V${q} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${W} ${Q} L${B} ${U} V${Q} Z" />
        `}else s||(s=window.setTimeout(M,u.config.hoverThreshold))},T=()=>{s&&(clearTimeout(s),s=null)},M=()=>{a.value&&(a.value.innerHTML="",T())};return{ns:n,panel:u,hoverZone:a,isEmpty:h,isLoading:m,menuId:v,t:r,handleExpand:_,handleMouseMove:b,clearHoverZone:M}}});function sMe(e,t,n,r,i,o){const s=Zn("el-cascader-node"),u=Zn("loading"),a=Zn("el-icon"),h=Zn("el-scrollbar");return X(),Rt(h,{key:e.menuId,tag:"ul",role:"menu",class:ye(e.ns.b()),"wrap-class":e.ns.e("wrap"),"view-class":[e.ns.e("list"),e.ns.is("empty",e.isEmpty)],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:tt(()=>{var m;return[(X(!0),pe(Nn,null,Ur(e.nodes,v=>(X(),Rt(s,{key:v.uid,node:v,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),e.isLoading?(X(),pe("div",{key:0,class:ye(e.ns.e("empty-text"))},[Fe(a,{size:"14",class:ye(e.ns.is("loading"))},{default:tt(()=>[Fe(u)]),_:1},8,["class"]),Br(" "+pn(e.t("el.cascader.loading")),1)],2)):e.isEmpty?(X(),pe("div",{key:1,class:ye(e.ns.e("empty-text"))},[bt(e.$slots,"empty",{},()=>[Br(pn(e.t("el.cascader.noData")),1)])],2)):(m=e.panel)!=null&&m.isHoverMenu?(X(),pe("svg",{key:2,ref:"hoverZone",class:ye(e.ns.e("hover-zone"))},null,2)):wt("v-if",!0)]}),_:3},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var lMe=mn(oMe,[["render",sMe],["__file","menu.vue"]]);let uMe=0;const cMe=e=>{const t=[e];let{parent:n}=e;for(;n;)t.unshift(n),n=n.parent;return t};let xI=class wI{constructor(t,n,r,i=!1){this.data=t,this.config=n,this.parent=r,this.root=i,this.uid=uMe++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:o,label:s,children:u}=n,a=t[u],h=cMe(this);this.level=i?0:r?r.level+1:1,this.value=t[o],this.label=t[s],this.pathNodes=h,this.pathValues=h.map(m=>m.value),this.pathLabels=h.map(m=>m.label),this.childrenData=a,this.children=(a||[]).map(m=>new wI(m,n,this)),this.loaded=!n.lazy||this.isLeaf||!Dl(a)}get isDisabled(){const{data:t,parent:n,config:r}=this,{disabled:i,checkStrictly:o}=r;return(tr(i)?i(t,this):!!t[i])||!o&&(n==null?void 0:n.isDisabled)}get isLeaf(){const{data:t,config:n,childrenData:r,loaded:i}=this,{lazy:o,leaf:s}=n,u=tr(s)?s(t,this):t[s];return Oa(u)?o&&!i?!1:!(Array.isArray(r)&&r.length):!!u}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(t){const{childrenData:n,children:r}=this,i=new wI(t,this.config,this);return Array.isArray(n)?n.push(t):this.childrenData=[t],r.push(i),i}calcText(t,n){const r=t?this.pathLabels.join(n):this.label;return this.text=r,r}broadcast(t,...n){const r=`onParent${Kc(t)}`;this.children.forEach(i=>{i&&(i.broadcast(t,...n),i[r]&&i[r](...n))})}emit(t,...n){const{parent:r}=this,i=`onChild${Kc(t)}`;r&&(r[i]&&r[i](...n),r.emit(t,...n))}onParentCheck(t){this.isDisabled||this.setCheckState(t)}onChildCheck(){const{children:t}=this,n=t.filter(i=>!i.isDisabled),r=n.length?n.every(i=>i.checked):!1;this.setCheckState(r)}setCheckState(t){const n=this.children.length,r=this.children.reduce((i,o)=>{const s=o.checked?1:o.indeterminate?.5:0;return i+s},0);this.checked=this.loaded&&this.children.filter(i=>!i.isDisabled).every(i=>i.loaded&&i.checked)&&t,this.indeterminate=this.loaded&&r!==n&&r>0}doCheck(t){if(this.checked===t)return;const{checkStrictly:n,multiple:r}=this.config;n||!r?this.checked=t:(this.broadcast("check",t),this.setCheckState(t),this.emit("check"))}};const SI=(e,t)=>e.reduce((n,r)=>(r.isLeaf?n.push(r):(!t&&n.push(r),n=n.concat(SI(r.children,t))),n),[]);class vN{constructor(t,n){this.config=n;const r=(t||[]).map(i=>new xI(i,this.config));this.nodes=r,this.allNodes=SI(r,!1),this.leafNodes=SI(r,!0)}getNodes(){return this.nodes}getFlattedNodes(t){return t?this.leafNodes:this.allNodes}appendNode(t,n){const r=n?n.appendChild(t):new xI(t,this.config);n||this.nodes.push(r),this.allNodes.push(r),r.isLeaf&&this.leafNodes.push(r)}appendNodes(t,n){t.forEach(r=>this.appendNode(r,n))}getNodeByValue(t,n=!1){return!t&&t!==0?null:this.getFlattedNodes(n).find(i=>ys(i.value,t)||ys(i.pathValues,t))||null}getSameNode(t){return t&&this.getFlattedNodes(!1).find(({value:r,level:i})=>ys(t.value,r)&&t.level===i)||null}}const _Y=un({modelValue:{type:dt([Number,String,Array])},options:{type:dt(Array),default:()=>[]},props:{type:dt(Object),default:()=>({})}}),dMe={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:Gi,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},hMe=e=>le(()=>({...dMe,...e.props})),gN=e=>{if(!e)return 0;const t=e.id.split("-");return Number(t[t.length-2])},fMe=e=>{if(!e)return;const t=e.querySelector("input");t?t.click():mW(e)&&e.click()},pMe=(e,t)=>{const n=t.slice(0),r=n.map(o=>o.uid),i=e.reduce((o,s)=>{const u=r.indexOf(s.uid);return u>-1&&(o.push(s),n.splice(u,1),r.splice(u,1)),o},[]);return i.push(...n),i},mMe=ge({name:"ElCascaderPanel",components:{ElCascaderMenu:lMe},props:{..._Y,border:{type:Boolean,default:!0},renderLabel:Function},emits:[Tr,sa,"close","expand-change"],setup(e,{emit:t,slots:n}){let r=!1;const i=en("cascader"),o=hMe(e);let s=null;const u=Te(!0),a=Te([]),h=Te(null),m=Te([]),v=Te(null),_=Te([]),b=le(()=>o.value.expandTrigger==="hover"),T=le(()=>e.renderLabel||n.default),M=()=>{const{options:se}=e,be=o.value;r=!1,s=new vN(se,be),m.value=[s.getNodes()],be.lazy&&Dl(e.options)?(u.value=!1,E(void 0,Ie=>{Ie&&(s=new vN(Ie,be),m.value=[s.getNodes()]),u.value=!0,te(!1,!0)})):te(!1,!0)},E=(se,be)=>{const Ie=o.value;se=se||new xI({},Ie,void 0,!0),se.loading=!0;const Se=me=>{const Le=se,Ee=Le.root?null:Le;me&&(s==null||s.appendNodes(me,Ee)),Le.loading=!1,Le.loaded=!0,Le.childrenData=Le.childrenData||[],be&&be(me)};Ie.lazyLoad(se,Se)},k=(se,be)=>{var Ie;const{level:Se}=se,me=m.value.slice(0,Se);let Le;se.isLeaf?Le=se.pathNodes[Se-2]:(Le=se,me.push(se.children)),((Ie=v.value)==null?void 0:Ie.uid)!==(Le==null?void 0:Le.uid)&&(v.value=se,m.value=me,!be&&t("expand-change",(se==null?void 0:se.pathValues)||[]))},z=(se,be,Ie=!0)=>{const{checkStrictly:Se,multiple:me}=o.value,Le=_.value[0];r=!0,!me&&(Le==null||Le.doCheck(!1)),se.doCheck(be),Q(),Ie&&!me&&!Se&&t("close"),!Ie&&!me&&!Se&&B(se)},B=se=>{se&&(se=se.parent,B(se),se&&k(se))},U=se=>s==null?void 0:s.getFlattedNodes(se),W=se=>{var be;return(be=U(se))==null?void 0:be.filter(Ie=>Ie.checked!==!1)},q=()=>{_.value.forEach(se=>se.doCheck(!1)),Q(),m.value=m.value.slice(0,1),v.value=null,t("expand-change",[])},Q=()=>{var se;const{checkStrictly:be,multiple:Ie}=o.value,Se=_.value,me=W(!be),Le=pMe(Se,me),Ee=Le.map(_e=>_e.valueByOption);_.value=Le,h.value=Ie?Ee:(se=Ee[0])!=null?se:null},te=(se=!1,be=!1)=>{const{modelValue:Ie}=e,{lazy:Se,multiple:me,checkStrictly:Le}=o.value,Ee=!Le;if(!(!u.value||r||!be&&ys(Ie,h.value)))if(Se&&!se){const xe=g7(qpe(Vs(Ie))).map(Be=>s==null?void 0:s.getNodeByValue(Be)).filter(Be=>!!Be&&!Be.loaded&&!Be.loading);xe.length?xe.forEach(Be=>{E(Be,()=>te(!1,be))}):te(!0,be)}else{const _e=me?Vs(Ie):[Ie],xe=g7(_e.map(Be=>s==null?void 0:s.getNodeByValue(Be,Ee)));ie(xe,be),h.value=zS(Ie)}},ie=(se,be=!0)=>{const{checkStrictly:Ie}=o.value,Se=_.value,me=se.filter(_e=>!!_e&&(Ie||_e.isLeaf)),Le=s==null?void 0:s.getSameNode(v.value),Ee=be&&Le||me[0];Ee?Ee.pathNodes.forEach(_e=>k(_e,!0)):v.value=null,Se.forEach(_e=>_e.doCheck(!1)),Ci(me).forEach(_e=>_e.doCheck(!0)),_.value=me,Fn(ae)},ae=()=>{ri&&a.value.forEach(se=>{const be=se==null?void 0:se.$el;if(be){const Ie=be.querySelector(`.${i.namespace.value}-scrollbar__wrap`),Se=be.querySelector(`.${i.b("node")}.${i.is("active")}`)||be.querySelector(`.${i.b("node")}.in-active-path`);vL(Ie,Se)}})},re=se=>{const be=se.target,{code:Ie}=se;switch(Ie){case Kn.up:case Kn.down:{se.preventDefault();const Se=Ie===Kn.up?-1:1;B3(vW(be,Se,`.${i.b("node")}[tabindex="-1"]`));break}case Kn.left:{se.preventDefault();const Se=a.value[gN(be)-1],me=Se==null?void 0:Se.$el.querySelector(`.${i.b("node")}[aria-expanded="true"]`);B3(me);break}case Kn.right:{se.preventDefault();const Se=a.value[gN(be)+1],me=Se==null?void 0:Se.$el.querySelector(`.${i.b("node")}[tabindex="-1"]`);B3(me);break}case Kn.enter:fMe(be);break}};return Rr(eR,Ci({config:o,expandingNode:v,checkedNodes:_,isHoverMenu:b,initialLoaded:u,renderLabelFn:T,lazyLoad:E,expandNode:k,handleCheckChange:z})),Wt([o,()=>e.options],M,{deep:!0,immediate:!0}),Wt(()=>e.modelValue,()=>{r=!1,te()},{deep:!0}),Wt(()=>h.value,se=>{ys(se,e.modelValue)||(t(Tr,se),t(sa,se))}),FP(()=>a.value=[]),br(()=>!Dl(e.modelValue)&&te()),{ns:i,menuList:a,menus:m,checkedNodes:_,handleKeyDown:re,handleCheckChange:z,getFlattedNodes:U,getCheckedNodes:W,clearCheckedNodes:q,calculateCheckedValue:Q,scrollToExpandingNode:ae}}});function vMe(e,t,n,r,i,o){const s=Zn("el-cascader-menu");return X(),pe("div",{class:ye([e.ns.b("panel"),e.ns.is("bordered",e.border)]),onKeydown:e.handleKeyDown},[(X(!0),pe(Nn,null,Ur(e.menus,(u,a)=>(X(),Rt(s,{key:a,ref_for:!0,ref:h=>e.menuList[a]=h,index:a,nodes:[...u]},{empty:tt(()=>[bt(e.$slots,"empty")]),_:2},1032,["index","nodes"]))),128))],42,["onKeydown"])}var gMe=mn(mMe,[["render",vMe],["__file","index.vue"]]);const yY=pr(gMe),g0=un({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:dd},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),_Me={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},yMe=ge({name:"ElTag"}),bMe=ge({...yMe,props:g0,emits:_Me,setup(e,{emit:t}){const n=e,r=lo(),i=en("tag"),o=le(()=>{const{type:h,hit:m,effect:v,closable:_,round:b}=n;return[i.b(),i.is("closable",_),i.m(h||"primary"),i.m(r.value),i.m(v),i.is("hit",m),i.is("round",b)]}),s=h=>{t("close",h)},u=h=>{t("click",h)},a=h=>{h.component.subTree.component.bum=null};return(h,m)=>h.disableTransitions?(X(),pe("span",{key:0,class:ye(A(o)),style:Vn({backgroundColor:h.color}),onClick:u},[ue("span",{class:ye(A(i).e("content"))},[bt(h.$slots,"default")],2),h.closable?(X(),Rt(A(On),{key:0,class:ye(A(i).e("close")),onClick:er(s,["stop"])},{default:tt(()=>[Fe(A(Au))]),_:1},8,["class","onClick"])):wt("v-if",!0)],6)):(X(),Rt(Lo,{key:1,name:`${A(i).namespace.value}-zoom-in-center`,appear:"",onVnodeMounted:a},{default:tt(()=>[ue("span",{class:ye(A(o)),style:Vn({backgroundColor:h.color}),onClick:u},[ue("span",{class:ye(A(i).e("content"))},[bt(h.$slots,"default")],2),h.closable?(X(),Rt(A(On),{key:0,class:ye(A(i).e("close")),onClick:er(s,["stop"])},{default:tt(()=>[Fe(A(Au))]),_:1},8,["class","onClick"])):wt("v-if",!0)],6)]),_:3},8,["name"]))}});var xMe=mn(bMe,[["__file","tag.vue"]]);const Cx=pr(xMe),wMe=un({..._Y,size:go,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:dt(Function),default:(e,t)=>e.text.includes(t)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:dt(Function),default:()=>!0},placement:{type:dt(String),values:bh,default:"bottom-start"},fallbackPlacements:{type:dt(Array),default:["bottom-start","bottom","top-start","top","right","left"]},popperClass:{type:String,default:""},teleported:Ao.teleported,tagType:{...g0.type,default:"info"},tagEffect:{...g0.effect,default:"light"},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...O_}),SMe={[Tr]:e=>!0,[sa]:e=>!0,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,visibleChange:e=>za(e),expandChange:e=>!!e,removeTag:e=>!!e},CMe="ElCascader",TMe=ge({name:CMe}),MMe=ge({...TMe,props:wMe,emits:SMe,setup(e,{expose:t,emit:n}){const r=e,i={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:ht})=>{const{modifiersData:Zt,placement:Xt}=ht;["right","left","bottom","top"].includes(Xt)||(Zt.arrow.x=35)},requires:["arrow"]}]},o=jl();let s=0,u=0;const a=en("cascader"),h=en("input"),{t:m}=ii(),{form:v,formItem:_}=Cs(),{valueOnClear:b}=m8(r),{isComposing:T,handleComposition:M}=p8({afterComposition(ht){var Zt;const Xt=(Zt=ht.target)==null?void 0:Zt.value;Bt(Xt)}}),E=Te(null),k=Te(null),z=Te(null),B=Te(null),U=Te(null),W=Te(!1),q=Te(!1),Q=Te(!1),te=Te(!1),ie=Te(""),ae=Te(""),re=Te([]),se=Te([]),be=Te([]),Ie=le(()=>o.style),Se=le(()=>r.disabled||(v==null?void 0:v.disabled)),me=le(()=>r.placeholder||m("el.cascader.placeholder")),Le=le(()=>ae.value||re.value.length>0||T.value?"":me.value),Ee=lo(),_e=le(()=>["small"].includes(Ee.value)?"small":"default"),xe=le(()=>!!r.props.multiple),Be=le(()=>!r.filterable||xe.value),Je=le(()=>xe.value?ae.value:ie.value),Ye=le(()=>{var ht;return((ht=B.value)==null?void 0:ht.checkedNodes)||[]}),lt=le(()=>!r.clearable||Se.value||Q.value||!q.value?!1:!!Ye.value.length),Nt=le(()=>{const{showAllLevels:ht,separator:Zt}=r,Xt=Ye.value;return Xt.length?xe.value?"":Xt[0].calcText(ht,Zt):""}),Dt=le(()=>(_==null?void 0:_.validateState)||""),je=le({get(){return zS(r.modelValue)},set(ht){const Zt=ht??b.value;n(Tr,Zt),n(sa,Zt),r.validateEvent&&(_==null||_.validate("change").catch(Xt=>void 0))}}),Ct=le(()=>[a.b(),a.m(Ee.value),a.is("disabled",Se.value),o.class]),vt=le(()=>[h.e("icon"),"icon-arrow-down",a.is("reverse",W.value)]),Vt=le(()=>a.is("focus",W.value||te.value)),Re=le(()=>{var ht,Zt;return(Zt=(ht=E.value)==null?void 0:ht.popperRef)==null?void 0:Zt.contentRef}),pt=ht=>{var Zt,Xt,qn;Se.value||(ht=ht??!W.value,ht!==W.value&&(W.value=ht,(Xt=(Zt=k.value)==null?void 0:Zt.input)==null||Xt.setAttribute("aria-expanded",`${ht}`),ht?(Ne(),Fn((qn=B.value)==null?void 0:qn.scrollToExpandingNode)):r.filterable&&St(),n("visibleChange",ht)))},Ne=()=>{Fn(()=>{var ht;(ht=E.value)==null||ht.updatePopper()})},et=()=>{Q.value=!1},Ze=ht=>{const{showAllLevels:Zt,separator:Xt}=r;return{node:ht,key:ht.uid,text:ht.calcText(Zt,Xt),hitState:!1,closable:!Se.value&&!ht.isDisabled,isCollapseTag:!1}},nn=ht=>{var Zt;const Xt=ht.node;Xt.doCheck(!1),(Zt=B.value)==null||Zt.calculateCheckedValue(),n("removeTag",Xt.valueByOption)},It=()=>{if(!xe.value)return;const ht=Ye.value,Zt=[],Xt=[];if(ht.forEach(qn=>Xt.push(Ze(qn))),se.value=Xt,ht.length){ht.slice(0,r.maxCollapseTags).forEach(Mt=>Zt.push(Ze(Mt)));const qn=ht.slice(r.maxCollapseTags),Qr=qn.length;Qr&&(r.collapseTags?Zt.push({key:-1,text:`+ ${Qr}`,closable:!1,isCollapseTag:!0}):qn.forEach(Mt=>Zt.push(Ze(Mt))))}re.value=Zt},Ft=()=>{var ht,Zt;const{filterMethod:Xt,showAllLevels:qn,separator:Qr}=r,Mt=(Zt=(ht=B.value)==null?void 0:ht.getFlattedNodes(!r.props.checkStrictly))==null?void 0:Zt.filter(Gn=>Gn.isDisabled?!1:(Gn.calcText(qn,Qr),Xt(Gn,Je.value)));xe.value&&(re.value.forEach(Gn=>{Gn.hitState=!1}),se.value.forEach(Gn=>{Gn.hitState=!1})),Q.value=!0,be.value=Mt,Ne()},zt=()=>{var ht;let Zt;Q.value&&U.value?Zt=U.value.$el.querySelector(`.${a.e("suggestion-item")}`):Zt=(ht=B.value)==null?void 0:ht.$el.querySelector(`.${a.b("node")}[tabindex="-1"]`),Zt&&(Zt.focus(),!Q.value&&Zt.click())},tn=()=>{var ht,Zt;const Xt=(ht=k.value)==null?void 0:ht.input,qn=z.value,Qr=(Zt=U.value)==null?void 0:Zt.$el;if(!(!ri||!Xt)){if(Qr){const Mt=Qr.querySelector(`.${a.e("suggestion-list")}`);Mt.style.minWidth=`${Xt.offsetWidth}px`}if(qn){const{offsetHeight:Mt}=qn,Gn=re.value.length>0?`${Math.max(Mt+6,s)}px`:`${s}px`;Xt.style.height=Gn,Ne()}}},fn=ht=>{var Zt;return(Zt=B.value)==null?void 0:Zt.getCheckedNodes(ht)},hn=ht=>{Ne(),n("expandChange",ht)},Dn=ht=>{if(!T.value)switch(ht.code){case Kn.enter:pt();break;case Kn.down:pt(!0),Fn(zt),ht.preventDefault();break;case Kn.esc:W.value===!0&&(ht.preventDefault(),ht.stopPropagation(),pt(!1));break;case Kn.tab:pt(!1);break}},ln=()=>{var ht;(ht=B.value)==null||ht.clearCheckedNodes(),!W.value&&r.filterable&&St(),pt(!1),n("clear")},St=()=>{const{value:ht}=Nt;ie.value=ht,ae.value=ht},Pn=ht=>{var Zt,Xt;const{checked:qn}=ht;xe.value?(Zt=B.value)==null||Zt.handleCheckChange(ht,!qn,!1):(!qn&&((Xt=B.value)==null||Xt.handleCheckChange(ht,!0,!1)),pt(!1))},rr=ht=>{const Zt=ht.target,{code:Xt}=ht;switch(Xt){case Kn.up:case Kn.down:{const qn=Xt===Kn.up?-1:1;B3(vW(Zt,qn,`.${a.e("suggestion-item")}[tabindex="-1"]`));break}case Kn.enter:Zt.click();break}},cr=()=>{const ht=re.value,Zt=ht[ht.length-1];u=ae.value?0:u+1,!(!Zt||!u||r.collapseTags&&ht.length>1)&&(Zt.hitState?nn(Zt):Zt.hitState=!0)},sr=ht=>{const Zt=ht.target,Xt=a.e("search-input");Zt.className===Xt&&(te.value=!0),n("focus",ht)},Xr=ht=>{te.value=!1,n("blur",ht)},wi=mo(()=>{const{value:ht}=Je;if(!ht)return;const Zt=r.beforeFilter(ht);rx(Zt)?Zt.then(Ft).catch(()=>{}):Zt!==!1?Ft():et()},r.debounce),Bt=(ht,Zt)=>{!W.value&&pt(!0),!(Zt!=null&&Zt.isComposing)&&(ht?wi():et())},yn=ht=>Number.parseFloat(xue(h.cssVarName("input-height"),ht).value)-2;return Wt(Q,Ne),Wt([Ye,Se,()=>r.collapseTags],It),Wt(re,()=>{Fn(()=>tn())}),Wt(Ee,async()=>{await Fn();const ht=k.value.input;s=yn(ht)||s,tn()}),Wt(Nt,St,{immediate:!0}),br(()=>{const ht=k.value.input,Zt=yn(ht);s=ht.offsetHeight||Zt,ga(ht,tn)}),t({getCheckedNodes:fn,cascaderPanelRef:B,togglePopperVisible:pt,contentRef:Re,presentText:Nt}),(ht,Zt)=>(X(),Rt(A(ns),{ref_key:"tooltipRef",ref:E,visible:W.value,teleported:ht.teleported,"popper-class":[A(a).e("dropdown"),ht.popperClass],"popper-options":i,"fallback-placements":ht.fallbackPlacements,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:ht.placement,transition:`${A(a).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:ht.persistent,onHide:et},{default:tt(()=>[yr((X(),pe("div",{class:ye(A(Ct)),style:Vn(A(Ie)),onClick:()=>pt(A(Be)?void 0:!0),onKeydown:Dn,onMouseenter:Xt=>q.value=!0,onMouseleave:Xt=>q.value=!1},[Fe(A(_s),{ref_key:"input",ref:k,modelValue:ie.value,"onUpdate:modelValue":Xt=>ie.value=Xt,placeholder:A(Le),readonly:A(Be),disabled:A(Se),"validate-event":!1,size:A(Ee),class:ye(A(Vt)),tabindex:A(xe)&&ht.filterable&&!A(Se)?-1:void 0,onCompositionstart:A(M),onCompositionupdate:A(M),onCompositionend:A(M),onFocus:sr,onBlur:Xr,onInput:Bt},{suffix:tt(()=>[A(lt)?(X(),Rt(A(On),{key:"clear",class:ye([A(h).e("icon"),"icon-circle-close"]),onClick:er(ln,["stop"])},{default:tt(()=>[Fe(A(yh))]),_:1},8,["class","onClick"])):(X(),Rt(A(On),{key:"arrow-down",class:ye(A(vt)),onClick:er(Xt=>pt(),["stop"])},{default:tt(()=>[Fe(A(cd))]),_:1},8,["class","onClick"]))]),_:1},8,["modelValue","onUpdate:modelValue","placeholder","readonly","disabled","size","class","tabindex","onCompositionstart","onCompositionupdate","onCompositionend"]),A(xe)?(X(),pe("div",{key:0,ref_key:"tagWrapper",ref:z,class:ye([A(a).e("tags"),A(a).is("validate",!!A(Dt))])},[(X(!0),pe(Nn,null,Ur(re.value,Xt=>(X(),Rt(A(Cx),{key:Xt.key,type:ht.tagType,size:A(_e),effect:ht.tagEffect,hit:Xt.hitState,closable:Xt.closable,"disable-transitions":"",onClose:qn=>nn(Xt)},{default:tt(()=>[Xt.isCollapseTag===!1?(X(),pe("span",{key:0},pn(Xt.text),1)):(X(),Rt(A(ns),{key:1,disabled:W.value||!ht.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:tt(()=>[ue("span",null,pn(Xt.text),1)]),content:tt(()=>[ue("div",{class:ye(A(a).e("collapse-tags"))},[(X(!0),pe(Nn,null,Ur(se.value.slice(ht.maxCollapseTags),(qn,Qr)=>(X(),pe("div",{key:Qr,class:ye(A(a).e("collapse-tag"))},[(X(),Rt(A(Cx),{key:qn.key,class:"in-tooltip",type:ht.tagType,size:A(_e),effect:ht.tagEffect,hit:qn.hitState,closable:qn.closable,"disable-transitions":"",onClose:Mt=>nn(qn)},{default:tt(()=>[ue("span",null,pn(qn.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","effect","hit","closable","onClose"]))),128)),ht.filterable&&!A(Se)?yr((X(),pe("input",{key:0,"onUpdate:modelValue":Xt=>ae.value=Xt,type:"text",class:ye(A(a).e("search-input")),placeholder:A(Nt)?"":A(me),onInput:Xt=>Bt(ae.value,Xt),onClick:er(Xt=>pt(!0),["stop"]),onKeydown:Wi(cr,["delete"]),onCompositionstart:A(M),onCompositionupdate:A(M),onCompositionend:A(M),onFocus:sr,onBlur:Xr},null,42,["onUpdate:modelValue","placeholder","onInput","onClick","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend"])),[[WP,ae.value]]):wt("v-if",!0)],2)):wt("v-if",!0)],46,["onClick","onMouseenter","onMouseleave"])),[[A(dh),()=>pt(!1),A(Re)]])]),content:tt(()=>[yr(Fe(A(yY),{ref_key:"cascaderPanelRef",ref:B,modelValue:A(je),"onUpdate:modelValue":Xt=>ra(je)?je.value=Xt:null,options:ht.options,props:r.props,border:!1,"render-label":ht.$slots.default,onExpandChange:hn,onClose:Xt=>ht.$nextTick(()=>pt(!1))},{empty:tt(()=>[bt(ht.$slots,"empty")]),_:3},8,["modelValue","onUpdate:modelValue","options","props","render-label","onClose"]),[[vi,!Q.value]]),ht.filterable?yr((X(),Rt(A(fd),{key:0,ref_key:"suggestionPanel",ref:U,tag:"ul",class:ye(A(a).e("suggestion-panel")),"view-class":A(a).e("suggestion-list"),onKeydown:rr},{default:tt(()=>[be.value.length?(X(!0),pe(Nn,{key:0},Ur(be.value,Xt=>(X(),pe("li",{key:Xt.uid,class:ye([A(a).e("suggestion-item"),A(a).is("checked",Xt.checked)]),tabindex:-1,onClick:qn=>Pn(Xt)},[ue("span",null,pn(Xt.text),1),Xt.checked?(X(),Rt(A(On),{key:0},{default:tt(()=>[Fe(A(L_))]),_:1})):wt("v-if",!0)],10,["onClick"]))),128)):bt(ht.$slots,"empty",{key:1},()=>[ue("li",{class:ye(A(a).e("empty-text"))},pn(A(m)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[vi,Q.value]]):wt("v-if",!0)]),_:3},8,["visible","teleported","popper-class","fallback-placements","placement","transition","persistent"]))}});var EMe=mn(MMe,[["__file","cascader.vue"]]);const AMe=pr(EMe),IMe=un({checked:Boolean,disabled:Boolean,type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"}}),kMe={"update:checked":e=>za(e),[sa]:e=>za(e)},PMe=ge({name:"ElCheckTag"}),LMe=ge({...PMe,props:IMe,emits:kMe,setup(e,{emit:t}){const n=e,r=en("check-tag"),i=le(()=>n.disabled),o=le(()=>[r.b(),r.is("checked",n.checked),r.is("disabled",i.value),r.m(n.type||"primary")]),s=()=>{if(i.value)return;const u=!n.checked;t(sa,u),t("update:checked",u)};return(u,a)=>(X(),pe("span",{class:ye(A(o)),onClick:s},[bt(u.$slots,"default")],2))}});var RMe=mn(LMe,[["__file","check-tag.vue"]]);const DMe=pr(RMe),bY=Symbol("rowContextKey"),OMe=["start","center","end","space-around","space-between","space-evenly"],zMe=["top","middle","bottom"],BMe=un({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:OMe,default:"start"},align:{type:String,values:zMe}}),FMe=ge({name:"ElRow"}),NMe=ge({...FMe,props:BMe,setup(e){const t=e,n=en("row"),r=le(()=>t.gutter);Rr(bY,{gutter:r});const i=le(()=>{const s={};return t.gutter&&(s.marginRight=s.marginLeft=`-${t.gutter/2}px`),s}),o=le(()=>[n.b(),n.is(`justify-${t.justify}`,t.justify!=="start"),n.is(`align-${t.align}`,!!t.align)]);return(s,u)=>(X(),Rt(kr(s.tag),{class:ye(A(o)),style:Vn(A(i))},{default:tt(()=>[bt(s.$slots,"default")]),_:3},8,["class","style"]))}});var $Me=mn(NMe,[["__file","row.vue"]]);const VMe=pr($Me),HMe=un({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:dt([Number,Object]),default:()=>Ca({})},sm:{type:dt([Number,Object]),default:()=>Ca({})},md:{type:dt([Number,Object]),default:()=>Ca({})},lg:{type:dt([Number,Object]),default:()=>Ca({})},xl:{type:dt([Number,Object]),default:()=>Ca({})}}),UMe=ge({name:"ElCol"}),jMe=ge({...UMe,props:HMe,setup(e){const t=e,{gutter:n}=An(bY,{gutter:le(()=>0)}),r=en("col"),i=le(()=>{const s={};return n.value&&(s.paddingLeft=s.paddingRight=`${n.value/2}px`),s}),o=le(()=>{const s=[];return["span","offset","pull","push"].forEach(h=>{const m=t[h];Jn(m)&&(h==="span"?s.push(r.b(`${t[h]}`)):m>0&&s.push(r.b(`${h}-${t[h]}`)))}),["xs","sm","md","lg","xl"].forEach(h=>{Jn(t[h])?s.push(r.b(`${h}-${t[h]}`)):Ar(t[h])&&Object.entries(t[h]).forEach(([m,v])=>{s.push(m!=="span"?r.b(`${h}-${m}-${v}`):r.b(`${h}-${v}`))})}),n.value&&s.push(r.is("guttered")),[r.b(),s]});return(s,u)=>(X(),Rt(kr(s.tag),{class:ye(A(o)),style:Vn(A(i))},{default:tt(()=>[bt(s.$slots,"default")]),_:3},8,["class","style"]))}});var GMe=mn(jMe,[["__file","col.vue"]]);const WMe=pr(GMe),_N=e=>Jn(e)||Qn(e)||Tn(e),qMe=un({accordion:Boolean,modelValue:{type:dt([Array,String,Number]),default:()=>Ca([])}}),KMe={[Tr]:_N,[sa]:_N},xY=Symbol("collapseContextKey"),YMe=(e,t)=>{const n=Te(vs(e.modelValue)),r=o=>{n.value=o;const s=e.accordion?n.value[0]:n.value;t(Tr,s),t(sa,s)},i=o=>{if(e.accordion)r([n.value[0]===o?"":o]);else{const s=[...n.value],u=s.indexOf(o);u>-1?s.splice(u,1):s.push(o),r(s)}};return Wt(()=>e.modelValue,()=>n.value=vs(e.modelValue),{deep:!0}),Rr(xY,{activeNames:n,handleItemClick:i}),{activeNames:n,setActiveNames:r}},ZMe=()=>{const e=en("collapse");return{rootKls:le(()=>e.b())}},XMe=ge({name:"ElCollapse"}),JMe=ge({...XMe,props:qMe,emits:KMe,setup(e,{expose:t,emit:n}){const r=e,{activeNames:i,setActiveNames:o}=YMe(r,n),{rootKls:s}=ZMe();return t({activeNames:i,setActiveNames:o}),(u,a)=>(X(),pe("div",{class:ye(A(s))},[bt(u.$slots,"default")],2))}});var QMe=mn(JMe,[["__file","collapse.vue"]]);const e5e=ge({name:"ElCollapseTransition"}),t5e=ge({...e5e,setup(e){const t=en("collapse-transition"),n=i=>{i.style.maxHeight="",i.style.overflow=i.dataset.oldOverflow,i.style.paddingTop=i.dataset.oldPaddingTop,i.style.paddingBottom=i.dataset.oldPaddingBottom},r={beforeEnter(i){i.dataset||(i.dataset={}),i.dataset.oldPaddingTop=i.style.paddingTop,i.dataset.oldPaddingBottom=i.style.paddingBottom,i.style.height&&(i.dataset.elExistsHeight=i.style.height),i.style.maxHeight=0,i.style.paddingTop=0,i.style.paddingBottom=0},enter(i){requestAnimationFrame(()=>{i.dataset.oldOverflow=i.style.overflow,i.dataset.elExistsHeight?i.style.maxHeight=i.dataset.elExistsHeight:i.scrollHeight!==0?i.style.maxHeight=`${i.scrollHeight}px`:i.style.maxHeight=0,i.style.paddingTop=i.dataset.oldPaddingTop,i.style.paddingBottom=i.dataset.oldPaddingBottom,i.style.overflow="hidden"})},afterEnter(i){i.style.maxHeight="",i.style.overflow=i.dataset.oldOverflow},enterCancelled(i){n(i)},beforeLeave(i){i.dataset||(i.dataset={}),i.dataset.oldPaddingTop=i.style.paddingTop,i.dataset.oldPaddingBottom=i.style.paddingBottom,i.dataset.oldOverflow=i.style.overflow,i.style.maxHeight=`${i.scrollHeight}px`,i.style.overflow="hidden"},leave(i){i.scrollHeight!==0&&(i.style.maxHeight=0,i.style.paddingTop=0,i.style.paddingBottom=0)},afterLeave(i){n(i)},leaveCancelled(i){n(i)}};return(i,o)=>(X(),Rt(Lo,Lr({name:A(t).b()},Poe(r)),{default:tt(()=>[bt(i.$slots,"default")]),_:3},16,["name"]))}});var n5e=mn(t5e,[["__file","collapse-transition.vue"]]);const b8=pr(n5e),r5e=un({title:{type:String,default:""},name:{type:dt([String,Number]),default:void 0},icon:{type:Vi,default:xs},disabled:Boolean}),i5e=e=>{const t=An(xY),{namespace:n}=en("collapse"),r=Te(!1),i=Te(!1),o=BL(),s=le(()=>o.current++),u=le(()=>{var _;return(_=e.name)!=null?_:`${n.value}-id-${o.prefix}-${A(s)}`}),a=le(()=>t==null?void 0:t.activeNames.value.includes(A(u)));return{focusing:r,id:s,isActive:a,handleFocus:()=>{setTimeout(()=>{i.value?i.value=!1:r.value=!0},50)},handleHeaderClick:()=>{e.disabled||(t==null||t.handleItemClick(A(u)),r.value=!1,i.value=!0)},handleEnterClick:()=>{t==null||t.handleItemClick(A(u))}}},a5e=(e,{focusing:t,isActive:n,id:r})=>{const i=en("collapse"),o=le(()=>[i.b("item"),i.is("active",A(n)),i.is("disabled",e.disabled)]),s=le(()=>[i.be("item","header"),i.is("active",A(n)),{focusing:A(t)&&!e.disabled}]),u=le(()=>[i.be("item","arrow"),i.is("active",A(n))]),a=le(()=>i.be("item","wrap")),h=le(()=>i.be("item","content")),m=le(()=>i.b(`content-${A(r)}`)),v=le(()=>i.b(`head-${A(r)}`));return{arrowKls:u,headKls:s,rootKls:o,itemWrapperKls:a,itemContentKls:h,scopedContentId:m,scopedHeadId:v}},o5e=ge({name:"ElCollapseItem"}),s5e=ge({...o5e,props:r5e,setup(e,{expose:t}){const n=e,{focusing:r,id:i,isActive:o,handleFocus:s,handleHeaderClick:u,handleEnterClick:a}=i5e(n),{arrowKls:h,headKls:m,rootKls:v,itemWrapperKls:_,itemContentKls:b,scopedContentId:T,scopedHeadId:M}=a5e(n,{focusing:r,isActive:o,id:i});return t({isActive:o}),(E,k)=>(X(),pe("div",{class:ye(A(v))},[ue("button",{id:A(M),class:ye(A(m)),"aria-expanded":A(o),"aria-controls":A(T),"aria-describedby":A(T),tabindex:E.disabled?-1:0,type:"button",onClick:A(u),onKeydown:Wi(er(A(a),["stop","prevent"]),["space","enter"]),onFocus:A(s),onBlur:z=>r.value=!1},[bt(E.$slots,"title",{},()=>[Br(pn(E.title),1)]),bt(E.$slots,"icon",{isActive:A(o)},()=>[Fe(A(On),{class:ye(A(h))},{default:tt(()=>[(X(),Rt(kr(E.icon)))]),_:1},8,["class"])])],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","onClick","onKeydown","onFocus","onBlur"]),Fe(A(b8),null,{default:tt(()=>[yr(ue("div",{id:A(T),role:"region",class:ye(A(_)),"aria-hidden":!A(o),"aria-labelledby":A(M)},[ue("div",{class:ye(A(b))},[bt(E.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[vi,A(o)]])]),_:3})],2))}});var wY=mn(s5e,[["__file","collapse-item.vue"]]);const l5e=pr(QMe,{CollapseItem:wY}),u5e=Ma(wY),c5e=un({color:{type:dt(Object),required:!0},vertical:{type:Boolean,default:!1}});let D5=!1;function Tx(e,t){if(!ri)return;const n=function(o){var s;(s=t.drag)==null||s.call(t,o)},r=function(o){var s;document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",r),document.removeEventListener("touchmove",n),document.removeEventListener("touchend",r),document.onselectstart=null,document.ondragstart=null,D5=!1,(s=t.end)==null||s.call(t,o)},i=function(o){var s;D5||(o.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",n),document.addEventListener("mouseup",r),document.addEventListener("touchmove",n),document.addEventListener("touchend",r),D5=!0,(s=t.start)==null||s.call(t,o))};e.addEventListener("mousedown",i),e.addEventListener("touchstart",i,{passive:!1})}const d5e=e=>{const t=Mr(),{t:n}=ii(),r=Ji(),i=Ji(),o=le(()=>e.color.get("alpha")),s=le(()=>n("el.colorpicker.alphaLabel"));function u(v){var _;v.target!==r.value&&a(v),(_=r.value)==null||_.focus()}function a(v){if(!i.value||!r.value)return;const b=t.vnode.el.getBoundingClientRect(),{clientX:T,clientY:M}=JP(v);if(e.vertical){let E=M-b.top;E=Math.max(r.value.offsetHeight/2,E),E=Math.min(E,b.height-r.value.offsetHeight/2),e.color.set("alpha",Math.round((E-r.value.offsetHeight/2)/(b.height-r.value.offsetHeight)*100))}else{let E=T-b.left;E=Math.max(r.value.offsetWidth/2,E),E=Math.min(E,b.width-r.value.offsetWidth/2),e.color.set("alpha",Math.round((E-r.value.offsetWidth/2)/(b.width-r.value.offsetWidth)*100))}}function h(v){const{code:_,shiftKey:b}=v,T=b?10:1;switch(_){case Kn.left:case Kn.down:v.preventDefault(),v.stopPropagation(),m(-T);break;case Kn.right:case Kn.up:v.preventDefault(),v.stopPropagation(),m(T);break}}function m(v){let _=o.value+v;_=_<0?0:_>100?100:_,e.color.set("alpha",_)}return{thumb:r,bar:i,alpha:o,alphaLabel:s,handleDrag:a,handleClick:u,handleKeydown:h}},h5e=(e,{bar:t,thumb:n,handleDrag:r})=>{const i=Mr(),o=en("color-alpha-slider"),s=Te(0),u=Te(0),a=Te();function h(){if(!n.value||e.vertical)return 0;const z=i.vnode.el,B=e.color.get("alpha");return z?Math.round(B*(z.offsetWidth-n.value.offsetWidth/2)/100):0}function m(){if(!n.value)return 0;const z=i.vnode.el;if(!e.vertical)return 0;const B=e.color.get("alpha");return z?Math.round(B*(z.offsetHeight-n.value.offsetHeight/2)/100):0}function v(){if(e.color&&e.color.value){const{r:z,g:B,b:U}=e.color.toRgb();return`linear-gradient(to right, rgba(${z}, ${B}, ${U}, 0) 0%, rgba(${z}, ${B}, ${U}, 1) 100%)`}return""}function _(){s.value=h(),u.value=m(),a.value=v()}br(()=>{if(!t.value||!n.value)return;const z={drag:B=>{r(B)},end:B=>{r(B)}};Tx(t.value,z),Tx(n.value,z),_()}),Wt(()=>e.color.get("alpha"),()=>_()),Wt(()=>e.color.value,()=>_());const b=le(()=>[o.b(),o.is("vertical",e.vertical)]),T=le(()=>o.e("bar")),M=le(()=>o.e("thumb")),E=le(()=>({background:a.value})),k=le(()=>({left:Ua(s.value),top:Ua(u.value)}));return{rootKls:b,barKls:T,barStyle:E,thumbKls:M,thumbStyle:k,update:_}},f5e="ElColorAlphaSlider",p5e=ge({name:f5e}),m5e=ge({...p5e,props:c5e,setup(e,{expose:t}){const n=e,{alpha:r,alphaLabel:i,bar:o,thumb:s,handleDrag:u,handleClick:a,handleKeydown:h}=d5e(n),{rootKls:m,barKls:v,barStyle:_,thumbKls:b,thumbStyle:T,update:M}=h5e(n,{bar:o,thumb:s,handleDrag:u});return t({update:M,bar:o,thumb:s}),(E,k)=>(X(),pe("div",{class:ye(A(m))},[ue("div",{ref_key:"bar",ref:o,class:ye(A(v)),style:Vn(A(_)),onClick:A(a)},null,14,["onClick"]),ue("div",{ref_key:"thumb",ref:s,class:ye(A(b)),style:Vn(A(T)),"aria-label":A(i),"aria-valuenow":A(r),"aria-orientation":E.vertical?"vertical":"horizontal","aria-valuemin":"0","aria-valuemax":"100",role:"slider",tabindex:"0",onKeydown:A(h)},null,46,["aria-label","aria-valuenow","aria-orientation","onKeydown"])],2))}});var v5e=mn(m5e,[["__file","alpha-slider.vue"]]);const g5e=ge({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(e){const t=en("color-hue-slider"),n=Mr(),r=Te(),i=Te(),o=Te(0),s=Te(0),u=le(()=>e.color.get("hue"));Wt(()=>u.value,()=>{_()});function a(b){b.target!==r.value&&h(b)}function h(b){if(!i.value||!r.value)return;const M=n.vnode.el.getBoundingClientRect(),{clientX:E,clientY:k}=JP(b);let z;if(e.vertical){let B=k-M.top;B=Math.min(B,M.height-r.value.offsetHeight/2),B=Math.max(r.value.offsetHeight/2,B),z=Math.round((B-r.value.offsetHeight/2)/(M.height-r.value.offsetHeight)*360)}else{let B=E-M.left;B=Math.min(B,M.width-r.value.offsetWidth/2),B=Math.max(r.value.offsetWidth/2,B),z=Math.round((B-r.value.offsetWidth/2)/(M.width-r.value.offsetWidth)*360)}e.color.set("hue",z)}function m(){if(!r.value)return 0;const b=n.vnode.el;if(e.vertical)return 0;const T=e.color.get("hue");return b?Math.round(T*(b.offsetWidth-r.value.offsetWidth/2)/360):0}function v(){if(!r.value)return 0;const b=n.vnode.el;if(!e.vertical)return 0;const T=e.color.get("hue");return b?Math.round(T*(b.offsetHeight-r.value.offsetHeight/2)/360):0}function _(){o.value=m(),s.value=v()}return br(()=>{if(!i.value||!r.value)return;const b={drag:T=>{h(T)},end:T=>{h(T)}};Tx(i.value,b),Tx(r.value,b),_()}),{bar:i,thumb:r,thumbLeft:o,thumbTop:s,hueValue:u,handleClick:a,update:_,ns:t}}});function _5e(e,t,n,r,i,o){return X(),pe("div",{class:ye([e.ns.b(),e.ns.is("vertical",e.vertical)])},[ue("div",{ref:"bar",class:ye(e.ns.e("bar")),onClick:e.handleClick},null,10,["onClick"]),ue("div",{ref:"thumb",class:ye(e.ns.e("thumb")),style:Vn({left:e.thumbLeft+"px",top:e.thumbTop+"px"})},null,6)],2)}var y5e=mn(g5e,[["render",_5e],["__file","hue-slider.vue"]]);const b5e=un({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:go,popperClass:{type:String,default:""},tabindex:{type:[String,Number],default:0},teleported:Ao.teleported,predefine:{type:dt(Array)},validateEvent:{type:Boolean,default:!0},...Uo(["ariaLabel"])}),x5e={[Tr]:e=>Qn(e)||So(e),[sa]:e=>Qn(e)||So(e),activeChange:e=>Qn(e)||So(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent},SY=Symbol("colorPickerContextKey"),yN=function(e,t,n){return[e,t*n/((e=(2-t)*n)<1?e:2-e)||0,e/2]},w5e=function(e){return typeof e=="string"&&e.includes(".")&&Number.parseFloat(e)===1},S5e=function(e){return typeof e=="string"&&e.includes("%")},Ug=function(e,t){w5e(e)&&(e="100%");const n=S5e(e);return e=Math.min(t,Math.max(0,Number.parseFloat(`${e}`))),n&&(e=Number.parseInt(`${e*t}`,10)/100),Math.abs(e-t)<1e-6?1:e%t/Number.parseFloat(t)},bN={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},j3=e=>{e=Math.min(Math.round(e),255);const t=Math.floor(e/16),n=e%16;return`${bN[t]||t}${bN[n]||n}`},xN=function({r:e,g:t,b:n}){return Number.isNaN(+e)||Number.isNaN(+t)||Number.isNaN(+n)?"":`#${j3(e)}${j3(t)}${j3(n)}`},O5={A:10,B:11,C:12,D:13,E:14,F:15},mm=function(e){return e.length===2?(O5[e[0].toUpperCase()]||+e[0])*16+(O5[e[1].toUpperCase()]||+e[1]):O5[e[1].toUpperCase()]||+e[1]},C5e=function(e,t,n){t=t/100,n=n/100;let r=t;const i=Math.max(n,.01);n*=2,t*=n<=1?n:2-n,r*=i<=1?i:2-i;const o=(n+t)/2,s=n===0?2*r/(i+r):2*t/(n+t);return{h:e,s:s*100,v:o*100}},wN=(e,t,n)=>{e=Ug(e,255),t=Ug(t,255),n=Ug(n,255);const r=Math.max(e,t,n),i=Math.min(e,t,n);let o;const s=r,u=r-i,a=r===0?0:u/r;if(r===i)o=0;else{switch(r){case e:{o=(t-n)/u+(t<n?6:0);break}case t:{o=(n-e)/u+2;break}case n:{o=(e-t)/u+4;break}}o/=6}return{h:o*360,s:a*100,v:s*100}},U1=function(e,t,n){e=Ug(e,360)*6,t=Ug(t,100),n=Ug(n,100);const r=Math.floor(e),i=e-r,o=n*(1-t),s=n*(1-i*t),u=n*(1-(1-i)*t),a=r%6,h=[n,s,o,o,u,n][a],m=[u,n,n,s,o,o][a],v=[o,o,u,n,n,s][a];return{r:Math.round(h*255),g:Math.round(m*255),b:Math.round(v*255)}};class Wb{constructor(t={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const n in t)mi(t,n)&&(this[n]=t[n]);t.value?this.fromString(t.value):this.doOnChange()}set(t,n){if(arguments.length===1&&typeof t=="object"){for(const r in t)mi(t,r)&&this.set(r,t[r]);return}this[`_${t}`]=n,this.doOnChange()}get(t){return t==="alpha"?Math.floor(this[`_${t}`]):this[`_${t}`]}toRgb(){return U1(this._hue,this._saturation,this._value)}fromString(t){if(!t){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const n=(r,i,o)=>{this._hue=Math.max(0,Math.min(360,r)),this._saturation=Math.max(0,Math.min(100,i)),this._value=Math.max(0,Math.min(100,o)),this.doOnChange()};if(t.includes("hsl")){const r=t.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(i=>i!=="").map((i,o)=>o>2?Number.parseFloat(i):Number.parseInt(i,10));if(r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3){const{h:i,s:o,v:s}=C5e(r[0],r[1],r[2]);n(i,o,s)}}else if(t.includes("hsv")){const r=t.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(i=>i!=="").map((i,o)=>o>2?Number.parseFloat(i):Number.parseInt(i,10));r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3&&n(r[0],r[1],r[2])}else if(t.includes("rgb")){const r=t.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(i=>i!=="").map((i,o)=>o>2?Number.parseFloat(i):Number.parseInt(i,10));if(r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3){const{h:i,s:o,v:s}=wN(r[0],r[1],r[2]);n(i,o,s)}}else if(t.includes("#")){const r=t.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(r))return;let i,o,s;r.length===3?(i=mm(r[0]+r[0]),o=mm(r[1]+r[1]),s=mm(r[2]+r[2])):(r.length===6||r.length===8)&&(i=mm(r.slice(0,2)),o=mm(r.slice(2,4)),s=mm(r.slice(4,6))),r.length===8?this._alpha=mm(r.slice(6))/255*100:(r.length===3||r.length===6)&&(this._alpha=100);const{h:u,s:a,v:h}=wN(i,o,s);n(u,a,h)}}compare(t){return Math.abs(t._hue-this._hue)<2&&Math.abs(t._saturation-this._saturation)<1&&Math.abs(t._value-this._value)<1&&Math.abs(t._alpha-this._alpha)<1}doOnChange(){const{_hue:t,_saturation:n,_value:r,_alpha:i,format:o}=this;if(this.enableAlpha)switch(o){case"hsl":{const s=yN(t,n/100,r/100);this.value=`hsla(${t}, ${Math.round(s[1]*100)}%, ${Math.round(s[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${t}, ${Math.round(n)}%, ${Math.round(r)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${xN(U1(t,n,r))}${j3(i*255/100)}`;break}default:{const{r:s,g:u,b:a}=U1(t,n,r);this.value=`rgba(${s}, ${u}, ${a}, ${this.get("alpha")/100})`}}else switch(o){case"hsl":{const s=yN(t,n/100,r/100);this.value=`hsl(${t}, ${Math.round(s[1]*100)}%, ${Math.round(s[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${t}, ${Math.round(n)}%, ${Math.round(r)}%)`;break}case"rgb":{const{r:s,g:u,b:a}=U1(t,n,r);this.value=`rgb(${s}, ${u}, ${a})`;break}default:this.value=xN(U1(t,n,r))}}}const T5e=ge({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0},enableAlpha:{type:Boolean,required:!0}},setup(e){const t=en("color-predefine"),{currentColor:n}=An(SY),r=Te(o(e.colors,e.color));Wt(()=>n.value,s=>{const u=new Wb;u.fromString(s),r.value.forEach(a=>{a.selected=u.compare(a)})}),ko(()=>{r.value=o(e.colors,e.color)});function i(s){e.color.fromString(e.colors[s])}function o(s,u){return s.map(a=>{const h=new Wb;return h.enableAlpha=e.enableAlpha,h.format="rgba",h.fromString(a),h.selected=h.value===u.value,h})}return{rgbaColors:r,handleSelect:i,ns:t}}});function M5e(e,t,n,r,i,o){return X(),pe("div",{class:ye(e.ns.b())},[ue("div",{class:ye(e.ns.e("colors"))},[(X(!0),pe(Nn,null,Ur(e.rgbaColors,(s,u)=>(X(),pe("div",{key:e.colors[u],class:ye([e.ns.e("color-selector"),e.ns.is("alpha",s._alpha<100),{selected:s.selected}]),onClick:a=>e.handleSelect(u)},[ue("div",{style:Vn({backgroundColor:s.value})},null,4)],10,["onClick"]))),128))],2)],2)}var E5e=mn(T5e,[["render",M5e],["__file","predefine.vue"]]);const A5e=ge({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(e){const t=en("color-svpanel"),n=Mr(),r=Te(0),i=Te(0),o=Te("hsl(0, 100%, 50%)"),s=le(()=>{const h=e.color.get("hue"),m=e.color.get("value");return{hue:h,value:m}});function u(){const h=e.color.get("saturation"),m=e.color.get("value"),v=n.vnode.el,{clientWidth:_,clientHeight:b}=v;i.value=h*_/100,r.value=(100-m)*b/100,o.value=`hsl(${e.color.get("hue")}, 100%, 50%)`}function a(h){const v=n.vnode.el.getBoundingClientRect(),{clientX:_,clientY:b}=JP(h);let T=_-v.left,M=b-v.top;T=Math.max(0,T),T=Math.min(T,v.width),M=Math.max(0,M),M=Math.min(M,v.height),i.value=T,r.value=M,e.color.set({saturation:T/v.width*100,value:100-M/v.height*100})}return Wt(()=>s.value,()=>{u()}),br(()=>{Tx(n.vnode.el,{drag:h=>{a(h)},end:h=>{a(h)}}),u()}),{cursorTop:r,cursorLeft:i,background:o,colorValue:s,handleDrag:a,update:u,ns:t}}});function I5e(e,t,n,r,i,o){return X(),pe("div",{class:ye(e.ns.b()),style:Vn({backgroundColor:e.background})},[ue("div",{class:ye(e.ns.e("white"))},null,2),ue("div",{class:ye(e.ns.e("black"))},null,2),ue("div",{class:ye(e.ns.e("cursor")),style:Vn({top:e.cursorTop+"px",left:e.cursorLeft+"px"})},[ue("div")],6)],6)}var k5e=mn(A5e,[["render",I5e],["__file","sv-panel.vue"]]);const P5e=ge({name:"ElColorPicker"}),L5e=ge({...P5e,props:b5e,emits:x5e,setup(e,{expose:t,emit:n}){const r=e,{t:i}=ii(),o=en("color"),{formItem:s}=Cs(),u=lo(),a=Ss(),{inputId:h,isLabeledByFormItem:m}=xc(r,{formItemContext:s}),v=Te(),_=Te(),b=Te(),T=Te(),M=Te(),E=Te(),{isFocused:k,handleFocus:z,handleBlur:B}=vw(M,{beforeFocus(){return a.value},beforeBlur(vt){var Vt;return(Vt=T.value)==null?void 0:Vt.isFocusInsideContent(vt)},afterBlur(){Se(!1),_e()}});let U=!0;const W=Ci(new Wb({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue})),q=Te(!1),Q=Te(!1),te=Te(""),ie=le(()=>!r.modelValue&&!Q.value?"transparent":Ie(W,r.showAlpha)),ae=le(()=>!r.modelValue&&!Q.value?"":W.value),re=le(()=>m.value?void 0:r.ariaLabel||i("el.colorpicker.defaultLabel")),se=le(()=>m.value?s==null?void 0:s.labelId:void 0),be=le(()=>[o.b("picker"),o.is("disabled",a.value),o.bm("picker",u.value),o.is("focused",k.value)]);function Ie(vt,Vt){if(!(vt instanceof Wb))throw new TypeError("color should be instance of _color Class");const{r:Re,g:pt,b:Ne}=vt.toRgb();return Vt?`rgba(${Re}, ${pt}, ${Ne}, ${vt.get("alpha")/100})`:`rgb(${Re}, ${pt}, ${Ne})`}function Se(vt){q.value=vt}const me=mo(Se,100,{leading:!0});function Le(){a.value||Se(!0)}function Ee(){me(!1),_e()}function _e(){Fn(()=>{r.modelValue?W.fromString(r.modelValue):(W.value="",Fn(()=>{Q.value=!1}))})}function xe(){a.value||me(!q.value)}function Be(){W.fromString(te.value)}function Je(){const vt=W.value;n(Tr,vt),n("change",vt),r.validateEvent&&(s==null||s.validate("change").catch(Vt=>void 0)),me(!1),Fn(()=>{const Vt=new Wb({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue});W.compare(Vt)||_e()})}function Ye(){me(!1),n(Tr,null),n("change",null),r.modelValue!==null&&r.validateEvent&&(s==null||s.validate("change").catch(vt=>void 0)),_e()}function lt(){q.value&&(Ee(),k.value&&je())}function Nt(vt){vt.preventDefault(),vt.stopPropagation(),Se(!1),_e()}function Dt(vt){switch(vt.code){case Kn.enter:case Kn.space:vt.preventDefault(),vt.stopPropagation(),Le(),E.value.focus();break;case Kn.esc:Nt(vt);break}}function je(){M.value.focus()}function Ct(){M.value.blur()}return br(()=>{r.modelValue&&(te.value=ae.value)}),Wt(()=>r.modelValue,vt=>{vt?vt&&vt!==W.value&&(U=!1,W.fromString(vt)):Q.value=!1}),Wt(()=>[r.colorFormat,r.showAlpha],()=>{W.enableAlpha=r.showAlpha,W.format=r.colorFormat||W.format,W.doOnChange(),n(Tr,W.value)}),Wt(()=>ae.value,vt=>{te.value=vt,U&&n("activeChange",vt),U=!0}),Wt(()=>W.value,()=>{!r.modelValue&&!Q.value&&(Q.value=!0)}),Wt(()=>q.value,()=>{Fn(()=>{var vt,Vt,Re;(vt=v.value)==null||vt.update(),(Vt=_.value)==null||Vt.update(),(Re=b.value)==null||Re.update()})}),Rr(SY,{currentColor:ae}),t({color:W,show:Le,hide:Ee,focus:je,blur:Ct}),(vt,Vt)=>(X(),Rt(A(ns),{ref_key:"popper",ref:T,visible:q.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[A(o).be("picker","panel"),A(o).b("dropdown"),vt.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",teleported:vt.teleported,transition:`${A(o).namespace.value}-zoom-in-top`,persistent:"",onHide:Re=>Se(!1)},{content:tt(()=>[yr((X(),pe("div",{onKeydown:Wi(Nt,["esc"])},[ue("div",{class:ye(A(o).be("dropdown","main-wrapper"))},[Fe(y5e,{ref_key:"hue",ref:v,class:"hue-slider",color:A(W),vertical:""},null,8,["color"]),Fe(k5e,{ref_key:"sv",ref:_,color:A(W)},null,8,["color"])],2),vt.showAlpha?(X(),Rt(v5e,{key:0,ref_key:"alpha",ref:b,color:A(W)},null,8,["color"])):wt("v-if",!0),vt.predefine?(X(),Rt(E5e,{key:1,ref:"predefine","enable-alpha":vt.showAlpha,color:A(W),colors:vt.predefine},null,8,["enable-alpha","color","colors"])):wt("v-if",!0),ue("div",{class:ye(A(o).be("dropdown","btns"))},[ue("span",{class:ye(A(o).be("dropdown","value"))},[Fe(A(_s),{ref_key:"inputRef",ref:E,modelValue:te.value,"onUpdate:modelValue":Re=>te.value=Re,"validate-event":!1,size:"small",onKeyup:Wi(Be,["enter"]),onBlur:Be},null,8,["modelValue","onUpdate:modelValue","onKeyup"])],2),Fe(A(Po),{class:ye(A(o).be("dropdown","link-btn")),text:"",size:"small",onClick:Ye},{default:tt(()=>[Br(pn(A(i)("el.colorpicker.clear")),1)]),_:1},8,["class"]),Fe(A(Po),{plain:"",size:"small",class:ye(A(o).be("dropdown","btn")),onClick:Je},{default:tt(()=>[Br(pn(A(i)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)],40,["onKeydown"])),[[A(dh),lt]])]),default:tt(()=>[ue("div",Lr({id:A(h),ref_key:"triggerRef",ref:M},vt.$attrs,{class:A(be),role:"button","aria-label":A(re),"aria-labelledby":A(se),"aria-description":A(i)("el.colorpicker.description",{color:vt.modelValue||""}),"aria-disabled":A(a),tabindex:A(a)?-1:vt.tabindex,onKeydown:Dt,onFocus:A(z),onBlur:A(B)}),[A(a)?(X(),pe("div",{key:0,class:ye(A(o).be("picker","mask"))},null,2)):wt("v-if",!0),ue("div",{class:ye(A(o).be("picker","trigger")),onClick:xe},[ue("span",{class:ye([A(o).be("picker","color"),A(o).is("alpha",vt.showAlpha)])},[ue("span",{class:ye(A(o).be("picker","color-inner")),style:Vn({backgroundColor:A(ie)})},[yr(Fe(A(On),{class:ye([A(o).be("picker","icon"),A(o).is("icon-arrow-down")])},{default:tt(()=>[Fe(A(cd))]),_:1},8,["class"]),[[vi,vt.modelValue||Q.value]]),yr(Fe(A(On),{class:ye([A(o).be("picker","empty"),A(o).is("icon-close")])},{default:tt(()=>[Fe(A(Au))]),_:1},8,["class"]),[[vi,!vt.modelValue&&!Q.value]])],6)],2)],2)],16,["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex","onFocus","onBlur"])]),_:1},8,["visible","popper-class","teleported","transition","onHide"]))}});var R5e=mn(L5e,[["__file","color-picker.vue"]]);const D5e=pr(R5e),O5e=ge({name:"ElContainer"}),z5e=ge({...O5e,props:{direction:{type:String}},setup(e){const t=e,n=yo(),r=en("container"),i=le(()=>t.direction==="vertical"?!0:t.direction==="horizontal"?!1:n&&n.default?n.default().some(s=>{const u=s.type.name;return u==="ElHeader"||u==="ElFooter"}):!1);return(o,s)=>(X(),pe("section",{class:ye([A(r).b(),A(r).is("vertical",A(i))])},[bt(o.$slots,"default")],2))}});var B5e=mn(z5e,[["__file","container.vue"]]);const F5e=ge({name:"ElAside"}),N5e=ge({...F5e,props:{width:{type:String,default:null}},setup(e){const t=e,n=en("aside"),r=le(()=>t.width?n.cssVarBlock({width:t.width}):{});return(i,o)=>(X(),pe("aside",{class:ye(A(n).b()),style:Vn(A(r))},[bt(i.$slots,"default")],6))}});var CY=mn(N5e,[["__file","aside.vue"]]);const $5e=ge({name:"ElFooter"}),V5e=ge({...$5e,props:{height:{type:String,default:null}},setup(e){const t=e,n=en("footer"),r=le(()=>t.height?n.cssVarBlock({height:t.height}):{});return(i,o)=>(X(),pe("footer",{class:ye(A(n).b()),style:Vn(A(r))},[bt(i.$slots,"default")],6))}});var TY=mn(V5e,[["__file","footer.vue"]]);const H5e=ge({name:"ElHeader"}),U5e=ge({...H5e,props:{height:{type:String,default:null}},setup(e){const t=e,n=en("header"),r=le(()=>t.height?n.cssVarBlock({height:t.height}):{});return(i,o)=>(X(),pe("header",{class:ye(A(n).b()),style:Vn(A(r))},[bt(i.$slots,"default")],6))}});var MY=mn(U5e,[["__file","header.vue"]]);const j5e=ge({name:"ElMain"}),G5e=ge({...j5e,setup(e){const t=en("main");return(n,r)=>(X(),pe("main",{class:ye(A(t).b())},[bt(n.$slots,"default")],2))}});var EY=mn(G5e,[["__file","main.vue"]]);const W5e=pr(B5e,{Aside:CY,Footer:TY,Header:MY,Main:EY}),q5e=Ma(CY),K5e=Ma(TY),Y5e=Ma(MY),Z5e=Ma(EY);var AY={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(pd,function(){return function(n,r){var i=r.prototype,o=i.format;i.format=function(s){var u=this,a=this.$locale();if(!this.isValid())return o.bind(this)(s);var h=this.$utils(),m=(s||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(v){switch(v){case"Q":return Math.ceil((u.$M+1)/3);case"Do":return a.ordinal(u.$D);case"gggg":return u.weekYear();case"GGGG":return u.isoWeekYear();case"wo":return a.ordinal(u.week(),"W");case"w":case"ww":return h.s(u.week(),v==="w"?1:2,"0");case"W":case"WW":return h.s(u.isoWeek(),v==="W"?1:2,"0");case"k":case"kk":return h.s(String(u.$H===0?24:u.$H),v==="k"?1:2,"0");case"X":return Math.floor(u.$d.getTime()/1e3);case"x":return u.$d.getTime();case"z":return"["+u.offsetName()+"]";case"zzz":return"["+u.offsetName("long")+"]";default:return v}});return o.bind(this)(m)}}})})(AY);var X5e=AY.exports;const J5e=md(X5e);var IY={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(pd,function(){var n="week",r="year";return function(i,o,s){var u=o.prototype;u.week=function(a){if(a===void 0&&(a=null),a!==null)return this.add(7*(a-this.week()),"day");var h=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var m=s(this).startOf(r).add(1,r).date(h),v=s(this).endOf(n);if(m.isBefore(v))return 1}var _=s(this).startOf(r).date(h).startOf(n).subtract(1,"millisecond"),b=this.diff(_,n,!0);return b<0?s(this).startOf("week").week():Math.ceil(b)},u.weeks=function(a){return a===void 0&&(a=null),this.week(a)}}})})(IY);var Q5e=IY.exports;const eEe=md(Q5e);var kY={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(pd,function(){return function(n,r){r.prototype.weekYear=function(){var i=this.month(),o=this.week(),s=this.year();return o===1&&i===11?s+1:i===0&&o>=52?s-1:s}}})})(kY);var tEe=kY.exports;const nEe=md(tEe);var PY={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(pd,function(){return function(n,r,i){r.prototype.dayOfYear=function(o){var s=Math.round((i(this).startOf("day")-i(this).startOf("year"))/864e5)+1;return o==null?s:this.add(o-s,"day")}}})})(PY);var rEe=PY.exports;const iEe=md(rEe);var LY={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(pd,function(){return function(n,r){r.prototype.isSameOrAfter=function(i,o){return this.isSame(i,o)||this.isAfter(i,o)}}})})(LY);var aEe=LY.exports;const oEe=md(aEe);var RY={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(pd,function(){return function(n,r){r.prototype.isSameOrBefore=function(i,o){return this.isSame(i,o)||this.isBefore(i,o)}}})})(RY);var sEe=RY.exports;const lEe=md(sEe),x8=Symbol(),uEe=un({...QL,type:{type:dt(String),default:"date"}}),cEe=["date","dates","year","years","month","months","week","range"],tR=un({disabledDate:{type:dt(Function)},date:{type:dt(Object),required:!0},minDate:{type:dt(Object)},maxDate:{type:dt(Object)},parsedValue:{type:dt([Object,Array])},rangeState:{type:dt(Object),default:()=>({endDate:null,selecting:!1})}}),DY=un({type:{type:dt(String),required:!0,values:xwe},dateFormat:String,timeFormat:String}),nR=un({unlinkPanels:Boolean,parsedValue:{type:dt(Array)}}),rR=e=>({type:String,values:cEe,default:e}),dEe=un({...DY,parsedValue:{type:dt([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),m_=e=>{if(!Tn(e))return!1;const[t,n]=e;return ur.isDayjs(t)&&ur.isDayjs(n)&&t.isSameOrBefore(n)},iR=(e,{lang:t,unit:n,unlinkPanels:r})=>{let i;if(Tn(e)){let[o,s]=e.map(u=>ur(u).locale(t));return r||(s=o.add(1,n)),[o,s]}else e?i=ur(e):i=ur();return i=i.locale(t),[i,i.add(1,n)]},hEe=(e,t,{columnIndexOffset:n,startDate:r,nextEndDate:i,now:o,unit:s,relativeDateGetter:u,setCellMetadata:a,setRowMetadata:h})=>{for(let m=0;m<e.row;m++){const v=t[m];for(let _=0;_<e.column;_++){let b=v[_+n];b||(b={row:m,column:_,type:"normal",inRange:!1,start:!1,end:!1});const T=m*e.column+_,M=u(T);b.dayjs=M,b.date=M.toDate(),b.timestamp=M.valueOf(),b.type="normal",b.inRange=!!(r&&M.isSameOrAfter(r,s)&&i&&M.isSameOrBefore(i,s))||!!(r&&M.isSameOrBefore(r,s)&&i&&M.isSameOrAfter(i,s)),r!=null&&r.isSameOrAfter(i)?(b.start=!!i&&M.isSame(i,s),b.end=r&&M.isSame(r,s)):(b.start=!!r&&M.isSame(r,s),b.end=!!i&&M.isSame(i,s)),M.isSame(o,s)&&(b.type="today"),a==null||a(b,{rowIndex:m,columnIndex:_}),v[_+n]=b}h==null||h(v)}},jS=(e,t,n)=>{const r=ur().locale(n).startOf("month").month(t).year(e),i=r.daysInMonth();return Qf(i).map(o=>r.add(o,"day").toDate())},Mx=(e,t,n,r)=>{const i=ur().year(e).month(t).startOf("month"),o=jS(e,t,n).find(s=>!(r!=null&&r(s)));return o?ur(o).locale(n):i.locale(n)},CI=(e,t,n)=>{const r=e.year();if(!(n!=null&&n(e.toDate())))return e.locale(t);const i=e.month();if(!jS(r,i,t).every(n))return Mx(r,i,t,n);for(let o=0;o<12;o++)if(!jS(r,o,t).every(n))return Mx(r,o,t,n);return e},fEe=un({...tR,cellClassName:{type:dt(Function)},showWeekNumber:Boolean,selectionMode:rR("date")}),pEe=["changerange","pick","select"],TI=(e="")=>["normal","today"].includes(e),mEe=(e,t)=>{const{lang:n}=ii(),r=Te(),i=Te(),o=Te(),s=Te(),u=Te([[],[],[],[],[],[]]);let a=!1;const h=e.date.$locale().weekStart||7,m=e.date.locale("en").localeData().weekdaysShort().map(_e=>_e.toLowerCase()),v=le(()=>h>3?7-h:-h),_=le(()=>{const _e=e.date.startOf("month");return _e.subtract(_e.day()||7,"day")}),b=le(()=>m.concat(m).slice(h,h+7)),T=le(()=>OW(A(U)).some(_e=>_e.isCurrent)),M=le(()=>{const _e=e.date.startOf("month"),xe=_e.day()||7,Be=_e.daysInMonth(),Je=_e.subtract(1,"month").daysInMonth();return{startOfMonthDay:xe,dateCountOfMonth:Be,dateCountOfLastMonth:Je}}),E=le(()=>e.selectionMode==="dates"?Vs(e.parsedValue):[]),k=(_e,{count:xe,rowIndex:Be,columnIndex:Je})=>{const{startOfMonthDay:Ye,dateCountOfMonth:lt,dateCountOfLastMonth:Nt}=A(M),Dt=A(v);if(Be>=0&&Be<=1){const je=Ye+Dt<0?7+Ye+Dt:Ye+Dt;if(Je+Be*7>=je)return _e.text=xe,!0;_e.text=Nt-(je-Je%7)+1+Be*7,_e.type="prev-month"}else return xe<=lt?_e.text=xe:(_e.text=xe-lt,_e.type="next-month"),!0;return!1},z=(_e,{columnIndex:xe,rowIndex:Be},Je)=>{const{disabledDate:Ye,cellClassName:lt}=e,Nt=A(E),Dt=k(_e,{count:Je,rowIndex:Be,columnIndex:xe}),je=_e.dayjs.toDate();return _e.selected=Nt.find(Ct=>Ct.isSame(_e.dayjs,"day")),_e.isSelected=!!_e.selected,_e.isCurrent=q(_e),_e.disabled=Ye==null?void 0:Ye(je),_e.customClass=lt==null?void 0:lt(je),Dt},B=_e=>{if(e.selectionMode==="week"){const[xe,Be]=e.showWeekNumber?[1,7]:[0,6],Je=Ee(_e[xe+1]);_e[xe].inRange=Je,_e[xe].start=Je,_e[Be].inRange=Je,_e[Be].end=Je}},U=le(()=>{const{minDate:_e,maxDate:xe,rangeState:Be,showWeekNumber:Je}=e,Ye=A(v),lt=A(u),Nt="day";let Dt=1;if(Je)for(let je=0;je<6;je++)lt[je][0]||(lt[je][0]={type:"week",text:A(_).add(je*7+1,Nt).week()});return hEe({row:6,column:7},lt,{startDate:_e,columnIndexOffset:Je?1:0,nextEndDate:Be.endDate||xe||Be.selecting&&_e||null,now:ur().locale(A(n)).startOf(Nt),unit:Nt,relativeDateGetter:je=>A(_).add(je-Ye,Nt),setCellMetadata:(...je)=>{z(...je,Dt)&&(Dt+=1)},setRowMetadata:B}),lt});Wt(()=>e.date,async()=>{var _e;(_e=A(r))!=null&&_e.contains(document.activeElement)&&(await Fn(),await W())});const W=async()=>{var _e;return(_e=A(i))==null?void 0:_e.focus()},q=_e=>e.selectionMode==="date"&&TI(_e.type)&&Q(_e,e.parsedValue),Q=(_e,xe)=>xe?ur(xe).locale(A(n)).isSame(e.date.date(Number(_e.text)),"day"):!1,te=(_e,xe)=>{const Be=_e*7+(xe-(e.showWeekNumber?1:0))-A(v);return A(_).add(Be,"day")},ie=_e=>{var xe;if(!e.rangeState.selecting)return;let Be=_e.target;if(Be.tagName==="SPAN"&&(Be=(xe=Be.parentNode)==null?void 0:xe.parentNode),Be.tagName==="DIV"&&(Be=Be.parentNode),Be.tagName!=="TD")return;const Je=Be.parentNode.rowIndex-1,Ye=Be.cellIndex;A(U)[Je][Ye].disabled||(Je!==A(o)||Ye!==A(s))&&(o.value=Je,s.value=Ye,t("changerange",{selecting:!0,endDate:te(Je,Ye)}))},ae=_e=>!A(T)&&(_e==null?void 0:_e.text)===1&&_e.type==="normal"||_e.isCurrent,re=_e=>{a||A(T)||e.selectionMode!=="date"||Le(_e,!0)},se=_e=>{_e.target.closest("td")&&(a=!0)},be=_e=>{_e.target.closest("td")&&(a=!1)},Ie=_e=>{!e.rangeState.selecting||!e.minDate?(t("pick",{minDate:_e,maxDate:null}),t("select",!0)):(_e>=e.minDate?t("pick",{minDate:e.minDate,maxDate:_e}):t("pick",{minDate:_e,maxDate:e.minDate}),t("select",!1))},Se=_e=>{const xe=_e.week(),Be=`${_e.year()}w${xe}`;t("pick",{year:_e.year(),week:xe,value:Be,date:_e.startOf("week")})},me=(_e,xe)=>{const Be=xe?Vs(e.parsedValue).filter(Je=>(Je==null?void 0:Je.valueOf())!==_e.valueOf()):Vs(e.parsedValue).concat([_e]);t("pick",Be)},Le=(_e,xe=!1)=>{const Be=_e.target.closest("td");if(!Be)return;const Je=Be.parentNode.rowIndex-1,Ye=Be.cellIndex,lt=A(U)[Je][Ye];if(lt.disabled||lt.type==="week")return;const Nt=te(Je,Ye);switch(e.selectionMode){case"range":{Ie(Nt);break}case"date":{t("pick",Nt,xe);break}case"week":{Se(Nt);break}case"dates":{me(Nt,!!lt.selected);break}}},Ee=_e=>{if(e.selectionMode!=="week")return!1;let xe=e.date.startOf("day");if(_e.type==="prev-month"&&(xe=xe.subtract(1,"month")),_e.type==="next-month"&&(xe=xe.add(1,"month")),xe=xe.date(Number.parseInt(_e.text,10)),e.parsedValue&&!Array.isArray(e.parsedValue)){const Be=(e.parsedValue.day()-h+7)%7-1;return e.parsedValue.subtract(Be,"day").isSame(xe,"day")}return!1};return{WEEKS:b,rows:U,tbodyRef:r,currentCellRef:i,focus:W,isCurrent:q,isWeekActive:Ee,isSelectedCell:ae,handlePickDate:Le,handleMouseUp:be,handleMouseDown:se,handleMouseMove:ie,handleFocus:re}},vEe=(e,{isCurrent:t,isWeekActive:n})=>{const r=en("date-table"),{t:i}=ii(),o=le(()=>[r.b(),{"is-week-mode":e.selectionMode==="week"}]),s=le(()=>i("el.datepicker.dateTablePrompt")),u=le(()=>i("el.datepicker.week"));return{tableKls:o,tableLabel:s,weekLabel:u,getCellClasses:m=>{const v=[];return TI(m.type)&&!m.disabled?(v.push("available"),m.type==="today"&&v.push("today")):v.push(m.type),t(m)&&v.push("current"),m.inRange&&(TI(m.type)||e.selectionMode==="week")&&(v.push("in-range"),m.start&&v.push("start-date"),m.end&&v.push("end-date")),m.disabled&&v.push("disabled"),m.selected&&v.push("selected"),m.customClass&&v.push(m.customClass),v.join(" ")},getRowKls:m=>[r.e("row"),{current:n(m)}],t:i}},gEe=un({cell:{type:dt(Object)}});var aR=ge({name:"ElDatePickerCell",props:gEe,setup(e){const t=en("date-table-cell"),{slots:n}=An(x8);return()=>{const{cell:r}=e;return bt(n,"default",{...r},()=>{var i;return[Fe("div",{class:t.b()},[Fe("span",{class:t.e("text")},[(i=r==null?void 0:r.renderText)!=null?i:r==null?void 0:r.text])])]})}}});const _Ee=ge({__name:"basic-date-table",props:fEe,emits:pEe,setup(e,{expose:t,emit:n}){const r=e,{WEEKS:i,rows:o,tbodyRef:s,currentCellRef:u,focus:a,isCurrent:h,isWeekActive:m,isSelectedCell:v,handlePickDate:_,handleMouseUp:b,handleMouseDown:T,handleMouseMove:M,handleFocus:E}=mEe(r,n),{tableLabel:k,tableKls:z,weekLabel:B,getCellClasses:U,getRowKls:W,t:q}=vEe(r,{isCurrent:h,isWeekActive:m});return t({focus:a}),(Q,te)=>(X(),pe("table",{"aria-label":A(k),class:ye(A(z)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:A(_),onMousemove:A(M),onMousedown:er(A(T),["prevent"]),onMouseup:A(b)},[ue("tbody",{ref_key:"tbodyRef",ref:s},[ue("tr",null,[Q.showWeekNumber?(X(),pe("th",{key:0,scope:"col"},pn(A(B)),1)):wt("v-if",!0),(X(!0),pe(Nn,null,Ur(A(i),(ie,ae)=>(X(),pe("th",{key:ae,"aria-label":A(q)("el.datepicker.weeksFull."+ie),scope:"col"},pn(A(q)("el.datepicker.weeks."+ie)),9,["aria-label"]))),128))]),(X(!0),pe(Nn,null,Ur(A(o),(ie,ae)=>(X(),pe("tr",{key:ae,class:ye(A(W)(ie[1]))},[(X(!0),pe(Nn,null,Ur(ie,(re,se)=>(X(),pe("td",{key:`${ae}.${se}`,ref_for:!0,ref:be=>A(v)(re)&&(u.value=be),class:ye(A(U)(re)),"aria-current":re.isCurrent?"date":void 0,"aria-selected":re.isCurrent,tabindex:A(v)(re)?0:-1,onFocus:A(E)},[Fe(A(aR),{cell:re},null,8,["cell"])],42,["aria-current","aria-selected","tabindex","onFocus"]))),128))],2))),128))],512)],42,["aria-label","onClick","onMousemove","onMousedown","onMouseup"]))}});var MI=mn(_Ee,[["__file","basic-date-table.vue"]]);const yEe=un({...tR,selectionMode:rR("month")}),bEe=ge({__name:"basic-month-table",props:yEe,emits:["changerange","pick","select"],setup(e,{expose:t,emit:n}){const r=e,i=en("month-table"),{t:o,lang:s}=ii(),u=Te(),a=Te(),h=Te(r.date.locale("en").localeData().monthsShort().map(B=>B.toLowerCase())),m=Te([[],[],[]]),v=Te(),_=Te(),b=le(()=>{var B,U;const W=m.value,q=ur().locale(s.value).startOf("month");for(let Q=0;Q<3;Q++){const te=W[Q];for(let ie=0;ie<4;ie++){const ae=te[ie]||(te[ie]={row:Q,column:ie,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});ae.type="normal";const re=Q*4+ie,se=r.date.startOf("year").month(re),be=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;ae.inRange=!!(r.minDate&&se.isSameOrAfter(r.minDate,"month")&&be&&se.isSameOrBefore(be,"month"))||!!(r.minDate&&se.isSameOrBefore(r.minDate,"month")&&be&&se.isSameOrAfter(be,"month")),(B=r.minDate)!=null&&B.isSameOrAfter(be)?(ae.start=!!(be&&se.isSame(be,"month")),ae.end=r.minDate&&se.isSame(r.minDate,"month")):(ae.start=!!(r.minDate&&se.isSame(r.minDate,"month")),ae.end=!!(be&&se.isSame(be,"month"))),q.isSame(se)&&(ae.type="today"),ae.text=re,ae.disabled=((U=r.disabledDate)==null?void 0:U.call(r,se.toDate()))||!1}}return W}),T=()=>{var B;(B=a.value)==null||B.focus()},M=B=>{const U={},W=r.date.year(),q=new Date,Q=B.text;return U.disabled=r.disabledDate?jS(W,Q,s.value).every(r.disabledDate):!1,U.current=Vs(r.parsedValue).findIndex(te=>ur.isDayjs(te)&&te.year()===W&&te.month()===Q)>=0,U.today=q.getFullYear()===W&&q.getMonth()===Q,B.inRange&&(U["in-range"]=!0,B.start&&(U["start-date"]=!0),B.end&&(U["end-date"]=!0)),U},E=B=>{const U=r.date.year(),W=B.text;return Vs(r.date).findIndex(q=>q.year()===U&&q.month()===W)>=0},k=B=>{var U;if(!r.rangeState.selecting)return;let W=B.target;if(W.tagName==="SPAN"&&(W=(U=W.parentNode)==null?void 0:U.parentNode),W.tagName==="DIV"&&(W=W.parentNode),W.tagName!=="TD")return;const q=W.parentNode.rowIndex,Q=W.cellIndex;b.value[q][Q].disabled||(q!==v.value||Q!==_.value)&&(v.value=q,_.value=Q,n("changerange",{selecting:!0,endDate:r.date.startOf("year").month(q*4+Q)}))},z=B=>{var U;const W=(U=B.target)==null?void 0:U.closest("td");if((W==null?void 0:W.tagName)!=="TD"||ll(W,"disabled"))return;const q=W.cellIndex,te=W.parentNode.rowIndex*4+q,ie=r.date.startOf("year").month(te);if(r.selectionMode==="months"){if(B.type==="keydown"){n("pick",Vs(r.parsedValue),!1);return}const ae=Mx(r.date.year(),te,s.value,r.disabledDate),re=ll(W,"current")?Vs(r.parsedValue).filter(se=>(se==null?void 0:se.month())!==ae.month()):Vs(r.parsedValue).concat([ur(ae)]);n("pick",re)}else r.selectionMode==="range"?r.rangeState.selecting?(r.minDate&&ie>=r.minDate?n("pick",{minDate:r.minDate,maxDate:ie}):n("pick",{minDate:ie,maxDate:r.minDate}),n("select",!1)):(n("pick",{minDate:ie,maxDate:null}),n("select",!0)):n("pick",te)};return Wt(()=>r.date,async()=>{var B,U;(B=u.value)!=null&&B.contains(document.activeElement)&&(await Fn(),(U=a.value)==null||U.focus())}),t({focus:T}),(B,U)=>(X(),pe("table",{role:"grid","aria-label":A(o)("el.datepicker.monthTablePrompt"),class:ye(A(i).b()),onClick:z,onMousemove:k},[ue("tbody",{ref_key:"tbodyRef",ref:u},[(X(!0),pe(Nn,null,Ur(A(b),(W,q)=>(X(),pe("tr",{key:q},[(X(!0),pe(Nn,null,Ur(W,(Q,te)=>(X(),pe("td",{key:te,ref_for:!0,ref:ie=>E(Q)&&(a.value=ie),class:ye(M(Q)),"aria-selected":`${E(Q)}`,"aria-label":A(o)(`el.datepicker.month${+Q.text+1}`),tabindex:E(Q)?0:-1,onKeydown:[Wi(er(z,["prevent","stop"]),["space"]),Wi(er(z,["prevent","stop"]),["enter"])]},[Fe(A(aR),{cell:{...Q,renderText:A(o)("el.datepicker.months."+h.value[Q.text])}},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var EI=mn(bEe,[["__file","basic-month-table.vue"]]);const xEe=un({...tR,selectionMode:rR("year")}),wEe=ge({__name:"basic-year-table",props:xEe,emits:["changerange","pick","select"],setup(e,{expose:t,emit:n}){const r=e,i=(U,W)=>{const q=ur(String(U)).locale(W).startOf("year"),te=q.endOf("year").dayOfYear();return Qf(te).map(ie=>q.add(ie,"day").toDate())},o=en("year-table"),{t:s,lang:u}=ii(),a=Te(),h=Te(),m=le(()=>Math.floor(r.date.year()/10)*10),v=Te([[],[],[]]),_=Te(),b=Te(),T=le(()=>{var U;const W=v.value,q=ur().locale(u.value).startOf("year");for(let Q=0;Q<3;Q++){const te=W[Q];for(let ie=0;ie<4&&!(Q*4+ie>=10);ie++){let ae=te[ie];ae||(ae={row:Q,column:ie,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1}),ae.type="normal";const re=Q*4+ie+m.value,se=ur().year(re),be=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;ae.inRange=!!(r.minDate&&se.isSameOrAfter(r.minDate,"year")&&be&&se.isSameOrBefore(be,"year"))||!!(r.minDate&&se.isSameOrBefore(r.minDate,"year")&&be&&se.isSameOrAfter(be,"year")),(U=r.minDate)!=null&&U.isSameOrAfter(be)?(ae.start=!!(be&&se.isSame(be,"year")),ae.end=!!(r.minDate&&se.isSame(r.minDate,"year"))):(ae.start=!!(r.minDate&&se.isSame(r.minDate,"year")),ae.end=!!(be&&se.isSame(be,"year"))),q.isSame(se)&&(ae.type="today"),ae.text=re;const Se=se.toDate();ae.disabled=r.disabledDate&&r.disabledDate(Se)||!1,te[ie]=ae}}return W}),M=()=>{var U;(U=h.value)==null||U.focus()},E=U=>{const W={},q=ur().locale(u.value),Q=U.text;return W.disabled=r.disabledDate?i(Q,u.value).every(r.disabledDate):!1,W.today=q.year()===Q,W.current=Vs(r.parsedValue).findIndex(te=>te.year()===Q)>=0,U.inRange&&(W["in-range"]=!0,U.start&&(W["start-date"]=!0),U.end&&(W["end-date"]=!0)),W},k=U=>{const W=U.text;return Vs(r.date).findIndex(q=>q.year()===W)>=0},z=U=>{var W;const q=(W=U.target)==null?void 0:W.closest("td");if(!q||!q.textContent||ll(q,"disabled"))return;const Q=q.cellIndex,ie=q.parentNode.rowIndex*4+Q+m.value,ae=ur().year(ie);if(r.selectionMode==="range")r.rangeState.selecting?(r.minDate&&ae>=r.minDate?n("pick",{minDate:r.minDate,maxDate:ae}):n("pick",{minDate:ae,maxDate:r.minDate}),n("select",!1)):(n("pick",{minDate:ae,maxDate:null}),n("select",!0));else if(r.selectionMode==="years"){if(U.type==="keydown"){n("pick",Vs(r.parsedValue),!1);return}const re=CI(ae.startOf("year"),u.value,r.disabledDate),se=ll(q,"current")?Vs(r.parsedValue).filter(be=>(be==null?void 0:be.year())!==ie):Vs(r.parsedValue).concat([re]);n("pick",se)}else n("pick",ie)},B=U=>{var W;if(!r.rangeState.selecting)return;const q=(W=U.target)==null?void 0:W.closest("td");if(!q)return;const Q=q.parentNode.rowIndex,te=q.cellIndex;T.value[Q][te].disabled||(Q!==_.value||te!==b.value)&&(_.value=Q,b.value=te,n("changerange",{selecting:!0,endDate:ur().year(m.value).add(Q*4+te,"year")}))};return Wt(()=>r.date,async()=>{var U,W;(U=a.value)!=null&&U.contains(document.activeElement)&&(await Fn(),(W=h.value)==null||W.focus())}),t({focus:M}),(U,W)=>(X(),pe("table",{role:"grid","aria-label":A(s)("el.datepicker.yearTablePrompt"),class:ye(A(o).b()),onClick:z,onMousemove:B},[ue("tbody",{ref_key:"tbodyRef",ref:a},[(X(!0),pe(Nn,null,Ur(A(T),(q,Q)=>(X(),pe("tr",{key:Q},[(X(!0),pe(Nn,null,Ur(q,(te,ie)=>(X(),pe("td",{key:`${Q}_${ie}`,ref_for:!0,ref:ae=>k(te)&&(h.value=ae),class:ye(["available",E(te)]),"aria-selected":k(te),"aria-label":String(te.text),tabindex:k(te)?0:-1,onKeydown:[Wi(er(z,["prevent","stop"]),["space"]),Wi(er(z,["prevent","stop"]),["enter"])]},[Fe(A(aR),{cell:te},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var AI=mn(wEe,[["__file","basic-year-table.vue"]]);const SEe=ge({__name:"panel-date-pick",props:dEe,emits:["pick","set-picker-option","panel-change"],setup(e,{emit:t}){const n=e,r=(Bt,yn,ht)=>!0,i=en("picker-panel"),o=en("date-picker"),s=jl(),u=yo(),{t:a,lang:h}=ii(),m=An("EP_PICKER_BASE"),v=An(y8),{shortcuts:_,disabledDate:b,cellClassName:T,defaultTime:M}=m.props,E=Li(m.props,"defaultValue"),k=Te(),z=Te(ur().locale(h.value)),B=Te(!1);let U=!1;const W=le(()=>ur(M).locale(h.value)),q=le(()=>z.value.month()),Q=le(()=>z.value.year()),te=Te([]),ie=Te(null),ae=Te(null),re=Bt=>te.value.length>0?r(Bt,te.value,n.format||"HH:mm:ss"):!0,se=Bt=>M&&!Ze.value&&!B.value&&!U?W.value.year(Bt.year()).month(Bt.month()).date(Bt.date()):je.value?Bt.millisecond(0):Bt.startOf("day"),be=(Bt,...yn)=>{if(!Bt)t("pick",Bt,...yn);else if(Tn(Bt)){const ht=Bt.map(se);t("pick",ht,...yn)}else t("pick",se(Bt),...yn);ie.value=null,ae.value=null,B.value=!1,U=!1},Ie=async(Bt,yn)=>{if(xe.value==="date"){Bt=Bt;let ht=n.parsedValue?n.parsedValue.year(Bt.year()).month(Bt.month()).date(Bt.date()):Bt;re(ht)||(ht=te.value[0][0].year(Bt.year()).month(Bt.month()).date(Bt.date())),z.value=ht,be(ht,je.value||yn),n.type==="datetime"&&(await Fn(),cr())}else xe.value==="week"?be(Bt.date):xe.value==="dates"&&be(Bt,!0)},Se=Bt=>{const yn=Bt?"add":"subtract";z.value=z.value[yn](1,"month"),wi("month")},me=Bt=>{const yn=z.value,ht=Bt?"add":"subtract";z.value=Le.value==="year"?yn[ht](10,"year"):yn[ht](1,"year"),wi("year")},Le=Te("date"),Ee=le(()=>{const Bt=a("el.datepicker.year");if(Le.value==="year"){const yn=Math.floor(Q.value/10)*10;return Bt?`${yn} ${Bt} - ${yn+9} ${Bt}`:`${yn} - ${yn+9}`}return`${Q.value} ${Bt}`}),_e=Bt=>{const yn=tr(Bt.value)?Bt.value():Bt.value;if(yn){U=!0,be(ur(yn).locale(h.value));return}Bt.onClick&&Bt.onClick({attrs:s,slots:u,emit:t})},xe=le(()=>{const{type:Bt}=n;return["week","month","months","year","years","dates"].includes(Bt)?Bt:"date"}),Be=le(()=>xe.value==="dates"||xe.value==="months"||xe.value==="years"),Je=le(()=>xe.value==="date"?Le.value:xe.value),Ye=le(()=>!!_.length),lt=async(Bt,yn)=>{xe.value==="month"?(z.value=Mx(z.value.year(),Bt,h.value,b),be(z.value,!1)):xe.value==="months"?be(Bt,yn??!0):(z.value=Mx(z.value.year(),Bt,h.value,b),Le.value="date",["month","year","date","week"].includes(xe.value)&&(be(z.value,!0),await Fn(),cr())),wi("month")},Nt=async(Bt,yn)=>{if(xe.value==="year"){const ht=z.value.startOf("year").year(Bt);z.value=CI(ht,h.value,b),be(z.value,!1)}else if(xe.value==="years")be(Bt,yn??!0);else{const ht=z.value.year(Bt);z.value=CI(ht,h.value,b),Le.value="month",["month","year","date","week"].includes(xe.value)&&(be(z.value,!0),await Fn(),cr())}wi("year")},Dt=async Bt=>{Le.value=Bt,await Fn(),cr()},je=le(()=>n.type==="datetime"||n.type==="datetimerange"),Ct=le(()=>{const Bt=je.value||xe.value==="dates",yn=xe.value==="years",ht=xe.value==="months",Zt=Le.value==="date",Xt=Le.value==="year",qn=Le.value==="month";return Bt&&Zt||yn&&Xt||ht&&qn}),vt=le(()=>b?n.parsedValue?Tn(n.parsedValue)?b(n.parsedValue[0].toDate()):b(n.parsedValue.toDate()):!0:!1),Vt=()=>{if(Be.value)be(n.parsedValue);else{let Bt=n.parsedValue;if(!Bt){const yn=ur(M).locale(h.value),ht=rr();Bt=yn.year(ht.year()).month(ht.month()).date(ht.date())}z.value=Bt,be(Bt)}},Re=le(()=>b?b(ur().locale(h.value).toDate()):!1),pt=()=>{const yn=ur().locale(h.value).toDate();B.value=!0,(!b||!b(yn))&&re(yn)&&(z.value=ur().locale(h.value),be(z.value))},Ne=le(()=>n.timeFormat||$K(n.format)),et=le(()=>n.dateFormat||NK(n.format)),Ze=le(()=>{if(ae.value)return ae.value;if(!(!n.parsedValue&&!E.value))return(n.parsedValue||z.value).format(Ne.value)}),nn=le(()=>{if(ie.value)return ie.value;if(!(!n.parsedValue&&!E.value))return(n.parsedValue||z.value).format(et.value)}),It=Te(!1),Ft=()=>{It.value=!0},zt=()=>{It.value=!1},tn=Bt=>({hour:Bt.hour(),minute:Bt.minute(),second:Bt.second(),year:Bt.year(),month:Bt.month(),date:Bt.date()}),fn=(Bt,yn,ht)=>{const{hour:Zt,minute:Xt,second:qn}=tn(Bt),Qr=n.parsedValue?n.parsedValue.hour(Zt).minute(Xt).second(qn):Bt;z.value=Qr,be(z.value,!0),ht||(It.value=yn)},hn=Bt=>{const yn=ur(Bt,Ne.value).locale(h.value);if(yn.isValid()&&re(yn)){const{year:ht,month:Zt,date:Xt}=tn(z.value);z.value=yn.year(ht).month(Zt).date(Xt),ae.value=null,It.value=!1,be(z.value,!0)}},Dn=Bt=>{const yn=ur(Bt,et.value).locale(h.value);if(yn.isValid()){if(b&&b(yn.toDate()))return;const{hour:ht,minute:Zt,second:Xt}=tn(z.value);z.value=yn.hour(ht).minute(Zt).second(Xt),ie.value=null,be(z.value,!0)}},ln=Bt=>ur.isDayjs(Bt)&&Bt.isValid()&&(b?!b(Bt.toDate()):!0),St=Bt=>Tn(Bt)?Bt.map(yn=>yn.format(n.format)):Bt.format(n.format),Pn=Bt=>ur(Bt,n.format).locale(h.value),rr=()=>{const Bt=ur(E.value).locale(h.value);if(!E.value){const yn=W.value;return ur().hour(yn.hour()).minute(yn.minute()).second(yn.second()).locale(h.value)}return Bt},cr=async()=>{var Bt;["week","month","year","date"].includes(xe.value)&&((Bt=k.value)==null||Bt.focus(),xe.value==="week"&&Xr(Kn.down))},sr=Bt=>{const{code:yn}=Bt;[Kn.up,Kn.down,Kn.left,Kn.right,Kn.home,Kn.end,Kn.pageUp,Kn.pageDown].includes(yn)&&(Xr(yn),Bt.stopPropagation(),Bt.preventDefault()),[Kn.enter,Kn.space,Kn.numpadEnter].includes(yn)&&ie.value===null&&ae.value===null&&(Bt.preventDefault(),be(z.value,!1))},Xr=Bt=>{var yn;const{up:ht,down:Zt,left:Xt,right:qn,home:Qr,end:Mt,pageUp:Gn,pageDown:Wr}=Kn,Nr={year:{[ht]:-4,[Zt]:4,[Xt]:-1,[qn]:1,offset:(si,Ya)=>si.setFullYear(si.getFullYear()+Ya)},month:{[ht]:-4,[Zt]:4,[Xt]:-1,[qn]:1,offset:(si,Ya)=>si.setMonth(si.getMonth()+Ya)},week:{[ht]:-1,[Zt]:1,[Xt]:-1,[qn]:1,offset:(si,Ya)=>si.setDate(si.getDate()+Ya*7)},date:{[ht]:-7,[Zt]:7,[Xt]:-1,[qn]:1,[Qr]:si=>-si.getDay(),[Mt]:si=>-si.getDay()+6,[Gn]:si=>-new Date(si.getFullYear(),si.getMonth(),0).getDate(),[Wr]:si=>new Date(si.getFullYear(),si.getMonth()+1,0).getDate(),offset:(si,Ya)=>si.setDate(si.getDate()+Ya)}},qr=z.value.toDate();for(;Math.abs(z.value.diff(qr,"year",!0))<1;){const si=Nr[Je.value];if(!si)return;if(si.offset(qr,tr(si[Bt])?si[Bt](qr):(yn=si[Bt])!=null?yn:0),b&&b(qr))break;const Ya=ur(qr).locale(h.value);z.value=Ya,t("pick",Ya,!0);break}},wi=Bt=>{t("panel-change",z.value.toDate(),Bt,Le.value)};return Wt(()=>xe.value,Bt=>{if(["month","year"].includes(Bt)){Le.value=Bt;return}else if(Bt==="years"){Le.value="year";return}else if(Bt==="months"){Le.value="month";return}Le.value="date"},{immediate:!0}),Wt(()=>Le.value,()=>{v==null||v.updatePopper()}),Wt(()=>E.value,Bt=>{Bt&&(z.value=rr())},{immediate:!0}),Wt(()=>n.parsedValue,Bt=>{if(Bt){if(Be.value||Array.isArray(Bt))return;z.value=Bt}else z.value=rr()},{immediate:!0}),t("set-picker-option",["isValidValue",ln]),t("set-picker-option",["formatToString",St]),t("set-picker-option",["parseUserInput",Pn]),t("set-picker-option",["handleFocusPicker",cr]),(Bt,yn)=>(X(),pe("div",{class:ye([A(i).b(),A(o).b(),{"has-sidebar":Bt.$slots.sidebar||A(Ye),"has-time":A(je)}])},[ue("div",{class:ye(A(i).e("body-wrapper"))},[bt(Bt.$slots,"sidebar",{class:ye(A(i).e("sidebar"))}),A(Ye)?(X(),pe("div",{key:0,class:ye(A(i).e("sidebar"))},[(X(!0),pe(Nn,null,Ur(A(_),(ht,Zt)=>(X(),pe("button",{key:Zt,type:"button",class:ye(A(i).e("shortcut")),onClick:Xt=>_e(ht)},pn(ht.text),11,["onClick"]))),128))],2)):wt("v-if",!0),ue("div",{class:ye(A(i).e("body"))},[A(je)?(X(),pe("div",{key:0,class:ye(A(o).e("time-header"))},[ue("span",{class:ye(A(o).e("editor-wrap"))},[Fe(A(_s),{placeholder:A(a)("el.datepicker.selectDate"),"model-value":A(nn),size:"small","validate-event":!1,onInput:ht=>ie.value=ht,onChange:Dn},null,8,["placeholder","model-value","onInput"])],2),yr((X(),pe("span",{class:ye(A(o).e("editor-wrap"))},[Fe(A(_s),{placeholder:A(a)("el.datepicker.selectTime"),"model-value":A(Ze),size:"small","validate-event":!1,onFocus:Ft,onInput:ht=>ae.value=ht,onChange:hn},null,8,["placeholder","model-value","onInput"]),Fe(A(US),{visible:It.value,format:A(Ne),"parsed-value":z.value,onPick:fn},null,8,["visible","format","parsed-value"])],2)),[[A(dh),zt]])],2)):wt("v-if",!0),yr(ue("div",{class:ye([A(o).e("header"),(Le.value==="year"||Le.value==="month")&&A(o).e("header--bordered")])},[ue("span",{class:ye(A(o).e("prev-btn"))},[ue("button",{type:"button","aria-label":A(a)("el.datepicker.prevYear"),class:ye(["d-arrow-left",A(i).e("icon-btn")]),onClick:ht=>me(!1)},[bt(Bt.$slots,"prev-year",{},()=>[Fe(A(On),null,{default:tt(()=>[Fe(A(lh))]),_:1})])],10,["aria-label","onClick"]),yr(ue("button",{type:"button","aria-label":A(a)("el.datepicker.prevMonth"),class:ye([A(i).e("icon-btn"),"arrow-left"]),onClick:ht=>Se(!1)},[bt(Bt.$slots,"prev-month",{},()=>[Fe(A(On),null,{default:tt(()=>[Fe(A(sh))]),_:1})])],10,["aria-label","onClick"]),[[vi,Le.value==="date"]])],2),ue("span",{role:"button",class:ye(A(o).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:Wi(ht=>Dt("year"),["enter"]),onClick:ht=>Dt("year")},pn(A(Ee)),43,["onKeydown","onClick"]),yr(ue("span",{role:"button","aria-live":"polite",tabindex:"0",class:ye([A(o).e("header-label"),{active:Le.value==="month"}]),onKeydown:Wi(ht=>Dt("month"),["enter"]),onClick:ht=>Dt("month")},pn(A(a)(`el.datepicker.month${A(q)+1}`)),43,["onKeydown","onClick"]),[[vi,Le.value==="date"]]),ue("span",{class:ye(A(o).e("next-btn"))},[yr(ue("button",{type:"button","aria-label":A(a)("el.datepicker.nextMonth"),class:ye([A(i).e("icon-btn"),"arrow-right"]),onClick:ht=>Se(!0)},[bt(Bt.$slots,"next-month",{},()=>[Fe(A(On),null,{default:tt(()=>[Fe(A(xs))]),_:1})])],10,["aria-label","onClick"]),[[vi,Le.value==="date"]]),ue("button",{type:"button","aria-label":A(a)("el.datepicker.nextYear"),class:ye([A(i).e("icon-btn"),"d-arrow-right"]),onClick:ht=>me(!0)},[bt(Bt.$slots,"next-year",{},()=>[Fe(A(On),null,{default:tt(()=>[Fe(A(uh))]),_:1})])],10,["aria-label","onClick"])],2)],2),[[vi,Le.value!=="time"]]),ue("div",{class:ye(A(i).e("content")),onKeydown:sr},[Le.value==="date"?(X(),Rt(MI,{key:0,ref_key:"currentViewRef",ref:k,"selection-mode":A(xe),date:z.value,"parsed-value":Bt.parsedValue,"disabled-date":A(b),"cell-class-name":A(T),onPick:Ie},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):wt("v-if",!0),Le.value==="year"?(X(),Rt(AI,{key:1,ref_key:"currentViewRef",ref:k,"selection-mode":A(xe),date:z.value,"disabled-date":A(b),"parsed-value":Bt.parsedValue,onPick:Nt},null,8,["selection-mode","date","disabled-date","parsed-value"])):wt("v-if",!0),Le.value==="month"?(X(),Rt(EI,{key:2,ref_key:"currentViewRef",ref:k,"selection-mode":A(xe),date:z.value,"parsed-value":Bt.parsedValue,"disabled-date":A(b),onPick:lt},null,8,["selection-mode","date","parsed-value","disabled-date"])):wt("v-if",!0)],34)],2)],2),yr(ue("div",{class:ye(A(i).e("footer"))},[yr(Fe(A(Po),{text:"",size:"small",class:ye(A(i).e("link-btn")),disabled:A(Re),onClick:pt},{default:tt(()=>[Br(pn(A(a)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[vi,!A(Be)]]),Fe(A(Po),{plain:"",size:"small",class:ye(A(i).e("link-btn")),disabled:A(vt),onClick:Vt},{default:tt(()=>[Br(pn(A(a)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[vi,A(Ct)]])],2))}});var CEe=mn(SEe,[["__file","panel-date-pick.vue"]]);const TEe=un({...DY,...nR,visible:Boolean}),OY=e=>{const{emit:t}=Mr(),n=jl(),r=yo();return o=>{const s=tr(o.value)?o.value():o.value;if(s){t("pick",[ur(s[0]).locale(e.value),ur(s[1]).locale(e.value)]);return}o.onClick&&o.onClick({attrs:n,slots:r,emit:t})}},zY=(e,{defaultValue:t,leftDate:n,rightDate:r,unit:i,onParsedValueChanged:o})=>{const{emit:s}=Mr(),{pickerNs:u}=An(x8),a=en("date-range-picker"),{t:h,lang:m}=ii(),v=OY(m),_=Te(),b=Te(),T=Te({endDate:null,selecting:!1}),M=U=>{T.value=U},E=(U=!1)=>{const W=A(_),q=A(b);m_([W,q])&&s("pick",[W,q],U)},k=U=>{T.value.selecting=U,U||(T.value.endDate=null)},z=U=>{if(Tn(U)&&U.length===2){const[W,q]=U;_.value=W,n.value=W,b.value=q,o(A(_),A(b))}else B()},B=()=>{const[U,W]=iR(A(t),{lang:A(m),unit:i,unlinkPanels:e.unlinkPanels});_.value=void 0,b.value=void 0,n.value=U,r.value=W};return Wt(t,U=>{U&&B()},{immediate:!0}),Wt(()=>e.parsedValue,z,{immediate:!0}),{minDate:_,maxDate:b,rangeState:T,lang:m,ppNs:u,drpNs:a,handleChangeRange:M,handleRangeConfirm:E,handleShortcutClick:v,onSelect:k,onReset:z,t:h}},z6="month",MEe=ge({__name:"panel-date-range",props:TEe,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(e,{emit:t}){const n=e,r=An("EP_PICKER_BASE"),{disabledDate:i,cellClassName:o,defaultTime:s,clearable:u}=r.props,a=Li(r.props,"format"),h=Li(r.props,"shortcuts"),m=Li(r.props,"defaultValue"),{lang:v}=ii(),_=Te(ur().locale(v.value)),b=Te(ur().locale(v.value).add(1,z6)),{minDate:T,maxDate:M,rangeState:E,ppNs:k,drpNs:z,handleChangeRange:B,handleRangeConfirm:U,handleShortcutClick:W,onSelect:q,onReset:Q,t:te}=zY(n,{defaultValue:m,leftDate:_,rightDate:b,unit:z6,onParsedValueChanged:yn});Wt(()=>n.visible,ht=>{!ht&&E.value.selecting&&(Q(n.parsedValue),q(!1))});const ie=Te({min:null,max:null}),ae=Te({min:null,max:null}),re=le(()=>`${_.value.year()} ${te("el.datepicker.year")} ${te(`el.datepicker.month${_.value.month()+1}`)}`),se=le(()=>`${b.value.year()} ${te("el.datepicker.year")} ${te(`el.datepicker.month${b.value.month()+1}`)}`),be=le(()=>_.value.year()),Ie=le(()=>_.value.month()),Se=le(()=>b.value.year()),me=le(()=>b.value.month()),Le=le(()=>!!h.value.length),Ee=le(()=>ie.value.min!==null?ie.value.min:T.value?T.value.format(Ye.value):""),_e=le(()=>ie.value.max!==null?ie.value.max:M.value||T.value?(M.value||T.value).format(Ye.value):""),xe=le(()=>ae.value.min!==null?ae.value.min:T.value?T.value.format(Je.value):""),Be=le(()=>ae.value.max!==null?ae.value.max:M.value||T.value?(M.value||T.value).format(Je.value):""),Je=le(()=>n.timeFormat||$K(a.value)),Ye=le(()=>n.dateFormat||NK(a.value)),lt=ht=>m_(ht)&&(i?!i(ht[0].toDate())&&!i(ht[1].toDate()):!0),Nt=()=>{_.value=_.value.subtract(1,"year"),n.unlinkPanels||(b.value=_.value.add(1,"month")),Ne("year")},Dt=()=>{_.value=_.value.subtract(1,"month"),n.unlinkPanels||(b.value=_.value.add(1,"month")),Ne("month")},je=()=>{n.unlinkPanels?b.value=b.value.add(1,"year"):(_.value=_.value.add(1,"year"),b.value=_.value.add(1,"month")),Ne("year")},Ct=()=>{n.unlinkPanels?b.value=b.value.add(1,"month"):(_.value=_.value.add(1,"month"),b.value=_.value.add(1,"month")),Ne("month")},vt=()=>{_.value=_.value.add(1,"year"),Ne("year")},Vt=()=>{_.value=_.value.add(1,"month"),Ne("month")},Re=()=>{b.value=b.value.subtract(1,"year"),Ne("year")},pt=()=>{b.value=b.value.subtract(1,"month"),Ne("month")},Ne=ht=>{t("panel-change",[_.value.toDate(),b.value.toDate()],ht)},et=le(()=>{const ht=(Ie.value+1)%12,Zt=Ie.value+1>=12?1:0;return n.unlinkPanels&&new Date(be.value+Zt,ht)<new Date(Se.value,me.value)}),Ze=le(()=>n.unlinkPanels&&Se.value*12+me.value-(be.value*12+Ie.value+1)>=12),nn=le(()=>!(T.value&&M.value&&!E.value.selecting&&m_([T.value,M.value]))),It=le(()=>n.type==="datetime"||n.type==="datetimerange"),Ft=(ht,Zt)=>{if(ht)return s?ur(s[Zt]||s).locale(v.value).year(ht.year()).month(ht.month()).date(ht.date()):ht},zt=(ht,Zt=!0)=>{const Xt=ht.minDate,qn=ht.maxDate,Qr=Ft(Xt,0),Mt=Ft(qn,1);M.value===Mt&&T.value===Qr||(t("calendar-change",[Xt.toDate(),qn&&qn.toDate()]),M.value=Mt,T.value=Qr,!(!Zt||It.value)&&U())},tn=Te(!1),fn=Te(!1),hn=()=>{tn.value=!1},Dn=()=>{fn.value=!1},ln=(ht,Zt)=>{ie.value[Zt]=ht;const Xt=ur(ht,Ye.value).locale(v.value);if(Xt.isValid()){if(i&&i(Xt.toDate()))return;Zt==="min"?(_.value=Xt,T.value=(T.value||_.value).year(Xt.year()).month(Xt.month()).date(Xt.date()),!n.unlinkPanels&&(!M.value||M.value.isBefore(T.value))&&(b.value=Xt.add(1,"month"),M.value=T.value.add(1,"month"))):(b.value=Xt,M.value=(M.value||b.value).year(Xt.year()).month(Xt.month()).date(Xt.date()),!n.unlinkPanels&&(!T.value||T.value.isAfter(M.value))&&(_.value=Xt.subtract(1,"month"),T.value=M.value.subtract(1,"month")))}},St=(ht,Zt)=>{ie.value[Zt]=null},Pn=(ht,Zt)=>{ae.value[Zt]=ht;const Xt=ur(ht,Je.value).locale(v.value);Xt.isValid()&&(Zt==="min"?(tn.value=!0,T.value=(T.value||_.value).hour(Xt.hour()).minute(Xt.minute()).second(Xt.second())):(fn.value=!0,M.value=(M.value||b.value).hour(Xt.hour()).minute(Xt.minute()).second(Xt.second()),b.value=M.value))},rr=(ht,Zt)=>{ae.value[Zt]=null,Zt==="min"?(_.value=T.value,tn.value=!1,(!M.value||M.value.isBefore(T.value))&&(M.value=T.value)):(b.value=M.value,fn.value=!1,M.value&&M.value.isBefore(T.value)&&(T.value=M.value))},cr=(ht,Zt,Xt)=>{ae.value.min||(ht&&(_.value=ht,T.value=(T.value||_.value).hour(ht.hour()).minute(ht.minute()).second(ht.second())),Xt||(tn.value=Zt),(!M.value||M.value.isBefore(T.value))&&(M.value=T.value,b.value=ht))},sr=(ht,Zt,Xt)=>{ae.value.max||(ht&&(b.value=ht,M.value=(M.value||b.value).hour(ht.hour()).minute(ht.minute()).second(ht.second())),Xt||(fn.value=Zt),M.value&&M.value.isBefore(T.value)&&(T.value=M.value))},Xr=()=>{_.value=iR(A(m),{lang:A(v),unit:"month",unlinkPanels:n.unlinkPanels})[0],b.value=_.value.add(1,"month"),M.value=void 0,T.value=void 0,t("pick",null)},wi=ht=>Tn(ht)?ht.map(Zt=>Zt.format(a.value)):ht.format(a.value),Bt=ht=>Tn(ht)?ht.map(Zt=>ur(Zt,a.value).locale(v.value)):ur(ht,a.value).locale(v.value);function yn(ht,Zt){if(n.unlinkPanels&&Zt){const Xt=(ht==null?void 0:ht.year())||0,qn=(ht==null?void 0:ht.month())||0,Qr=Zt.year(),Mt=Zt.month();b.value=Xt===Qr&&qn===Mt?Zt.add(1,z6):Zt}else b.value=_.value.add(1,z6),Zt&&(b.value=b.value.hour(Zt.hour()).minute(Zt.minute()).second(Zt.second()))}return t("set-picker-option",["isValidValue",lt]),t("set-picker-option",["parseUserInput",Bt]),t("set-picker-option",["formatToString",wi]),t("set-picker-option",["handleClear",Xr]),(ht,Zt)=>(X(),pe("div",{class:ye([A(k).b(),A(z).b(),{"has-sidebar":ht.$slots.sidebar||A(Le),"has-time":A(It)}])},[ue("div",{class:ye(A(k).e("body-wrapper"))},[bt(ht.$slots,"sidebar",{class:ye(A(k).e("sidebar"))}),A(Le)?(X(),pe("div",{key:0,class:ye(A(k).e("sidebar"))},[(X(!0),pe(Nn,null,Ur(A(h),(Xt,qn)=>(X(),pe("button",{key:qn,type:"button",class:ye(A(k).e("shortcut")),onClick:Qr=>A(W)(Xt)},pn(Xt.text),11,["onClick"]))),128))],2)):wt("v-if",!0),ue("div",{class:ye(A(k).e("body"))},[A(It)?(X(),pe("div",{key:0,class:ye(A(z).e("time-header"))},[ue("span",{class:ye(A(z).e("editors-wrap"))},[ue("span",{class:ye(A(z).e("time-picker-wrap"))},[Fe(A(_s),{size:"small",disabled:A(E).selecting,placeholder:A(te)("el.datepicker.startDate"),class:ye(A(z).e("editor")),"model-value":A(Ee),"validate-event":!1,onInput:Xt=>ln(Xt,"min"),onChange:Xt=>St(Xt,"min")},null,8,["disabled","placeholder","class","model-value","onInput","onChange"])],2),yr((X(),pe("span",{class:ye(A(z).e("time-picker-wrap"))},[Fe(A(_s),{size:"small",class:ye(A(z).e("editor")),disabled:A(E).selecting,placeholder:A(te)("el.datepicker.startTime"),"model-value":A(xe),"validate-event":!1,onFocus:Xt=>tn.value=!0,onInput:Xt=>Pn(Xt,"min"),onChange:Xt=>rr(Xt,"min")},null,8,["class","disabled","placeholder","model-value","onFocus","onInput","onChange"]),Fe(A(US),{visible:tn.value,format:A(Je),"datetime-role":"start","parsed-value":_.value,onPick:cr},null,8,["visible","format","parsed-value"])],2)),[[A(dh),hn]])],2),ue("span",null,[Fe(A(On),null,{default:tt(()=>[Fe(A(xs))]),_:1})]),ue("span",{class:ye([A(z).e("editors-wrap"),"is-right"])},[ue("span",{class:ye(A(z).e("time-picker-wrap"))},[Fe(A(_s),{size:"small",class:ye(A(z).e("editor")),disabled:A(E).selecting,placeholder:A(te)("el.datepicker.endDate"),"model-value":A(_e),readonly:!A(T),"validate-event":!1,onInput:Xt=>ln(Xt,"max"),onChange:Xt=>St(Xt,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onInput","onChange"])],2),yr((X(),pe("span",{class:ye(A(z).e("time-picker-wrap"))},[Fe(A(_s),{size:"small",class:ye(A(z).e("editor")),disabled:A(E).selecting,placeholder:A(te)("el.datepicker.endTime"),"model-value":A(Be),readonly:!A(T),"validate-event":!1,onFocus:Xt=>A(T)&&(fn.value=!0),onInput:Xt=>Pn(Xt,"max"),onChange:Xt=>rr(Xt,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onFocus","onInput","onChange"]),Fe(A(US),{"datetime-role":"end",visible:fn.value,format:A(Je),"parsed-value":b.value,onPick:sr},null,8,["visible","format","parsed-value"])],2)),[[A(dh),Dn]])],2)],2)):wt("v-if",!0),ue("div",{class:ye([[A(k).e("content"),A(z).e("content")],"is-left"])},[ue("div",{class:ye(A(z).e("header"))},[ue("button",{type:"button",class:ye([A(k).e("icon-btn"),"d-arrow-left"]),"aria-label":A(te)("el.datepicker.prevYear"),onClick:Nt},[bt(ht.$slots,"prev-year",{},()=>[Fe(A(On),null,{default:tt(()=>[Fe(A(lh))]),_:1})])],10,["aria-label"]),ue("button",{type:"button",class:ye([A(k).e("icon-btn"),"arrow-left"]),"aria-label":A(te)("el.datepicker.prevMonth"),onClick:Dt},[bt(ht.$slots,"prev-month",{},()=>[Fe(A(On),null,{default:tt(()=>[Fe(A(sh))]),_:1})])],10,["aria-label"]),ht.unlinkPanels?(X(),pe("button",{key:0,type:"button",disabled:!A(Ze),class:ye([[A(k).e("icon-btn"),{"is-disabled":!A(Ze)}],"d-arrow-right"]),"aria-label":A(te)("el.datepicker.nextYear"),onClick:vt},[bt(ht.$slots,"next-year",{},()=>[Fe(A(On),null,{default:tt(()=>[Fe(A(uh))]),_:1})])],10,["disabled","aria-label"])):wt("v-if",!0),ht.unlinkPanels?(X(),pe("button",{key:1,type:"button",disabled:!A(et),class:ye([[A(k).e("icon-btn"),{"is-disabled":!A(et)}],"arrow-right"]),"aria-label":A(te)("el.datepicker.nextMonth"),onClick:Vt},[bt(ht.$slots,"next-month",{},()=>[Fe(A(On),null,{default:tt(()=>[Fe(A(xs))]),_:1})])],10,["disabled","aria-label"])):wt("v-if",!0),ue("div",null,pn(A(re)),1)],2),Fe(MI,{"selection-mode":"range",date:_.value,"min-date":A(T),"max-date":A(M),"range-state":A(E),"disabled-date":A(i),"cell-class-name":A(o),onChangerange:A(B),onPick:zt,onSelect:A(q)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),ue("div",{class:ye([[A(k).e("content"),A(z).e("content")],"is-right"])},[ue("div",{class:ye(A(z).e("header"))},[ht.unlinkPanels?(X(),pe("button",{key:0,type:"button",disabled:!A(Ze),class:ye([[A(k).e("icon-btn"),{"is-disabled":!A(Ze)}],"d-arrow-left"]),"aria-label":A(te)("el.datepicker.prevYear"),onClick:Re},[bt(ht.$slots,"prev-year",{},()=>[Fe(A(On),null,{default:tt(()=>[Fe(A(lh))]),_:1})])],10,["disabled","aria-label"])):wt("v-if",!0),ht.unlinkPanels?(X(),pe("button",{key:1,type:"button",disabled:!A(et),class:ye([[A(k).e("icon-btn"),{"is-disabled":!A(et)}],"arrow-left"]),"aria-label":A(te)("el.datepicker.prevMonth"),onClick:pt},[bt(ht.$slots,"prev-month",{},()=>[Fe(A(On),null,{default:tt(()=>[Fe(A(sh))]),_:1})])],10,["disabled","aria-label"])):wt("v-if",!0),ue("button",{type:"button","aria-label":A(te)("el.datepicker.nextYear"),class:ye([A(k).e("icon-btn"),"d-arrow-right"]),onClick:je},[bt(ht.$slots,"next-year",{},()=>[Fe(A(On),null,{default:tt(()=>[Fe(A(uh))]),_:1})])],10,["aria-label"]),ue("button",{type:"button",class:ye([A(k).e("icon-btn"),"arrow-right"]),"aria-label":A(te)("el.datepicker.nextMonth"),onClick:Ct},[bt(ht.$slots,"next-month",{},()=>[Fe(A(On),null,{default:tt(()=>[Fe(A(xs))]),_:1})])],10,["aria-label"]),ue("div",null,pn(A(se)),1)],2),Fe(MI,{"selection-mode":"range",date:b.value,"min-date":A(T),"max-date":A(M),"range-state":A(E),"disabled-date":A(i),"cell-class-name":A(o),onChangerange:A(B),onPick:zt,onSelect:A(q)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),A(It)?(X(),pe("div",{key:0,class:ye(A(k).e("footer"))},[A(u)?(X(),Rt(A(Po),{key:0,text:"",size:"small",class:ye(A(k).e("link-btn")),onClick:Xr},{default:tt(()=>[Br(pn(A(te)("el.datepicker.clear")),1)]),_:1},8,["class"])):wt("v-if",!0),Fe(A(Po),{plain:"",size:"small",class:ye(A(k).e("link-btn")),disabled:A(nn),onClick:Xt=>A(U)(!1)},{default:tt(()=>[Br(pn(A(te)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled","onClick"])],2)):wt("v-if",!0)],2))}});var EEe=mn(MEe,[["__file","panel-date-range.vue"]]);const AEe=un({...nR}),IEe=["pick","set-picker-option","calendar-change"],kEe=({unlinkPanels:e,leftDate:t,rightDate:n})=>{const{t:r}=ii(),i=()=>{t.value=t.value.subtract(1,"year"),e.value||(n.value=n.value.subtract(1,"year"))},o=()=>{e.value||(t.value=t.value.add(1,"year")),n.value=n.value.add(1,"year")},s=()=>{t.value=t.value.add(1,"year")},u=()=>{n.value=n.value.subtract(1,"year")},a=le(()=>`${t.value.year()} ${r("el.datepicker.year")}`),h=le(()=>`${n.value.year()} ${r("el.datepicker.year")}`),m=le(()=>t.value.year()),v=le(()=>n.value.year()===t.value.year()?t.value.year()+1:n.value.year());return{leftPrevYear:i,rightNextYear:o,leftNextYear:s,rightPrevYear:u,leftLabel:a,rightLabel:h,leftYear:m,rightYear:v}},B6="year",PEe=ge({name:"DatePickerMonthRange"}),LEe=ge({...PEe,props:AEe,emits:IEe,setup(e,{emit:t}){const n=e,{lang:r}=ii(),i=An("EP_PICKER_BASE"),{shortcuts:o,disabledDate:s}=i.props,u=Li(i.props,"format"),a=Li(i.props,"defaultValue"),h=Te(ur().locale(r.value)),m=Te(ur().locale(r.value).add(1,B6)),{minDate:v,maxDate:_,rangeState:b,ppNs:T,drpNs:M,handleChangeRange:E,handleRangeConfirm:k,handleShortcutClick:z,onSelect:B}=zY(n,{defaultValue:a,leftDate:h,rightDate:m,unit:B6,onParsedValueChanged:Ee}),U=le(()=>!!o.length),{leftPrevYear:W,rightNextYear:q,leftNextYear:Q,rightPrevYear:te,leftLabel:ie,rightLabel:ae,leftYear:re,rightYear:se}=kEe({unlinkPanels:Li(n,"unlinkPanels"),leftDate:h,rightDate:m}),be=le(()=>n.unlinkPanels&&se.value>re.value+1),Ie=(_e,xe=!0)=>{const Be=_e.minDate,Je=_e.maxDate;_.value===Je&&v.value===Be||(t("calendar-change",[Be.toDate(),Je&&Je.toDate()]),_.value=Je,v.value=Be,xe&&k())},Se=()=>{h.value=iR(A(a),{lang:A(r),unit:"year",unlinkPanels:n.unlinkPanels})[0],m.value=h.value.add(1,"year"),t("pick",null)},me=_e=>Tn(_e)?_e.map(xe=>xe.format(u.value)):_e.format(u.value),Le=_e=>Tn(_e)?_e.map(xe=>ur(xe,u.value).locale(r.value)):ur(_e,u.value).locale(r.value);function Ee(_e,xe){if(n.unlinkPanels&&xe){const Be=(_e==null?void 0:_e.year())||0,Je=xe.year();m.value=Be===Je?xe.add(1,B6):xe}else m.value=h.value.add(1,B6)}return t("set-picker-option",["isValidValue",m_]),t("set-picker-option",["formatToString",me]),t("set-picker-option",["parseUserInput",Le]),t("set-picker-option",["handleClear",Se]),(_e,xe)=>(X(),pe("div",{class:ye([A(T).b(),A(M).b(),{"has-sidebar":!!_e.$slots.sidebar||A(U)}])},[ue("div",{class:ye(A(T).e("body-wrapper"))},[bt(_e.$slots,"sidebar",{class:ye(A(T).e("sidebar"))}),A(U)?(X(),pe("div",{key:0,class:ye(A(T).e("sidebar"))},[(X(!0),pe(Nn,null,Ur(A(o),(Be,Je)=>(X(),pe("button",{key:Je,type:"button",class:ye(A(T).e("shortcut")),onClick:Ye=>A(z)(Be)},pn(Be.text),11,["onClick"]))),128))],2)):wt("v-if",!0),ue("div",{class:ye(A(T).e("body"))},[ue("div",{class:ye([[A(T).e("content"),A(M).e("content")],"is-left"])},[ue("div",{class:ye(A(M).e("header"))},[ue("button",{type:"button",class:ye([A(T).e("icon-btn"),"d-arrow-left"]),onClick:A(W)},[bt(_e.$slots,"prev-year",{},()=>[Fe(A(On),null,{default:tt(()=>[Fe(A(lh))]),_:1})])],10,["onClick"]),_e.unlinkPanels?(X(),pe("button",{key:0,type:"button",disabled:!A(be),class:ye([[A(T).e("icon-btn"),{[A(T).is("disabled")]:!A(be)}],"d-arrow-right"]),onClick:A(Q)},[bt(_e.$slots,"next-year",{},()=>[Fe(A(On),null,{default:tt(()=>[Fe(A(uh))]),_:1})])],10,["disabled","onClick"])):wt("v-if",!0),ue("div",null,pn(A(ie)),1)],2),Fe(EI,{"selection-mode":"range",date:h.value,"min-date":A(v),"max-date":A(_),"range-state":A(b),"disabled-date":A(s),onChangerange:A(E),onPick:Ie,onSelect:A(B)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),ue("div",{class:ye([[A(T).e("content"),A(M).e("content")],"is-right"])},[ue("div",{class:ye(A(M).e("header"))},[_e.unlinkPanels?(X(),pe("button",{key:0,type:"button",disabled:!A(be),class:ye([[A(T).e("icon-btn"),{"is-disabled":!A(be)}],"d-arrow-left"]),onClick:A(te)},[bt(_e.$slots,"prev-year",{},()=>[Fe(A(On),null,{default:tt(()=>[Fe(A(lh))]),_:1})])],10,["disabled","onClick"])):wt("v-if",!0),ue("button",{type:"button",class:ye([A(T).e("icon-btn"),"d-arrow-right"]),onClick:A(q)},[bt(_e.$slots,"next-year",{},()=>[Fe(A(On),null,{default:tt(()=>[Fe(A(uh))]),_:1})])],10,["onClick"]),ue("div",null,pn(A(ae)),1)],2),Fe(EI,{"selection-mode":"range",date:m.value,"min-date":A(v),"max-date":A(_),"range-state":A(b),"disabled-date":A(s),onChangerange:A(E),onPick:Ie,onSelect:A(B)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var REe=mn(LEe,[["__file","panel-month-range.vue"]]);const DEe=un({...nR}),OEe=["pick","set-picker-option","calendar-change"],zEe=({unlinkPanels:e,leftDate:t,rightDate:n})=>{const r=()=>{t.value=t.value.subtract(10,"year"),e.value||(n.value=n.value.subtract(10,"year"))},i=()=>{e.value||(t.value=t.value.add(10,"year")),n.value=n.value.add(10,"year")},o=()=>{t.value=t.value.add(10,"year")},s=()=>{n.value=n.value.subtract(10,"year")},u=le(()=>{const v=Math.floor(t.value.year()/10)*10;return`${v}-${v+9}`}),a=le(()=>{const v=Math.floor(n.value.year()/10)*10;return`${v}-${v+9}`}),h=le(()=>Math.floor(t.value.year()/10)*10+9),m=le(()=>Math.floor(n.value.year()/10)*10);return{leftPrevYear:r,rightNextYear:i,leftNextYear:o,rightPrevYear:s,leftLabel:u,rightLabel:a,leftYear:h,rightYear:m}},SN="year",BEe=ge({name:"DatePickerYearRange"}),FEe=ge({...BEe,props:DEe,emits:OEe,setup(e,{emit:t}){const n=e,{lang:r}=ii(),i=Te(ur().locale(r.value)),o=Te(i.value.add(10,"year")),{pickerNs:s}=An(x8),u=en("date-range-picker"),a=le(()=>!!Ie.length),h=le(()=>[s.b(),u.b(),{"has-sidebar":!!yo().sidebar||a.value}]),m=le(()=>({content:[s.e("content"),u.e("content"),"is-left"],arrowLeftBtn:[s.e("icon-btn"),"d-arrow-left"],arrowRightBtn:[s.e("icon-btn"),{[s.is("disabled")]:!W.value},"d-arrow-right"]})),v=le(()=>({content:[s.e("content"),u.e("content"),"is-right"],arrowLeftBtn:[s.e("icon-btn"),{"is-disabled":!W.value},"d-arrow-left"],arrowRightBtn:[s.e("icon-btn"),"d-arrow-right"]})),_=OY(r),{leftPrevYear:b,rightNextYear:T,leftNextYear:M,rightPrevYear:E,leftLabel:k,rightLabel:z,leftYear:B,rightYear:U}=zEe({unlinkPanels:Li(n,"unlinkPanels"),leftDate:i,rightDate:o}),W=le(()=>n.unlinkPanels&&U.value>B.value+1),q=Te(),Q=Te(),te=Te({endDate:null,selecting:!1}),ie=Ye=>{te.value=Ye},ae=(Ye,lt=!0)=>{const Nt=Ye.minDate,Dt=Ye.maxDate;Q.value===Dt&&q.value===Nt||(t("calendar-change",[Nt.toDate(),Dt&&Dt.toDate()]),Q.value=Dt,q.value=Nt,lt&&re())},re=(Ye=!1)=>{m_([q.value,Q.value])&&t("pick",[q.value,Q.value],Ye)},se=Ye=>{te.value.selecting=Ye,Ye||(te.value.endDate=null)},be=An("EP_PICKER_BASE"),{shortcuts:Ie,disabledDate:Se}=be.props,me=Li(be.props,"format"),Le=Li(be.props,"defaultValue"),Ee=()=>{let Ye;if(Tn(Le.value)){const lt=ur(Le.value[0]);let Nt=ur(Le.value[1]);return n.unlinkPanels||(Nt=lt.add(10,SN)),[lt,Nt]}else Le.value?Ye=ur(Le.value):Ye=ur();return Ye=Ye.locale(r.value),[Ye,Ye.add(10,SN)]};Wt(()=>Le.value,Ye=>{if(Ye){const lt=Ee();i.value=lt[0],o.value=lt[1]}},{immediate:!0}),Wt(()=>n.parsedValue,Ye=>{if(Ye&&Ye.length===2)if(q.value=Ye[0],Q.value=Ye[1],i.value=q.value,n.unlinkPanels&&Q.value){const lt=q.value.year(),Nt=Q.value.year();o.value=lt===Nt?Q.value.add(10,"year"):Q.value}else o.value=i.value.add(10,"year");else{const lt=Ee();q.value=void 0,Q.value=void 0,i.value=lt[0],o.value=lt[1]}},{immediate:!0});const _e=Ye=>Tn(Ye)?Ye.map(lt=>ur(lt,me.value).locale(r.value)):ur(Ye,me.value).locale(r.value),xe=Ye=>Tn(Ye)?Ye.map(lt=>lt.format(me.value)):Ye.format(me.value),Be=Ye=>m_(Ye)&&(Se?!Se(Ye[0].toDate())&&!Se(Ye[1].toDate()):!0),Je=()=>{const Ye=Ee();i.value=Ye[0],o.value=Ye[1],Q.value=void 0,q.value=void 0,t("pick",null)};return t("set-picker-option",["isValidValue",Be]),t("set-picker-option",["parseUserInput",_e]),t("set-picker-option",["formatToString",xe]),t("set-picker-option",["handleClear",Je]),(Ye,lt)=>(X(),pe("div",{class:ye(A(h))},[ue("div",{class:ye(A(s).e("body-wrapper"))},[bt(Ye.$slots,"sidebar",{class:ye(A(s).e("sidebar"))}),A(a)?(X(),pe("div",{key:0,class:ye(A(s).e("sidebar"))},[(X(!0),pe(Nn,null,Ur(A(Ie),(Nt,Dt)=>(X(),pe("button",{key:Dt,type:"button",class:ye(A(s).e("shortcut")),onClick:je=>A(_)(Nt)},pn(Nt.text),11,["onClick"]))),128))],2)):wt("v-if",!0),ue("div",{class:ye(A(s).e("body"))},[ue("div",{class:ye(A(m).content)},[ue("div",{class:ye(A(u).e("header"))},[ue("button",{type:"button",class:ye(A(m).arrowLeftBtn),onClick:A(b)},[bt(Ye.$slots,"prev-year",{},()=>[Fe(A(On),null,{default:tt(()=>[Fe(A(lh))]),_:1})])],10,["onClick"]),Ye.unlinkPanels?(X(),pe("button",{key:0,type:"button",disabled:!A(W),class:ye(A(m).arrowRightBtn),onClick:A(M)},[bt(Ye.$slots,"next-year",{},()=>[Fe(A(On),null,{default:tt(()=>[Fe(A(uh))]),_:1})])],10,["disabled","onClick"])):wt("v-if",!0),ue("div",null,pn(A(k)),1)],2),Fe(AI,{"selection-mode":"range",date:i.value,"min-date":q.value,"max-date":Q.value,"range-state":te.value,"disabled-date":A(Se),onChangerange:ie,onPick:ae,onSelect:se},null,8,["date","min-date","max-date","range-state","disabled-date"])],2),ue("div",{class:ye(A(v).content)},[ue("div",{class:ye(A(u).e("header"))},[Ye.unlinkPanels?(X(),pe("button",{key:0,type:"button",disabled:!A(W),class:ye(A(v).arrowLeftBtn),onClick:A(E)},[bt(Ye.$slots,"prev-year",{},()=>[Fe(A(On),null,{default:tt(()=>[Fe(A(lh))]),_:1})])],10,["disabled","onClick"])):wt("v-if",!0),ue("button",{type:"button",class:ye(A(v).arrowRightBtn),onClick:A(T)},[bt(Ye.$slots,"next-year",{},()=>[Fe(A(On),null,{default:tt(()=>[Fe(A(uh))]),_:1})])],10,["onClick"]),ue("div",null,pn(A(z)),1)],2),Fe(AI,{"selection-mode":"range",date:o.value,"min-date":q.value,"max-date":Q.value,"range-state":te.value,"disabled-date":A(Se),onChangerange:ie,onPick:ae,onSelect:se},null,8,["date","min-date","max-date","range-state","disabled-date"])],2)],2)],2)],2))}});var NEe=mn(FEe,[["__file","panel-year-range.vue"]]);const $Ee=function(e){switch(e){case"daterange":case"datetimerange":return EEe;case"monthrange":return REe;case"yearrange":return NEe;default:return CEe}};ur.extend(nY);ur.extend(J5e);ur.extend(JL);ur.extend(eEe);ur.extend(nEe);ur.extend(iEe);ur.extend(oEe);ur.extend(lEe);var VEe=ge({name:"ElDatePicker",install:null,props:uEe,emits:["update:modelValue"],setup(e,{expose:t,emit:n,slots:r}){const i=en("picker-panel");Rr("ElPopperOptions",Ci(Li(e,"popperOptions"))),Rr(x8,{slots:r,pickerNs:i});const o=Te();t({focus:(a=!0)=>{var h;(h=o.value)==null||h.focus(a)},handleOpen:()=>{var a;(a=o.value)==null||a.handleOpen()},handleClose:()=>{var a;(a=o.value)==null||a.handleClose()}});const u=a=>{n("update:modelValue",a)};return()=>{var a;const h=(a=e.format)!=null?a:S8e[e.type]||yg,m=$Ee(e.type);return Fe(UK,Lr(e,{format:h,type:e.type,ref:o,"onUpdate:modelValue":u}),{default:v=>Fe(m,v,{"prev-month":r["prev-month"],"next-month":r["next-month"],"prev-year":r["prev-year"],"next-year":r["next-year"]}),"range-separator":r["range-separator"]})}}});const HEe=pr(VEe),oR=Symbol("elDescriptions");var j1=ge({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:An(oR,{})}},render(){var e;const t=Cwe(this.cell),n=(((e=this.cell)==null?void 0:e.dirs)||[]).map(E=>{const{dir:k,arg:z,modifiers:B,value:U}=E;return[k,U,z,B]}),{border:r,direction:i}=this.descriptions,o=i==="vertical",s=()=>{var E,k,z;return((z=(k=(E=this.cell)==null?void 0:E.children)==null?void 0:k.label)==null?void 0:z.call(k))||t.label},u=()=>{var E,k,z;return(z=(k=(E=this.cell)==null?void 0:E.children)==null?void 0:k.default)==null?void 0:z.call(k)},a=t.span,h=t.rowspan,m=t.align?`is-${t.align}`:"",v=t.labelAlign?`is-${t.labelAlign}`:m,_=t.className,b=t.labelClassName,T={width:Ua(t.width),minWidth:Ua(t.minWidth)},M=en("descriptions");switch(this.type){case"label":return yr(jn(this.tag,{style:T,class:[M.e("cell"),M.e("label"),M.is("bordered-label",r),M.is("vertical-label",o),v,b],colSpan:o?a:1,rowspan:o?1:h},s()),n);case"content":return yr(jn(this.tag,{style:T,class:[M.e("cell"),M.e("content"),M.is("bordered-content",r),M.is("vertical-content",o),m,_],colSpan:o?a:a*2-1,rowspan:o?h*2-1:h},u()),n);default:{const E=s();return yr(jn("td",{style:T,class:[M.e("cell"),m],colSpan:a,rowspan:h},[So(E)?void 0:jn("span",{class:[M.e("label"),b]},E),jn("span",{class:[M.e("content"),_]},u())]),n)}}}});const UEe=un({row:{type:dt(Array),default:()=>[]}}),jEe=ge({name:"ElDescriptionsRow"}),GEe=ge({...jEe,props:UEe,setup(e){const t=An(oR,{});return(n,r)=>A(t).direction==="vertical"?(X(),pe(Nn,{key:0},[ue("tr",null,[(X(!0),pe(Nn,null,Ur(n.row,(i,o)=>(X(),Rt(A(j1),{key:`tr1-${o}`,cell:i,tag:"th",type:"label"},null,8,["cell"]))),128))]),ue("tr",null,[(X(!0),pe(Nn,null,Ur(n.row,(i,o)=>(X(),Rt(A(j1),{key:`tr2-${o}`,cell:i,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(X(),pe("tr",{key:1},[(X(!0),pe(Nn,null,Ur(n.row,(i,o)=>(X(),pe(Nn,{key:`tr3-${o}`},[A(t).border?(X(),pe(Nn,{key:0},[Fe(A(j1),{cell:i,tag:"td",type:"label"},null,8,["cell"]),Fe(A(j1),{cell:i,tag:"td",type:"content"},null,8,["cell"])],64)):(X(),Rt(A(j1),{key:1,cell:i,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var WEe=mn(GEe,[["__file","descriptions-row.vue"]]);const qEe=un({border:Boolean,column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:go,title:{type:String,default:""},extra:{type:String,default:""}}),KEe=ge({name:"ElDescriptions"}),YEe=ge({...KEe,props:qEe,setup(e){const t=e,n=en("descriptions"),r=lo(),i=yo();Rr(oR,t);const o=le(()=>[n.b(),n.m(r.value)]),s=(a,h,m,v=!1)=>(a.props||(a.props={}),h>m&&(a.props.span=m),v&&(a.props.span=h),a),u=()=>{if(!i.default)return[];const a=Xf(i.default()).filter(T=>{var M;return((M=T==null?void 0:T.type)==null?void 0:M.name)==="ElDescriptionsItem"}),h=[];let m=[],v=t.column,_=0;const b=[];return a.forEach((T,M)=>{var E,k,z;const B=((E=T.props)==null?void 0:E.span)||1,U=((k=T.props)==null?void 0:k.rowspan)||1,W=h.length;if(b[W]||(b[W]=0),U>1)for(let q=1;q<U;q++)b[z=W+q]||(b[z]=0),b[W+q]++,_++;if(b[W]>0&&(v-=b[W],b[W]=0),M<a.length-1&&(_+=B>v?v:B),M===a.length-1){const q=t.column-_%t.column;m.push(s(T,q,v,!0)),h.push(m);return}B<v?(v-=B,m.push(T)):(m.push(s(T,B,v)),h.push(m),v=t.column,m=[])}),h};return(a,h)=>(X(),pe("div",{class:ye(A(o))},[a.title||a.extra||a.$slots.title||a.$slots.extra?(X(),pe("div",{key:0,class:ye(A(n).e("header"))},[ue("div",{class:ye(A(n).e("title"))},[bt(a.$slots,"title",{},()=>[Br(pn(a.title),1)])],2),ue("div",{class:ye(A(n).e("extra"))},[bt(a.$slots,"extra",{},()=>[Br(pn(a.extra),1)])],2)],2)):wt("v-if",!0),ue("div",{class:ye(A(n).e("body"))},[ue("table",{class:ye([A(n).e("table"),A(n).is("bordered",a.border)])},[ue("tbody",null,[(X(!0),pe(Nn,null,Ur(u(),(m,v)=>(X(),Rt(WEe,{key:v,row:m},null,8,["row"]))),128))])],2)],2)],2))}});var ZEe=mn(YEe,[["__file","description.vue"]]);const XEe=un({label:{type:String,default:""},span:{type:Number,default:1},rowspan:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}),BY=ge({name:"ElDescriptionsItem",props:XEe}),JEe=pr(ZEe,{DescriptionsItem:BY}),QEe=Ma(BY),eAe=un({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:dt([String,Array,Object])},zIndex:{type:dt([String,Number])}}),tAe={click:e=>e instanceof MouseEvent},nAe="overlay";var rAe=ge({name:"ElOverlay",props:eAe,emits:tAe,setup(e,{slots:t,emit:n}){const r=en(nAe),i=a=>{n("click",a)},{onClick:o,onMousedown:s,onMouseup:u}=zL(e.customMaskEvent?void 0:i);return()=>e.mask?Fe("div",{class:[r.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:o,onMousedown:s,onMouseup:u},[bt(t,"default")],fu.STYLE|fu.CLASS|fu.PROPS,["onClick","onMouseup","onMousedown"]):jn("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[bt(t,"default")])}});const sR=rAe,FY=Symbol("dialogInjectionKey"),NY=un({center:Boolean,alignCenter:Boolean,closeIcon:{type:Vi},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),iAe={close:()=>!0},aAe=ge({name:"ElDialogContent"}),oAe=ge({...aAe,props:NY,emits:iAe,setup(e,{expose:t}){const n=e,{t:r}=ii(),{Close:i}=wL,{dialogRef:o,headerRef:s,bodyId:u,ns:a,style:h}=An(FY),{focusTrapRef:m}=An(YL),v=le(()=>[a.b(),a.is("fullscreen",n.fullscreen),a.is("draggable",n.draggable),a.is("align-center",n.alignCenter),{[a.m("center")]:n.center}]),_=u8(m,o),b=le(()=>n.draggable),T=le(()=>n.overflow),{resetPosition:M}=Dq(o,s,b,T);return t({resetPosition:M}),(E,k)=>(X(),pe("div",{ref:A(_),class:ye(A(v)),style:Vn(A(h)),tabindex:"-1"},[ue("header",{ref_key:"headerRef",ref:s,class:ye([A(a).e("header"),{"show-close":E.showClose}])},[bt(E.$slots,"header",{},()=>[ue("span",{role:"heading","aria-level":E.ariaLevel,class:ye(A(a).e("title"))},pn(E.title),11,["aria-level"])]),E.showClose?(X(),pe("button",{key:0,"aria-label":A(r)("el.dialog.close"),class:ye(A(a).e("headerbtn")),type:"button",onClick:z=>E.$emit("close")},[Fe(A(On),{class:ye(A(a).e("close"))},{default:tt(()=>[(X(),Rt(kr(E.closeIcon||A(i))))]),_:1},8,["class"])],10,["aria-label","onClick"])):wt("v-if",!0)],2),ue("div",{id:A(u),class:ye(A(a).e("body"))},[bt(E.$slots,"default")],10,["id"]),E.$slots.footer?(X(),pe("footer",{key:0,class:ye(A(a).e("footer"))},[bt(E.$slots,"footer")],2)):wt("v-if",!0)],6))}});var sAe=mn(oAe,[["__file","dialog-content.vue"]]);const $Y=un({...NY,appendToBody:Boolean,appendTo:{type:dt([String,Object]),default:"body"},beforeClose:{type:dt(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),VY={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Tr]:e=>za(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},HY=(e,t)=>{var n;const i=Mr().emit,{nextZIndex:o}=R_();let s="";const u=Ho(),a=Ho(),h=Te(!1),m=Te(!1),v=Te(!1),_=Te((n=e.zIndex)!=null?n:o());let b,T;const M=v8("namespace",Hb),E=le(()=>{const Se={},me=`--${M.value}-dialog`;return e.fullscreen||(e.top&&(Se[`${me}-margin-top`]=e.top),e.width&&(Se[`${me}-width`]=Ua(e.width))),Se}),k=le(()=>e.alignCenter?{display:"flex"}:{});function z(){i("opened")}function B(){i("closed"),i(Tr,!1),e.destroyOnClose&&(v.value=!1)}function U(){i("close")}function W(){T==null||T(),b==null||b(),e.openDelay&&e.openDelay>0?{stop:b}=d0(()=>ie(),e.openDelay):ie()}function q(){b==null||b(),T==null||T(),e.closeDelay&&e.closeDelay>0?{stop:T}=d0(()=>ae(),e.closeDelay):ae()}function Q(){function Se(me){me||(m.value=!0,h.value=!1)}e.beforeClose?e.beforeClose(Se):q()}function te(){e.closeOnClickModal&&Q()}function ie(){ri&&(h.value=!0)}function ae(){h.value=!1}function re(){i("openAutoFocus")}function se(){i("closeAutoFocus")}function be(Se){var me;((me=Se.detail)==null?void 0:me.focusReason)==="pointer"&&Se.preventDefault()}e.lockScroll&&EL(h);function Ie(){e.closeOnPressEscape&&Q()}return Wt(()=>e.modelValue,Se=>{Se?(m.value=!1,W(),v.value=!0,_.value=oq(e.zIndex)?o():_.value++,Fn(()=>{i("open"),t.value&&(t.value.scrollTop=0)})):h.value&&q()}),Wt(()=>e.fullscreen,Se=>{t.value&&(Se?(s=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=s)}),br(()=>{e.modelValue&&(h.value=!0,v.value=!0,W())}),{afterEnter:z,afterLeave:B,beforeLeave:U,handleClose:Q,onModalClick:te,close:q,doClose:ae,onOpenAutoFocus:re,onCloseAutoFocus:se,onCloseRequested:Ie,onFocusoutPrevented:be,titleId:u,bodyId:a,closed:m,style:E,overlayDialogStyle:k,rendered:v,visible:h,zIndex:_}},lAe=ge({name:"ElDialog",inheritAttrs:!1}),uAe=ge({...lAe,props:$Y,emits:VY,setup(e,{expose:t}){const n=e,r=yo();Jf({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},le(()=>!!r.title));const i=en("dialog"),o=Te(),s=Te(),u=Te(),{visible:a,titleId:h,bodyId:m,style:v,overlayDialogStyle:_,rendered:b,zIndex:T,afterEnter:M,afterLeave:E,beforeLeave:k,handleClose:z,onModalClick:B,onOpenAutoFocus:U,onCloseAutoFocus:W,onCloseRequested:q,onFocusoutPrevented:Q}=HY(n,o);Rr(FY,{dialogRef:o,headerRef:s,bodyId:m,ns:i,rendered:b,style:v});const te=zL(B),ie=le(()=>n.draggable&&!n.fullscreen);return t({visible:a,dialogContentRef:u,resetPosition:()=>{var re;(re=u.value)==null||re.resetPosition()}}),(re,se)=>(X(),Rt(A(z_),{to:re.appendTo,disabled:re.appendTo!=="body"?!1:!re.appendToBody},{default:tt(()=>[Fe(Lo,{name:"dialog-fade",onAfterEnter:A(M),onAfterLeave:A(E),onBeforeLeave:A(k),persisted:""},{default:tt(()=>[yr(Fe(A(sR),{"custom-mask-event":"",mask:re.modal,"overlay-class":re.modalClass,"z-index":A(T)},{default:tt(()=>[ue("div",{role:"dialog","aria-modal":"true","aria-label":re.title||void 0,"aria-labelledby":re.title?void 0:A(h),"aria-describedby":A(m),class:ye(`${A(i).namespace.value}-overlay-dialog`),style:Vn(A(_)),onClick:A(te).onClick,onMousedown:A(te).onMousedown,onMouseup:A(te).onMouseup},[Fe(A(_w),{loop:"",trapped:A(a),"focus-start-el":"container",onFocusAfterTrapped:A(U),onFocusAfterReleased:A(W),onFocusoutPrevented:A(Q),onReleaseRequested:A(q)},{default:tt(()=>[A(b)?(X(),Rt(sAe,Lr({key:0,ref_key:"dialogContentRef",ref:u},re.$attrs,{center:re.center,"align-center":re.alignCenter,"close-icon":re.closeIcon,draggable:A(ie),overflow:re.overflow,fullscreen:re.fullscreen,"show-close":re.showClose,title:re.title,"aria-level":re.headerAriaLevel,onClose:A(z)}),Mu({header:tt(()=>[re.$slots.title?bt(re.$slots,"title",{key:1}):bt(re.$slots,"header",{key:0,close:A(z),titleId:A(h),titleClass:A(i).e("title")})]),default:tt(()=>[bt(re.$slots,"default")]),_:2},[re.$slots.footer?{name:"footer",fn:tt(()=>[bt(re.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):wt("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[vi,A(a)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var cAe=mn(uAe,[["__file","dialog.vue"]]);const dAe=pr(cAe),hAe=un({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:dt(String),default:"solid"}}),fAe=ge({name:"ElDivider"}),pAe=ge({...fAe,props:hAe,setup(e){const t=e,n=en("divider"),r=le(()=>n.cssVar({"border-style":t.borderStyle}));return(i,o)=>(X(),pe("div",{class:ye([A(n).b(),A(n).m(i.direction)]),style:Vn(A(r)),role:"separator"},[i.$slots.default&&i.direction!=="vertical"?(X(),pe("div",{key:0,class:ye([A(n).e("text"),A(n).is(i.contentPosition)])},[bt(i.$slots,"default")],2)):wt("v-if",!0)],6))}});var mAe=mn(pAe,[["__file","divider.vue"]]);const UY=pr(mAe),vAe=un({...$Y,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),gAe=VY,_Ae=ge({name:"ElDrawer",inheritAttrs:!1}),yAe=ge({..._Ae,props:vAe,emits:gAe,setup(e,{expose:t}){const n=e,r=yo();Jf({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},le(()=>!!r.title));const i=Te(),o=Te(),s=en("drawer"),{t:u}=ii(),{afterEnter:a,afterLeave:h,beforeLeave:m,visible:v,rendered:_,titleId:b,bodyId:T,zIndex:M,onModalClick:E,onOpenAutoFocus:k,onCloseAutoFocus:z,onFocusoutPrevented:B,onCloseRequested:U,handleClose:W}=HY(n,i),q=le(()=>n.direction==="rtl"||n.direction==="ltr"),Q=le(()=>Ua(n.size));return t({handleClose:W,afterEnter:a,afterLeave:h}),(te,ie)=>(X(),Rt(A(z_),{to:te.appendTo,disabled:te.appendTo!=="body"?!1:!te.appendToBody},{default:tt(()=>[Fe(Lo,{name:A(s).b("fade"),onAfterEnter:A(a),onAfterLeave:A(h),onBeforeLeave:A(m),persisted:""},{default:tt(()=>[yr(Fe(A(sR),{mask:te.modal,"overlay-class":te.modalClass,"z-index":A(M),onClick:A(E)},{default:tt(()=>[Fe(A(_w),{loop:"",trapped:A(v),"focus-trap-el":i.value,"focus-start-el":o.value,onFocusAfterTrapped:A(k),onFocusAfterReleased:A(z),onFocusoutPrevented:A(B),onReleaseRequested:A(U)},{default:tt(()=>[ue("div",Lr({ref_key:"drawerRef",ref:i,"aria-modal":"true","aria-label":te.title||void 0,"aria-labelledby":te.title?void 0:A(b),"aria-describedby":A(T)},te.$attrs,{class:[A(s).b(),te.direction,A(v)&&"open"],style:A(q)?"width: "+A(Q):"height: "+A(Q),role:"dialog",onClick:er(()=>{},["stop"])}),[ue("span",{ref_key:"focusStartRef",ref:o,class:ye(A(s).e("sr-focus")),tabindex:"-1"},null,2),te.withHeader?(X(),pe("header",{key:0,class:ye(A(s).e("header"))},[te.$slots.title?bt(te.$slots,"title",{key:1},()=>[wt(" DEPRECATED SLOT ")]):bt(te.$slots,"header",{key:0,close:A(W),titleId:A(b),titleClass:A(s).e("title")},()=>[te.$slots.title?wt("v-if",!0):(X(),pe("span",{key:0,id:A(b),role:"heading","aria-level":te.headerAriaLevel,class:ye(A(s).e("title"))},pn(te.title),11,["id","aria-level"]))]),te.showClose?(X(),pe("button",{key:2,"aria-label":A(u)("el.drawer.close"),class:ye(A(s).e("close-btn")),type:"button",onClick:A(W)},[Fe(A(On),{class:ye(A(s).e("close"))},{default:tt(()=>[Fe(A(Au))]),_:1},8,["class"])],10,["aria-label","onClick"])):wt("v-if",!0)],2)):wt("v-if",!0),A(_)?(X(),pe("div",{key:1,id:A(T),class:ye(A(s).e("body"))},[bt(te.$slots,"default")],10,["id"])):wt("v-if",!0),te.$slots.footer?(X(),pe("div",{key:2,class:ye(A(s).e("footer"))},[bt(te.$slots,"footer")],2)):wt("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[vi,A(v)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var bAe=mn(yAe,[["__file","drawer.vue"]]);const xAe=pr(bAe),wAe=ge({inheritAttrs:!1});function SAe(e,t,n,r,i,o){return bt(e.$slots,"default")}var CAe=mn(wAe,[["render",SAe],["__file","collection.vue"]]);const TAe=ge({name:"ElCollectionItem",inheritAttrs:!1});function MAe(e,t,n,r,i,o){return bt(e.$slots,"default")}var EAe=mn(TAe,[["render",MAe],["__file","collection-item.vue"]]);const jY="data-el-collection-item",GY=e=>{const t=`El${e}Collection`,n=`${t}Item`,r=Symbol(t),i=Symbol(n),o={...CAe,name:t,setup(){const u=Te(null),a=new Map;Rr(r,{itemMap:a,getItems:()=>{const m=A(u);if(!m)return[];const v=Array.from(m.querySelectorAll(`[${jY}]`));return[...a.values()].sort((b,T)=>v.indexOf(b.ref)-v.indexOf(T.ref))},collectionRef:u})}},s={...EAe,name:n,setup(u,{attrs:a}){const h=Te(null),m=An(r,void 0);Rr(i,{collectionItemRef:h}),br(()=>{const v=A(h);v&&m.itemMap.set(v,{ref:v,...a})}),Di(()=>{const v=A(h);m.itemMap.delete(v)})}};return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:i,ElCollection:o,ElCollectionItem:s}},AAe=un({style:{type:dt([String,Array,Object])},currentTabId:{type:dt(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:dt(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:IAe,ElCollectionItem:kAe,COLLECTION_INJECTION_KEY:lR,COLLECTION_ITEM_INJECTION_KEY:PAe}=GY("RovingFocusGroup"),uR=Symbol("elRovingFocusGroup"),WY=Symbol("elRovingFocusGroupItem"),LAe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},RAe=(e,t)=>e,DAe=(e,t,n)=>{const r=RAe(e.key);return LAe[r]},OAe=(e,t)=>e.map((n,r)=>e[(r+t)%e.length]),cR=e=>{const{activeElement:t}=document;for(const n of e)if(n===t||(n.focus(),t!==document.activeElement))return},CN="currentTabIdChange",TN="rovingFocusGroup.entryFocus",zAe={bubbles:!1,cancelable:!0},BAe=ge({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:AAe,emits:[CN,"entryFocus"],setup(e,{emit:t}){var n;const r=Te((n=e.currentTabId||e.defaultCurrentTabId)!=null?n:null),i=Te(!1),o=Te(!1),s=Te(null),{getItems:u}=An(lR,void 0),a=le(()=>[{outline:"none"},e.style]),h=M=>{t(CN,M)},m=()=>{i.value=!0},v=Ha(M=>{var E;(E=e.onMousedown)==null||E.call(e,M)},()=>{o.value=!0}),_=Ha(M=>{var E;(E=e.onFocus)==null||E.call(e,M)},M=>{const E=!A(o),{target:k,currentTarget:z}=M;if(k===z&&E&&!A(i)){const B=new Event(TN,zAe);if(z==null||z.dispatchEvent(B),!B.defaultPrevented){const U=u().filter(ie=>ie.focusable),W=U.find(ie=>ie.active),q=U.find(ie=>ie.id===A(r)),te=[W,q,...U].filter(Boolean).map(ie=>ie.ref);cR(te)}}o.value=!1}),b=Ha(M=>{var E;(E=e.onBlur)==null||E.call(e,M)},()=>{i.value=!1}),T=(...M)=>{t("entryFocus",...M)};Rr(uR,{currentTabbedId:T_(r),loop:Li(e,"loop"),tabIndex:le(()=>A(i)?-1:0),rovingFocusGroupRef:s,rovingFocusGroupRootStyle:a,orientation:Li(e,"orientation"),dir:Li(e,"dir"),onItemFocus:h,onItemShiftTab:m,onBlur:b,onFocus:_,onMousedown:v}),Wt(()=>e.currentTabId,M=>{r.value=M??null}),Fi(s,TN,T)}});function FAe(e,t,n,r,i,o){return bt(e.$slots,"default")}var NAe=mn(BAe,[["render",FAe],["__file","roving-focus-group-impl.vue"]]);const $Ae=ge({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:IAe,ElRovingFocusGroupImpl:NAe}});function VAe(e,t,n,r,i,o){const s=Zn("el-roving-focus-group-impl"),u=Zn("el-focus-group-collection");return X(),Rt(u,null,{default:tt(()=>[Fe(s,ac(ap(e.$attrs)),{default:tt(()=>[bt(e.$slots,"default")]),_:3},16)]),_:3})}var HAe=mn($Ae,[["render",VAe],["__file","roving-focus-group.vue"]]);const UAe=ge({components:{ElRovingFocusCollectionItem:kAe},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:t}){const{currentTabbedId:n,loop:r,onItemFocus:i,onItemShiftTab:o}=An(uR,void 0),{getItems:s}=An(lR,void 0),u=Ho(),a=Te(null),h=Ha(b=>{t("mousedown",b)},b=>{e.focusable?i(A(u)):b.preventDefault()}),m=Ha(b=>{t("focus",b)},()=>{i(A(u))}),v=Ha(b=>{t("keydown",b)},b=>{const{key:T,shiftKey:M,target:E,currentTarget:k}=b;if(T===Kn.tab&&M){o();return}if(E!==k)return;const z=DAe(b);if(z){b.preventDefault();let U=s().filter(W=>W.focusable).map(W=>W.ref);switch(z){case"last":{U.reverse();break}case"prev":case"next":{z==="prev"&&U.reverse();const W=U.indexOf(k);U=r.value?OAe(U,W+1):U.slice(W+1);break}}Fn(()=>{cR(U)})}}),_=le(()=>n.value===A(u));return Rr(WY,{rovingFocusGroupItemRef:a,tabIndex:le(()=>A(_)?0:-1),handleMousedown:h,handleFocus:m,handleKeydown:v}),{id:u,handleKeydown:v,handleFocus:m,handleMousedown:h}}});function jAe(e,t,n,r,i,o){const s=Zn("el-roving-focus-collection-item");return X(),Rt(s,{id:e.id,focusable:e.focusable,active:e.active},{default:tt(()=>[bt(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var GAe=mn(UAe,[["render",jAe],["__file","roving-focus-item.vue"]]);const G3=un({trigger:Sx.trigger,effect:{...Ao.effect,default:"light"},type:{type:dt(String)},placement:{type:dt(String),default:"bottom"},popperOptions:{type:dt(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:dt([Number,String]),default:0},maxHeight:{type:dt([Number,String]),default:""},popperClass:{type:String,default:""},disabled:Boolean,role:{type:String,default:"menu"},buttonProps:{type:dt(Object)},teleported:Ao.teleported}),qY=un({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Vi}}),WAe=un({onKeydown:{type:dt(Function)}}),qAe=[Kn.down,Kn.pageDown,Kn.home],KY=[Kn.up,Kn.pageUp,Kn.end],KAe=[...qAe,...KY],{ElCollection:YAe,ElCollectionItem:ZAe,COLLECTION_INJECTION_KEY:XAe,COLLECTION_ITEM_INJECTION_KEY:JAe}=GY("Dropdown"),w8=Symbol("elDropdown"),{ButtonGroup:QAe}=Po,eIe=ge({name:"ElDropdown",components:{ElButton:Po,ElButtonGroup:QAe,ElScrollbar:fd,ElDropdownCollection:YAe,ElTooltip:ns,ElRovingFocusGroup:HAe,ElOnlyChild:xK,ElIcon:On,ArrowDown:cd},props:G3,emits:["visible-change","click","command"],setup(e,{emit:t}){const n=Mr(),r=en("dropdown"),{t:i}=ii(),o=Te(),s=Te(),u=Te(null),a=Te(null),h=Te(null),m=Te(null),v=Te(!1),_=[Kn.enter,Kn.space,Kn.down],b=le(()=>({maxHeight:Ua(e.maxHeight)})),T=le(()=>[r.m(W.value)]),M=le(()=>vs(e.trigger)),E=Ho().value,k=le(()=>e.id||E);Wt([o,M],([Le,Ee],[_e])=>{var xe,Be,Je;(xe=_e==null?void 0:_e.$el)!=null&&xe.removeEventListener&&_e.$el.removeEventListener("pointerenter",Q),(Be=Le==null?void 0:Le.$el)!=null&&Be.removeEventListener&&Le.$el.removeEventListener("pointerenter",Q),(Je=Le==null?void 0:Le.$el)!=null&&Je.addEventListener&&Ee.includes("hover")&&Le.$el.addEventListener("pointerenter",Q)},{immediate:!0}),Di(()=>{var Le,Ee;(Ee=(Le=o.value)==null?void 0:Le.$el)!=null&&Ee.removeEventListener&&o.value.$el.removeEventListener("pointerenter",Q)});function z(){B()}function B(){var Le;(Le=u.value)==null||Le.onClose()}function U(){var Le;(Le=u.value)==null||Le.onOpen()}const W=lo();function q(...Le){t("command",...Le)}function Q(){var Le,Ee;(Ee=(Le=o.value)==null?void 0:Le.$el)==null||Ee.focus()}function te(){}function ie(){const Le=A(a);M.value.includes("hover")&&(Le==null||Le.focus()),m.value=null}function ae(Le){m.value=Le}function re(Le){v.value||(Le.preventDefault(),Le.stopImmediatePropagation())}function se(){t("visible-change",!0)}function be(Le){(Le==null?void 0:Le.type)==="keydown"&&a.value.focus()}function Ie(){t("visible-change",!1)}return Rr(w8,{contentRef:a,role:le(()=>e.role),triggerId:k,isUsingKeyboard:v,onItemEnter:te,onItemLeave:ie}),Rr("elDropdown",{instance:n,dropdownSize:W,handleClick:z,commandHandler:q,trigger:Li(e,"trigger"),hideOnClick:Li(e,"hideOnClick")}),{t:i,ns:r,scrollbar:h,wrapStyle:b,dropdownTriggerKls:T,dropdownSize:W,triggerId:k,triggerKeys:_,currentTabId:m,handleCurrentTabIdChange:ae,handlerMainButtonClick:Le=>{t("click",Le)},handleEntryFocus:re,handleClose:B,handleOpen:U,handleBeforeShowTooltip:se,handleShowTooltip:be,handleBeforeHideTooltip:Ie,onFocusAfterTrapped:Le=>{var Ee,_e;Le.preventDefault(),(_e=(Ee=a.value)==null?void 0:Ee.focus)==null||_e.call(Ee,{preventScroll:!0})},popperRef:u,contentRef:a,triggeringElementRef:o,referenceElementRef:s}}});function tIe(e,t,n,r,i,o){var s;const u=Zn("el-dropdown-collection"),a=Zn("el-roving-focus-group"),h=Zn("el-scrollbar"),m=Zn("el-only-child"),v=Zn("el-tooltip"),_=Zn("el-button"),b=Zn("arrow-down"),T=Zn("el-icon"),M=Zn("el-button-group");return X(),pe("div",{class:ye([e.ns.b(),e.ns.is("disabled",e.disabled)])},[Fe(v,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(s=e.referenceElementRef)==null?void 0:s.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},Mu({content:tt(()=>[Fe(h,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:tt(()=>[Fe(a,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:tt(()=>[Fe(u,null,{default:tt(()=>[bt(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:tt(()=>[Fe(m,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:tt(()=>[bt(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(X(),Rt(M,{key:0},{default:tt(()=>[Fe(_,Lr({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:tt(()=>[bt(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),Fe(_,Lr({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:tt(()=>[Fe(T,{class:ye(e.ns.e("icon"))},{default:tt(()=>[Fe(b)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):wt("v-if",!0)],2)}var nIe=mn(eIe,[["render",tIe],["__file","dropdown.vue"]]);const rIe=ge({name:"DropdownItemImpl",components:{ElIcon:On},props:qY,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:t}){const n=en("dropdown"),{role:r}=An(w8,void 0),{collectionItemRef:i}=An(JAe,void 0),{collectionItemRef:o}=An(PAe,void 0),{rovingFocusGroupItemRef:s,tabIndex:u,handleFocus:a,handleKeydown:h,handleMousedown:m}=An(WY,void 0),v=u8(i,o,s),_=le(()=>r.value==="menu"?"menuitem":r.value==="navigation"?"link":"button"),b=Ha(T=>{const{code:M}=T;if(M===Kn.enter||M===Kn.space)return T.preventDefault(),T.stopImmediatePropagation(),t("clickimpl",T),!0},h);return{ns:n,itemRef:v,dataset:{[jY]:""},role:_,tabIndex:u,handleFocus:a,handleKeydown:b,handleMousedown:m}}});function iIe(e,t,n,r,i,o){const s=Zn("el-icon");return X(),pe(Nn,null,[e.divided?(X(),pe("li",Lr({key:0,role:"separator",class:e.ns.bem("menu","item","divided")},e.$attrs),null,16)):wt("v-if",!0),ue("li",Lr({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:u=>e.$emit("clickimpl",u),onFocus:e.handleFocus,onKeydown:er(e.handleKeydown,["self"]),onMousedown:e.handleMousedown,onPointermove:u=>e.$emit("pointermove",u),onPointerleave:u=>e.$emit("pointerleave",u)}),[e.icon?(X(),Rt(s,{key:0},{default:tt(()=>[(X(),Rt(kr(e.icon)))]),_:1})):wt("v-if",!0),bt(e.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}var aIe=mn(rIe,[["render",iIe],["__file","dropdown-item-impl.vue"]]);const YY=()=>{const e=An("elDropdown",{}),t=le(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:t}},oIe=ge({name:"ElDropdownItem",components:{ElDropdownCollectionItem:ZAe,ElRovingFocusItem:GAe,ElDropdownItemImpl:aIe},inheritAttrs:!1,props:qY,emits:["pointermove","pointerleave","click"],setup(e,{emit:t,attrs:n}){const{elDropdown:r}=YY(),i=Mr(),o=Te(null),s=le(()=>{var b,T;return(T=(b=A(o))==null?void 0:b.textContent)!=null?T:""}),{onItemEnter:u,onItemLeave:a}=An(w8,void 0),h=Ha(b=>(t("pointermove",b),b.defaultPrevented),wF(b=>{if(e.disabled){a(b);return}const T=b.currentTarget;T===document.activeElement||T.contains(document.activeElement)||(u(b),b.defaultPrevented||T==null||T.focus())})),m=Ha(b=>(t("pointerleave",b),b.defaultPrevented),wF(a)),v=Ha(b=>{if(!e.disabled)return t("click",b),b.type!=="keydown"&&b.defaultPrevented},b=>{var T,M,E;if(e.disabled){b.stopImmediatePropagation();return}(T=r==null?void 0:r.hideOnClick)!=null&&T.value&&((M=r.handleClick)==null||M.call(r)),(E=r.commandHandler)==null||E.call(r,e.command,i,b)}),_=le(()=>({...e,...n}));return{handleClick:v,handlePointerMove:h,handlePointerLeave:m,textContent:s,propsAndAttrs:_}}});function sIe(e,t,n,r,i,o){var s;const u=Zn("el-dropdown-item-impl"),a=Zn("el-roving-focus-item"),h=Zn("el-dropdown-collection-item");return X(),Rt(h,{disabled:e.disabled,"text-value":(s=e.textValue)!=null?s:e.textContent},{default:tt(()=>[Fe(a,{focusable:!e.disabled},{default:tt(()=>[Fe(u,Lr(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:tt(()=>[bt(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var ZY=mn(oIe,[["render",sIe],["__file","dropdown-item.vue"]]);const lIe=ge({name:"ElDropdownMenu",props:WAe,setup(e){const t=en("dropdown"),{_elDropdownSize:n}=YY(),r=n.value,{focusTrapRef:i,onKeydown:o}=An(YL,void 0),{contentRef:s,role:u,triggerId:a}=An(w8,void 0),{collectionRef:h,getItems:m}=An(XAe,void 0),{rovingFocusGroupRef:v,rovingFocusGroupRootStyle:_,tabIndex:b,onBlur:T,onFocus:M,onMousedown:E}=An(uR,void 0),{collectionRef:k}=An(lR,void 0),z=le(()=>[t.b("menu"),t.bm("menu",r==null?void 0:r.value)]),B=u8(s,h,i,v,k),U=Ha(q=>{var Q;(Q=e.onKeydown)==null||Q.call(e,q)},q=>{const{currentTarget:Q,code:te,target:ie}=q;if(Q.contains(ie),Kn.tab===te&&q.stopImmediatePropagation(),q.preventDefault(),ie!==A(s)||!KAe.includes(te))return;const re=m().filter(se=>!se.disabled).map(se=>se.ref);KY.includes(te)&&re.reverse(),cR(re)});return{size:r,rovingFocusGroupRootStyle:_,tabIndex:b,dropdownKls:z,role:u,triggerId:a,dropdownListWrapperRef:B,handleKeydown:q=>{U(q),o(q)},onBlur:T,onFocus:M,onMousedown:E}}});function uIe(e,t,n,r,i,o){return X(),pe("ul",{ref:e.dropdownListWrapperRef,class:ye(e.dropdownKls),style:Vn(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:e.onBlur,onFocus:e.onFocus,onKeydown:er(e.handleKeydown,["self"]),onMousedown:er(e.onMousedown,["self"])},[bt(e.$slots,"default")],46,["role","aria-labelledby","onBlur","onFocus","onKeydown","onMousedown"])}var XY=mn(lIe,[["render",uIe],["__file","dropdown-menu.vue"]]);const cIe=pr(nIe,{DropdownItem:ZY,DropdownMenu:XY}),dIe=Ma(ZY),hIe=Ma(XY),fIe=ge({name:"ImgEmpty"}),pIe=ge({...fIe,setup(e){const t=en("empty"),n=Ho();return(r,i)=>(X(),pe("svg",{viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[ue("defs",null,[ue("linearGradient",{id:`linearGradient-1-${A(n)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[ue("stop",{"stop-color":`var(${A(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),ue("stop",{"stop-color":`var(${A(t).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),ue("linearGradient",{id:`linearGradient-2-${A(n)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[ue("stop",{"stop-color":`var(${A(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),ue("stop",{"stop-color":`var(${A(t).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),ue("rect",{id:`path-3-${A(n)}`,x:"0",y:"0",width:"17",height:"36"},null,8,["id"])]),ue("g",{id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[ue("g",{id:"B-type",transform:"translate(-1268.000000, -535.000000)"},[ue("g",{id:"Group-2",transform:"translate(1268.000000, 535.000000)"},[ue("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${A(t).cssVarBlockName("fill-color-3")})`},null,8,["fill"]),ue("polygon",{id:"Rectangle-Copy-14",fill:`var(${A(t).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,["fill"]),ue("g",{id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},[ue("polygon",{id:"Rectangle-Copy-10",fill:`var(${A(t).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,["fill"]),ue("polygon",{id:"Rectangle-Copy-11",fill:`var(${A(t).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,["fill"]),ue("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${A(n)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,["fill"]),ue("polygon",{id:"Rectangle-Copy-13",fill:`var(${A(t).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,["fill"])]),ue("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${A(n)})`,x:"13",y:"45",width:"40",height:"36"},null,8,["fill"]),ue("g",{id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},[ue("use",{id:"Mask",fill:`var(${A(t).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${A(n)}`},null,8,["fill","xlink:href"]),ue("polygon",{id:"Rectangle-Copy",fill:`var(${A(t).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${A(n)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,["fill","mask"])]),ue("polygon",{id:"Rectangle-Copy-18",fill:`var(${A(t).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,["fill"])])])])]))}});var mIe=mn(pIe,[["__file","img-empty.vue"]]);const vIe=un({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),gIe=ge({name:"ElEmpty"}),_Ie=ge({...gIe,props:vIe,setup(e){const t=e,{t:n}=ii(),r=en("empty"),i=le(()=>t.description||n("el.table.emptyText")),o=le(()=>({width:Ua(t.imageSize)}));return(s,u)=>(X(),pe("div",{class:ye(A(r).b())},[ue("div",{class:ye(A(r).e("image")),style:Vn(A(o))},[s.image?(X(),pe("img",{key:0,src:s.image,ondragstart:"return false"},null,8,["src"])):bt(s.$slots,"image",{key:1},()=>[Fe(mIe)])],6),ue("div",{class:ye(A(r).e("description"))},[s.$slots.description?bt(s.$slots,"description",{key:0}):(X(),pe("p",{key:1},pn(A(i)),1))],2),s.$slots.default?(X(),pe("div",{key:0,class:ye(A(r).e("bottom"))},[bt(s.$slots,"default")],2)):wt("v-if",!0)],2))}});var yIe=mn(_Ie,[["__file","empty.vue"]]);const JY=pr(yIe),bIe=un({urlList:{type:dt(Array),default:()=>Ca([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:dt(String)}}),xIe={close:()=>!0,switch:e=>Jn(e),rotate:e=>Jn(e)},wIe=ge({name:"ElImageViewer"}),SIe=ge({...wIe,props:bIe,emits:xIe,setup(e,{expose:t,emit:n}){var r;const i=e,o={CONTAIN:{name:"contain",icon:Zf(vq)},ORIGINAL:{name:"original",icon:Zf(Cq)}},{t:s}=ii(),u=en("image-viewer"),{nextZIndex:a}=R_(),h=Te(),m=Te([]),v=Vae(),_=Te(!0),b=Te(i.initialIndex),T=Ji(o.CONTAIN),M=Te({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),E=Te((r=i.zIndex)!=null?r:a()),k=le(()=>{const{urlList:xe}=i;return xe.length<=1}),z=le(()=>b.value===0),B=le(()=>b.value===i.urlList.length-1),U=le(()=>i.urlList[b.value]),W=le(()=>[u.e("btn"),u.e("prev"),u.is("disabled",!i.infinite&&z.value)]),q=le(()=>[u.e("btn"),u.e("next"),u.is("disabled",!i.infinite&&B.value)]),Q=le(()=>{const{scale:xe,deg:Be,offsetX:Je,offsetY:Ye,enableTransition:lt}=M.value;let Nt=Je/xe,Dt=Ye/xe;const je=Be*Math.PI/180,Ct=Math.cos(je),vt=Math.sin(je);Nt=Nt*Ct+Dt*vt,Dt=Dt*Ct-Je/xe*vt;const Vt={transform:`scale(${xe}) rotate(${Be}deg) translate(${Nt}px, ${Dt}px)`,transition:lt?"transform .3s":""};return T.value.name===o.CONTAIN.name&&(Vt.maxWidth=Vt.maxHeight="100%"),Vt});function te(){ae(),n("close")}function ie(){const xe=e0(Je=>{switch(Je.code){case Kn.esc:i.closeOnPressEscape&&te();break;case Kn.space:Se();break;case Kn.left:Le();break;case Kn.up:_e("zoomIn");break;case Kn.right:Ee();break;case Kn.down:_e("zoomOut");break}}),Be=e0(Je=>{const Ye=Je.deltaY||Je.deltaX;_e(Ye<0?"zoomIn":"zoomOut",{zoomRate:i.zoomRate,enableTransition:!1})});v.run(()=>{Fi(document,"keydown",xe),Fi(document,"wheel",Be)})}function ae(){v.stop()}function re(){_.value=!1}function se(xe){_.value=!1,xe.target.alt=s("el.image.error")}function be(xe){if(_.value||xe.button!==0||!h.value)return;M.value.enableTransition=!1;const{offsetX:Be,offsetY:Je}=M.value,Ye=xe.pageX,lt=xe.pageY,Nt=e0(je=>{M.value={...M.value,offsetX:Be+je.pageX-Ye,offsetY:Je+je.pageY-lt}}),Dt=Fi(document,"mousemove",Nt);Fi(document,"mouseup",()=>{Dt()}),xe.preventDefault()}function Ie(){M.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function Se(){if(_.value)return;const xe=o_(o),Be=Object.values(o),Je=T.value.name,lt=(Be.findIndex(Nt=>Nt.name===Je)+1)%xe.length;T.value=o[xe[lt]],Ie()}function me(xe){const Be=i.urlList.length;b.value=(xe+Be)%Be}function Le(){z.value&&!i.infinite||me(b.value-1)}function Ee(){B.value&&!i.infinite||me(b.value+1)}function _e(xe,Be={}){if(_.value)return;const{minScale:Je,maxScale:Ye}=i,{zoomRate:lt,rotateDeg:Nt,enableTransition:Dt}={zoomRate:i.zoomRate,rotateDeg:90,enableTransition:!0,...Be};switch(xe){case"zoomOut":M.value.scale>Je&&(M.value.scale=Number.parseFloat((M.value.scale/lt).toFixed(3)));break;case"zoomIn":M.value.scale<Ye&&(M.value.scale=Number.parseFloat((M.value.scale*lt).toFixed(3)));break;case"clockwise":M.value.deg+=Nt,n("rotate",M.value.deg);break;case"anticlockwise":M.value.deg-=Nt,n("rotate",M.value.deg);break}M.value.enableTransition=Dt}return Wt(U,()=>{Fn(()=>{const xe=m.value[0];xe!=null&&xe.complete||(_.value=!0)})}),Wt(b,xe=>{Ie(),n("switch",xe)}),br(()=>{var xe,Be;ie(),(Be=(xe=h.value)==null?void 0:xe.focus)==null||Be.call(xe)}),t({setActiveItem:me}),(xe,Be)=>(X(),Rt(A(z_),{to:"body",disabled:!xe.teleported},{default:tt(()=>[Fe(Lo,{name:"viewer-fade",appear:""},{default:tt(()=>[ue("div",{ref_key:"wrapper",ref:h,tabindex:-1,class:ye(A(u).e("wrapper")),style:Vn({zIndex:E.value})},[ue("div",{class:ye(A(u).e("mask")),onClick:er(Je=>xe.hideOnClickModal&&te(),["self"])},null,10,["onClick"]),wt(" CLOSE "),ue("span",{class:ye([A(u).e("btn"),A(u).e("close")]),onClick:te},[Fe(A(On),null,{default:tt(()=>[Fe(A(Au))]),_:1})],2),wt(" ARROW "),A(k)?wt("v-if",!0):(X(),pe(Nn,{key:0},[ue("span",{class:ye(A(W)),onClick:Le},[Fe(A(On),null,{default:tt(()=>[Fe(A(sh))]),_:1})],2),ue("span",{class:ye(A(q)),onClick:Ee},[Fe(A(On),null,{default:tt(()=>[Fe(A(xs))]),_:1})],2)],64)),wt(" ACTIONS "),ue("div",{class:ye([A(u).e("btn"),A(u).e("actions")])},[ue("div",{class:ye(A(u).e("actions__inner"))},[Fe(A(On),{onClick:Je=>_e("zoomOut")},{default:tt(()=>[Fe(A(kq))]),_:1},8,["onClick"]),Fe(A(On),{onClick:Je=>_e("zoomIn")},{default:tt(()=>[Fe(A(xL))]),_:1},8,["onClick"]),ue("i",{class:ye(A(u).e("actions__divider"))},null,2),Fe(A(On),{onClick:Se},{default:tt(()=>[(X(),Rt(kr(A(T).icon)))]),_:1}),ue("i",{class:ye(A(u).e("actions__divider"))},null,2),Fe(A(On),{onClick:Je=>_e("anticlockwise")},{default:tt(()=>[Fe(A(wq))]),_:1},8,["onClick"]),Fe(A(On),{onClick:Je=>_e("clockwise")},{default:tt(()=>[Fe(A(Sq))]),_:1},8,["onClick"])],2)],2),wt(" CANVAS "),ue("div",{class:ye(A(u).e("canvas"))},[(X(!0),pe(Nn,null,Ur(xe.urlList,(Je,Ye)=>yr((X(),pe("img",{ref_for:!0,ref:lt=>m.value[Ye]=lt,key:Je,src:Je,style:Vn(A(Q)),class:ye(A(u).e("img")),crossorigin:xe.crossorigin,onLoad:re,onError:se,onMousedown:be},null,46,["src","crossorigin"])),[[vi,Ye===b.value]])),128))],2),bt(xe.$slots,"default")],6)]),_:3})]),_:3},8,["disabled"]))}});var CIe=mn(SIe,[["__file","image-viewer.vue"]]);const QY=pr(CIe),TIe=un({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:dt([String,Object])},previewSrcList:{type:dt(Array),default:()=>Ca([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:dt(String)}}),MIe={load:e=>e instanceof Event,error:e=>e instanceof Event,switch:e=>Jn(e),close:()=>!0,show:()=>!0},EIe=ge({name:"ElImage",inheritAttrs:!1}),AIe=ge({...EIe,props:TIe,emits:MIe,setup(e,{emit:t}){const n=e;let r="";const{t:i}=ii(),o=en("image"),s=jl(),u=le(()=>gx(Object.entries(s).filter(([Ee])=>/^(data-|on[A-Z])/i.test(Ee)||["id","style"].includes(Ee)))),a=TL({excludeListeners:!0,excludeKeys:le(()=>Object.keys(u.value))}),h=Te(),m=Te(!1),v=Te(!0),_=Te(!1),b=Te(),T=Te(),M=ri&&"loading"in HTMLImageElement.prototype;let E,k;const z=le(()=>[o.e("inner"),U.value&&o.e("preview"),v.value&&o.is("loading")]),B=le(()=>{const{fit:Ee}=n;return ri&&Ee?{objectFit:Ee}:{}}),U=le(()=>{const{previewSrcList:Ee}=n;return Array.isArray(Ee)&&Ee.length>0}),W=le(()=>{const{previewSrcList:Ee,initialIndex:_e}=n;let xe=_e;return _e>Ee.length-1&&(xe=0),xe}),q=le(()=>n.loading==="eager"?!1:!M&&n.loading==="lazy"||n.lazy),Q=()=>{ri&&(v.value=!0,m.value=!1,h.value=n.src)};function te(Ee){v.value=!1,m.value=!1,t("load",Ee)}function ie(Ee){v.value=!1,m.value=!0,t("error",Ee)}function ae(){zue(b.value,T.value)&&(Q(),be())}const re=_W(ae,200,!0);async function se(){var Ee;if(!ri)return;await Fn();const{scrollContainer:_e}=n;Fl(_e)?T.value=_e:Qn(_e)&&_e!==""?T.value=(Ee=document.querySelector(_e))!=null?Ee:void 0:b.value&&(T.value=mL(b.value)),T.value&&(E=Fi(T,"scroll",re),setTimeout(()=>ae(),100))}function be(){!ri||!T.value||!re||(E==null||E(),T.value=void 0)}function Ie(Ee){if(Ee.ctrlKey){if(Ee.deltaY<0)return Ee.preventDefault(),!1;if(Ee.deltaY>0)return Ee.preventDefault(),!1}}function Se(){U.value&&(k=Fi("wheel",Ie,{passive:!1}),r=document.body.style.overflow,document.body.style.overflow="hidden",_.value=!0,t("show"))}function me(){k==null||k(),document.body.style.overflow=r,_.value=!1,t("close")}function Le(Ee){t("switch",Ee)}return Wt(()=>n.src,()=>{q.value?(v.value=!0,m.value=!1,be(),se()):Q()}),br(()=>{q.value?se():Q()}),(Ee,_e)=>(X(),pe("div",Lr({ref_key:"container",ref:b},A(u),{class:[A(o).b(),Ee.$attrs.class]}),[m.value?bt(Ee.$slots,"error",{key:0},()=>[ue("div",{class:ye(A(o).e("error"))},pn(A(i)("el.image.error")),3)]):(X(),pe(Nn,{key:1},[h.value!==void 0?(X(),pe("img",Lr({key:0},A(a),{src:h.value,loading:Ee.loading,style:A(B),class:A(z),crossorigin:Ee.crossorigin,onClick:Se,onLoad:te,onError:ie}),null,16,["src","loading","crossorigin"])):wt("v-if",!0),v.value?(X(),pe("div",{key:1,class:ye(A(o).e("wrapper"))},[bt(Ee.$slots,"placeholder",{},()=>[ue("div",{class:ye(A(o).e("placeholder"))},null,2)])],2)):wt("v-if",!0)],64)),A(U)?(X(),pe(Nn,{key:2},[_.value?(X(),Rt(A(QY),{key:0,"z-index":Ee.zIndex,"initial-index":A(W),infinite:Ee.infinite,"zoom-rate":Ee.zoomRate,"min-scale":Ee.minScale,"max-scale":Ee.maxScale,"url-list":Ee.previewSrcList,crossorigin:Ee.crossorigin,"hide-on-click-modal":Ee.hideOnClickModal,teleported:Ee.previewTeleported,"close-on-press-escape":Ee.closeOnPressEscape,onClose:me,onSwitch:Le},{default:tt(()=>[Ee.$slots.viewer?(X(),pe("div",{key:0},[bt(Ee.$slots,"viewer")])):wt("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):wt("v-if",!0)],64)):wt("v-if",!0)],16))}});var IIe=mn(AIe,[["__file","image.vue"]]);const kIe=pr(IIe),PIe=un({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:go,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>e===null||Jn(e)||["min","max"].includes(e),default:null},name:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0},...Uo(["ariaLabel"])}),LIe={[sa]:(e,t)=>t!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[Hs]:e=>Jn(e)||So(e),[Tr]:e=>Jn(e)||So(e)},RIe=ge({name:"ElInputNumber"}),DIe=ge({...RIe,props:PIe,emits:LIe,setup(e,{expose:t,emit:n}){const r=e,{t:i}=ii(),o=en("input-number"),s=Te(),u=Ci({currentValue:r.modelValue,userInput:null}),{formItem:a}=Cs(),h=le(()=>Jn(r.modelValue)&&r.modelValue<=r.min),m=le(()=>Jn(r.modelValue)&&r.modelValue>=r.max),v=le(()=>{const Se=k(r.step);return Oa(r.precision)?Math.max(k(r.modelValue),Se):(Se>r.precision,r.precision)}),_=le(()=>r.controls&&r.controlsPosition==="right"),b=lo(),T=Ss(),M=le(()=>{if(u.userInput!==null)return u.userInput;let Se=u.currentValue;if(So(Se))return"";if(Jn(Se)){if(Number.isNaN(Se))return"";Oa(r.precision)||(Se=Se.toFixed(r.precision))}return Se}),E=(Se,me)=>{if(Oa(me)&&(me=v.value),me===0)return Math.round(Se);let Le=String(Se);const Ee=Le.indexOf(".");if(Ee===-1||!Le.replace(".","").split("")[Ee+me])return Se;const Be=Le.length;return Le.charAt(Be-1)==="5"&&(Le=`${Le.slice(0,Math.max(0,Be-1))}6`),Number.parseFloat(Number(Le).toFixed(me))},k=Se=>{if(So(Se))return 0;const me=Se.toString(),Le=me.indexOf(".");let Ee=0;return Le!==-1&&(Ee=me.length-Le-1),Ee},z=(Se,me=1)=>Jn(Se)?E(Se+r.step*me):u.currentValue,B=()=>{if(r.readonly||T.value||m.value)return;const Se=Number(M.value)||0,me=z(Se);q(me),n(Hs,u.currentValue),be()},U=()=>{if(r.readonly||T.value||h.value)return;const Se=Number(M.value)||0,me=z(Se,-1);q(me),n(Hs,u.currentValue),be()},W=(Se,me)=>{const{max:Le,min:Ee,step:_e,precision:xe,stepStrictly:Be,valueOnClear:Je}=r;Le<Ee&&vo("InputNumber","min should not be greater than max.");let Ye=Number(Se);if(So(Se)||Number.isNaN(Ye))return null;if(Se===""){if(Je===null)return null;Ye=Qn(Je)?{min:Ee,max:Le}[Je]:Je}return Be&&(Ye=E(Math.round(Ye/_e)*_e,xe),Ye!==Se&&me&&n(Tr,Ye)),Oa(xe)||(Ye=E(Ye,xe)),(Ye>Le||Ye<Ee)&&(Ye=Ye>Le?Le:Ee,me&&n(Tr,Ye)),Ye},q=(Se,me=!0)=>{var Le;const Ee=u.currentValue,_e=W(Se);if(!me){n(Tr,_e);return}Ee===_e&&Se||(u.userInput=null,n(Tr,_e),Ee!==_e&&n(sa,_e,Ee),r.validateEvent&&((Le=a==null?void 0:a.validate)==null||Le.call(a,"change").catch(xe=>void 0)),u.currentValue=_e)},Q=Se=>{u.userInput=Se;const me=Se===""?null:Number(Se);n(Hs,me),q(me,!1)},te=Se=>{const me=Se!==""?Number(Se):"";(Jn(me)&&!Number.isNaN(me)||Se==="")&&q(me),be(),u.userInput=null},ie=()=>{var Se,me;(me=(Se=s.value)==null?void 0:Se.focus)==null||me.call(Se)},ae=()=>{var Se,me;(me=(Se=s.value)==null?void 0:Se.blur)==null||me.call(Se)},re=Se=>{n("focus",Se)},se=Se=>{var me;u.userInput=null,n("blur",Se),r.validateEvent&&((me=a==null?void 0:a.validate)==null||me.call(a,"blur").catch(Le=>void 0))},be=()=>{u.currentValue!==r.modelValue&&(u.currentValue=r.modelValue)},Ie=Se=>{document.activeElement===Se.target&&Se.preventDefault()};return Wt(()=>r.modelValue,(Se,me)=>{const Le=W(Se,!0);u.userInput===null&&Le!==me&&(u.currentValue=Le)},{immediate:!0}),br(()=>{var Se;const{min:me,max:Le,modelValue:Ee}=r,_e=(Se=s.value)==null?void 0:Se.input;if(_e.setAttribute("role","spinbutton"),Number.isFinite(Le)?_e.setAttribute("aria-valuemax",String(Le)):_e.removeAttribute("aria-valuemax"),Number.isFinite(me)?_e.setAttribute("aria-valuemin",String(me)):_e.removeAttribute("aria-valuemin"),_e.setAttribute("aria-valuenow",u.currentValue||u.currentValue===0?String(u.currentValue):""),_e.setAttribute("aria-disabled",String(T.value)),!Jn(Ee)&&Ee!=null){let xe=Number(Ee);Number.isNaN(xe)&&(xe=null),n(Tr,xe)}_e.addEventListener("wheel",Ie,{passive:!1})}),ud(()=>{var Se,me;const Le=(Se=s.value)==null?void 0:Se.input;Le==null||Le.setAttribute("aria-valuenow",`${(me=u.currentValue)!=null?me:""}`)}),t({focus:ie,blur:ae}),(Se,me)=>(X(),pe("div",{class:ye([A(o).b(),A(o).m(A(b)),A(o).is("disabled",A(T)),A(o).is("without-controls",!Se.controls),A(o).is("controls-right",A(_))]),onDragstart:er(()=>{},["prevent"])},[Se.controls?yr((X(),pe("span",{key:0,role:"button","aria-label":A(i)("el.inputNumber.decrease"),class:ye([A(o).e("decrease"),A(o).is("disabled",A(h))]),onKeydown:Wi(U,["enter"])},[bt(Se.$slots,"decrease-icon",{},()=>[Fe(A(On),null,{default:tt(()=>[A(_)?(X(),Rt(A(cd),{key:0})):(X(),Rt(A(_q),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[A(HS),U]]):wt("v-if",!0),Se.controls?yr((X(),pe("span",{key:1,role:"button","aria-label":A(i)("el.inputNumber.increase"),class:ye([A(o).e("increase"),A(o).is("disabled",A(m))]),onKeydown:Wi(B,["enter"])},[bt(Se.$slots,"increase-icon",{},()=>[Fe(A(On),null,{default:tt(()=>[A(_)?(X(),Rt(A(a8),{key:0})):(X(),Rt(A(yL),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[A(HS),B]]):wt("v-if",!0),Fe(A(_s),{id:Se.id,ref_key:"input",ref:s,type:"number",step:Se.step,"model-value":A(M),placeholder:Se.placeholder,readonly:Se.readonly,disabled:A(T),size:A(b),max:Se.max,min:Se.min,name:Se.name,"aria-label":Se.ariaLabel,"validate-event":!1,onKeydown:[Wi(er(B,["prevent"]),["up"]),Wi(er(U,["prevent"]),["down"])],onBlur:se,onFocus:re,onInput:Q,onChange:te},Mu({_:2},[Se.$slots.prefix?{name:"prefix",fn:tt(()=>[bt(Se.$slots,"prefix")])}:void 0,Se.$slots.suffix?{name:"suffix",fn:tt(()=>[bt(Se.$slots,"suffix")])}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});var OIe=mn(DIe,[["__file","input-number.vue"]]);const eZ=pr(OIe),zIe=un({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:Boolean,href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:Vi}}),BIe={click:e=>e instanceof MouseEvent},FIe=ge({name:"ElLink"}),NIe=ge({...FIe,props:zIe,emits:BIe,setup(e,{emit:t}){const n=e,r=en("link"),i=le(()=>[r.b(),r.m(n.type),r.is("disabled",n.disabled),r.is("underline",n.underline&&!n.disabled)]);function o(s){n.disabled||t("click",s)}return(s,u)=>(X(),pe("a",{class:ye(A(i)),href:s.disabled||!s.href?void 0:s.href,target:s.disabled||!s.href?void 0:s.target,onClick:o},[s.icon?(X(),Rt(A(On),{key:0},{default:tt(()=>[(X(),Rt(kr(s.icon)))]),_:1})):wt("v-if",!0),s.$slots.default?(X(),pe("span",{key:1,class:ye(A(r).e("inner"))},[bt(s.$slots,"default")],2)):wt("v-if",!0),s.$slots.icon?bt(s.$slots,"icon",{key:2}):wt("v-if",!0)],10,["href","target"]))}});var $Ie=mn(NIe,[["__file","link.vue"]]);const VIe=pr($Ie);let HIe=class{constructor(t,n){this.parent=t,this.domNode=n,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(t){t===this.subMenuItems.length?t=0:t<0&&(t=this.subMenuItems.length-1),this.subMenuItems[t].focus(),this.subIndex=t}addListeners(){const t=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",r=>{let i=!1;switch(r.code){case Kn.down:{this.gotoSubIndex(this.subIndex+1),i=!0;break}case Kn.up:{this.gotoSubIndex(this.subIndex-1),i=!0;break}case Kn.tab:{z3(t,"mouseleave");break}case Kn.enter:case Kn.space:{i=!0,r.currentTarget.click();break}}return i&&(r.preventDefault(),r.stopPropagation()),!1})})}},UIe=class{constructor(t,n){this.domNode=t,this.submenu=null,this.submenu=null,this.init(n)}init(t){this.domNode.setAttribute("tabindex","0");const n=this.domNode.querySelector(`.${t}-menu`);n&&(this.submenu=new HIe(this,n)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",t=>{let n=!1;switch(t.code){case Kn.down:{z3(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),n=!0;break}case Kn.up:{z3(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),n=!0;break}case Kn.tab:{z3(t.currentTarget,"mouseleave");break}case Kn.enter:case Kn.space:{n=!0,t.currentTarget.click();break}}n&&t.preventDefault()})}},jIe=class{constructor(t,n){this.domNode=t,this.init(n)}init(t){const n=this.domNode.childNodes;Array.from(n).forEach(r=>{r.nodeType===1&&new UIe(r,t)})}};const GIe=ge({name:"ElMenuCollapseTransition",setup(){const e=en("menu");return{listeners:{onBeforeEnter:n=>n.style.opacity="0.2",onEnter(n,r){bu(n,`${e.namespace.value}-opacity-transition`),n.style.opacity="1",r()},onAfterEnter(n){bs(n,`${e.namespace.value}-opacity-transition`),n.style.opacity=""},onBeforeLeave(n){n.dataset||(n.dataset={}),ll(n,e.m("collapse"))?(bs(n,e.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),bu(n,e.m("collapse"))):(bu(n,e.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),bs(n,e.m("collapse"))),n.style.width=`${n.scrollWidth}px`,n.style.overflow="hidden"},onLeave(n){bu(n,"horizontal-collapse-transition"),n.style.width=`${n.dataset.scrollWidth}px`}}}}});function WIe(e,t,n,r,i,o){return X(),Rt(Lo,Lr({mode:"out-in"},e.listeners),{default:tt(()=>[bt(e.$slots,"default")]),_:3},16)}var qIe=mn(GIe,[["render",WIe],["__file","menu-collapse-transition.vue"]]);function tZ(e,t){const n=le(()=>{let i=e.parent;const o=[t.value];for(;i.type.name!=="ElMenu";)i.props.index&&o.unshift(i.props.index),i=i.parent;return o});return{parentMenu:le(()=>{let i=e.parent;for(;i&&!["ElMenu","ElSubMenu"].includes(i.type.name);)i=i.parent;return i}),indexPath:n}}function KIe(e){return le(()=>{const n=e.backgroundColor;return n?new DK(n).shade(20).toString():""})}const nZ=(e,t)=>{const n=en("menu");return le(()=>n.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":KIe(e).value||"","active-color":e.activeTextColor||"",level:`${t}`}))},YIe=un({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:Vi},expandOpenIcon:{type:Vi},collapseCloseIcon:{type:Vi},collapseOpenIcon:{type:Vi}}),z5="ElSubMenu";var dR=ge({name:z5,props:YIe,setup(e,{slots:t,expose:n}){const r=Mr(),{indexPath:i,parentMenu:o}=tZ(r,le(()=>e.index)),s=en("menu"),u=en("sub-menu"),a=An("rootMenu");a||vo(z5,"can not inject root menu");const h=An(`subMenu:${o.value.uid}`);h||vo(z5,"can not inject sub menu");const m=Te({}),v=Te({});let _;const b=Te(!1),T=Te(),M=Te(null),E=le(()=>te.value==="horizontal"&&z.value?"bottom-start":"right-start"),k=le(()=>te.value==="horizontal"&&z.value||te.value==="vertical"&&!a.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?q.value?e.expandOpenIcon:e.expandCloseIcon:cd:e.collapseCloseIcon&&e.collapseOpenIcon?q.value?e.collapseOpenIcon:e.collapseCloseIcon:xs),z=le(()=>h.level===0),B=le(()=>{const xe=e.teleported;return xe===void 0?z.value:xe}),U=le(()=>a.props.collapse?`${s.namespace.value}-zoom-in-left`:`${s.namespace.value}-zoom-in-top`),W=le(()=>te.value==="horizontal"&&z.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),q=le(()=>a.openedMenus.includes(e.index)),Q=le(()=>{let xe=!1;return Object.values(m.value).forEach(Be=>{Be.active&&(xe=!0)}),Object.values(v.value).forEach(Be=>{Be.active&&(xe=!0)}),xe}),te=le(()=>a.props.mode),ie=Ci({index:e.index,indexPath:i,active:Q}),ae=nZ(a.props,h.level+1),re=le(()=>{var xe;return(xe=e.popperOffset)!=null?xe:a.props.popperOffset}),se=le(()=>{var xe;return(xe=e.popperClass)!=null?xe:a.props.popperClass}),be=le(()=>{var xe;return(xe=e.showTimeout)!=null?xe:a.props.showTimeout}),Ie=le(()=>{var xe;return(xe=e.hideTimeout)!=null?xe:a.props.hideTimeout}),Se=()=>{var xe,Be,Je;return(Je=(Be=(xe=M.value)==null?void 0:xe.popperRef)==null?void 0:Be.popperInstanceRef)==null?void 0:Je.destroy()},me=xe=>{xe||Se()},Le=()=>{a.props.menuTrigger==="hover"&&a.props.mode==="horizontal"||a.props.collapse&&a.props.mode==="vertical"||e.disabled||a.handleSubMenuClick({index:e.index,indexPath:i.value,active:Q.value})},Ee=(xe,Be=be.value)=>{var Je;if(xe.type!=="focus"){if(a.props.menuTrigger==="click"&&a.props.mode==="horizontal"||!a.props.collapse&&a.props.mode==="vertical"||e.disabled){h.mouseInChild.value=!0;return}h.mouseInChild.value=!0,_==null||_(),{stop:_}=d0(()=>{a.openMenu(e.index,i.value)},Be),B.value&&((Je=o.value.vnode.el)==null||Je.dispatchEvent(new MouseEvent("mouseenter")))}},_e=(xe=!1)=>{var Be;if(a.props.menuTrigger==="click"&&a.props.mode==="horizontal"||!a.props.collapse&&a.props.mode==="vertical"){h.mouseInChild.value=!1;return}_==null||_(),h.mouseInChild.value=!1,{stop:_}=d0(()=>!b.value&&a.closeMenu(e.index,i.value),Ie.value),B.value&&xe&&((Be=h.handleMouseleave)==null||Be.call(h,!0))};Wt(()=>a.props.collapse,xe=>me(!!xe));{const xe=Je=>{v.value[Je.index]=Je},Be=Je=>{delete v.value[Je.index]};Rr(`subMenu:${r.uid}`,{addSubMenu:xe,removeSubMenu:Be,handleMouseleave:_e,mouseInChild:b,level:h.level+1})}return n({opened:q}),br(()=>{a.addSubMenu(ie),h.addSubMenu(ie)}),Di(()=>{h.removeSubMenu(ie),a.removeSubMenu(ie)}),()=>{var xe;const Be=[(xe=t.title)==null?void 0:xe.call(t),jn(On,{class:u.e("icon-arrow"),style:{transform:q.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&a.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>Qn(k.value)?jn(r.appContext.components[k.value]):jn(k.value)})],Je=a.isMenuPopup?jn(ns,{ref:M,visible:q.value,effect:"light",pure:!0,offset:re.value,showArrow:!1,persistent:!0,popperClass:se.value,placement:E.value,teleported:B.value,fallbackPlacements:W.value,transition:U.value,gpuAcceleration:!1},{content:()=>{var Ye;return jn("div",{class:[s.m(te.value),s.m("popup-container"),se.value],onMouseenter:lt=>Ee(lt,100),onMouseleave:()=>_e(!0),onFocus:lt=>Ee(lt,100)},[jn("ul",{class:[s.b(),s.m("popup"),s.m(`popup-${E.value}`)],style:ae.value},[(Ye=t.default)==null?void 0:Ye.call(t)])])},default:()=>jn("div",{class:u.e("title"),onClick:Le},Be)}):jn(Nn,{},[jn("div",{class:u.e("title"),ref:T,onClick:Le},Be),jn(b8,{},{default:()=>{var Ye;return yr(jn("ul",{role:"menu",class:[s.b(),s.m("inline")],style:ae.value},[(Ye=t.default)==null?void 0:Ye.call(t)]),[[vi,q.value]])}})]);return jn("li",{class:[u.b(),u.is("active",Q.value),u.is("opened",q.value),u.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:q.value,onMouseenter:Ee,onMouseleave:()=>_e(),onFocus:Ee},[Je])}}});const ZIe=un({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:dt(Array),default:()=>Ca([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:Vi,default:()=>yq},popperEffect:{type:dt(String),default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),B5=e=>Array.isArray(e)&&e.every(t=>Qn(t)),XIe={close:(e,t)=>Qn(e)&&B5(t),open:(e,t)=>Qn(e)&&B5(t),select:(e,t,n,r)=>Qn(e)&&B5(t)&&Ar(n)&&(r===void 0||r instanceof Promise)};var JIe=ge({name:"ElMenu",props:ZIe,emits:XIe,setup(e,{emit:t,slots:n,expose:r}){const i=Mr(),o=i.appContext.config.globalProperties.$router,s=Te(),u=en("menu"),a=en("sub-menu"),h=Te(-1),m=Te(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),v=Te(e.defaultActive),_=Te({}),b=Te({}),T=le(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),M=()=>{const Se=v.value&&_.value[v.value];if(!Se||e.mode==="horizontal"||e.collapse)return;Se.indexPath.forEach(Le=>{const Ee=b.value[Le];Ee&&E(Le,Ee.indexPath)})},E=(Se,me)=>{m.value.includes(Se)||(e.uniqueOpened&&(m.value=m.value.filter(Le=>me.includes(Le))),m.value.push(Se),t("open",Se,me))},k=Se=>{const me=m.value.indexOf(Se);me!==-1&&m.value.splice(me,1)},z=(Se,me)=>{k(Se),t("close",Se,me)},B=({index:Se,indexPath:me})=>{m.value.includes(Se)?z(Se,me):E(Se,me)},U=Se=>{(e.mode==="horizontal"||e.collapse)&&(m.value=[]);const{index:me,indexPath:Le}=Se;if(!(So(me)||So(Le)))if(e.router&&o){const Ee=Se.route||me,_e=o.push(Ee).then(xe=>(xe||(v.value=me),xe));t("select",me,Le,{index:me,indexPath:Le,route:Ee},_e)}else v.value=me,t("select",me,Le,{index:me,indexPath:Le})},W=Se=>{const me=_.value,Le=me[Se]||v.value&&me[v.value]||me[e.defaultActive];Le?v.value=Le.index:v.value=Se},q=Se=>{const me=getComputedStyle(Se),Le=Number.parseInt(me.marginLeft,10),Ee=Number.parseInt(me.marginRight,10);return Se.offsetWidth+Le+Ee||0},Q=()=>{var Se,me;if(!s.value)return-1;const Le=Array.from((me=(Se=s.value)==null?void 0:Se.childNodes)!=null?me:[]).filter(Nt=>Nt.nodeName!=="#comment"&&(Nt.nodeName!=="#text"||Nt.nodeValue)),Ee=64,_e=getComputedStyle(s.value),xe=Number.parseInt(_e.paddingLeft,10),Be=Number.parseInt(_e.paddingRight,10),Je=s.value.clientWidth-xe-Be;let Ye=0,lt=0;return Le.forEach((Nt,Dt)=>{Ye+=q(Nt),Ye<=Je-Ee&&(lt=Dt+1)}),lt===Le.length?-1:lt},te=Se=>b.value[Se].indexPath,ie=(Se,me=33.34)=>{let Le;return()=>{Le&&clearTimeout(Le),Le=setTimeout(()=>{Se()},me)}};let ae=!0;const re=()=>{if(h.value===Q())return;const Se=()=>{h.value=-1,Fn(()=>{h.value=Q()})};ae?Se():ie(Se)(),ae=!1};Wt(()=>e.defaultActive,Se=>{_.value[Se]||(v.value=""),W(Se)}),Wt(()=>e.collapse,Se=>{Se&&(m.value=[])}),Wt(_.value,M);let se;ko(()=>{e.mode==="horizontal"&&e.ellipsis?se=ga(s,re).stop:se==null||se()});const be=Te(!1);{const Se=_e=>{b.value[_e.index]=_e},me=_e=>{delete b.value[_e.index]};Rr("rootMenu",Ci({props:e,openedMenus:m,items:_,subMenus:b,activeIndex:v,isMenuPopup:T,addMenuItem:_e=>{_.value[_e.index]=_e},removeMenuItem:_e=>{delete _.value[_e.index]},addSubMenu:Se,removeSubMenu:me,openMenu:E,closeMenu:z,handleMenuItemClick:U,handleSubMenuClick:B})),Rr(`subMenu:${i.uid}`,{addSubMenu:Se,removeSubMenu:me,mouseInChild:be,level:0})}br(()=>{e.mode==="horizontal"&&new jIe(i.vnode.el,u.namespace.value)}),r({open:me=>{const{indexPath:Le}=b.value[me];Le.forEach(Ee=>E(Ee,Le))},close:k,handleResize:re});const Ie=nZ(e,0);return()=>{var Se,me;let Le=(me=(Se=n.default)==null?void 0:Se.call(n))!=null?me:[];const Ee=[];if(e.mode==="horizontal"&&s.value){const Be=Xf(Le),Je=h.value===-1?Be:Be.slice(0,h.value),Ye=h.value===-1?[]:Be.slice(h.value);Ye!=null&&Ye.length&&e.ellipsis&&(Le=Je,Ee.push(jn(dR,{index:"sub-menu-more",class:a.e("hide-arrow"),popperOffset:e.popperOffset},{title:()=>jn(On,{class:a.e("icon-more")},{default:()=>jn(e.ellipsisIcon)}),default:()=>Ye})))}const _e=e.closeOnClickOutside?[[dh,()=>{m.value.length&&(be.value||(m.value.forEach(Be=>t("close",Be,te(Be))),m.value=[]))}]]:[],xe=yr(jn("ul",{key:String(e.collapse),role:"menubar",ref:s,style:Ie.value,class:{[u.b()]:!0,[u.m(e.mode)]:!0,[u.m("collapse")]:e.collapse}},[...Le,...Ee]),_e);return e.collapseTransition&&e.mode==="vertical"?jn(qIe,()=>xe):xe}}});const QIe=un({index:{type:dt([String,null]),default:null},route:{type:dt([String,Object])},disabled:Boolean}),eke={click:e=>Qn(e.index)&&Array.isArray(e.indexPath)},F5="ElMenuItem",tke=ge({name:F5,components:{ElTooltip:ns},props:QIe,emits:eke,setup(e,{emit:t}){const n=Mr(),r=An("rootMenu"),i=en("menu"),o=en("menu-item");r||vo(F5,"can not inject root menu");const{parentMenu:s,indexPath:u}=tZ(n,Li(e,"index")),a=An(`subMenu:${s.value.uid}`);a||vo(F5,"can not inject sub menu");const h=le(()=>e.index===r.activeIndex),m=Ci({index:e.index,indexPath:u,active:h}),v=()=>{e.disabled||(r.handleMenuItemClick({index:e.index,indexPath:u.value,route:e.route}),t("click",m))};return br(()=>{a.addSubMenu(m),r.addMenuItem(m)}),Di(()=>{a.removeSubMenu(m),r.removeMenuItem(m)}),{parentMenu:s,rootMenu:r,active:h,nsMenu:i,nsMenuItem:o,handleClick:v}}});function nke(e,t,n,r,i,o){const s=Zn("el-tooltip");return X(),pe("li",{class:ye([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:e.handleClick},[e.parentMenu.type.name==="ElMenu"&&e.rootMenu.props.collapse&&e.$slots.title?(X(),Rt(s,{key:0,effect:e.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:tt(()=>[bt(e.$slots,"title")]),default:tt(()=>[ue("div",{class:ye(e.nsMenu.be("tooltip","trigger"))},[bt(e.$slots,"default")],2)]),_:3},8,["effect"])):(X(),pe(Nn,{key:1},[bt(e.$slots,"default"),bt(e.$slots,"title")],64))],10,["onClick"])}var rZ=mn(tke,[["render",nke],["__file","menu-item.vue"]]);const rke={title:String},ike="ElMenuItemGroup",ake=ge({name:ike,props:rke,setup(){return{ns:en("menu-item-group")}}});function oke(e,t,n,r,i,o){return X(),pe("li",{class:ye(e.ns.b())},[ue("div",{class:ye(e.ns.e("title"))},[e.$slots.title?bt(e.$slots,"title",{key:1}):(X(),pe(Nn,{key:0},[Br(pn(e.title),1)],64))],2),ue("ul",null,[bt(e.$slots,"default")])],2)}var iZ=mn(ake,[["render",oke],["__file","menu-item-group.vue"]]);const aZ=pr(JIe,{MenuItem:rZ,MenuItemGroup:iZ,SubMenu:dR}),ske=Ma(rZ),lke=Ma(iZ),uke=Ma(dR),cke=un({icon:{type:Vi,default:()=>cq},title:String,content:{type:String,default:""}}),dke={back:()=>!0},hke=ge({name:"ElPageHeader"}),fke=ge({...hke,props:cke,emits:dke,setup(e,{emit:t}){const n=yo(),{t:r}=ii(),i=en("page-header"),o=le(()=>[i.b(),{[i.m("has-breadcrumb")]:!!n.breadcrumb,[i.m("has-extra")]:!!n.extra,[i.is("contentful")]:!!n.default}]);function s(){t("back")}return(u,a)=>(X(),pe("div",{class:ye(A(o))},[u.$slots.breadcrumb?(X(),pe("div",{key:0,class:ye(A(i).e("breadcrumb"))},[bt(u.$slots,"breadcrumb")],2)):wt("v-if",!0),ue("div",{class:ye(A(i).e("header"))},[ue("div",{class:ye(A(i).e("left"))},[ue("div",{class:ye(A(i).e("back")),role:"button",tabindex:"0",onClick:s},[u.icon||u.$slots.icon?(X(),pe("div",{key:0,"aria-label":u.title||A(r)("el.pageHeader.title"),class:ye(A(i).e("icon"))},[bt(u.$slots,"icon",{},()=>[u.icon?(X(),Rt(A(On),{key:0},{default:tt(()=>[(X(),Rt(kr(u.icon)))]),_:1})):wt("v-if",!0)])],10,["aria-label"])):wt("v-if",!0),ue("div",{class:ye(A(i).e("title"))},[bt(u.$slots,"title",{},()=>[Br(pn(u.title||A(r)("el.pageHeader.title")),1)])],2)],2),Fe(A(UY),{direction:"vertical"}),ue("div",{class:ye(A(i).e("content"))},[bt(u.$slots,"content",{},()=>[Br(pn(u.content),1)])],2)],2),u.$slots.extra?(X(),pe("div",{key:0,class:ye(A(i).e("extra"))},[bt(u.$slots,"extra")],2)):wt("v-if",!0)],2),u.$slots.default?(X(),pe("div",{key:1,class:ye(A(i).e("main"))},[bt(u.$slots,"default")],2)):wt("v-if",!0)],2))}});var pke=mn(fke,[["__file","page-header.vue"]]);const mke=pr(pke),oZ=Symbol("elPaginationKey"),vke=un({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:Vi}}),gke={click:e=>e instanceof MouseEvent},_ke=ge({name:"ElPaginationPrev"}),yke=ge({..._ke,props:vke,emits:gke,setup(e){const t=e,{t:n}=ii(),r=le(()=>t.disabled||t.currentPage<=1);return(i,o)=>(X(),pe("button",{type:"button",class:"btn-prev",disabled:A(r),"aria-label":i.prevText||A(n)("el.pagination.prev"),"aria-disabled":A(r),onClick:s=>i.$emit("click",s)},[i.prevText?(X(),pe("span",{key:0},pn(i.prevText),1)):(X(),Rt(A(On),{key:1},{default:tt(()=>[(X(),Rt(kr(i.prevIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var bke=mn(yke,[["__file","prev.vue"]]);const xke=un({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:Vi}}),wke=ge({name:"ElPaginationNext"}),Ske=ge({...wke,props:xke,emits:["click"],setup(e){const t=e,{t:n}=ii(),r=le(()=>t.disabled||t.currentPage===t.pageCount||t.pageCount===0);return(i,o)=>(X(),pe("button",{type:"button",class:"btn-next",disabled:A(r),"aria-label":i.nextText||A(n)("el.pagination.next"),"aria-disabled":A(r),onClick:s=>i.$emit("click",s)},[i.nextText?(X(),pe("span",{key:0},pn(i.nextText),1)):(X(),Rt(A(On),{key:1},{default:tt(()=>[(X(),Rt(kr(i.nextIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var Cke=mn(Ske,[["__file","next.vue"]]);const sZ=Symbol("ElSelectGroup"),F_=Symbol("ElSelect");function Tke(e,t){const n=An(F_),r=An(sZ,{disabled:!1}),i=le(()=>m(vs(n.props.modelValue),e.value)),o=le(()=>{var b;if(n.props.multiple){const T=vs((b=n.props.modelValue)!=null?b:[]);return!i.value&&T.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),s=le(()=>e.label||(Ar(e.value)?"":e.value)),u=le(()=>e.value||e.label||""),a=le(()=>e.disabled||t.groupDisabled||o.value),h=Mr(),m=(b=[],T)=>{if(Ar(e.value)){const M=n.props.valueKey;return b&&b.some(E=>Bi(Ka(E,M))===Ka(T,M))}else return b&&b.includes(T)},v=()=>{!e.disabled&&!r.disabled&&(n.states.hoveringIndex=n.optionsArray.indexOf(h.proxy))},_=b=>{const T=new RegExp(pL(b),"i");t.visible=T.test(s.value)||e.created};return Wt(()=>s.value,()=>{!e.created&&!n.props.remote&&n.setSelected()}),Wt(()=>e.value,(b,T)=>{const{remote:M,valueKey:E}=n.props;if(b!==T&&(n.onOptionDestroy(T,h.proxy),n.onOptionCreate(h.proxy)),!e.created&&!M){if(E&&Ar(b)&&Ar(T)&&b[E]===T[E])return;n.setSelected()}}),Wt(()=>r.disabled,()=>{t.groupDisabled=r.disabled},{immediate:!0}),{select:n,currentLabel:s,currentValue:u,itemSelected:i,isDisabled:a,hoverItem:v,updateOption:_}}const Mke=ge({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(e){const t=en("select"),n=Ho(),r=le(()=>[t.be("dropdown","item"),t.is("disabled",A(u)),t.is("selected",A(s)),t.is("hovering",A(_))]),i=Ci({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:o,itemSelected:s,isDisabled:u,select:a,hoverItem:h,updateOption:m}=Tke(e,i),{visible:v,hover:_}=Co(i),b=Mr().proxy;a.onOptionCreate(b),Di(()=>{const M=b.value,{selected:E}=a.states,z=(a.props.multiple?E:[E]).some(B=>B.value===b.value);Fn(()=>{a.states.cachedOptions.get(M)===b&&!z&&a.states.cachedOptions.delete(M)}),a.onOptionDestroy(M,b)});function T(){u.value||a.handleOptionSelect(b)}return{ns:t,id:n,containerKls:r,currentLabel:o,itemSelected:s,isDisabled:u,select:a,hoverItem:h,updateOption:m,visible:v,hover:_,selectOptionClick:T,states:i}}});function Eke(e,t,n,r,i,o){return yr((X(),pe("li",{id:e.id,class:ye(e.containerKls),role:"option","aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMouseenter:e.hoverItem,onClick:er(e.selectOptionClick,["stop"])},[bt(e.$slots,"default",{},()=>[ue("span",null,pn(e.currentLabel),1)])],42,["id","aria-disabled","aria-selected","onMouseenter","onClick"])),[[vi,e.visible]])}var hR=mn(Mke,[["render",Eke],["__file","option.vue"]]);const Ake=ge({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=An(F_),t=en("select"),n=le(()=>e.props.popperClass),r=le(()=>e.props.multiple),i=le(()=>e.props.fitInputWidth),o=Te("");function s(){var u;o.value=`${(u=e.selectRef)==null?void 0:u.offsetWidth}px`}return br(()=>{s(),ga(e.selectRef,s)}),{ns:t,minWidth:o,popperClass:n,isMultiple:r,isFitInputWidth:i}}});function Ike(e,t,n,r,i,o){return X(),pe("div",{class:ye([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:Vn({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[e.$slots.header?(X(),pe("div",{key:0,class:ye(e.ns.be("dropdown","header"))},[bt(e.$slots,"header")],2)):wt("v-if",!0),bt(e.$slots,"default"),e.$slots.footer?(X(),pe("div",{key:1,class:ye(e.ns.be("dropdown","footer"))},[bt(e.$slots,"footer")],2)):wt("v-if",!0)],6)}var kke=mn(Ake,[["render",Ike],["__file","select-dropdown.vue"]]);const Pke=11,Lke=(e,t)=>{const{t:n}=ii(),r=Ho(),i=en("select"),o=en("input"),s=Ci({inputValue:"",options:new Map,cachedOptions:new Map,disabledOptions:new Map,optionValues:[],selected:[],selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),u=Te(null),a=Te(null),h=Te(null),m=Te(null),v=Te(null),_=Te(null),b=Te(null),T=Te(null),M=Te(null),E=Te(null),k=Te(null),z=Te(null),{isComposing:B,handleCompositionStart:U,handleCompositionUpdate:W,handleCompositionEnd:q}=p8({afterComposition:rt=>cr(rt)}),{wrapperRef:Q,isFocused:te,handleBlur:ie}=vw(v,{beforeFocus(){return Le.value},afterFocus(){e.automaticDropdown&&!ae.value&&(ae.value=!0,s.menuVisibleOnFocus=!0)},beforeBlur(rt){var _t,rn;return((_t=h.value)==null?void 0:_t.isFocusInsideContent(rt))||((rn=m.value)==null?void 0:rn.isFocusInsideContent(rt))},afterBlur(){ae.value=!1,s.menuVisibleOnFocus=!1}}),ae=Te(!1),re=Te(),{form:se,formItem:be}=Cs(),{inputId:Ie}=xc(e,{formItemContext:be}),{valueOnClear:Se,isEmptyValue:me}=m8(e),Le=le(()=>e.disabled||(se==null?void 0:se.disabled)),Ee=le(()=>Tn(e.modelValue)?e.modelValue.length>0:!me(e.modelValue)),_e=le(()=>e.clearable&&!Le.value&&s.inputHovering&&Ee.value),xe=le(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),Be=le(()=>i.is("reverse",xe.value&&ae.value)),Je=le(()=>(be==null?void 0:be.validateState)||""),Ye=le(()=>CL[Je.value]),lt=le(()=>e.remote?300:0),Nt=le(()=>e.loading?e.loadingText||n("el.select.loading"):e.remote&&!s.inputValue&&s.options.size===0?!1:e.filterable&&s.inputValue&&s.options.size>0&&Dt.value===0?e.noMatchText||n("el.select.noMatch"):s.options.size===0?e.noDataText||n("el.select.noData"):null),Dt=le(()=>je.value.filter(rt=>rt.visible).length),je=le(()=>{const rt=Array.from(s.options.values()),_t=[];return s.optionValues.forEach(rn=>{const bn=rt.findIndex(Rn=>Rn.value===rn);bn>-1&&_t.push(rt[bn])}),_t.length>=rt.length?_t:rt}),Ct=le(()=>Array.from(s.cachedOptions.values())),vt=le(()=>{const rt=je.value.filter(_t=>!_t.created).some(_t=>_t.currentLabel===s.inputValue);return e.filterable&&e.allowCreate&&s.inputValue!==""&&!rt}),Vt=()=>{e.filterable&&tr(e.filterMethod)||e.filterable&&e.remote&&tr(e.remoteMethod)||je.value.forEach(rt=>{var _t;(_t=rt.updateOption)==null||_t.call(rt,s.inputValue)})},Re=lo(),pt=le(()=>["small"].includes(Re.value)?"small":"default"),Ne=le({get(){return ae.value&&Nt.value!==!1},set(rt){ae.value=rt}}),et=le(()=>{if(e.multiple&&!Oa(e.modelValue))return vs(e.modelValue).length===0&&!s.inputValue;const rt=Tn(e.modelValue)?e.modelValue[0]:e.modelValue;return e.filterable||Oa(rt)?!s.inputValue:!0}),Ze=le(()=>{var rt;const _t=(rt=e.placeholder)!=null?rt:n("el.select.placeholder");return e.multiple||!Ee.value?_t:s.selectedLabel}),nn=le(()=>$A?null:"mouseenter");Wt(()=>e.modelValue,(rt,_t)=>{e.multiple&&e.filterable&&!e.reserveKeyword&&(s.inputValue="",It("")),zt(),!ys(rt,_t)&&e.validateEvent&&(be==null||be.validate("change").catch(rn=>void 0))},{flush:"post",deep:!0}),Wt(()=>ae.value,rt=>{rt?It(s.inputValue):(s.inputValue="",s.previousQuery=null,s.isBeforeHide=!0),t("visible-change",rt)}),Wt(()=>s.options.entries(),()=>{var rt;if(!ri)return;const _t=((rt=u.value)==null?void 0:rt.querySelectorAll("input"))||[];(!e.filterable&&!e.defaultFirstOption&&!Oa(e.modelValue)||!Array.from(_t).includes(document.activeElement))&&zt(),e.defaultFirstOption&&(e.filterable||e.remote)&&Dt.value&&Ft()},{flush:"post"}),Wt(()=>s.hoveringIndex,rt=>{Jn(rt)&&rt>-1?re.value=je.value[rt]||{}:re.value={},je.value.forEach(_t=>{_t.hover=re.value===_t})}),ko(()=>{s.isBeforeHide||Vt()});const It=rt=>{s.previousQuery===rt||B.value||(s.previousQuery=rt,e.filterable&&tr(e.filterMethod)?e.filterMethod(rt):e.filterable&&e.remote&&tr(e.remoteMethod)&&e.remoteMethod(rt),e.defaultFirstOption&&(e.filterable||e.remote)&&Dt.value?Fn(Ft):Fn(fn))},Ft=()=>{const rt=je.value.filter(bn=>bn.visible&&!bn.disabled&&!bn.states.groupDisabled),_t=rt.find(bn=>bn.created),rn=rt[0];s.hoveringIndex=Xt(je.value,_t||rn)},zt=()=>{if(e.multiple)s.selectedLabel="";else{const _t=Tn(e.modelValue)?e.modelValue[0]:e.modelValue,rn=tn(_t);s.selectedLabel=rn.currentLabel,s.selected=[rn];return}const rt=[];Oa(e.modelValue)||vs(e.modelValue).forEach(_t=>{rt.push(tn(_t))}),s.selected=rt},tn=rt=>{let _t;const rn=P3(rt).toLowerCase()==="object",bn=P3(rt).toLowerCase()==="null",Rn=P3(rt).toLowerCase()==="undefined";for(let hr=s.cachedOptions.size-1;hr>=0;hr--){const dr=Ct.value[hr];if(rn?Ka(dr.value,e.valueKey)===Ka(rt,e.valueKey):dr.value===rt){_t={value:rt,currentLabel:dr.currentLabel,get isDisabled(){return dr.isDisabled}};break}}if(_t)return _t;const mr=rn?rt.label:!bn&&!Rn?rt:"";return{value:rt,currentLabel:mr}},fn=()=>{s.hoveringIndex=je.value.findIndex(rt=>s.selected.some(_t=>Pe(_t)===Pe(rt)))},hn=()=>{s.selectionWidth=a.value.getBoundingClientRect().width},Dn=()=>{s.calculatorWidth=_.value.getBoundingClientRect().width},ln=()=>{s.collapseItemWidth=k.value.getBoundingClientRect().width},St=()=>{var rt,_t;(_t=(rt=h.value)==null?void 0:rt.updatePopper)==null||_t.call(rt)},Pn=()=>{var rt,_t;(_t=(rt=m.value)==null?void 0:rt.updatePopper)==null||_t.call(rt)},rr=()=>{s.inputValue.length>0&&!ae.value&&(ae.value=!0),It(s.inputValue)},cr=rt=>{if(s.inputValue=rt.target.value,e.remote)sr();else return rr()},sr=mo(()=>{rr()},lt.value),Xr=rt=>{ys(e.modelValue,rt)||t(sa,rt)},wi=rt=>aq(rt,_t=>!s.disabledOptions.has(_t)),Bt=rt=>{if(e.multiple&&rt.code!==Kn.delete&&rt.target.value.length<=0){const _t=vs(e.modelValue).slice(),rn=wi(_t);if(rn<0)return;const bn=_t[rn];_t.splice(rn,1),t(Tr,_t),Xr(_t),t("remove-tag",bn)}},yn=(rt,_t)=>{const rn=s.selected.indexOf(_t);if(rn>-1&&!Le.value){const bn=vs(e.modelValue).slice();bn.splice(rn,1),t(Tr,bn),Xr(bn),t("remove-tag",_t.value)}rt.stopPropagation(),Nr()},ht=rt=>{rt.stopPropagation();const _t=e.multiple?[]:Se.value;if(e.multiple)for(const rn of s.selected)rn.isDisabled&&_t.push(rn.value);t(Tr,_t),Xr(_t),s.hoveringIndex=-1,ae.value=!1,t("clear"),Nr()},Zt=rt=>{var _t;if(e.multiple){const rn=vs((_t=e.modelValue)!=null?_t:[]).slice(),bn=Xt(rn,rt.value);bn>-1?rn.splice(bn,1):(e.multipleLimit<=0||rn.length<e.multipleLimit)&&rn.push(rt.value),t(Tr,rn),Xr(rn),rt.created&&It(""),e.filterable&&!e.reserveKeyword&&(s.inputValue="")}else t(Tr,rt.value),Xr(rt.value),ae.value=!1;Nr(),!ae.value&&Fn(()=>{qn(rt)})},Xt=(rt=[],_t)=>{if(!Ar(_t))return rt.indexOf(_t);const rn=e.valueKey;let bn=-1;return rt.some((Rn,mr)=>Bi(Ka(Rn,rn))===Ka(_t,rn)?(bn=mr,!0):!1),bn},qn=rt=>{var _t,rn,bn,Rn,mr;const gr=Tn(rt)?rt[0]:rt;let hr=null;if(gr!=null&&gr.value){const dr=je.value.filter(li=>li.value===gr.value);dr.length>0&&(hr=dr[0].$el)}if(h.value&&hr){const dr=(Rn=(bn=(rn=(_t=h.value)==null?void 0:_t.popperRef)==null?void 0:rn.contentRef)==null?void 0:bn.querySelector)==null?void 0:Rn.call(bn,`.${i.be("dropdown","wrap")}`);dr&&vL(dr,hr)}(mr=z.value)==null||mr.handleScroll()},Qr=rt=>{s.options.set(rt.value,rt),s.cachedOptions.set(rt.value,rt),rt.disabled&&s.disabledOptions.set(rt.value,rt)},Mt=(rt,_t)=>{s.options.get(rt)===_t&&s.options.delete(rt)},Gn=le(()=>{var rt,_t;return(_t=(rt=h.value)==null?void 0:rt.popperRef)==null?void 0:_t.contentRef}),Wr=()=>{s.isBeforeHide=!1,Fn(()=>qn(s.selected))},Nr=()=>{var rt;(rt=v.value)==null||rt.focus()},qr=()=>{var rt;if(ae.value){ae.value=!1,Fn(()=>{var _t;return(_t=v.value)==null?void 0:_t.blur()});return}(rt=v.value)==null||rt.blur()},si=rt=>{ht(rt)},Ya=rt=>{if(ae.value=!1,te.value){const _t=new FocusEvent("focus",rt);Fn(()=>ie(_t))}},Wl=()=>{s.inputValue.length>0?s.inputValue="":ae.value=!1},qs=()=>{Le.value||($A&&(s.inputHovering=!0),s.menuVisibleOnFocus?s.menuVisibleOnFocus=!1:ae.value=!ae.value)},Ht=()=>{ae.value?je.value[s.hoveringIndex]&&Zt(je.value[s.hoveringIndex]):qs()},Pe=rt=>Ar(rt.value)?Ka(rt.value,e.valueKey):rt.value,Oe=le(()=>je.value.filter(rt=>rt.visible).every(rt=>rt.disabled)),Xe=le(()=>e.multiple?e.collapseTags?s.selected.slice(0,e.maxCollapseTags):s.selected:[]),ut=le(()=>e.multiple?e.collapseTags?s.selected.slice(e.maxCollapseTags):[]:[]),ot=rt=>{if(!ae.value){ae.value=!0;return}if(!(s.options.size===0||s.filteredOptionsCount===0||B.value)&&!Oe.value){rt==="next"?(s.hoveringIndex++,s.hoveringIndex===s.options.size&&(s.hoveringIndex=0)):rt==="prev"&&(s.hoveringIndex--,s.hoveringIndex<0&&(s.hoveringIndex=s.options.size-1));const _t=je.value[s.hoveringIndex];(_t.disabled===!0||_t.states.groupDisabled===!0||!_t.visible)&&ot(rt),Fn(()=>qn(re.value))}},Tt=()=>{if(!a.value)return 0;const rt=window.getComputedStyle(a.value);return Number.parseFloat(rt.gap||"6px")},Ut=le(()=>{const rt=Tt();return{maxWidth:`${k.value&&e.maxCollapseTags===1?s.selectionWidth-s.collapseItemWidth-rt:s.selectionWidth}px`}}),kt=le(()=>({maxWidth:`${s.selectionWidth}px`})),jt=le(()=>({width:`${Math.max(s.calculatorWidth,Pke)}px`}));return ga(a,hn),ga(_,Dn),ga(M,St),ga(Q,St),ga(E,Pn),ga(k,ln),br(()=>{zt()}),{inputId:Ie,contentId:r,nsSelect:i,nsInput:o,states:s,isFocused:te,expanded:ae,optionsArray:je,hoverOption:re,selectSize:Re,filteredOptionsCount:Dt,resetCalculatorWidth:Dn,updateTooltip:St,updateTagTooltip:Pn,debouncedOnInputChange:sr,onInput:cr,deletePrevTag:Bt,deleteTag:yn,deleteSelected:ht,handleOptionSelect:Zt,scrollToOption:qn,hasModelValue:Ee,shouldShowPlaceholder:et,currentPlaceholder:Ze,mouseEnterEventName:nn,showClose:_e,iconComponent:xe,iconReverse:Be,validateState:Je,validateIcon:Ye,showNewOption:vt,updateOptions:Vt,collapseTagSize:pt,setSelected:zt,selectDisabled:Le,emptyText:Nt,handleCompositionStart:U,handleCompositionUpdate:W,handleCompositionEnd:q,onOptionCreate:Qr,onOptionDestroy:Mt,handleMenuEnter:Wr,focus:Nr,blur:qr,handleClearClick:si,handleClickOutside:Ya,handleEsc:Wl,toggleMenu:qs,selectOption:Ht,getValueKey:Pe,navigateOptions:ot,dropdownMenuVisible:Ne,showTagList:Xe,collapseTagList:ut,tagStyle:Ut,collapseTagStyle:kt,inputStyle:jt,popperRef:Gn,inputRef:v,tooltipRef:h,tagTooltipRef:m,calculatorRef:_,prefixRef:b,suffixRef:T,selectRef:u,wrapperRef:Q,selectionRef:a,scrollbarRef:z,menuRef:M,tagMenuRef:E,collapseItemRef:k}};var Rke=ge({name:"ElOptions",setup(e,{slots:t}){const n=An(F_);let r=[];return()=>{var i,o;const s=(i=t.default)==null?void 0:i.call(t),u=[];function a(h){Tn(h)&&h.forEach(m=>{var v,_,b,T;const M=(v=(m==null?void 0:m.type)||{})==null?void 0:v.name;M==="ElOptionGroup"?a(!Qn(m.children)&&!Tn(m.children)&&tr((_=m.children)==null?void 0:_.default)?(b=m.children)==null?void 0:b.default():m.children):M==="ElOption"?u.push((T=m.props)==null?void 0:T.value):Tn(m.children)&&a(m.children)})}return s.length&&a((o=s[0])==null?void 0:o.children),ys(u,r)||(r=u,n&&(n.states.optionValues=u)),s}}});const Dke=un({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:go,effect:{type:dt(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:dt(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:Ao.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:Vi,default:yh},fitInputWidth:Boolean,suffixIcon:{type:Vi,default:cd},tagType:{...g0.type,default:"info"},tagEffect:{...g0.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,placement:{type:dt(String),values:bh,default:"bottom-start"},fallbackPlacements:{type:dt(Array),default:["bottom-start","top-start","right","left"]},appendTo:String,...O_,...Uo(["ariaLabel"])}),MN="ElSelect",Oke=ge({name:MN,componentName:MN,components:{ElSelectMenu:kke,ElOption:hR,ElOptions:Rke,ElTag:Cx,ElScrollbar:fd,ElTooltip:ns,ElIcon:On},directives:{ClickOutside:dh},props:Dke,emits:[Tr,sa,"remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:t}){const n=le(()=>{const{modelValue:s,multiple:u}=e,a=u?[]:void 0;return Tn(s)?u?s:a:u?a:s}),r=Ci({...Co(e),modelValue:n}),i=Lke(r,t);Rr(F_,Ci({props:r,states:i.states,optionsArray:i.optionsArray,handleOptionSelect:i.handleOptionSelect,onOptionCreate:i.onOptionCreate,onOptionDestroy:i.onOptionDestroy,selectRef:i.selectRef,setSelected:i.setSelected}));const o=le(()=>e.multiple?i.states.selected.map(s=>s.currentLabel):i.states.selectedLabel);return{...i,modelValue:n,selectedLabel:o}}});function zke(e,t,n,r,i,o){const s=Zn("el-tag"),u=Zn("el-tooltip"),a=Zn("el-icon"),h=Zn("el-option"),m=Zn("el-options"),v=Zn("el-scrollbar"),_=Zn("el-select-menu"),b=qC("click-outside");return yr((X(),pe("div",{ref:"selectRef",class:ye([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),[Lb(e.mouseEnterEventName)]:T=>e.states.inputHovering=!0,onMouseleave:T=>e.states.inputHovering=!1},[Fe(u,{ref:"tooltipRef",visible:e.dropdownMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,"append-to":e.appendTo,onBeforeShow:e.handleMenuEnter,onHide:T=>e.states.isBeforeHide=!1},{default:tt(()=>{var T;return[ue("div",{ref:"wrapperRef",class:ye([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:er(e.toggleMenu,["prevent"])},[e.$slots.prefix?(X(),pe("div",{key:0,ref:"prefixRef",class:ye(e.nsSelect.e("prefix"))},[bt(e.$slots,"prefix")],2)):wt("v-if",!0),ue("div",{ref:"selectionRef",class:ye([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.states.selected.length)])},[e.multiple?bt(e.$slots,"tag",{key:0},()=>[(X(!0),pe(Nn,null,Ur(e.showTagList,M=>(X(),pe("div",{key:e.getValueKey(M),class:ye(e.nsSelect.e("selected-item"))},[Fe(s,{closable:!e.selectDisabled&&!M.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:Vn(e.tagStyle),onClose:E=>e.deleteTag(E,M)},{default:tt(()=>[ue("span",{class:ye(e.nsSelect.e("tags-text"))},[bt(e.$slots,"label",{label:M.currentLabel,value:M.value},()=>[Br(pn(M.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.states.selected.length>e.maxCollapseTags?(X(),Rt(u,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:tt(()=>[ue("div",{ref:"collapseItemRef",class:ye(e.nsSelect.e("selected-item"))},[Fe(s,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:Vn(e.collapseTagStyle)},{default:tt(()=>[ue("span",{class:ye(e.nsSelect.e("tags-text"))}," + "+pn(e.states.selected.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:tt(()=>[ue("div",{ref:"tagMenuRef",class:ye(e.nsSelect.e("selection"))},[(X(!0),pe(Nn,null,Ur(e.collapseTagList,M=>(X(),pe("div",{key:e.getValueKey(M),class:ye(e.nsSelect.e("selected-item"))},[Fe(s,{class:"in-tooltip",closable:!e.selectDisabled&&!M.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:E=>e.deleteTag(E,M)},{default:tt(()=>[ue("span",{class:ye(e.nsSelect.e("tags-text"))},[bt(e.$slots,"label",{label:M.currentLabel,value:M.value},()=>[Br(pn(M.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):wt("v-if",!0)]):wt("v-if",!0),e.selectDisabled?wt("v-if",!0):(X(),pe("div",{key:1,class:ye([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable)])},[yr(ue("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":M=>e.states.inputValue=M,type:"text",name:e.name,class:ye([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:Vn(e.inputStyle),role:"combobox",readonly:!e.filterable,spellcheck:"false","aria-activedescendant":((T=e.hoverOption)==null?void 0:T.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropdownMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[Wi(er(M=>e.navigateOptions("next"),["stop","prevent"]),["down"]),Wi(er(M=>e.navigateOptions("prev"),["stop","prevent"]),["up"]),Wi(er(e.handleEsc,["stop","prevent"]),["esc"]),Wi(er(e.selectOption,["stop","prevent"]),["enter"]),Wi(er(e.deletePrevTag,["stop"]),["delete"])],onCompositionstart:e.handleCompositionStart,onCompositionupdate:e.handleCompositionUpdate,onCompositionend:e.handleCompositionEnd,onInput:e.onInput,onClick:er(e.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[WP,e.states.inputValue]]),e.filterable?(X(),pe("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:ye(e.nsSelect.e("input-calculator")),textContent:pn(e.states.inputValue)},null,10,["textContent"])):wt("v-if",!0)],2)),e.shouldShowPlaceholder?(X(),pe("div",{key:2,class:ye([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?bt(e.$slots,"label",{key:0,label:e.currentPlaceholder,value:e.modelValue},()=>[ue("span",null,pn(e.currentPlaceholder),1)]):(X(),pe("span",{key:1},pn(e.currentPlaceholder),1))],2)):wt("v-if",!0)],2),ue("div",{ref:"suffixRef",class:ye(e.nsSelect.e("suffix"))},[e.iconComponent&&!e.showClose?(X(),Rt(a,{key:0,class:ye([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:tt(()=>[(X(),Rt(kr(e.iconComponent)))]),_:1},8,["class"])):wt("v-if",!0),e.showClose&&e.clearIcon?(X(),Rt(a,{key:1,class:ye([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.nsSelect.e("clear")]),onClick:e.handleClearClick},{default:tt(()=>[(X(),Rt(kr(e.clearIcon)))]),_:1},8,["class","onClick"])):wt("v-if",!0),e.validateState&&e.validateIcon?(X(),Rt(a,{key:2,class:ye([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:tt(()=>[(X(),Rt(kr(e.validateIcon)))]),_:1},8,["class"])):wt("v-if",!0)],2)],10,["onClick"])]}),content:tt(()=>[Fe(_,{ref:"menuRef"},{default:tt(()=>[e.$slots.header?(X(),pe("div",{key:0,class:ye(e.nsSelect.be("dropdown","header")),onClick:er(()=>{},["stop"])},[bt(e.$slots,"header")],10,["onClick"])):wt("v-if",!0),yr(Fe(v,{id:e.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:ye([e.nsSelect.is("empty",e.filteredOptionsCount===0)]),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical"},{default:tt(()=>[e.showNewOption?(X(),Rt(h,{key:0,value:e.states.inputValue,created:!0},null,8,["value"])):wt("v-if",!0),Fe(m,null,{default:tt(()=>[bt(e.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[vi,e.states.options.size>0&&!e.loading]]),e.$slots.loading&&e.loading?(X(),pe("div",{key:1,class:ye(e.nsSelect.be("dropdown","loading"))},[bt(e.$slots,"loading")],2)):e.loading||e.filteredOptionsCount===0?(X(),pe("div",{key:2,class:ye(e.nsSelect.be("dropdown","empty"))},[bt(e.$slots,"empty",{},()=>[ue("span",null,pn(e.emptyText),1)])],2)):wt("v-if",!0),e.$slots.footer?(X(),pe("div",{key:3,class:ye(e.nsSelect.be("dropdown","footer")),onClick:er(()=>{},["stop"])},[bt(e.$slots,"footer")],10,["onClick"])):wt("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","append-to","onBeforeShow","onHide"])],16,["onMouseleave"])),[[b,e.handleClickOutside,e.popperRef]])}var Bke=mn(Oke,[["render",zke],["__file","select.vue"]]);const Fke=ge({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const t=en("select"),n=Te(null),r=Mr(),i=Te([]);Rr(sZ,Ci({...Co(e)}));const o=le(()=>i.value.some(h=>h.visible===!0)),s=h=>{var m,v;return((m=h.type)==null?void 0:m.name)==="ElOption"&&!!((v=h.component)!=null&&v.proxy)},u=h=>{const m=vs(h),v=[];return m.forEach(_=>{var b,T;s(_)?v.push(_.component.proxy):(b=_.children)!=null&&b.length?v.push(...u(_.children)):(T=_.component)!=null&&T.subTree&&v.push(...u(_.component.subTree))}),v},a=()=>{i.value=u(r.subTree)};return br(()=>{a()}),bW(n,a,{attributes:!0,subtree:!0,childList:!0}),{groupRef:n,visible:o,ns:t}}});function Nke(e,t,n,r,i,o){return yr((X(),pe("ul",{ref:"groupRef",class:ye(e.ns.be("group","wrap"))},[ue("li",{class:ye(e.ns.be("group","title"))},pn(e.label),3),ue("li",null,[ue("ul",{class:ye(e.ns.b("group"))},[bt(e.$slots,"default")],2)])],2)),[[vi,e.visible]])}var lZ=mn(Fke,[["render",Nke],["__file","option-group.vue"]]);const _0=pr(Bke,{Option:hR,OptionGroup:lZ}),GS=Ma(hR),$ke=Ma(lZ),fR=()=>An(oZ,{}),Vke=un({pageSize:{type:Number,required:!0},pageSizes:{type:dt(Array),default:()=>Ca([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:dd},appendSizeTo:String}),Hke=ge({name:"ElPaginationSizes"}),Uke=ge({...Hke,props:Vke,emits:["page-size-change"],setup(e,{emit:t}){const n=e,{t:r}=ii(),i=en("pagination"),o=fR(),s=Te(n.pageSize);Wt(()=>n.pageSizes,(h,m)=>{if(!ys(h,m)&&Array.isArray(h)){const v=h.includes(n.pageSize)?n.pageSize:n.pageSizes[0];t("page-size-change",v)}}),Wt(()=>n.pageSize,h=>{s.value=h});const u=le(()=>n.pageSizes);function a(h){var m;h!==s.value&&(s.value=h,(m=o.handleSizeChange)==null||m.call(o,Number(h)))}return(h,m)=>(X(),pe("span",{class:ye(A(i).e("sizes"))},[Fe(A(_0),{"model-value":s.value,disabled:h.disabled,"popper-class":h.popperClass,size:h.size,teleported:h.teleported,"validate-event":!1,"append-to":h.appendSizeTo,onChange:a},{default:tt(()=>[(X(!0),pe(Nn,null,Ur(A(u),v=>(X(),Rt(A(GS),{key:v,value:v,label:v+A(r)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported","append-to"])],2))}});var jke=mn(Uke,[["__file","sizes.vue"]]);const Gke=un({size:{type:String,values:dd}}),Wke=ge({name:"ElPaginationJumper"}),qke=ge({...Wke,props:Gke,setup(e){const{t}=ii(),n=en("pagination"),{pageCount:r,disabled:i,currentPage:o,changeEvent:s}=fR(),u=Te(),a=le(()=>{var v;return(v=u.value)!=null?v:o==null?void 0:o.value});function h(v){u.value=v?+v:""}function m(v){v=Math.trunc(+v),s==null||s(v),u.value=void 0}return(v,_)=>(X(),pe("span",{class:ye(A(n).e("jump")),disabled:A(i)},[ue("span",{class:ye([A(n).e("goto")])},pn(A(t)("el.pagination.goto")),3),Fe(A(_s),{size:v.size,class:ye([A(n).e("editor"),A(n).is("in-pagination")]),min:1,max:A(r),disabled:A(i),"model-value":A(a),"validate-event":!1,"aria-label":A(t)("el.pagination.page"),type:"number","onUpdate:modelValue":h,onChange:m},null,8,["size","class","max","disabled","model-value","aria-label"]),ue("span",{class:ye([A(n).e("classifier")])},pn(A(t)("el.pagination.pageClassifier")),3)],10,["disabled"]))}});var Kke=mn(qke,[["__file","jumper.vue"]]);const Yke=un({total:{type:Number,default:1e3}}),Zke=ge({name:"ElPaginationTotal"}),Xke=ge({...Zke,props:Yke,setup(e){const{t}=ii(),n=en("pagination"),{disabled:r}=fR();return(i,o)=>(X(),pe("span",{class:ye(A(n).e("total")),disabled:A(r)},pn(A(t)("el.pagination.total",{total:i.total})),11,["disabled"]))}});var Jke=mn(Xke,[["__file","total.vue"]]);const Qke=un({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),ePe=ge({name:"ElPaginationPager"}),tPe=ge({...ePe,props:Qke,emits:["change"],setup(e,{emit:t}){const n=e,r=en("pager"),i=en("icon"),{t:o}=ii(),s=Te(!1),u=Te(!1),a=Te(!1),h=Te(!1),m=Te(!1),v=Te(!1),_=le(()=>{const U=n.pagerCount,W=(U-1)/2,q=Number(n.currentPage),Q=Number(n.pageCount);let te=!1,ie=!1;Q>U&&(q>U-W&&(te=!0),q<Q-W&&(ie=!0));const ae=[];if(te&&!ie){const re=Q-(U-2);for(let se=re;se<Q;se++)ae.push(se)}else if(!te&&ie)for(let re=2;re<U;re++)ae.push(re);else if(te&&ie){const re=Math.floor(U/2)-1;for(let se=q-re;se<=q+re;se++)ae.push(se)}else for(let re=2;re<Q;re++)ae.push(re);return ae}),b=le(()=>["more","btn-quickprev",i.b(),r.is("disabled",n.disabled)]),T=le(()=>["more","btn-quicknext",i.b(),r.is("disabled",n.disabled)]),M=le(()=>n.disabled?-1:0);ko(()=>{const U=(n.pagerCount-1)/2;s.value=!1,u.value=!1,n.pageCount>n.pagerCount&&(n.currentPage>n.pagerCount-U&&(s.value=!0),n.currentPage<n.pageCount-U&&(u.value=!0))});function E(U=!1){n.disabled||(U?a.value=!0:h.value=!0)}function k(U=!1){U?m.value=!0:v.value=!0}function z(U){const W=U.target;if(W.tagName.toLowerCase()==="li"&&Array.from(W.classList).includes("number")){const q=Number(W.textContent);q!==n.currentPage&&t("change",q)}else W.tagName.toLowerCase()==="li"&&Array.from(W.classList).includes("more")&&B(U)}function B(U){const W=U.target;if(W.tagName.toLowerCase()==="ul"||n.disabled)return;let q=Number(W.textContent);const Q=n.pageCount,te=n.currentPage,ie=n.pagerCount-2;W.className.includes("more")&&(W.className.includes("quickprev")?q=te-ie:W.className.includes("quicknext")&&(q=te+ie)),Number.isNaN(+q)||(q<1&&(q=1),q>Q&&(q=Q)),q!==te&&t("change",q)}return(U,W)=>(X(),pe("ul",{class:ye(A(r).b()),onClick:B,onKeyup:Wi(z,["enter"])},[U.pageCount>0?(X(),pe("li",{key:0,class:ye([[A(r).is("active",U.currentPage===1),A(r).is("disabled",U.disabled)],"number"]),"aria-current":U.currentPage===1,"aria-label":A(o)("el.pagination.currentPage",{pager:1}),tabindex:A(M)}," 1 ",10,["aria-current","aria-label","tabindex"])):wt("v-if",!0),s.value?(X(),pe("li",{key:1,class:ye(A(b)),tabindex:A(M),"aria-label":A(o)("el.pagination.prevPages",{pager:U.pagerCount-2}),onMouseenter:q=>E(!0),onMouseleave:q=>a.value=!1,onFocus:q=>k(!0),onBlur:q=>m.value=!1},[(a.value||m.value)&&!U.disabled?(X(),Rt(A(lh),{key:0})):(X(),Rt(A(KA),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):wt("v-if",!0),(X(!0),pe(Nn,null,Ur(A(_),q=>(X(),pe("li",{key:q,class:ye([[A(r).is("active",U.currentPage===q),A(r).is("disabled",U.disabled)],"number"]),"aria-current":U.currentPage===q,"aria-label":A(o)("el.pagination.currentPage",{pager:q}),tabindex:A(M)},pn(q),11,["aria-current","aria-label","tabindex"]))),128)),u.value?(X(),pe("li",{key:2,class:ye(A(T)),tabindex:A(M),"aria-label":A(o)("el.pagination.nextPages",{pager:U.pagerCount-2}),onMouseenter:q=>E(),onMouseleave:q=>h.value=!1,onFocus:q=>k(),onBlur:q=>v.value=!1},[(h.value||v.value)&&!U.disabled?(X(),Rt(A(uh),{key:0})):(X(),Rt(A(KA),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):wt("v-if",!0),U.pageCount>1?(X(),pe("li",{key:3,class:ye([[A(r).is("active",U.currentPage===U.pageCount),A(r).is("disabled",U.disabled)],"number"]),"aria-current":U.currentPage===U.pageCount,"aria-label":A(o)("el.pagination.currentPage",{pager:U.pageCount}),tabindex:A(M)},pn(U.pageCount),11,["aria-current","aria-label","tabindex"])):wt("v-if",!0)],42,["onKeyup"]))}});var nPe=mn(tPe,[["__file","pager.vue"]]);const Rs=e=>typeof e!="number",rPe=un({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:e=>Jn(e)&&Math.trunc(e)===e&&e>4&&e<22&&e%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:dt(Array),default:()=>Ca([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:Vi,default:()=>sh},nextText:{type:String,default:""},nextIcon:{type:Vi,default:()=>xs},teleported:{type:Boolean,default:!0},small:Boolean,size:go,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean,appendSizeTo:String}),iPe={"update:current-page":e=>Jn(e),"update:page-size":e=>Jn(e),"size-change":e=>Jn(e),change:(e,t)=>Jn(e)&&Jn(t),"current-change":e=>Jn(e),"prev-click":e=>Jn(e),"next-click":e=>Jn(e)},EN="ElPagination";var aPe=ge({name:EN,props:rPe,emits:iPe,setup(e,{emit:t,slots:n}){const{t:r}=ii(),i=en("pagination"),o=Mr().vnode.props||{},s=dK(),u=le(()=>{var W;return e.small?"small":(W=e.size)!=null?W:s.value});Jf({from:"small",replacement:"size",version:"3.0.0",scope:"el-pagination",ref:"https://element-plus.org/zh-CN/component/pagination.html"},le(()=>!!e.small));const a="onUpdate:currentPage"in o||"onUpdate:current-page"in o||"onCurrentChange"in o,h="onUpdate:pageSize"in o||"onUpdate:page-size"in o||"onSizeChange"in o,m=le(()=>{if(Rs(e.total)&&Rs(e.pageCount)||!Rs(e.currentPage)&&!a)return!1;if(e.layout.includes("sizes")){if(Rs(e.pageCount)){if(!Rs(e.total)&&!Rs(e.pageSize)&&!h)return!1}else if(!h)return!1}return!0}),v=Te(Rs(e.defaultPageSize)?10:e.defaultPageSize),_=Te(Rs(e.defaultCurrentPage)?1:e.defaultCurrentPage),b=le({get(){return Rs(e.pageSize)?v.value:e.pageSize},set(W){Rs(e.pageSize)&&(v.value=W),h&&(t("update:page-size",W),t("size-change",W))}}),T=le(()=>{let W=0;return Rs(e.pageCount)?Rs(e.total)||(W=Math.max(1,Math.ceil(e.total/b.value))):W=e.pageCount,W}),M=le({get(){return Rs(e.currentPage)?_.value:e.currentPage},set(W){let q=W;W<1?q=1:W>T.value&&(q=T.value),Rs(e.currentPage)&&(_.value=q),a&&(t("update:current-page",q),t("current-change",q))}});Wt(T,W=>{M.value>W&&(M.value=W)}),Wt([M,b],W=>{t("change",...W)},{flush:"post"});function E(W){M.value=W}function k(W){b.value=W;const q=T.value;M.value>q&&(M.value=q)}function z(){e.disabled||(M.value-=1,t("prev-click",M.value))}function B(){e.disabled||(M.value+=1,t("next-click",M.value))}function U(W,q){W&&(W.props||(W.props={}),W.props.class=[W.props.class,q].join(" "))}return Rr(oZ,{pageCount:T,disabled:le(()=>e.disabled),currentPage:M,changeEvent:E,handleSizeChange:k}),()=>{var W,q;if(!m.value)return r("el.pagination.deprecationWarning"),null;if(!e.layout||e.hideOnSinglePage&&T.value<=1)return null;const Q=[],te=[],ie=jn("div",{class:i.e("rightwrapper")},te),ae={prev:jn(bke,{disabled:e.disabled,currentPage:M.value,prevText:e.prevText,prevIcon:e.prevIcon,onClick:z}),jumper:jn(Kke,{size:u.value}),pager:jn(nPe,{currentPage:M.value,pageCount:T.value,pagerCount:e.pagerCount,onChange:E,disabled:e.disabled}),next:jn(Cke,{disabled:e.disabled,currentPage:M.value,pageCount:T.value,nextText:e.nextText,nextIcon:e.nextIcon,onClick:B}),sizes:jn(jke,{pageSize:b.value,pageSizes:e.pageSizes,popperClass:e.popperClass,disabled:e.disabled,teleported:e.teleported,size:u.value,appendSizeTo:e.appendSizeTo}),slot:(q=(W=n==null?void 0:n.default)==null?void 0:W.call(n))!=null?q:null,total:jn(Jke,{total:Rs(e.total)?0:e.total})},re=e.layout.split(",").map(be=>be.trim());let se=!1;return re.forEach(be=>{if(be==="->"){se=!0;return}se?te.push(ae[be]):Q.push(ae[be])}),U(Q[0],i.is("first")),U(Q[Q.length-1],i.is("last")),se&&te.length>0&&(U(te[0],i.is("first")),U(te[te.length-1],i.is("last")),Q.push(ie)),jn("div",{class:[i.b(),i.is("background",e.background),i.m(u.value)]},Q)}}});const oPe=pr(aPe),sPe=un({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:oI,default:"primary"},cancelButtonType:{type:String,values:oI,default:"text"},icon:{type:Vi,default:()=>xq},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:Ao.teleported,persistent:Ao.persistent,width:{type:[String,Number],default:150}}),lPe={confirm:e=>e instanceof MouseEvent,cancel:e=>e instanceof MouseEvent},uPe=ge({name:"ElPopconfirm"}),cPe=ge({...uPe,props:sPe,emits:lPe,setup(e,{emit:t}){const n=e,{t:r}=ii(),i=en("popconfirm"),o=Te(),s=()=>{var _,b;(b=(_=o.value)==null?void 0:_.onClose)==null||b.call(_)},u=le(()=>({width:Ua(n.width)})),a=_=>{t("confirm",_),s()},h=_=>{t("cancel",_),s()},m=le(()=>n.confirmButtonText||r("el.popconfirm.confirmButtonText")),v=le(()=>n.cancelButtonText||r("el.popconfirm.cancelButtonText"));return(_,b)=>(X(),Rt(A(ns),Lr({ref_key:"tooltipRef",ref:o,trigger:"click",effect:"light"},_.$attrs,{"popper-class":`${A(i).namespace.value}-popover`,"popper-style":A(u),teleported:_.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":_.hideAfter,persistent:_.persistent}),{content:tt(()=>[ue("div",{class:ye(A(i).b())},[ue("div",{class:ye(A(i).e("main"))},[!_.hideIcon&&_.icon?(X(),Rt(A(On),{key:0,class:ye(A(i).e("icon")),style:Vn({color:_.iconColor})},{default:tt(()=>[(X(),Rt(kr(_.icon)))]),_:1},8,["class","style"])):wt("v-if",!0),Br(" "+pn(_.title),1)],2),ue("div",{class:ye(A(i).e("action"))},[bt(_.$slots,"actions",{confirm:a,cancel:h},()=>[Fe(A(Po),{size:"small",type:_.cancelButtonType==="text"?"":_.cancelButtonType,text:_.cancelButtonType==="text",onClick:h},{default:tt(()=>[Br(pn(A(v)),1)]),_:1},8,["type","text"]),Fe(A(Po),{size:"small",type:_.confirmButtonType==="text"?"":_.confirmButtonType,text:_.confirmButtonType==="text",onClick:a},{default:tt(()=>[Br(pn(A(m)),1)]),_:1},8,["type","text"])])],2)],2)]),default:tt(()=>[_.$slots.reference?bt(_.$slots,"reference",{key:0}):wt("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var dPe=mn(cPe,[["__file","popconfirm.vue"]]);const hPe=pr(dPe),fPe=un({trigger:Sx.trigger,placement:G3.placement,disabled:Sx.disabled,visible:Ao.visible,transition:Ao.transition,popperOptions:G3.popperOptions,tabindex:G3.tabindex,content:Ao.content,popperStyle:Ao.popperStyle,popperClass:Ao.popperClass,enterable:{...Ao.enterable,default:!0},effect:{...Ao.effect,default:"light"},teleported:Ao.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),pPe={"update:visible":e=>za(e),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},mPe="onUpdate:visible",vPe=ge({name:"ElPopover"}),gPe=ge({...vPe,props:fPe,emits:pPe,setup(e,{expose:t,emit:n}){const r=e,i=le(()=>r[mPe]),o=en("popover"),s=Te(),u=le(()=>{var E;return(E=A(s))==null?void 0:E.popperRef}),a=le(()=>[{width:Ua(r.width)},r.popperStyle]),h=le(()=>[o.b(),r.popperClass,{[o.m("plain")]:!!r.content}]),m=le(()=>r.transition===`${o.namespace.value}-fade-in-linear`),v=()=>{var E;(E=s.value)==null||E.hide()},_=()=>{n("before-enter")},b=()=>{n("before-leave")},T=()=>{n("after-enter")},M=()=>{n("update:visible",!1),n("after-leave")};return t({popperRef:u,hide:v}),(E,k)=>(X(),Rt(A(ns),Lr({ref_key:"tooltipRef",ref:s},E.$attrs,{trigger:E.trigger,placement:E.placement,disabled:E.disabled,visible:E.visible,transition:E.transition,"popper-options":E.popperOptions,tabindex:E.tabindex,content:E.content,offset:E.offset,"show-after":E.showAfter,"hide-after":E.hideAfter,"auto-close":E.autoClose,"show-arrow":E.showArrow,"aria-label":E.title,effect:E.effect,enterable:E.enterable,"popper-class":A(h),"popper-style":A(a),teleported:E.teleported,persistent:E.persistent,"gpu-acceleration":A(m),"onUpdate:visible":A(i),onBeforeShow:_,onBeforeHide:b,onShow:T,onHide:M}),{content:tt(()=>[E.title?(X(),pe("div",{key:0,class:ye(A(o).e("title")),role:"title"},pn(E.title),3)):wt("v-if",!0),bt(E.$slots,"default",{},()=>[Br(pn(E.content),1)])]),default:tt(()=>[E.$slots.reference?bt(E.$slots,"reference",{key:0}):wt("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var _Pe=mn(gPe,[["__file","popover.vue"]]);const AN=(e,t)=>{const n=t.arg||t.value,r=n==null?void 0:n.popperRef;r&&(r.triggerRef=e)};var yPe={mounted(e,t){AN(e,t)},updated(e,t){AN(e,t)}};const bPe="popover",uZ=bwe(yPe,bPe),xPe=pr(_Pe,{directive:uZ}),wPe=un({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:dt(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:dt([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:dt(Function),default:e=>`${e}%`}}),SPe=ge({name:"ElProgress"}),CPe=ge({...SPe,props:wPe,setup(e){const t=e,n={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},r=en("progress"),i=le(()=>{const B={width:`${t.percentage}%`,animationDuration:`${t.duration}s`},U=z(t.percentage);return U.includes("gradient")?B.background=U:B.backgroundColor=U,B}),o=le(()=>(t.strokeWidth/t.width*100).toFixed(1)),s=le(()=>["circle","dashboard"].includes(t.type)?Number.parseInt(`${50-Number.parseFloat(o.value)/2}`,10):0),u=le(()=>{const B=s.value,U=t.type==="dashboard";return`
          M 50 50
          m 0 ${U?"":"-"}${B}
          a ${B} ${B} 0 1 1 0 ${U?"-":""}${B*2}
          a ${B} ${B} 0 1 1 0 ${U?"":"-"}${B*2}
          `}),a=le(()=>2*Math.PI*s.value),h=le(()=>t.type==="dashboard"?.75:1),m=le(()=>`${-1*a.value*(1-h.value)/2}px`),v=le(()=>({strokeDasharray:`${a.value*h.value}px, ${a.value}px`,strokeDashoffset:m.value})),_=le(()=>({strokeDasharray:`${a.value*h.value*(t.percentage/100)}px, ${a.value}px`,strokeDashoffset:m.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),b=le(()=>{let B;return t.color?B=z(t.percentage):B=n[t.status]||n.default,B}),T=le(()=>t.status==="warning"?cw:t.type==="line"?t.status==="success"?o8:yh:t.status==="success"?L_:Au),M=le(()=>t.type==="line"?12+t.strokeWidth*.4:t.width*.111111+2),E=le(()=>t.format(t.percentage));function k(B){const U=100/B.length;return B.map((q,Q)=>Qn(q)?{color:q,percentage:(Q+1)*U}:q).sort((q,Q)=>q.percentage-Q.percentage)}const z=B=>{var U;const{color:W}=t;if(tr(W))return W(B);if(Qn(W))return W;{const q=k(W);for(const Q of q)if(Q.percentage>B)return Q.color;return(U=q[q.length-1])==null?void 0:U.color}};return(B,U)=>(X(),pe("div",{class:ye([A(r).b(),A(r).m(B.type),A(r).is(B.status),{[A(r).m("without-text")]:!B.showText,[A(r).m("text-inside")]:B.textInside}]),role:"progressbar","aria-valuenow":B.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[B.type==="line"?(X(),pe("div",{key:0,class:ye(A(r).b("bar"))},[ue("div",{class:ye(A(r).be("bar","outer")),style:Vn({height:`${B.strokeWidth}px`})},[ue("div",{class:ye([A(r).be("bar","inner"),{[A(r).bem("bar","inner","indeterminate")]:B.indeterminate},{[A(r).bem("bar","inner","striped")]:B.striped},{[A(r).bem("bar","inner","striped-flow")]:B.stripedFlow}]),style:Vn(A(i))},[(B.showText||B.$slots.default)&&B.textInside?(X(),pe("div",{key:0,class:ye(A(r).be("bar","innerText"))},[bt(B.$slots,"default",{percentage:B.percentage},()=>[ue("span",null,pn(A(E)),1)])],2)):wt("v-if",!0)],6)],6)],2)):(X(),pe("div",{key:1,class:ye(A(r).b("circle")),style:Vn({height:`${B.width}px`,width:`${B.width}px`})},[(X(),pe("svg",{viewBox:"0 0 100 100"},[ue("path",{class:ye(A(r).be("circle","track")),d:A(u),stroke:`var(${A(r).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":B.strokeLinecap,"stroke-width":A(o),fill:"none",style:Vn(A(v))},null,14,["d","stroke","stroke-linecap","stroke-width"]),ue("path",{class:ye(A(r).be("circle","path")),d:A(u),stroke:A(b),fill:"none",opacity:B.percentage?1:0,"stroke-linecap":B.strokeLinecap,"stroke-width":A(o),style:Vn(A(_))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(B.showText||B.$slots.default)&&!B.textInside?(X(),pe("div",{key:2,class:ye(A(r).e("text")),style:Vn({fontSize:`${A(M)}px`})},[bt(B.$slots,"default",{percentage:B.percentage},()=>[B.status?(X(),Rt(A(On),{key:1},{default:tt(()=>[(X(),Rt(kr(A(T))))]),_:1})):(X(),pe("span",{key:0},pn(A(E)),1))])],6)):wt("v-if",!0)],10,["aria-valuenow"]))}});var TPe=mn(CPe,[["__file","progress.vue"]]);const cZ=pr(TPe),MPe=un({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:dt([Array,Object]),default:()=>Ca(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:dt([Array,Object]),default:()=>[_b,_b,_b]},voidIcon:{type:Vi,default:()=>Aq},disabledVoidIcon:{type:Vi,default:()=>_b},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:dt(Array),default:()=>Ca(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:go,clearable:Boolean,...Uo(["ariaLabel"])}),EPe={[sa]:e=>Jn(e),[Tr]:e=>Jn(e)},APe=ge({name:"ElRate"}),IPe=ge({...APe,props:MPe,emits:EPe,setup(e,{expose:t,emit:n}){const r=e;function i(me,Le){const Ee=Be=>Ar(Be),_e=Object.keys(Le).map(Be=>+Be).filter(Be=>{const Je=Le[Be];return(Ee(Je)?Je.excluded:!1)?me<Be:me<=Be}).sort((Be,Je)=>Be-Je),xe=Le[_e[0]];return Ee(xe)&&xe.value||xe}const o=An(P0,void 0),s=An(od,void 0),u=lo(),a=en("rate"),{inputId:h,isLabeledByFormItem:m}=xc(r,{formItemContext:s}),v=Te(r.modelValue),_=Te(-1),b=Te(!0),T=le(()=>[a.b(),a.m(u.value)]),M=le(()=>r.disabled||(o==null?void 0:o.disabled)),E=le(()=>a.cssVarBlock({"void-color":r.voidColor,"disabled-void-color":r.disabledVoidColor,"fill-color":U.value})),k=le(()=>{let me="";return r.showScore?me=r.scoreTemplate.replace(/\{\s*value\s*\}/,M.value?`${r.modelValue}`:`${v.value}`):r.showText&&(me=r.texts[Math.ceil(v.value)-1]),me}),z=le(()=>r.modelValue*100-Math.floor(r.modelValue)*100),B=le(()=>Tn(r.colors)?{[r.lowThreshold]:r.colors[0],[r.highThreshold]:{value:r.colors[1],excluded:!0},[r.max]:r.colors[2]}:r.colors),U=le(()=>{const me=i(v.value,B.value);return Ar(me)?"":me}),W=le(()=>{let me="";return M.value?me=`${z.value}%`:r.allowHalf&&(me="50%"),{color:U.value,width:me}}),q=le(()=>{let me=Tn(r.icons)?[...r.icons]:{...r.icons};return me=Zf(me),Tn(me)?{[r.lowThreshold]:me[0],[r.highThreshold]:{value:me[1],excluded:!0},[r.max]:me[2]}:me}),Q=le(()=>i(r.modelValue,q.value)),te=le(()=>M.value?Qn(r.disabledVoidIcon)?r.disabledVoidIcon:Zf(r.disabledVoidIcon):Qn(r.voidIcon)?r.voidIcon:Zf(r.voidIcon)),ie=le(()=>i(v.value,q.value));function ae(me){const Le=M.value&&z.value>0&&me-1<r.modelValue&&me>r.modelValue,Ee=r.allowHalf&&b.value&&me-.5<=v.value&&me>v.value;return Le||Ee}function re(me){r.clearable&&me===r.modelValue&&(me=0),n(Tr,me),r.modelValue!==me&&n("change",me)}function se(me){M.value||(r.allowHalf&&b.value?re(v.value):re(me))}function be(me){if(M.value)return;let Le=v.value;const Ee=me.code;return Ee===Kn.up||Ee===Kn.right?(r.allowHalf?Le+=.5:Le+=1,me.stopPropagation(),me.preventDefault()):(Ee===Kn.left||Ee===Kn.down)&&(r.allowHalf?Le-=.5:Le-=1,me.stopPropagation(),me.preventDefault()),Le=Le<0?0:Le,Le=Le>r.max?r.max:Le,n(Tr,Le),n("change",Le),Le}function Ie(me,Le){if(!M.value){if(r.allowHalf&&Le){let Ee=Le.target;ll(Ee,a.e("item"))&&(Ee=Ee.querySelector(`.${a.e("icon")}`)),(Ee.clientWidth===0||ll(Ee,a.e("decimal")))&&(Ee=Ee.parentNode),b.value=Le.offsetX*2<=Ee.clientWidth,v.value=b.value?me-.5:me}else v.value=me;_.value=me}}function Se(){M.value||(r.allowHalf&&(b.value=r.modelValue!==Math.floor(r.modelValue)),v.value=r.modelValue,_.value=-1)}return Wt(()=>r.modelValue,me=>{v.value=me,b.value=r.modelValue!==Math.floor(r.modelValue)}),r.modelValue||n(Tr,0),t({setCurrentValue:Ie,resetCurrentValue:Se}),(me,Le)=>{var Ee;return X(),pe("div",{id:A(h),class:ye([A(T),A(a).is("disabled",A(M))]),role:"slider","aria-label":A(m)?void 0:me.ariaLabel||"rating","aria-labelledby":A(m)?(Ee=A(s))==null?void 0:Ee.labelId:void 0,"aria-valuenow":v.value,"aria-valuetext":A(k)||void 0,"aria-valuemin":"0","aria-valuemax":me.max,tabindex:"0",style:Vn(A(E)),onKeydown:be},[(X(!0),pe(Nn,null,Ur(me.max,(_e,xe)=>(X(),pe("span",{key:xe,class:ye(A(a).e("item")),onMousemove:Be=>Ie(_e,Be),onMouseleave:Se,onClick:Be=>se(_e)},[Fe(A(On),{class:ye([A(a).e("icon"),{hover:_.value===_e},A(a).is("active",_e<=v.value)])},{default:tt(()=>[ae(_e)?wt("v-if",!0):(X(),pe(Nn,{key:0},[yr((X(),Rt(kr(A(ie)),null,null,512)),[[vi,_e<=v.value]]),yr((X(),Rt(kr(A(te)),null,null,512)),[[vi,!(_e<=v.value)]])],64)),ae(_e)?(X(),pe(Nn,{key:1},[(X(),Rt(kr(A(te)),{class:ye([A(a).em("decimal","box")])},null,8,["class"])),Fe(A(On),{style:Vn(A(W)),class:ye([A(a).e("icon"),A(a).e("decimal")])},{default:tt(()=>[(X(),Rt(kr(A(Q))))]),_:1},8,["style","class"])],64)):wt("v-if",!0)]),_:2},1032,["class"])],42,["onMousemove","onClick"]))),128)),me.showText||me.showScore?(X(),pe("span",{key:0,class:ye(A(a).e("text")),style:Vn({color:me.textColor})},pn(A(k)),7)):wt("v-if",!0)],46,["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"])}}});var kPe=mn(IPe,[["__file","rate.vue"]]);const PPe=pr(kPe),Cg={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},IN={[Cg.success]:fq,[Cg.warning]:cw,[Cg.error]:s8,[Cg.info]:l8},LPe=un({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),RPe=ge({name:"ElResult"}),DPe=ge({...RPe,props:LPe,setup(e){const t=e,n=en("result"),r=le(()=>{const i=t.icon,o=i&&Cg[i]?Cg[i]:"icon-info",s=IN[o]||IN["icon-info"];return{class:o,component:s}});return(i,o)=>(X(),pe("div",{class:ye(A(n).b())},[ue("div",{class:ye(A(n).e("icon"))},[bt(i.$slots,"icon",{},()=>[A(r).component?(X(),Rt(kr(A(r).component),{key:0,class:ye(A(r).class)},null,8,["class"])):wt("v-if",!0)])],2),i.title||i.$slots.title?(X(),pe("div",{key:0,class:ye(A(n).e("title"))},[bt(i.$slots,"title",{},()=>[ue("p",null,pn(i.title),1)])],2)):wt("v-if",!0),i.subTitle||i.$slots["sub-title"]?(X(),pe("div",{key:1,class:ye(A(n).e("subtitle"))},[bt(i.$slots,"sub-title",{},()=>[ue("p",null,pn(i.subTitle),1)])],2)):wt("v-if",!0),i.$slots.extra?(X(),pe("div",{key:2,class:ye(A(n).e("extra"))},[bt(i.$slots,"extra")],2)):wt("v-if",!0)],2))}});var OPe=mn(DPe,[["__file","result.vue"]]);const zPe=pr(OPe);var kN=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function BPe(e,t){return!!(e===t||kN(e)&&kN(t))}function FPe(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!BPe(e[n],t[n]))return!1;return!0}function NPe(e,t){t===void 0&&(t=FPe);var n=null;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;var s=e.apply(this,i);return n={lastResult:s,lastArgs:i,lastThis:this},s}return r.clear=function(){n=null},r}const dZ=()=>{const t=Mr().proxy.$props;return le(()=>{const n=(r,i,o)=>({});return t.perfMode?t8(n):NPe(n)})},II=50,WS="itemRendered",qS="scroll",Tg="forward",KS="backward",xu="auto",S8="smart",Ex="start",Zc="center",Ax="end",v_="horizontal",pR="vertical",$Pe="ltr",jg="rtl",Ix="negative",mR="positive-ascending",vR="positive-descending",VPe={[v_]:"left",[pR]:"top"},HPe=20,UPe={[v_]:"deltaX",[pR]:"deltaY"},jPe=({atEndEdge:e,atStartEdge:t,layout:n},r)=>{let i,o=0;const s=a=>a<0&&t.value||a>0&&e.value;return{hasReachedEdge:s,onWheel:a=>{p0(i);const h=a[UPe[n.value]];s(o)&&s(o+h)||(o+=h,XP()||a.preventDefault(),i=lp(()=>{r(o),o=0}))}}},kI=yc({type:dt([Number,Function]),required:!0}),PI=yc({type:Number}),LI=yc({type:Number,default:2}),GPe=yc({type:String,values:["ltr","rtl"],default:"ltr"}),RI=yc({type:Number,default:0}),YS=yc({type:Number,required:!0}),hZ=yc({type:String,values:["horizontal","vertical"],default:pR}),fZ=un({className:{type:String,default:""},containerElement:{type:dt([String,Object]),default:"div"},data:{type:dt(Array),default:()=>Ca([])},direction:GPe,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:dt([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),pZ=un({cache:LI,estimatedItemSize:PI,layout:hZ,initScrollOffset:RI,total:YS,itemSize:kI,...fZ}),DI={type:Number,default:6},mZ={type:Number,default:0},vZ={type:Number,default:2},r0=un({columnCache:LI,columnWidth:kI,estimatedColumnWidth:PI,estimatedRowHeight:PI,initScrollLeft:RI,initScrollTop:RI,itemKey:{type:dt(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:LI,rowHeight:kI,totalColumn:YS,totalRow:YS,hScrollbarSize:DI,vScrollbarSize:DI,scrollbarStartGap:mZ,scrollbarEndGap:vZ,role:String,...fZ}),gZ=un({alwaysOn:Boolean,class:String,layout:hZ,total:YS,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:DI,startGap:mZ,endGap:vZ,visible:Boolean}),Wm=(e,t)=>e<t?Tg:KS,kx=e=>e===$Pe||e===jg||e===v_,PN=e=>e===jg;let Xv=null;function ZS(e=!1){if(Xv===null||e){const t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";const r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?Xv=vR:(t.scrollLeft=1,t.scrollLeft===0?Xv=Ix:Xv=mR),document.body.removeChild(t),Xv}return Xv}function WPe({move:e,size:t,bar:n},r){const i={},o=`translate${n.axis}(${e}px)`;return i[n.size]=t,i.transform=o,i.msTransform=o,i.webkitTransform=o,r==="horizontal"?i.height="100%":i.width="100%",i}const OI=ge({name:"ElVirtualScrollBar",props:gZ,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const n=le(()=>e.startGap+e.endGap),r=en("virtual-scrollbar"),i=en("scrollbar"),o=Te(),s=Te();let u=null,a=null;const h=Ci({isDragging:!1,traveled:0}),m=le(()=>gK[e.layout]),v=le(()=>e.clientSize-A(n)),_=le(()=>({position:"absolute",width:`${v_===e.layout?v.value:e.scrollbarSize}px`,height:`${v_===e.layout?e.scrollbarSize:v.value}px`,[VPe[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),b=le(()=>{const q=e.ratio,Q=e.clientSize;if(q>=100)return Number.POSITIVE_INFINITY;if(q>=50)return q*Q/100;const te=Q/3;return Math.floor(Math.min(Math.max(q*Q,HPe),te))}),T=le(()=>{if(!Number.isFinite(b.value))return{display:"none"};const q=`${b.value}px`;return WPe({bar:m.value,size:q,move:h.traveled},e.layout)}),M=le(()=>Math.floor(e.clientSize-b.value-A(n))),E=()=>{window.addEventListener("mousemove",U),window.addEventListener("mouseup",B);const q=A(s);q&&(a=document.onselectstart,document.onselectstart=()=>!1,q.addEventListener("touchmove",U,{passive:!0}),q.addEventListener("touchend",B))},k=()=>{window.removeEventListener("mousemove",U),window.removeEventListener("mouseup",B),document.onselectstart=a,a=null;const q=A(s);q&&(q.removeEventListener("touchmove",U),q.removeEventListener("touchend",B))},z=q=>{q.stopImmediatePropagation(),!(q.ctrlKey||[1,2].includes(q.button))&&(h.isDragging=!0,h[m.value.axis]=q.currentTarget[m.value.offset]-(q[m.value.client]-q.currentTarget.getBoundingClientRect()[m.value.direction]),t("start-move"),E())},B=()=>{h.isDragging=!1,h[m.value.axis]=0,t("stop-move"),k()},U=q=>{const{isDragging:Q}=h;if(!Q||!s.value||!o.value)return;const te=h[m.value.axis];if(!te)return;p0(u);const ie=(o.value.getBoundingClientRect()[m.value.direction]-q[m.value.client])*-1,ae=s.value[m.value.offset]-te,re=ie-ae;u=lp(()=>{h.traveled=Math.max(e.startGap,Math.min(re,M.value)),t("scroll",re,M.value)})},W=q=>{const Q=Math.abs(q.target.getBoundingClientRect()[m.value.direction]-q[m.value.client]),te=s.value[m.value.offset]/2,ie=Q-te;h.traveled=Math.max(0,Math.min(ie,M.value)),t("scroll",ie,M.value)};return Wt(()=>e.scrollFrom,q=>{h.isDragging||(h.traveled=Math.ceil(q*M.value))}),Di(()=>{k()}),()=>jn("div",{role:"presentation",ref:o,class:[r.b(),e.class,(e.alwaysOn||h.isDragging)&&"always-on"],style:_.value,onMousedown:er(W,["stop","prevent"]),onTouchstartPrevent:z},jn("div",{ref:s,class:i.e("thumb"),style:T.value,onMousedown:z},[]))}}),_Z=({name:e,getOffset:t,getItemSize:n,getItemOffset:r,getEstimatedTotalSize:i,getStartIndexForOffset:o,getStopIndexForStartIndex:s,initCache:u,clearCache:a,validateProps:h})=>ge({name:e??"ElVirtualList",props:pZ,emits:[WS,qS],setup(m,{emit:v,expose:_}){h(m);const b=Mr(),T=en("vl"),M=Te(u(m,b)),E=dZ(),k=Te(),z=Te(),B=Te(),U=Te({isScrolling:!1,scrollDir:"forward",scrollOffset:Jn(m.initScrollOffset)?m.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:m.scrollbarAlwaysOn}),W=le(()=>{const{total:Ye,cache:lt}=m,{isScrolling:Nt,scrollDir:Dt,scrollOffset:je}=A(U);if(Ye===0)return[0,0,0,0];const Ct=o(m,je,A(M)),vt=s(m,Ct,je,A(M)),Vt=!Nt||Dt===KS?Math.max(1,lt):1,Re=!Nt||Dt===Tg?Math.max(1,lt):1;return[Math.max(0,Ct-Vt),Math.max(0,Math.min(Ye-1,vt+Re)),Ct,vt]}),q=le(()=>i(m,A(M))),Q=le(()=>kx(m.layout)),te=le(()=>[{position:"relative",[`overflow-${Q.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:m.direction,height:Jn(m.height)?`${m.height}px`:m.height,width:Jn(m.width)?`${m.width}px`:m.width},m.style]),ie=le(()=>{const Ye=A(q),lt=A(Q);return{height:lt?"100%":`${Ye}px`,pointerEvents:A(U).isScrolling?"none":void 0,width:lt?`${Ye}px`:"100%"}}),ae=le(()=>Q.value?m.width:m.height),{onWheel:re}=jPe({atStartEdge:le(()=>U.value.scrollOffset<=0),atEndEdge:le(()=>U.value.scrollOffset>=q.value),layout:le(()=>m.layout)},Ye=>{var lt,Nt;(Nt=(lt=B.value).onMouseUp)==null||Nt.call(lt),Le(Math.min(U.value.scrollOffset+Ye,q.value-ae.value))});Fi(k,"wheel",re,{passive:!1});const se=()=>{const{total:Ye}=m;if(Ye>0){const[je,Ct,vt,Vt]=A(W);v(WS,je,Ct,vt,Vt)}const{scrollDir:lt,scrollOffset:Nt,updateRequested:Dt}=A(U);v(qS,lt,Nt,Dt)},be=Ye=>{const{clientHeight:lt,scrollHeight:Nt,scrollTop:Dt}=Ye.currentTarget,je=A(U);if(je.scrollOffset===Dt)return;const Ct=Math.max(0,Math.min(Dt,Nt-lt));U.value={...je,isScrolling:!0,scrollDir:Wm(je.scrollOffset,Ct),scrollOffset:Ct,updateRequested:!1},Fn(xe)},Ie=Ye=>{const{clientWidth:lt,scrollLeft:Nt,scrollWidth:Dt}=Ye.currentTarget,je=A(U);if(je.scrollOffset===Nt)return;const{direction:Ct}=m;let vt=Nt;if(Ct===jg)switch(ZS()){case Ix:{vt=-Nt;break}case vR:{vt=Dt-lt-Nt;break}}vt=Math.max(0,Math.min(vt,Dt-lt)),U.value={...je,isScrolling:!0,scrollDir:Wm(je.scrollOffset,vt),scrollOffset:vt,updateRequested:!1},Fn(xe)},Se=Ye=>{A(Q)?Ie(Ye):be(Ye),se()},me=(Ye,lt)=>{const Nt=(q.value-ae.value)/lt*Ye;Le(Math.min(q.value-ae.value,Nt))},Le=Ye=>{Ye=Math.max(Ye,0),Ye!==A(U).scrollOffset&&(U.value={...A(U),scrollOffset:Ye,scrollDir:Wm(A(U).scrollOffset,Ye),updateRequested:!0},Fn(xe))},Ee=(Ye,lt=xu)=>{const{scrollOffset:Nt}=A(U);Ye=Math.max(0,Math.min(Ye,m.total-1)),Le(t(m,Ye,lt,Nt,A(M)))},_e=Ye=>{const{direction:lt,itemSize:Nt,layout:Dt}=m,je=E.value(a&&Nt,a&&Dt,a&&lt);let Ct;if(mi(je,String(Ye)))Ct=je[Ye];else{const vt=r(m,Ye,A(M)),Vt=n(m,Ye,A(M)),Re=A(Q),pt=lt===jg,Ne=Re?vt:0;je[Ye]=Ct={position:"absolute",left:pt?void 0:`${Ne}px`,right:pt?`${Ne}px`:void 0,top:Re?0:`${vt}px`,height:Re?"100%":`${Vt}px`,width:Re?`${Vt}px`:"100%"}}return Ct},xe=()=>{U.value.isScrolling=!1,Fn(()=>{E.value(-1,null,null)})},Be=()=>{const Ye=k.value;Ye&&(Ye.scrollTop=0)};br(()=>{if(!ri)return;const{initScrollOffset:Ye}=m,lt=A(k);Jn(Ye)&&lt&&(A(Q)?lt.scrollLeft=Ye:lt.scrollTop=Ye),se()}),ud(()=>{const{direction:Ye,layout:lt}=m,{scrollOffset:Nt,updateRequested:Dt}=A(U),je=A(k);if(Dt&&je)if(lt===v_)if(Ye===jg)switch(ZS()){case Ix:{je.scrollLeft=-Nt;break}case mR:{je.scrollLeft=Nt;break}default:{const{clientWidth:Ct,scrollWidth:vt}=je;je.scrollLeft=vt-Ct-Nt;break}}else je.scrollLeft=Nt;else je.scrollTop=Nt}),BP(()=>{A(k).scrollTop=A(U).scrollOffset});const Je={ns:T,clientSize:ae,estimatedTotalSize:q,windowStyle:te,windowRef:k,innerRef:z,innerStyle:ie,itemsToRender:W,scrollbarRef:B,states:U,getItemStyle:_e,onScroll:Se,onScrollbarScroll:me,onWheel:re,scrollTo:Le,scrollToItem:Ee,resetScrollTop:Be};return _({windowRef:k,innerRef:z,getItemStyleCache:E,scrollTo:Le,scrollToItem:Ee,resetScrollTop:Be,states:U}),Je},render(m){var v;const{$slots:_,className:b,clientSize:T,containerElement:M,data:E,getItemStyle:k,innerElement:z,itemsToRender:B,innerStyle:U,layout:W,total:q,onScroll:Q,onScrollbarScroll:te,states:ie,useIsScrolling:ae,windowStyle:re,ns:se}=m,[be,Ie]=B,Se=kr(M),me=kr(z),Le=[];if(q>0)for(let Be=be;Be<=Ie;Be++)Le.push(jn(Nn,{key:Be},(v=_.default)==null?void 0:v.call(_,{data:E,index:Be,isScrolling:ae?ie.isScrolling:void 0,style:k(Be)})));const Ee=[jn(me,{style:U,ref:"innerRef"},Qn(me)?Le:{default:()=>Le})],_e=jn(OI,{ref:"scrollbarRef",clientSize:T,layout:W,onScroll:te,ratio:T*100/this.estimatedTotalSize,scrollFrom:ie.scrollOffset/(this.estimatedTotalSize-T),total:q}),xe=jn(Se,{class:[se.e("window"),b],style:re,onScroll:Q,ref:"windowRef",key:0},Qn(Se)?[Ee]:{default:()=>[Ee]});return jn("div",{key:0,class:[se.e("wrapper"),ie.scrollbarAlwaysOn?"always-on":""]},[xe,_e])}}),yZ=_Z({name:"ElFixedSizeList",getItemOffset:({itemSize:e},t)=>t*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:t})=>t*e,getOffset:({height:e,total:t,itemSize:n,layout:r,width:i},o,s,u)=>{const a=kx(r)?i:e,h=Math.max(0,t*n-a),m=Math.min(h,o*n),v=Math.max(0,(o+1)*n-a);switch(s===S8&&(u>=v-a&&u<=m+a?s=xu:s=Zc),s){case Ex:return m;case Ax:return v;case Zc:{const _=Math.round(v+(m-v)/2);return _<Math.ceil(a/2)?0:_>h+Math.floor(a/2)?h:_}case xu:default:return u>=v&&u<=m?u:u<v?v:m}},getStartIndexForOffset:({total:e,itemSize:t},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getStopIndexForStartIndex:({height:e,total:t,itemSize:n,layout:r,width:i},o,s)=>{const u=o*n,a=kx(r)?i:e,h=Math.ceil((a+s-u)/n);return Math.max(0,Math.min(t-1,o+h-1))},initCache(){},clearCache:!0,validateProps(){}}),Mg=(e,t,n)=>{const{itemSize:r}=e,{items:i,lastVisitedIndex:o}=n;if(t>o){let s=0;if(o>=0){const u=i[o];s=u.offset+u.size}for(let u=o+1;u<=t;u++){const a=r(u);i[u]={offset:s,size:a},s+=a}n.lastVisitedIndex=t}return i[t]},qPe=(e,t,n)=>{const{items:r,lastVisitedIndex:i}=t;return(i>0?r[i].offset:0)>=n?bZ(e,t,0,i,n):KPe(e,t,Math.max(0,i),n)},bZ=(e,t,n,r,i)=>{for(;n<=r;){const o=n+Math.floor((r-n)/2),s=Mg(e,o,t).offset;if(s===i)return o;s<i?n=o+1:s>i&&(r=o-1)}return Math.max(0,n-1)},KPe=(e,t,n,r)=>{const{total:i}=e;let o=1;for(;n<i&&Mg(e,n,t).offset<r;)n+=o,o*=2;return bZ(e,t,Math.floor(n/2),Math.min(n,i-1),r)},LN=({total:e},{items:t,estimatedItemSize:n,lastVisitedIndex:r})=>{let i=0;if(r>=e&&(r=e-1),r>=0){const u=t[r];i=u.offset+u.size}const s=(e-r-1)*n;return i+s},YPe=_Z({name:"ElDynamicSizeList",getItemOffset:(e,t,n)=>Mg(e,t,n).offset,getItemSize:(e,t,{items:n})=>n[t].size,getEstimatedTotalSize:LN,getOffset:(e,t,n,r,i)=>{const{height:o,layout:s,width:u}=e,a=kx(s)?u:o,h=Mg(e,t,i),m=LN(e,i),v=Math.max(0,Math.min(m-a,h.offset)),_=Math.max(0,h.offset-a+h.size);switch(n===S8&&(r>=_-a&&r<=v+a?n=xu:n=Zc),n){case Ex:return v;case Ax:return _;case Zc:return Math.round(_+(v-_)/2);case xu:default:return r>=_&&r<=v?r:r<_?_:v}},getStartIndexForOffset:(e,t,n)=>qPe(e,n,t),getStopIndexForStartIndex:(e,t,n,r)=>{const{height:i,total:o,layout:s,width:u}=e,a=kx(s)?u:i,h=Mg(e,t,r),m=n+a;let v=h.offset+h.size,_=t;for(;_<o-1&&v<m;)_++,v+=Mg(e,_,r).size;return _},initCache({estimatedItemSize:e=II},t){const n={items:{},estimatedItemSize:e,lastVisitedIndex:-1};return n.clearCacheAfterIndex=(r,i=!0)=>{var o,s;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,r-1),(o=t.exposed)==null||o.getItemStyleCache(-1),i&&((s=t.proxy)==null||s.$forceUpdate())},n},clearCache:!1,validateProps:({itemSize:e})=>{}}),ZPe=({atXEndEdge:e,atXStartEdge:t,atYEndEdge:n,atYStartEdge:r},i)=>{let o=null,s=0,u=0;const a=(m,v)=>{const _=m<=0&&t.value||m>=0&&e.value,b=v<=0&&r.value||v>=0&&n.value;return _&&b};return{hasReachedEdge:a,onWheel:m=>{p0(o);let v=m.deltaX,_=m.deltaY;Math.abs(v)>Math.abs(_)?_=0:v=0,m.shiftKey&&_!==0&&(v=_,_=0),!(a(s,u)&&a(s+v,u+_))&&(s+=v,u+=_,m.preventDefault(),o=lp(()=>{i(s,u),s=0,u=0}))}}},xZ=({name:e,clearCache:t,getColumnPosition:n,getColumnStartIndexForOffset:r,getColumnStopIndexForStartIndex:i,getEstimatedTotalHeight:o,getEstimatedTotalWidth:s,getColumnOffset:u,getRowOffset:a,getRowPosition:h,getRowStartIndexForOffset:m,getRowStopIndexForStartIndex:v,initCache:_,injectToInstance:b,validateProps:T})=>ge({name:e??"ElVirtualList",props:r0,emits:[WS,qS],setup(M,{emit:E,expose:k,slots:z}){const B=en("vl");T(M);const U=Mr(),W=Te(_(M,U));b==null||b(U,W);const q=Te(),Q=Te(),te=Te(),ie=Te(null),ae=Te({isScrolling:!1,scrollLeft:Jn(M.initScrollLeft)?M.initScrollLeft:0,scrollTop:Jn(M.initScrollTop)?M.initScrollTop:0,updateRequested:!1,xAxisScrollDir:Tg,yAxisScrollDir:Tg}),re=dZ(),se=le(()=>Number.parseInt(`${M.height}`,10)),be=le(()=>Number.parseInt(`${M.width}`,10)),Ie=le(()=>{const{totalColumn:It,totalRow:Ft,columnCache:zt}=M,{isScrolling:tn,xAxisScrollDir:fn,scrollLeft:hn}=A(ae);if(It===0||Ft===0)return[0,0,0,0];const Dn=r(M,hn,A(W)),ln=i(M,Dn,hn,A(W)),St=!tn||fn===KS?Math.max(1,zt):1,Pn=!tn||fn===Tg?Math.max(1,zt):1;return[Math.max(0,Dn-St),Math.max(0,Math.min(It-1,ln+Pn)),Dn,ln]}),Se=le(()=>{const{totalColumn:It,totalRow:Ft,rowCache:zt}=M,{isScrolling:tn,yAxisScrollDir:fn,scrollTop:hn}=A(ae);if(It===0||Ft===0)return[0,0,0,0];const Dn=m(M,hn,A(W)),ln=v(M,Dn,hn,A(W)),St=!tn||fn===KS?Math.max(1,zt):1,Pn=!tn||fn===Tg?Math.max(1,zt):1;return[Math.max(0,Dn-St),Math.max(0,Math.min(Ft-1,ln+Pn)),Dn,ln]}),me=le(()=>o(M,A(W))),Le=le(()=>s(M,A(W))),Ee=le(()=>{var It;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:M.direction,height:Jn(M.height)?`${M.height}px`:M.height,width:Jn(M.width)?`${M.width}px`:M.width},(It=M.style)!=null?It:{}]}),_e=le(()=>{const It=`${A(Le)}px`;return{height:`${A(me)}px`,pointerEvents:A(ae).isScrolling?"none":void 0,width:It}}),xe=()=>{const{totalColumn:It,totalRow:Ft}=M;if(It>0&&Ft>0){const[ln,St,Pn,rr]=A(Ie),[cr,sr,Xr,wi]=A(Se);E(WS,{columnCacheStart:ln,columnCacheEnd:St,rowCacheStart:cr,rowCacheEnd:sr,columnVisibleStart:Pn,columnVisibleEnd:rr,rowVisibleStart:Xr,rowVisibleEnd:wi})}const{scrollLeft:zt,scrollTop:tn,updateRequested:fn,xAxisScrollDir:hn,yAxisScrollDir:Dn}=A(ae);E(qS,{xAxisScrollDir:hn,scrollLeft:zt,yAxisScrollDir:Dn,scrollTop:tn,updateRequested:fn})},Be=It=>{const{clientHeight:Ft,clientWidth:zt,scrollHeight:tn,scrollLeft:fn,scrollTop:hn,scrollWidth:Dn}=It.currentTarget,ln=A(ae);if(ln.scrollTop===hn&&ln.scrollLeft===fn)return;let St=fn;if(PN(M.direction))switch(ZS()){case Ix:St=-fn;break;case vR:St=Dn-zt-fn;break}ae.value={...ln,isScrolling:!0,scrollLeft:St,scrollTop:Math.max(0,Math.min(hn,tn-Ft)),updateRequested:!0,xAxisScrollDir:Wm(ln.scrollLeft,St),yAxisScrollDir:Wm(ln.scrollTop,hn)},Fn(()=>Ct()),vt(),xe()},Je=(It,Ft)=>{const zt=A(se),tn=(me.value-zt)/Ft*It;Nt({scrollTop:Math.min(me.value-zt,tn)})},Ye=(It,Ft)=>{const zt=A(be),tn=(Le.value-zt)/Ft*It;Nt({scrollLeft:Math.min(Le.value-zt,tn)})},{onWheel:lt}=ZPe({atXStartEdge:le(()=>ae.value.scrollLeft<=0),atXEndEdge:le(()=>ae.value.scrollLeft>=Le.value-A(be)),atYStartEdge:le(()=>ae.value.scrollTop<=0),atYEndEdge:le(()=>ae.value.scrollTop>=me.value-A(se))},(It,Ft)=>{var zt,tn,fn,hn;(tn=(zt=Q.value)==null?void 0:zt.onMouseUp)==null||tn.call(zt),(hn=(fn=te.value)==null?void 0:fn.onMouseUp)==null||hn.call(fn);const Dn=A(be),ln=A(se);Nt({scrollLeft:Math.min(ae.value.scrollLeft+It,Le.value-Dn),scrollTop:Math.min(ae.value.scrollTop+Ft,me.value-ln)})});Fi(q,"wheel",lt,{passive:!1});const Nt=({scrollLeft:It=ae.value.scrollLeft,scrollTop:Ft=ae.value.scrollTop})=>{It=Math.max(It,0),Ft=Math.max(Ft,0);const zt=A(ae);Ft===zt.scrollTop&&It===zt.scrollLeft||(ae.value={...zt,xAxisScrollDir:Wm(zt.scrollLeft,It),yAxisScrollDir:Wm(zt.scrollTop,Ft),scrollLeft:It,scrollTop:Ft,updateRequested:!0},Fn(()=>Ct()),vt(),xe())},Dt=(It=0,Ft=0,zt=xu)=>{const tn=A(ae);Ft=Math.max(0,Math.min(Ft,M.totalColumn-1)),It=Math.max(0,Math.min(It,M.totalRow-1));const fn=uq(B.namespace.value),hn=A(W),Dn=o(M,hn),ln=s(M,hn);Nt({scrollLeft:u(M,Ft,zt,tn.scrollLeft,hn,ln>M.width?fn:0),scrollTop:a(M,It,zt,tn.scrollTop,hn,Dn>M.height?fn:0)})},je=(It,Ft)=>{const{columnWidth:zt,direction:tn,rowHeight:fn}=M,hn=re.value(t&&zt,t&&fn,t&&tn),Dn=`${It},${Ft}`;if(mi(hn,Dn))return hn[Dn];{const[,ln]=n(M,Ft,A(W)),St=A(W),Pn=PN(tn),[rr,cr]=h(M,It,St),[sr]=n(M,Ft,St);return hn[Dn]={position:"absolute",left:Pn?void 0:`${ln}px`,right:Pn?`${ln}px`:void 0,top:`${cr}px`,height:`${rr}px`,width:`${sr}px`},hn[Dn]}},Ct=()=>{ae.value.isScrolling=!1,Fn(()=>{re.value(-1,null,null)})};br(()=>{if(!ri)return;const{initScrollLeft:It,initScrollTop:Ft}=M,zt=A(q);zt&&(Jn(It)&&(zt.scrollLeft=It),Jn(Ft)&&(zt.scrollTop=Ft)),xe()});const vt=()=>{const{direction:It}=M,{scrollLeft:Ft,scrollTop:zt,updateRequested:tn}=A(ae),fn=A(q);if(tn&&fn){if(It===jg)switch(ZS()){case Ix:{fn.scrollLeft=-Ft;break}case mR:{fn.scrollLeft=Ft;break}default:{const{clientWidth:hn,scrollWidth:Dn}=fn;fn.scrollLeft=Dn-hn-Ft;break}}else fn.scrollLeft=Math.max(0,Ft);fn.scrollTop=Math.max(0,zt)}},{resetAfterColumnIndex:Vt,resetAfterRowIndex:Re,resetAfter:pt}=U.proxy;k({windowRef:q,innerRef:ie,getItemStyleCache:re,scrollTo:Nt,scrollToItem:Dt,states:ae,resetAfterColumnIndex:Vt,resetAfterRowIndex:Re,resetAfter:pt});const Ne=()=>{const{scrollbarAlwaysOn:It,scrollbarStartGap:Ft,scrollbarEndGap:zt,totalColumn:tn,totalRow:fn}=M,hn=A(be),Dn=A(se),ln=A(Le),St=A(me),{scrollLeft:Pn,scrollTop:rr}=A(ae),cr=jn(OI,{ref:Q,alwaysOn:It,startGap:Ft,endGap:zt,class:B.e("horizontal"),clientSize:hn,layout:"horizontal",onScroll:Ye,ratio:hn*100/ln,scrollFrom:Pn/(ln-hn),total:fn,visible:!0}),sr=jn(OI,{ref:te,alwaysOn:It,startGap:Ft,endGap:zt,class:B.e("vertical"),clientSize:Dn,layout:"vertical",onScroll:Je,ratio:Dn*100/St,scrollFrom:rr/(St-Dn),total:tn,visible:!0});return{horizontalScrollbar:cr,verticalScrollbar:sr}},et=()=>{var It;const[Ft,zt]=A(Ie),[tn,fn]=A(Se),{data:hn,totalColumn:Dn,totalRow:ln,useIsScrolling:St,itemKey:Pn}=M,rr=[];if(ln>0&&Dn>0)for(let cr=tn;cr<=fn;cr++)for(let sr=Ft;sr<=zt;sr++){const Xr=Pn({columnIndex:sr,data:hn,rowIndex:cr});rr.push(jn(Nn,{key:Xr},(It=z.default)==null?void 0:It.call(z,{columnIndex:sr,data:hn,isScrolling:St?A(ae).isScrolling:void 0,style:je(cr,sr),rowIndex:cr})))}return rr},Ze=()=>{const It=kr(M.innerElement),Ft=et();return[jn(It,{style:A(_e),ref:ie},Qn(It)?Ft:{default:()=>Ft})]};return()=>{const It=kr(M.containerElement),{horizontalScrollbar:Ft,verticalScrollbar:zt}=Ne(),tn=Ze();return jn("div",{key:0,class:B.e("wrapper"),role:M.role},[jn(It,{class:M.className,style:A(Ee),onScroll:Be,ref:q},Qn(It)?tn:{default:()=>tn}),Ft,zt])}}}),XPe=xZ({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:n},r,i,o,s,u)=>{n=Number(n);const a=Math.max(0,e*t-n),h=Math.min(a,r*t),m=Math.max(0,r*t-n+u+t);switch(i==="smart"&&(o>=m-n&&o<=h+n?i=xu:i=Zc),i){case Ex:return h;case Ax:return m;case Zc:{const v=Math.round(m+(h-m)/2);return v<Math.ceil(n/2)?0:v>a+Math.floor(n/2)?a:v}case xu:default:return o>=m&&o<=h?o:m>h||o<m?m:h}},getRowOffset:({rowHeight:e,height:t,totalRow:n},r,i,o,s,u)=>{t=Number(t);const a=Math.max(0,n*e-t),h=Math.min(a,r*e),m=Math.max(0,r*e-t+u+e);switch(i===S8&&(o>=m-t&&o<=h+t?i=xu:i=Zc),i){case Ex:return h;case Ax:return m;case Zc:{const v=Math.round(m+(h-m)/2);return v<Math.ceil(t/2)?0:v>a+Math.floor(t/2)?a:v}case xu:default:return o>=m&&o<=h?o:m>h||o<m?m:h}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:n},r,i)=>{const o=r*e,s=Math.ceil((n+i-o)/e);return Math.max(0,Math.min(t-1,r+s-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:n},r,i)=>{const o=r*e,s=Math.ceil((n+i-o)/e);return Math.max(0,Math.min(t-1,r+s-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}}),{max:XS,min:wZ,floor:SZ}=Math,JPe={column:"columnWidth",row:"rowHeight"},zI={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},qd=(e,t,n,r)=>{const[i,o,s]=[n[r],e[JPe[r]],n[zI[r]]];if(t>s){let u=0;if(s>=0){const a=i[s];u=a.offset+a.size}for(let a=s+1;a<=t;a++){const h=o(a);i[a]={offset:u,size:h},u+=h}n[zI[r]]=t}return i[t]},CZ=(e,t,n,r,i,o)=>{for(;n<=r;){const s=n+SZ((r-n)/2),u=qd(e,s,t,o).offset;if(u===i)return s;u<i?n=s+1:r=s-1}return XS(0,n-1)},QPe=(e,t,n,r,i)=>{const o=i==="column"?e.totalColumn:e.totalRow;let s=1;for(;n<o&&qd(e,n,t,i).offset<r;)n+=s,s*=2;return CZ(e,t,SZ(n/2),wZ(n,o-1),r,i)},RN=(e,t,n,r)=>{const[i,o]=[t[r],t[zI[r]]];return(o>0?i[o].offset:0)>=n?CZ(e,t,0,o,n,r):QPe(e,t,XS(0,o),n,r)},TZ=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:n,row:r})=>{let i=0;if(n>=e&&(n=e-1),n>=0){const u=r[n];i=u.offset+u.size}const s=(e-n-1)*t;return i+s},MZ=({totalColumn:e},{column:t,estimatedColumnWidth:n,lastVisitedColumnIndex:r})=>{let i=0;if(r>e&&(r=e-1),r>=0){const u=t[r];i=u.offset+u.size}const s=(e-r-1)*n;return i+s},eLe={column:MZ,row:TZ},DN=(e,t,n,r,i,o,s)=>{const[u,a]=[o==="row"?e.height:e.width,eLe[o]],h=qd(e,t,i,o),m=a(e,i),v=XS(0,wZ(m-u,h.offset)),_=XS(0,h.offset-u+s+h.size);switch(n===S8&&(r>=_-u&&r<=v+u?n=xu:n=Zc),n){case Ex:return v;case Ax:return _;case Zc:return Math.round(_+(v-_)/2);case xu:default:return r>=_&&r<=v?r:_>v||r<_?_:v}},tLe=xZ({name:"ElDynamicSizeGrid",getColumnPosition:(e,t,n)=>{const r=qd(e,t,n,"column");return[r.size,r.offset]},getRowPosition:(e,t,n)=>{const r=qd(e,t,n,"row");return[r.size,r.offset]},getColumnOffset:(e,t,n,r,i,o)=>DN(e,t,n,r,i,"column",o),getRowOffset:(e,t,n,r,i,o)=>DN(e,t,n,r,i,"row",o),getColumnStartIndexForOffset:(e,t,n)=>RN(e,n,t,"column"),getColumnStopIndexForStartIndex:(e,t,n,r)=>{const i=qd(e,t,r,"column"),o=n+e.width;let s=i.offset+i.size,u=t;for(;u<e.totalColumn-1&&s<o;)u++,s+=qd(e,t,r,"column").size;return u},getEstimatedTotalHeight:TZ,getEstimatedTotalWidth:MZ,getRowStartIndexForOffset:(e,t,n)=>RN(e,n,t,"row"),getRowStopIndexForStartIndex:(e,t,n,r)=>{const{totalRow:i,height:o}=e,s=qd(e,t,r,"row"),u=n+o;let a=s.size+s.offset,h=t;for(;h<i-1&&a<u;)h++,a+=qd(e,h,r,"row").size;return h},injectToInstance:(e,t)=>{const n=({columnIndex:o,rowIndex:s},u)=>{var a,h;u=Oa(u)?!0:u,Jn(o)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,o-1)),Jn(s)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,s-1)),(a=e.exposed)==null||a.getItemStyleCache.value(-1,null,null),u&&((h=e.proxy)==null||h.$forceUpdate())},r=(o,s)=>{n({columnIndex:o},s)},i=(o,s)=>{n({rowIndex:o},s)};Object.assign(e.proxy,{resetAfterColumnIndex:r,resetAfterRowIndex:i,resetAfter:n})},initCache:({estimatedColumnWidth:e=II,estimatedRowHeight:t=II})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{}}),nLe=ge({props:{item:{type:Object,required:!0},style:{type:Object},height:Number},setup(){return{ns:en("select")}}});function rLe(e,t,n,r,i,o){return X(),pe("div",{class:ye(e.ns.be("group","title")),style:Vn({...e.style,lineHeight:`${e.height}px`})},pn(e.item.label),7)}var iLe=mn(nLe,[["render",rLe],["__file","group-item.vue"]]);function aLe(e,{emit:t}){return{hoverItem:()=>{e.disabled||t("hover",e.index)},selectOptionClick:()=>{e.disabled||t("select",e.item,e.index)}}}const EZ={label:"label",value:"value",disabled:"disabled",options:"options"};function C8(e){const t=le(()=>({...EZ,...e.props}));return{aliasProps:t,getLabel:s=>Ka(s,t.value.label),getValue:s=>Ka(s,t.value.value),getDisabled:s=>Ka(s,t.value.disabled),getOptions:s=>Ka(s,t.value.options)}}const oLe=un({allowCreate:Boolean,autocomplete:{type:dt(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:Vi,default:yh},effect:{type:dt(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:dt([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:dt(Array),required:!0},placeholder:{type:String},teleported:Ao.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:dt(Object),default:()=>({})},remote:Boolean,size:go,props:{type:dt(Object),default:()=>EZ},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},placement:{type:dt(String),values:bh,default:"bottom-start"},fallbackPlacements:{type:dt(Array),default:["bottom-start","top-start","right","left"]},tagType:{...g0.type,default:"info"},tagEffect:{...g0.effect,default:"light"},...O_,...Uo(["ariaLabel"])}),sLe=un({data:Array,disabled:Boolean,hovering:Boolean,item:{type:dt(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),lLe={[Tr]:e=>!0,[sa]:e=>!0,"remove-tag":e=>!0,"visible-change":e=>!0,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0},uLe={hover:e=>Jn(e),select:(e,t)=>!0},gR=Symbol("ElSelectV2Injection"),cLe=ge({props:sLe,emits:uLe,setup(e,{emit:t}){const n=An(gR),r=en("select"),{hoverItem:i,selectOptionClick:o}=aLe(e,{emit:t}),{getLabel:s}=C8(n.props);return{ns:r,hoverItem:i,selectOptionClick:o,getLabel:s}}});function dLe(e,t,n,r,i,o){return X(),pe("li",{"aria-selected":e.selected,style:Vn(e.style),class:ye([e.ns.be("dropdown","item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),e.ns.is("hovering",e.hovering)]),onMouseenter:e.hoverItem,onClick:er(e.selectOptionClick,["stop"])},[bt(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},()=>[ue("span",null,pn(e.getLabel(e.item)),1)])],46,["aria-selected","onMouseenter","onClick"])}var hLe=mn(cLe,[["render",dLe],["__file","option-item.vue"]]);const fLe={loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number};var pLe=ge({name:"ElSelectDropdown",props:fLe,setup(e,{slots:t,expose:n}){const r=An(gR),i=en("select"),{getLabel:o,getValue:s,getDisabled:u}=C8(r.props),a=Te([]),h=Te(),m=le(()=>e.data.length);Wt(()=>m.value,()=>{var re,se;(se=(re=r.tooltipRef.value).updatePopper)==null||se.call(re)});const v=le(()=>Oa(r.props.estimatedOptionHeight)),_=le(()=>v.value?{itemSize:r.props.itemHeight}:{estimatedSize:r.props.estimatedOptionHeight,itemSize:re=>a.value[re]}),b=(re=[],se)=>{const{props:{valueKey:be}}=r;return Ar(se)?re&&re.some(Ie=>Bi(Ka(Ie,be))===Ka(se,be)):re.includes(se)},T=(re,se)=>{if(Ar(se)){const{valueKey:be}=r.props;return Ka(re,be)===Ka(se,be)}else return re===se},M=(re,se)=>r.props.multiple?b(re,s(se)):T(re,s(se)),E=(re,se)=>{const{disabled:be,multiple:Ie,multipleLimit:Se}=r.props;return be||!se&&(Ie?Se>0&&re.length>=Se:!1)},k=re=>e.hoveringIndex===re;n({listRef:h,isSized:v,isItemDisabled:E,isItemHovering:k,isItemSelected:M,scrollToItem:re=>{const se=h.value;se&&se.scrollToItem(re)},resetScrollTop:()=>{const re=h.value;re&&re.resetScrollTop()}});const W=re=>{const{index:se,data:be,style:Ie}=re,Se=A(v),{itemSize:me,estimatedSize:Le}=A(_),{modelValue:Ee}=r.props,{onSelect:_e,onHover:xe}=r,Be=be[se];if(Be.type==="Group")return Fe(iLe,{item:Be,style:Ie,height:Se?me:Le},null);const Je=M(Ee,Be),Ye=E(Ee,Je),lt=k(se);return Fe(hLe,Lr(re,{selected:Je,disabled:u(Be)||Ye,created:!!Be.created,hovering:lt,item:Be,onSelect:_e,onHover:xe}),{default:Nt=>{var Dt;return((Dt=t.default)==null?void 0:Dt.call(t,Nt))||Fe("span",null,[o(Be)])}})},{onKeyboardNavigate:q,onKeyboardSelect:Q}=r,te=()=>{q("forward")},ie=()=>{q("backward")},ae=re=>{const{code:se}=re,{tab:be,esc:Ie,down:Se,up:me,enter:Le}=Kn;switch(se!==be&&(re.preventDefault(),re.stopPropagation()),se){case be:case Ie:break;case Se:{te();break}case me:{ie();break}case Le:{Q();break}}};return()=>{var re,se,be,Ie;const{data:Se,width:me}=e,{height:Le,multiple:Ee,scrollbarAlwaysOn:_e}=r.props,xe=A(v)?yZ:YPe;return Fe("div",{class:[i.b("dropdown"),i.is("multiple",Ee)],style:{width:`${me}px`}},[(re=t.header)==null?void 0:re.call(t),((se=t.loading)==null?void 0:se.call(t))||((be=t.empty)==null?void 0:be.call(t))||Fe(xe,Lr({ref:h},A(_),{className:i.be("dropdown","list"),scrollbarAlwaysOn:_e,data:Se,height:Le,width:me,total:Se.length,onKeydown:ae}),{default:Be=>Fe(W,Be,null)}),(Ie=t.footer)==null?void 0:Ie.call(t)])}}});function mLe(e,t){const{aliasProps:n,getLabel:r,getValue:i}=C8(e),o=Te(0),s=Te(),u=le(()=>e.allowCreate&&e.filterable);function a(b){const T=M=>r(M)===b;return e.options&&e.options.some(T)||t.createdOptions.some(T)}function h(b){u.value&&(e.multiple&&b.created?o.value++:s.value=b)}function m(b){if(u.value)if(b&&b.length>0){if(a(b))return;const T={[n.value.value]:b,[n.value.label]:b,created:!0,[n.value.disabled]:!1};t.createdOptions.length>=o.value?t.createdOptions[o.value]=T:t.createdOptions.push(T)}else if(e.multiple)t.createdOptions.length=o.value;else{const T=s.value;t.createdOptions.length=0,T&&T.created&&t.createdOptions.push(T)}}function v(b){if(!u.value||!b||!b.created||b.created&&e.reserveKeyword&&t.inputValue===r(b))return;const T=t.createdOptions.findIndex(M=>i(M)===i(b));~T&&(t.createdOptions.splice(T,1),o.value--)}function _(){u.value&&(t.createdOptions.length=0,o.value=0)}return{createNewOption:m,removeNewOption:v,selectNewOption:h,clearAllNewOption:_}}const vLe=11,gLe=(e,t)=>{const{t:n}=ii(),r=en("select"),i=en("input"),{form:o,formItem:s}=Cs(),{inputId:u}=xc(e,{formItemContext:s}),{aliasProps:a,getLabel:h,getValue:m,getDisabled:v,getOptions:_}=C8(e),{valueOnClear:b,isEmptyValue:T}=m8(e),M=Ci({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),E=Te(-1),k=Te(),z=Te(),B=Te(),U=Te(),W=Te(),q=Te(),Q=Te(),te=Te(),ie=Te(),ae=Te(),re=Te(),{isComposing:se,handleCompositionStart:be,handleCompositionEnd:Ie,handleCompositionUpdate:Se}=p8({afterComposition:an=>Rn(an)}),{wrapperRef:me,isFocused:Le,handleBlur:Ee}=vw(W,{beforeFocus(){return Je.value},afterFocus(){e.automaticDropdown&&!Be.value&&(Be.value=!0,M.menuVisibleOnFocus=!0)},beforeBlur(an){var Cn,Yn;return((Cn=B.value)==null?void 0:Cn.isFocusInsideContent(an))||((Yn=U.value)==null?void 0:Yn.isFocusInsideContent(an))},afterBlur(){Be.value=!1,M.menuVisibleOnFocus=!1}}),_e=Te([]),xe=Te([]),Be=Te(!1),Je=le(()=>e.disabled||(o==null?void 0:o.disabled)),Ye=le(()=>{const an=xe.value.length*e.itemHeight;return an>e.height?e.height:an}),lt=le(()=>e.multiple?Tn(e.modelValue)&&e.modelValue.length>0:!T(e.modelValue)),Nt=le(()=>e.clearable&&!Je.value&&M.inputHovering&&lt.value),Dt=le(()=>e.remote&&e.filterable?"":cd),je=le(()=>Dt.value&&r.is("reverse",Be.value)),Ct=le(()=>(s==null?void 0:s.validateState)||""),vt=le(()=>{if(Ct.value)return CL[Ct.value]}),Vt=le(()=>e.remote?300:0),Re=le(()=>e.loading?e.loadingText||n("el.select.loading"):e.remote&&!M.inputValue&&_e.value.length===0?!1:e.filterable&&M.inputValue&&_e.value.length>0&&xe.value.length===0?e.noMatchText||n("el.select.noMatch"):_e.value.length===0?e.noDataText||n("el.select.noData"):null),pt=an=>{const Cn=Yn=>{if(e.filterable&&tr(e.filterMethod)||e.filterable&&e.remote&&tr(e.remoteMethod))return!0;const xr=new RegExp(pL(an),"i");return an?xr.test(h(Yn)||""):!0};return e.loading?[]:[...M.createdOptions,...e.options].reduce((Yn,xr)=>{const Oi=_(xr);if(Tn(Oi)){const ia=Oi.filter(Cn);ia.length>0&&Yn.push({label:h(xr),type:"Group"},...ia)}else(e.remote||Cn(xr))&&Yn.push(xr);return Yn},[])},Ne=()=>{_e.value=pt(""),xe.value=pt(M.inputValue)},et=le(()=>{const an=new Map;return _e.value.forEach((Cn,Yn)=>{an.set(qr(m(Cn)),{option:Cn,index:Yn})}),an}),Ze=le(()=>{const an=new Map;return xe.value.forEach((Cn,Yn)=>{an.set(qr(m(Cn)),{option:Cn,index:Yn})}),an}),nn=le(()=>xe.value.every(an=>v(an))),It=lo(),Ft=le(()=>It.value==="small"?"small":"default"),zt=()=>{var an;E.value=((an=k.value)==null?void 0:an.offsetWidth)||200},tn=()=>{if(!z.value)return 0;const an=window.getComputedStyle(z.value);return Number.parseFloat(an.gap||"6px")},fn=le(()=>{const an=tn();return{maxWidth:`${re.value&&e.maxCollapseTags===1?M.selectionWidth-M.collapseItemWidth-an:M.selectionWidth}px`}}),hn=le(()=>({maxWidth:`${M.selectionWidth}px`})),Dn=le(()=>({width:`${Math.max(M.calculatorWidth,vLe)}px`})),ln=le(()=>Tn(e.modelValue)?e.modelValue.length===0&&!M.inputValue:e.filterable?!M.inputValue:!0),St=le(()=>{var an;const Cn=(an=e.placeholder)!=null?an:n("el.select.placeholder");return e.multiple||!lt.value?Cn:M.selectedLabel}),Pn=le(()=>{var an,Cn;return(Cn=(an=B.value)==null?void 0:an.popperRef)==null?void 0:Cn.contentRef}),rr=le(()=>{if(e.multiple){const an=e.modelValue.length;if(e.modelValue.length>0&&Ze.value.has(e.modelValue[an-1])){const{index:Cn}=Ze.value.get(e.modelValue[an-1]);return Cn}}else if(e.modelValue&&Ze.value.has(e.modelValue)){const{index:an}=Ze.value.get(e.modelValue);return an}return-1}),cr=le({get(){return Be.value&&Re.value!==!1},set(an){Be.value=an}}),sr=le(()=>e.multiple?e.collapseTags?M.cachedOptions.slice(0,e.maxCollapseTags):M.cachedOptions:[]),Xr=le(()=>e.multiple?e.collapseTags?M.cachedOptions.slice(e.maxCollapseTags):[]:[]),{createNewOption:wi,removeNewOption:Bt,selectNewOption:yn,clearAllNewOption:ht}=mLe(e,M),Zt=()=>{Je.value||(M.menuVisibleOnFocus?M.menuVisibleOnFocus=!1:Be.value=!Be.value)},Xt=()=>{M.inputValue.length>0&&!Be.value&&(Be.value=!0),wi(M.inputValue),Qr(M.inputValue)},qn=mo(Xt,Vt.value),Qr=an=>{M.previousQuery===an||se.value||(M.previousQuery=an,e.filterable&&tr(e.filterMethod)?e.filterMethod(an):e.filterable&&e.remote&&tr(e.remoteMethod)&&e.remoteMethod(an),e.defaultFirstOption&&(e.filterable||e.remote)&&xe.value.length?Fn(Mt):Fn(bn))},Mt=()=>{const an=xe.value.filter(xr=>!xr.disabled&&xr.type!=="Group"),Cn=an.find(xr=>xr.created),Yn=an[0];M.hoveringIndex=Nr(xe.value,Cn||Yn)},Gn=an=>{ys(e.modelValue,an)||t(sa,an)},Wr=an=>{t(Tr,an),Gn(an),M.previousValue=e.multiple?String(an):an},Nr=(an=[],Cn)=>{if(!Ar(Cn))return an.indexOf(Cn);const Yn=e.valueKey;let xr=-1;return an.some((Oi,ia)=>Ka(Oi,Yn)===Ka(Cn,Yn)?(xr=ia,!0):!1),xr},qr=an=>Ar(an)?Ka(an,e.valueKey):an,si=()=>{zt()},Ya=()=>{M.selectionWidth=z.value.getBoundingClientRect().width},Wl=()=>{M.calculatorWidth=q.value.getBoundingClientRect().width},qs=()=>{M.collapseItemWidth=re.value.getBoundingClientRect().width},Ht=()=>{var an,Cn;(Cn=(an=B.value)==null?void 0:an.updatePopper)==null||Cn.call(an)},Pe=()=>{var an,Cn;(Cn=(an=U.value)==null?void 0:an.updatePopper)==null||Cn.call(an)},Oe=an=>{if(e.multiple){let Cn=e.modelValue.slice();const Yn=Nr(Cn,m(an));Yn>-1?(Cn=[...Cn.slice(0,Yn),...Cn.slice(Yn+1)],M.cachedOptions.splice(Yn,1),Bt(an)):(e.multipleLimit<=0||Cn.length<e.multipleLimit)&&(Cn=[...Cn,m(an)],M.cachedOptions.push(an),yn(an)),Wr(Cn),an.created&&Qr(""),e.filterable&&!e.reserveKeyword&&(M.inputValue="")}else M.selectedLabel=h(an),Wr(m(an)),Be.value=!1,yn(an),an.created||ht();ut()},Xe=(an,Cn)=>{let Yn=e.modelValue.slice();const xr=Nr(Yn,m(Cn));xr>-1&&!Je.value&&(Yn=[...e.modelValue.slice(0,xr),...e.modelValue.slice(xr+1)],M.cachedOptions.splice(xr,1),Wr(Yn),t("remove-tag",m(Cn)),Bt(Cn)),an.stopPropagation(),ut()},ut=()=>{var an;(an=W.value)==null||an.focus()},ot=()=>{var an;if(Be.value){Be.value=!1,Fn(()=>{var Cn;return(Cn=W.value)==null?void 0:Cn.blur()});return}(an=W.value)==null||an.blur()},Tt=()=>{M.inputValue.length>0?M.inputValue="":Be.value=!1},Ut=an=>aq(an,Cn=>!M.cachedOptions.some(Yn=>m(Yn)===Cn&&v(Yn))),kt=an=>{if(e.multiple&&an.code!==Kn.delete&&M.inputValue.length===0){an.preventDefault();const Cn=e.modelValue.slice(),Yn=Ut(Cn);if(Yn<0)return;const xr=Cn[Yn];Cn.splice(Yn,1);const Oi=M.cachedOptions[Yn];M.cachedOptions.splice(Yn,1),Bt(Oi),Wr(Cn),t("remove-tag",xr)}},jt=()=>{let an;Tn(e.modelValue)?an=[]:an=b.value,e.multiple?M.cachedOptions=[]:M.selectedLabel="",Be.value=!1,Wr(an),t("clear"),ht(),ut()},rt=(an,Cn=void 0)=>{const Yn=xe.value;if(!["forward","backward"].includes(an)||Je.value||Yn.length<=0||nn.value||se.value)return;if(!Be.value)return Zt();Cn===void 0&&(Cn=M.hoveringIndex);let xr=-1;an==="forward"?(xr=Cn+1,xr>=Yn.length&&(xr=0)):an==="backward"&&(xr=Cn-1,(xr<0||xr>=Yn.length)&&(xr=Yn.length-1));const Oi=Yn[xr];if(v(Oi)||Oi.type==="Group")return rt(an,xr);M.hoveringIndex=xr,hr(xr)},_t=()=>{if(Be.value)~M.hoveringIndex&&xe.value[M.hoveringIndex]&&Oe(xe.value[M.hoveringIndex]);else return Zt()},rn=an=>{M.hoveringIndex=an??-1},bn=()=>{e.multiple?M.hoveringIndex=xe.value.findIndex(an=>e.modelValue.some(Cn=>qr(Cn)===qr(an))):M.hoveringIndex=xe.value.findIndex(an=>qr(an)===qr(e.modelValue))},Rn=an=>{if(M.inputValue=an.target.value,e.remote)qn();else return Xt()},mr=an=>{if(Be.value=!1,Le.value){const Cn=new FocusEvent("focus",an);Ee(Cn)}},gr=()=>(M.isBeforeHide=!1,Fn(()=>{~rr.value&&hr(M.hoveringIndex)})),hr=an=>{ie.value.scrollToItem(an)},dr=(an,Cn)=>{const Yn=qr(an);if(et.value.has(Yn)){const{option:xr}=et.value.get(Yn);return xr}if(Cn&&Cn.length){const xr=Cn.find(Oi=>qr(m(Oi))===Yn);if(xr)return xr}return{[a.value.value]:an,[a.value.label]:an}},li=()=>{if(e.multiple)if(e.modelValue.length>0){const an=M.cachedOptions.slice();M.cachedOptions.length=0,M.previousValue=e.modelValue.toString();for(const Cn of e.modelValue){const Yn=dr(Cn,an);M.cachedOptions.push(Yn)}}else M.cachedOptions=[],M.previousValue=void 0;else if(lt.value){M.previousValue=e.modelValue;const an=xe.value,Cn=an.findIndex(Yn=>qr(m(Yn))===qr(e.modelValue));~Cn?M.selectedLabel=h(an[Cn]):M.selectedLabel=qr(e.modelValue)}else M.selectedLabel="",M.previousValue=void 0;ht(),zt()};return Wt(Be,an=>{an?Qr(""):(M.inputValue="",M.previousQuery=null,M.isBeforeHide=!0,wi("")),t("visible-change",an)}),Wt(()=>e.modelValue,(an,Cn)=>{var Yn;(!an||e.multiple&&an.toString()!==M.previousValue||!e.multiple&&qr(an)!==qr(M.previousValue))&&li(),!ys(an,Cn)&&e.validateEvent&&((Yn=s==null?void 0:s.validate)==null||Yn.call(s,"change").catch(xr=>void 0))},{deep:!0}),Wt(()=>e.options,()=>{const an=W.value;(!an||an&&document.activeElement!==an)&&li()},{deep:!0,flush:"post"}),Wt(()=>xe.value,()=>ie.value&&Fn(ie.value.resetScrollTop)),ko(()=>{M.isBeforeHide||Ne()}),ko(()=>{const{valueKey:an,options:Cn}=e,Yn=new Map;for(const xr of Cn){const Oi=m(xr);let ia=Oi;if(Ar(ia)&&(ia=Ka(Oi,an)),Yn.get(ia))break;Yn.set(ia,!0)}}),br(()=>{li()}),ga(k,si),ga(z,Ya),ga(q,Wl),ga(ie,Ht),ga(me,Ht),ga(ae,Pe),ga(re,qs),{inputId:u,collapseTagSize:Ft,currentPlaceholder:St,expanded:Be,emptyText:Re,popupHeight:Ye,debounce:Vt,allOptions:_e,filteredOptions:xe,iconComponent:Dt,iconReverse:je,tagStyle:fn,collapseTagStyle:hn,inputStyle:Dn,popperSize:E,dropdownMenuVisible:cr,hasModelValue:lt,shouldShowPlaceholder:ln,selectDisabled:Je,selectSize:It,showClearBtn:Nt,states:M,isFocused:Le,nsSelect:r,nsInput:i,calculatorRef:q,inputRef:W,menuRef:ie,tagMenuRef:ae,tooltipRef:B,tagTooltipRef:U,selectRef:k,wrapperRef:me,selectionRef:z,prefixRef:Q,suffixRef:te,collapseItemRef:re,popperRef:Pn,validateState:Ct,validateIcon:vt,showTagList:sr,collapseTagList:Xr,debouncedOnInputChange:qn,deleteTag:Xe,getLabel:h,getValue:m,getDisabled:v,getValueKey:qr,handleClear:jt,handleClickOutside:mr,handleDel:kt,handleEsc:Tt,focus:ut,blur:ot,handleMenuEnter:gr,handleResize:si,resetSelectionWidth:Ya,resetCalculatorWidth:Wl,updateTooltip:Ht,updateTagTooltip:Pe,updateOptions:Ne,toggleMenu:Zt,scrollTo:hr,onInput:Rn,onKeyboardNavigate:rt,onKeyboardSelect:_t,onSelect:Oe,onHover:rn,handleCompositionStart:be,handleCompositionEnd:Ie,handleCompositionUpdate:Se}},_Le=ge({name:"ElSelectV2",components:{ElSelectMenu:pLe,ElTag:Cx,ElTooltip:ns,ElIcon:On},directives:{ClickOutside:dh},props:oLe,emits:lLe,setup(e,{emit:t}){const n=le(()=>{const{modelValue:o,multiple:s}=e,u=s?[]:void 0;return Tn(o)?s?o:u:s?u:o}),r=gLe(Ci({...Co(e),modelValue:n}),t);Rr(gR,{props:Ci({...Co(e),height:r.popupHeight,modelValue:n}),expanded:r.expanded,tooltipRef:r.tooltipRef,onSelect:r.onSelect,onHover:r.onHover,onKeyboardNavigate:r.onKeyboardNavigate,onKeyboardSelect:r.onKeyboardSelect});const i=le(()=>e.multiple?r.states.cachedOptions.map(o=>o.label):r.states.selectedLabel);return{...r,modelValue:n,selectedLabel:i}}});function yLe(e,t,n,r,i,o){const s=Zn("el-tag"),u=Zn("el-tooltip"),a=Zn("el-icon"),h=Zn("el-select-menu"),m=qC("click-outside");return yr((X(),pe("div",{ref:"selectRef",class:ye([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),onMouseenter:v=>e.states.inputHovering=!0,onMouseleave:v=>e.states.inputHovering=!1},[Fe(u,{ref:"tooltipRef",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,onBeforeShow:e.handleMenuEnter,onHide:v=>e.states.isBeforeHide=!1},{default:tt(()=>[ue("div",{ref:"wrapperRef",class:ye([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:er(e.toggleMenu,["prevent"])},[e.$slots.prefix?(X(),pe("div",{key:0,ref:"prefixRef",class:ye(e.nsSelect.e("prefix"))},[bt(e.$slots,"prefix")],2)):wt("v-if",!0),ue("div",{ref:"selectionRef",class:ye([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.modelValue.length)])},[e.multiple?bt(e.$slots,"tag",{key:0},()=>[(X(!0),pe(Nn,null,Ur(e.showTagList,v=>(X(),pe("div",{key:e.getValueKey(e.getValue(v)),class:ye(e.nsSelect.e("selected-item"))},[Fe(s,{closable:!e.selectDisabled&&!e.getDisabled(v),size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:Vn(e.tagStyle),onClose:_=>e.deleteTag(_,v)},{default:tt(()=>[ue("span",{class:ye(e.nsSelect.e("tags-text"))},[bt(e.$slots,"label",{label:e.getLabel(v),value:e.getValue(v)},()=>[Br(pn(e.getLabel(v)),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.modelValue.length>e.maxCollapseTags?(X(),Rt(u,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:tt(()=>[ue("div",{ref:"collapseItemRef",class:ye(e.nsSelect.e("selected-item"))},[Fe(s,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,style:Vn(e.collapseTagStyle),"disable-transitions":""},{default:tt(()=>[ue("span",{class:ye(e.nsSelect.e("tags-text"))}," + "+pn(e.modelValue.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:tt(()=>[ue("div",{ref:"tagMenuRef",class:ye(e.nsSelect.e("selection"))},[(X(!0),pe(Nn,null,Ur(e.collapseTagList,v=>(X(),pe("div",{key:e.getValueKey(e.getValue(v)),class:ye(e.nsSelect.e("selected-item"))},[Fe(s,{class:"in-tooltip",closable:!e.selectDisabled&&!e.getDisabled(v),size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:_=>e.deleteTag(_,v)},{default:tt(()=>[ue("span",{class:ye(e.nsSelect.e("tags-text"))},[bt(e.$slots,"label",{label:e.getLabel(v),value:e.getValue(v)},()=>[Br(pn(e.getLabel(v)),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):wt("v-if",!0)]):wt("v-if",!0),e.selectDisabled?wt("v-if",!0):(X(),pe("div",{key:1,class:ye([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable)])},[yr(ue("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":v=>e.states.inputValue=v,style:Vn(e.inputStyle),autocomplete:e.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-label":e.ariaLabel,class:ye([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,onInput:e.onInput,onCompositionstart:e.handleCompositionStart,onCompositionupdate:e.handleCompositionUpdate,onCompositionend:e.handleCompositionEnd,onKeydown:[Wi(er(v=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"]),Wi(er(v=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"]),Wi(er(e.onKeyboardSelect,["stop","prevent"]),["enter"]),Wi(er(e.handleEsc,["stop","prevent"]),["esc"]),Wi(er(e.handleDel,["stop"]),["delete"])],onClick:er(e.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","autocomplete","aria-expanded","aria-label","disabled","readonly","name","onInput","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown","onClick"]),[[WP,e.states.inputValue]]),e.filterable?(X(),pe("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:ye(e.nsSelect.e("input-calculator")),textContent:pn(e.states.inputValue)},null,10,["textContent"])):wt("v-if",!0)],2)),e.shouldShowPlaceholder?(X(),pe("div",{key:2,class:ye([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?bt(e.$slots,"label",{key:0,label:e.currentPlaceholder,value:e.modelValue},()=>[ue("span",null,pn(e.currentPlaceholder),1)]):(X(),pe("span",{key:1},pn(e.currentPlaceholder),1))],2)):wt("v-if",!0)],2),ue("div",{ref:"suffixRef",class:ye(e.nsSelect.e("suffix"))},[e.iconComponent?yr((X(),Rt(a,{key:0,class:ye([e.nsSelect.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:tt(()=>[(X(),Rt(kr(e.iconComponent)))]),_:1},8,["class"])),[[vi,!e.showClearBtn]]):wt("v-if",!0),e.showClearBtn&&e.clearIcon?(X(),Rt(a,{key:1,class:ye([e.nsSelect.e("caret"),e.nsInput.e("icon"),e.nsSelect.e("clear")]),onClick:er(e.handleClear,["prevent","stop"])},{default:tt(()=>[(X(),Rt(kr(e.clearIcon)))]),_:1},8,["class","onClick"])):wt("v-if",!0),e.validateState&&e.validateIcon?(X(),Rt(a,{key:2,class:ye([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:tt(()=>[(X(),Rt(kr(e.validateIcon)))]),_:1},8,["class"])):wt("v-if",!0)],2)],10,["onClick"])]),content:tt(()=>[Fe(h,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn},Mu({default:tt(v=>[bt(e.$slots,"default",ac(ap(v)))]),_:2},[e.$slots.header?{name:"header",fn:tt(()=>[ue("div",{class:ye(e.nsSelect.be("dropdown","header"))},[bt(e.$slots,"header")],2)])}:void 0,e.$slots.loading&&e.loading?{name:"loading",fn:tt(()=>[ue("div",{class:ye(e.nsSelect.be("dropdown","loading"))},[bt(e.$slots,"loading")],2)])}:e.loading||e.filteredOptions.length===0?{name:"empty",fn:tt(()=>[ue("div",{class:ye(e.nsSelect.be("dropdown","empty"))},[bt(e.$slots,"empty",{},()=>[ue("span",null,pn(e.emptyText),1)])],2)])}:void 0,e.$slots.footer?{name:"footer",fn:tt(()=>[ue("div",{class:ye(e.nsSelect.be("dropdown","footer"))},[bt(e.$slots,"footer")],2)])}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","fallback-placements","effect","placement","transition","persistent","onBeforeShow","onHide"])],42,["onMouseenter","onMouseleave"])),[[m,e.handleClickOutside,e.popperRef]])}var bLe=mn(_Le,[["render",yLe],["__file","select.vue"]]);const xLe=pr(bLe),wLe=un({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),SLe=un({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),CLe=ge({name:"ElSkeletonItem"}),TLe=ge({...CLe,props:SLe,setup(e){const t=en("skeleton");return(n,r)=>(X(),pe("div",{class:ye([A(t).e("item"),A(t).e(n.variant)])},[n.variant==="image"?(X(),Rt(A(bq),{key:0})):wt("v-if",!0)],2))}});var JS=mn(TLe,[["__file","skeleton-item.vue"]]);const MLe=ge({name:"ElSkeleton"}),ELe=ge({...MLe,props:wLe,setup(e,{expose:t}){const n=e,r=en("skeleton"),i=H4e(Li(n,"loading"),n.throttle);return t({uiLoading:i}),(o,s)=>A(i)?(X(),pe("div",Lr({key:0,class:[A(r).b(),A(r).is("animated",o.animated)]},o.$attrs),[(X(!0),pe(Nn,null,Ur(o.count,u=>(X(),pe(Nn,{key:u},[o.loading?bt(o.$slots,"template",{key:u},()=>[Fe(JS,{class:ye(A(r).is("first")),variant:"p"},null,8,["class"]),(X(!0),pe(Nn,null,Ur(o.rows,a=>(X(),Rt(JS,{key:a,class:ye([A(r).e("paragraph"),A(r).is("last",a===o.rows&&o.rows>1)]),variant:"p"},null,8,["class"]))),128))]):wt("v-if",!0)],64))),128))],16)):bt(o.$slots,"default",ac(Lr({key:1},o.$attrs)))}});var ALe=mn(ELe,[["__file","skeleton.vue"]]);const ILe=pr(ALe,{SkeletonItem:JS}),kLe=Ma(JS),AZ=Symbol("sliderContextKey"),PLe=un({modelValue:{type:dt([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:go,inputSize:go,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:dt(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:dt(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:bh,default:"top"},marks:{type:dt(Object)},validateEvent:{type:Boolean,default:!0},...Uo(["ariaLabel"])}),N5=e=>Jn(e)||Tn(e)&&e.every(Jn),LLe={[Tr]:N5,[Hs]:N5,[sa]:N5},RLe=(e,t,n)=>{const r=Te();return br(async()=>{e.range?(Array.isArray(e.modelValue)?(t.firstValue=Math.max(e.min,e.modelValue[0]),t.secondValue=Math.min(e.max,e.modelValue[1])):(t.firstValue=e.min,t.secondValue=e.max),t.oldValue=[t.firstValue,t.secondValue]):(typeof e.modelValue!="number"||Number.isNaN(e.modelValue)?t.firstValue=e.min:t.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),t.oldValue=t.firstValue),Fi(window,"resize",n),await Fn(),n()}),{sliderWrapper:r}},DLe=e=>le(()=>e.marks?Object.keys(e.marks).map(Number.parseFloat).sort((n,r)=>n-r).filter(n=>n<=e.max&&n>=e.min).map(n=>({point:n,position:(n-e.min)*100/(e.max-e.min),mark:e.marks[n]})):[]),OLe=(e,t,n)=>{const{form:r,formItem:i}=Cs(),o=Ji(),s=Te(),u=Te(),a={firstButton:s,secondButton:u},h=le(()=>e.disabled||(r==null?void 0:r.disabled)||!1),m=le(()=>Math.min(t.firstValue,t.secondValue)),v=le(()=>Math.max(t.firstValue,t.secondValue)),_=le(()=>e.range?`${100*(v.value-m.value)/(e.max-e.min)}%`:`${100*(t.firstValue-e.min)/(e.max-e.min)}%`),b=le(()=>e.range?`${100*(m.value-e.min)/(e.max-e.min)}%`:"0%"),T=le(()=>e.vertical?{height:e.height}:{}),M=le(()=>e.vertical?{height:_.value,bottom:b.value}:{width:_.value,left:b.value}),E=()=>{o.value&&(t.sliderSize=o.value[`client${e.vertical?"Height":"Width"}`])},k=se=>{const be=e.min+se*(e.max-e.min)/100;if(!e.range)return s;let Ie;return Math.abs(m.value-be)<Math.abs(v.value-be)?Ie=t.firstValue<t.secondValue?"firstButton":"secondButton":Ie=t.firstValue>t.secondValue?"firstButton":"secondButton",a[Ie]},z=se=>{const be=k(se);return be.value.setPosition(se),be},B=se=>{t.firstValue=se??e.min,W(e.range?[m.value,v.value]:se??e.min)},U=se=>{t.secondValue=se,e.range&&W([m.value,v.value])},W=se=>{n(Tr,se),n(Hs,se)},q=async()=>{await Fn(),n(sa,e.range?[m.value,v.value]:e.modelValue)},Q=se=>{var be,Ie,Se,me,Le,Ee;if(h.value||t.dragging)return;E();let _e=0;if(e.vertical){const xe=(Se=(Ie=(be=se.touches)==null?void 0:be.item(0))==null?void 0:Ie.clientY)!=null?Se:se.clientY;_e=(o.value.getBoundingClientRect().bottom-xe)/t.sliderSize*100}else{const xe=(Ee=(Le=(me=se.touches)==null?void 0:me.item(0))==null?void 0:Le.clientX)!=null?Ee:se.clientX,Be=o.value.getBoundingClientRect().left;_e=(xe-Be)/t.sliderSize*100}if(!(_e<0||_e>100))return z(_e)};return{elFormItem:i,slider:o,firstButton:s,secondButton:u,sliderDisabled:h,minValue:m,maxValue:v,runwayStyle:T,barStyle:M,resetSize:E,setPosition:z,emitChange:q,onSliderWrapperPrevent:se=>{var be,Ie;((be=a.firstButton.value)!=null&&be.dragging||(Ie=a.secondButton.value)!=null&&Ie.dragging)&&se.preventDefault()},onSliderClick:se=>{Q(se)&&q()},onSliderDown:async se=>{const be=Q(se);be&&(await Fn(),be.value.onButtonDown(se))},onSliderMarkerDown:se=>{h.value||t.dragging||z(se)},setFirstValue:B,setSecondValue:U}},{left:zLe,down:BLe,right:FLe,up:NLe,home:$Le,end:VLe,pageUp:HLe,pageDown:ULe}=Kn,jLe=(e,t,n)=>{const r=Te(),i=Te(!1),o=le(()=>t.value instanceof Function),s=le(()=>o.value&&t.value(e.modelValue)||e.modelValue),u=mo(()=>{n.value&&(i.value=!0)},50),a=mo(()=>{n.value&&(i.value=!1)},50);return{tooltip:r,tooltipVisible:i,formatValue:s,displayTooltip:u,hideTooltip:a}},GLe=(e,t,n)=>{const{disabled:r,min:i,max:o,step:s,showTooltip:u,precision:a,sliderSize:h,formatTooltip:m,emitChange:v,resetSize:_,updateDragging:b}=An(AZ),{tooltip:T,tooltipVisible:M,formatValue:E,displayTooltip:k,hideTooltip:z}=jLe(e,m,u),B=Te(),U=le(()=>`${(e.modelValue-i.value)/(o.value-i.value)*100}%`),W=le(()=>e.vertical?{bottom:U.value}:{left:U.value}),q=()=>{t.hovering=!0,k()},Q=()=>{t.hovering=!1,t.dragging||z()},te=Je=>{r.value||(Je.preventDefault(),Ee(Je),window.addEventListener("mousemove",_e),window.addEventListener("touchmove",_e),window.addEventListener("mouseup",xe),window.addEventListener("touchend",xe),window.addEventListener("contextmenu",xe),B.value.focus())},ie=Je=>{r.value||(t.newPosition=Number.parseFloat(U.value)+Je/(o.value-i.value)*100,Be(t.newPosition),v())},ae=()=>{ie(-s.value)},re=()=>{ie(s.value)},se=()=>{ie(-s.value*4)},be=()=>{ie(s.value*4)},Ie=()=>{r.value||(Be(0),v())},Se=()=>{r.value||(Be(100),v())},me=Je=>{let Ye=!0;[zLe,BLe].includes(Je.key)?ae():[FLe,NLe].includes(Je.key)?re():Je.key===$Le?Ie():Je.key===VLe?Se():Je.key===ULe?se():Je.key===HLe?be():Ye=!1,Ye&&Je.preventDefault()},Le=Je=>{let Ye,lt;return Je.type.startsWith("touch")?(lt=Je.touches[0].clientY,Ye=Je.touches[0].clientX):(lt=Je.clientY,Ye=Je.clientX),{clientX:Ye,clientY:lt}},Ee=Je=>{t.dragging=!0,t.isClick=!0;const{clientX:Ye,clientY:lt}=Le(Je);e.vertical?t.startY=lt:t.startX=Ye,t.startPosition=Number.parseFloat(U.value),t.newPosition=t.startPosition},_e=Je=>{if(t.dragging){t.isClick=!1,k(),_();let Ye;const{clientX:lt,clientY:Nt}=Le(Je);e.vertical?(t.currentY=Nt,Ye=(t.startY-t.currentY)/h.value*100):(t.currentX=lt,Ye=(t.currentX-t.startX)/h.value*100),t.newPosition=t.startPosition+Ye,Be(t.newPosition)}},xe=()=>{t.dragging&&(setTimeout(()=>{t.dragging=!1,t.hovering||z(),t.isClick||Be(t.newPosition),v()},0),window.removeEventListener("mousemove",_e),window.removeEventListener("touchmove",_e),window.removeEventListener("mouseup",xe),window.removeEventListener("touchend",xe),window.removeEventListener("contextmenu",xe))},Be=async Je=>{if(Je===null||Number.isNaN(+Je))return;Je<0?Je=0:Je>100&&(Je=100);const Ye=100/((o.value-i.value)/s.value);let Nt=Math.round(Je/Ye)*Ye*(o.value-i.value)*.01+i.value;Nt=Number.parseFloat(Nt.toFixed(a.value)),Nt!==e.modelValue&&n(Tr,Nt),!t.dragging&&e.modelValue!==t.oldValue&&(t.oldValue=e.modelValue),await Fn(),t.dragging&&k(),T.value.updatePopper()};return Wt(()=>t.dragging,Je=>{b(Je)}),Fi(B,"touchstart",te,{passive:!1}),{disabled:r,button:B,tooltip:T,tooltipVisible:M,showTooltip:u,wrapperStyle:W,formatValue:E,handleMouseEnter:q,handleMouseLeave:Q,onButtonDown:te,onKeyDown:me,setPosition:Be}},WLe=(e,t,n,r)=>({stops:le(()=>{if(!e.showStops||e.min>e.max)return[];if(e.step===0)return[];const s=(e.max-e.min)/e.step,u=100*e.step/(e.max-e.min),a=Array.from({length:s-1}).map((h,m)=>(m+1)*u);return e.range?a.filter(h=>h<100*(n.value-e.min)/(e.max-e.min)||h>100*(r.value-e.min)/(e.max-e.min)):a.filter(h=>h>100*(t.firstValue-e.min)/(e.max-e.min))}),getStopStyle:s=>e.vertical?{bottom:`${s}%`}:{left:`${s}%`}}),qLe=(e,t,n,r,i,o)=>{const s=h=>{i(Tr,h),i(Hs,h)},u=()=>e.range?![n.value,r.value].every((h,m)=>h===t.oldValue[m]):e.modelValue!==t.oldValue,a=()=>{var h,m;e.min>e.max&&vo("Slider","min should not be greater than max.");const v=e.modelValue;e.range&&Array.isArray(v)?v[1]<e.min?s([e.min,e.min]):v[0]>e.max?s([e.max,e.max]):v[0]<e.min?s([e.min,v[1]]):v[1]>e.max?s([v[0],e.max]):(t.firstValue=v[0],t.secondValue=v[1],u()&&(e.validateEvent&&((h=o==null?void 0:o.validate)==null||h.call(o,"change").catch(_=>void 0)),t.oldValue=v.slice())):!e.range&&typeof v=="number"&&!Number.isNaN(v)&&(v<e.min?s(e.min):v>e.max?s(e.max):(t.firstValue=v,u()&&(e.validateEvent&&((m=o==null?void 0:o.validate)==null||m.call(o,"change").catch(_=>void 0)),t.oldValue=v)))};a(),Wt(()=>t.dragging,h=>{h||a()}),Wt(()=>e.modelValue,(h,m)=>{t.dragging||Array.isArray(h)&&Array.isArray(m)&&h.every((v,_)=>v===m[_])&&t.firstValue===h[0]&&t.secondValue===h[1]||a()},{deep:!0}),Wt(()=>[e.min,e.max],()=>{a()})},KLe=un({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:bh,default:"top"}}),YLe={[Tr]:e=>Jn(e)},ZLe=ge({name:"ElSliderButton"}),XLe=ge({...ZLe,props:KLe,emits:YLe,setup(e,{expose:t,emit:n}){const r=e,i=en("slider"),o=Ci({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:r.modelValue}),{disabled:s,button:u,tooltip:a,showTooltip:h,tooltipVisible:m,wrapperStyle:v,formatValue:_,handleMouseEnter:b,handleMouseLeave:T,onButtonDown:M,onKeyDown:E,setPosition:k}=GLe(r,o,n),{hovering:z,dragging:B}=Co(o);return t({onButtonDown:M,onKeyDown:E,setPosition:k,hovering:z,dragging:B}),(U,W)=>(X(),pe("div",{ref_key:"button",ref:u,class:ye([A(i).e("button-wrapper"),{hover:A(z),dragging:A(B)}]),style:Vn(A(v)),tabindex:A(s)?-1:0,onMouseenter:A(b),onMouseleave:A(T),onMousedown:A(M),onFocus:A(b),onBlur:A(T),onKeydown:A(E)},[Fe(A(ns),{ref_key:"tooltip",ref:a,visible:A(m),placement:U.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":U.tooltipClass,disabled:!A(h),persistent:""},{content:tt(()=>[ue("span",null,pn(A(_)),1)]),default:tt(()=>[ue("div",{class:ye([A(i).e("button"),{hover:A(z),dragging:A(B)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,["tabindex","onMouseenter","onMouseleave","onMousedown","onFocus","onBlur","onKeydown"]))}});var ON=mn(XLe,[["__file","button.vue"]]);const JLe=un({mark:{type:dt([String,Object]),default:void 0}});var QLe=ge({name:"ElSliderMarker",props:JLe,setup(e){const t=en("slider"),n=le(()=>Qn(e.mark)?e.mark:e.mark.label),r=le(()=>Qn(e.mark)?void 0:e.mark.style);return()=>jn("div",{class:t.e("marks-text"),style:r.value},n.value)}});const eRe=ge({name:"ElSlider"}),tRe=ge({...eRe,props:PLe,emits:LLe,setup(e,{expose:t,emit:n}){const r=e,i=en("slider"),{t:o}=ii(),s=Ci({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:u,slider:a,firstButton:h,secondButton:m,sliderDisabled:v,minValue:_,maxValue:b,runwayStyle:T,barStyle:M,resetSize:E,emitChange:k,onSliderWrapperPrevent:z,onSliderClick:B,onSliderDown:U,onSliderMarkerDown:W,setFirstValue:q,setSecondValue:Q}=OLe(r,s,n),{stops:te,getStopStyle:ie}=WLe(r,s,_,b),{inputId:ae,isLabeledByFormItem:re}=xc(r,{formItemContext:u}),se=lo(),be=le(()=>r.inputSize||se.value),Ie=le(()=>r.ariaLabel||o("el.slider.defaultLabel",{min:r.min,max:r.max})),Se=le(()=>r.range?r.rangeStartLabel||o("el.slider.defaultRangeStartLabel"):Ie.value),me=le(()=>r.formatValueText?r.formatValueText(Ye.value):`${Ye.value}`),Le=le(()=>r.rangeEndLabel||o("el.slider.defaultRangeEndLabel")),Ee=le(()=>r.formatValueText?r.formatValueText(lt.value):`${lt.value}`),_e=le(()=>[i.b(),i.m(se.value),i.is("vertical",r.vertical),{[i.m("with-input")]:r.showInput}]),xe=DLe(r);qLe(r,s,_,b,n,u);const Be=le(()=>{const je=[r.min,r.max,r.step].map(Ct=>{const vt=`${Ct}`.split(".")[1];return vt?vt.length:0});return Math.max.apply(null,je)}),{sliderWrapper:Je}=RLe(r,s,E),{firstValue:Ye,secondValue:lt,sliderSize:Nt}=Co(s),Dt=je=>{s.dragging=je};return Fi(Je,"touchstart",z,{passive:!1}),Fi(Je,"touchmove",z,{passive:!1}),Rr(AZ,{...Co(r),sliderSize:Nt,disabled:v,precision:Be,emitChange:k,resetSize:E,updateDragging:Dt}),t({onSliderClick:B}),(je,Ct)=>{var vt,Vt;return X(),pe("div",{id:je.range?A(ae):void 0,ref_key:"sliderWrapper",ref:Je,class:ye(A(_e)),role:je.range?"group":void 0,"aria-label":je.range&&!A(re)?A(Ie):void 0,"aria-labelledby":je.range&&A(re)?(vt=A(u))==null?void 0:vt.labelId:void 0},[ue("div",{ref_key:"slider",ref:a,class:ye([A(i).e("runway"),{"show-input":je.showInput&&!je.range},A(i).is("disabled",A(v))]),style:Vn(A(T)),onMousedown:A(U),onTouchstartPassive:A(U)},[ue("div",{class:ye(A(i).e("bar")),style:Vn(A(M))},null,6),Fe(ON,{id:je.range?void 0:A(ae),ref_key:"firstButton",ref:h,"model-value":A(Ye),vertical:je.vertical,"tooltip-class":je.tooltipClass,placement:je.placement,role:"slider","aria-label":je.range||!A(re)?A(Se):void 0,"aria-labelledby":!je.range&&A(re)?(Vt=A(u))==null?void 0:Vt.labelId:void 0,"aria-valuemin":je.min,"aria-valuemax":je.range?A(lt):je.max,"aria-valuenow":A(Ye),"aria-valuetext":A(me),"aria-orientation":je.vertical?"vertical":"horizontal","aria-disabled":A(v),"onUpdate:modelValue":A(q)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),je.range?(X(),Rt(ON,{key:0,ref_key:"secondButton",ref:m,"model-value":A(lt),vertical:je.vertical,"tooltip-class":je.tooltipClass,placement:je.placement,role:"slider","aria-label":A(Le),"aria-valuemin":A(Ye),"aria-valuemax":je.max,"aria-valuenow":A(lt),"aria-valuetext":A(Ee),"aria-orientation":je.vertical?"vertical":"horizontal","aria-disabled":A(v),"onUpdate:modelValue":A(Q)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):wt("v-if",!0),je.showStops?(X(),pe("div",{key:1},[(X(!0),pe(Nn,null,Ur(A(te),(Re,pt)=>(X(),pe("div",{key:pt,class:ye(A(i).e("stop")),style:Vn(A(ie)(Re))},null,6))),128))])):wt("v-if",!0),A(xe).length>0?(X(),pe(Nn,{key:2},[ue("div",null,[(X(!0),pe(Nn,null,Ur(A(xe),(Re,pt)=>(X(),pe("div",{key:pt,style:Vn(A(ie)(Re.position)),class:ye([A(i).e("stop"),A(i).e("marks-stop")])},null,6))),128))]),ue("div",{class:ye(A(i).e("marks"))},[(X(!0),pe(Nn,null,Ur(A(xe),(Re,pt)=>(X(),Rt(A(QLe),{key:pt,mark:Re.mark,style:Vn(A(ie)(Re.position)),onMousedown:er(Ne=>A(W)(Re.position),["stop"])},null,8,["mark","style","onMousedown"]))),128))],2)],64)):wt("v-if",!0)],46,["onMousedown","onTouchstartPassive"]),je.showInput&&!je.range?(X(),Rt(A(eZ),{key:0,ref:"input","model-value":A(Ye),class:ye(A(i).e("input")),step:je.step,disabled:A(v),controls:je.showInputControls,min:je.min,max:je.max,precision:A(Be),debounce:je.debounce,size:A(be),"onUpdate:modelValue":A(q),onChange:A(k)},null,8,["model-value","class","step","disabled","controls","min","max","precision","debounce","size","onUpdate:modelValue","onChange"])):wt("v-if",!0)],10,["id","role","aria-label","aria-labelledby"])}}});var nRe=mn(tRe,[["__file","slider.vue"]]);const rRe=pr(nRe),iRe=un({prefixCls:{type:String}}),zN=ge({name:"ElSpaceItem",props:iRe,setup(e,{slots:t}){const n=en("space"),r=le(()=>`${e.prefixCls||n.b()}__item`);return()=>jn("div",{class:r.value},bt(t,"default"))}}),BN={small:8,default:12,large:16};function aRe(e){const t=en("space"),n=le(()=>[t.b(),t.m(e.direction),e.class]),r=Te(0),i=Te(0),o=le(()=>{const u=e.wrap||e.fill?{flexWrap:"wrap"}:{},a={alignItems:e.alignment},h={rowGap:`${i.value}px`,columnGap:`${r.value}px`};return[u,a,h,e.style]}),s=le(()=>e.fill?{flexGrow:1,minWidth:`${e.fillRatio}%`}:{});return ko(()=>{const{size:u="small",wrap:a,direction:h,fill:m}=e;if(Tn(u)){const[v=0,_=0]=u;r.value=v,i.value=_}else{let v;Jn(u)?v=u:v=BN[u||"small"]||BN.small,(a||m)&&h==="horizontal"?r.value=i.value=v:h==="horizontal"?(r.value=v,i.value=0):(i.value=v,r.value=0)}}),{classes:n,containerStyle:o,itemStyle:s}}const oRe=un({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:dt([String,Object,Array]),default:""},style:{type:dt([String,Array,Object]),default:""},alignment:{type:dt(String),default:"center"},prefixCls:{type:String},spacer:{type:dt([Object,String,Number,Array]),default:null,validator:e=>fa(e)||Jn(e)||Qn(e)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:dd,validator:e=>Jn(e)||Tn(e)&&e.length===2&&e.every(Jn)}}),sRe=ge({name:"ElSpace",props:oRe,setup(e,{slots:t}){const{classes:n,containerStyle:r,itemStyle:i}=aRe(e);function o(s,u="",a=[]){const{prefixCls:h}=e;return s.forEach((m,v)=>{YA(m)?Tn(m.children)&&m.children.forEach((_,b)=>{YA(_)&&Tn(_.children)?o(_.children,`${u+b}-`,a):a.push(Fe(zN,{style:i.value,prefixCls:h,key:`nested-${u+b}`},{default:()=>[_]},fu.PROPS|fu.STYLE,["style","prefixCls"]))}):Swe(m)&&a.push(Fe(zN,{style:i.value,prefixCls:h,key:`LoopKey${u+v}`},{default:()=>[m]},fu.PROPS|fu.STYLE,["style","prefixCls"]))}),a}return()=>{var s;const{spacer:u,direction:a}=e,h=bt(t,"default",{key:0},()=>[]);if(((s=h.children)!=null?s:[]).length===0)return null;if(Tn(h.children)){let m=o(h.children);if(u){const v=m.length-1;m=m.reduce((_,b,T)=>{const M=[..._,b];return T!==v&&M.push(Fe("span",{style:[i.value,a==="vertical"?"width: 100%":null],key:T},[fa(u)?u:Br(u,fu.TEXT)],fu.STYLE)),M},[])}return Fe("div",{class:n.value,style:r.value},m,fu.STYLE|fu.CLASS)}return h.children}}}),IZ=pr(sRe),lRe=un({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:dt([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:dt([String,Object,Array])}}),uRe=ge({name:"ElStatistic"}),cRe=ge({...uRe,props:lRe,setup(e,{expose:t}){const n=e,r=en("statistic"),i=le(()=>{const{value:o,formatter:s,precision:u,decimalSeparator:a,groupSeparator:h}=n;if(tr(s))return s(o);if(!Jn(o)||Number.isNaN(o))return o;let[m,v=""]=String(o).split(".");return v=v.padEnd(u,"0").slice(0,u>0?u:0),m=m.replace(/\B(?=(\d{3})+(?!\d))/g,h),[m,v].join(v?a:"")});return t({displayValue:i}),(o,s)=>(X(),pe("div",{class:ye(A(r).b())},[o.$slots.title||o.title?(X(),pe("div",{key:0,class:ye(A(r).e("head"))},[bt(o.$slots,"title",{},()=>[Br(pn(o.title),1)])],2)):wt("v-if",!0),ue("div",{class:ye(A(r).e("content"))},[o.$slots.prefix||o.prefix?(X(),pe("div",{key:0,class:ye(A(r).e("prefix"))},[bt(o.$slots,"prefix",{},()=>[ue("span",null,pn(o.prefix),1)])],2)):wt("v-if",!0),ue("span",{class:ye(A(r).e("number")),style:Vn(o.valueStyle)},pn(A(i)),7),o.$slots.suffix||o.suffix?(X(),pe("div",{key:1,class:ye(A(r).e("suffix"))},[bt(o.$slots,"suffix",{},()=>[ue("span",null,pn(o.suffix),1)])],2)):wt("v-if",!0)],2)],2))}});var dRe=mn(cRe,[["__file","statistic.vue"]]);const kZ=pr(dRe),hRe=un({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:dt([Number,Object]),default:0},valueStyle:{type:dt([String,Object,Array])}}),fRe={finish:()=>!0,[sa]:e=>Jn(e)},pRe=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],FN=e=>Jn(e)?new Date(e).getTime():e.valueOf(),NN=(e,t)=>{let n=e;const r=/\[([^\]]*)]/g;return pRe.reduce((o,[s,u])=>{const a=new RegExp(`${s}+(?![^\\[\\]]*\\])`,"g");if(a.test(o)){const h=Math.floor(n/u);return n-=h*u,o.replace(a,m=>String(h).padStart(m.length,"0"))}return o},t).replace(r,"$1")},mRe=ge({name:"ElCountdown"}),vRe=ge({...mRe,props:hRe,emits:fRe,setup(e,{expose:t,emit:n}){const r=e;let i;const o=Te(0),s=le(()=>NN(o.value,r.format)),u=m=>NN(m,r.format),a=()=>{i&&(p0(i),i=void 0)},h=()=>{const m=FN(r.value),v=()=>{let _=m-Date.now();n("change",_),_<=0?(_=0,a(),n("finish")):i=lp(v),o.value=_};i=lp(v)};return br(()=>{o.value=FN(r.value)-Date.now(),Wt(()=>[r.value,r.format],()=>{a(),h()},{immediate:!0})}),Di(()=>{a()}),t({displayValue:s}),(m,v)=>(X(),Rt(A(kZ),{value:o.value,title:m.title,prefix:m.prefix,suffix:m.suffix,"value-style":m.valueStyle,formatter:u},Mu({_:2},[Ur(m.$slots,(_,b)=>({name:b,fn:tt(()=>[bt(m.$slots,b)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var gRe=mn(vRe,[["__file","countdown.vue"]]);const _Re=pr(gRe),yRe=un({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),bRe={[sa]:(e,t)=>[e,t].every(Jn)},xRe=ge({name:"ElSteps"}),wRe=ge({...xRe,props:yRe,emits:bRe,setup(e,{emit:t}){const n=e,r=en("steps"),{children:i,addChild:o,removeChild:s}=jL(Mr(),"ElStep");return Wt(i,()=>{i.value.forEach((u,a)=>{u.setIndex(a)})}),Rr("ElSteps",{props:n,steps:i,addStep:o,removeStep:s}),Wt(()=>n.active,(u,a)=>{t(sa,u,a)}),(u,a)=>(X(),pe("div",{class:ye([A(r).b(),A(r).m(u.simple?"simple":u.direction)])},[bt(u.$slots,"default")],2))}});var SRe=mn(wRe,[["__file","steps.vue"]]);const CRe=un({title:{type:String,default:""},icon:{type:Vi},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),TRe=ge({name:"ElStep"}),MRe=ge({...TRe,props:CRe,setup(e){const t=e,n=en("step"),r=Te(-1),i=Te({}),o=Te(""),s=An("ElSteps"),u=Mr();br(()=>{Wt([()=>s.props.active,()=>s.props.processStatus,()=>s.props.finishStatus],([q])=>{U(q)},{immediate:!0})}),Di(()=>{s.removeStep(W.uid)});const a=le(()=>t.status||o.value),h=le(()=>{const q=s.steps.value[r.value-1];return q?q.currentStatus:"wait"}),m=le(()=>s.props.alignCenter),v=le(()=>s.props.direction==="vertical"),_=le(()=>s.props.simple),b=le(()=>s.steps.value.length),T=le(()=>{var q;return((q=s.steps.value[b.value-1])==null?void 0:q.uid)===(u==null?void 0:u.uid)}),M=le(()=>_.value?"":s.props.space),E=le(()=>[n.b(),n.is(_.value?"simple":s.props.direction),n.is("flex",T.value&&!M.value&&!m.value),n.is("center",m.value&&!v.value&&!_.value)]),k=le(()=>{const q={flexBasis:Jn(M.value)?`${M.value}px`:M.value?M.value:`${100/(b.value-(m.value?0:1))}%`};return v.value||T.value&&(q.maxWidth=`${100/b.value}%`),q}),z=q=>{r.value=q},B=q=>{const Q=q==="wait",te={transitionDelay:`${Q?"-":""}${150*r.value}ms`},ie=q===s.props.processStatus||Q?0:100;te.borderWidth=ie&&!_.value?"1px":0,te[s.props.direction==="vertical"?"height":"width"]=`${ie}%`,i.value=te},U=q=>{q>r.value?o.value=s.props.finishStatus:q===r.value&&h.value!=="error"?o.value=s.props.processStatus:o.value="wait";const Q=s.steps.value[r.value-1];Q&&Q.calcProgress(o.value)},W=Ci({uid:u.uid,currentStatus:a,setIndex:z,calcProgress:B});return s.addStep(W),(q,Q)=>(X(),pe("div",{style:Vn(A(k)),class:ye(A(E))},[wt(" icon & line "),ue("div",{class:ye([A(n).e("head"),A(n).is(A(a))])},[A(_)?wt("v-if",!0):(X(),pe("div",{key:0,class:ye(A(n).e("line"))},[ue("i",{class:ye(A(n).e("line-inner")),style:Vn(i.value)},null,6)],2)),ue("div",{class:ye([A(n).e("icon"),A(n).is(q.icon||q.$slots.icon?"icon":"text")])},[bt(q.$slots,"icon",{},()=>[q.icon?(X(),Rt(A(On),{key:0,class:ye(A(n).e("icon-inner"))},{default:tt(()=>[(X(),Rt(kr(q.icon)))]),_:1},8,["class"])):A(a)==="success"?(X(),Rt(A(On),{key:1,class:ye([A(n).e("icon-inner"),A(n).is("status")])},{default:tt(()=>[Fe(A(L_))]),_:1},8,["class"])):A(a)==="error"?(X(),Rt(A(On),{key:2,class:ye([A(n).e("icon-inner"),A(n).is("status")])},{default:tt(()=>[Fe(A(Au))]),_:1},8,["class"])):A(_)?wt("v-if",!0):(X(),pe("div",{key:3,class:ye(A(n).e("icon-inner"))},pn(r.value+1),3))])],2)],2),wt(" title & description "),ue("div",{class:ye(A(n).e("main"))},[ue("div",{class:ye([A(n).e("title"),A(n).is(A(a))])},[bt(q.$slots,"title",{},()=>[Br(pn(q.title),1)])],2),A(_)?(X(),pe("div",{key:0,class:ye(A(n).e("arrow"))},null,2)):(X(),pe("div",{key:1,class:ye([A(n).e("description"),A(n).is(A(a))])},[bt(q.$slots,"description",{},()=>[Br(pn(q.description),1)])],2))],2)],6))}});var PZ=mn(MRe,[["__file","item.vue"]]);const ERe=pr(SRe,{Step:PZ}),ARe=Ma(PZ),IRe=un({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:Rq},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:Vi},activeActionIcon:{type:Vi},activeIcon:{type:Vi},inactiveIcon:{type:Vi},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:dt(Function)},id:String,tabindex:{type:[String,Number]},...Uo(["ariaLabel"])}),kRe={[Tr]:e=>za(e)||Qn(e)||Jn(e),[sa]:e=>za(e)||Qn(e)||Jn(e),[Hs]:e=>za(e)||Qn(e)||Jn(e)},LZ="ElSwitch",PRe=ge({name:LZ}),LRe=ge({...PRe,props:IRe,emits:kRe,setup(e,{expose:t,emit:n}){const r=e,{formItem:i}=Cs(),o=lo(),s=en("switch"),{inputId:u}=xc(r,{formItemContext:i}),a=Ss(le(()=>r.loading)),h=Te(r.modelValue!==!1),m=Te(),v=Te(),_=le(()=>[s.b(),s.m(o.value),s.is("disabled",a.value),s.is("checked",k.value)]),b=le(()=>[s.e("label"),s.em("label","left"),s.is("active",!k.value)]),T=le(()=>[s.e("label"),s.em("label","right"),s.is("active",k.value)]),M=le(()=>({width:Ua(r.width)}));Wt(()=>r.modelValue,()=>{h.value=!0});const E=le(()=>h.value?r.modelValue:!1),k=le(()=>E.value===r.activeValue);[r.activeValue,r.inactiveValue].includes(E.value)||(n(Tr,r.inactiveValue),n(sa,r.inactiveValue),n(Hs,r.inactiveValue)),Wt(k,W=>{var q;m.value.checked=W,r.validateEvent&&((q=i==null?void 0:i.validate)==null||q.call(i,"change").catch(Q=>void 0))});const z=()=>{const W=k.value?r.inactiveValue:r.activeValue;n(Tr,W),n(sa,W),n(Hs,W),Fn(()=>{m.value.checked=k.value})},B=()=>{if(a.value)return;const{beforeChange:W}=r;if(!W){z();return}const q=W();[rx(q),za(q)].includes(!0)||vo(LZ,"beforeChange must return type `Promise<boolean>` or `boolean`"),rx(q)?q.then(te=>{te&&z()}).catch(te=>{}):q&&z()},U=()=>{var W,q;(q=(W=m.value)==null?void 0:W.focus)==null||q.call(W)};return br(()=>{m.value.checked=k.value}),t({focus:U,checked:k}),(W,q)=>(X(),pe("div",{class:ye(A(_)),onClick:er(B,["prevent"])},[ue("input",{id:A(u),ref_key:"input",ref:m,class:ye(A(s).e("input")),type:"checkbox",role:"switch","aria-checked":A(k),"aria-disabled":A(a),"aria-label":W.ariaLabel,name:W.name,"true-value":W.activeValue,"false-value":W.inactiveValue,disabled:A(a),tabindex:W.tabindex,onChange:z,onKeydown:Wi(B,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!W.inlinePrompt&&(W.inactiveIcon||W.inactiveText)?(X(),pe("span",{key:0,class:ye(A(b))},[W.inactiveIcon?(X(),Rt(A(On),{key:0},{default:tt(()=>[(X(),Rt(kr(W.inactiveIcon)))]),_:1})):wt("v-if",!0),!W.inactiveIcon&&W.inactiveText?(X(),pe("span",{key:1,"aria-hidden":A(k)},pn(W.inactiveText),9,["aria-hidden"])):wt("v-if",!0)],2)):wt("v-if",!0),ue("span",{ref_key:"core",ref:v,class:ye(A(s).e("core")),style:Vn(A(M))},[W.inlinePrompt?(X(),pe("div",{key:0,class:ye(A(s).e("inner"))},[W.activeIcon||W.inactiveIcon?(X(),Rt(A(On),{key:0,class:ye(A(s).is("icon"))},{default:tt(()=>[(X(),Rt(kr(A(k)?W.activeIcon:W.inactiveIcon)))]),_:1},8,["class"])):W.activeText||W.inactiveText?(X(),pe("span",{key:1,class:ye(A(s).is("text")),"aria-hidden":!A(k)},pn(A(k)?W.activeText:W.inactiveText),11,["aria-hidden"])):wt("v-if",!0)],2)):wt("v-if",!0),ue("div",{class:ye(A(s).e("action"))},[W.loading?(X(),Rt(A(On),{key:0,class:ye(A(s).is("loading"))},{default:tt(()=>[Fe(A(mc))]),_:1},8,["class"])):A(k)?bt(W.$slots,"active-action",{key:1},()=>[W.activeActionIcon?(X(),Rt(A(On),{key:0},{default:tt(()=>[(X(),Rt(kr(W.activeActionIcon)))]),_:1})):wt("v-if",!0)]):A(k)?wt("v-if",!0):bt(W.$slots,"inactive-action",{key:2},()=>[W.inactiveActionIcon?(X(),Rt(A(On),{key:0},{default:tt(()=>[(X(),Rt(kr(W.inactiveActionIcon)))]),_:1})):wt("v-if",!0)])],2)],6),!W.inlinePrompt&&(W.activeIcon||W.activeText)?(X(),pe("span",{key:1,class:ye(A(T))},[W.activeIcon?(X(),Rt(A(On),{key:0},{default:tt(()=>[(X(),Rt(kr(W.activeIcon)))]),_:1})):wt("v-if",!0),!W.activeIcon&&W.activeText?(X(),pe("span",{key:1,"aria-hidden":!A(k)},pn(W.activeText),9,["aria-hidden"])):wt("v-if",!0)],2)):wt("v-if",!0)],10,["onClick"]))}});var RRe=mn(LRe,[["__file","switch.vue"]]);const DRe=pr(RRe),$5=function(e){var t;return(t=e.target)==null?void 0:t.closest("td")},ORe=function(e,t,n,r,i){if(!t&&!r&&(!i||Array.isArray(i)&&!i.length))return e;typeof n=="string"?n=n==="descending"?-1:1:n=n&&n<0?-1:1;const o=r?null:function(u,a){return i?(Array.isArray(i)||(i=[i]),i.map(h=>typeof h=="string"?Ka(u,h):h(u,a,e))):(t!=="$key"&&Ar(u)&&"$value"in u&&(u=u.$value),[Ar(u)?Ka(u,t):u])},s=function(u,a){if(r)return r(u.value,a.value);for(let h=0,m=u.key.length;h<m;h++){if(u.key[h]<a.key[h])return-1;if(u.key[h]>a.key[h])return 1}return 0};return e.map((u,a)=>({value:u,index:a,key:o?o(u,a):null})).sort((u,a)=>{let h=s(u,a);return h||(h=u.index-a.index),h*+n}).map(u=>u.value)},RZ=function(e,t){let n=null;return e.columns.forEach(r=>{r.id===t&&(n=r)}),n},zRe=function(e,t){let n=null;for(let r=0;r<e.columns.length;r++){const i=e.columns[r];if(i.columnKey===t){n=i;break}}return n||vo("ElTable",`No column matching with column-key: ${t}`),n},$N=function(e,t,n){const r=(t.className||"").match(new RegExp(`${n}-table_[^\\s]+`,"gm"));return r?RZ(e,r[0]):null},gs=(e,t)=>{if(!e)throw new Error("Row is required when get row identity");if(typeof t=="string"){if(!t.includes("."))return`${e[t]}`;const n=t.split(".");let r=e;for(const i of n)r=r[i];return`${r}`}else if(typeof t=="function")return t.call(null,e)},qm=function(e,t){const n={};return(e||[]).forEach((r,i)=>{n[gs(r,t)]={row:r,index:i}}),n};function BRe(e,t){const n={};let r;for(r in e)n[r]=e[r];for(r in t)if(mi(t,r)){const i=t[r];typeof i<"u"&&(n[r]=i)}return n}function _R(e){return e===""||e!==void 0&&(e=Number.parseInt(e,10),Number.isNaN(e)&&(e="")),e}function DZ(e){return e===""||e!==void 0&&(e=_R(e),Number.isNaN(e)&&(e=80)),e}function FRe(e){return typeof e=="number"?e:typeof e=="string"?/^\d+(?:px)?$/.test(e)?Number.parseInt(e,10):e:null}function NRe(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function QS(e,t,n,r,i,o){let s=o??0,u=!1;const a=e.indexOf(t),h=a!==-1,m=i==null?void 0:i.call(null,t,o),v=b=>{b==="add"?e.push(t):e.splice(a,1),u=!0},_=b=>{let T=0;const M=(r==null?void 0:r.children)&&b[r.children];return M&&Tn(M)&&(T+=M.length,M.forEach(E=>{T+=_(E)})),T};return(!i||m)&&(za(n)?n&&!h?v("add"):!n&&h&&v("remove"):v(h?"remove":"add")),!(r!=null&&r.checkStrictly)&&(r!=null&&r.children)&&Tn(t[r.children])&&t[r.children].forEach(b=>{QS(e,b,n??!h,r,i,s+1),s+=_(b)+1}),u}function $Re(e,t,n="children",r="hasChildren"){const i=s=>!(Array.isArray(s)&&s.length);function o(s,u,a){t(s,u,a),u.forEach(h=>{if(h[r]){t(h,null,a+1);return}const m=h[n];i(m)||o(h,m,a+1)})}e.forEach(s=>{if(s[r]){t(s,null,0);return}const u=s[n];i(u)||o(s,u,0)})}let lu=null;function VRe(e,t,n,r){if((lu==null?void 0:lu.trigger)===n)return;lu==null||lu();const i=r==null?void 0:r.refs.tableWrapper,o=i==null?void 0:i.dataset.prefix,s={strategy:"fixed",...e.popperOptions},u=Fe(ns,{content:t,virtualTriggering:!0,virtualRef:n,appendTo:i,placement:"top",transition:"none",offset:0,hideAfter:0,...e,popperOptions:s,onHide:()=>{lu==null||lu()}});u.appContext={...r.appContext,...r};const a=document.createElement("div");op(u,a),u.component.exposed.onOpen();const h=i==null?void 0:i.querySelector(`.${o}-scrollbar__wrap`);lu=()=>{op(null,a),h==null||h.removeEventListener("scroll",lu),lu=null},lu.trigger=n,h==null||h.addEventListener("scroll",lu)}function OZ(e){return e.children?Gpe(e.children,OZ):[e]}function VN(e,t){return e+t.colSpan}const zZ=(e,t,n,r)=>{let i=0,o=e;const s=n.states.columns.value;if(r){const a=OZ(r[e]);i=s.slice(0,s.indexOf(a[0])).reduce(VN,0),o=i+a.reduce(VN,0)-1}else i=e;let u;switch(t){case"left":o<n.states.fixedLeafColumnsLength.value&&(u="left");break;case"right":i>=s.length-n.states.rightFixedLeafColumnsLength.value&&(u="right");break;default:o<n.states.fixedLeafColumnsLength.value?u="left":i>=s.length-n.states.rightFixedLeafColumnsLength.value&&(u="right")}return u?{direction:u,start:i,after:o}:{}},yR=(e,t,n,r,i,o=0)=>{const s=[],{direction:u,start:a,after:h}=zZ(t,n,r,i);if(u){const m=u==="left";s.push(`${e}-fixed-column--${u}`),m&&h+o===r.states.fixedLeafColumnsLength.value-1?s.push("is-last-column"):!m&&a-o===r.states.columns.value.length-r.states.rightFixedLeafColumnsLength.value&&s.push("is-first-column")}return s};function HN(e,t){return e+(t.realWidth===null||Number.isNaN(t.realWidth)?Number(t.width):t.realWidth)}const bR=(e,t,n,r)=>{const{direction:i,start:o=0,after:s=0}=zZ(e,t,n,r);if(!i)return;const u={},a=i==="left",h=n.states.columns.value;return a?u.left=h.slice(0,o).reduce(HN,0):u.right=h.slice(s+1).reverse().reduce(HN,0),u},g_=(e,t)=>{e&&(Number.isNaN(e[t])||(e[t]=`${e[t]}px`))};function HRe(e){const t=Mr(),n=Te(!1),r=Te([]);return{updateExpandRows:()=>{const a=e.data.value||[],h=e.rowKey.value;if(n.value)r.value=a.slice();else if(h){const m=qm(r.value,h);r.value=a.reduce((v,_)=>{const b=gs(_,h);return m[b]&&v.push(_),v},[])}else r.value=[]},toggleRowExpansion:(a,h)=>{QS(r.value,a,h)&&t.emit("expand-change",a,r.value.slice())},setExpandRowKeys:a=>{t.store.assertRowKey();const h=e.data.value||[],m=e.rowKey.value,v=qm(h,m);r.value=a.reduce((_,b)=>{const T=v[b];return T&&_.push(T.row),_},[])},isRowExpanded:a=>{const h=e.rowKey.value;return h?!!qm(r.value,h)[gs(a,h)]:r.value.includes(a)},states:{expandRows:r,defaultExpandAll:n}}}function URe(e){const t=Mr(),n=Te(null),r=Te(null),i=h=>{t.store.assertRowKey(),n.value=h,s(h)},o=()=>{n.value=null},s=h=>{const{data:m,rowKey:v}=e;let _=null;v.value&&(_=(A(m)||[]).find(b=>gs(b,v.value)===h)),r.value=_,t.emit("current-change",r.value,null)};return{setCurrentRowKey:i,restoreCurrentRowKey:o,setCurrentRowByKey:s,updateCurrentRow:h=>{const m=r.value;if(h&&h!==m){r.value=h,t.emit("current-change",r.value,m);return}!h&&m&&(r.value=null,t.emit("current-change",null,m))},updateCurrentRowData:()=>{const h=e.rowKey.value,m=e.data.value||[],v=r.value;if(!m.includes(v)&&v){if(h){const _=gs(v,h);s(_)}else r.value=null;r.value===null&&t.emit("current-change",null,v)}else n.value&&(s(n.value),o())},states:{_currentRowKey:n,currentRow:r}}}function jRe(e){const t=Te([]),n=Te({}),r=Te(16),i=Te(!1),o=Te({}),s=Te("hasChildren"),u=Te("children"),a=Te(!1),h=Mr(),m=le(()=>{if(!e.rowKey.value)return{};const B=e.data.value||[];return _(B)}),v=le(()=>{const B=e.rowKey.value,U=Object.keys(o.value),W={};return U.length&&U.forEach(q=>{if(o.value[q].length){const Q={children:[]};o.value[q].forEach(te=>{const ie=gs(te,B);Q.children.push(ie),te[s.value]&&!W[ie]&&(W[ie]={children:[]})}),W[q]=Q}}),W}),_=B=>{const U=e.rowKey.value,W={};return $Re(B,(q,Q,te)=>{const ie=gs(q,U);Array.isArray(Q)?W[ie]={children:Q.map(ae=>gs(ae,U)),level:te}:i.value&&(W[ie]={children:[],lazy:!0,level:te})},u.value,s.value),W},b=(B=!1,U=(W=>(W=h.store)==null?void 0:W.states.defaultExpandAll.value)())=>{var W;const q=m.value,Q=v.value,te=Object.keys(q),ie={};if(te.length){const ae=A(n),re=[],se=(Ie,Se)=>{if(B)return t.value?U||t.value.includes(Se):!!(U||Ie!=null&&Ie.expanded);{const me=U||t.value&&t.value.includes(Se);return!!(Ie!=null&&Ie.expanded||me)}};te.forEach(Ie=>{const Se=ae[Ie],me={...q[Ie]};if(me.expanded=se(Se,Ie),me.lazy){const{loaded:Le=!1,loading:Ee=!1}=Se||{};me.loaded=!!Le,me.loading=!!Ee,re.push(Ie)}ie[Ie]=me});const be=Object.keys(Q);i.value&&be.length&&re.length&&be.forEach(Ie=>{const Se=ae[Ie],me=Q[Ie].children;if(re.includes(Ie)){if(ie[Ie].children.length!==0)throw new Error("[ElTable]children must be an empty array.");ie[Ie].children=me}else{const{loaded:Le=!1,loading:Ee=!1}=Se||{};ie[Ie]={lazy:!0,loaded:!!Le,loading:!!Ee,expanded:se(Se,Ie),children:me,level:""}}})}n.value=ie,(W=h.store)==null||W.updateTableScrollY()};Wt(()=>t.value,()=>{b(!0)}),Wt(()=>m.value,()=>{b()}),Wt(()=>v.value,()=>{b()});const T=B=>{t.value=B,b()},M=(B,U)=>{h.store.assertRowKey();const W=e.rowKey.value,q=gs(B,W),Q=q&&n.value[q];if(q&&Q&&"expanded"in Q){const te=Q.expanded;U=typeof U>"u"?!Q.expanded:U,n.value[q].expanded=U,te!==U&&h.emit("expand-change",B,U),h.store.updateTableScrollY()}},E=B=>{h.store.assertRowKey();const U=e.rowKey.value,W=gs(B,U),q=n.value[W];i.value&&q&&"loaded"in q&&!q.loaded?k(B,W,q):M(B,void 0)},k=(B,U,W)=>{const{load:q}=h.props;q&&!n.value[U].loaded&&(n.value[U].loading=!0,q(B,W,Q=>{if(!Array.isArray(Q))throw new TypeError("[ElTable] data must be an array");n.value[U].loading=!1,n.value[U].loaded=!0,n.value[U].expanded=!0,Q.length&&(o.value[U]=Q),h.emit("expand-change",B,!0)}))};return{loadData:k,loadOrToggle:E,toggleTreeExpansion:M,updateTreeExpandKeys:T,updateTreeData:b,updateKeyChildren:(B,U)=>{const{lazy:W,rowKey:q}=h.props;if(W){if(!q)throw new Error("[Table] rowKey is required in updateKeyChild");o.value[B]&&(o.value[B]=U)}},normalize:_,states:{expandRowKeys:t,treeData:n,indent:r,lazy:i,lazyTreeNodeMap:o,lazyColumnIdentifier:s,childrenColumnName:u,checkStrictly:a}}}const GRe=(e,t)=>{const n=t.sortingColumn;return!n||typeof n.sortable=="string"?e:ORe(e,t.sortProp,t.sortOrder,n.sortMethod,n.sortBy)},W3=e=>{const t=[];return e.forEach(n=>{n.children&&n.children.length>0?t.push.apply(t,W3(n.children)):t.push(n)}),t};function WRe(){var e;const t=Mr(),{size:n}=Co((e=t.proxy)==null?void 0:e.$props),r=Te(null),i=Te([]),o=Te([]),s=Te(!1),u=Te([]),a=Te([]),h=Te([]),m=Te([]),v=Te([]),_=Te([]),b=Te([]),T=Te([]),M=[],E=Te(0),k=Te(0),z=Te(0),B=Te(!1),U=Te([]),W=Te(!1),q=Te(!1),Q=Te(null),te=Te({}),ie=Te(null),ae=Te(null),re=Te(null),se=Te(null),be=Te(null);Wt(i,()=>t.state&&Ee(!1),{deep:!0});const Ie=()=>{if(!r.value)throw new Error("[ElTable] prop row-key is required")},Se=Bt=>{var yn;(yn=Bt.children)==null||yn.forEach(ht=>{ht.fixed=Bt.fixed,Se(ht)})};let me;const Le=()=>{u.value.forEach(Xt=>{Se(Xt)}),m.value=u.value.filter(Xt=>Xt.fixed===!0||Xt.fixed==="left"),v.value=u.value.filter(Xt=>Xt.fixed==="right"),Oa(me)&&u.value[0]&&u.value[0].type==="selection"&&(me=!!u.value[0].fixed),m.value.length>0&&u.value[0]&&u.value[0].type==="selection"&&(u.value[0].fixed?m.value.some(qn=>qn.type!=="selection")?me=void 0:(u.value[0].fixed=me,me||m.value.shift()):(u.value[0].fixed=!0,m.value.unshift(u.value[0])));const Bt=u.value.filter(Xt=>!Xt.fixed);a.value=[].concat(m.value).concat(Bt).concat(v.value);const yn=W3(Bt),ht=W3(m.value),Zt=W3(v.value);E.value=yn.length,k.value=ht.length,z.value=Zt.length,h.value=[].concat(ht).concat(yn).concat(Zt),s.value=m.value.length>0||v.value.length>0},Ee=(Bt,yn=!1)=>{Bt&&Le(),yn?t.state.doLayout():t.state.debouncedUpdateLayout()},_e=Bt=>U.value.some(yn=>ys(yn,Bt)),xe=()=>{B.value=!1;const Bt=U.value;U.value=[],Bt.length&&t.emit("selection-change",[])},Be=()=>{let Bt;if(r.value){Bt=[];const yn=qm(U.value,r.value),ht=qm(i.value,r.value);for(const Zt in yn)mi(yn,Zt)&&!ht[Zt]&&Bt.push(yn[Zt].row)}else Bt=U.value.filter(yn=>!i.value.includes(yn));if(Bt.length){const yn=U.value.filter(ht=>!Bt.includes(ht));U.value=yn,t.emit("selection-change",yn.slice())}},Je=()=>(U.value||[]).slice(),Ye=(Bt,yn,ht=!0,Zt=!1)=>{var Xt,qn,Qr,Mt;const Gn={children:(qn=(Xt=t==null?void 0:t.store)==null?void 0:Xt.states)==null?void 0:qn.childrenColumnName.value,checkStrictly:(Mt=(Qr=t==null?void 0:t.store)==null?void 0:Qr.states)==null?void 0:Mt.checkStrictly.value};if(QS(U.value,Bt,yn,Gn,Zt?void 0:Q.value)){const Nr=(U.value||[]).slice();ht&&t.emit("select",Nr,Bt),t.emit("selection-change",Nr)}},lt=()=>{var Bt,yn;const ht=q.value?!B.value:!(B.value||U.value.length);B.value=ht;let Zt=!1,Xt=0;const qn=(yn=(Bt=t==null?void 0:t.store)==null?void 0:Bt.states)==null?void 0:yn.rowKey.value,{childrenColumnName:Qr}=t.store.states,Mt={children:Qr.value,checkStrictly:!1};i.value.forEach((Gn,Wr)=>{const Nr=Wr+Xt;QS(U.value,Gn,ht,Mt,Q.value,Nr)&&(Zt=!0),Xt+=je(gs(Gn,qn))}),Zt&&t.emit("selection-change",U.value?U.value.slice():[]),t.emit("select-all",(U.value||[]).slice())},Nt=()=>{const Bt=qm(U.value,r.value);i.value.forEach(yn=>{const ht=gs(yn,r.value),Zt=Bt[ht];Zt&&(U.value[Zt.index]=yn)})},Dt=()=>{var Bt;if(((Bt=i.value)==null?void 0:Bt.length)===0){B.value=!1;return}const{childrenColumnName:yn}=t.store.states,ht=r.value?qm(U.value,r.value):void 0;let Zt=0,Xt=0;const qn=Gn=>ht?!!ht[gs(Gn,r.value)]:U.value.includes(Gn),Qr=Gn=>{var Wr;for(const Nr of Gn){const qr=Q.value&&Q.value.call(null,Nr,Zt);if(qn(Nr))Xt++;else if(!Q.value||qr)return!1;if(Zt++,(Wr=Nr[yn.value])!=null&&Wr.length&&!Qr(Nr[yn.value]))return!1}return!0},Mt=Qr(i.value||[]);B.value=Xt===0?!1:Mt},je=Bt=>{var yn;if(!t||!t.store)return 0;const{treeData:ht}=t.store.states;let Zt=0;const Xt=(yn=ht.value[Bt])==null?void 0:yn.children;return Xt&&(Zt+=Xt.length,Xt.forEach(qn=>{Zt+=je(qn)})),Zt},Ct=(Bt,yn)=>{Array.isArray(Bt)||(Bt=[Bt]);const ht={};return Bt.forEach(Zt=>{te.value[Zt.id]=yn,ht[Zt.columnKey||Zt.id]=yn}),ht},vt=(Bt,yn,ht)=>{ae.value&&ae.value!==Bt&&(ae.value.order=null),ae.value=Bt,re.value=yn,se.value=ht},Vt=()=>{let Bt=A(o);Object.keys(te.value).forEach(yn=>{const ht=te.value[yn];if(!ht||ht.length===0)return;const Zt=RZ({columns:h.value},yn);Zt&&Zt.filterMethod&&(Bt=Bt.filter(Xt=>ht.some(qn=>Zt.filterMethod.call(null,qn,Xt,Zt))))}),ie.value=Bt},Re=()=>{i.value=GRe(ie.value,{sortingColumn:ae.value,sortProp:re.value,sortOrder:se.value})},pt=(Bt=void 0)=>{Bt&&Bt.filter||Vt(),Re()},Ne=Bt=>{const{tableHeaderRef:yn}=t.refs;if(!yn)return;const ht=Object.assign({},yn.filterPanels),Zt=Object.keys(ht);if(Zt.length)if(typeof Bt=="string"&&(Bt=[Bt]),Array.isArray(Bt)){const Xt=Bt.map(qn=>zRe({columns:h.value},qn));Zt.forEach(qn=>{const Qr=Xt.find(Mt=>Mt.id===qn);Qr&&(Qr.filteredValue=[])}),t.store.commit("filterChange",{column:Xt,values:[],silent:!0,multi:!0})}else Zt.forEach(Xt=>{const qn=h.value.find(Qr=>Qr.id===Xt);qn&&(qn.filteredValue=[])}),te.value={},t.store.commit("filterChange",{column:{},values:[],silent:!0})},et=()=>{ae.value&&(vt(null,null,null),t.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:Ze,toggleRowExpansion:nn,updateExpandRows:It,states:Ft,isRowExpanded:zt}=HRe({data:i,rowKey:r}),{updateTreeExpandKeys:tn,toggleTreeExpansion:fn,updateTreeData:hn,updateKeyChildren:Dn,loadOrToggle:ln,states:St}=jRe({data:i,rowKey:r}),{updateCurrentRowData:Pn,updateCurrentRow:rr,setCurrentRowKey:cr,states:sr}=URe({data:i,rowKey:r});return{assertRowKey:Ie,updateColumns:Le,scheduleLayout:Ee,isSelected:_e,clearSelection:xe,cleanSelection:Be,getSelectionRows:Je,toggleRowSelection:Ye,_toggleAllSelection:lt,toggleAllSelection:null,updateSelectionByRowKey:Nt,updateAllSelected:Dt,updateFilters:Ct,updateCurrentRow:rr,updateSort:vt,execFilter:Vt,execSort:Re,execQuery:pt,clearFilter:Ne,clearSort:et,toggleRowExpansion:nn,setExpandRowKeysAdapter:Bt=>{Ze(Bt),tn(Bt)},setCurrentRowKey:cr,toggleRowExpansionAdapter:(Bt,yn)=>{h.value.some(({type:Zt})=>Zt==="expand")?nn(Bt,yn):fn(Bt,yn)},isRowExpanded:zt,updateExpandRows:It,updateCurrentRowData:Pn,loadOrToggle:ln,updateTreeData:hn,updateKeyChildren:Dn,states:{tableSize:n,rowKey:r,data:i,_data:o,isComplex:s,_columns:u,originColumns:a,columns:h,fixedColumns:m,rightFixedColumns:v,leafColumns:_,fixedLeafColumns:b,rightFixedLeafColumns:T,updateOrderFns:M,leafColumnsLength:E,fixedLeafColumnsLength:k,rightFixedLeafColumnsLength:z,isAllSelected:B,selection:U,reserveSelection:W,selectOnIndeterminate:q,selectable:Q,filters:te,filteredData:ie,sortingColumn:ae,sortProp:re,sortOrder:se,hoverRow:be,...Ft,...St,...sr}}}function BI(e,t){return e.map(n=>{var r;return n.id===t.id?t:((r=n.children)!=null&&r.length&&(n.children=BI(n.children,t)),n)})}function FI(e){e.forEach(t=>{var n,r;t.no=(n=t.getColumnIndex)==null?void 0:n.call(t),(r=t.children)!=null&&r.length&&FI(t.children)}),e.sort((t,n)=>t.no-n.no)}function qRe(){const e=Mr(),t=WRe();return{ns:en("table"),...t,mutations:{setData(s,u){const a=A(s._data)!==u;s.data.value=u,s._data.value=u,e.store.execQuery(),e.store.updateCurrentRowData(),e.store.updateExpandRows(),e.store.updateTreeData(e.store.states.defaultExpandAll.value),A(s.reserveSelection)?(e.store.assertRowKey(),e.store.updateSelectionByRowKey()):a?e.store.clearSelection():e.store.cleanSelection(),e.store.updateAllSelected(),e.$ready&&e.store.scheduleLayout()},insertColumn(s,u,a,h){const m=A(s._columns);let v=[];a?(a&&!a.children&&(a.children=[]),a.children.push(u),v=BI(m,a)):(m.push(u),v=m),FI(v),s._columns.value=v,s.updateOrderFns.push(h),u.type==="selection"&&(s.selectable.value=u.selectable,s.reserveSelection.value=u.reserveSelection),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},updateColumnOrder(s,u){var a;((a=u.getColumnIndex)==null?void 0:a.call(u))!==u.no&&(FI(s._columns.value),e.$ready&&e.store.updateColumns())},removeColumn(s,u,a,h){const m=A(s._columns)||[];if(a)a.children.splice(a.children.findIndex(_=>_.id===u.id),1),Fn(()=>{var _;((_=a.children)==null?void 0:_.length)===0&&delete a.children}),s._columns.value=BI(m,a);else{const _=m.indexOf(u);_>-1&&(m.splice(_,1),s._columns.value=m)}const v=s.updateOrderFns.indexOf(h);v>-1&&s.updateOrderFns.splice(v,1),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},sort(s,u){const{prop:a,order:h,init:m}=u;if(a){const v=A(s.columns).find(_=>_.property===a);v&&(v.order=h,e.store.updateSort(v,a,h),e.store.commit("changeSortCondition",{init:m}))}},changeSortCondition(s,u){const{sortingColumn:a,sortProp:h,sortOrder:m}=s,v=A(a),_=A(h),b=A(m);b===null&&(s.sortingColumn.value=null,s.sortProp.value=null);const T={filter:!0};e.store.execQuery(T),(!u||!(u.silent||u.init))&&e.emit("sort-change",{column:v,prop:_,order:b}),e.store.updateTableScrollY()},filterChange(s,u){const{column:a,values:h,silent:m}=u,v=e.store.updateFilters(a,h);e.store.execQuery(),m||e.emit("filter-change",v),e.store.updateTableScrollY()},toggleAllSelection(){e.store.toggleAllSelection()},rowSelectedChanged(s,u){e.store.toggleRowSelection(u),e.store.updateAllSelected()},setHoverRow(s,u){s.hoverRow.value=u},setCurrentRow(s,u){e.store.updateCurrentRow(u)}},commit:function(s,...u){const a=e.store.mutations;if(a[s])a[s].apply(e,[e.store.states].concat(u));else throw new Error(`Action not found: ${s}`)},updateTableScrollY:function(){Fn(()=>e.layout.updateScrollY.apply(e.layout))}}}const qb={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"},"treeProps.checkStrictly":{key:"checkStrictly",default:!1}};function KRe(e,t){if(!e)throw new Error("Table is required.");const n=qRe();return n.toggleAllSelection=mo(n._toggleAllSelection,10),Object.keys(qb).forEach(r=>{BZ(FZ(t,r),r,n)}),YRe(n,t),n}function YRe(e,t){Object.keys(qb).forEach(n=>{Wt(()=>FZ(t,n),r=>{BZ(r,n,e)})})}function BZ(e,t,n){let r=e,i=qb[t];typeof qb[t]=="object"&&(i=i.key,r=r||qb[t].default),n.states[i].value=r}function FZ(e,t){if(t.includes(".")){const n=t.split(".");let r=e;return n.forEach(i=>{r=r[i]}),r}else return e[t]}class ZRe{constructor(t){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=Te(null),this.scrollX=Te(!1),this.scrollY=Te(!1),this.bodyWidth=Te(null),this.fixedWidth=Te(null),this.rightFixedWidth=Te(null),this.gutterWidth=0;for(const n in t)mi(t,n)&&(ra(this[n])?this[n].value=t[n]:this[n]=t[n]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const n=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(n!=null&&n.wrapRef)){let r=!0;const i=this.scrollY.value;return r=n.wrapRef.scrollHeight>n.wrapRef.clientHeight,this.scrollY.value=r,i!==r}return!1}setHeight(t,n="height"){if(!ri)return;const r=this.table.vnode.el;if(t=FRe(t),this.height.value=Number(t),!r&&(t||t===0))return Fn(()=>this.setHeight(t,n));typeof t=="number"?(r.style[n]=`${t}px`,this.updateElsHeight()):typeof t=="string"&&(r.style[n]=t,this.updateElsHeight())}setMaxHeight(t){this.setHeight(t,"max-height")}getFlattenColumns(){const t=[];return this.table.store.states.columns.value.forEach(r=>{r.isColumnGroup?t.push.apply(t,r.columns):t.push(r)}),t}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(t){if(!t)return!0;let n=t;for(;n.tagName!=="DIV";){if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}updateColumnsWidth(){if(!ri)return;const t=this.fit,n=this.table.vnode.el.clientWidth;let r=0;const i=this.getFlattenColumns(),o=i.filter(a=>typeof a.width!="number");if(i.forEach(a=>{typeof a.width=="number"&&a.realWidth&&(a.realWidth=null)}),o.length>0&&t){if(i.forEach(a=>{r+=Number(a.width||a.minWidth||80)}),r<=n){this.scrollX.value=!1;const a=n-r;if(o.length===1)o[0].realWidth=Number(o[0].minWidth||80)+a;else{const h=o.reduce((_,b)=>_+Number(b.minWidth||80),0),m=a/h;let v=0;o.forEach((_,b)=>{if(b===0)return;const T=Math.floor(Number(_.minWidth||80)*m);v+=T,_.realWidth=Number(_.minWidth||80)+T}),o[0].realWidth=Number(o[0].minWidth||80)+a-v}}else this.scrollX.value=!0,o.forEach(a=>{a.realWidth=Number(a.minWidth)});this.bodyWidth.value=Math.max(r,n),this.table.state.resizeState.value.width=this.bodyWidth.value}else i.forEach(a=>{!a.width&&!a.minWidth?a.realWidth=80:a.realWidth=Number(a.width||a.minWidth),r+=a.realWidth}),this.scrollX.value=r>n,this.bodyWidth.value=r;const s=this.store.states.fixedColumns.value;if(s.length>0){let a=0;s.forEach(h=>{a+=Number(h.realWidth||h.width)}),this.fixedWidth.value=a}const u=this.store.states.rightFixedColumns.value;if(u.length>0){let a=0;u.forEach(h=>{a+=Number(h.realWidth||h.width)}),this.rightFixedWidth.value=a}this.notifyObservers("columns")}addObserver(t){this.observers.push(t)}removeObserver(t){const n=this.observers.indexOf(t);n!==-1&&this.observers.splice(n,1)}notifyObservers(t){this.observers.forEach(r=>{var i,o;switch(t){case"columns":(i=r.state)==null||i.onColumnsChange(this);break;case"scrollable":(o=r.state)==null||o.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${t}.`)}})}}const{CheckboxGroup:XRe}=Pu,JRe=ge({name:"ElTableFilterPanel",components:{ElCheckbox:Pu,ElCheckboxGroup:XRe,ElScrollbar:fd,ElTooltip:ns,ElIcon:On,ArrowDown:cd,ArrowUp:a8},directives:{ClickOutside:dh},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function},appendTo:{type:String}},setup(e){const t=Mr(),{t:n}=ii(),r=en("table-filter"),i=t==null?void 0:t.parent;i.filterPanels.value[e.column.id]||(i.filterPanels.value[e.column.id]=t);const o=Te(!1),s=Te(null),u=le(()=>e.column&&e.column.filters),a=le(()=>e.column.filterClassName?`${r.b()} ${e.column.filterClassName}`:r.b()),h=le({get:()=>{var W;return(((W=e.column)==null?void 0:W.filteredValue)||[])[0]},set:W=>{m.value&&(typeof W<"u"&&W!==null?m.value.splice(0,1,W):m.value.splice(0,1))}}),m=le({get(){return e.column?e.column.filteredValue||[]:[]},set(W){e.column&&e.upDataColumn("filteredValue",W)}}),v=le(()=>e.column?e.column.filterMultiple:!0),_=W=>W.value===h.value,b=()=>{o.value=!1},T=W=>{W.stopPropagation(),o.value=!o.value},M=()=>{o.value=!1},E=()=>{B(m.value),b()},k=()=>{m.value=[],B(m.value),b()},z=W=>{h.value=W,B(typeof W<"u"&&W!==null?m.value:[]),b()},B=W=>{e.store.commit("filterChange",{column:e.column,values:W}),e.store.updateAllSelected()};Wt(o,W=>{e.column&&e.upDataColumn("filterOpened",W)},{immediate:!0});const U=le(()=>{var W,q;return(q=(W=s.value)==null?void 0:W.popperRef)==null?void 0:q.contentRef});return{tooltipVisible:o,multiple:v,filterClassName:a,filteredValue:m,filterValue:h,filters:u,handleConfirm:E,handleReset:k,handleSelect:z,isActive:_,t:n,ns:r,showFilterPanel:T,hideFilterPanel:M,popperPaneRef:U,tooltip:s}}});function QRe(e,t,n,r,i,o){const s=Zn("el-checkbox"),u=Zn("el-checkbox-group"),a=Zn("el-scrollbar"),h=Zn("arrow-up"),m=Zn("arrow-down"),v=Zn("el-icon"),_=Zn("el-tooltip"),b=qC("click-outside");return X(),Rt(_,{ref:"tooltip",visible:e.tooltipVisible,offset:0,placement:e.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":e.filterClassName,persistent:"","append-to":e.appendTo},{content:tt(()=>[e.multiple?(X(),pe("div",{key:0},[ue("div",{class:ye(e.ns.e("content"))},[Fe(a,{"wrap-class":e.ns.e("wrap")},{default:tt(()=>[Fe(u,{modelValue:e.filteredValue,"onUpdate:modelValue":T=>e.filteredValue=T,class:ye(e.ns.e("checkbox-group"))},{default:tt(()=>[(X(!0),pe(Nn,null,Ur(e.filters,T=>(X(),Rt(s,{key:T.value,value:T.value},{default:tt(()=>[Br(pn(T.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"])]),_:1},8,["wrap-class"])],2),ue("div",{class:ye(e.ns.e("bottom"))},[ue("button",{class:ye({[e.ns.is("disabled")]:e.filteredValue.length===0}),disabled:e.filteredValue.length===0,type:"button",onClick:e.handleConfirm},pn(e.t("el.table.confirmFilter")),11,["disabled","onClick"]),ue("button",{type:"button",onClick:e.handleReset},pn(e.t("el.table.resetFilter")),9,["onClick"])],2)])):(X(),pe("ul",{key:1,class:ye(e.ns.e("list"))},[ue("li",{class:ye([e.ns.e("list-item"),{[e.ns.is("active")]:e.filterValue===void 0||e.filterValue===null}]),onClick:T=>e.handleSelect(null)},pn(e.t("el.table.clearFilter")),11,["onClick"]),(X(!0),pe(Nn,null,Ur(e.filters,T=>(X(),pe("li",{key:T.value,class:ye([e.ns.e("list-item"),e.ns.is("active",e.isActive(T))]),label:T.value,onClick:M=>e.handleSelect(T.value)},pn(T.text),11,["label","onClick"]))),128))],2))]),default:tt(()=>[yr((X(),pe("span",{class:ye([`${e.ns.namespace.value}-table__column-filter-trigger`,`${e.ns.namespace.value}-none-outline`]),onClick:e.showFilterPanel},[Fe(v,null,{default:tt(()=>[bt(e.$slots,"filter-icon",{},()=>[e.column.filterOpened?(X(),Rt(h,{key:0})):(X(),Rt(m,{key:1}))])]),_:3})],10,["onClick"])),[[b,e.hideFilterPanel,e.popperPaneRef]])]),_:3},8,["visible","placement","popper-class","append-to"])}var eDe=mn(JRe,[["render",QRe],["__file","filter-panel.vue"]]);function NZ(e){const t=Mr();M_(()=>{n.value.addObserver(t)}),br(()=>{r(n.value),i(n.value)}),ud(()=>{r(n.value),i(n.value)}),vh(()=>{n.value.removeObserver(t)});const n=le(()=>{const o=e.layout;if(!o)throw new Error("Can not find table layout.");return o}),r=o=>{var s;const u=((s=e.vnode.el)==null?void 0:s.querySelectorAll("colgroup > col"))||[];if(!u.length)return;const a=o.getFlattenColumns(),h={};a.forEach(m=>{h[m.id]=m});for(let m=0,v=u.length;m<v;m++){const _=u[m],b=_.getAttribute("name"),T=h[b];T&&_.setAttribute("width",T.realWidth||T.width)}},i=o=>{var s,u;const a=((s=e.vnode.el)==null?void 0:s.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let m=0,v=a.length;m<v;m++)a[m].setAttribute("width",o.scrollY.value?o.gutterWidth:"0");const h=((u=e.vnode.el)==null?void 0:u.querySelectorAll("th.gutter"))||[];for(let m=0,v=h.length;m<v;m++){const _=h[m];_.style.width=o.scrollY.value?`${o.gutterWidth}px`:"0",_.style.display=o.scrollY.value?"":"none"}};return{tableLayout:n.value,onColumnsChange:r,onScrollableChange:i}}const vd=Symbol("ElTable");function tDe(e,t){const n=Mr(),r=An(vd),i=M=>{M.stopPropagation()},o=(M,E)=>{!E.filters&&E.sortable?T(M,E,!1):E.filterable&&!E.sortable&&i(M),r==null||r.emit("header-click",E,M)},s=(M,E)=>{r==null||r.emit("header-contextmenu",E,M)},u=Te(null),a=Te(!1),h=Te({}),m=(M,E)=>{if(ri&&!(E.children&&E.children.length>0)&&u.value&&e.border){a.value=!0;const k=r;t("set-drag-visible",!0);const B=(k==null?void 0:k.vnode.el).getBoundingClientRect().left,U=n.vnode.el.querySelector(`th.${E.id}`),W=U.getBoundingClientRect(),q=W.left-B+30;bu(U,"noclick"),h.value={startMouseLeft:M.clientX,startLeft:W.right-B,startColumnLeft:W.left-B,tableLeft:B};const Q=k==null?void 0:k.refs.resizeProxy;Q.style.left=`${h.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const te=ae=>{const re=ae.clientX-h.value.startMouseLeft,se=h.value.startLeft+re;Q.style.left=`${Math.max(q,se)}px`},ie=()=>{if(a.value){const{startColumnLeft:ae,startLeft:re}=h.value,be=Number.parseInt(Q.style.left,10)-ae;E.width=E.realWidth=be,k==null||k.emit("header-dragend",E.width,re-ae,E,M),requestAnimationFrame(()=>{e.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",a.value=!1,u.value=null,h.value={},t("set-drag-visible",!1)}document.removeEventListener("mousemove",te),document.removeEventListener("mouseup",ie),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{bs(U,"noclick")},0)};document.addEventListener("mousemove",te),document.addEventListener("mouseup",ie)}},v=(M,E)=>{var k;if(E.children&&E.children.length>0)return;const z=M.target;if(!Fl(z))return;const B=z==null?void 0:z.closest("th");if(!(!E||!E.resizable||!B)&&!a.value&&e.border){const U=B.getBoundingClientRect(),W=document.body.style,q=((k=B.parentNode)==null?void 0:k.lastElementChild)===B;U.width>12&&U.right-M.pageX<8&&!q?(W.cursor="col-resize",ll(B,"is-sortable")&&(B.style.cursor="col-resize"),u.value=E):a.value||(W.cursor="",ll(B,"is-sortable")&&(B.style.cursor="pointer"),u.value=null)}},_=()=>{ri&&(document.body.style.cursor="")},b=({order:M,sortOrders:E})=>{if(M==="")return E[0];const k=E.indexOf(M||null);return E[k>E.length-2?0:k+1]},T=(M,E,k)=>{var z;M.stopPropagation();const B=E.order===k?null:k||b(E),U=(z=M.target)==null?void 0:z.closest("th");if(U&&ll(U,"noclick")){bs(U,"noclick");return}if(!E.sortable)return;const W=M.currentTarget;if(["ascending","descending"].some(ae=>ll(W,ae)&&!E.sortOrders.includes(ae)))return;const q=e.store.states;let Q=q.sortProp.value,te;const ie=q.sortingColumn.value;(ie!==E||ie===E&&ie.order===null)&&(ie&&(ie.order=null),q.sortingColumn.value=E,Q=E.property),B?te=E.order=B:te=E.order=null,q.sortProp.value=Q,q.sortOrder.value=te,r==null||r.store.commit("changeSortCondition")};return{handleHeaderClick:o,handleHeaderContextMenu:s,handleMouseDown:m,handleMouseMove:v,handleMouseOut:_,handleSortClick:T,handleFilterClick:i}}function nDe(e){const t=An(vd),n=en("table");return{getHeaderRowStyle:u=>{const a=t==null?void 0:t.props.headerRowStyle;return typeof a=="function"?a.call(null,{rowIndex:u}):a},getHeaderRowClass:u=>{const a=[],h=t==null?void 0:t.props.headerRowClassName;return typeof h=="string"?a.push(h):typeof h=="function"&&a.push(h.call(null,{rowIndex:u})),a.join(" ")},getHeaderCellStyle:(u,a,h,m)=>{var v;let _=(v=t==null?void 0:t.props.headerCellStyle)!=null?v:{};typeof _=="function"&&(_=_.call(null,{rowIndex:u,columnIndex:a,row:h,column:m}));const b=bR(a,m.fixed,e.store,h);return g_(b,"left"),g_(b,"right"),Object.assign({},_,b)},getHeaderCellClass:(u,a,h,m)=>{const v=yR(n.b(),a,m.fixed,e.store,h),_=[m.id,m.order,m.headerAlign,m.className,m.labelClassName,...v];m.children||_.push("is-leaf"),m.sortable&&_.push("is-sortable");const b=t==null?void 0:t.props.headerCellClassName;return typeof b=="string"?_.push(b):typeof b=="function"&&_.push(b.call(null,{rowIndex:u,columnIndex:a,row:h,column:m})),_.push(n.e("cell")),_.filter(T=>!!T).join(" ")}}}const $Z=e=>{const t=[];return e.forEach(n=>{n.children?(t.push(n),t.push.apply(t,$Z(n.children))):t.push(n)}),t},VZ=e=>{let t=1;const n=(o,s)=>{if(s&&(o.level=s.level+1,t<o.level&&(t=o.level)),o.children){let u=0;o.children.forEach(a=>{n(a,o),u+=a.colSpan}),o.colSpan=u}else o.colSpan=1};e.forEach(o=>{o.level=1,n(o,void 0)});const r=[];for(let o=0;o<t;o++)r.push([]);return $Z(e).forEach(o=>{o.children?(o.rowSpan=1,o.children.forEach(s=>s.isSubColumn=!0)):o.rowSpan=t-o.level+1,r[o.level-1].push(o)}),r};function rDe(e){const t=An(vd),n=le(()=>VZ(e.store.states.originColumns.value));return{isGroup:le(()=>{const o=n.value.length>1;return o&&t&&(t.state.isGroup.value=!0),o}),toggleAllSelection:o=>{o.stopPropagation(),t==null||t.store.commit("toggleAllSelection")},columnRows:n}}var iDe=ge({name:"ElTableHeader",components:{ElCheckbox:Pu},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})},appendFilterPanelTo:{type:String}},setup(e,{emit:t}){const n=Mr(),r=An(vd),i=en("table"),o=Te({}),{onColumnsChange:s,onScrollableChange:u}=NZ(r);br(async()=>{await Fn(),await Fn();const{prop:q,order:Q}=e.defaultSort;r==null||r.store.commit("sort",{prop:q,order:Q,init:!0})});const{handleHeaderClick:a,handleHeaderContextMenu:h,handleMouseDown:m,handleMouseMove:v,handleMouseOut:_,handleSortClick:b,handleFilterClick:T}=tDe(e,t),{getHeaderRowStyle:M,getHeaderRowClass:E,getHeaderCellStyle:k,getHeaderCellClass:z}=nDe(e),{isGroup:B,toggleAllSelection:U,columnRows:W}=rDe(e);return n.state={onColumnsChange:s,onScrollableChange:u},n.filterPanels=o,{ns:i,filterPanels:o,onColumnsChange:s,onScrollableChange:u,columnRows:W,getHeaderRowClass:E,getHeaderRowStyle:M,getHeaderCellClass:z,getHeaderCellStyle:k,handleHeaderClick:a,handleHeaderContextMenu:h,handleMouseDown:m,handleMouseMove:v,handleMouseOut:_,handleSortClick:b,handleFilterClick:T,isGroup:B,toggleAllSelection:U}},render(){const{ns:e,isGroup:t,columnRows:n,getHeaderCellStyle:r,getHeaderCellClass:i,getHeaderRowClass:o,getHeaderRowStyle:s,handleHeaderClick:u,handleHeaderContextMenu:a,handleMouseDown:h,handleMouseMove:m,handleSortClick:v,handleMouseOut:_,store:b,$parent:T}=this;let M=1;return jn("thead",{class:{[e.is("group")]:t}},n.map((E,k)=>jn("tr",{class:o(k),key:k,style:s(k)},E.map((z,B)=>(z.rowSpan>M&&(M=z.rowSpan),jn("th",{class:i(k,B,E,z),colspan:z.colSpan,key:`${z.id}-thead`,rowspan:z.rowSpan,style:r(k,B,E,z),onClick:U=>{U.currentTarget.classList.contains("noclick")||u(U,z)},onContextmenu:U=>a(U,z),onMousedown:U=>h(U,z),onMousemove:U=>m(U,z),onMouseout:_},[jn("div",{class:["cell",z.filteredValue&&z.filteredValue.length>0?"highlight":""]},[z.renderHeader?z.renderHeader({column:z,$index:B,store:b,_self:T}):z.label,z.sortable&&jn("span",{onClick:U=>v(U,z),class:"caret-wrapper"},[jn("i",{onClick:U=>v(U,z,"ascending"),class:"sort-caret ascending"}),jn("i",{onClick:U=>v(U,z,"descending"),class:"sort-caret descending"})]),z.filterable&&jn(eDe,{store:b,placement:z.filterPlacement||"bottom-start",appendTo:T.appendFilterPanelTo,column:z,upDataColumn:(U,W)=>{z[U]=W}},{"filter-icon":()=>z.renderFilterIcon?z.renderFilterIcon({filterOpened:z.filterOpened}):null})])]))))))}});function V5(e,t,n=.03){return e-t>n}function aDe(e){const t=An(vd),n=Te(""),r=Te(jn("div")),i=(T,M,E)=>{var k;const z=t,B=$5(T);let U;const W=(k=z==null?void 0:z.vnode.el)==null?void 0:k.dataset.prefix;B&&(U=$N({columns:e.store.states.columns.value},B,W),U&&(z==null||z.emit(`cell-${E}`,M,U,B,T))),z==null||z.emit(`row-${E}`,M,U,T)},o=(T,M)=>{i(T,M,"dblclick")},s=(T,M)=>{e.store.commit("setCurrentRow",M),i(T,M,"click")},u=(T,M)=>{i(T,M,"contextmenu")},a=mo(T=>{e.store.commit("setHoverRow",T)},30),h=mo(()=>{e.store.commit("setHoverRow",null)},30),m=T=>{const M=window.getComputedStyle(T,null),E=Number.parseInt(M.paddingLeft,10)||0,k=Number.parseInt(M.paddingRight,10)||0,z=Number.parseInt(M.paddingTop,10)||0,B=Number.parseInt(M.paddingBottom,10)||0;return{left:E,right:k,top:z,bottom:B}},v=(T,M,E)=>{let k=M.target.parentNode;for(;T>1&&(k=k==null?void 0:k.nextSibling,!(!k||k.nodeName!=="TR"));)E(k,"hover-row hover-fixed-row"),T--};return{handleDoubleClick:o,handleClick:s,handleContextMenu:u,handleMouseEnter:a,handleMouseLeave:h,handleCellMouseEnter:(T,M,E)=>{var k;const z=t,B=$5(T),U=(k=z==null?void 0:z.vnode.el)==null?void 0:k.dataset.prefix;if(B){const Le=$N({columns:e.store.states.columns.value},B,U);B.rowSpan>1&&v(B.rowSpan,T,bu);const Ee=z.hoverState={cell:B,column:Le,row:M};z==null||z.emit("cell-mouse-enter",Ee.row,Ee.column,Ee.cell,T)}if(!E)return;const W=T.target.querySelector(".cell");if(!(ll(W,`${U}-tooltip`)&&W.childNodes.length))return;const q=document.createRange();q.setStart(W,0),q.setEnd(W,W.childNodes.length);const{width:Q,height:te}=q.getBoundingClientRect(),{width:ie,height:ae}=W.getBoundingClientRect(),{top:re,left:se,right:be,bottom:Ie}=m(W),Se=se+be,me=re+Ie;(V5(Q+Se,ie)||V5(te+me,ae)||V5(W.scrollWidth,ie))&&VRe(E,B.innerText||B.textContent,B,z)},handleCellMouseLeave:T=>{const M=$5(T);if(!M)return;M.rowSpan>1&&v(M.rowSpan,T,bs);const E=t==null?void 0:t.hoverState;t==null||t.emit("cell-mouse-leave",E==null?void 0:E.row,E==null?void 0:E.column,E==null?void 0:E.cell,T)},tooltipContent:n,tooltipTrigger:r}}function oDe(e){const t=An(vd),n=en("table");return{getRowStyle:(h,m)=>{const v=t==null?void 0:t.props.rowStyle;return typeof v=="function"?v.call(null,{row:h,rowIndex:m}):v||null},getRowClass:(h,m)=>{const v=[n.e("row")];t!=null&&t.props.highlightCurrentRow&&h===e.store.states.currentRow.value&&v.push("current-row"),e.stripe&&m%2===1&&v.push(n.em("row","striped"));const _=t==null?void 0:t.props.rowClassName;return typeof _=="string"?v.push(_):typeof _=="function"&&v.push(_.call(null,{row:h,rowIndex:m})),v},getCellStyle:(h,m,v,_)=>{const b=t==null?void 0:t.props.cellStyle;let T=b??{};typeof b=="function"&&(T=b.call(null,{rowIndex:h,columnIndex:m,row:v,column:_}));const M=bR(m,e==null?void 0:e.fixed,e.store);return g_(M,"left"),g_(M,"right"),Object.assign({},T,M)},getCellClass:(h,m,v,_,b)=>{const T=yR(n.b(),m,e==null?void 0:e.fixed,e.store,void 0,b),M=[_.id,_.align,_.className,...T],E=t==null?void 0:t.props.cellClassName;return typeof E=="string"?M.push(E):typeof E=="function"&&M.push(E.call(null,{rowIndex:h,columnIndex:m,row:v,column:_})),M.push(n.e("cell")),M.filter(k=>!!k).join(" ")},getSpan:(h,m,v,_)=>{let b=1,T=1;const M=t==null?void 0:t.props.spanMethod;if(typeof M=="function"){const E=M({row:h,column:m,rowIndex:v,columnIndex:_});Array.isArray(E)?(b=E[0],T=E[1]):typeof E=="object"&&(b=E.rowspan,T=E.colspan)}return{rowspan:b,colspan:T}},getColspanRealWidth:(h,m,v)=>{if(m<1)return h[v].realWidth;const _=h.map(({realWidth:b,width:T})=>b||T).slice(v,v+m);return Number(_.reduce((b,T)=>Number(b)+Number(T),-1))}}}function sDe(e){const t=An(vd),n=en("table"),{handleDoubleClick:r,handleClick:i,handleContextMenu:o,handleMouseEnter:s,handleMouseLeave:u,handleCellMouseEnter:a,handleCellMouseLeave:h,tooltipContent:m,tooltipTrigger:v}=aDe(e),{getRowStyle:_,getRowClass:b,getCellStyle:T,getCellClass:M,getSpan:E,getColspanRealWidth:k}=oDe(e),z=le(()=>e.store.states.columns.value.findIndex(({type:Q})=>Q==="default")),B=(Q,te)=>{const ie=t.props.rowKey;return ie?gs(Q,ie):te},U=(Q,te,ie,ae=!1)=>{const{tooltipEffect:re,tooltipOptions:se,store:be}=e,{indent:Ie,columns:Se}=be.states,me=b(Q,te);let Le=!0;return ie&&(me.push(n.em("row",`level-${ie.level}`)),Le=ie.display),jn("tr",{style:[Le?null:{display:"none"},_(Q,te)],class:me,key:B(Q,te),onDblclick:_e=>r(_e,Q),onClick:_e=>i(_e,Q),onContextmenu:_e=>o(_e,Q),onMouseenter:()=>s(te),onMouseleave:u},Se.value.map((_e,xe)=>{const{rowspan:Be,colspan:Je}=E(Q,_e,te,xe);if(!Be||!Je)return null;const Ye=Object.assign({},_e);Ye.realWidth=k(Se.value,Je,xe);const lt={store:e.store,_self:e.context||t,column:Ye,row:Q,$index:te,cellIndex:xe,expanded:ae};xe===z.value&&ie&&(lt.treeNode={indent:ie.level*Ie.value,level:ie.level},typeof ie.expanded=="boolean"&&(lt.treeNode.expanded=ie.expanded,"loading"in ie&&(lt.treeNode.loading=ie.loading),"noLazyChildren"in ie&&(lt.treeNode.noLazyChildren=ie.noLazyChildren)));const Nt=`${B(Q,te)},${xe}`,Dt=Ye.columnKey||Ye.rawColumnKey||"",je=W(xe,_e,lt),Ct=_e.showOverflowTooltip&&Vb({effect:re},se,_e.showOverflowTooltip);return jn("td",{style:T(te,xe,Q,_e),class:M(te,xe,Q,_e,Je-1),key:`${Dt}${Nt}`,rowspan:Be,colspan:Je,onMouseenter:vt=>a(vt,Q,Ct),onMouseleave:h},[je])}))},W=(Q,te,ie)=>te.renderCell(ie);return{wrappedRowRender:(Q,te)=>{const ie=e.store,{isRowExpanded:ae,assertRowKey:re}=ie,{treeData:se,lazyTreeNodeMap:be,childrenColumnName:Ie,rowKey:Se}=ie.states,me=ie.states.columns.value;if(me.some(({type:Ee})=>Ee==="expand")){const Ee=ae(Q),_e=U(Q,te,void 0,Ee),xe=t.renderExpanded;return Ee?xe?[[_e,jn("tr",{key:`expanded-row__${_e.key}`},[jn("td",{colspan:me.length,class:`${n.e("cell")} ${n.e("expanded-cell")}`},[xe({row:Q,$index:te,store:ie,expanded:Ee})])])]]:(console.error("[Element Error]renderExpanded is required."),_e):[[_e]]}else if(Object.keys(se.value).length){re();const Ee=gs(Q,Se.value);let _e=se.value[Ee],xe=null;_e&&(xe={expanded:_e.expanded,level:_e.level,display:!0},typeof _e.lazy=="boolean"&&(typeof _e.loaded=="boolean"&&_e.loaded&&(xe.noLazyChildren=!(_e.children&&_e.children.length)),xe.loading=_e.loading));const Be=[U(Q,te,xe)];if(_e){let Je=0;const Ye=(Nt,Dt)=>{Nt&&Nt.length&&Dt&&Nt.forEach(je=>{const Ct={display:Dt.display&&Dt.expanded,level:Dt.level+1,expanded:!1,noLazyChildren:!1,loading:!1},vt=gs(je,Se.value);if(vt==null)throw new Error("For nested data item, row-key is required.");if(_e={...se.value[vt]},_e&&(Ct.expanded=_e.expanded,_e.level=_e.level||Ct.level,_e.display=!!(_e.expanded&&Ct.display),typeof _e.lazy=="boolean"&&(typeof _e.loaded=="boolean"&&_e.loaded&&(Ct.noLazyChildren=!(_e.children&&_e.children.length)),Ct.loading=_e.loading)),Je++,Be.push(U(je,te+Je,Ct)),_e){const Vt=be.value[vt]||je[Ie.value];Ye(Vt,_e)}})};_e.display=!0;const lt=be.value[Ee]||Q[Ie.value];Ye(lt,_e)}return Be}else return U(Q,te,void 0)},tooltipContent:m,tooltipTrigger:v}}const lDe={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var uDe=ge({name:"ElTableBody",props:lDe,setup(e){const t=Mr(),n=An(vd),r=en("table"),{wrappedRowRender:i,tooltipContent:o,tooltipTrigger:s}=sDe(e),{onColumnsChange:u,onScrollableChange:a}=NZ(n),h=[];return Wt(e.store.states.hoverRow,(m,v)=>{var _;const b=t==null?void 0:t.vnode.el,T=Array.from((b==null?void 0:b.children)||[]).filter(k=>k==null?void 0:k.classList.contains(`${r.e("row")}`));let M=m;const E=(_=T[M])==null?void 0:_.childNodes;if(E!=null&&E.length){let k=0;Array.from(E).reduce((B,U,W)=>{var q,Q;return((q=E[W])==null?void 0:q.colSpan)>1&&(k=(Q=E[W])==null?void 0:Q.colSpan),U.nodeName!=="TD"&&k===0&&B.push(W),k>0&&k--,B},[]).forEach(B=>{var U;for(M=m;M>0;){const W=(U=T[M-1])==null?void 0:U.childNodes;if(W[B]&&W[B].nodeName==="TD"&&W[B].rowSpan>1){bu(W[B],"hover-cell"),h.push(W[B]);break}M--}})}else h.forEach(k=>bs(k,"hover-cell")),h.length=0;!e.store.states.isComplex.value||!ri||lp(()=>{const k=T[v],z=T[m];k&&!k.classList.contains("hover-fixed-row")&&bs(k,"hover-row"),z&&bu(z,"hover-row")})}),vh(()=>{var m;(m=lu)==null||m()}),{ns:r,onColumnsChange:u,onScrollableChange:a,wrappedRowRender:i,tooltipContent:o,tooltipTrigger:s}},render(){const{wrappedRowRender:e,store:t}=this,n=t.states.data.value||[];return jn("tbody",{tabIndex:-1},[n.reduce((r,i)=>r.concat(e(i,r.length)),[])])}});function cDe(){const e=An(vd),t=e==null?void 0:e.store,n=le(()=>t.states.fixedLeafColumnsLength.value),r=le(()=>t.states.rightFixedColumns.value.length),i=le(()=>t.states.columns.value.length),o=le(()=>t.states.fixedColumns.value.length),s=le(()=>t.states.rightFixedColumns.value.length);return{leftFixedLeafCount:n,rightFixedLeafCount:r,columnsCount:i,leftFixedCount:o,rightFixedCount:s,columns:t.states.columns}}function dDe(e){const{columns:t}=cDe(),n=en("table");return{getCellClasses:(o,s)=>{const u=o[s],a=[n.e("cell"),u.id,u.align,u.labelClassName,...yR(n.b(),s,u.fixed,e.store)];return u.className&&a.push(u.className),u.children||a.push(n.is("leaf")),a},getCellStyles:(o,s)=>{const u=bR(s,o.fixed,e.store);return g_(u,"left"),g_(u,"right"),u},columns:t}}var hDe=ge({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e){const{getCellClasses:t,getCellStyles:n,columns:r}=dDe(e);return{ns:en("table"),getCellClasses:t,getCellStyles:n,columns:r}},render(){const{columns:e,getCellStyles:t,getCellClasses:n,summaryMethod:r,sumText:i}=this,o=this.store.states.data.value;let s=[];return r?s=r({columns:e,data:o}):e.forEach((u,a)=>{if(a===0){s[a]=i;return}const h=o.map(b=>Number(b[u.property])),m=[];let v=!0;h.forEach(b=>{if(!Number.isNaN(+b)){v=!1;const T=`${b}`.split(".")[1];m.push(T?T.length:0)}});const _=Math.max.apply(null,m);v?s[a]="":s[a]=h.reduce((b,T)=>{const M=Number(T);return Number.isNaN(+M)?b:Number.parseFloat((b+T).toFixed(Math.min(_,20)))},0)}),jn(jn("tfoot",[jn("tr",{},[...e.map((u,a)=>jn("td",{key:a,colspan:u.colSpan,rowspan:u.rowSpan,class:n(e,a),style:t(u,a)},[jn("div",{class:["cell",u.labelClassName]},[s[a]])]))])]))}});function fDe(e){return{setCurrentRow:v=>{e.commit("setCurrentRow",v)},getSelectionRows:()=>e.getSelectionRows(),toggleRowSelection:(v,_,b=!0)=>{e.toggleRowSelection(v,_,!1,b),e.updateAllSelected()},clearSelection:()=>{e.clearSelection()},clearFilter:v=>{e.clearFilter(v)},toggleAllSelection:()=>{e.commit("toggleAllSelection")},toggleRowExpansion:(v,_)=>{e.toggleRowExpansionAdapter(v,_)},clearSort:()=>{e.clearSort()},sort:(v,_)=>{e.commit("sort",{prop:v,order:_})},updateKeyChildren:(v,_)=>{e.updateKeyChildren(v,_)}}}function pDe(e,t,n,r){const i=Te(!1),o=Te(null),s=Te(!1),u=_e=>{s.value=_e},a=Te({width:null,height:null,headerHeight:null}),h=Te(!1),m={display:"inline-block",verticalAlign:"middle"},v=Te(),_=Te(0),b=Te(0),T=Te(0),M=Te(0),E=Te(0);ko(()=>{t.setHeight(e.height)}),ko(()=>{t.setMaxHeight(e.maxHeight)}),Wt(()=>[e.currentRowKey,n.states.rowKey],([_e,xe])=>{!A(xe)||!A(_e)||n.setCurrentRowKey(`${_e}`)},{immediate:!0}),Wt(()=>e.data,_e=>{r.store.commit("setData",_e)},{immediate:!0,deep:!0}),ko(()=>{e.expandRowKeys&&n.setExpandRowKeysAdapter(e.expandRowKeys)});const k=()=>{r.store.commit("setHoverRow",null),r.hoverState&&(r.hoverState=null)},z=(_e,xe)=>{const{pixelX:Be,pixelY:Je}=xe;Math.abs(Be)>=Math.abs(Je)&&(r.refs.bodyWrapper.scrollLeft+=xe.pixelX/5)},B=le(()=>e.height||e.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0),U=le(()=>({width:t.bodyWidth.value?`${t.bodyWidth.value}px`:""})),W=()=>{B.value&&t.updateElsHeight(),t.updateColumnsWidth(),requestAnimationFrame(ie)};br(async()=>{await Fn(),n.updateColumns(),ae(),requestAnimationFrame(W);const _e=r.vnode.el,xe=r.refs.headerWrapper;e.flexible&&_e&&_e.parentElement&&(_e.parentElement.style.minWidth="0"),a.value={width:v.value=_e.offsetWidth,height:_e.offsetHeight,headerHeight:e.showHeader&&xe?xe.offsetHeight:null},n.states.columns.value.forEach(Be=>{Be.filteredValue&&Be.filteredValue.length&&r.store.commit("filterChange",{column:Be,values:Be.filteredValue,silent:!0})}),r.$ready=!0});const q=(_e,xe)=>{if(!_e)return;const Be=Array.from(_e.classList).filter(Je=>!Je.startsWith("is-scrolling-"));Be.push(t.scrollX.value?xe:"is-scrolling-none"),_e.className=Be.join(" ")},Q=_e=>{const{tableWrapper:xe}=r.refs;q(xe,_e)},te=_e=>{const{tableWrapper:xe}=r.refs;return!!(xe&&xe.classList.contains(_e))},ie=function(){if(!r.refs.scrollBarRef)return;if(!t.scrollX.value){const Dt="is-scrolling-none";te(Dt)||Q(Dt);return}const _e=r.refs.scrollBarRef.wrapRef;if(!_e)return;const{scrollLeft:xe,offsetWidth:Be,scrollWidth:Je}=_e,{headerWrapper:Ye,footerWrapper:lt}=r.refs;Ye&&(Ye.scrollLeft=xe),lt&&(lt.scrollLeft=xe);const Nt=Je-Be-1;xe>=Nt?Q("is-scrolling-right"):Q(xe===0?"is-scrolling-left":"is-scrolling-middle")},ae=()=>{r.refs.scrollBarRef&&(r.refs.scrollBarRef.wrapRef&&Fi(r.refs.scrollBarRef.wrapRef,"scroll",ie,{passive:!0}),e.fit?ga(r.vnode.el,re):Fi(window,"resize",re),ga(r.refs.bodyWrapper,()=>{var _e,xe;re(),(xe=(_e=r.refs)==null?void 0:_e.scrollBarRef)==null||xe.update()}))},re=()=>{var _e,xe,Be,Je;const Ye=r.vnode.el;if(!r.$ready||!Ye)return;let lt=!1;const{width:Nt,height:Dt,headerHeight:je}=a.value,Ct=v.value=Ye.offsetWidth;Nt!==Ct&&(lt=!0);const vt=Ye.offsetHeight;(e.height||B.value)&&Dt!==vt&&(lt=!0);const Vt=e.tableLayout==="fixed"?r.refs.headerWrapper:(_e=r.refs.tableHeaderRef)==null?void 0:_e.$el;e.showHeader&&(Vt==null?void 0:Vt.offsetHeight)!==je&&(lt=!0),_.value=((xe=r.refs.tableWrapper)==null?void 0:xe.scrollHeight)||0,T.value=(Vt==null?void 0:Vt.scrollHeight)||0,M.value=((Be=r.refs.footerWrapper)==null?void 0:Be.offsetHeight)||0,E.value=((Je=r.refs.appendWrapper)==null?void 0:Je.offsetHeight)||0,b.value=_.value-T.value-M.value-E.value,lt&&(a.value={width:Ct,height:vt,headerHeight:e.showHeader&&(Vt==null?void 0:Vt.offsetHeight)||0},W())},se=lo(),be=le(()=>{const{bodyWidth:_e,scrollY:xe,gutterWidth:Be}=t;return _e.value?`${_e.value-(xe.value?Be:0)}px`:""}),Ie=le(()=>e.maxHeight?"fixed":e.tableLayout),Se=le(()=>{if(e.data&&e.data.length)return null;let _e="100%";e.height&&b.value&&(_e=`${b.value}px`);const xe=v.value;return{width:xe?`${xe}px`:"",height:_e}}),me=le(()=>e.height?{height:Number.isNaN(Number(e.height))?e.height:`${e.height}px`}:e.maxHeight?{maxHeight:Number.isNaN(Number(e.maxHeight))?e.maxHeight:`${e.maxHeight}px`}:{}),Le=le(()=>e.height?{height:"100%"}:e.maxHeight?Number.isNaN(Number(e.maxHeight))?{maxHeight:`calc(${e.maxHeight} - ${T.value+M.value}px)`}:{maxHeight:`${e.maxHeight-T.value-M.value}px`}:{});return{isHidden:i,renderExpanded:o,setDragVisible:u,isGroup:h,handleMouseLeave:k,handleHeaderFooterMousewheel:z,tableSize:se,emptyBlockStyle:Se,handleFixedMousewheel:(_e,xe)=>{const Be=r.refs.bodyWrapper;if(Math.abs(xe.spinY)>0){const Je=Be.scrollTop;xe.pixelY<0&&Je!==0&&_e.preventDefault(),xe.pixelY>0&&Be.scrollHeight-Be.clientHeight>Je&&_e.preventDefault(),Be.scrollTop+=Math.ceil(xe.pixelY/5)}else Be.scrollLeft+=Math.ceil(xe.pixelX/5)},resizeProxyVisible:s,bodyWidth:be,resizeState:a,doLayout:W,tableBodyStyles:U,tableLayout:Ie,scrollbarViewStyle:m,tableInnerStyle:me,scrollbarStyle:Le}}function mDe(e){const t=Te(),n=()=>{const i=e.vnode.el.querySelector(".hidden-columns"),o={childList:!0,subtree:!0},s=e.store.states.updateOrderFns;t.value=new MutationObserver(()=>{s.forEach(u=>u())}),t.value.observe(i,o)};br(()=>{n()}),vh(()=>{var r;(r=t.value)==null||r.disconnect()})}var vDe={data:{type:Array,default:()=>[]},size:go,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0}};function HZ(e){const t=e.tableLayout==="auto";let n=e.columns||[];t&&n.every(i=>i.width===void 0)&&(n=[]);const r=i=>{const o={key:`${e.tableLayout}_${i.id}`,style:{},name:void 0};return t?o.style={width:`${i.width}px`}:o.name=i.id,o};return jn("colgroup",{},n.map(i=>jn("col",r(i))))}HZ.props=["columns","tableLayout"];const gDe=()=>{const e=Te(),t=(o,s)=>{const u=e.value;u&&u.scrollTo(o,s)},n=(o,s)=>{const u=e.value;u&&Jn(s)&&["Top","Left"].includes(o)&&u[`setScroll${o}`](s)};return{scrollBarRef:e,scrollTo:t,setScrollTop:o=>n("Top",o),setScrollLeft:o=>n("Left",o)}};let _De=1;const yDe=ge({name:"ElTable",directives:{Mousewheel:z8e},components:{TableHeader:iDe,TableBody:uDe,TableFooter:hDe,ElScrollbar:fd,hColgroup:HZ},props:vDe,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(e){const{t}=ii(),n=en("table"),r=Mr();Rr(vd,r);const i=KRe(r,e);r.store=i;const o=new ZRe({store:r.store,table:r,fit:e.fit,showHeader:e.showHeader});r.layout=o;const s=le(()=>(i.states.data.value||[]).length===0),{setCurrentRow:u,getSelectionRows:a,toggleRowSelection:h,clearSelection:m,clearFilter:v,toggleAllSelection:_,toggleRowExpansion:b,clearSort:T,sort:M,updateKeyChildren:E}=fDe(i),{isHidden:k,renderExpanded:z,setDragVisible:B,isGroup:U,handleMouseLeave:W,handleHeaderFooterMousewheel:q,tableSize:Q,emptyBlockStyle:te,handleFixedMousewheel:ie,resizeProxyVisible:ae,bodyWidth:re,resizeState:se,doLayout:be,tableBodyStyles:Ie,tableLayout:Se,scrollbarViewStyle:me,tableInnerStyle:Le,scrollbarStyle:Ee}=pDe(e,o,i,r),{scrollBarRef:_e,scrollTo:xe,setScrollLeft:Be,setScrollTop:Je}=gDe(),Ye=mo(be,50),lt=`${n.namespace.value}-table_${_De++}`;r.tableId=lt,r.state={isGroup:U,resizeState:se,doLayout:be,debouncedUpdateLayout:Ye};const Nt=le(()=>{var Ct;return(Ct=e.sumText)!=null?Ct:t("el.table.sumText")}),Dt=le(()=>{var Ct;return(Ct=e.emptyText)!=null?Ct:t("el.table.emptyText")}),je=le(()=>VZ(i.states.originColumns.value)[0]);return mDe(r),Di(()=>{Ye.cancel()}),{ns:n,layout:o,store:i,columns:je,handleHeaderFooterMousewheel:q,handleMouseLeave:W,tableId:lt,tableSize:Q,isHidden:k,isEmpty:s,renderExpanded:z,resizeProxyVisible:ae,resizeState:se,isGroup:U,bodyWidth:re,tableBodyStyles:Ie,emptyBlockStyle:te,debouncedUpdateLayout:Ye,handleFixedMousewheel:ie,setCurrentRow:u,getSelectionRows:a,toggleRowSelection:h,clearSelection:m,clearFilter:v,toggleAllSelection:_,toggleRowExpansion:b,clearSort:T,doLayout:be,sort:M,updateKeyChildren:E,t,setDragVisible:B,context:r,computedSumText:Nt,computedEmptyText:Dt,tableLayout:Se,scrollbarViewStyle:me,tableInnerStyle:Le,scrollbarStyle:Ee,scrollBarRef:_e,scrollTo:xe,setScrollLeft:Be,setScrollTop:Je}}});function bDe(e,t,n,r,i,o){const s=Zn("hColgroup"),u=Zn("table-header"),a=Zn("table-body"),h=Zn("table-footer"),m=Zn("el-scrollbar"),v=qC("mousewheel");return X(),pe("div",{ref:"tableWrapper",class:ye([{[e.ns.m("fit")]:e.fit,[e.ns.m("striped")]:e.stripe,[e.ns.m("border")]:e.border||e.isGroup,[e.ns.m("hidden")]:e.isHidden,[e.ns.m("group")]:e.isGroup,[e.ns.m("fluid-height")]:e.maxHeight,[e.ns.m("scrollable-x")]:e.layout.scrollX.value,[e.ns.m("scrollable-y")]:e.layout.scrollY.value,[e.ns.m("enable-row-hover")]:!e.store.states.isComplex.value,[e.ns.m("enable-row-transition")]:(e.store.states.data.value||[]).length!==0&&(e.store.states.data.value||[]).length<100,"has-footer":e.showSummary},e.ns.m(e.tableSize),e.className,e.ns.b(),e.ns.m(`layout-${e.tableLayout}`)]),style:Vn(e.style),"data-prefix":e.ns.namespace.value,onMouseleave:e.handleMouseLeave},[ue("div",{class:ye(e.ns.e("inner-wrapper")),style:Vn(e.tableInnerStyle)},[ue("div",{ref:"hiddenColumns",class:"hidden-columns"},[bt(e.$slots,"default")],512),e.showHeader&&e.tableLayout==="fixed"?yr((X(),pe("div",{key:0,ref:"headerWrapper",class:ye(e.ns.e("header-wrapper"))},[ue("table",{ref:"tableHeader",class:ye(e.ns.e("header")),style:Vn(e.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[Fe(s,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),Fe(u,{ref:"tableHeaderRef",border:e.border,"default-sort":e.defaultSort,store:e.store,"append-filter-panel-to":e.appendFilterPanelTo,onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","append-filter-panel-to","onSetDragVisible"])],6)],2)),[[v,e.handleHeaderFooterMousewheel]]):wt("v-if",!0),ue("div",{ref:"bodyWrapper",class:ye(e.ns.e("body-wrapper"))},[Fe(m,{ref:"scrollBarRef","view-style":e.scrollbarViewStyle,"wrap-style":e.scrollbarStyle,always:e.scrollbarAlwaysOn,tabindex:e.scrollbarTabindex},{default:tt(()=>[ue("table",{ref:"tableBody",class:ye(e.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:Vn({width:e.bodyWidth,tableLayout:e.tableLayout})},[Fe(s,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),e.showHeader&&e.tableLayout==="auto"?(X(),Rt(u,{key:0,ref:"tableHeaderRef",class:ye(e.ns.e("body-header")),border:e.border,"default-sort":e.defaultSort,store:e.store,"append-filter-panel-to":e.appendFilterPanelTo,onSetDragVisible:e.setDragVisible},null,8,["class","border","default-sort","store","append-filter-panel-to","onSetDragVisible"])):wt("v-if",!0),Fe(a,{context:e.context,highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"tooltip-effect":e.tooltipEffect,"tooltip-options":e.tooltipOptions,"row-style":e.rowStyle,store:e.store,stripe:e.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),e.showSummary&&e.tableLayout==="auto"?(X(),Rt(h,{key:1,class:ye(e.ns.e("body-footer")),border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):wt("v-if",!0)],6),e.isEmpty?(X(),pe("div",{key:0,ref:"emptyBlock",style:Vn(e.emptyBlockStyle),class:ye(e.ns.e("empty-block"))},[ue("span",{class:ye(e.ns.e("empty-text"))},[bt(e.$slots,"empty",{},()=>[Br(pn(e.computedEmptyText),1)])],2)],6)):wt("v-if",!0),e.$slots.append?(X(),pe("div",{key:1,ref:"appendWrapper",class:ye(e.ns.e("append-wrapper"))},[bt(e.$slots,"append")],2)):wt("v-if",!0)]),_:3},8,["view-style","wrap-style","always","tabindex"])],2),e.showSummary&&e.tableLayout==="fixed"?yr((X(),pe("div",{key:1,ref:"footerWrapper",class:ye(e.ns.e("footer-wrapper"))},[ue("table",{class:ye(e.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:Vn(e.tableBodyStyles)},[Fe(s,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),Fe(h,{border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[vi,!e.isEmpty],[v,e.handleHeaderFooterMousewheel]]):wt("v-if",!0),e.border||e.isGroup?(X(),pe("div",{key:2,class:ye(e.ns.e("border-left-patch"))},null,2)):wt("v-if",!0)],6),yr(ue("div",{ref:"resizeProxy",class:ye(e.ns.e("column-resize-proxy"))},null,2),[[vi,e.resizeProxyVisible]])],46,["data-prefix","onMouseleave"])}var xDe=mn(yDe,[["render",bDe],["__file","table.vue"]]);const wDe={selection:"table-column--selection",expand:"table__expand-column"},SDe={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},CDe=e=>wDe[e]||"",TDe={selection:{renderHeader({store:e,column:t}){function n(){return e.states.data.value&&e.states.data.value.length===0}return jn(Pu,{disabled:n(),size:e.states.tableSize.value,indeterminate:e.states.selection.value.length>0&&!e.states.isAllSelected.value,"onUpdate:modelValue":e.toggleAllSelection,modelValue:e.states.isAllSelected.value,ariaLabel:t.label})},renderCell({row:e,column:t,store:n,$index:r}){return jn(Pu,{disabled:t.selectable?!t.selectable.call(null,e,r):!1,size:n.states.tableSize.value,onChange:()=>{n.commit("rowSelectedChanged",e)},onClick:i=>i.stopPropagation(),modelValue:n.isSelected(e),ariaLabel:t.label})},sortable:!1,resizable:!1},index:{renderHeader({column:e}){return e.label||"#"},renderCell({column:e,$index:t}){let n=t+1;const r=e.index;return typeof r=="number"?n=t+r:typeof r=="function"&&(n=r(t)),jn("div",{},[n])},sortable:!1},expand:{renderHeader({column:e}){return e.label||""},renderCell({row:e,store:t,expanded:n}){const{ns:r}=t,i=[r.e("expand-icon")];return n&&i.push(r.em("expand-icon","expanded")),jn("div",{class:i,onClick:function(s){s.stopPropagation(),t.toggleRowExpansion(e)}},{default:()=>[jn(On,null,{default:()=>[jn(xs)]})]})},sortable:!1,resizable:!1}};function MDe({row:e,column:t,$index:n}){var r;const i=t.property,o=i&&F3(e,i).value;return t&&t.formatter?t.formatter(e,t,o,n):((r=o==null?void 0:o.toString)==null?void 0:r.call(o))||""}function EDe({row:e,treeNode:t,store:n},r=!1){const{ns:i}=n;if(!t)return r?[jn("span",{class:i.e("placeholder")})]:null;const o=[],s=function(u){u.stopPropagation(),!t.loading&&n.loadOrToggle(e)};if(t.indent&&o.push(jn("span",{class:i.e("indent"),style:{"padding-left":`${t.indent}px`}})),typeof t.expanded=="boolean"&&!t.noLazyChildren){const u=[i.e("expand-icon"),t.expanded?i.em("expand-icon","expanded"):""];let a=xs;t.loading&&(a=mc),o.push(jn("div",{class:u,onClick:s},{default:()=>[jn(On,{class:{[i.is("loading")]:t.loading}},{default:()=>[jn(a)]})]}))}else o.push(jn("span",{class:i.e("placeholder")}));return o}function UN(e,t){return e.reduce((n,r)=>(n[r]=r,n),t)}function ADe(e,t){const n=Mr();return{registerComplexWatchers:()=>{const o=["fixed"],s={realWidth:"width",realMinWidth:"minWidth"},u=UN(o,s);Object.keys(u).forEach(a=>{const h=s[a];mi(t,h)&&Wt(()=>t[h],m=>{let v=m;h==="width"&&a==="realWidth"&&(v=_R(m)),h==="minWidth"&&a==="realMinWidth"&&(v=DZ(m)),n.columnConfig.value[h]=v,n.columnConfig.value[a]=v;const _=h==="fixed";e.value.store.scheduleLayout(_)})})},registerNormalWatchers:()=>{const o=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip"],s={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},u=UN(o,s);Object.keys(u).forEach(a=>{const h=s[a];mi(t,h)&&Wt(()=>t[h],m=>{n.columnConfig.value[a]=m})})}}}function IDe(e,t,n){const r=Mr(),i=Te(""),o=Te(!1),s=Te(),u=Te(),a=en("table");ko(()=>{s.value=e.align?`is-${e.align}`:null,s.value}),ko(()=>{u.value=e.headerAlign?`is-${e.headerAlign}`:s.value,u.value});const h=le(()=>{let U=r.vnode.vParent||r.parent;for(;U&&!U.tableId&&!U.columnId;)U=U.vnode.vParent||U.parent;return U}),m=le(()=>{const{store:U}=r.parent;if(!U)return!1;const{treeData:W}=U.states,q=W.value;return q&&Object.keys(q).length>0}),v=Te(_R(e.width)),_=Te(DZ(e.minWidth)),b=U=>(v.value&&(U.width=v.value),_.value&&(U.minWidth=_.value),!v.value&&_.value&&(U.width=void 0),U.minWidth||(U.minWidth=80),U.realWidth=Number(U.width===void 0?U.minWidth:U.width),U),T=U=>{const W=U.type,q=TDe[W]||{};Object.keys(q).forEach(te=>{const ie=q[te];te!=="className"&&ie!==void 0&&(U[te]=ie)});const Q=CDe(W);if(Q){const te=`${A(a.namespace)}-${Q}`;U.className=U.className?`${U.className} ${te}`:te}return U},M=U=>{Array.isArray(U)?U.forEach(q=>W(q)):W(U);function W(q){var Q;((Q=q==null?void 0:q.type)==null?void 0:Q.name)==="ElTableColumn"&&(q.vParent=r)}};return{columnId:i,realAlign:s,isSubColumn:o,realHeaderAlign:u,columnOrTableParent:h,setColumnWidth:b,setColumnForcedProps:T,setColumnRenders:U=>{e.renderHeader||U.type!=="selection"&&(U.renderHeader=q=>(r.columnConfig.value.label,bt(t,"header",q,()=>[U.label]))),t["filter-icon"]&&(U.renderFilterIcon=q=>bt(t,"filter-icon",q));let W=U.renderCell;return U.type==="expand"?(U.renderCell=q=>jn("div",{class:"cell"},[W(q)]),n.value.renderExpanded=q=>t.default?t.default(q):t.default):(W=W||MDe,U.renderCell=q=>{let Q=null;if(t.default){const be=t.default(q);Q=be.some(Ie=>Ie.type!==Io)?be:W(q)}else Q=W(q);const{columns:te}=n.value.store.states,ie=te.value.findIndex(be=>be.type==="default"),ae=m.value&&q.cellIndex===ie,re=EDe(q,ae),se={class:"cell",style:{}};return U.showOverflowTooltip&&(se.class=`${se.class} ${A(a.namespace)}-tooltip`,se.style={width:`${(q.column.realWidth||Number(q.column.width))-1}px`}),M(Q),jn("div",se,[re,Q])}),U},getPropsData:(...U)=>U.reduce((W,q)=>(Array.isArray(q)&&q.forEach(Q=>{W[Q]=e[Q]}),W),{}),getColumnElIndex:(U,W)=>Array.prototype.indexOf.call(U,W),updateColumnOrder:()=>{n.value.store.commit("updateColumnOrder",r.columnConfig.value)}}}var kDe={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:e=>e.every(t=>["ascending","descending",null].includes(t))}};let PDe=1;var UZ=ge({name:"ElTableColumn",components:{ElCheckbox:Pu},props:kDe,setup(e,{slots:t}){const n=Mr(),r=Te({}),i=le(()=>{let B=n.parent;for(;B&&!B.tableId;)B=B.parent;return B}),{registerNormalWatchers:o,registerComplexWatchers:s}=ADe(i,e),{columnId:u,isSubColumn:a,realHeaderAlign:h,columnOrTableParent:m,setColumnWidth:v,setColumnForcedProps:_,setColumnRenders:b,getPropsData:T,getColumnElIndex:M,realAlign:E,updateColumnOrder:k}=IDe(e,t,i),z=m.value;u.value=`${z.tableId||z.columnId}_column_${PDe++}`,M_(()=>{a.value=i.value!==z;const B=e.type||"default",U=e.sortable===""?!0:e.sortable,W=Oa(e.showOverflowTooltip)?z.props.showOverflowTooltip:e.showOverflowTooltip,q={...SDe[B],id:u.value,type:B,property:e.prop||e.property,align:E,headerAlign:h,showOverflowTooltip:W,filterable:e.filters||e.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:U,index:e.index,rawColumnKey:n.vnode.key};let re=T(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);re=BRe(q,re),re=NRe(b,v,_)(re),r.value=re,o(),s()}),br(()=>{var B;const U=m.value,W=a.value?U.vnode.el.children:(B=U.refs.hiddenColumns)==null?void 0:B.children,q=()=>M(W||[],n.vnode.el);r.value.getColumnIndex=q,q()>-1&&i.value.store.commit("insertColumn",r.value,a.value?U.columnConfig.value:null,k)}),Di(()=>{const B=r.value.getColumnIndex;(B?B():-1)>-1&&i.value.store.commit("removeColumn",r.value,a.value?z.columnConfig.value:null,k)}),n.columnId=u.value,n.columnConfig=r},render(){var e,t,n;try{const r=(t=(e=this.$slots).default)==null?void 0:t.call(e,{row:{},column:{},$index:-1}),i=[];if(Array.isArray(r))for(const s of r)((n=s.type)==null?void 0:n.name)==="ElTableColumn"||s.shapeFlag&2?i.push(s):s.type===Nn&&Array.isArray(s.children)&&s.children.forEach(u=>{(u==null?void 0:u.patchFlag)!==1024&&!Qn(u==null?void 0:u.children)&&i.push(u)});return jn("div",i)}catch{return jn("div",[])}}});const LDe=pr(xDe,{TableColumn:UZ}),RDe=Ma(UZ);var Px=(e=>(e.ASC="asc",e.DESC="desc",e))(Px||{}),Lx=(e=>(e.CENTER="center",e.RIGHT="right",e))(Lx||{}),jZ=(e=>(e.LEFT="left",e.RIGHT="right",e))(jZ||{});const NI={asc:"desc",desc:"asc"},Rx=Symbol("placeholder"),DDe=(e,t,n)=>{var r;const i={flexGrow:0,flexShrink:0,...n?{}:{flexGrow:e.flexGrow||0,flexShrink:e.flexShrink||1}};n||(i.flexShrink=1);const o={...(r=e.style)!=null?r:{},...i,flexBasis:"auto",width:e.width};return t||(e.maxWidth&&(o.maxWidth=e.maxWidth),e.minWidth&&(o.minWidth=e.minWidth)),o};function ODe(e,t,n){const r=le(()=>A(t).map((E,k)=>{var z,B;return{...E,key:(B=(z=E.key)!=null?z:E.dataKey)!=null?B:k}})),i=le(()=>A(r).filter(E=>!E.hidden)),o=le(()=>A(i).filter(E=>E.fixed==="left"||E.fixed===!0)),s=le(()=>A(i).filter(E=>E.fixed==="right")),u=le(()=>A(i).filter(E=>!E.fixed)),a=le(()=>{const E=[];return A(o).forEach(k=>{E.push({...k,placeholderSign:Rx})}),A(u).forEach(k=>{E.push(k)}),A(s).forEach(k=>{E.push({...k,placeholderSign:Rx})}),E}),h=le(()=>A(o).length||A(s).length),m=le(()=>A(r).reduce((E,k)=>(E[k.key]=DDe(k,A(n),e.fixed),E),{})),v=le(()=>A(i).reduce((E,k)=>E+k.width,0)),_=E=>A(r).find(k=>k.key===E),b=E=>A(m)[E],T=(E,k)=>{E.width=k};function M(E){var k;const{key:z}=E.currentTarget.dataset;if(!z)return;const{sortState:B,sortBy:U}=e;let W=Px.ASC;Ar(B)?W=NI[B[z]]:W=NI[U.order],(k=e.onColumnSort)==null||k.call(e,{column:_(z),key:z,order:W})}return{columns:r,columnsStyles:m,columnsTotalWidth:v,fixedColumnsOnLeft:o,fixedColumnsOnRight:s,hasFixedColumns:h,mainColumns:a,normalColumns:u,visibleColumns:i,getColumn:_,getColumnStyle:b,updateColumnWidth:T,onColumnSorted:M}}const zDe=(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,onMaybeEndReached:i})=>{const o=Te({scrollLeft:0,scrollTop:0});function s(b){var T,M,E;const{scrollTop:k}=b;(T=t.value)==null||T.scrollTo(b),(M=n.value)==null||M.scrollToTop(k),(E=r.value)==null||E.scrollToTop(k)}function u(b){o.value=b,s(b)}function a(b){o.value.scrollTop=b,s(A(o))}function h(b){var T,M;o.value.scrollLeft=b,(M=(T=t.value)==null?void 0:T.scrollTo)==null||M.call(T,A(o))}function m(b){var T;u(b),(T=e.onScroll)==null||T.call(e,b)}function v({scrollTop:b}){const{scrollTop:T}=A(o);b!==T&&a(b)}function _(b,T="auto"){var M;(M=t.value)==null||M.scrollToRow(b,T)}return Wt(()=>A(o).scrollTop,(b,T)=>{b>T&&i()}),{scrollPos:o,scrollTo:u,scrollToLeft:h,scrollToTop:a,scrollToRow:_,onScroll:m,onVerticalScroll:v}},BDe=(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,tableInstance:i,ns:o,isScrolling:s})=>{const u=Mr(),{emit:a}=u,h=Ji(!1),m=Te(e.defaultExpandedRowKeys||[]),v=Te(-1),_=Ji(null),b=Te({}),T=Te({}),M=Ji({}),E=Ji({}),k=Ji({}),z=le(()=>Jn(e.estimatedRowHeight));function B(ae){var re;(re=e.onRowsRendered)==null||re.call(e,ae),ae.rowCacheEnd>A(v)&&(v.value=ae.rowCacheEnd)}function U({hovered:ae,rowKey:re}){if(s.value)return;i.vnode.el.querySelectorAll(`[rowkey="${String(re)}"]`).forEach(Ie=>{ae?Ie.classList.add(o.is("hovered")):Ie.classList.remove(o.is("hovered"))})}function W({expanded:ae,rowData:re,rowIndex:se,rowKey:be}){var Ie,Se;const me=[...A(m)],Le=me.indexOf(be);ae?Le===-1&&me.push(be):Le>-1&&me.splice(Le,1),m.value=me,a("update:expandedRowKeys",me),(Ie=e.onRowExpand)==null||Ie.call(e,{expanded:ae,rowData:re,rowIndex:se,rowKey:be}),(Se=e.onExpandedRowsChange)==null||Se.call(e,me)}const q=mo(()=>{var ae,re,se,be;h.value=!0,b.value={...A(b),...A(T)},Q(A(_),!1),T.value={},_.value=null,(ae=t.value)==null||ae.forceUpdate(),(re=n.value)==null||re.forceUpdate(),(se=r.value)==null||se.forceUpdate(),(be=u.proxy)==null||be.$forceUpdate(),h.value=!1},0);function Q(ae,re=!1){A(z)&&[t,n,r].forEach(se=>{const be=A(se);be&&be.resetAfterRowIndex(ae,re)})}function te(ae,re,se){const be=A(_);(be===null||be>se)&&(_.value=se),T.value[ae]=re}function ie({rowKey:ae,height:re,rowIndex:se},be){be?be===jZ.RIGHT?k.value[ae]=re:M.value[ae]=re:E.value[ae]=re;const Ie=Math.max(...[M,k,E].map(Se=>Se.value[ae]||0));A(b)[ae]!==Ie&&(te(ae,Ie,se),q())}return{expandedRowKeys:m,lastRenderedRowIndex:v,isDynamic:z,isResetting:h,rowHeights:b,resetAfterIndex:Q,onRowExpanded:W,onRowHovered:U,onRowsRendered:B,onRowHeightChange:ie}},FDe=(e,{expandedRowKeys:t,lastRenderedRowIndex:n,resetAfterIndex:r})=>{const i=Te({}),o=le(()=>{const u={},{data:a,rowKey:h}=e,m=A(t);if(!m||!m.length)return a;const v=[],_=new Set;m.forEach(T=>_.add(T));let b=a.slice();for(b.forEach(T=>u[T[h]]=0);b.length>0;){const T=b.shift();v.push(T),_.has(T[h])&&Array.isArray(T.children)&&T.children.length>0&&(b=[...T.children,...b],T.children.forEach(M=>u[M[h]]=u[T[h]]+1))}return i.value=u,v}),s=le(()=>{const{data:u,expandColumnKey:a}=e;return a?A(o):u});return Wt(s,(u,a)=>{u!==a&&(n.value=-1,r(0,!0))}),{data:s,depthMap:i}},NDe=(e,t)=>e+t,q3=e=>Tn(e)?e.reduce(NDe,0):e,y0=(e,t,n={})=>tr(e)?e(t):e??n,Gf=e=>(["width","maxWidth","minWidth","height"].forEach(t=>{e[t]=Ua(e[t])}),e),GZ=e=>fa(e)?t=>jn(e,t):e,$De=(e,{columnsTotalWidth:t,data:n,fixedColumnsOnLeft:r,fixedColumnsOnRight:i})=>{const o=le(()=>{const{fixed:B,width:U,vScrollbarSize:W}=e,q=U-W;return B?Math.max(Math.round(A(t)),q):q}),s=le(()=>A(o)+e.vScrollbarSize),u=le(()=>{const{height:B=0,maxHeight:U=0,footerHeight:W,hScrollbarSize:q}=e;if(U>0){const Q=A(T),te=A(a),ae=A(b)+Q+te+q;return Math.min(ae,U-W)}return B-W}),a=le(()=>{const{rowHeight:B,estimatedRowHeight:U}=e,W=A(n);return Jn(U)?W.length*U:W.length*B}),h=le(()=>{const{maxHeight:B}=e,U=A(u);if(Jn(B)&&B>0)return U;const W=A(a)+A(b)+A(T);return Math.min(U,W)}),m=B=>B.width,v=le(()=>q3(A(r).map(m))),_=le(()=>q3(A(i).map(m))),b=le(()=>q3(e.headerHeight)),T=le(()=>{var B;return(((B=e.fixedData)==null?void 0:B.length)||0)*e.rowHeight}),M=le(()=>A(u)-A(b)-A(T)),E=le(()=>{const{style:B={},height:U,width:W}=e;return Gf({...B,height:U,width:W})}),k=le(()=>Gf({height:e.footerHeight})),z=le(()=>({top:Ua(A(b)),bottom:Ua(e.footerHeight),width:Ua(e.width)}));return{bodyWidth:o,fixedTableHeight:h,mainTableHeight:u,leftTableWidth:v,rightTableWidth:_,headerWidth:s,rowsHeight:a,windowHeight:M,footerHeight:k,emptyStyle:z,rootStyle:E,headerHeight:b}},VDe=e=>{const t=Te(),n=Te(0),r=Te(0);let i;return br(()=>{i=ga(t,([o])=>{const{width:s,height:u}=o.contentRect,{paddingLeft:a,paddingRight:h,paddingTop:m,paddingBottom:v}=getComputedStyle(o.target),_=Number.parseInt(a)||0,b=Number.parseInt(h)||0,T=Number.parseInt(m)||0,M=Number.parseInt(v)||0;n.value=s-_-b,r.value=u-T-M}).stop}),Di(()=>{i==null||i()}),Wt([n,r],([o,s])=>{var u;(u=e.onResize)==null||u.call(e,{width:o,height:s})}),{sizer:t,width:n,height:r}};function HDe(e){const t=Te(),n=Te(),r=Te(),{columns:i,columnsStyles:o,columnsTotalWidth:s,fixedColumnsOnLeft:u,fixedColumnsOnRight:a,hasFixedColumns:h,mainColumns:m,onColumnSorted:v}=ODe(e,Li(e,"columns"),Li(e,"fixed")),{scrollTo:_,scrollToLeft:b,scrollToTop:T,scrollToRow:M,onScroll:E,onVerticalScroll:k,scrollPos:z}=zDe(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,onMaybeEndReached:Ne}),B=en("table-v2"),U=Mr(),W=Ji(!1),{expandedRowKeys:q,lastRenderedRowIndex:Q,isDynamic:te,isResetting:ie,rowHeights:ae,resetAfterIndex:re,onRowExpanded:se,onRowHeightChange:be,onRowHovered:Ie,onRowsRendered:Se}=BDe(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,tableInstance:U,ns:B,isScrolling:W}),{data:me,depthMap:Le}=FDe(e,{expandedRowKeys:q,lastRenderedRowIndex:Q,resetAfterIndex:re}),{bodyWidth:Ee,fixedTableHeight:_e,mainTableHeight:xe,leftTableWidth:Be,rightTableWidth:Je,headerWidth:Ye,rowsHeight:lt,windowHeight:Nt,footerHeight:Dt,emptyStyle:je,rootStyle:Ct,headerHeight:vt}=$De(e,{columnsTotalWidth:s,data:me,fixedColumnsOnLeft:u,fixedColumnsOnRight:a}),Vt=Te(),Re=le(()=>{const et=A(me).length===0;return Tn(e.fixedData)?e.fixedData.length===0&&et:et});function pt(et){const{estimatedRowHeight:Ze,rowHeight:nn,rowKey:It}=e;return Ze?A(ae)[A(me)[et][It]]||Ze:nn}function Ne(){const{onEndReached:et}=e;if(!et)return;const{scrollTop:Ze}=A(z),nn=A(lt),It=A(Nt),Ft=nn-(Ze+It)+e.hScrollbarSize;A(Q)>=0&&nn===Ze+A(xe)-A(vt)&&et(Ft)}return Wt(()=>e.expandedRowKeys,et=>q.value=et,{deep:!0}),{columns:i,containerRef:Vt,mainTableRef:t,leftTableRef:n,rightTableRef:r,isDynamic:te,isResetting:ie,isScrolling:W,hasFixedColumns:h,columnsStyles:o,columnsTotalWidth:s,data:me,expandedRowKeys:q,depthMap:Le,fixedColumnsOnLeft:u,fixedColumnsOnRight:a,mainColumns:m,bodyWidth:Ee,emptyStyle:je,rootStyle:Ct,headerWidth:Ye,footerHeight:Dt,mainTableHeight:xe,fixedTableHeight:_e,leftTableWidth:Be,rightTableWidth:Je,showEmpty:Re,getRowHeight:pt,onColumnSorted:v,onRowHovered:Ie,onRowExpanded:se,onRowsRendered:Se,onRowHeightChange:be,scrollTo:_,scrollToLeft:b,scrollToTop:T,scrollToRow:M,onScroll:E,onVerticalScroll:k}}const xR=Symbol("tableV2"),WZ=String,yw={type:dt(Array),required:!0},wR={type:dt(Array)},qZ={...wR,required:!0},UDe=String,jN={type:dt(Array),default:()=>Ca([])},Vm={type:Number,required:!0},KZ={type:dt([String,Number,Symbol]),default:"id"},GN={type:dt(Object)},Km=un({class:String,columns:yw,columnsStyles:{type:dt(Object),required:!0},depth:Number,expandColumnKey:UDe,estimatedRowHeight:{...r0.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:dt(Function)},onRowHover:{type:dt(Function)},onRowHeightChange:{type:dt(Function)},rowData:{type:dt(Object),required:!0},rowEventHandlers:{type:dt(Object)},rowIndex:{type:Number,required:!0},rowKey:KZ,style:{type:dt(Object)}}),H5={type:Number,required:!0},SR=un({class:String,columns:yw,fixedHeaderData:{type:dt(Array)},headerData:{type:dt(Array),required:!0},headerHeight:{type:dt([Number,Array]),default:50},rowWidth:H5,rowHeight:{type:Number,default:50},height:H5,width:H5}),K3=un({columns:yw,data:qZ,fixedData:wR,estimatedRowHeight:Km.estimatedRowHeight,width:Vm,height:Vm,headerWidth:Vm,headerHeight:SR.headerHeight,bodyWidth:Vm,rowHeight:Vm,cache:pZ.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:r0.scrollbarAlwaysOn,scrollbarStartGap:r0.scrollbarStartGap,scrollbarEndGap:r0.scrollbarEndGap,class:WZ,style:GN,containerStyle:GN,getRowHeight:{type:dt(Function),required:!0},rowKey:Km.rowKey,onRowsRendered:{type:dt(Function)},onScroll:{type:dt(Function)}}),jDe=un({cache:K3.cache,estimatedRowHeight:Km.estimatedRowHeight,rowKey:KZ,headerClass:{type:dt([String,Function])},headerProps:{type:dt([Object,Function])},headerCellProps:{type:dt([Object,Function])},headerHeight:SR.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:dt([String,Function])},rowProps:{type:dt([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:dt([Object,Function])},columns:yw,data:qZ,dataGetter:{type:dt(Function)},fixedData:wR,expandColumnKey:Km.expandColumnKey,expandedRowKeys:jN,defaultExpandedRowKeys:jN,class:WZ,fixed:Boolean,style:{type:dt(Object)},width:Vm,height:Vm,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:r0.hScrollbarSize,vScrollbarSize:r0.vScrollbarSize,scrollbarAlwaysOn:gZ.alwaysOn,sortBy:{type:dt(Object),default:()=>({})},sortState:{type:dt(Object),default:void 0},onColumnSort:{type:dt(Function)},onExpandedRowsChange:{type:dt(Function)},onEndReached:{type:dt(Function)},onRowExpand:Km.onRowExpand,onScroll:K3.onScroll,onRowsRendered:K3.onRowsRendered,rowEventHandlers:Km.rowEventHandlers}),CR=(e,{slots:t})=>{var n;const{cellData:r,style:i}=e,o=((n=r==null?void 0:r.toString)==null?void 0:n.call(r))||"",s=bt(t,"default",e,()=>[o]);return Fe("div",{class:e.class,title:o,style:i},[s])};CR.displayName="ElTableV2Cell";CR.inheritAttrs=!1;const TR=(e,{slots:t})=>bt(t,"default",e,()=>{var n,r;return[Fe("div",{class:e.class,title:(n=e.column)==null?void 0:n.title},[(r=e.column)==null?void 0:r.title])]});TR.displayName="ElTableV2HeaderCell";TR.inheritAttrs=!1;const GDe=un({class:String,columns:yw,columnsStyles:{type:dt(Object),required:!0},headerIndex:Number,style:{type:dt(Object)}}),WDe=ge({name:"ElTableV2HeaderRow",props:GDe,setup(e,{slots:t}){return()=>{const{columns:n,columnsStyles:r,headerIndex:i,style:o}=e;let s=n.map((u,a)=>t.cell({columns:n,column:u,columnIndex:a,headerIndex:i,style:r[u.key]}));return t.header&&(s=t.header({cells:s.map(u=>Tn(u)&&u.length===1?u[0]:u),columns:n,headerIndex:i})),Fe("div",{class:e.class,style:o,role:"row"},[s])}}}),qDe="ElTableV2Header",KDe=ge({name:qDe,props:SR,setup(e,{slots:t,expose:n}){const r=en("table-v2"),i=Te(),o=le(()=>Gf({width:e.width,height:e.height})),s=le(()=>Gf({width:e.rowWidth,height:e.height})),u=le(()=>vs(A(e.headerHeight))),a=v=>{const _=A(i);Fn(()=>{_!=null&&_.scroll&&_.scroll({left:v})})},h=()=>{const v=r.e("fixed-header-row"),{columns:_,fixedHeaderData:b,rowHeight:T}=e;return b==null?void 0:b.map((M,E)=>{var k;const z=Gf({height:T,width:"100%"});return(k=t.fixed)==null?void 0:k.call(t,{class:v,columns:_,rowData:M,rowIndex:-(E+1),style:z})})},m=()=>{const v=r.e("dynamic-header-row"),{columns:_}=e;return A(u).map((b,T)=>{var M;const E=Gf({width:"100%",height:b});return(M=t.dynamic)==null?void 0:M.call(t,{class:v,columns:_,headerIndex:T,style:E})})};return n({scrollToLeft:a}),()=>{if(!(e.height<=0))return Fe("div",{ref:i,class:e.class,style:A(o),role:"rowgroup"},[Fe("div",{style:A(s),class:r.e("header")},[m(),h()])])}}}),YDe=e=>{const{isScrolling:t}=An(xR),n=Te(!1),r=Te(),i=le(()=>Jn(e.estimatedRowHeight)&&e.rowIndex>=0),o=(a=!1)=>{const h=A(r);if(!h)return;const{columns:m,onRowHeightChange:v,rowKey:_,rowIndex:b,style:T}=e,{height:M}=h.getBoundingClientRect();n.value=!0,Fn(()=>{if(a||M!==Number.parseInt(T.height)){const E=m[0],k=(E==null?void 0:E.placeholderSign)===Rx;v==null||v({rowKey:_,height:M,rowIndex:b},E&&!k&&E.fixed)}})},s=le(()=>{const{rowData:a,rowIndex:h,rowKey:m,onRowHover:v}=e,_=e.rowEventHandlers||{},b={};return Object.entries(_).forEach(([T,M])=>{tr(M)&&(b[T]=E=>{M({event:E,rowData:a,rowIndex:h,rowKey:m})})}),v&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:T,hovered:M})=>{const E=b[T];b[T]=k=>{v({event:k,hovered:M,rowData:a,rowIndex:h,rowKey:m}),E==null||E(k)}}),b}),u=a=>{const{onRowExpand:h,rowData:m,rowIndex:v,rowKey:_}=e;h==null||h({expanded:a,rowData:m,rowIndex:v,rowKey:_})};return br(()=>{A(i)&&o(!0)}),{isScrolling:t,measurable:i,measured:n,rowRef:r,eventHandlers:s,onExpand:u}},ZDe="ElTableV2TableRow",XDe=ge({name:ZDe,props:Km,setup(e,{expose:t,slots:n,attrs:r}){const{eventHandlers:i,isScrolling:o,measurable:s,measured:u,rowRef:a,onExpand:h}=YDe(e);return t({onExpand:h}),()=>{const{columns:m,columnsStyles:v,expandColumnKey:_,depth:b,rowData:T,rowIndex:M,style:E}=e;let k=m.map((z,B)=>{const U=Tn(T.children)&&T.children.length>0&&z.key===_;return n.cell({column:z,columns:m,columnIndex:B,depth:b,style:v[z.key],rowData:T,rowIndex:M,isScrolling:A(o),expandIconProps:U?{rowData:T,rowIndex:M,onExpand:h}:void 0})});if(n.row&&(k=n.row({cells:k.map(z=>Tn(z)&&z.length===1?z[0]:z),style:E,columns:m,depth:b,rowData:T,rowIndex:M,isScrolling:A(o)})),A(s)){const{height:z,...B}=E||{},U=A(u);return Fe("div",Lr({ref:a,class:e.class,style:U?E:B,role:"row"},r,A(i)),[k])}return Fe("div",Lr(r,{ref:a,class:e.class,style:E,role:"row"},A(i)),[k])}}}),JDe=e=>{const{sortOrder:t}=e;return Fe(On,{size:14,class:e.class},{default:()=>[t===Px.ASC?Fe(Eq,null,null):Fe(Mq,null,null)]})},QDe=e=>{const{expanded:t,expandable:n,onExpand:r,style:i,size:o}=e,s={onClick:n?()=>r(!t):void 0,class:e.class};return Fe(On,Lr(s,{size:o,style:i}),{default:()=>[Fe(xs,null,null)]})},eOe="ElTableV2Grid",tOe=e=>{const t=Te(),n=Te(),r=le(()=>{const{data:M,rowHeight:E,estimatedRowHeight:k}=e;if(!k)return M.length*E}),i=le(()=>{const{fixedData:M,rowHeight:E}=e;return((M==null?void 0:M.length)||0)*E}),o=le(()=>q3(e.headerHeight)),s=le(()=>{const{height:M}=e;return Math.max(0,M-A(o)-A(i))}),u=le(()=>A(o)+A(i)>0),a=({data:M,rowIndex:E})=>M[E][e.rowKey];function h({rowCacheStart:M,rowCacheEnd:E,rowVisibleStart:k,rowVisibleEnd:z}){var B;(B=e.onRowsRendered)==null||B.call(e,{rowCacheStart:M,rowCacheEnd:E,rowVisibleStart:k,rowVisibleEnd:z})}function m(M,E){var k;(k=n.value)==null||k.resetAfterRowIndex(M,E)}function v(M,E){const k=A(t),z=A(n);Ar(M)?(k==null||k.scrollToLeft(M.scrollLeft),z==null||z.scrollTo(M)):(k==null||k.scrollToLeft(M),z==null||z.scrollTo({scrollLeft:M,scrollTop:E}))}function _(M){var E;(E=A(n))==null||E.scrollTo({scrollTop:M})}function b(M,E){var k;(k=A(n))==null||k.scrollToItem(M,1,E)}function T(){var M,E;(M=A(n))==null||M.$forceUpdate(),(E=A(t))==null||E.$forceUpdate()}return{bodyRef:n,forceUpdate:T,fixedRowHeight:i,gridHeight:s,hasHeader:u,headerHeight:o,headerRef:t,totalHeight:r,itemKey:a,onItemRendered:h,resetAfterRowIndex:m,scrollTo:v,scrollToTop:_,scrollToRow:b}},MR=ge({name:eOe,props:K3,setup(e,{slots:t,expose:n}){const{ns:r}=An(xR),{bodyRef:i,fixedRowHeight:o,gridHeight:s,hasHeader:u,headerRef:a,headerHeight:h,totalHeight:m,forceUpdate:v,itemKey:_,onItemRendered:b,resetAfterRowIndex:T,scrollTo:M,scrollToTop:E,scrollToRow:k}=tOe(e);n({forceUpdate:v,totalHeight:m,scrollTo:M,scrollToTop:E,scrollToRow:k,resetAfterRowIndex:T});const z=()=>e.bodyWidth;return()=>{const{cache:B,columns:U,data:W,fixedData:q,useIsScrolling:Q,scrollbarAlwaysOn:te,scrollbarEndGap:ie,scrollbarStartGap:ae,style:re,rowHeight:se,bodyWidth:be,estimatedRowHeight:Ie,headerWidth:Se,height:me,width:Le,getRowHeight:Ee,onScroll:_e}=e,xe=Jn(Ie),Be=xe?tLe:XPe,Je=A(h);return Fe("div",{role:"table",class:[r.e("table"),e.class],style:re},[Fe(Be,{ref:i,data:W,useIsScrolling:Q,itemKey:_,columnCache:0,columnWidth:xe?z:be,totalColumn:1,totalRow:W.length,rowCache:B,rowHeight:xe?Ee:se,width:Le,height:A(s),class:r.e("body"),role:"rowgroup",scrollbarStartGap:ae,scrollbarEndGap:ie,scrollbarAlwaysOn:te,onScroll:_e,onItemRendered:b,perfMode:!1},{default:Ye=>{var lt;const Nt=W[Ye.rowIndex];return(lt=t.row)==null?void 0:lt.call(t,{...Ye,columns:U,rowData:Nt})}}),A(u)&&Fe(KDe,{ref:a,class:r.e("header-wrapper"),columns:U,headerData:W,headerHeight:e.headerHeight,fixedHeaderData:q,rowWidth:Se,rowHeight:se,width:Le,height:Math.min(Je+A(o),me)},{dynamic:t.header,fixed:t.row})])}}});function nOe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!fa(e)}const rOe=(e,{slots:t})=>{const{mainTableRef:n,...r}=e;return Fe(MR,Lr({ref:n},r),nOe(t)?t:{default:()=>[t]})};function iOe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!fa(e)}const aOe=(e,{slots:t})=>{if(!e.columns.length)return;const{leftTableRef:n,...r}=e;return Fe(MR,Lr({ref:n},r),iOe(t)?t:{default:()=>[t]})};function oOe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!fa(e)}const sOe=(e,{slots:t})=>{if(!e.columns.length)return;const{rightTableRef:n,...r}=e;return Fe(MR,Lr({ref:n},r),oOe(t)?t:{default:()=>[t]})};function lOe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!fa(e)}const uOe=(e,{slots:t})=>{const{columns:n,columnsStyles:r,depthMap:i,expandColumnKey:o,expandedRowKeys:s,estimatedRowHeight:u,hasFixedColumns:a,rowData:h,rowIndex:m,style:v,isScrolling:_,rowProps:b,rowClass:T,rowKey:M,rowEventHandlers:E,ns:k,onRowHovered:z,onRowExpanded:B}=e,U=y0(T,{columns:n,rowData:h,rowIndex:m},""),W=y0(b,{columns:n,rowData:h,rowIndex:m}),q=h[M],Q=i[q]||0,te=!!o,ie=m<0,ae=[k.e("row"),U,{[k.e(`row-depth-${Q}`)]:te&&m>=0,[k.is("expanded")]:te&&s.includes(q),[k.is("fixed")]:!Q&&ie,[k.is("customized")]:!!t.row}],re=a?z:void 0,se={...W,columns:n,columnsStyles:r,class:ae,depth:Q,expandColumnKey:o,estimatedRowHeight:ie?void 0:u,isScrolling:_,rowIndex:m,rowData:h,rowKey:q,rowEventHandlers:E,style:v};return Fe(XDe,Lr(se,{onRowExpand:B,onMouseenter:Se=>{re==null||re({hovered:!0,rowKey:q,event:Se,rowData:h,rowIndex:m})},onMouseleave:Se=>{re==null||re({hovered:!1,rowKey:q,event:Se,rowData:h,rowIndex:m})},rowkey:q}),lOe(t)?t:{default:()=>[t]})},$I=({columns:e,column:t,columnIndex:n,depth:r,expandIconProps:i,isScrolling:o,rowData:s,rowIndex:u,style:a,expandedRowKeys:h,ns:m,cellProps:v,expandColumnKey:_,indentSize:b,iconSize:T,rowKey:M},{slots:E})=>{const k=Gf(a);if(t.placeholderSign===Rx)return Fe("div",{class:m.em("row-cell","placeholder"),style:k},null);const{cellRenderer:z,dataKey:B,dataGetter:U}=t,W=tr(U)?U({columns:e,column:t,columnIndex:n,rowData:s,rowIndex:u}):Ka(s,B??""),q=y0(v,{cellData:W,columns:e,column:t,columnIndex:n,rowIndex:u,rowData:s}),Q={class:m.e("cell-text"),columns:e,column:t,columnIndex:n,cellData:W,isScrolling:o,rowData:s,rowIndex:u},te=GZ(z),ie=te?te(Q):bt(E,"default",Q,()=>[Fe(CR,Q,null)]),ae=[m.e("row-cell"),t.class,t.align===Lx.CENTER&&m.is("align-center"),t.align===Lx.RIGHT&&m.is("align-right")],re=u>=0&&_&&t.key===_,se=u>=0&&h.includes(s[M]);let be;const Ie=`margin-inline-start: ${r*b}px;`;return re&&(Ar(i)?be=Fe(QDe,Lr(i,{class:[m.e("expand-icon"),m.is("expanded",se)],size:T,expanded:se,style:Ie,expandable:!0}),null):be=Fe("div",{style:[Ie,`width: ${T}px; height: ${T}px;`].join(" ")},null)),Fe("div",Lr({class:ae,style:k},q,{role:"cell"}),[be,ie])};$I.inheritAttrs=!1;function cOe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!fa(e)}const dOe=({columns:e,columnsStyles:t,headerIndex:n,style:r,headerClass:i,headerProps:o,ns:s},{slots:u})=>{const a={columns:e,headerIndex:n},h=[s.e("header-row"),y0(i,a,""),{[s.is("customized")]:!!u.header}],m={...y0(o,a),columnsStyles:t,class:h,columns:e,headerIndex:n,style:r};return Fe(WDe,m,cOe(u)?u:{default:()=>[u]})},WN=(e,{slots:t})=>{const{column:n,ns:r,style:i,onColumnSorted:o}=e,s=Gf(i);if(n.placeholderSign===Rx)return Fe("div",{class:r.em("header-row-cell","placeholder"),style:s},null);const{headerCellRenderer:u,headerClass:a,sortable:h}=n,m={...e,class:r.e("header-cell-text")},v=GZ(u),_=v?v(m):bt(t,"default",m,()=>[Fe(TR,m,null)]),{sortBy:b,sortState:T,headerCellProps:M}=e;let E,k;if(T){const U=T[n.key];E=!!NI[U],k=E?U:Px.ASC}else E=n.key===b.key,k=E?b.order:Px.ASC;const z=[r.e("header-cell"),y0(a,e,""),n.align===Lx.CENTER&&r.is("align-center"),n.align===Lx.RIGHT&&r.is("align-right"),h&&r.is("sortable")],B={...y0(M,e),onClick:n.sortable?o:void 0,class:z,style:s,"data-key":n.key};return Fe("div",Lr(B,{role:"columnheader"}),[_,h&&Fe(JDe,{class:[r.e("sort-icon"),E&&r.is("sorting")],sortOrder:k},null)])},YZ=(e,{slots:t})=>{var n;return Fe("div",{class:e.class,style:e.style},[(n=t.default)==null?void 0:n.call(t)])};YZ.displayName="ElTableV2Footer";const ZZ=(e,{slots:t})=>{const n=bt(t,"default",{},()=>[Fe(JY,null,null)]);return Fe("div",{class:e.class,style:e.style},[n])};ZZ.displayName="ElTableV2Empty";const XZ=(e,{slots:t})=>{var n;return Fe("div",{class:e.class,style:e.style},[(n=t.default)==null?void 0:n.call(t)])};XZ.displayName="ElTableV2Overlay";function G1(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!fa(e)}const hOe="ElTableV2",fOe=ge({name:hOe,props:jDe,setup(e,{slots:t,expose:n}){const r=en("table-v2"),{columnsStyles:i,fixedColumnsOnLeft:o,fixedColumnsOnRight:s,mainColumns:u,mainTableHeight:a,fixedTableHeight:h,leftTableWidth:m,rightTableWidth:v,data:_,depthMap:b,expandedRowKeys:T,hasFixedColumns:M,mainTableRef:E,leftTableRef:k,rightTableRef:z,isDynamic:B,isResetting:U,isScrolling:W,bodyWidth:q,emptyStyle:Q,rootStyle:te,headerWidth:ie,footerHeight:ae,showEmpty:re,scrollTo:se,scrollToLeft:be,scrollToTop:Ie,scrollToRow:Se,getRowHeight:me,onColumnSorted:Le,onRowHeightChange:Ee,onRowHovered:_e,onRowExpanded:xe,onRowsRendered:Be,onScroll:Je,onVerticalScroll:Ye}=HDe(e);return n({scrollTo:se,scrollToLeft:be,scrollToTop:Ie,scrollToRow:Se}),Rr(xR,{ns:r,isResetting:U,isScrolling:W}),()=>{const{cache:lt,cellProps:Nt,estimatedRowHeight:Dt,expandColumnKey:je,fixedData:Ct,headerHeight:vt,headerClass:Vt,headerProps:Re,headerCellProps:pt,sortBy:Ne,sortState:et,rowHeight:Ze,rowClass:nn,rowEventHandlers:It,rowKey:Ft,rowProps:zt,scrollbarAlwaysOn:tn,indentSize:fn,iconSize:hn,useIsScrolling:Dn,vScrollbarSize:ln,width:St}=e,Pn=A(_),rr={cache:lt,class:r.e("main"),columns:A(u),data:Pn,fixedData:Ct,estimatedRowHeight:Dt,bodyWidth:A(q)+ln,headerHeight:vt,headerWidth:A(ie),height:A(a),mainTableRef:E,rowKey:Ft,rowHeight:Ze,scrollbarAlwaysOn:tn,scrollbarStartGap:2,scrollbarEndGap:ln,useIsScrolling:Dn,width:St,getRowHeight:me,onRowsRendered:Be,onScroll:Je},cr=A(m),sr=A(h),Xr={cache:lt,class:r.e("left"),columns:A(o),data:Pn,estimatedRowHeight:Dt,leftTableRef:k,rowHeight:Ze,bodyWidth:cr,headerWidth:cr,headerHeight:vt,height:sr,rowKey:Ft,scrollbarAlwaysOn:tn,scrollbarStartGap:2,scrollbarEndGap:ln,useIsScrolling:Dn,width:cr,getRowHeight:me,onScroll:Ye},Bt=A(v)+ln,yn={cache:lt,class:r.e("right"),columns:A(s),data:Pn,estimatedRowHeight:Dt,rightTableRef:z,rowHeight:Ze,bodyWidth:Bt,headerWidth:Bt,headerHeight:vt,height:sr,rowKey:Ft,scrollbarAlwaysOn:tn,scrollbarStartGap:2,scrollbarEndGap:ln,width:Bt,style:`--${A(r.namespace)}-table-scrollbar-size: ${ln}px`,useIsScrolling:Dn,getRowHeight:me,onScroll:Ye},ht=A(i),Zt={ns:r,depthMap:A(b),columnsStyles:ht,expandColumnKey:je,expandedRowKeys:A(T),estimatedRowHeight:Dt,hasFixedColumns:A(M),rowProps:zt,rowClass:nn,rowKey:Ft,rowEventHandlers:It,onRowHovered:_e,onRowExpanded:xe,onRowHeightChange:Ee},Xt={cellProps:Nt,expandColumnKey:je,indentSize:fn,iconSize:hn,rowKey:Ft,expandedRowKeys:A(T),ns:r},qn={ns:r,headerClass:Vt,headerProps:Re,columnsStyles:ht},Qr={ns:r,sortBy:Ne,sortState:et,headerCellProps:pt,onColumnSorted:Le},Mt={row:Nr=>Fe(uOe,Lr(Nr,Zt),{row:t.row,cell:qr=>{let si;return t.cell?Fe($I,Lr(qr,Xt,{style:ht[qr.column.key]}),G1(si=t.cell(qr))?si:{default:()=>[si]}):Fe($I,Lr(qr,Xt,{style:ht[qr.column.key]}),null)}}),header:Nr=>Fe(dOe,Lr(Nr,qn),{header:t.header,cell:qr=>{let si;return t["header-cell"]?Fe(WN,Lr(qr,Qr,{style:ht[qr.column.key]}),G1(si=t["header-cell"](qr))?si:{default:()=>[si]}):Fe(WN,Lr(qr,Qr,{style:ht[qr.column.key]}),null)}})},Gn=[e.class,r.b(),r.e("root"),{[r.is("dynamic")]:A(B)}],Wr={class:r.e("footer"),style:A(ae)};return Fe("div",{class:Gn,style:A(te)},[Fe(rOe,rr,G1(Mt)?Mt:{default:()=>[Mt]}),Fe(aOe,Xr,G1(Mt)?Mt:{default:()=>[Mt]}),Fe(sOe,yn,G1(Mt)?Mt:{default:()=>[Mt]}),t.footer&&Fe(YZ,Wr,{default:t.footer}),A(re)&&Fe(ZZ,{class:r.e("empty"),style:A(Q)},{default:t.empty}),t.overlay&&Fe(XZ,{class:r.e("overlay")},{default:t.overlay})])}}}),pOe=un({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:dt(Function)}}),mOe=ge({name:"ElAutoResizer",props:pOe,setup(e,{slots:t}){const n=en("auto-resizer"),{height:r,width:i,sizer:o}=VDe(e),s={width:"100%",height:"100%"};return()=>{var u;return Fe("div",{ref:o,class:n.b(),style:s},[(u=t.default)==null?void 0:u.call(t,{height:r.value,width:i.value})])}}}),vOe=pr(fOe),gOe=pr(mOe),T8=Symbol("tabsRootContextKey"),_Oe=un({tabs:{type:dt(Array),default:()=>Ca([])}}),JZ="ElTabBar",yOe=ge({name:JZ}),bOe=ge({...yOe,props:_Oe,setup(e,{expose:t}){const n=e,r=Mr(),i=An(T8);i||vo(JZ,"<el-tabs><el-tab-bar /></el-tabs>");const o=en("tabs"),s=Te(),u=Te(),a=()=>{let b=0,T=0;const M=["top","bottom"].includes(i.props.tabPosition)?"width":"height",E=M==="width"?"x":"y",k=E==="x"?"left":"top";return n.tabs.every(z=>{var B,U;const W=(U=(B=r.parent)==null?void 0:B.refs)==null?void 0:U[`tab-${z.uid}`];if(!W)return!1;if(!z.active)return!0;b=W[`offset${Kc(k)}`],T=W[`client${Kc(M)}`];const q=window.getComputedStyle(W);return M==="width"&&(T-=Number.parseFloat(q.paddingLeft)+Number.parseFloat(q.paddingRight),b+=Number.parseFloat(q.paddingLeft)),!1}),{[M]:`${T}px`,transform:`translate${Kc(E)}(${b}px)`}},h=()=>u.value=a(),m=[],v=()=>{var b;m.forEach(M=>M.stop()),m.length=0;const T=(b=r.parent)==null?void 0:b.refs;if(T){for(const M in T)if(M.startsWith("tab-")){const E=T[M];E&&m.push(ga(E,h))}}};Wt(()=>n.tabs,async()=>{await Fn(),h(),v()},{immediate:!0});const _=ga(s,()=>h());return Di(()=>{m.forEach(b=>b.stop()),m.length=0,_.stop()}),t({ref:s,update:h}),(b,T)=>(X(),pe("div",{ref_key:"barRef",ref:s,class:ye([A(o).e("active-bar"),A(o).is(A(i).props.tabPosition)]),style:Vn(u.value)},null,6))}});var xOe=mn(bOe,[["__file","tab-bar.vue"]]);const wOe=un({panes:{type:dt(Array),default:()=>Ca([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),SOe={tabClick:(e,t,n)=>n instanceof Event,tabRemove:(e,t)=>t instanceof Event},qN="ElTabNav",COe=ge({name:qN,props:wOe,emits:SOe,setup(e,{expose:t,emit:n}){const r=An(T8);r||vo(qN,"<el-tabs><tab-nav /></el-tabs>");const i=en("tabs"),o=wue(),s=Due(),u=Te(),a=Te(),h=Te(),m=Te(),v=Te(!1),_=Te(0),b=Te(!1),T=Te(!0),M=le(()=>["top","bottom"].includes(r.props.tabPosition)?"width":"height"),E=le(()=>({transform:`translate${M.value==="width"?"X":"Y"}(-${_.value}px)`})),k=()=>{if(!u.value)return;const te=u.value[`offset${Kc(M.value)}`],ie=_.value;if(!ie)return;const ae=ie>te?ie-te:0;_.value=ae},z=()=>{if(!u.value||!a.value)return;const te=a.value[`offset${Kc(M.value)}`],ie=u.value[`offset${Kc(M.value)}`],ae=_.value;if(te-ae<=ie)return;const re=te-ae>ie*2?ae+ie:te-ie;_.value=re},B=async()=>{const te=a.value;if(!v.value||!h.value||!u.value||!te)return;await Fn();const ie=h.value.querySelector(".is-active");if(!ie)return;const ae=u.value,re=["top","bottom"].includes(r.props.tabPosition),se=ie.getBoundingClientRect(),be=ae.getBoundingClientRect(),Ie=re?te.offsetWidth-be.width:te.offsetHeight-be.height,Se=_.value;let me=Se;re?(se.left<be.left&&(me=Se-(be.left-se.left)),se.right>be.right&&(me=Se+se.right-be.right)):(se.top<be.top&&(me=Se-(be.top-se.top)),se.bottom>be.bottom&&(me=Se+(se.bottom-be.bottom))),me=Math.max(me,0),_.value=Math.min(me,Ie)},U=()=>{var te;if(!a.value||!u.value)return;e.stretch&&((te=m.value)==null||te.update());const ie=a.value[`offset${Kc(M.value)}`],ae=u.value[`offset${Kc(M.value)}`],re=_.value;ae<ie?(v.value=v.value||{},v.value.prev=re,v.value.next=re+ae<ie,ie-re<ae&&(_.value=ie-ae)):(v.value=!1,re>0&&(_.value=0))},W=te=>{const ie=te.code,{up:ae,down:re,left:se,right:be}=Kn;if(![ae,re,se,be].includes(ie))return;const Ie=Array.from(te.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),Se=Ie.indexOf(te.target);let me;ie===se||ie===ae?Se===0?me=Ie.length-1:me=Se-1:Se<Ie.length-1?me=Se+1:me=0,Ie[me].focus({preventScroll:!0}),Ie[me].click(),q()},q=()=>{T.value&&(b.value=!0)},Q=()=>b.value=!1;return Wt(o,te=>{te==="hidden"?T.value=!1:te==="visible"&&setTimeout(()=>T.value=!0,50)}),Wt(s,te=>{te?setTimeout(()=>T.value=!0,50):T.value=!1}),ga(h,U),br(()=>setTimeout(()=>B(),0)),ud(()=>U()),t({scrollToActiveTab:B,removeFocus:Q}),()=>{const te=v.value?[Fe("span",{class:[i.e("nav-prev"),i.is("disabled",!v.value.prev)],onClick:k},[Fe(On,null,{default:()=>[Fe(sh,null,null)]})]),Fe("span",{class:[i.e("nav-next"),i.is("disabled",!v.value.next)],onClick:z},[Fe(On,null,{default:()=>[Fe(xs,null,null)]})])]:null,ie=e.panes.map((ae,re)=>{var se,be,Ie,Se;const me=ae.uid,Le=ae.props.disabled,Ee=(be=(se=ae.props.name)!=null?se:ae.index)!=null?be:`${re}`,_e=!Le&&(ae.isClosable||e.editable);ae.index=`${re}`;const xe=_e?Fe(On,{class:"is-icon-close",onClick:Ye=>n("tabRemove",ae,Ye)},{default:()=>[Fe(Au,null,null)]}):null,Be=((Se=(Ie=ae.slots).label)==null?void 0:Se.call(Ie))||ae.props.label,Je=!Le&&ae.active?0:-1;return Fe("div",{ref:`tab-${me}`,class:[i.e("item"),i.is(r.props.tabPosition),i.is("active",ae.active),i.is("disabled",Le),i.is("closable",_e),i.is("focus",b.value)],id:`tab-${Ee}`,key:`tab-${me}`,"aria-controls":`pane-${Ee}`,role:"tab","aria-selected":ae.active,tabindex:Je,onFocus:()=>q(),onBlur:()=>Q(),onClick:Ye=>{Q(),n("tabClick",ae,Ee,Ye)},onKeydown:Ye=>{_e&&(Ye.code===Kn.delete||Ye.code===Kn.backspace)&&n("tabRemove",ae,Ye)}},[Be,xe])});return Fe("div",{ref:h,class:[i.e("nav-wrap"),i.is("scrollable",!!v.value),i.is(r.props.tabPosition)]},[te,Fe("div",{class:i.e("nav-scroll"),ref:u},[Fe("div",{class:[i.e("nav"),i.is(r.props.tabPosition),i.is("stretch",e.stretch&&["top","bottom"].includes(r.props.tabPosition))],ref:a,style:E.value,role:"tablist",onKeydown:W},[e.type?null:Fe(xOe,{ref:m,tabs:[...e.panes]},null),ie])])])}}}),TOe=un({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:dt(Function),default:()=>!0},stretch:Boolean}),U5=e=>Qn(e)||Jn(e),MOe={[Tr]:e=>U5(e),tabClick:(e,t)=>t instanceof Event,tabChange:e=>U5(e),edit:(e,t)=>["remove","add"].includes(t),tabRemove:e=>U5(e),tabAdd:()=>!0},EOe=ge({name:"ElTabs",props:TOe,emits:MOe,setup(e,{emit:t,slots:n,expose:r}){var i;const o=en("tabs"),s=le(()=>["left","right"].includes(e.tabPosition)),{children:u,addChild:a,removeChild:h}=jL(Mr(),"ElTabPane"),m=Te(),v=Te((i=e.modelValue)!=null?i:"0"),_=async(k,z=!1)=>{var B,U,W;if(!(v.value===k||Oa(k)))try{await((B=e.beforeLeave)==null?void 0:B.call(e,k,v.value))!==!1&&(v.value=k,z&&(t(Tr,k),t("tabChange",k)),(W=(U=m.value)==null?void 0:U.removeFocus)==null||W.call(U))}catch{}},b=(k,z,B)=>{k.props.disabled||(_(z,!0),t("tabClick",k,B))},T=(k,z)=>{k.props.disabled||Oa(k.props.name)||(z.stopPropagation(),t("edit",k.props.name,"remove"),t("tabRemove",k.props.name))},M=()=>{t("edit",void 0,"add"),t("tabAdd")};Wt(()=>e.modelValue,k=>_(k)),Wt(v,async()=>{var k;await Fn(),(k=m.value)==null||k.scrollToActiveTab()}),Rr(T8,{props:e,currentName:v,registerPane:k=>{u.value.push(k)},sortPane:a,unregisterPane:h}),r({currentName:v});const E=({render:k})=>k();return()=>{const k=n["add-icon"],z=e.editable||e.addable?Fe("div",{class:[o.e("new-tab"),s.value&&o.e("new-tab-vertical")],tabindex:"0",onClick:M,onKeydown:W=>{W.code===Kn.enter&&M()}},[k?bt(n,"add-icon"):Fe(On,{class:o.is("icon-plus")},{default:()=>[Fe(yL,null,null)]})]):null,B=Fe("div",{class:[o.e("header"),s.value&&o.e("header-vertical"),o.is(e.tabPosition)]},[Fe(E,{render:()=>{const W=u.value.some(q=>q.slots.label);return Fe(COe,{ref:m,currentName:v.value,editable:e.editable,type:e.type,panes:u.value,stretch:e.stretch,onTabClick:b,onTabRemove:T},{$stable:!W})}},null),z]),U=Fe("div",{class:o.e("content")},[bt(n,"default")]);return Fe("div",{class:[o.b(),o.m(e.tabPosition),{[o.m("card")]:e.type==="card",[o.m("border-card")]:e.type==="border-card"}]},[U,B])}}}),AOe=un({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),QZ="ElTabPane",IOe=ge({name:QZ}),kOe=ge({...IOe,props:AOe,setup(e){const t=e,n=Mr(),r=yo(),i=An(T8);i||vo(QZ,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const o=en("tab-pane"),s=Te(),u=le(()=>t.closable||i.props.closable),a=TF(()=>{var b;return i.currentName.value===((b=t.name)!=null?b:s.value)}),h=Te(a.value),m=le(()=>{var b;return(b=t.name)!=null?b:s.value}),v=TF(()=>!t.lazy||h.value||a.value);Wt(a,b=>{b&&(h.value=!0)});const _=Ci({uid:n.uid,slots:r,props:t,paneName:m,active:a,index:s,isClosable:u});return i.registerPane(_),br(()=>{i.sortPane(_)}),vh(()=>{i.unregisterPane(_.uid)}),(b,T)=>A(v)?yr((X(),pe("div",{key:0,id:`pane-${A(m)}`,class:ye(A(o).b()),role:"tabpanel","aria-hidden":!A(a),"aria-labelledby":`tab-${A(m)}`},[bt(b.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[vi,A(a)]]):wt("v-if",!0)}});var eX=mn(kOe,[["__file","tab-pane.vue"]]);const tX=pr(EOe,{TabPane:eX}),bb=Ma(eX),POe=un({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:dd,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),LOe=ge({name:"ElText"}),ROe=ge({...LOe,props:POe,setup(e){const t=e,n=lo(),r=en("text"),i=le(()=>[r.b(),r.m(t.type),r.m(n.value),r.is("truncated",t.truncated),r.is("line-clamp",!Oa(t.lineClamp))]);return(o,s)=>(X(),Rt(kr(o.tag),{class:ye(A(i)),style:Vn({"-webkit-line-clamp":o.lineClamp})},{default:tt(()=>[bt(o.$slots,"default")]),_:3},8,["class","style"]))}});var DOe=mn(ROe,[["__file","text.vue"]]);const OOe=pr(DOe),zOe=un({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:dt(String),default:"light"},clearable:{type:Boolean,default:!0},size:go,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:dt([String,Object]),default:()=>_L},clearIcon:{type:dt([String,Object]),default:()=>yh},...O_}),Zd=e=>{const t=(e||"").split(":");if(t.length>=2){let n=Number.parseInt(t[0],10);const r=Number.parseInt(t[1],10),i=e.toUpperCase();return i.includes("AM")&&n===12?n=0:i.includes("PM")&&n!==12&&(n+=12),{hours:n,minutes:r}}return null},j5=(e,t)=>{const n=Zd(e);if(!n)return-1;const r=Zd(t);if(!r)return-1;const i=n.minutes+n.hours*60,o=r.minutes+r.hours*60;return i===o?0:i>o?1:-1},KN=e=>`${e}`.padStart(2,"0"),bg=e=>`${KN(e.hours)}:${KN(e.minutes)}`,BOe=(e,t)=>{const n=Zd(e);if(!n)return"";const r=Zd(t);if(!r)return"";const i={hours:n.hours,minutes:n.minutes};return i.minutes+=r.minutes,i.hours+=r.hours,i.hours+=Math.floor(i.minutes/60),i.minutes=i.minutes%60,bg(i)},FOe=ge({name:"ElTimeSelect"}),NOe=ge({...FOe,props:zOe,emits:["change","blur","focus","clear","update:modelValue"],setup(e,{expose:t}){const n=e;ur.extend(JL);const{Option:r}=_0,i=en("input"),o=Te(),s=Ss(),{lang:u}=ii(),a=le(()=>n.modelValue),h=le(()=>{const k=Zd(n.start);return k?bg(k):null}),m=le(()=>{const k=Zd(n.end);return k?bg(k):null}),v=le(()=>{const k=Zd(n.step);return k?bg(k):null}),_=le(()=>{const k=Zd(n.minTime||"");return k?bg(k):null}),b=le(()=>{const k=Zd(n.maxTime||"");return k?bg(k):null}),T=le(()=>{const k=[];if(n.start&&n.end&&n.step){let z=h.value,B;for(;z&&m.value&&j5(z,m.value)<=0;)B=ur(z,"HH:mm").locale(u.value).format(n.format),k.push({value:B,disabled:j5(z,_.value||"-1:-1")<=0||j5(z,b.value||"100:100")>=0}),z=BOe(z,v.value)}return k});return t({blur:()=>{var k,z;(z=(k=o.value)==null?void 0:k.blur)==null||z.call(k)},focus:()=>{var k,z;(z=(k=o.value)==null?void 0:k.focus)==null||z.call(k)}}),(k,z)=>(X(),Rt(A(_0),{ref_key:"select",ref:o,"model-value":A(a),disabled:A(s),clearable:k.clearable,"clear-icon":k.clearIcon,size:k.size,effect:k.effect,placeholder:k.placeholder,"default-first-option":"",filterable:k.editable,"empty-values":k.emptyValues,"value-on-clear":k.valueOnClear,"onUpdate:modelValue":B=>k.$emit("update:modelValue",B),onChange:B=>k.$emit("change",B),onBlur:B=>k.$emit("blur",B),onFocus:B=>k.$emit("focus",B),onClear:()=>k.$emit("clear")},{prefix:tt(()=>[k.prefixIcon?(X(),Rt(A(On),{key:0,class:ye(A(i).e("prefix-icon"))},{default:tt(()=>[(X(),Rt(kr(k.prefixIcon)))]),_:1},8,["class"])):wt("v-if",!0)]),default:tt(()=>[(X(!0),pe(Nn,null,Ur(A(T),B=>(X(),Rt(A(r),{key:B.value,label:B.value,value:B.value,disabled:B.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear","onUpdate:modelValue","onChange","onBlur","onFocus","onClear"]))}});var $Oe=mn(NOe,[["__file","time-select.vue"]]);const VOe=pr($Oe),HOe=ge({name:"ElTimeline",setup(e,{slots:t}){const n=en("timeline");return Rr("timeline",t),()=>jn("ul",{class:[n.b()]},[bt(t,"default")])}}),UOe=un({timestamp:{type:String,default:""},hideTimestamp:Boolean,center:Boolean,placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:Vi},hollow:Boolean}),jOe=ge({name:"ElTimelineItem"}),GOe=ge({...jOe,props:UOe,setup(e){const t=e,n=en("timeline-item"),r=le(()=>[n.e("node"),n.em("node",t.size||""),n.em("node",t.type||""),n.is("hollow",t.hollow)]);return(i,o)=>(X(),pe("li",{class:ye([A(n).b(),{[A(n).e("center")]:i.center}])},[ue("div",{class:ye(A(n).e("tail"))},null,2),i.$slots.dot?wt("v-if",!0):(X(),pe("div",{key:0,class:ye(A(r)),style:Vn({backgroundColor:i.color})},[i.icon?(X(),Rt(A(On),{key:0,class:ye(A(n).e("icon"))},{default:tt(()=>[(X(),Rt(kr(i.icon)))]),_:1},8,["class"])):wt("v-if",!0)],6)),i.$slots.dot?(X(),pe("div",{key:1,class:ye(A(n).e("dot"))},[bt(i.$slots,"dot")],2)):wt("v-if",!0),ue("div",{class:ye(A(n).e("wrapper"))},[!i.hideTimestamp&&i.placement==="top"?(X(),pe("div",{key:0,class:ye([A(n).e("timestamp"),A(n).is("top")])},pn(i.timestamp),3)):wt("v-if",!0),ue("div",{class:ye(A(n).e("content"))},[bt(i.$slots,"default")],2),!i.hideTimestamp&&i.placement==="bottom"?(X(),pe("div",{key:1,class:ye([A(n).e("timestamp"),A(n).is("bottom")])},pn(i.timestamp),3)):wt("v-if",!0)],2)],2))}});var nX=mn(GOe,[["__file","timeline-item.vue"]]);const WOe=pr(HOe,{TimelineItem:nX}),qOe=Ma(nX),rX=un({nowrap:Boolean});var iX=(e=>(e.top="top",e.bottom="bottom",e.left="left",e.right="right",e))(iX||{});const KOe=Object.values(iX),ER=un({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:dt(Object),default:null}}),YOe=un({side:{type:dt(String),values:KOe,required:!0}}),ZOe=["absolute","fixed"],XOe=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],AR=un({arrowPadding:{type:dt(Number),default:5},effect:{type:dt(String),default:"light"},contentClass:String,placement:{type:dt(String),values:XOe,default:"bottom"},reference:{type:dt(Object),default:null},offset:{type:Number,default:8},strategy:{type:dt(String),values:ZOe,default:"absolute"},showArrow:Boolean,...Uo(["ariaLabel"])}),IR=un({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:dt(Function)},"onUpdate:open":{type:dt(Function)}}),Jv={type:dt(Function)},kR=un({onBlur:Jv,onClick:Jv,onFocus:Jv,onMouseDown:Jv,onMouseEnter:Jv,onMouseLeave:Jv}),JOe=un({...IR,...ER,...kR,...AR,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:dt(Object),default:null},teleported:Boolean,to:{type:dt(String),default:"body"}}),M8=Symbol("tooltipV2"),aX=Symbol("tooltipV2Content"),G5="tooltip_v2.open",QOe=ge({name:"ElTooltipV2Root"}),e9e=ge({...QOe,props:IR,setup(e,{expose:t}){const n=e,r=Te(n.defaultOpen),i=Te(null),o=le({get:()=>f0(n.open)?r.value:n.open,set:E=>{var k;r.value=E,(k=n["onUpdate:open"])==null||k.call(n,E)}}),s=le(()=>Jn(n.delayDuration)&&n.delayDuration>0),{start:u,stop:a}=d0(()=>{o.value=!0},le(()=>n.delayDuration),{immediate:!1}),h=en("tooltip-v2"),m=Ho(),v=()=>{a(),o.value=!0},_=()=>{A(s)?u():v()},b=v,T=()=>{a(),o.value=!1};return Wt(o,E=>{var k;E&&(document.dispatchEvent(new CustomEvent(G5)),b()),(k=n.onOpenChange)==null||k.call(n,E)}),br(()=>{document.addEventListener(G5,T)}),Di(()=>{a(),document.removeEventListener(G5,T)}),Rr(M8,{contentId:m,triggerRef:i,ns:h,onClose:T,onDelayOpen:_,onOpen:b}),t({onOpen:b,onClose:T}),(E,k)=>bt(E.$slots,"default",{open:A(o)})}});var t9e=mn(e9e,[["__file","root.vue"]]);const n9e=ge({name:"ElTooltipV2Arrow"}),r9e=ge({...n9e,props:{...ER,...YOe},setup(e){const t=e,{ns:n}=An(M8),{arrowRef:r}=An(aX),i=le(()=>{const{style:o,width:s,height:u}=t,a=n.namespace.value;return{[`--${a}-tooltip-v2-arrow-width`]:`${s}px`,[`--${a}-tooltip-v2-arrow-height`]:`${u}px`,[`--${a}-tooltip-v2-arrow-border-width`]:`${s/2}px`,[`--${a}-tooltip-v2-arrow-cover-width`]:s/2-1,...o||{}}});return(o,s)=>(X(),pe("span",{ref_key:"arrowRef",ref:r,style:Vn(A(i)),class:ye(A(n).e("arrow"))},null,6))}});var YN=mn(r9e,[["__file","arrow.vue"]]);const i9e=un({style:{type:dt([String,Object,Array]),default:()=>({})}}),a9e=ge({name:"ElVisuallyHidden"}),o9e=ge({...a9e,props:i9e,setup(e){const t=e,n=le(()=>[t.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(r,i)=>(X(),pe("span",Lr(r.$attrs,{style:A(n)}),[bt(r.$slots,"default")],16))}});var s9e=mn(o9e,[["__file","visual-hidden.vue"]]);const l9e=ge({name:"ElTooltipV2Content"}),u9e=ge({...l9e,props:{...AR,...rX},setup(e){const t=e,{triggerRef:n,contentId:r}=An(M8),i=Te(t.placement),o=Te(t.strategy),s=Te(null),{referenceRef:u,contentRef:a,middlewareData:h,x:m,y:v,update:_}=L6e({placement:i,strategy:o,middleware:le(()=>{const B=[sK(t.offset)];return t.showArrow&&B.push(R6e({arrowRef:s})),B})}),b=R_().nextZIndex(),T=en("tooltip-v2"),M=le(()=>i.value.split("-")[0]),E=le(()=>({position:A(o),top:`${A(v)||0}px`,left:`${A(m)||0}px`,zIndex:b})),k=le(()=>{if(!t.showArrow)return{};const{arrow:B}=A(h);return{[`--${T.namespace.value}-tooltip-v2-arrow-x`]:`${B==null?void 0:B.x}px`||"",[`--${T.namespace.value}-tooltip-v2-arrow-y`]:`${B==null?void 0:B.y}px`||""}}),z=le(()=>[T.e("content"),T.is("dark",t.effect==="dark"),T.is(A(o)),t.contentClass]);return Wt(s,()=>_()),Wt(()=>t.placement,B=>i.value=B),br(()=>{Wt(()=>t.reference||n.value,B=>{u.value=B||void 0},{immediate:!0})}),Rr(aX,{arrowRef:s}),(B,U)=>(X(),pe("div",{ref_key:"contentRef",ref:a,style:Vn(A(E)),"data-tooltip-v2-root":""},[B.nowrap?wt("v-if",!0):(X(),pe("div",{key:0,"data-side":A(M),class:ye(A(z))},[bt(B.$slots,"default",{contentStyle:A(E),contentClass:A(z)}),Fe(A(s9e),{id:A(r),role:"tooltip"},{default:tt(()=>[B.ariaLabel?(X(),pe(Nn,{key:0},[Br(pn(B.ariaLabel),1)],64)):bt(B.$slots,"default",{key:1})]),_:3},8,["id"]),bt(B.$slots,"arrow",{style:Vn(A(k)),side:A(M)})],10,["data-side"]))],4))}});var ZN=mn(u9e,[["__file","content.vue"]]);const c9e=un({setRef:{type:dt(Function),required:!0},onlyChild:Boolean});var d9e=ge({props:c9e,setup(e,{slots:t}){const n=Te(),r=u8(n,i=>{i?e.setRef(i.nextElementSibling):e.setRef(null)});return()=>{var i;const[o]=((i=t.default)==null?void 0:i.call(t))||[],s=e.onlyChild?Twe(o.children):o.children;return Fe(Nn,{ref:r},[s])}}});const h9e=ge({name:"ElTooltipV2Trigger"}),f9e=ge({...h9e,props:{...rX,...kR},setup(e){const t=e,{onClose:n,onOpen:r,onDelayOpen:i,triggerRef:o,contentId:s}=An(M8);let u=!1;const a=z=>{o.value=z},h=()=>{u=!1},m=Ha(t.onMouseEnter,i),v=Ha(t.onMouseLeave,n),_=Ha(t.onMouseDown,()=>{n(),u=!0,document.addEventListener("mouseup",h,{once:!0})}),b=Ha(t.onFocus,()=>{u||r()}),T=Ha(t.onBlur,n),M=Ha(t.onClick,z=>{z.detail===0&&n()}),E={blur:T,click:M,focus:b,mousedown:_,mouseenter:m,mouseleave:v},k=(z,B,U)=>{z&&Object.entries(B).forEach(([W,q])=>{z[U](W,q)})};return Wt(o,(z,B)=>{k(z,E,"addEventListener"),k(B,E,"removeEventListener"),z&&z.setAttribute("aria-describedby",s.value)}),Di(()=>{k(o.value,E,"removeEventListener"),document.removeEventListener("mouseup",h)}),(z,B)=>z.nowrap?(X(),Rt(A(d9e),{key:0,"set-ref":a,"only-child":""},{default:tt(()=>[bt(z.$slots,"default")]),_:3})):(X(),pe("button",Lr({key:1,ref_key:"triggerRef",ref:o},z.$attrs),[bt(z.$slots,"default")],16))}});var p9e=mn(f9e,[["__file","trigger.vue"]]);const m9e=ge({name:"ElTooltipV2"}),v9e=ge({...m9e,props:JOe,setup(e){const n=Co(e),r=Ci(oc(n,Object.keys(ER))),i=Ci(oc(n,Object.keys(AR))),o=Ci(oc(n,Object.keys(IR))),s=Ci(oc(n,Object.keys(kR)));return(u,a)=>(X(),Rt(t9e,ac(ap(o)),{default:tt(({open:h})=>[Fe(p9e,Lr(s,{nowrap:""}),{default:tt(()=>[bt(u.$slots,"trigger")]),_:3},16),Fe(A(z_),{to:u.to,disabled:!u.teleported},{default:tt(()=>[u.fullTransition?(X(),Rt(Lo,ac(Lr({key:0},u.transitionProps)),{default:tt(()=>[u.alwaysOn||h?(X(),Rt(ZN,ac(Lr({key:0},i)),{arrow:tt(({style:m,side:v})=>[u.showArrow?(X(),Rt(YN,Lr({key:0},r,{style:m,side:v}),null,16,["style","side"])):wt("v-if",!0)]),default:tt(()=>[bt(u.$slots,"default")]),_:3},16)):wt("v-if",!0)]),_:2},1040)):(X(),pe(Nn,{key:1},[u.alwaysOn||h?(X(),Rt(ZN,ac(Lr({key:0},i)),{arrow:tt(({style:m,side:v})=>[u.showArrow?(X(),Rt(YN,Lr({key:0},r,{style:m,side:v}),null,16,["style","side"])):wt("v-if",!0)]),default:tt(()=>[bt(u.$slots,"default")]),_:3},16)):wt("v-if",!0)],64))]),_:2},1032,["to","disabled"])]),_:3},16))}});var g9e=mn(v9e,[["__file","tooltip.vue"]]);const _9e=pr(g9e),oX="left-check-change",sX="right-check-change",xg=un({data:{type:dt(Array),default:()=>[]},titles:{type:dt(Array),default:()=>[]},buttonTexts:{type:dt(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:dt(Function)},leftDefaultChecked:{type:dt(Array),default:()=>[]},rightDefaultChecked:{type:dt(Array),default:()=>[]},renderContent:{type:dt(Function)},modelValue:{type:dt(Array),default:()=>[]},format:{type:dt(Object),default:()=>({})},filterable:Boolean,props:{type:dt(Object),default:()=>Ca({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),VI=(e,t)=>[e,t].every(Tn)||Tn(e)&&So(t),y9e={[sa]:(e,t,n)=>[e,n].every(Tn)&&["left","right"].includes(t),[Tr]:e=>Tn(e),[oX]:VI,[sX]:VI},HI="checked-change",b9e=un({data:xg.data,optionRender:{type:dt(Function)},placeholder:String,title:String,filterable:Boolean,format:xg.format,filterMethod:xg.filterMethod,defaultChecked:xg.leftDefaultChecked,props:xg.props}),x9e={[HI]:VI},bw=e=>{const t={label:"label",key:"key",disabled:"disabled"};return le(()=>({...t,...e.props}))},w9e=(e,t,n)=>{const r=bw(e),i=le(()=>e.data.filter(m=>tr(e.filterMethod)?e.filterMethod(t.query,m):String(m[r.value.label]||m[r.value.key]).toLowerCase().includes(t.query.toLowerCase()))),o=le(()=>i.value.filter(m=>!m[r.value.disabled])),s=le(()=>{const m=t.checked.length,v=e.data.length,{noChecked:_,hasChecked:b}=e.format;return _&&b?m>0?b.replace(/\${checked}/g,m.toString()).replace(/\${total}/g,v.toString()):_.replace(/\${total}/g,v.toString()):`${m}/${v}`}),u=le(()=>{const m=t.checked.length;return m>0&&m<o.value.length}),a=()=>{const m=o.value.map(v=>v[r.value.key]);t.allChecked=m.length>0&&m.every(v=>t.checked.includes(v))},h=m=>{t.checked=m?o.value.map(v=>v[r.value.key]):[]};return Wt(()=>t.checked,(m,v)=>{if(a(),t.checkChangeByUser){const _=m.concat(v).filter(b=>!m.includes(b)||!v.includes(b));n(HI,m,_)}else n(HI,m),t.checkChangeByUser=!0}),Wt(o,()=>{a()}),Wt(()=>e.data,()=>{const m=[],v=i.value.map(_=>_[r.value.key]);t.checked.forEach(_=>{v.includes(_)&&m.push(_)}),t.checkChangeByUser=!1,t.checked=m}),Wt(()=>e.defaultChecked,(m,v)=>{if(v&&m.length===v.length&&m.every(T=>v.includes(T)))return;const _=[],b=o.value.map(T=>T[r.value.key]);m.forEach(T=>{b.includes(T)&&_.push(T)}),t.checkChangeByUser=!1,t.checked=_},{immediate:!0}),{filteredData:i,checkableData:o,checkedSummary:s,isIndeterminate:u,updateAllChecked:a,handleAllCheckedChange:h}},S9e=(e,t)=>({onSourceCheckedChange:(i,o)=>{e.leftChecked=i,o&&t(oX,i,o)},onTargetCheckedChange:(i,o)=>{e.rightChecked=i,o&&t(sX,i,o)}}),C9e=e=>{const t=bw(e),n=le(()=>e.data.reduce((o,s)=>(o[s[t.value.key]]=s)&&o,{})),r=le(()=>e.data.filter(o=>!e.modelValue.includes(o[t.value.key]))),i=le(()=>e.targetOrder==="original"?e.data.filter(o=>e.modelValue.includes(o[t.value.key])):e.modelValue.reduce((o,s)=>{const u=n.value[s];return u&&o.push(u),o},[]));return{sourceData:r,targetData:i}},T9e=(e,t,n)=>{const r=bw(e),i=(u,a,h)=>{n(Tr,u),n(sa,u,a,h)};return{addToLeft:()=>{const u=e.modelValue.slice();t.rightChecked.forEach(a=>{const h=u.indexOf(a);h>-1&&u.splice(h,1)}),i(u,"left",t.rightChecked)},addToRight:()=>{let u=e.modelValue.slice();const a=e.data.filter(h=>{const m=h[r.value.key];return t.leftChecked.includes(m)&&!e.modelValue.includes(m)}).map(h=>h[r.value.key]);u=e.targetOrder==="unshift"?a.concat(u):u.concat(a),e.targetOrder==="original"&&(u=e.data.filter(h=>u.includes(h[r.value.key])).map(h=>h[r.value.key])),i(u,"right",t.leftChecked)}}},M9e=ge({name:"ElTransferPanel"}),E9e=ge({...M9e,props:b9e,emits:x9e,setup(e,{expose:t,emit:n}){const r=e,i=yo(),o=({option:B})=>B,{t:s}=ii(),u=en("transfer"),a=Ci({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),h=bw(r),{filteredData:m,checkedSummary:v,isIndeterminate:_,handleAllCheckedChange:b}=w9e(r,a,n),T=le(()=>!Dl(a.query)&&Dl(m.value)),M=le(()=>!Dl(i.default()[0].children)),{checked:E,allChecked:k,query:z}=Co(a);return t({query:z}),(B,U)=>(X(),pe("div",{class:ye(A(u).b("panel"))},[ue("p",{class:ye(A(u).be("panel","header"))},[Fe(A(Pu),{modelValue:A(k),"onUpdate:modelValue":W=>ra(k)?k.value=W:null,indeterminate:A(_),"validate-event":!1,onChange:A(b)},{default:tt(()=>[Br(pn(B.title)+" ",1),ue("span",null,pn(A(v)),1)]),_:1},8,["modelValue","onUpdate:modelValue","indeterminate","onChange"])],2),ue("div",{class:ye([A(u).be("panel","body"),A(u).is("with-footer",A(M))])},[B.filterable?(X(),Rt(A(_s),{key:0,modelValue:A(z),"onUpdate:modelValue":W=>ra(z)?z.value=W:null,class:ye(A(u).be("panel","filter")),size:"default",placeholder:B.placeholder,"prefix-icon":A(Tq),clearable:"","validate-event":!1},null,8,["modelValue","onUpdate:modelValue","class","placeholder","prefix-icon"])):wt("v-if",!0),yr(Fe(A(cY),{modelValue:A(E),"onUpdate:modelValue":W=>ra(E)?E.value=W:null,"validate-event":!1,class:ye([A(u).is("filterable",B.filterable),A(u).be("panel","list")])},{default:tt(()=>[(X(!0),pe(Nn,null,Ur(A(m),W=>(X(),Rt(A(Pu),{key:W[A(h).key],class:ye(A(u).be("panel","item")),value:W[A(h).key],disabled:W[A(h).disabled],"validate-event":!1},{default:tt(()=>{var q;return[Fe(o,{option:(q=B.optionRender)==null?void 0:q.call(B,W)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"]),[[vi,!A(T)&&!A(Dl)(B.data)]]),yr(ue("p",{class:ye(A(u).be("panel","empty"))},pn(A(T)?A(s)("el.transfer.noMatch"):A(s)("el.transfer.noData")),3),[[vi,A(T)||A(Dl)(B.data)]])],2),A(M)?(X(),pe("p",{key:0,class:ye(A(u).be("panel","footer"))},[bt(B.$slots,"default")],2)):wt("v-if",!0)],2))}});var XN=mn(E9e,[["__file","transfer-panel.vue"]]);const A9e=ge({name:"ElTransfer"}),I9e=ge({...A9e,props:xg,emits:y9e,setup(e,{expose:t,emit:n}){const r=e,i=yo(),{t:o}=ii(),s=en("transfer"),{formItem:u}=Cs(),a=Ci({leftChecked:[],rightChecked:[]}),h=bw(r),{sourceData:m,targetData:v}=C9e(r),{onSourceCheckedChange:_,onTargetCheckedChange:b}=S9e(a,n),{addToLeft:T,addToRight:M}=T9e(r,a,n),E=Te(),k=Te(),z=te=>{switch(te){case"left":E.value.query="";break;case"right":k.value.query="";break}},B=le(()=>r.buttonTexts.length===2),U=le(()=>r.titles[0]||o("el.transfer.titles.0")),W=le(()=>r.titles[1]||o("el.transfer.titles.1")),q=le(()=>r.filterPlaceholder||o("el.transfer.filterPlaceholder"));Wt(()=>r.modelValue,()=>{var te;r.validateEvent&&((te=u==null?void 0:u.validate)==null||te.call(u,"change").catch(ie=>void 0))});const Q=le(()=>te=>{var ie;if(r.renderContent)return r.renderContent(jn,te);const ae=(((ie=i.default)==null?void 0:ie.call(i,{option:te}))||[]).filter(re=>re.type!==Io);return ae.length?ae:jn("span",te[h.value.label]||te[h.value.key])});return t({clearQuery:z,leftPanel:E,rightPanel:k}),(te,ie)=>(X(),pe("div",{class:ye(A(s).b())},[Fe(XN,{ref_key:"leftPanel",ref:E,data:A(m),"option-render":A(Q),placeholder:A(q),title:A(U),filterable:te.filterable,format:te.format,"filter-method":te.filterMethod,"default-checked":te.leftDefaultChecked,props:r.props,onCheckedChange:A(_)},{default:tt(()=>[bt(te.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),ue("div",{class:ye(A(s).e("buttons"))},[Fe(A(Po),{type:"primary",class:ye([A(s).e("button"),A(s).is("with-texts",A(B))]),disabled:A(Dl)(a.rightChecked),onClick:A(T)},{default:tt(()=>[Fe(A(On),null,{default:tt(()=>[Fe(A(sh))]),_:1}),A(Oa)(te.buttonTexts[0])?wt("v-if",!0):(X(),pe("span",{key:0},pn(te.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),Fe(A(Po),{type:"primary",class:ye([A(s).e("button"),A(s).is("with-texts",A(B))]),disabled:A(Dl)(a.leftChecked),onClick:A(M)},{default:tt(()=>[A(Oa)(te.buttonTexts[1])?wt("v-if",!0):(X(),pe("span",{key:0},pn(te.buttonTexts[1]),1)),Fe(A(On),null,{default:tt(()=>[Fe(A(xs))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),Fe(XN,{ref_key:"rightPanel",ref:k,data:A(v),"option-render":A(Q),placeholder:A(q),filterable:te.filterable,format:te.format,"filter-method":te.filterMethod,title:A(W),"default-checked":te.rightDefaultChecked,props:r.props,onCheckedChange:A(b)},{default:tt(()=>[bt(te.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var k9e=mn(I9e,[["__file","transfer.vue"]]);const P9e=pr(k9e),Gg="$treeNodeId",JN=function(e,t){!t||t[Gg]||Object.defineProperty(t,Gg,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},PR=function(e,t){return e?t[e]:t[Gg]},UI=(e,t,n)=>{const r=e.value.currentNode;n();const i=e.value.currentNode;r!==i&&t("current-change",i?i.data:null,i)},jI=e=>{let t=!0,n=!0,r=!0;for(let i=0,o=e.length;i<o;i++){const s=e[i];(s.checked!==!0||s.indeterminate)&&(t=!1,s.disabled||(r=!1)),(s.checked!==!1||s.indeterminate)&&(n=!1)}return{all:t,none:n,allWithoutDisable:r,half:!t&&!n}},xb=function(e){if(e.childNodes.length===0||e.loading)return;const{all:t,none:n,half:r}=jI(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):r?(e.checked=!1,e.indeterminate=!0):n&&(e.checked=!1,e.indeterminate=!1);const i=e.parent;!i||i.level===0||e.store.checkStrictly||xb(i)},F6=function(e,t){const n=e.store.props,r=e.data||{},i=n[t];if(typeof i=="function")return i(r,e);if(typeof i=="string")return r[i];if(typeof i>"u"){const o=r[t];return o===void 0?"":o}};let L9e=0,GI=class Y3{constructor(t){this.id=L9e++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in t)mi(t,n)&&(this[n]=t[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const t=this.store;if(!t)throw new Error("[Node]store is required!");t.registerNode(this);const n=t.props;if(n&&typeof n.isLeaf<"u"){const o=F6(this,"isLeaf");typeof o=="boolean"&&(this.isLeafByUser=o)}if(t.lazy!==!0&&this.data?(this.setData(this.data),t.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&t.lazy&&t.defaultExpandAll&&!this.isLeafByUser&&this.expand(),Array.isArray(this.data)||JN(this,this.data),!this.data)return;const r=t.defaultExpandedKeys,i=t.key;i&&r&&r.includes(this.key)&&this.expand(null,t.autoExpandParent),i&&t.currentNodeKey!==void 0&&this.key===t.currentNodeKey&&(t.currentNode=this,t.currentNode.isCurrent=!0),t.lazy&&t._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(t){Array.isArray(t)||JN(this,t),this.data=t,this.childNodes=[];let n;this.level===0&&Array.isArray(this.data)?n=this.data:n=F6(this,"children")||[];for(let r=0,i=n.length;r<i;r++)this.insertChild({data:n[r]})}get label(){return F6(this,"label")}get key(){const t=this.store.key;return this.data?this.data[t]:null}get disabled(){return F6(this,"disabled")}get nextSibling(){const t=this.parent;if(t){const n=t.childNodes.indexOf(this);if(n>-1)return t.childNodes[n+1]}return null}get previousSibling(){const t=this.parent;if(t){const n=t.childNodes.indexOf(this);if(n>-1)return n>0?t.childNodes[n-1]:null}return null}contains(t,n=!0){return(this.childNodes||[]).some(r=>r===t||n&&r.contains(t))}remove(){const t=this.parent;t&&t.removeChild(this)}insertChild(t,n,r){if(!t)throw new Error("InsertChild error: child is required.");if(!(t instanceof Y3)){if(!r){const i=this.getChildren(!0);i.includes(t.data)||(typeof n>"u"||n<0?i.push(t.data):i.splice(n,0,t.data))}Object.assign(t,{parent:this,store:this.store}),t=Ci(new Y3(t)),t instanceof Y3&&t.initialize()}t.level=this.level+1,typeof n>"u"||n<0?this.childNodes.push(t):this.childNodes.splice(n,0,t),this.updateLeafState()}insertBefore(t,n){let r;n&&(r=this.childNodes.indexOf(n)),this.insertChild(t,r)}insertAfter(t,n){let r;n&&(r=this.childNodes.indexOf(n),r!==-1&&(r+=1)),this.insertChild(t,r)}removeChild(t){const n=this.getChildren()||[],r=n.indexOf(t.data);r>-1&&n.splice(r,1);const i=this.childNodes.indexOf(t);i>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(i,1)),this.updateLeafState()}removeChildByData(t){let n=null;for(let r=0;r<this.childNodes.length;r++)if(this.childNodes[r].data===t){n=this.childNodes[r];break}n&&this.removeChild(n)}expand(t,n){const r=()=>{if(n){let i=this.parent;for(;i.level>0;)i.expanded=!0,i=i.parent}this.expanded=!0,t&&t(),this.childNodes.forEach(i=>{i.canFocus=!0})};this.shouldLoadData()?this.loadData(i=>{Array.isArray(i)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||xb(this),r())}):r()}doCreateChildren(t,n={}){t.forEach(r=>{this.insertChild(Object.assign({data:r},n),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(t=>{t.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const t=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!t||t.length===0;return}this.isLeaf=!1}setChecked(t,n,r,i){if(this.indeterminate=t==="half",this.checked=t===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:s,allWithoutDisable:u}=jI(this.childNodes);!this.isLeaf&&!s&&u&&(this.checked=!1,t=!1);const a=()=>{if(n){const h=this.childNodes;for(let _=0,b=h.length;_<b;_++){const T=h[_];i=i||t!==!1;const M=T.disabled?T.checked:i;T.setChecked(M,n,!0,i)}const{half:m,all:v}=jI(h);v||(this.checked=v,this.indeterminate=m)}};if(this.shouldLoadData()){this.loadData(()=>{a(),xb(this)},{checked:t!==!1});return}else a()}const o=this.parent;!o||o.level===0||r||xb(o)}getChildren(t=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const r=this.store.props;let i="children";return r&&(i=r.children||"children"),n[i]===void 0&&(n[i]=null),t&&!n[i]&&(n[i]=[]),n[i]}updateChildren(){const t=this.getChildren()||[],n=this.childNodes.map(o=>o.data),r={},i=[];t.forEach((o,s)=>{const u=o[Gg];!!u&&n.findIndex(h=>h[Gg]===u)>=0?r[u]={index:s,data:o}:i.push({index:s,data:o})}),this.store.lazy||n.forEach(o=>{r[o[Gg]]||this.removeChildByData(o)}),i.forEach(({index:o,data:s})=>{this.insertChild({data:s},o)}),this.updateLeafState()}loadData(t,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const r=o=>{this.childNodes=[],this.doCreateChildren(o,n),this.loaded=!0,this.loading=!1,this.updateLeafState(),t&&t.call(this,o)},i=()=>{this.loading=!1};this.store.load(this,r,i)}else t&&t.call(this)}eachNode(t){const n=[this];for(;n.length;){const r=n.shift();n.unshift(...r.childNodes),t(r)}}reInitChecked(){this.store.checkStrictly||xb(this)}};class R9e{constructor(t){this.currentNode=null,this.currentNodeKey=null;for(const n in t)mi(t,n)&&(this[n]=t[n]);this.nodesMap={}}initialize(){if(this.root=new GI({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const t=this.load;t(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(t){const n=this.filterNodeMethod,r=this.lazy,i=function(o){const s=o.root?o.root.childNodes:o.childNodes;if(s.forEach(u=>{u.visible=n.call(u,t,u.data,u),i(u)}),!o.visible&&s.length){let u=!0;u=!s.some(a=>a.visible),o.root?o.root.visible=u===!1:o.visible=u===!1}t&&o.visible&&!o.isLeaf&&(!r||o.loaded)&&o.expand()};i(this)}setData(t){t!==this.root.data?(this.nodesMap={},this.root.setData(t),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(t){if(t instanceof GI)return t;const n=Ar(t)?PR(this.key,t):t;return this.nodesMap[n]||null}insertBefore(t,n){const r=this.getNode(n);r.parent.insertBefore({data:t},r)}insertAfter(t,n){const r=this.getNode(n);r.parent.insertAfter({data:t},r)}remove(t){const n=this.getNode(t);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(t,n){const r=f0(n)?this.root:this.getNode(n);r&&r.insertChild({data:t})}_initDefaultCheckedNodes(){const t=this.defaultCheckedKeys||[],n=this.nodesMap;t.forEach(r=>{const i=n[r];i&&i.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(t){(this.defaultCheckedKeys||[]).includes(t.key)&&t.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())}registerNode(t){const n=this.key;!t||!t.data||(n?t.key!==void 0&&(this.nodesMap[t.key]=t):this.nodesMap[t.id]=t)}deregisterNode(t){!this.key||!t||!t.data||(t.childNodes.forEach(r=>{this.deregisterNode(r)}),delete this.nodesMap[t.key])}getCheckedNodes(t=!1,n=!1){const r=[],i=function(o){(o.root?o.root.childNodes:o.childNodes).forEach(u=>{(u.checked||n&&u.indeterminate)&&(!t||t&&u.isLeaf)&&r.push(u.data),i(u)})};return i(this),r}getCheckedKeys(t=!1){return this.getCheckedNodes(t).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const t=[],n=function(r){(r.root?r.root.childNodes:r.childNodes).forEach(o=>{o.indeterminate&&t.push(o.data),n(o)})};return n(this),t}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(t=>(t||{})[this.key])}_getAllNodes(){const t=[],n=this.nodesMap;for(const r in n)mi(n,r)&&t.push(n[r]);return t}updateChildren(t,n){const r=this.nodesMap[t];if(!r)return;const i=r.childNodes;for(let o=i.length-1;o>=0;o--){const s=i[o];this.remove(s.data)}for(let o=0,s=n.length;o<s;o++){const u=n[o];this.append(u,r.data)}}_setCheckedKeys(t,n=!1,r){const i=this._getAllNodes().sort((a,h)=>a.level-h.level),o=Object.create(null),s=Object.keys(r);i.forEach(a=>a.setChecked(!1,!1));const u=a=>{a.childNodes.forEach(h=>{var m;o[h.data[t]]=!0,(m=h.childNodes)!=null&&m.length&&u(h)})};for(let a=0,h=i.length;a<h;a++){const m=i[a],v=m.data[t].toString();if(!s.includes(v)){m.checked&&!o[v]&&m.setChecked(!1,!1);continue}if(m.childNodes.length&&u(m),m.isLeaf||this.checkStrictly){m.setChecked(!0,!1);continue}if(m.setChecked(!0,!0),n){m.setChecked(!1,!1);const b=function(T){T.childNodes.forEach(E=>{E.isLeaf||E.setChecked(!1,!1),b(E)})};b(m)}}}setCheckedNodes(t,n=!1){const r=this.key,i={};t.forEach(o=>{i[(o||{})[r]]=!0}),this._setCheckedKeys(r,n,i)}setCheckedKeys(t,n=!1){this.defaultCheckedKeys=t;const r=this.key,i={};t.forEach(o=>{i[o]=!0}),this._setCheckedKeys(r,n,i)}setDefaultExpandedKeys(t){t=t||[],this.defaultExpandedKeys=t,t.forEach(n=>{const r=this.getNode(n);r&&r.expand(null,this.autoExpandParent)})}setChecked(t,n,r){const i=this.getNode(t);i&&i.setChecked(!!n,r)}getCurrentNode(){return this.currentNode}setCurrentNode(t){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0}setUserCurrentNode(t,n=!0){const r=t[this.key],i=this.nodesMap[r];this.setCurrentNode(i),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(t,n=!0){if(t==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const r=this.getNode(t);r&&(this.setCurrentNode(r),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const D9e=ge({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=en("tree"),n=An("NodeInstance"),r=An("RootTree");return()=>{const i=e.node,{data:o,store:s}=i;return e.renderContent?e.renderContent(jn,{_self:n,node:i,data:o,store:s}):bt(r.ctx.slots,"default",{node:i,data:o},()=>[jn("span",{class:t.be("node","label")},[i.label])])}}});var O9e=mn(D9e,[["__file","tree-node-content.vue"]]);function lX(e){const t=An("TreeNodeMap",null),n={treeNodeExpand:r=>{e.node!==r&&e.node.collapse()},children:[]};return t&&t.children.push(n),Rr("TreeNodeMap",n),{broadcastExpanded:r=>{if(e.accordion)for(const i of n.children)i.treeNodeExpand(r)}}}const uX=Symbol("dragEvents");function z9e({props:e,ctx:t,el$:n,dropIndicator$:r,store:i}){const o=en("tree"),s=Te({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return Rr(uX,{treeNodeDragStart:({event:m,treeNode:v})=>{if(typeof e.allowDrag=="function"&&!e.allowDrag(v.node))return m.preventDefault(),!1;m.dataTransfer.effectAllowed="move";try{m.dataTransfer.setData("text/plain","")}catch{}s.value.draggingNode=v,t.emit("node-drag-start",v.node,m)},treeNodeDragOver:({event:m,treeNode:v})=>{const _=v,b=s.value.dropNode;b&&b.node.id!==_.node.id&&bs(b.$el,o.is("drop-inner"));const T=s.value.draggingNode;if(!T||!_)return;let M=!0,E=!0,k=!0,z=!0;typeof e.allowDrop=="function"&&(M=e.allowDrop(T.node,_.node,"prev"),z=E=e.allowDrop(T.node,_.node,"inner"),k=e.allowDrop(T.node,_.node,"next")),m.dataTransfer.dropEffect=E||M||k?"move":"none",(M||E||k)&&(b==null?void 0:b.node.id)!==_.node.id&&(b&&t.emit("node-drag-leave",T.node,b.node,m),t.emit("node-drag-enter",T.node,_.node,m)),M||E||k?s.value.dropNode=_:s.value.dropNode=null,_.node.nextSibling===T.node&&(k=!1),_.node.previousSibling===T.node&&(M=!1),_.node.contains(T.node,!1)&&(E=!1),(T.node===_.node||T.node.contains(_.node))&&(M=!1,E=!1,k=!1);const B=_.$el.querySelector(`.${o.be("node","content")}`).getBoundingClientRect(),U=n.value.getBoundingClientRect();let W;const q=M?E?.25:k?.45:1:-1,Q=k?E?.75:M?.55:0:1;let te=-9999;const ie=m.clientY-B.top;ie<B.height*q?W="before":ie>B.height*Q?W="after":E?W="inner":W="none";const ae=_.$el.querySelector(`.${o.be("node","expand-icon")}`).getBoundingClientRect(),re=r.value;W==="before"?te=ae.top-U.top:W==="after"&&(te=ae.bottom-U.top),re.style.top=`${te}px`,re.style.left=`${ae.right-U.left}px`,W==="inner"?bu(_.$el,o.is("drop-inner")):bs(_.$el,o.is("drop-inner")),s.value.showDropIndicator=W==="before"||W==="after",s.value.allowDrop=s.value.showDropIndicator||z,s.value.dropType=W,t.emit("node-drag-over",T.node,_.node,m)},treeNodeDragEnd:m=>{const{draggingNode:v,dropType:_,dropNode:b}=s.value;if(m.preventDefault(),m.dataTransfer&&(m.dataTransfer.dropEffect="move"),v&&b){const T={data:v.node.data};_!=="none"&&v.node.remove(),_==="before"?b.node.parent.insertBefore(T,b.node):_==="after"?b.node.parent.insertAfter(T,b.node):_==="inner"&&b.node.insertChild(T),_!=="none"&&(i.value.registerNode(T),i.value.key&&v.node.eachNode(M=>{var E;(E=i.value.nodesMap[M.data[i.value.key]])==null||E.setChecked(M.checked,!i.value.checkStrictly)})),bs(b.$el,o.is("drop-inner")),t.emit("node-drag-end",v.node,b.node,_,m),_!=="none"&&t.emit("node-drop",v.node,b.node,_,m)}v&&!b&&t.emit("node-drag-end",v.node,null,_,m),s.value.showDropIndicator=!1,s.value.draggingNode=null,s.value.dropNode=null,s.value.allowDrop=!0}}),{dragState:s}}const B9e=ge({name:"ElTreeNode",components:{ElCollapseTransition:b8,ElCheckbox:Pu,NodeContent:O9e,ElIcon:On,Loading:mc},props:{node:{type:GI,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const n=en("tree"),{broadcastExpanded:r}=lX(e),i=An("RootTree"),o=Te(!1),s=Te(!1),u=Te(null),a=Te(null),h=Te(null),m=An(uX),v=Mr();Rr("NodeInstance",v),e.node.expanded&&(o.value=!0,s.value=!0);const _=i.props.props.children||"children";Wt(()=>{const ie=e.node.data[_];return ie&&[...ie]},()=>{e.node.updateChildren()}),Wt(()=>e.node.indeterminate,ie=>{M(e.node.checked,ie)}),Wt(()=>e.node.checked,ie=>{M(ie,e.node.indeterminate)}),Wt(()=>e.node.childNodes.length,()=>e.node.reInitChecked()),Wt(()=>e.node.expanded,ie=>{Fn(()=>o.value=ie),ie&&(s.value=!0)});const b=ie=>PR(i.props.nodeKey,ie.data),T=ie=>{const ae=e.props.class;if(!ae)return{};let re;if(tr(ae)){const{data:se}=ie;re=ae(se,ie)}else re=ae;return Qn(re)?{[re]:!0}:re},M=(ie,ae)=>{(u.value!==ie||a.value!==ae)&&i.ctx.emit("check-change",e.node.data,ie,ae),u.value=ie,a.value=ae},E=ie=>{UI(i.store,i.ctx.emit,()=>i.store.value.setCurrentNode(e.node)),i.currentNode.value=e.node,i.props.expandOnClickNode&&z(),i.props.checkOnClickNode&&!e.node.disabled&&B(null,{target:{checked:!e.node.checked}}),i.ctx.emit("node-click",e.node.data,e.node,v,ie)},k=ie=>{i.instance.vnode.props.onNodeContextmenu&&(ie.stopPropagation(),ie.preventDefault()),i.ctx.emit("node-contextmenu",ie,e.node.data,e.node,v)},z=()=>{e.node.isLeaf||(o.value?(i.ctx.emit("node-collapse",e.node.data,e.node,v),e.node.collapse()):e.node.expand(()=>{t.emit("node-expand",e.node.data,e.node,v)}))},B=(ie,ae)=>{e.node.setChecked(ae.target.checked,!i.props.checkStrictly),Fn(()=>{const re=i.store.value;i.ctx.emit("check",e.node.data,{checkedNodes:re.getCheckedNodes(),checkedKeys:re.getCheckedKeys(),halfCheckedNodes:re.getHalfCheckedNodes(),halfCheckedKeys:re.getHalfCheckedKeys()})})};return{ns:n,node$:h,tree:i,expanded:o,childNodeRendered:s,oldChecked:u,oldIndeterminate:a,getNodeKey:b,getNodeClass:T,handleSelectChange:M,handleClick:E,handleContextMenu:k,handleExpandIconClick:z,handleCheckChange:B,handleChildNodeExpand:(ie,ae,re)=>{r(ae),i.ctx.emit("node-expand",ie,ae,re)},handleDragStart:ie=>{i.props.draggable&&m.treeNodeDragStart({event:ie,treeNode:e})},handleDragOver:ie=>{ie.preventDefault(),i.props.draggable&&m.treeNodeDragOver({event:ie,treeNode:{$el:h.value,node:e.node}})},handleDrop:ie=>{ie.preventDefault()},handleDragEnd:ie=>{i.props.draggable&&m.treeNodeDragEnd(ie)},CaretRight:gL}}});function F9e(e,t,n,r,i,o){const s=Zn("el-icon"),u=Zn("el-checkbox"),a=Zn("loading"),h=Zn("node-content"),m=Zn("el-tree-node"),v=Zn("el-collapse-transition");return yr((X(),pe("div",{ref:"node$",class:ye([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:er(e.handleClick,["stop"]),onContextmenu:e.handleContextMenu,onDragstart:er(e.handleDragStart,["stop"]),onDragover:er(e.handleDragOver,["stop"]),onDragend:er(e.handleDragEnd,["stop"]),onDrop:er(e.handleDrop,["stop"])},[ue("div",{class:ye(e.ns.be("node","content")),style:Vn({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(X(),Rt(s,{key:0,class:ye([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:er(e.handleExpandIconClick,["stop"])},{default:tt(()=>[(X(),Rt(kr(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):wt("v-if",!0),e.showCheckbox?(X(),Rt(u,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:er(()=>{},["stop"]),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):wt("v-if",!0),e.node.loading?(X(),Rt(s,{key:2,class:ye([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:tt(()=>[Fe(a)]),_:1},8,["class"])):wt("v-if",!0),Fe(h,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),Fe(v,null,{default:tt(()=>[!e.renderAfterExpand||e.childNodeRendered?yr((X(),pe("div",{key:0,class:ye(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[(X(!0),pe(Nn,null,Ur(e.node.childNodes,_=>(X(),Rt(m,{key:e.getNodeKey(_),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:_,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded"])),[[vi,e.expanded]]):wt("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[vi,e.node.visible]])}var N9e=mn(B9e,[["render",F9e],["__file","tree-node.vue"]]);function $9e({el$:e},t){const n=en("tree"),r=Ji([]),i=Ji([]);br(()=>{s()}),ud(()=>{r.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),i.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))}),Wt(i,u=>{u.forEach(a=>{a.setAttribute("tabindex","-1")})}),Fi(e,"keydown",u=>{const a=u.target;if(!a.className.includes(n.b("node")))return;const h=u.code;r.value=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));const m=r.value.indexOf(a);let v;if([Kn.up,Kn.down].includes(h)){if(u.preventDefault(),h===Kn.up){v=m===-1?0:m!==0?m-1:r.value.length-1;const b=v;for(;!t.value.getNode(r.value[v].dataset.key).canFocus;){if(v--,v===b){v=-1;break}v<0&&(v=r.value.length-1)}}else{v=m===-1?0:m<r.value.length-1?m+1:0;const b=v;for(;!t.value.getNode(r.value[v].dataset.key).canFocus;){if(v++,v===b){v=-1;break}v>=r.value.length&&(v=0)}}v!==-1&&r.value[v].focus()}[Kn.left,Kn.right].includes(h)&&(u.preventDefault(),a.click());const _=a.querySelector('[type="checkbox"]');[Kn.enter,Kn.space].includes(h)&&_&&(u.preventDefault(),_.click())});const s=()=>{var u;r.value=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),i.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const a=e.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);if(a.length){a[0].setAttribute("tabindex","0");return}(u=r.value[0])==null||u.setAttribute("tabindex","0")}}const V9e=ge({name:"ElTree",components:{ElTreeNode:N9e},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:Vi}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:n}=ii(),r=en("tree"),i=An(F_,null),o=Te(new R9e({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));o.value.initialize();const s=Te(o.value.root),u=Te(null),a=Te(null),h=Te(null),{broadcastExpanded:m}=lX(e),{dragState:v}=z9e({props:e,ctx:t,el$:a,dropIndicator$:h,store:o});$9e({el$:a},o);const _=le(()=>{const{childNodes:Ee}=s.value,_e=i?i.hasFilteredOptions!==0:!1;return(!Ee||Ee.length===0||Ee.every(({visible:xe})=>!xe))&&!_e});Wt(()=>e.currentNodeKey,Ee=>{o.value.setCurrentNodeKey(Ee)}),Wt(()=>e.defaultCheckedKeys,Ee=>{o.value.setDefaultCheckedKey(Ee)}),Wt(()=>e.defaultExpandedKeys,Ee=>{o.value.setDefaultExpandedKeys(Ee)}),Wt(()=>e.data,Ee=>{o.value.setData(Ee)},{deep:!0}),Wt(()=>e.checkStrictly,Ee=>{o.value.checkStrictly=Ee});const b=Ee=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");o.value.filter(Ee)},T=Ee=>PR(e.nodeKey,Ee.data),M=Ee=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const _e=o.value.getNode(Ee);if(!_e)return[];const xe=[_e.data];let Be=_e.parent;for(;Be&&Be!==s.value;)xe.push(Be.data),Be=Be.parent;return xe.reverse()},E=(Ee,_e)=>o.value.getCheckedNodes(Ee,_e),k=Ee=>o.value.getCheckedKeys(Ee),z=()=>{const Ee=o.value.getCurrentNode();return Ee?Ee.data:null},B=()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const Ee=z();return Ee?Ee[e.nodeKey]:null},U=(Ee,_e)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");o.value.setCheckedNodes(Ee,_e)},W=(Ee,_e)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");o.value.setCheckedKeys(Ee,_e)},q=(Ee,_e,xe)=>{o.value.setChecked(Ee,_e,xe)},Q=()=>o.value.getHalfCheckedNodes(),te=()=>o.value.getHalfCheckedKeys(),ie=(Ee,_e=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");UI(o,t.emit,()=>{m(Ee),o.value.setUserCurrentNode(Ee,_e)})},ae=(Ee,_e=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");UI(o,t.emit,()=>{m(),o.value.setCurrentNodeKey(Ee,_e)})},re=Ee=>o.value.getNode(Ee),se=Ee=>{o.value.remove(Ee)},be=(Ee,_e)=>{o.value.append(Ee,_e)},Ie=(Ee,_e)=>{o.value.insertBefore(Ee,_e)},Se=(Ee,_e)=>{o.value.insertAfter(Ee,_e)},me=(Ee,_e,xe)=>{m(_e),t.emit("node-expand",Ee,_e,xe)},Le=(Ee,_e)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");o.value.updateChildren(Ee,_e)};return Rr("RootTree",{ctx:t,props:e,store:o,root:s,currentNode:u,instance:Mr()}),Rr(od,void 0),{ns:r,store:o,root:s,currentNode:u,dragState:v,el$:a,dropIndicator$:h,isEmpty:_,filter:b,getNodeKey:T,getNodePath:M,getCheckedNodes:E,getCheckedKeys:k,getCurrentNode:z,getCurrentKey:B,setCheckedNodes:U,setCheckedKeys:W,setChecked:q,getHalfCheckedNodes:Q,getHalfCheckedKeys:te,setCurrentNode:ie,setCurrentKey:ae,t:n,getNode:re,remove:se,append:be,insertBefore:Ie,insertAfter:Se,handleNodeExpand:me,updateKeyChildren:Le}}});function H9e(e,t,n,r,i,o){const s=Zn("el-tree-node");return X(),pe("div",{ref:"el$",class:ye([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner",e.dragState.dropType==="inner"),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(X(!0),pe(Nn,null,Ur(e.root.childNodes,u=>(X(),Rt(s,{key:e.getNodeKey(u),node:u,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(X(),pe("div",{key:0,class:ye(e.ns.e("empty-block"))},[bt(e.$slots,"empty",{},()=>{var u;return[ue("span",{class:ye(e.ns.e("empty-text"))},pn((u=e.emptyText)!=null?u:e.t("el.tree.emptyText")),3)]})],2)):wt("v-if",!0),yr(ue("div",{ref:"dropIndicator$",class:ye(e.ns.e("drop-indicator"))},null,2),[[vi,e.dragState.showDropIndicator]])],2)}var U9e=mn(V9e,[["render",H9e],["__file","tree.vue"]]);const eC=pr(U9e),j9e=(e,{attrs:t,emit:n},{select:r,tree:i,key:o})=>{const s=en("tree-select");return Wt(()=>e.data,()=>{e.filterable&&Fn(()=>{var a,h;(h=i.value)==null||h.filter((a=r.value)==null?void 0:a.states.inputValue)})},{flush:"post"}),{...oc(Co(e),Object.keys(_0.props)),...t,"onUpdate:modelValue":a=>n(Tr,a),valueKey:o,popperClass:le(()=>{const a=[s.e("popper")];return e.popperClass&&a.push(e.popperClass),a.join(" ")}),filterMethod:(a="")=>{var h;e.filterMethod?e.filterMethod(a):e.remoteMethod?e.remoteMethod(a):(h=i.value)==null||h.filter(a)}}},G9e=ge({extends:GS,setup(e,t){const n=GS.setup(e,t);delete n.selectOptionClick;const r=Mr().proxy;return Fn(()=>{n.select.states.cachedOptions.get(r.value)||n.select.onOptionCreate(r)}),Wt(()=>t.attrs.visible,i=>{n.states.visible=i},{immediate:!0}),n},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function WI(e){return e||e===0}function LR(e){return Array.isArray(e)&&e.length}function Qv(e){return Array.isArray(e)?e:WI(e)?[e]:[]}function Z3(e,t,n,r,i){for(let o=0;o<e.length;o++){const s=e[o];if(t(s,o,e,i))return r?r(s,o,e,i):s;{const u=n(s);if(LR(u)){const a=Z3(u,t,n,r,s);if(a)return a}}}}function X3(e,t,n,r){for(let i=0;i<e.length;i++){const o=e[i];t(o,i,e,r);const s=n(o);LR(s)&&X3(s,t,n,o)}}const W9e=(e,{attrs:t,slots:n,emit:r},{select:i,tree:o,key:s})=>{Wt(()=>e.modelValue,()=>{e.showCheckbox&&Fn(()=>{const _=o.value;_&&!ys(_.getCheckedKeys(),Qv(e.modelValue))&&_.setCheckedKeys(Qv(e.modelValue))})},{immediate:!0,deep:!0});const u=le(()=>({value:s.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...e.props})),a=(_,b)=>{var T;const M=u.value[_];return tr(M)?M(b,(T=o.value)==null?void 0:T.getNode(a("value",b))):b[M]},h=Qv(e.modelValue).map(_=>Z3(e.data||[],b=>a("value",b)===_,b=>a("children",b),(b,T,M,E)=>E&&a("value",E))).filter(_=>WI(_)),m=le(()=>{if(!e.renderAfterExpand&&!e.lazy)return[];const _=[];return X3(e.data.concat(e.cacheData),b=>{const T=a("value",b);_.push({value:T,currentLabel:a("label",b),isDisabled:a("disabled",b)})},b=>a("children",b)),_}),v=()=>{var _;return(_=o.value)==null?void 0:_.getCheckedKeys().filter(b=>{var T;const M=(T=o.value)==null?void 0:T.getNode(b);return!So(M)&&Dl(M.childNodes)})};return{...oc(Co(e),Object.keys(eC.props)),...t,nodeKey:s,expandOnClickNode:le(()=>!e.checkStrictly&&e.expandOnClickNode),defaultExpandedKeys:le(()=>e.defaultExpandedKeys?e.defaultExpandedKeys.concat(h):h),renderContent:(_,{node:b,data:T,store:M})=>_(G9e,{value:a("value",T),label:a("label",T),disabled:a("disabled",T),visible:b.visible},e.renderContent?()=>e.renderContent(_,{node:b,data:T,store:M}):n.default?()=>n.default({node:b,data:T,store:M}):void 0),filterNodeMethod:(_,b,T)=>e.filterNodeMethod?e.filterNodeMethod(_,b,T):_?new RegExp(pL(_),"i").test(a("label",b)||""):!0,onNodeClick:(_,b,T)=>{var M,E,k,z;if((M=t.onNodeClick)==null||M.call(t,_,b,T),!(e.showCheckbox&&e.checkOnClickNode)){if(!e.showCheckbox&&(e.checkStrictly||b.isLeaf)){if(!a("disabled",_)){const B=(E=i.value)==null?void 0:E.states.options.get(a("value",_));(k=i.value)==null||k.handleOptionSelect(B)}}else e.expandOnClickNode&&T.proxy.handleExpandIconClick();(z=i.value)==null||z.focus()}},onCheck:(_,b)=>{var T;if(!e.showCheckbox)return;const M=a("value",_),E={};X3([o.value.store.root],U=>E[U.key]=U,U=>U.childNodes);const k=b.checkedKeys,z=e.multiple?Qv(e.modelValue).filter(U=>!(U in E)&&!k.includes(U)):[],B=z.concat(k);if(e.checkStrictly)r(Tr,e.multiple?B:B.includes(M)?M:void 0);else if(e.multiple){const U=v();r(Tr,z.concat(U))}else{const U=Z3([_],Q=>!LR(a("children",Q))&&!a("disabled",Q),Q=>a("children",Q)),W=U?a("value",U):void 0,q=WI(e.modelValue)&&!!Z3([_],Q=>a("value",Q)===e.modelValue,Q=>a("children",Q));r(Tr,W===e.modelValue||q?void 0:W)}Fn(()=>{var U;const W=Qv(e.modelValue);o.value.setCheckedKeys(W),(U=t.onCheck)==null||U.call(t,_,{checkedKeys:o.value.getCheckedKeys(),checkedNodes:o.value.getCheckedNodes(),halfCheckedKeys:o.value.getHalfCheckedKeys(),halfCheckedNodes:o.value.getHalfCheckedNodes()})}),(T=i.value)==null||T.focus()},onNodeExpand:(_,b,T)=>{var M;(M=t.onNodeExpand)==null||M.call(t,_,b,T),Fn(()=>{if(!e.checkStrictly&&e.lazy&&e.multiple&&b.checked){const E={},k=o.value.getCheckedKeys();X3([o.value.store.root],U=>E[U.key]=U,U=>U.childNodes);const z=Qv(e.modelValue).filter(U=>!(U in E)&&!k.includes(U)),B=v();r(Tr,z.concat(B))}})},cacheOptions:m}};var q9e=ge({props:{data:{type:Array,default:()=>[]}},setup(e){const t=An(F_);return Wt(()=>e.data,()=>{var n;e.data.forEach(i=>{t.states.cachedOptions.has(i.value)||t.states.cachedOptions.set(i.value,i)});const r=((n=t.selectRef)==null?void 0:n.querySelectorAll("input"))||[];ri&&!Array.from(r).includes(document.activeElement)&&t.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const K9e=ge({name:"ElTreeSelect",inheritAttrs:!1,props:{..._0.props,...eC.props,cacheData:{type:Array,default:()=>[]}},setup(e,t){const{slots:n,expose:r}=t,i=Te(),o=Te(),s=le(()=>e.nodeKey||e.valueKey||"value"),u=j9e(e,t,{select:i,tree:o,key:s}),{cacheOptions:a,...h}=W9e(e,t,{select:i,tree:o,key:s}),m=Ci({});return r(m),br(()=>{Object.assign(m,{...oc(o.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...oc(i.value,["focus","blur"])})}),()=>jn(_0,Ci({...u,ref:v=>i.value=v}),{...n,default:()=>[jn(q9e,{data:a.value}),jn(eC,Ci({...h,ref:v=>o.value=v}))]})}});var Y9e=mn(K9e,[["__file","tree-select.vue"]]);const Z9e=pr(Y9e),RR=Symbol(),X9e={key:-1,level:-1,data:{}};var wb=(e=>(e.KEY="id",e.LABEL="label",e.CHILDREN="children",e.DISABLED="disabled",e))(wb||{}),qI=(e=>(e.ADD="add",e.DELETE="delete",e))(qI||{});const cX={type:Number,default:26},J9e=un({data:{type:dt(Array),default:()=>Ca([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:dt(Object),default:()=>Ca({children:"children",label:"label",disabled:"disabled",value:"id"})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:dt(Array),default:()=>Ca([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:dt(Array),default:()=>Ca([])},indent:{type:Number,default:16},itemSize:cX,icon:{type:Vi},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:dt([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:dt(Function)},perfMode:{type:Boolean,default:!0}}),Q9e=un({node:{type:dt(Object),default:()=>Ca(X9e)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize:cX}),eze=un({node:{type:dt(Object),required:!0}}),dX="node-click",hX="node-drop",fX="node-expand",pX="node-collapse",mX="current-change",vX="check",gX="check-change",_X="node-contextmenu",tze={[dX]:(e,t,n)=>e&&t&&n,[hX]:(e,t,n)=>e&&t&&n,[fX]:(e,t)=>e&&t,[pX]:(e,t)=>e&&t,[mX]:(e,t)=>e&&t,[vX]:(e,t)=>e&&t,[gX]:(e,t)=>e&&typeof t=="boolean",[_X]:(e,t,n)=>e&&t&&n},nze={click:(e,t)=>!!(e&&t),drop:(e,t)=>!!(e&&t),toggle:e=>!!e,check:(e,t)=>e&&typeof t=="boolean"};function rze(e,t){const n=Te(new Set),r=Te(new Set),{emit:i}=Mr();Wt([()=>t.value,()=>e.defaultCheckedKeys],()=>Fn(()=>{z(e.defaultCheckedKeys)}),{immediate:!0});const o=()=>{if(!t.value||!e.showCheckbox||e.checkStrictly)return;const{levelTreeNodeMap:B,maxLevel:U}=t.value,W=n.value,q=new Set;for(let Q=U-1;Q>=1;--Q){const te=B.get(Q);te&&te.forEach(ie=>{const ae=ie.children;if(ae){let re=!0,se=!1;for(const be of ae){const Ie=be.key;if(W.has(Ie))se=!0;else if(q.has(Ie)){re=!1,se=!0;break}else re=!1}re?W.add(ie.key):se?(q.add(ie.key),W.delete(ie.key)):(W.delete(ie.key),q.delete(ie.key))}})}r.value=q},s=B=>n.value.has(B.key),u=B=>r.value.has(B.key),a=(B,U,W=!0)=>{const q=n.value,Q=(te,ie)=>{q[ie?qI.ADD:qI.DELETE](te.key);const ae=te.children;!e.checkStrictly&&ae&&ae.forEach(re=>{re.disabled||Q(re,ie)})};Q(B,U),o(),W&&h(B,U)},h=(B,U)=>{const{checkedNodes:W,checkedKeys:q}=T(),{halfCheckedNodes:Q,halfCheckedKeys:te}=M();i(vX,B.data,{checkedKeys:q,checkedNodes:W,halfCheckedKeys:te,halfCheckedNodes:Q}),i(gX,B.data,U)};function m(B=!1){return T(B).checkedKeys}function v(B=!1){return T(B).checkedNodes}function _(){return M().halfCheckedKeys}function b(){return M().halfCheckedNodes}function T(B=!1){const U=[],W=[];if(t!=null&&t.value&&e.showCheckbox){const{treeNodeMap:q}=t.value;n.value.forEach(Q=>{const te=q.get(Q);te&&(!B||B&&te.isLeaf)&&(W.push(Q),U.push(te.data))})}return{checkedKeys:W,checkedNodes:U}}function M(){const B=[],U=[];if(t!=null&&t.value&&e.showCheckbox){const{treeNodeMap:W}=t.value;r.value.forEach(q=>{const Q=W.get(q);Q&&(U.push(q),B.push(Q.data))})}return{halfCheckedNodes:B,halfCheckedKeys:U}}function E(B){n.value.clear(),r.value.clear(),Fn(()=>{z(B)})}function k(B,U){if(t!=null&&t.value&&e.showCheckbox){const W=t.value.treeNodeMap.get(B);W&&a(W,U,!1)}}function z(B){if(t!=null&&t.value){const{treeNodeMap:U}=t.value;if(e.showCheckbox&&U&&B)for(const W of B){const q=U.get(W);q&&!s(q)&&a(q,!0,!1)}}}return{updateCheckedKeys:o,toggleCheckbox:a,isChecked:s,isIndeterminate:u,getCheckedKeys:m,getCheckedNodes:v,getHalfCheckedKeys:_,getHalfCheckedNodes:b,setChecked:k,setCheckedKeys:E}}function ize(e,t){const n=Te(new Set([])),r=Te(new Set([])),i=le(()=>tr(e.filterMethod));function o(u){var a;if(!i.value)return;const h=new Set,m=r.value,v=n.value,_=[],b=((a=t.value)==null?void 0:a.treeNodes)||[],T=e.filterMethod;v.clear();function M(E){E.forEach(k=>{_.push(k),T!=null&&T(u,k.data)?_.forEach(B=>{h.add(B.key)}):k.isLeaf&&v.add(k.key);const z=k.children;if(z&&M(z),!k.isLeaf){if(!h.has(k.key))v.add(k.key);else if(z){let B=!0;for(const U of z)if(!v.has(U.key)){B=!1;break}B?m.add(k.key):m.delete(k.key)}}_.pop()})}return M(b),h}function s(u){return r.value.has(u.key)}return{hiddenExpandIconKeySet:r,hiddenNodeKeySet:n,doFilter:o,isForceHiddenExpandIcon:s}}function aze(e,t){const n=Te(new Set(e.defaultExpandedKeys)),r=Te(),i=Ji(),o=Te();Wt(()=>e.currentNodeKey,pt=>{r.value=pt},{immediate:!0}),Wt(()=>e.data,pt=>{Ct(pt)},{immediate:!0});const{isIndeterminate:s,isChecked:u,toggleCheckbox:a,getCheckedKeys:h,getCheckedNodes:m,getHalfCheckedKeys:v,getHalfCheckedNodes:_,setChecked:b,setCheckedKeys:T}=rze(e,i),{doFilter:M,hiddenNodeKeySet:E,isForceHiddenExpandIcon:k}=ize(e,i),z=le(()=>{var pt;return((pt=e.props)==null?void 0:pt.value)||wb.KEY}),B=le(()=>{var pt;return((pt=e.props)==null?void 0:pt.children)||wb.CHILDREN}),U=le(()=>{var pt;return((pt=e.props)==null?void 0:pt.disabled)||wb.DISABLED}),W=le(()=>{var pt;return((pt=e.props)==null?void 0:pt.label)||wb.LABEL}),q=le(()=>{var pt;const Ne=n.value,et=E.value,Ze=[],nn=((pt=i.value)==null?void 0:pt.treeNodes)||[],It=[];for(let Ft=nn.length-1;Ft>=0;--Ft)It.push(nn[Ft]);for(;It.length;){const Ft=It.pop();if(!et.has(Ft.key)&&(Ze.push(Ft),Ft.children&&Ne.has(Ft.key)))for(let zt=Ft.children.length-1;zt>=0;--zt)It.push(Ft.children[zt])}return Ze}),Q=le(()=>q.value.length>0);function te(pt){const Ne=new Map,et=new Map;let Ze=1;function nn(Ft,zt=1,tn=void 0){var fn;const hn=[];for(const Dn of Ft){const ln=re(Dn),St={level:zt,key:ln,data:Dn};St.label=be(Dn),St.parent=tn;const Pn=ae(Dn);St.disabled=se(Dn),St.isLeaf=!Pn||Pn.length===0,Pn&&Pn.length&&(St.children=nn(Pn,zt+1,St)),hn.push(St),Ne.set(ln,St),et.has(zt)||et.set(zt,[]),(fn=et.get(zt))==null||fn.push(St)}return zt>Ze&&(Ze=zt),hn}const It=nn(pt);return{treeNodeMap:Ne,levelTreeNodeMap:et,maxLevel:Ze,treeNodes:It}}function ie(pt){const Ne=M(pt);Ne&&(n.value=Ne)}function ae(pt){return pt[B.value]}function re(pt){return pt?pt[z.value]:""}function se(pt){return pt[U.value]}function be(pt){return pt[W.value]}function Ie(pt){n.value.has(pt.key)?Be(pt):xe(pt)}function Se(pt){const Ne=new Set,et=i.value.treeNodeMap;pt.forEach(Ze=>{let nn=et.get(Ze);for(;nn&&!Ne.has(nn.key);)Ne.add(nn.key),nn=nn.parent}),n.value=Ne}function me(pt,Ne){t(dX,pt.data,pt,Ne),Ee(pt),e.expandOnClickNode&&Ie(pt),e.showCheckbox&&e.checkOnClickNode&&!pt.disabled&&a(pt,!u(pt),!0)}function Le(pt,Ne){t(hX,pt.data,pt,Ne)}function Ee(pt){lt(pt)||(r.value=pt.key,t(mX,pt.data,pt))}function _e(pt,Ne){a(pt,Ne)}function xe(pt){const Ne=n.value;if(i.value&&e.accordion){const{treeNodeMap:et}=i.value;Ne.forEach(Ze=>{const nn=et.get(Ze);pt&&pt.level===(nn==null?void 0:nn.level)&&Ne.delete(Ze)})}Ne.add(pt.key),t(fX,pt.data,pt)}function Be(pt){n.value.delete(pt.key),t(pX,pt.data,pt)}function Je(pt){return n.value.has(pt.key)}function Ye(pt){return!!pt.disabled}function lt(pt){const Ne=r.value;return Ne!==void 0&&Ne===pt.key}function Nt(){var pt,Ne;if(r.value)return(Ne=(pt=i.value)==null?void 0:pt.treeNodeMap.get(r.value))==null?void 0:Ne.data}function Dt(){return r.value}function je(pt){r.value=pt}function Ct(pt){Fn(()=>i.value=te(pt))}function vt(pt){var Ne;const et=Ar(pt)?re(pt):pt;return(Ne=i.value)==null?void 0:Ne.treeNodeMap.get(et)}function Vt(pt,Ne="auto"){const et=vt(pt);et&&o.value&&o.value.scrollToItem(q.value.indexOf(et),Ne)}function Re(pt){var Ne;(Ne=o.value)==null||Ne.scrollTo(pt)}return{tree:i,flattenTree:q,isNotEmpty:Q,listRef:o,getKey:re,getChildren:ae,toggleExpand:Ie,toggleCheckbox:a,isExpanded:Je,isChecked:u,isIndeterminate:s,isDisabled:Ye,isCurrent:lt,isForceHiddenExpandIcon:k,handleNodeClick:me,handleNodeDrop:Le,handleNodeCheck:_e,getCurrentNode:Nt,getCurrentKey:Dt,setCurrentKey:je,getCheckedKeys:h,getCheckedNodes:m,getHalfCheckedKeys:v,getHalfCheckedNodes:_,setChecked:b,setCheckedKeys:T,filter:ie,setData:Ct,getNode:vt,expandNode:xe,collapseNode:Be,setExpandedKeys:Se,scrollToNode:Vt,scrollTo:Re}}var oze=ge({name:"ElTreeNodeContent",props:eze,setup(e){const t=An(RR),n=en("tree");return()=>{const r=e.node,{data:i}=r;return t!=null&&t.ctx.slots.default?t.ctx.slots.default({node:r,data:i}):jn("span",{class:n.be("node","label")},[r==null?void 0:r.label])}}});const sze=ge({name:"ElTreeNode"}),lze=ge({...sze,props:Q9e,emits:nze,setup(e,{emit:t}){const n=e,r=An(RR),i=en("tree"),o=le(()=>{var _;return(_=r==null?void 0:r.props.indent)!=null?_:16}),s=le(()=>{var _;return(_=r==null?void 0:r.props.icon)!=null?_:gL}),u=_=>{t("click",n.node,_)},a=_=>{t("drop",n.node,_)},h=()=>{t("toggle",n.node)},m=_=>{t("check",n.node,_)},v=_=>{var b,T,M,E;(M=(T=(b=r==null?void 0:r.instance)==null?void 0:b.vnode)==null?void 0:T.props)!=null&&M.onNodeContextmenu&&(_.stopPropagation(),_.preventDefault()),r==null||r.ctx.emit(_X,_,(E=n.node)==null?void 0:E.data,n.node)};return(_,b)=>{var T,M,E;return X(),pe("div",{ref:"node$",class:ye([A(i).b("node"),A(i).is("expanded",_.expanded),A(i).is("current",_.current),A(i).is("focusable",!_.disabled),A(i).is("checked",!_.disabled&&_.checked)]),role:"treeitem",tabindex:"-1","aria-expanded":_.expanded,"aria-disabled":_.disabled,"aria-checked":_.checked,"data-key":(T=_.node)==null?void 0:T.key,onClick:er(u,["stop"]),onContextmenu:v,onDragover:er(()=>{},["prevent"]),onDragenter:er(()=>{},["prevent"]),onDrop:er(a,["stop"])},[ue("div",{class:ye(A(i).be("node","content")),style:Vn({paddingLeft:`${(_.node.level-1)*A(o)}px`,height:_.itemSize+"px"})},[A(s)?(X(),Rt(A(On),{key:0,class:ye([A(i).is("leaf",!!((M=_.node)!=null&&M.isLeaf)),A(i).is("hidden",_.hiddenExpandIcon),{expanded:!((E=_.node)!=null&&E.isLeaf)&&_.expanded},A(i).be("node","expand-icon")]),onClick:er(h,["stop"])},{default:tt(()=>[(X(),Rt(kr(A(s))))]),_:1},8,["class","onClick"])):wt("v-if",!0),_.showCheckbox?(X(),Rt(A(Pu),{key:1,"model-value":_.checked,indeterminate:_.indeterminate,disabled:_.disabled,onChange:m,onClick:er(()=>{},["stop"])},null,8,["model-value","indeterminate","disabled","onClick"])):wt("v-if",!0),Fe(A(oze),{node:_.node},null,8,["node"])],6)],42,["aria-expanded","aria-disabled","aria-checked","data-key","onClick","onDragover","onDragenter","onDrop"])}}});var uze=mn(lze,[["__file","tree-node.vue"]]);const cze=ge({name:"ElTreeV2"}),dze=ge({...cze,props:J9e,emits:tze,setup(e,{expose:t,emit:n}){const r=e,i=yo(),o=le(()=>r.itemSize);Rr(RR,{ctx:{emit:n,slots:i},props:r,instance:Mr()}),Rr(od,void 0);const{t:s}=ii(),u=en("tree"),{flattenTree:a,isNotEmpty:h,listRef:m,toggleExpand:v,isExpanded:_,isIndeterminate:b,isChecked:T,isDisabled:M,isCurrent:E,isForceHiddenExpandIcon:k,handleNodeClick:z,handleNodeDrop:B,handleNodeCheck:U,toggleCheckbox:W,getCurrentNode:q,getCurrentKey:Q,setCurrentKey:te,getCheckedKeys:ie,getCheckedNodes:ae,getHalfCheckedKeys:re,getHalfCheckedNodes:se,setChecked:be,setCheckedKeys:Ie,filter:Se,setData:me,getNode:Le,expandNode:Ee,collapseNode:_e,setExpandedKeys:xe,scrollToNode:Be,scrollTo:Je}=aze(r,n);return t({toggleCheckbox:W,getCurrentNode:q,getCurrentKey:Q,setCurrentKey:te,getCheckedKeys:ie,getCheckedNodes:ae,getHalfCheckedKeys:re,getHalfCheckedNodes:se,setChecked:be,setCheckedKeys:Ie,filter:Se,setData:me,getNode:Le,expandNode:Ee,collapseNode:_e,setExpandedKeys:xe,scrollToNode:Be,scrollTo:Je}),(Ye,lt)=>{var Nt;return X(),pe("div",{class:ye([A(u).b(),{[A(u).m("highlight-current")]:Ye.highlightCurrent}]),role:"tree"},[A(h)?(X(),Rt(A(yZ),{key:0,ref_key:"listRef",ref:m,"class-name":A(u).b("virtual-list"),data:A(a),total:A(a).length,height:Ye.height,"item-size":A(o),"perf-mode":Ye.perfMode},{default:tt(({data:Dt,index:je,style:Ct})=>[(X(),Rt(uze,{key:Dt[je].key,style:Vn(Ct),node:Dt[je],expanded:A(_)(Dt[je]),"show-checkbox":Ye.showCheckbox,checked:A(T)(Dt[je]),indeterminate:A(b)(Dt[je]),"item-size":A(o),disabled:A(M)(Dt[je]),current:A(E)(Dt[je]),"hidden-expand-icon":A(k)(Dt[je]),onClick:A(z),onToggle:A(v),onCheck:A(U),onDrop:A(B)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck","onDrop"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(X(),pe("div",{key:1,class:ye(A(u).e("empty-block"))},[ue("span",{class:ye(A(u).e("empty-text"))},pn((Nt=Ye.emptyText)!=null?Nt:A(s)("el.tree.emptyText")),3)],2))],2)}}});var hze=mn(dze,[["__file","tree.vue"]]);const fze=pr(hze),yX=Symbol("uploadContextKey"),pze="ElUpload";class mze extends Error{constructor(t,n,r,i){super(t),this.name="UploadAjaxError",this.status=n,this.method=r,this.url=i}}function QN(e,t,n){let r;return n.response?r=`${n.response.error||n.response}`:n.responseText?r=`${n.responseText}`:r=`fail to ${t.method} ${e} ${n.status}`,new mze(r,n.status,t.method,e)}function vze(e){const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}const gze=e=>{typeof XMLHttpRequest>"u"&&vo(pze,"XMLHttpRequest is undefined");const t=new XMLHttpRequest,n=e.action;t.upload&&t.upload.addEventListener("progress",o=>{const s=o;s.percent=o.total>0?o.loaded/o.total*100:0,e.onProgress(s)});const r=new FormData;if(e.data)for(const[o,s]of Object.entries(e.data))Tn(s)&&s.length?r.append(o,...s):r.append(o,s);r.append(e.filename,e.file,e.file.name),t.addEventListener("error",()=>{e.onError(QN(n,e,t))}),t.addEventListener("load",()=>{if(t.status<200||t.status>=300)return e.onError(QN(n,e,t));e.onSuccess(vze(t))}),t.open(e.method,n,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);const i=e.headers||{};if(i instanceof Headers)i.forEach((o,s)=>t.setRequestHeader(s,o));else for(const[o,s]of Object.entries(i))So(s)||t.setRequestHeader(o,String(s));return t.send(r),t},bX=["text","picture","picture-card"];let _ze=1;const KI=()=>Date.now()+_ze++,xX=un({action:{type:String,default:"#"},headers:{type:dt(Object)},method:{type:String,default:"post"},data:{type:dt([Object,Function,Promise]),default:()=>Ca({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:dt(Array),default:()=>Ca([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:bX,default:"text"},httpRequest:{type:dt(Function),default:gze},disabled:Boolean,limit:Number}),yze=un({...xX,beforeUpload:{type:dt(Function),default:Gi},beforeRemove:{type:dt(Function)},onRemove:{type:dt(Function),default:Gi},onChange:{type:dt(Function),default:Gi},onPreview:{type:dt(Function),default:Gi},onSuccess:{type:dt(Function),default:Gi},onProgress:{type:dt(Function),default:Gi},onError:{type:dt(Function),default:Gi},onExceed:{type:dt(Function),default:Gi},crossorigin:{type:dt(String)}}),bze=un({files:{type:dt(Array),default:()=>Ca([])},disabled:{type:Boolean,default:!1},handlePreview:{type:dt(Function),default:Gi},listType:{type:String,values:bX,default:"text"},crossorigin:{type:dt(String)}}),xze={remove:e=>!!e},wze=ge({name:"ElUploadList"}),Sze=ge({...wze,props:bze,emits:xze,setup(e,{emit:t}){const n=e,{t:r}=ii(),i=en("upload"),o=en("icon"),s=en("list"),u=Ss(),a=Te(!1),h=le(()=>[i.b("list"),i.bm("list",n.listType),i.is("disabled",n.disabled)]),m=v=>{t("remove",v)};return(v,_)=>(X(),Rt(ZG,{tag:"ul",class:ye(A(h)),name:A(s).b()},{default:tt(()=>[(X(!0),pe(Nn,null,Ur(v.files,(b,T)=>(X(),pe("li",{key:b.uid||b.name,class:ye([A(i).be("list","item"),A(i).is(b.status),{focusing:a.value}]),tabindex:"0",onKeydown:Wi(M=>!A(u)&&m(b),["delete"]),onFocus:M=>a.value=!0,onBlur:M=>a.value=!1,onClick:M=>a.value=!1},[bt(v.$slots,"default",{file:b,index:T},()=>[v.listType==="picture"||b.status!=="uploading"&&v.listType==="picture-card"?(X(),pe("img",{key:0,class:ye(A(i).be("list","item-thumbnail")),src:b.url,crossorigin:v.crossorigin,alt:""},null,10,["src","crossorigin"])):wt("v-if",!0),b.status==="uploading"||v.listType!=="picture-card"?(X(),pe("div",{key:1,class:ye(A(i).be("list","item-info"))},[ue("a",{class:ye(A(i).be("list","item-name")),onClick:er(M=>v.handlePreview(b),["prevent"])},[Fe(A(On),{class:ye(A(o).m("document"))},{default:tt(()=>[Fe(A(mq))]),_:1},8,["class"]),ue("span",{class:ye(A(i).be("list","item-file-name")),title:b.name},pn(b.name),11,["title"])],10,["onClick"]),b.status==="uploading"?(X(),Rt(A(cZ),{key:0,type:v.listType==="picture-card"?"circle":"line","stroke-width":v.listType==="picture-card"?6:2,percentage:Number(b.percentage),style:Vn(v.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):wt("v-if",!0)],2)):wt("v-if",!0),ue("label",{class:ye(A(i).be("list","item-status-label"))},[v.listType==="text"?(X(),Rt(A(On),{key:0,class:ye([A(o).m("upload-success"),A(o).m("circle-check")])},{default:tt(()=>[Fe(A(o8))]),_:1},8,["class"])):["picture-card","picture"].includes(v.listType)?(X(),Rt(A(On),{key:1,class:ye([A(o).m("upload-success"),A(o).m("check")])},{default:tt(()=>[Fe(A(L_))]),_:1},8,["class"])):wt("v-if",!0)],2),A(u)?wt("v-if",!0):(X(),Rt(A(On),{key:2,class:ye(A(o).m("close")),onClick:M=>m(b)},{default:tt(()=>[Fe(A(Au))]),_:2},1032,["class","onClick"])),wt(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),wt(" This is a bug which needs to be fixed "),wt(" TODO: Fix the incorrect navigation interaction "),A(u)?wt("v-if",!0):(X(),pe("i",{key:3,class:ye(A(o).m("close-tip"))},pn(A(r)("el.upload.deleteTip")),3)),v.listType==="picture-card"?(X(),pe("span",{key:4,class:ye(A(i).be("list","item-actions"))},[ue("span",{class:ye(A(i).be("list","item-preview")),onClick:M=>v.handlePreview(b)},[Fe(A(On),{class:ye(A(o).m("zoom-in"))},{default:tt(()=>[Fe(A(xL))]),_:1},8,["class"])],10,["onClick"]),A(u)?wt("v-if",!0):(X(),pe("span",{key:0,class:ye(A(i).be("list","item-delete")),onClick:M=>m(b)},[Fe(A(On),{class:ye(A(o).m("delete"))},{default:tt(()=>[Fe(A(pq))]),_:1},8,["class"])],10,["onClick"]))],2)):wt("v-if",!0)])],42,["onKeydown","onFocus","onBlur","onClick"]))),128)),bt(v.$slots,"append")]),_:3},8,["class","name"]))}});var e$=mn(Sze,[["__file","upload-list.vue"]]);const Cze=un({disabled:{type:Boolean,default:!1}}),Tze={file:e=>Tn(e)},wX="ElUploadDrag",Mze=ge({name:wX}),Eze=ge({...Mze,props:Cze,emits:Tze,setup(e,{emit:t}){An(yX)||vo(wX,"usage: <el-upload><el-upload-dragger /></el-upload>");const r=en("upload"),i=Te(!1),o=Ss(),s=a=>{if(o.value)return;i.value=!1,a.stopPropagation();const h=Array.from(a.dataTransfer.files);t("file",h)},u=()=>{o.value||(i.value=!0)};return(a,h)=>(X(),pe("div",{class:ye([A(r).b("dragger"),A(r).is("dragover",i.value)]),onDrop:er(s,["prevent"]),onDragover:er(u,["prevent"]),onDragleave:er(m=>i.value=!1,["prevent"])},[bt(a.$slots,"default")],42,["onDrop","onDragover","onDragleave"]))}});var Aze=mn(Eze,[["__file","upload-dragger.vue"]]);const Ize=un({...xX,beforeUpload:{type:dt(Function),default:Gi},onRemove:{type:dt(Function),default:Gi},onStart:{type:dt(Function),default:Gi},onSuccess:{type:dt(Function),default:Gi},onProgress:{type:dt(Function),default:Gi},onError:{type:dt(Function),default:Gi},onExceed:{type:dt(Function),default:Gi}}),kze=ge({name:"ElUploadContent",inheritAttrs:!1}),Pze=ge({...kze,props:Ize,setup(e,{expose:t}){const n=e,r=en("upload"),i=Ss(),o=Ji({}),s=Ji(),u=M=>{if(M.length===0)return;const{autoUpload:E,limit:k,fileList:z,multiple:B,onStart:U,onExceed:W}=n;if(k&&z.length+M.length>k){W(M,z);return}B||(M=M.slice(0,1));for(const q of M){const Q=q;Q.uid=KI(),U(Q),E&&a(Q)}},a=async M=>{if(s.value.value="",!n.beforeUpload)return m(M);let E,k={};try{const B=n.data,U=n.beforeUpload(M);k=CS(n.data)?zS(n.data):n.data,E=await U,CS(n.data)&&ys(B,k)&&(k=zS(n.data))}catch{E=!1}if(E===!1){n.onRemove(M);return}let z=M;E instanceof Blob&&(E instanceof File?z=E:z=new File([E],M.name,{type:M.type})),m(Object.assign(z,{uid:M.uid}),k)},h=async(M,E)=>tr(M)?M(E):M,m=async(M,E)=>{const{headers:k,data:z,method:B,withCredentials:U,name:W,action:q,onProgress:Q,onSuccess:te,onError:ie,httpRequest:ae}=n;try{E=await h(E??z,M)}catch{n.onRemove(M);return}const{uid:re}=M,se={headers:k||{},withCredentials:U,file:M,data:E,method:B,filename:W,action:q,onProgress:Ie=>{Q(Ie,M)},onSuccess:Ie=>{te(Ie,M),delete o.value[re]},onError:Ie=>{ie(Ie,M),delete o.value[re]}},be=ae(se);o.value[re]=be,be instanceof Promise&&be.then(se.onSuccess,se.onError)},v=M=>{const E=M.target.files;E&&u(Array.from(E))},_=()=>{i.value||(s.value.value="",s.value.click())},b=()=>{_()};return t({abort:M=>{cme(o.value).filter(M?([k])=>String(M.uid)===k:()=>!0).forEach(([k,z])=>{z instanceof XMLHttpRequest&&z.abort(),delete o.value[k]})},upload:a}),(M,E)=>(X(),pe("div",{class:ye([A(r).b(),A(r).m(M.listType),A(r).is("drag",M.drag),A(r).is("disabled",A(i))]),tabindex:A(i)?"-1":"0",onClick:_,onKeydown:Wi(er(b,["self"]),["enter","space"])},[M.drag?(X(),Rt(Aze,{key:0,disabled:A(i),onFile:u},{default:tt(()=>[bt(M.$slots,"default")]),_:3},8,["disabled"])):bt(M.$slots,"default",{key:1}),ue("input",{ref_key:"inputRef",ref:s,class:ye(A(r).e("input")),name:M.name,disabled:A(i),multiple:M.multiple,accept:M.accept,type:"file",onChange:v,onClick:er(()=>{},["stop"])},null,42,["name","disabled","multiple","accept","onClick"])],42,["tabindex","onKeydown"]))}});var t$=mn(Pze,[["__file","upload-content.vue"]]);const n$="ElUpload",r$=e=>{var t;(t=e.url)!=null&&t.startsWith("blob:")&&URL.revokeObjectURL(e.url)},Lze=(e,t)=>{const n=xW(e,"fileList",void 0,{passive:!0}),r=b=>n.value.find(T=>T.uid===b.uid);function i(b){var T;(T=t.value)==null||T.abort(b)}function o(b=["ready","uploading","success","fail"]){n.value=n.value.filter(T=>!b.includes(T.status))}function s(b){n.value=n.value.filter(T=>T!==b)}const u=(b,T)=>{const M=r(T);M&&(console.error(b),M.status="fail",s(M),e.onError(b,M,n.value),e.onChange(M,n.value))},a=(b,T)=>{const M=r(T);M&&(e.onProgress(b,M,n.value),M.status="uploading",M.percentage=Math.round(b.percent))},h=(b,T)=>{const M=r(T);M&&(M.status="success",M.response=b,e.onSuccess(b,M,n.value),e.onChange(M,n.value))},m=b=>{So(b.uid)&&(b.uid=KI());const T={name:b.name,percentage:0,status:"ready",size:b.size,raw:b,uid:b.uid};if(e.listType==="picture-card"||e.listType==="picture")try{T.url=URL.createObjectURL(b)}catch(M){M.message,e.onError(M,T,n.value)}n.value=[...n.value,T],e.onChange(T,n.value)},v=async b=>{const T=b instanceof File?r(b):b;T||vo(n$,"file to be removed not found");const M=E=>{i(E),s(E),e.onRemove(E,n.value),r$(E)};e.beforeRemove?await e.beforeRemove(T,n.value)!==!1&&M(T):M(T)};function _(){n.value.filter(({status:b})=>b==="ready").forEach(({raw:b})=>{var T;return b&&((T=t.value)==null?void 0:T.upload(b))})}return Wt(()=>e.listType,b=>{b!=="picture-card"&&b!=="picture"||(n.value=n.value.map(T=>{const{raw:M,url:E}=T;if(!E&&M)try{T.url=URL.createObjectURL(M)}catch(k){e.onError(k,T,n.value)}return T}))}),Wt(n,b=>{for(const T of b)T.uid||(T.uid=KI()),T.status||(T.status="success")},{immediate:!0,deep:!0}),{uploadFiles:n,abort:i,clearFiles:o,handleError:u,handleProgress:a,handleStart:m,handleSuccess:h,handleRemove:v,submit:_,revokeFileObjectURL:r$}},Rze=ge({name:"ElUpload"}),Dze=ge({...Rze,props:yze,setup(e,{expose:t}){const n=e,r=Ss(),i=Ji(),{abort:o,submit:s,clearFiles:u,uploadFiles:a,handleStart:h,handleError:m,handleRemove:v,handleSuccess:_,handleProgress:b,revokeFileObjectURL:T}=Lze(n,i),M=le(()=>n.listType==="picture-card"),E=le(()=>({...n,fileList:a.value,onStart:h,onProgress:b,onSuccess:_,onError:m,onRemove:v}));return Di(()=>{a.value.forEach(T)}),Rr(yX,{accept:Li(n,"accept")}),t({abort:o,submit:s,clearFiles:u,handleStart:h,handleRemove:v}),(k,z)=>(X(),pe("div",null,[A(M)&&k.showFileList?(X(),Rt(e$,{key:0,disabled:A(r),"list-type":k.listType,files:A(a),crossorigin:k.crossorigin,"handle-preview":k.onPreview,onRemove:A(v)},Mu({append:tt(()=>[Fe(t$,Lr({ref_key:"uploadRef",ref:i},A(E)),{default:tt(()=>[k.$slots.trigger?bt(k.$slots,"trigger",{key:0}):wt("v-if",!0),!k.$slots.trigger&&k.$slots.default?bt(k.$slots,"default",{key:1}):wt("v-if",!0)]),_:3},16)]),_:2},[k.$slots.file?{name:"default",fn:tt(({file:B,index:U})=>[bt(k.$slots,"file",{file:B,index:U})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):wt("v-if",!0),!A(M)||A(M)&&!k.showFileList?(X(),Rt(t$,Lr({key:1,ref_key:"uploadRef",ref:i},A(E)),{default:tt(()=>[k.$slots.trigger?bt(k.$slots,"trigger",{key:0}):wt("v-if",!0),!k.$slots.trigger&&k.$slots.default?bt(k.$slots,"default",{key:1}):wt("v-if",!0)]),_:3},16)):wt("v-if",!0),k.$slots.trigger?bt(k.$slots,"default",{key:2}):wt("v-if",!0),bt(k.$slots,"tip"),!A(M)&&k.showFileList?(X(),Rt(e$,{key:3,disabled:A(r),"list-type":k.listType,files:A(a),crossorigin:k.crossorigin,"handle-preview":k.onPreview,onRemove:A(v)},Mu({_:2},[k.$slots.file?{name:"default",fn:tt(({file:B,index:U})=>[bt(k.$slots,"file",{file:B,index:U})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):wt("v-if",!0)]))}});var Oze=mn(Dze,[["__file","upload.vue"]]);const zze=pr(Oze),Bze=un({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:dt([String,Array]),default:"Element Plus"},font:{type:dt(Object)},gap:{type:dt(Array),default:()=>[100,100]},offset:{type:dt(Array)}});function Fze(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function Nze(e){return Object.keys(e).map(t=>`${Fze(t)}: ${e[t]};`).join(" ")}function $ze(){return window.devicePixelRatio||1}const Vze=(e,t)=>{let n=!1;return e.removedNodes.length&&t&&(n=Array.from(e.removedNodes).includes(t)),e.type==="attributes"&&e.target===t&&(n=!0),n},SX=3;function W5(e,t,n=1){const r=document.createElement("canvas"),i=r.getContext("2d"),o=e*n,s=t*n;return r.setAttribute("width",`${o}px`),r.setAttribute("height",`${s}px`),i.save(),[i,r,o,s]}function Hze(){function e(t,n,r,i,o,s,u,a){const[h,m,v,_]=W5(i,o,r);if(t instanceof HTMLImageElement)h.drawImage(t,0,0,v,_);else{const{color:Be,fontSize:Je,fontStyle:Ye,fontWeight:lt,fontFamily:Nt,textAlign:Dt,textBaseline:je}=s,Ct=Number(Je)*r;h.font=`${Ye} normal ${lt} ${Ct}px/${o}px ${Nt}`,h.fillStyle=Be,h.textAlign=Dt,h.textBaseline=je;const vt=Array.isArray(t)?t:[t];vt==null||vt.forEach((Vt,Re)=>{h.fillText(Vt??"",v/2,Re*(Ct+SX*r))})}const b=Math.PI/180*Number(n),T=Math.max(i,o),[M,E,k]=W5(T,T,r);M.translate(k/2,k/2),M.rotate(b),v>0&&_>0&&M.drawImage(m,-v/2,-_/2);function z(Be,Je){const Ye=Be*Math.cos(b)-Je*Math.sin(b),lt=Be*Math.sin(b)+Je*Math.cos(b);return[Ye,lt]}let B=0,U=0,W=0,q=0;const Q=v/2,te=_/2;[[0-Q,0-te],[0+Q,0-te],[0+Q,0+te],[0-Q,0+te]].forEach(([Be,Je])=>{const[Ye,lt]=z(Be,Je);B=Math.min(B,Ye),U=Math.max(U,Ye),W=Math.min(W,lt),q=Math.max(q,lt)});const ae=B+k/2,re=W+k/2,se=U-B,be=q-W,Ie=u*r,Se=a*r,me=(se+Ie)*2,Le=be+Se,[Ee,_e]=W5(me,Le);function xe(Be=0,Je=0){Ee.drawImage(E,ae,re,se,be,Be,Je,se,be)}return xe(),xe(se+Ie,-be/2-Se/2),xe(se+Ie,+be/2+Se/2),[_e.toDataURL(),me/r,Le/r]}return e}const Uze=ge({name:"ElWatermark"}),jze=ge({...Uze,props:Bze,setup(e){const t=e,n={position:"relative"},r=le(()=>{var ae,re;return(re=(ae=t.font)==null?void 0:ae.color)!=null?re:"rgba(0,0,0,.15)"}),i=le(()=>{var ae,re;return(re=(ae=t.font)==null?void 0:ae.fontSize)!=null?re:16}),o=le(()=>{var ae,re;return(re=(ae=t.font)==null?void 0:ae.fontWeight)!=null?re:"normal"}),s=le(()=>{var ae,re;return(re=(ae=t.font)==null?void 0:ae.fontStyle)!=null?re:"normal"}),u=le(()=>{var ae,re;return(re=(ae=t.font)==null?void 0:ae.fontFamily)!=null?re:"sans-serif"}),a=le(()=>{var ae,re;return(re=(ae=t.font)==null?void 0:ae.textAlign)!=null?re:"center"}),h=le(()=>{var ae,re;return(re=(ae=t.font)==null?void 0:ae.textBaseline)!=null?re:"hanging"}),m=le(()=>t.gap[0]),v=le(()=>t.gap[1]),_=le(()=>m.value/2),b=le(()=>v.value/2),T=le(()=>{var ae,re;return(re=(ae=t.offset)==null?void 0:ae[0])!=null?re:_.value}),M=le(()=>{var ae,re;return(re=(ae=t.offset)==null?void 0:ae[1])!=null?re:b.value}),E=()=>{const ae={zIndex:t.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let re=T.value-_.value,se=M.value-b.value;return re>0&&(ae.left=`${re}px`,ae.width=`calc(100% - ${re}px)`,re=0),se>0&&(ae.top=`${se}px`,ae.height=`calc(100% - ${se}px)`,se=0),ae.backgroundPosition=`${re}px ${se}px`,ae},k=Ji(null),z=Ji(),B=Te(!1),U=()=>{z.value&&(z.value.remove(),z.value=void 0)},W=(ae,re)=>{var se;k.value&&z.value&&(B.value=!0,z.value.setAttribute("style",Nze({...E(),backgroundImage:`url('${ae}')`,backgroundSize:`${Math.floor(re)}px`})),(se=k.value)==null||se.append(z.value),setTimeout(()=>{B.value=!1}))},q=ae=>{let re=120,se=64;const be=t.image,Ie=t.content,Se=t.width,me=t.height;if(!be&&ae.measureText){ae.font=`${Number(i.value)}px ${u.value}`;const Le=Array.isArray(Ie)?Ie:[Ie],Ee=Le.map(_e=>{const xe=ae.measureText(_e);return[xe.width,xe.fontBoundingBoxAscent!==void 0?xe.fontBoundingBoxAscent+xe.fontBoundingBoxDescent:xe.actualBoundingBoxAscent+xe.actualBoundingBoxDescent]});re=Math.ceil(Math.max(...Ee.map(_e=>_e[0]))),se=Math.ceil(Math.max(...Ee.map(_e=>_e[1])))*Le.length+(Le.length-1)*SX}return[Se??re,me??se]},Q=Hze(),te=()=>{const re=document.createElement("canvas").getContext("2d"),se=t.image,be=t.content,Ie=t.rotate;if(re){z.value||(z.value=document.createElement("div"));const Se=$ze(),[me,Le]=q(re),Ee=_e=>{const[xe,Be]=Q(_e||"",Ie,Se,me,Le,{color:r.value,fontSize:i.value,fontStyle:s.value,fontWeight:o.value,fontFamily:u.value,textAlign:a.value,textBaseline:h.value},m.value,v.value);W(xe,Be)};if(se){const _e=new Image;_e.onload=()=>{Ee(_e)},_e.onerror=()=>{Ee(be)},_e.crossOrigin="anonymous",_e.referrerPolicy="no-referrer",_e.src=se}else Ee(be)}};return br(()=>{te()}),Wt(()=>t,()=>{te()},{deep:!0,flush:"post"}),Di(()=>{U()}),bW(k,ae=>{B.value||ae.forEach(re=>{Vze(re,z.value)&&(U(),te())})},{attributes:!0,subtree:!0,childList:!0}),(ae,re)=>(X(),pe("div",{ref_key:"containerRef",ref:k,style:Vn([n])},[bt(ae.$slots,"default")],4))}});var Gze=mn(jze,[["__file","watermark.vue"]]);const Wze=pr(Gze),qze=un({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:dt(Object)},targetAreaClickable:{type:Boolean,default:!0}}),Kze=(e,t,n,r,i)=>{const o=Te(null),s=()=>{let v;return Qn(e.value)?v=document.querySelector(e.value):tr(e.value)?v=e.value():v=e.value,v},u=()=>{const v=s();if(!v||!t.value){o.value=null;return}!Yze(v)&&t.value&&v.scrollIntoView(i.value);const{left:_,top:b,width:T,height:M}=v.getBoundingClientRect();o.value={left:_,top:b,width:T,height:M,radius:0}};br(()=>{Wt([t,e],()=>{u()},{immediate:!0}),window.addEventListener("resize",u)}),Di(()=>{window.removeEventListener("resize",u)});const a=v=>{var _;return(_=Tn(n.value.offset)?n.value.offset[v]:n.value.offset)!=null?_:6},h=le(()=>{var v;if(!o.value)return o.value;const _=a(0),b=a(1),T=((v=n.value)==null?void 0:v.radius)||2;return{left:o.value.left-_,top:o.value.top-b,width:o.value.width+_*2,height:o.value.height+b*2,radius:T}}),m=le(()=>{const v=s();return!r.value||!v||!window.DOMRect?v||void 0:{getBoundingClientRect(){var _,b,T,M;return window.DOMRect.fromRect({width:((_=h.value)==null?void 0:_.width)||0,height:((b=h.value)==null?void 0:b.height)||0,x:((T=h.value)==null?void 0:T.left)||0,y:((M=h.value)==null?void 0:M.top)||0})}}});return{mergedPosInfo:h,triggerTarget:m}},E8=Symbol("ElTour");function Yze(e){const t=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,{top:r,right:i,bottom:o,left:s}=e.getBoundingClientRect();return r>=0&&s>=0&&i<=t&&o<=n}const Zze=(e,t,n,r,i,o,s,u)=>{const a=Te(),h=Te(),m=Te({}),v={x:a,y:h,placement:r,strategy:i,middlewareData:m},_=le(()=>{const k=[sK(A(o)),k6e(),I6e(),Xze()];return A(u)&&A(n)&&k.push(lK({element:A(n)})),k}),b=async()=>{if(!ri)return;const k=A(e),z=A(t);if(!k||!z)return;const B=await uK(k,z,{placement:A(r),strategy:A(i),middleware:A(_)});o_(v).forEach(U=>{v[U].value=B[U]})},T=le(()=>{if(!A(e))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:A(s)};const{overflow:k}=A(m);return{position:A(i),zIndex:A(s),top:A(h)!=null?`${A(h)}px`:"",left:A(a)!=null?`${A(a)}px`:"",maxWidth:k!=null&&k.maxWidth?`${k==null?void 0:k.maxWidth}px`:""}}),M=le(()=>{if(!A(u))return{};const{arrow:k}=A(m);return{left:(k==null?void 0:k.x)!=null?`${k==null?void 0:k.x}px`:"",top:(k==null?void 0:k.y)!=null?`${k==null?void 0:k.y}px`:""}});let E;return br(()=>{const k=A(e),z=A(t);k&&z&&(E=E6e(k,z,b)),ko(()=>{b()})}),Di(()=>{E&&E()}),{update:b,contentStyle:T,arrowStyle:M}},Xze=()=>({name:"overflow",async fn(e){const t=await A6e(e);let n=0;return t.left>0&&(n=t.left),t.right>0&&(n=t.right),{data:{maxWidth:e.rects.floating.width-n}}}}),Jze=ge({name:"ElTourMask",inheritAttrs:!1}),Qze=ge({...Jze,props:qze,setup(e){const t=e,{ns:n}=An(E8),r=le(()=>{var u,a;return(a=(u=t.pos)==null?void 0:u.radius)!=null?a:2}),i=le(()=>{const u=r.value,a=`a${u},${u} 0 0 1`;return{topRight:`${a} ${u},${u}`,bottomRight:`${a} ${-u},${u}`,bottomLeft:`${a} ${-u},${-u}`,topLeft:`${a} ${u},${-u}`}}),o=le(()=>{const u=window.innerWidth,a=window.innerHeight,h=i.value,m=`M${u},0 L0,0 L0,${a} L${u},${a} L${u},0 Z`,v=r.value;return t.pos?`${m} M${t.pos.left+v},${t.pos.top} h${t.pos.width-v*2} ${h.topRight} v${t.pos.height-v*2} ${h.bottomRight} h${-t.pos.width+v*2} ${h.bottomLeft} v${-t.pos.height+v*2} ${h.topLeft} z`:m}),s=le(()=>({fill:t.fill,pointerEvents:"auto",cursor:"auto"}));return EL(Li(t,"visible"),{ns:n}),(u,a)=>u.visible?(X(),pe("div",Lr({key:0,class:A(n).e("mask"),style:{position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:u.zIndex,pointerEvents:u.pos&&u.targetAreaClickable?"none":"auto"}},u.$attrs),[(X(),pe("svg",{style:{width:"100%",height:"100%"}},[ue("path",{class:ye(A(n).e("hollow")),style:Vn(A(s)),d:A(o)},null,14,["d"])]))],16)):wt("v-if",!0)}});var eBe=mn(Qze,[["__file","mask.vue"]]);const tBe=["absolute","fixed"],nBe=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],DR=un({placement:{type:dt(String),values:nBe,default:"bottom"},reference:{type:dt(Object),default:null},strategy:{type:dt(String),values:tBe,default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),rBe={close:()=>!0},iBe=ge({name:"ElTourContent"}),aBe=ge({...iBe,props:DR,emits:rBe,setup(e,{emit:t}){const n=e,r=Te(n.placement),i=Te(n.strategy),o=Te(null),s=Te(null);Wt(()=>n.placement,()=>{r.value=n.placement});const{contentStyle:u,arrowStyle:a}=Zze(Li(n,"reference"),o,s,r,i,Li(n,"offset"),Li(n,"zIndex"),Li(n,"showArrow")),h=le(()=>r.value.split("-")[0]),{ns:m}=An(E8),v=()=>{t("close")},_=b=>{b.detail.focusReason==="pointer"&&b.preventDefault()};return(b,T)=>(X(),pe("div",{ref_key:"contentRef",ref:o,style:Vn(A(u)),class:ye(A(m).e("content")),"data-side":A(h),tabindex:"-1"},[Fe(A(_w),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":o.value||void 0,onReleaseRequested:v,onFocusoutPrevented:_},{default:tt(()=>[bt(b.$slots,"default")]),_:3},8,["focus-trap-el"]),b.showArrow?(X(),pe("span",{key:0,ref_key:"arrowRef",ref:s,style:Vn(A(a)),class:ye(A(m).e("arrow"))},null,6)):wt("v-if",!0)],14,["data-side"]))}});var oBe=mn(aBe,[["__file","content.vue"]]),sBe=ge({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-total"],setup(e,{slots:t,emit:n}){let r=0;return()=>{var i,o;const s=(i=t.default)==null?void 0:i.call(t),u=[];let a=0;function h(m){Tn(m)&&m.forEach(v=>{var _;((_=(v==null?void 0:v.type)||{})==null?void 0:_.name)==="ElTourStep"&&(u.push(v),a+=1)})}return s.length&&h(Xf((o=s[0])==null?void 0:o.children)),r!==a&&(r=a,n("update-total",a)),u.length?u[e.current]:null}}});const lBe=un({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:Vi},placement:DR.placement,contentStyle:{type:dt([Object])},mask:{type:dt([Boolean,Object]),default:!0},gap:{type:dt(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:dt([Boolean,Object]),default:()=>({block:"center"})},type:{type:dt(String)},appendTo:{type:dt([String,Object]),default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),uBe={[Tr]:e=>za(e),"update:current":e=>Jn(e),close:e=>Jn(e),finish:()=>!0,change:e=>Jn(e)},cBe=ge({name:"ElTour"}),dBe=ge({...cBe,props:lBe,emits:uBe,setup(e,{emit:t}){const n=e,r=en("tour"),i=Te(0),o=Te(),s=xW(n,"current",t,{passive:!0}),u=le(()=>{var ie;return(ie=o.value)==null?void 0:ie.target}),a=le(()=>[r.b(),E.value==="primary"?r.m("primary"):""]),h=le(()=>{var ie;return((ie=o.value)==null?void 0:ie.placement)||n.placement}),m=le(()=>{var ie,ae;return(ae=(ie=o.value)==null?void 0:ie.contentStyle)!=null?ae:n.contentStyle}),v=le(()=>{var ie,ae;return(ae=(ie=o.value)==null?void 0:ie.mask)!=null?ae:n.mask}),_=le(()=>!!v.value&&n.modelValue),b=le(()=>za(v.value)?void 0:v.value),T=le(()=>{var ie,ae;return!!u.value&&((ae=(ie=o.value)==null?void 0:ie.showArrow)!=null?ae:n.showArrow)}),M=le(()=>{var ie,ae;return(ae=(ie=o.value)==null?void 0:ie.scrollIntoViewOptions)!=null?ae:n.scrollIntoViewOptions}),E=le(()=>{var ie,ae;return(ae=(ie=o.value)==null?void 0:ie.type)!=null?ae:n.type}),{nextZIndex:k}=R_(),z=k(),B=le(()=>{var ie;return(ie=n.zIndex)!=null?ie:z}),{mergedPosInfo:U,triggerTarget:W}=Kze(u,Li(n,"modelValue"),Li(n,"gap"),v,M);Wt(()=>n.modelValue,ie=>{ie||(s.value=0)});const q=()=>{n.closeOnPressEscape&&(t("update:modelValue",!1),t("close",s.value))},Q=ie=>{i.value=ie},te=yo();return Rr(E8,{currentStep:o,current:s,total:i,showClose:Li(n,"showClose"),closeIcon:Li(n,"closeIcon"),mergedType:E,ns:r,slots:te,updateModelValue(ie){t("update:modelValue",ie)},onClose(){t("close",s.value)},onFinish(){t("finish")},onChange(){t("change",s.value)}}),(ie,ae)=>(X(),pe(Nn,null,[Fe(A(z_),{to:ie.appendTo},{default:tt(()=>{var re,se;return[ue("div",Lr({class:A(a)},ie.$attrs),[Fe(eBe,{visible:A(_),fill:(re=A(b))==null?void 0:re.color,style:Vn((se=A(b))==null?void 0:se.style),pos:A(U),"z-index":A(B),"target-area-clickable":ie.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),ie.modelValue?(X(),Rt(oBe,{key:A(s),reference:A(W),placement:A(h),"show-arrow":A(T),"z-index":A(B),style:Vn(A(m)),onClose:q},{default:tt(()=>[Fe(A(sBe),{current:A(s),onUpdateTotal:Q},{default:tt(()=>[bt(ie.$slots,"default")]),_:3},8,["current"])]),_:3},8,["reference","placement","show-arrow","z-index","style"])):wt("v-if",!0)],16)]}),_:3},8,["to"]),wt(" just for IDE "),wt("v-if",!0)],64))}});var hBe=mn(dBe,[["__file","tour.vue"]]);const fBe=un({target:{type:dt([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:Vi},showArrow:{type:Boolean,default:void 0},placement:DR.placement,mask:{type:dt([Boolean,Object]),default:void 0},contentStyle:{type:dt([Object])},prevButtonProps:{type:dt(Object)},nextButtonProps:{type:dt(Object)},scrollIntoViewOptions:{type:dt([Boolean,Object]),default:void 0},type:{type:dt(String)}}),pBe={close:()=>!0},mBe=ge({name:"ElTourStep"}),vBe=ge({...mBe,props:fBe,emits:pBe,setup(e,{emit:t}){const n=e,{Close:r}=wL,{t:i}=ii(),{currentStep:o,current:s,total:u,showClose:a,closeIcon:h,mergedType:m,ns:v,slots:_,updateModelValue:b,onClose:T,onFinish:M,onChange:E}=An(E8);Wt(n,te=>{o.value=te},{immediate:!0});const k=le(()=>{var te;return(te=n.showClose)!=null?te:a.value}),z=le(()=>{var te,ie;return(ie=(te=n.closeIcon)!=null?te:h.value)!=null?ie:r}),B=te=>{if(te)return eme(te,["children","onClick"])},U=()=>{var te,ie;s.value-=1,(te=n.prevButtonProps)!=null&&te.onClick&&((ie=n.prevButtonProps)==null||ie.onClick()),E()},W=()=>{var te;s.value>=u.value-1?q():s.value+=1,(te=n.nextButtonProps)!=null&&te.onClick&&n.nextButtonProps.onClick(),E()},q=()=>{Q(),M()},Q=()=>{b(!1),T(),t("close")};return(te,ie)=>(X(),pe(Nn,null,[A(k)?(X(),pe("button",{key:0,"aria-label":"Close",class:ye(A(v).e("closebtn")),type:"button",onClick:Q},[Fe(A(On),{class:ye(A(v).e("close"))},{default:tt(()=>[(X(),Rt(kr(A(z))))]),_:1},8,["class"])],2)):wt("v-if",!0),ue("header",{class:ye([A(v).e("header"),{"show-close":A(a)}])},[bt(te.$slots,"header",{},()=>[ue("span",{role:"heading",class:ye(A(v).e("title"))},pn(te.title),3)])],2),ue("div",{class:ye(A(v).e("body"))},[bt(te.$slots,"default",{},()=>[ue("span",null,pn(te.description),1)])],2),ue("footer",{class:ye(A(v).e("footer"))},[ue("div",{class:ye(A(v).b("indicators"))},[A(_).indicators?(X(),Rt(kr(A(_).indicators),{key:0,current:A(s),total:A(u)},null,8,["current","total"])):(X(!0),pe(Nn,{key:1},Ur(A(u),(ae,re)=>(X(),pe("span",{key:ae,class:ye([A(v).b("indicator"),re===A(s)?"is-active":""])},null,2))),128))],2),ue("div",{class:ye(A(v).b("buttons"))},[A(s)>0?(X(),Rt(A(Po),Lr({key:0,size:"small",type:A(m)},B(te.prevButtonProps),{onClick:U}),{default:tt(()=>{var ae,re;return[Br(pn((re=(ae=te.prevButtonProps)==null?void 0:ae.children)!=null?re:A(i)("el.tour.previous")),1)]}),_:1},16,["type"])):wt("v-if",!0),A(s)<=A(u)-1?(X(),Rt(A(Po),Lr({key:1,size:"small",type:A(m)==="primary"?"default":"primary"},B(te.nextButtonProps),{onClick:W}),{default:tt(()=>{var ae,re;return[Br(pn((re=(ae=te.nextButtonProps)==null?void 0:ae.children)!=null?re:A(s)===A(u)-1?A(i)("el.tour.finish"):A(i)("el.tour.next")),1)]}),_:1},16,["type"])):wt("v-if",!0)],2)],2)],64))}});var CX=mn(vBe,[["__file","step.vue"]]);const gBe=pr(hBe,{TourStep:CX}),_Be=Ma(CX),yBe=un({container:{type:dt([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:dt(String),default:"default"},direction:{type:dt(String),default:"vertical"}}),bBe={change:e=>Qn(e),click:(e,t)=>e instanceof MouseEvent&&(Qn(t)||Oa(t))},TX=Symbol("anchor"),xBe=ge({name:"ElAnchor"}),wBe=ge({...xBe,props:yBe,emits:bBe,setup(e,{expose:t,emit:n}){const r=e,i=Te(""),o=Te(null),s=Te(null),u=Te(),a={};let h=!1,m=0;const v=en("anchor"),_=le(()=>[v.b(),r.type==="underline"?v.m("underline"):"",v.m(r.direction)]),b=te=>{a[te.href]=te.el},T=te=>{delete a[te]},M=te=>{i.value!==te&&(i.value=te,n("change",te))};let E=null;const k=te=>{if(!u.value)return;const ie=T6(te);if(!ie)return;E&&E(),h=!0;const ae=p7(ie,u.value),re=VA(ie,ae),se=ae.scrollHeight-ae.clientHeight,be=Math.min(re-r.offset,se);E=fme(u.value,m,be,r.duration,()=>{setTimeout(()=>{h=!1},20)})},z=te=>{te&&(M(te),k(te))},B=(te,ie)=>{n("click",te,ie),z(ie)},U=Ewe(()=>{u.value&&(m=m7(u.value));const te=W();h||Oa(te)||M(te)}),W=()=>{if(!u.value)return;const te=m7(u.value),ie=[];for(const ae of Object.keys(a)){const re=T6(ae);if(!re)continue;const se=p7(re,u.value),be=VA(re,se);ie.push({top:be-r.offset-r.bound,href:ae})}ie.sort((ae,re)=>ae.top-re.top);for(let ae=0;ae<ie.length;ae++){const re=ie[ae],se=ie[ae+1];if(ae===0&&te===0)return"";if(re.top<=te&&(!se||se.top>te))return re.href}},q=()=>{const te=T6(r.container);!te||i8(te)?u.value=window:u.value=te};Fi(u,"scroll",U);const Q=le(()=>{if(!o.value||!s.value||!i.value)return{};const te=a[i.value];if(!te)return{};const ie=o.value.getBoundingClientRect(),ae=s.value.getBoundingClientRect(),re=te.getBoundingClientRect();return r.direction==="horizontal"?{left:`${re.left-ie.left}px`,width:`${re.width}px`,opacity:1}:{top:`${re.top-ie.top+(re.height-ae.height)/2}px`,opacity:1}});return br(()=>{q();const te=decodeURIComponent(window.location.hash);T6(te)?z(te):U()}),Wt(()=>r.container,()=>{q()}),Rr(TX,{ns:v,direction:r.direction,currentAnchor:i,addLink:b,removeLink:T,handleClick:B}),t({scrollTo:z}),(te,ie)=>(X(),pe("div",{ref_key:"anchorRef",ref:o,class:ye(A(_))},[te.marker?(X(),pe("div",{key:0,ref_key:"markerRef",ref:s,class:ye(A(v).e("marker")),style:Vn(A(Q))},null,6)):wt("v-if",!0),ue("div",{class:ye(A(v).e("list"))},[bt(te.$slots,"default")],2)],2))}});var SBe=mn(wBe,[["__file","anchor.vue"]]);const CBe=un({title:String,href:String}),TBe=ge({name:"ElAnchorLink"}),MBe=ge({...TBe,props:CBe,setup(e){const t=e,n=Te(null),{ns:r,direction:i,currentAnchor:o,addLink:s,removeLink:u,handleClick:a}=An(TX),h=le(()=>[r.e("link"),r.is("active",o.value===t.href)]),m=v=>{a(v,t.href)};return Wt(()=>t.href,(v,_)=>{Fn(()=>{_&&u(_),v&&s({href:v,el:n.value})})}),br(()=>{const{href:v}=t;v&&s({href:v,el:n.value})}),Di(()=>{const{href:v}=t;v&&u(v)}),(v,_)=>(X(),pe("div",{class:ye(A(r).e("item"))},[ue("a",{ref_key:"linkRef",ref:n,class:ye(A(h)),href:v.href,onClick:m},[bt(v.$slots,"default",{},()=>[Br(pn(v.title),1)])],10,["href"]),v.$slots["sub-link"]&&A(i)==="vertical"?(X(),pe("div",{key:0,class:ye(A(r).e("list"))},[bt(v.$slots,"sub-link")],2)):wt("v-if",!0)],2))}});var MX=mn(MBe,[["__file","anchor-link.vue"]]);const EBe=pr(SBe,{AnchorLink:MX}),ABe=Ma(MX),IBe=un({options:{type:dt(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},block:Boolean,size:go,disabled:Boolean,validateEvent:{type:Boolean,default:!0},id:String,name:String,...Uo(["ariaLabel"])}),kBe={[Tr]:e=>Qn(e)||Jn(e)||za(e),[sa]:e=>Qn(e)||Jn(e)||za(e)},PBe=ge({name:"ElSegmented"}),LBe=ge({...PBe,props:IBe,emits:kBe,setup(e,{emit:t}){const n=e,r=en("segmented"),i=Ho(),o=lo(),s=Ss(),{formItem:u}=Cs(),{inputId:a,isLabeledByFormItem:h}=xc(n,{formItemContext:u}),m=Te(null),v=yue(),_=Ci({isInit:!1,width:0,translateX:0,focusVisible:!1}),b=ie=>{const ae=T(ie);t(Tr,ae),t(sa,ae)},T=ie=>Ar(ie)?ie.value:ie,M=ie=>Ar(ie)?ie.label:ie,E=ie=>!!(s.value||Ar(ie)&&ie.disabled),k=ie=>n.modelValue===T(ie),z=ie=>n.options.find(ae=>T(ae)===ie),B=ie=>[r.e("item"),r.is("selected",k(ie)),r.is("disabled",E(ie))],U=()=>{if(!m.value)return;const ie=m.value.querySelector(".is-selected"),ae=m.value.querySelector(".is-selected input");if(!ie||!ae){_.width=0,_.translateX=0,_.focusVisible=!1;return}const re=ie.getBoundingClientRect();_.isInit=!0,_.width=re.width,_.translateX=ie.offsetLeft;try{_.focusVisible=ae.matches(":focus-visible")}catch{}},W=le(()=>[r.b(),r.m(o.value),r.is("block",n.block)]),q=le(()=>({width:`${_.width}px`,transform:`translateX(${_.translateX}px)`,display:_.isInit?"block":"none"})),Q=le(()=>[r.e("item-selected"),r.is("disabled",E(z(n.modelValue))),r.is("focus-visible",_.focusVisible)]),te=le(()=>n.name||i.value);return ga(m,U),Wt(v,U),Wt(()=>n.modelValue,()=>{var ie;U(),n.validateEvent&&((ie=u==null?void 0:u.validate)==null||ie.call(u,"change").catch(ae=>void 0))},{flush:"post"}),(ie,ae)=>(X(),pe("div",{id:A(a),ref_key:"segmentedRef",ref:m,class:ye(A(W)),role:"radiogroup","aria-label":A(h)?void 0:ie.ariaLabel||"segmented","aria-labelledby":A(h)?A(u).labelId:void 0},[ue("div",{class:ye(A(r).e("group"))},[ue("div",{style:Vn(A(q)),class:ye(A(Q))},null,6),(X(!0),pe(Nn,null,Ur(ie.options,(re,se)=>(X(),pe("label",{key:se,class:ye(B(re))},[ue("input",{class:ye(A(r).e("item-input")),type:"radio",name:A(te),disabled:E(re),checked:k(re),onChange:be=>b(re)},null,42,["name","disabled","checked","onChange"]),ue("div",{class:ye(A(r).e("item-label"))},[bt(ie.$slots,"default",{item:re},()=>[Br(pn(M(re)),1)])],2)],2))),128))],2)],10,["id","aria-label","aria-labelledby"]))}});var RBe=mn(LBe,[["__file","segmented.vue"]]);const DBe=pr(RBe),OBe=(e,t)=>{const n=e.toLowerCase();return(t.label||t.value).toLowerCase().includes(n)},zBe=(e,t,n)=>{const{selectionEnd:r}=e;if(r===null)return;const i=e.value,o=vs(t);let s=-1,u;for(let a=r-1;a>=0;--a){const h=i[a];if(h===n||h===`
`||h==="\r"){s=a;continue}if(o.includes(h)){const m=s===-1?r:s;u={pattern:i.slice(a+1,m),start:a+1,end:m,prefix:h,prefixIndex:a,splitIndex:s,selectionEnd:r};break}}return u},BBe=(e,t={debug:!1,useSelectionEnd:!1})=>{const n=e.selectionStart!==null?e.selectionStart:0,r=e.selectionEnd!==null?e.selectionEnd:0,i=t.useSelectionEnd?r:n,o=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"];if(t.debug){const _=document.querySelector("#input-textarea-caret-position-mirror-div");_!=null&&_.parentNode&&_.parentNode.removeChild(_)}const s=document.createElement("div");s.id="input-textarea-caret-position-mirror-div",document.body.appendChild(s);const u=s.style,a=window.getComputedStyle(e),h=e.nodeName==="INPUT";u.whiteSpace=h?"nowrap":"pre-wrap",h||(u.wordWrap="break-word"),u.position="absolute",t.debug||(u.visibility="hidden"),o.forEach(_=>{if(h&&_==="lineHeight")if(a.boxSizing==="border-box"){const b=Number.parseInt(a.height),T=Number.parseInt(a.paddingTop)+Number.parseInt(a.paddingBottom)+Number.parseInt(a.borderTopWidth)+Number.parseInt(a.borderBottomWidth),M=T+Number.parseInt(a.lineHeight);b>M?u.lineHeight=`${b-T}px`:b===M?u.lineHeight=a.lineHeight:u.lineHeight="0"}else u.lineHeight=a.height;else u[_]=a[_]}),XP()?e.scrollHeight>Number.parseInt(a.height)&&(u.overflowY="scroll"):u.overflow="hidden",s.textContent=e.value.slice(0,Math.max(0,i)),h&&s.textContent&&(s.textContent=s.textContent.replace(/\s/g,""));const m=document.createElement("span");m.textContent=e.value.slice(Math.max(0,i))||".",m.style.position="relative",m.style.left=`${-e.scrollLeft}px`,m.style.top=`${-e.scrollTop}px`,s.appendChild(m);const v={top:m.offsetTop+Number.parseInt(a.borderTopWidth),left:m.offsetLeft+Number.parseInt(a.borderLeftWidth),height:Number.parseInt(a.fontSize)*1.5};return t.debug?m.style.backgroundColor="#aaa":document.body.removeChild(s),v.left>=e.clientWidth&&(v.left=e.clientWidth),v},FBe=un({...WL,options:{type:dt(Array),default:()=>[]},prefix:{type:dt([String,Array]),default:"@",validator:e=>Qn(e)?e.length===1:e.every(t=>Qn(t)&&t.length===1)},split:{type:String,default:" ",validator:e=>e.length===1},filterOption:{type:dt([Boolean,Function]),default:()=>OBe,validator:e=>e===!1?!0:tr(e)},placement:{type:dt(String),default:"bottom"},showArrow:Boolean,offset:{type:Number,default:0},whole:Boolean,checkIsWhole:{type:dt(Function)},modelValue:String,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:dt(Object),default:()=>({})}}),NBe={[Tr]:e=>Qn(e),search:(e,t)=>Qn(e)&&Qn(t),select:(e,t)=>Qn(e.value)&&Qn(t),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent},$Be=un({options:{type:dt(Array),default:()=>[]},loading:Boolean,disabled:Boolean,contentId:String,ariaLabel:String}),VBe={select:e=>Qn(e.value)},HBe=ge({name:"ElMentionDropdown"}),UBe=ge({...HBe,props:$Be,emits:VBe,setup(e,{expose:t,emit:n}){const r=e,i=en("mention"),{t:o}=ii(),s=Te(-1),u=Te(),a=Te(),h=Te(),m=(B,U)=>[i.be("dropdown","item"),i.is("hovering",s.value===U),i.is("disabled",B.disabled||r.disabled)],v=B=>{B.disabled||r.disabled||n("select",B)},_=B=>{s.value=B},b=le(()=>r.disabled||r.options.every(B=>B.disabled)),T=le(()=>r.options[s.value]),M=()=>{T.value&&n("select",T.value)},E=B=>{const{options:U}=r;if(U.length===0||b.value)return;B==="next"?(s.value++,s.value===U.length&&(s.value=0)):B==="prev"&&(s.value--,s.value<0&&(s.value=U.length-1));const W=U[s.value];if(W.disabled){E(B);return}Fn(()=>k(W))},k=B=>{var U,W,q,Q;const{options:te}=r,ie=te.findIndex(re=>re.value===B.value),ae=(U=a.value)==null?void 0:U[ie];if(ae){const re=(q=(W=h.value)==null?void 0:W.querySelector)==null?void 0:q.call(W,`.${i.be("dropdown","wrap")}`);re&&vL(re,ae)}(Q=u.value)==null||Q.handleScroll()};return Wt(()=>r.options,()=>{b.value||r.options.length===0?s.value=-1:s.value=0},{immediate:!0}),t({hoveringIndex:s,navigateOptions:E,selectHoverOption:M,hoverOption:T}),(B,U)=>(X(),pe("div",{ref_key:"dropdownRef",ref:h,class:ye(A(i).b("dropdown"))},[B.$slots.header?(X(),pe("div",{key:0,class:ye(A(i).be("dropdown","header"))},[bt(B.$slots,"header")],2)):wt("v-if",!0),yr(Fe(A(fd),{id:B.contentId,ref_key:"scrollbarRef",ref:u,tag:"ul","wrap-class":A(i).be("dropdown","wrap"),"view-class":A(i).be("dropdown","list"),role:"listbox","aria-label":B.ariaLabel,"aria-orientation":"vertical"},{default:tt(()=>[(X(!0),pe(Nn,null,Ur(B.options,(W,q)=>(X(),pe("li",{id:`${B.contentId}-${q}`,ref_for:!0,ref_key:"optionRefs",ref:a,key:W.value,class:ye(m(W,q)),role:"option","aria-disabled":W.disabled||B.disabled||void 0,"aria-selected":s.value===q,onMouseenter:Q=>_(q),onClick:er(Q=>v(W),["stop"])},[bt(B.$slots,"label",{item:W,index:q},()=>{var Q;return[ue("span",null,pn((Q=W.label)!=null?Q:W.value),1)]})],42,["id","aria-disabled","aria-selected","onMouseenter","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class","aria-label"]),[[vi,B.options.length>0&&!B.loading]]),B.loading?(X(),pe("div",{key:1,class:ye(A(i).be("dropdown","loading"))},[bt(B.$slots,"loading",{},()=>[Br(pn(A(o)("el.mention.loading")),1)])],2)):wt("v-if",!0),B.$slots.footer?(X(),pe("div",{key:2,class:ye(A(i).be("dropdown","footer"))},[bt(B.$slots,"footer")],2)):wt("v-if",!0)],2))}});var jBe=mn(UBe,[["__file","mention-dropdown.vue"]]);const GBe=ge({name:"ElMention",inheritAttrs:!1}),WBe=ge({...GBe,props:FBe,emits:NBe,setup(e,{expose:t,emit:n}){const r=e,i=le(()=>oc(r,Object.keys(WL))),o=en("mention"),s=Ss(),u=Ho(),a=Te(),h=Te(),m=Te(),v=Te(!1),_=Te(),b=Te(),T=le(()=>r.showArrow?r.placement:`${r.placement}-start`),M=le(()=>r.showArrow?["bottom","top"]:["bottom-start","top-start"]),E=le(()=>{const{filterOption:se,options:be}=r;return!b.value||!se?be:be.filter(Ie=>se(b.value.pattern,Ie))}),k=le(()=>v.value&&(!!E.value.length||r.loading)),z=le(()=>{var se;return`${u.value}-${(se=m.value)==null?void 0:se.hoveringIndex}`}),B=se=>{n("update:modelValue",se),ie()},U=se=>{var be,Ie,Se,me;if("key"in se&&!((be=a.value)!=null&&be.isComposing)){if(["ArrowLeft","ArrowRight"].includes(se.key))ie();else if(["ArrowUp","ArrowDown"].includes(se.key)){if(!v.value)return;se.preventDefault();const Le=se.key==="ArrowUp"?"prev":"next";(Ie=m.value)==null||Ie.navigateOptions(Le)}else if(["Enter"].includes(se.key)){if(!v.value)return;se.preventDefault(),(Se=m.value)!=null&&Se.hoverOption?(me=m.value)==null||me.selectHoverOption():v.value=!1}else if(["Escape"].includes(se.key)){if(!v.value)return;se.preventDefault(),v.value=!1}else if(["Backspace"].includes(se.key)&&r.whole&&b.value){const{splitIndex:Le,selectionEnd:Ee,pattern:_e,prefixIndex:xe,prefix:Be}=b.value,Je=te();if(!Je)return;const Ye=Je.value,lt=r.options.find(Dt=>Dt.value===_e);if((tr(r.checkIsWhole)?r.checkIsWhole(_e,Be):lt)&&Le!==-1&&Le+1===Ee){se.preventDefault();const Dt=Ye.slice(0,xe)+Ye.slice(Le+1);n(Tr,Dt);const je=xe;Fn(()=>{Je.selectionStart=je,Je.selectionEnd=je,re()})}}}},{wrapperRef:W}=vw(a,{beforeFocus(){return s.value},afterFocus(){ie()},beforeBlur(se){var be;return(be=h.value)==null?void 0:be.isFocusInsideContent(se)},afterBlur(){v.value=!1}}),q=()=>{ie()},Q=se=>{if(!b.value)return;const be=te();if(!be)return;const Ie=be.value,{split:Se}=r,me=Ie.slice(b.value.end),Le=me.startsWith(Se),Ee=`${se.value}${Le?"":Se}`,_e=Ie.slice(0,b.value.start)+Ee+me;n(Tr,_e),n("select",se,b.value.prefix);const xe=b.value.start+Ee.length+(Le?1:0);Fn(()=>{be.selectionStart=xe,be.selectionEnd=xe,be.focus(),re()})},te=()=>{var se,be;return r.type==="textarea"?(se=a.value)==null?void 0:se.textarea:(be=a.value)==null?void 0:be.input},ie=()=>{setTimeout(()=>{ae(),re(),Fn(()=>{var se;return(se=h.value)==null?void 0:se.updatePopper()})},0)},ae=()=>{const se=te();if(!se)return;const be=BBe(se),Ie=se.getBoundingClientRect(),Se=a.value.$el.getBoundingClientRect();_.value={position:"absolute",width:0,height:`${be.height}px`,left:`${be.left+Ie.left-Se.left}px`,top:`${be.top+Ie.top-Se.top}px`}},re=()=>{const se=te();if(document.activeElement!==se){v.value=!1;return}const{prefix:be,split:Ie}=r;if(b.value=zBe(se,be,Ie),b.value&&b.value.splitIndex===-1){v.value=!0,n("search",b.value.pattern,b.value.prefix);return}v.value=!1};return t({input:a,tooltip:h,dropdownVisible:k}),(se,be)=>(X(),pe("div",{ref_key:"wrapperRef",ref:W,class:ye(A(o).b())},[Fe(A(_s),Lr(Lr(A(i),se.$attrs),{ref_key:"elInputRef",ref:a,"model-value":se.modelValue,disabled:A(s),role:A(k)?"combobox":void 0,"aria-activedescendant":A(k)?A(z)||"":void 0,"aria-controls":A(k)?A(u):void 0,"aria-expanded":A(k)||void 0,"aria-label":se.ariaLabel,"aria-autocomplete":A(k)?"none":void 0,"aria-haspopup":A(k)?"listbox":void 0,onInput:B,onKeydown:U,onMousedown:q}),Mu({_:2},[Ur(se.$slots,(Ie,Se)=>({name:Se,fn:tt(me=>[bt(se.$slots,Se,ac(ap(me)))])}))]),1040,["model-value","disabled","role","aria-activedescendant","aria-controls","aria-expanded","aria-label","aria-autocomplete","aria-haspopup"]),Fe(A(ns),{ref_key:"tooltipRef",ref:h,visible:A(k),"popper-class":[A(o).e("popper"),se.popperClass],"popper-options":se.popperOptions,placement:A(T),"fallback-placements":A(M),effect:"light",pure:"",offset:se.offset,"show-arrow":se.showArrow},{default:tt(()=>[ue("div",{style:Vn(_.value)},null,4)]),content:tt(()=>{var Ie;return[Fe(jBe,{ref_key:"dropdownRef",ref:m,options:A(E),disabled:A(s),loading:se.loading,"content-id":A(u),"aria-label":se.ariaLabel,onSelect:Q,onClick:er((Ie=a.value)==null?void 0:Ie.focus,["stop"])},Mu({_:2},[Ur(se.$slots,(Se,me)=>({name:me,fn:tt(Le=>[bt(se.$slots,me,ac(ap(Le)))])}))]),1032,["options","disabled","loading","content-id","aria-label","onClick"])]}),_:3},8,["visible","popper-class","popper-options","placement","fallback-placements","offset","show-arrow"])],2))}});var qBe=mn(WBe,[["__file","mention.vue"]]);const KBe=pr(qBe);var YBe=[Z6e,s3e,MCe,gOe,LCe,NCe,IK,XCe,JCe,Po,zK,cTe,mTe,ETe,ATe,AMe,yY,DMe,Pu,HTe,cY,WMe,l5e,u5e,b8,D5e,H6e,W5e,q5e,K5e,Y5e,Z5e,HEe,JEe,QEe,dAe,UY,xAe,cIe,dIe,hIe,JY,Q3e,eSe,On,kIe,QY,_s,eZ,VIe,aZ,ske,lke,uke,mke,oPe,hPe,xPe,MK,cZ,gY,tMe,eMe,PPe,zPe,VMe,fd,_0,GS,$ke,xLe,ILe,kLe,rRe,IZ,kZ,_Re,ERe,ARe,DRe,LDe,RDe,vOe,tX,bb,Cx,OOe,j8e,VOe,WOe,qOe,ns,_9e,P9e,eC,Z9e,fze,zze,Wze,gBe,_Be,EBe,ABe,DBe,KBe];const mu="ElInfiniteScroll",ZBe=50,XBe=200,JBe=0,QBe={delay:{type:Number,default:XBe},distance:{type:Number,default:JBe},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},OR=(e,t)=>Object.entries(QBe).reduce((n,[r,i])=>{var o,s;const{type:u,default:a}=i,h=e.getAttribute(`infinite-scroll-${r}`);let m=(s=(o=t[h])!=null?o:h)!=null?s:a;return m=m==="false"?!1:m,m=u(m),n[r]=Number.isNaN(m)?a:m,n},{}),EX=e=>{const{observer:t}=e[mu];t&&(t.disconnect(),delete e[mu].observer)},eFe=(e,t)=>{const{container:n,containerEl:r,instance:i,observer:o,lastScrollTop:s}=e[mu],{disabled:u,distance:a}=OR(e,i),{clientHeight:h,scrollHeight:m,scrollTop:v}=r,_=v-s;if(e[mu].lastScrollTop=v,o||u||_<0)return;let b=!1;if(n===e)b=m-(h+v)<=a;else{const{clientTop:T,scrollHeight:M}=e,E=VA(e,r);b=v+h>=E+T+M-a}b&&t.call(i)};function q5(e,t){const{containerEl:n,instance:r}=e[mu],{disabled:i}=OR(e,r);i||n.clientHeight===0||(n.scrollHeight<=n.clientHeight?t.call(r):EX(e))}const tFe={async mounted(e,t){const{instance:n,value:r}=t;tr(r)||vo(mu,"'v-infinite-scroll' binding value must be a function"),await Fn();const{delay:i,immediate:o}=OR(e,n),s=mL(e,!0),u=s===window?document.documentElement:s,a=e0(eFe.bind(null,e,r),i);if(s){if(e[mu]={instance:n,container:s,containerEl:u,delay:i,cb:r,onScroll:a,lastScrollTop:u.scrollTop},o){const h=new MutationObserver(e0(q5.bind(null,e,r),ZBe));e[mu].observer=h,h.observe(e,{childList:!0,subtree:!0}),q5(e,r)}s.addEventListener("scroll",a)}},unmounted(e){if(!e[mu])return;const{container:t,onScroll:n}=e[mu];t==null||t.removeEventListener("scroll",n),EX(e)},async updated(e){if(!e[mu])await Fn();else{const{containerEl:t,cb:n,observer:r}=e[mu];t.clientHeight&&r&&q5(e,n)}}},YI=tFe;YI.install=e=>{e.directive("InfiniteScroll",YI)};const nFe=YI;function rFe(e){let t;const n=Te(!1),r=Ci({...e,originalPosition:"",originalOverflow:"",visible:!1});function i(_){r.text=_}function o(){const _=r.parent,b=v.ns;if(!_.vLoadingAddClassList){let T=_.getAttribute("loading-number");T=Number.parseInt(T)-1,T?_.setAttribute("loading-number",T.toString()):(bs(_,b.bm("parent","relative")),_.removeAttribute("loading-number")),bs(_,b.bm("parent","hidden"))}s(),m.unmount()}function s(){var _,b;(b=(_=v.$el)==null?void 0:_.parentNode)==null||b.removeChild(v.$el)}function u(){var _;e.beforeClose&&!e.beforeClose()||(n.value=!0,clearTimeout(t),t=setTimeout(a,400),r.visible=!1,(_=e.closed)==null||_.call(e))}function a(){if(!n.value)return;const _=r.parent;n.value=!1,_.vLoadingAddClassList=void 0,o()}const m=tW(ge({name:"ElLoading",setup(_,{expose:b}){const{ns:T,zIndex:M}=g8("loading");return b({ns:T,zIndex:M}),()=>{const E=r.spinner||r.svg,k=jn("svg",{class:"circular",viewBox:r.svgViewBox?r.svgViewBox:"0 0 50 50",...E?{innerHTML:E}:{}},[jn("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),z=r.text?jn("p",{class:T.b("text")},[r.text]):void 0;return jn(Lo,{name:T.b("fade"),onAfterLeave:a},{default:tt(()=>[yr(Fe("div",{style:{backgroundColor:r.background||""},class:[T.b("mask"),r.customClass,r.fullscreen?"is-fullscreen":""]},[jn("div",{class:T.b("spinner")},[k,z])]),[[vi,r.visible]])])})}}})),v=m.mount(document.createElement("div"));return{...Co(r),setText:i,removeElLoadingChild:s,close:u,handleAfterLeave:a,vm:v,get $el(){return v.$el}}}let N6;const ZI=function(e={}){if(!ri)return;const t=iFe(e);if(t.fullscreen&&N6)return N6;const n=rFe({...t,closed:()=>{var i;(i=t.closed)==null||i.call(t),t.fullscreen&&(N6=void 0)}});aFe(t,t.parent,n),i$(t,t.parent,n),t.parent.vLoadingAddClassList=()=>i$(t,t.parent,n);let r=t.parent.getAttribute("loading-number");return r?r=`${Number.parseInt(r)+1}`:r="1",t.parent.setAttribute("loading-number",r),t.parent.appendChild(n.$el),Fn(()=>n.visible.value=t.visible),t.fullscreen&&(N6=n),n},iFe=e=>{var t,n,r,i;let o;return Qn(e.target)?o=(t=document.querySelector(e.target))!=null?t:document.body:o=e.target||document.body,{parent:o===document.body||e.body?document.body:o,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:o===document.body&&((n=e.fullscreen)!=null?n:!0),lock:(r=e.lock)!=null?r:!1,customClass:e.customClass||"",visible:(i=e.visible)!=null?i:!0,beforeClose:e.beforeClose,closed:e.closed,target:o}},aFe=async(e,t,n)=>{const{nextZIndex:r}=n.vm.zIndex||n.vm._.exposed.zIndex,i={};if(e.fullscreen)n.originalPosition.value=Hf(document.body,"position"),n.originalOverflow.value=Hf(document.body,"overflow"),i.zIndex=r();else if(e.parent===document.body){n.originalPosition.value=Hf(document.body,"position"),await Fn();for(const o of["top","left"]){const s=o==="top"?"scrollTop":"scrollLeft";i[o]=`${e.target.getBoundingClientRect()[o]+document.body[s]+document.documentElement[s]-Number.parseInt(Hf(document.body,`margin-${o}`),10)}px`}for(const o of["height","width"])i[o]=`${e.target.getBoundingClientRect()[o]}px`}else n.originalPosition.value=Hf(t,"position");for(const[o,s]of Object.entries(i))n.$el.style[o]=s},i$=(e,t,n)=>{const r=n.vm.ns||n.vm._.exposed.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?bs(t,r.bm("parent","relative")):bu(t,r.bm("parent","relative")),e.fullscreen&&e.lock?bu(t,r.bm("parent","hidden")):bs(t,r.bm("parent","hidden"))},J3=Symbol("ElLoading"),a$=(e,t)=>{var n,r,i,o;const s=t.instance,u=_=>Ar(t.value)?t.value[_]:void 0,a=_=>{const b=Qn(_)&&(s==null?void 0:s[_])||_;return b&&Te(b)},h=_=>a(u(_)||e.getAttribute(`element-loading-${ph(_)}`)),m=(n=u("fullscreen"))!=null?n:t.modifiers.fullscreen,v={text:h("text"),svg:h("svg"),svgViewBox:h("svgViewBox"),spinner:h("spinner"),background:h("background"),customClass:h("customClass"),fullscreen:m,target:(r=u("target"))!=null?r:m?void 0:e,body:(i=u("body"))!=null?i:t.modifiers.body,lock:(o=u("lock"))!=null?o:t.modifiers.lock};e[J3]={options:v,instance:ZI(v)}},oFe=(e,t)=>{for(const n of Object.keys(t))ra(t[n])&&(t[n].value=e[n])},o$={mounted(e,t){t.value&&a$(e,t)},updated(e,t){const n=e[J3];t.oldValue!==t.value&&(t.value&&!t.oldValue?a$(e,t):t.value&&t.oldValue?Ar(t.value)&&oFe(t.value,n.options):n==null||n.instance.close())},unmounted(e){var t;(t=e[J3])==null||t.instance.close(),e[J3]=null}},sFe={install(e){e.directive("loading",o$),e.config.globalProperties.$loading=ZI},directive:o$,service:ZI},AX=["success","info","warning","error"],hs=Ca({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:ri?document.body:void 0}),lFe=un({customClass:{type:String,default:hs.customClass},center:{type:Boolean,default:hs.center},dangerouslyUseHTMLString:{type:Boolean,default:hs.dangerouslyUseHTMLString},duration:{type:Number,default:hs.duration},icon:{type:Vi,default:hs.icon},id:{type:String,default:hs.id},message:{type:dt([String,Object,Function]),default:hs.message},onClose:{type:dt(Function),default:hs.onClose},showClose:{type:Boolean,default:hs.showClose},type:{type:String,values:AX,default:hs.type},plain:{type:Boolean,default:hs.plain},offset:{type:Number,default:hs.offset},zIndex:{type:Number,default:hs.zIndex},grouping:{type:Boolean,default:hs.grouping},repeatNum:{type:Number,default:hs.repeatNum}}),uFe={destroy:()=>!0},sc=LP([]),cFe=e=>{const t=sc.findIndex(i=>i.id===e),n=sc[t];let r;return t>0&&(r=sc[t-1]),{current:n,prev:r}},dFe=e=>{const{prev:t}=cFe(e);return t?t.vm.exposed.bottom.value:0},hFe=(e,t)=>sc.findIndex(r=>r.id===e)>0?16:t,fFe=ge({name:"ElMessage"}),pFe=ge({...fFe,props:lFe,emits:uFe,setup(e,{expose:t}){const n=e,{Close:r}=SL,{ns:i,zIndex:o}=g8("message"),{currentZIndex:s,nextZIndex:u}=o,a=Te(),h=Te(!1),m=Te(0);let v;const _=le(()=>n.type?n.type==="error"?"danger":n.type:"info"),b=le(()=>{const Q=n.type;return{[i.bm("icon",Q)]:Q&&up[Q]}}),T=le(()=>n.icon||up[n.type]||""),M=le(()=>dFe(n.id)),E=le(()=>hFe(n.id,n.offset)+M.value),k=le(()=>m.value+E.value),z=le(()=>({top:`${E.value}px`,zIndex:s.value}));function B(){n.duration!==0&&({stop:v}=d0(()=>{W()},n.duration))}function U(){v==null||v()}function W(){h.value=!1}function q({code:Q}){Q===Kn.esc&&W()}return br(()=>{B(),u(),h.value=!0}),Wt(()=>n.repeatNum,()=>{U(),B()}),Fi(document,"keydown",q),ga(a,()=>{m.value=a.value.getBoundingClientRect().height}),t({visible:h,bottom:k,close:W}),(Q,te)=>(X(),Rt(Lo,{name:A(i).b("fade"),onBeforeLeave:Q.onClose,onAfterLeave:ie=>Q.$emit("destroy"),persisted:""},{default:tt(()=>[yr(ue("div",{id:Q.id,ref_key:"messageRef",ref:a,class:ye([A(i).b(),{[A(i).m(Q.type)]:Q.type},A(i).is("center",Q.center),A(i).is("closable",Q.showClose),A(i).is("plain",Q.plain),Q.customClass]),style:Vn(A(z)),role:"alert",onMouseenter:U,onMouseleave:B},[Q.repeatNum>1?(X(),Rt(A(IK),{key:0,value:Q.repeatNum,type:A(_),class:ye(A(i).e("badge"))},null,8,["value","type","class"])):wt("v-if",!0),A(T)?(X(),Rt(A(On),{key:1,class:ye([A(i).e("icon"),A(b)])},{default:tt(()=>[(X(),Rt(kr(A(T))))]),_:1},8,["class"])):wt("v-if",!0),bt(Q.$slots,"default",{},()=>[Q.dangerouslyUseHTMLString?(X(),pe(Nn,{key:1},[wt(" Caution here, message could've been compromised, never use user's input as message "),ue("p",{class:ye(A(i).e("content")),innerHTML:Q.message},null,10,["innerHTML"])],2112)):(X(),pe("p",{key:0,class:ye(A(i).e("content"))},pn(Q.message),3))]),Q.showClose?(X(),Rt(A(On),{key:2,class:ye(A(i).e("closeBtn")),onClick:er(W,["stop"])},{default:tt(()=>[Fe(A(r))]),_:1},8,["class","onClick"])):wt("v-if",!0)],46,["id"]),[[vi,h.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var mFe=mn(pFe,[["__file","message.vue"]]);let vFe=1;const IX=e=>{const t=!e||Qn(e)||fa(e)||tr(e)?{message:e}:e,n={...hs,...t};if(!n.appendTo)n.appendTo=document.body;else if(Qn(n.appendTo)){let r=document.querySelector(n.appendTo);Fl(r)||(r=document.body),n.appendTo=r}return za(rc.grouping)&&!n.grouping&&(n.grouping=rc.grouping),Jn(rc.duration)&&n.duration===3e3&&(n.duration=rc.duration),Jn(rc.offset)&&n.offset===16&&(n.offset=rc.offset),za(rc.showClose)&&!n.showClose&&(n.showClose=rc.showClose),n},gFe=e=>{const t=sc.indexOf(e);if(t===-1)return;sc.splice(t,1);const{handler:n}=e;n.close()},_Fe=({appendTo:e,...t},n)=>{const r=`message_${vFe++}`,i=t.onClose,o=document.createElement("div"),s={...t,id:r,onClose:()=>{i==null||i(),gFe(m)},onDestroy:()=>{op(null,o)}},u=Fe(mFe,s,tr(s.message)||fa(s.message)?{default:tr(s.message)?s.message:()=>s.message}:null);u.appContext=n||__._context,op(u,o),e.appendChild(o.firstElementChild);const a=u.component,m={id:r,vnode:u,vm:a,handler:{close:()=>{a.exposed.visible.value=!1}},props:u.component.props};return m},__=(e={},t)=>{if(!ri)return{close:()=>{}};const n=IX(e);if(n.grouping&&sc.length){const i=sc.find(({vnode:o})=>{var s;return((s=o.props)==null?void 0:s.message)===n.message});if(i)return i.props.repeatNum+=1,i.props.type=n.type,i.handler}if(Jn(rc.max)&&sc.length>=rc.max)return{close:()=>{}};const r=_Fe(n,t);return sc.push(r),r.handler};AX.forEach(e=>{__[e]=(t={},n)=>{const r=IX(t);return __({...r,type:e},n)}});function yFe(e){for(const t of sc)(!e||e===t.props.type)&&t.handler.close()}__.closeAll=yFe;__._context=null;const Qd=Lq(__,"$message"),bFe=ge({name:"ElMessageBox",directives:{TrapFocus:I8e},components:{ElButton:Po,ElFocusTrap:_w,ElInput:_s,ElOverlay:sR,ElIcon:On,...SL},inheritAttrs:!1,props:{buttonSize:{type:String,validator:Rq},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:t}){const{locale:n,zIndex:r,ns:i,size:o}=g8("message-box",le(()=>e.buttonSize)),{t:s}=n,{nextZIndex:u}=r,a=Te(!1),h=Ci({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:Zf(mc),cancelButtonLoadingIcon:Zf(mc),confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:u()}),m=le(()=>{const me=h.type;return{[i.bm("icon",me)]:me&&up[me]}}),v=Ho(),_=Ho(),b=le(()=>h.icon||up[h.type]||""),T=le(()=>!!h.message),M=Te(),E=Te(),k=Te(),z=Te(),B=Te(),U=le(()=>h.confirmButtonClass);Wt(()=>h.inputValue,async me=>{await Fn(),e.boxType==="prompt"&&me!==null&&se()},{immediate:!0}),Wt(()=>a.value,me=>{var Le,Ee;me&&(e.boxType!=="prompt"&&(h.autofocus?k.value=(Ee=(Le=B.value)==null?void 0:Le.$el)!=null?Ee:M.value:k.value=M.value),h.zIndex=u()),e.boxType==="prompt"&&(me?Fn().then(()=>{var _e;z.value&&z.value.$el&&(h.autofocus?k.value=(_e=be())!=null?_e:M.value:k.value=M.value)}):(h.editorErrorMessage="",h.validateError=!1))});const W=le(()=>e.draggable),q=le(()=>e.overflow);Dq(M,E,W,q),br(async()=>{await Fn(),e.closeOnHashChange&&window.addEventListener("hashchange",Q)}),Di(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",Q)});function Q(){a.value&&(a.value=!1,Fn(()=>{h.action&&t("action",h.action)}))}const te=()=>{e.closeOnClickModal&&re(h.distinguishCancelAndClose?"close":"cancel")},ie=zL(te),ae=me=>{if(h.inputType!=="textarea")return me.preventDefault(),re("confirm")},re=me=>{var Le;e.boxType==="prompt"&&me==="confirm"&&!se()||(h.action=me,h.beforeClose?(Le=h.beforeClose)==null||Le.call(h,me,h,Q):Q())},se=()=>{if(e.boxType==="prompt"){const me=h.inputPattern;if(me&&!me.test(h.inputValue||""))return h.editorErrorMessage=h.inputErrorMessage||s("el.messagebox.error"),h.validateError=!0,!1;const Le=h.inputValidator;if(typeof Le=="function"){const Ee=Le(h.inputValue);if(Ee===!1)return h.editorErrorMessage=h.inputErrorMessage||s("el.messagebox.error"),h.validateError=!0,!1;if(typeof Ee=="string")return h.editorErrorMessage=Ee,h.validateError=!0,!1}}return h.editorErrorMessage="",h.validateError=!1,!0},be=()=>{const me=z.value.$refs;return me.input||me.textarea},Ie=()=>{re("close")},Se=()=>{e.closeOnPressEscape&&Ie()};return e.lockScroll&&EL(a),{...Co(h),ns:i,overlayEvent:ie,visible:a,hasMessage:T,typeClass:m,contentId:v,inputId:_,btnSize:o,iconComponent:b,confirmButtonClasses:U,rootRef:M,focusStartRef:k,headerRef:E,inputRef:z,confirmRef:B,doClose:Q,handleClose:Ie,onCloseRequested:Se,handleWrapperClick:te,handleInputEnter:ae,handleAction:re,t:s}}});function xFe(e,t,n,r,i,o){const s=Zn("el-icon"),u=Zn("close"),a=Zn("el-input"),h=Zn("el-button"),m=Zn("el-focus-trap"),v=Zn("el-overlay");return X(),Rt(Lo,{name:"fade-in-linear",onAfterLeave:_=>e.$emit("vanish"),persisted:""},{default:tt(()=>[yr(Fe(v,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:tt(()=>[ue("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:ye(`${e.ns.namespace.value}-overlay-message-box`),onClick:e.overlayEvent.onClick,onMousedown:e.overlayEvent.onMousedown,onMouseup:e.overlayEvent.onMouseup},[Fe(m,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:tt(()=>[ue("div",{ref:"rootRef",class:ye([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:Vn(e.customStyle),tabindex:"-1",onClick:er(()=>{},["stop"])},[e.title!==null&&e.title!==void 0?(X(),pe("div",{key:0,ref:"headerRef",class:ye([e.ns.e("header"),{"show-close":e.showClose}])},[ue("div",{class:ye(e.ns.e("title"))},[e.iconComponent&&e.center?(X(),Rt(s,{key:0,class:ye([e.ns.e("status"),e.typeClass])},{default:tt(()=>[(X(),Rt(kr(e.iconComponent)))]),_:1},8,["class"])):wt("v-if",!0),ue("span",null,pn(e.title),1)],2),e.showClose?(X(),pe("button",{key:0,type:"button",class:ye(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:_=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),onKeydown:Wi(er(_=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"])},[Fe(s,{class:ye(e.ns.e("close"))},{default:tt(()=>[Fe(u)]),_:1},8,["class"])],42,["aria-label","onClick","onKeydown"])):wt("v-if",!0)],2)):wt("v-if",!0),ue("div",{id:e.contentId,class:ye(e.ns.e("content"))},[ue("div",{class:ye(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(X(),Rt(s,{key:0,class:ye([e.ns.e("status"),e.typeClass])},{default:tt(()=>[(X(),Rt(kr(e.iconComponent)))]),_:1},8,["class"])):wt("v-if",!0),e.hasMessage?(X(),pe("div",{key:1,class:ye(e.ns.e("message"))},[bt(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(X(),Rt(kr(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(X(),Rt(kr(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:tt(()=>[Br(pn(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):wt("v-if",!0)],2),yr(ue("div",{class:ye(e.ns.e("input"))},[Fe(a,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":_=>e.inputValue=_,type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:ye({invalid:e.validateError}),onKeydown:Wi(e.handleInputEnter,["enter"])},null,8,["id","modelValue","onUpdate:modelValue","type","placeholder","aria-invalid","class","onKeydown"]),ue("div",{class:ye(e.ns.e("errormsg")),style:Vn({visibility:e.editorErrorMessage?"visible":"hidden"})},pn(e.editorErrorMessage),7)],2),[[vi,e.showInput]])],10,["id"]),ue("div",{class:ye(e.ns.e("btns"))},[e.showCancelButton?(X(),Rt(h,{key:0,loading:e.cancelButtonLoading,"loading-icon":e.cancelButtonLoadingIcon,class:ye([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:_=>e.handleAction("cancel"),onKeydown:Wi(er(_=>e.handleAction("cancel"),["prevent"]),["enter"])},{default:tt(()=>[Br(pn(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","loading-icon","class","round","size","onClick","onKeydown"])):wt("v-if",!0),yr(Fe(h,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,"loading-icon":e.confirmButtonLoadingIcon,class:ye([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:_=>e.handleAction("confirm"),onKeydown:Wi(er(_=>e.handleAction("confirm"),["prevent"]),["enter"])},{default:tt(()=>[Br(pn(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","loading-icon","class","round","disabled","size","onClick","onKeydown"]),[[vi,e.showConfirmButton]])],2)],14,["onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,["aria-label","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["z-index","overlay-class","mask"]),[[vi,e.visible]])]),_:3},8,["onAfterLeave"])}var wFe=mn(bFe,[["render",xFe],["__file","index.vue"]]);const Dx=new Map,SFe=e=>{let t=document.body;return e.appendTo&&(Qn(e.appendTo)&&(t=document.querySelector(e.appendTo)),Fl(e.appendTo)&&(t=e.appendTo),Fl(t)||(t=document.body)),t},CFe=(e,t,n=null)=>{const r=Fe(wFe,e,tr(e.message)||fa(e.message)?{default:tr(e.message)?e.message:()=>e.message}:null);return r.appContext=n,op(r,t),SFe(e).appendChild(t.firstElementChild),r.component},TFe=()=>document.createElement("div"),MFe=(e,t)=>{const n=TFe();e.onVanish=()=>{op(null,n),Dx.delete(i)},e.onAction=o=>{const s=Dx.get(i);let u;e.showInput?u={value:i.inputValue,action:o}:u=o,e.callback?e.callback(u,r.proxy):o==="cancel"||o==="close"?e.distinguishCancelAndClose&&o!=="cancel"?s.reject("close"):s.reject("cancel"):s.resolve(u)};const r=CFe(e,n,t),i=r.proxy;for(const o in e)mi(e,o)&&!mi(i.$props,o)&&(i[o]=e[o]);return i.visible=!0,i};function N_(e,t=null){if(!ri)return Promise.reject();let n;return Qn(e)||fa(e)?e={message:e}:n=e.callback,new Promise((r,i)=>{const o=MFe(e,t??N_._context);Dx.set(o,{options:e,callback:n,resolve:r,reject:i})})}const EFe=["alert","confirm","prompt"],AFe={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};EFe.forEach(e=>{N_[e]=IFe(e)});function IFe(e){return(t,n,r,i)=>{let o="";return Ar(n)?(r=n,o=""):Oa(n)?o="":o=n,N_(Object.assign({title:o,message:t,type:"",...AFe[e]},r,{boxType:e}),i)}}N_.close=()=>{Dx.forEach((e,t)=>{t.doClose()}),Dx.clear()};N_._context=null;const Df=N_;Df.install=e=>{Df._context=e._context,e.config.globalProperties.$msgbox=Df,e.config.globalProperties.$messageBox=Df,e.config.globalProperties.$alert=Df.alert,e.config.globalProperties.$confirm=Df.confirm,e.config.globalProperties.$prompt=Df.prompt};const kFe=Df,kX=["success","info","warning","error"],PFe=un({customClass:{type:String,default:""},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:Vi},id:{type:String,default:""},message:{type:dt([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:dt(Function),default:()=>{}},onClose:{type:dt(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...kX,""],default:""},zIndex:Number}),LFe={destroy:()=>!0},RFe=ge({name:"ElNotification"}),DFe=ge({...RFe,props:PFe,emits:LFe,setup(e,{expose:t}){const n=e,{ns:r,zIndex:i}=g8("notification"),{nextZIndex:o,currentZIndex:s}=i,{Close:u}=wL,a=Te(!1);let h;const m=le(()=>{const B=n.type;return B&&up[n.type]?r.m(B):""}),v=le(()=>n.type&&up[n.type]||n.icon),_=le(()=>n.position.endsWith("right")?"right":"left"),b=le(()=>n.position.startsWith("top")?"top":"bottom"),T=le(()=>{var B;return{[b.value]:`${n.offset}px`,zIndex:(B=n.zIndex)!=null?B:s.value}});function M(){n.duration>0&&({stop:h}=d0(()=>{a.value&&k()},n.duration))}function E(){h==null||h()}function k(){a.value=!1}function z({code:B}){B===Kn.delete||B===Kn.backspace?E():B===Kn.esc?a.value&&k():M()}return br(()=>{M(),o(),a.value=!0}),Fi(document,"keydown",z),t({visible:a,close:k}),(B,U)=>(X(),Rt(Lo,{name:A(r).b("fade"),onBeforeLeave:B.onClose,onAfterLeave:W=>B.$emit("destroy"),persisted:""},{default:tt(()=>[yr(ue("div",{id:B.id,class:ye([A(r).b(),B.customClass,A(_)]),style:Vn(A(T)),role:"alert",onMouseenter:E,onMouseleave:M,onClick:B.onClick},[A(v)?(X(),Rt(A(On),{key:0,class:ye([A(r).e("icon"),A(m)])},{default:tt(()=>[(X(),Rt(kr(A(v))))]),_:1},8,["class"])):wt("v-if",!0),ue("div",{class:ye(A(r).e("group"))},[ue("h2",{class:ye(A(r).e("title")),textContent:pn(B.title)},null,10,["textContent"]),yr(ue("div",{class:ye(A(r).e("content")),style:Vn(B.title?void 0:{margin:0})},[bt(B.$slots,"default",{},()=>[B.dangerouslyUseHTMLString?(X(),pe(Nn,{key:1},[wt(" Caution here, message could've been compromised, never use user's input as message "),ue("p",{innerHTML:B.message},null,8,["innerHTML"])],2112)):(X(),pe("p",{key:0},pn(B.message),1))])],6),[[vi,B.message]]),B.showClose?(X(),Rt(A(On),{key:0,class:ye(A(r).e("closeBtn")),onClick:er(k,["stop"])},{default:tt(()=>[Fe(A(u))]),_:1},8,["class","onClick"])):wt("v-if",!0)],2)],46,["id","onClick"]),[[vi,a.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var OFe=mn(DFe,[["__file","notification.vue"]]);const tC={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},XI=16;let zFe=1;const y_=function(e={},t=null){if(!ri)return{close:()=>{}};(typeof e=="string"||fa(e))&&(e={message:e});const n=e.position||"top-right";let r=e.offset||0;tC[n].forEach(({vm:m})=>{var v;r+=(((v=m.el)==null?void 0:v.offsetHeight)||0)+XI}),r+=XI;const i=`notification_${zFe++}`,o=e.onClose,s={...e,offset:r,id:i,onClose:()=>{BFe(i,n,o)}};let u=document.body;Fl(e.appendTo)?u=e.appendTo:Qn(e.appendTo)&&(u=document.querySelector(e.appendTo)),Fl(u)||(u=document.body);const a=document.createElement("div"),h=Fe(OFe,s,fa(s.message)?{default:()=>s.message}:null);return h.appContext=t??y_._context,h.props.onDestroy=()=>{op(null,a)},op(h,a),tC[n].push({vm:h}),u.appendChild(a.firstElementChild),{close:()=>{h.component.exposed.visible.value=!1}}};kX.forEach(e=>{y_[e]=(t={})=>((typeof t=="string"||fa(t))&&(t={message:t}),y_({...t,type:e}))});function BFe(e,t,n){const r=tC[t],i=r.findIndex(({vm:h})=>{var m;return((m=h.component)==null?void 0:m.props.id)===e});if(i===-1)return;const{vm:o}=r[i];if(!o)return;n==null||n(o);const s=o.el.offsetHeight,u=t.split("-")[0];r.splice(i,1);const a=r.length;if(!(a<1))for(let h=i;h<a;h++){const{el:m,component:v}=r[h].vm,_=Number.parseInt(m.style[u],10)-s-XI;v.props.offset=_}}function FFe(){for(const e of Object.values(tC))e.forEach(({vm:t})=>{t.component.exposed.visible.value=!1})}y_.closeAll=FFe;y_._context=null;const NFe=Lq(y_,"$notify");var $Fe=[nFe,sFe,Qd,kFe,NFe,uZ],VFe=j6e([...YBe,...$Fe]);const HFe=ge({__name:"Header",setup(e){const t=Te("2"),n=(r,i)=>{};return(r,i)=>{const o=Zn("el-menu-item");return X(),Rt(A(aZ),{"default-active":t.value,class:"el-menu-demo",mode:"horizontal",ellipsis:!1,onSelect:n},{default:tt(()=>[Fe(o,{class:"logo",index:"0",disabled:""},{default:tt(()=>i[0]||(i[0]=[ue("img",{style:{width:"90px"},src:Qle,alt:"Stellerus-Tech"},null,-1),ue("span",{style:{"font-size":"20px"}},"Stellerus",-1)])),_:1}),Fe(o,{index:"1",class:"slogan"},{default:tt(()=>i[1]||(i[1]=[Br("Accurate ClimaTech Lead")])),_:1})]),_:1},8,["default-active"])}}}),xp=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},UFe=xp(HFe,[["__scopeId","data-v-79656e46"]]),jFe={},GFe={class:"main-container"};function WFe(e,t){const n=Zn("RouterView");return X(),pe("div",GFe,[Fe(n)])}const qFe=xp(jFe,[["render",WFe],["__scopeId","data-v-e7207c91"]]),KFe={class:"common-layout"},YFe=ge({__name:"index",setup(e){return(t,n)=>{const r=Zn("el-header"),i=Zn("el-main"),o=Zn("el-footer"),s=Zn("el-container");return X(),pe("div",KFe,[Fe(s,{class:"common-container"},{default:tt(()=>[Fe(r,{class:"common-header"},{default:tt(()=>[Fe(UFe)]),_:1}),Fe(i,{class:"common-main"},{default:tt(()=>[Fe(qFe)]),_:1}),Fe(o,{class:"common-footer"})]),_:1})])}}}),ZFe=xp(YFe,[["__scopeId","data-v-7629fb09"]]);function PX(e,t){return function(){return e.apply(t,arguments)}}const{toString:XFe}=Object.prototype,{getPrototypeOf:zR}=Object,A8=(e=>t=>{const n=XFe.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),wc=e=>(e=e.toLowerCase(),t=>A8(t)===e),I8=e=>t=>typeof t===e,{isArray:$_}=Array,Ox=I8("undefined");function JFe(e){return e!==null&&!Ox(e)&&e.constructor!==null&&!Ox(e.constructor)&&$l(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const LX=wc("ArrayBuffer");function QFe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&LX(e.buffer),t}const e7e=I8("string"),$l=I8("function"),RX=I8("number"),k8=e=>e!==null&&typeof e=="object",t7e=e=>e===!0||e===!1,Q3=e=>{if(A8(e)!=="object")return!1;const t=zR(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},n7e=wc("Date"),r7e=wc("File"),i7e=wc("Blob"),a7e=wc("FileList"),o7e=e=>k8(e)&&$l(e.pipe),s7e=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||$l(e.append)&&((t=A8(e))==="formdata"||t==="object"&&$l(e.toString)&&e.toString()==="[object FormData]"))},l7e=wc("URLSearchParams"),[u7e,c7e,d7e,h7e]=["ReadableStream","Request","Response","Headers"].map(wc),f7e=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xw(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),$_(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),s=o.length;let u;for(r=0;r<s;r++)u=o[r],t.call(null,e[u],u,e)}}function DX(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const Ym=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,OX=e=>!Ox(e)&&e!==Ym;function JI(){const{caseless:e}=OX(this)&&this||{},t={},n=(r,i)=>{const o=e&&DX(t,i)||i;Q3(t[o])&&Q3(r)?t[o]=JI(t[o],r):Q3(r)?t[o]=JI({},r):$_(r)?t[o]=r.slice():t[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&xw(arguments[r],n);return t}const p7e=(e,t,n,{allOwnKeys:r}={})=>(xw(t,(i,o)=>{n&&$l(i)?e[o]=PX(i,n):e[o]=i},{allOwnKeys:r}),e),m7e=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),v7e=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},g7e=(e,t,n,r)=>{let i,o,s;const u={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],(!r||r(s,e,t))&&!u[s]&&(t[s]=e[s],u[s]=!0);e=n!==!1&&zR(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},_7e=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},y7e=e=>{if(!e)return null;if($_(e))return e;let t=e.length;if(!RX(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},b7e=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&zR(Uint8Array)),x7e=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const o=i.value;t.call(e,o[0],o[1])}},w7e=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},S7e=wc("HTMLFormElement"),C7e=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),s$=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),T7e=wc("RegExp"),zX=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};xw(n,(i,o)=>{let s;(s=t(i,o,e))!==!1&&(r[o]=s||i)}),Object.defineProperties(e,r)},M7e=e=>{zX(e,(t,n)=>{if($l(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if($l(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},E7e=(e,t)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return $_(e)?r(e):r(String(e).split(t)),n},A7e=()=>{},I7e=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,K5="abcdefghijklmnopqrstuvwxyz",l$="0123456789",BX={DIGIT:l$,ALPHA:K5,ALPHA_DIGIT:K5+K5.toUpperCase()+l$},k7e=(e=16,t=BX.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function P7e(e){return!!(e&&$l(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const L7e=e=>{const t=new Array(10),n=(r,i)=>{if(k8(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const o=$_(r)?[]:{};return xw(r,(s,u)=>{const a=n(s,i+1);!Ox(a)&&(o[u]=a)}),t[i]=void 0,o}}return r};return n(e,0)},R7e=wc("AsyncFunction"),D7e=e=>e&&(k8(e)||$l(e))&&$l(e.then)&&$l(e.catch),FX=((e,t)=>e?setImmediate:t?((n,r)=>(Ym.addEventListener("message",({source:i,data:o})=>{i===Ym&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Ym.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",$l(Ym.postMessage)),O7e=typeof queueMicrotask<"u"?queueMicrotask.bind(Ym):typeof process<"u"&&process.nextTick||FX,En={isArray:$_,isArrayBuffer:LX,isBuffer:JFe,isFormData:s7e,isArrayBufferView:QFe,isString:e7e,isNumber:RX,isBoolean:t7e,isObject:k8,isPlainObject:Q3,isReadableStream:u7e,isRequest:c7e,isResponse:d7e,isHeaders:h7e,isUndefined:Ox,isDate:n7e,isFile:r7e,isBlob:i7e,isRegExp:T7e,isFunction:$l,isStream:o7e,isURLSearchParams:l7e,isTypedArray:b7e,isFileList:a7e,forEach:xw,merge:JI,extend:p7e,trim:f7e,stripBOM:m7e,inherits:v7e,toFlatObject:g7e,kindOf:A8,kindOfTest:wc,endsWith:_7e,toArray:y7e,forEachEntry:x7e,matchAll:w7e,isHTMLForm:S7e,hasOwnProperty:s$,hasOwnProp:s$,reduceDescriptors:zX,freezeMethods:M7e,toObjectSet:E7e,toCamelCase:C7e,noop:A7e,toFiniteNumber:I7e,findKey:DX,global:Ym,isContextDefined:OX,ALPHABET:BX,generateString:k7e,isSpecCompliantForm:P7e,toJSONObject:L7e,isAsyncFn:R7e,isThenable:D7e,setImmediate:FX,asap:O7e};function Ei(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}En.inherits(Ei,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:En.toJSONObject(this.config),code:this.code,status:this.status}}});const NX=Ei.prototype,$X={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{$X[e]={value:e}});Object.defineProperties(Ei,$X);Object.defineProperty(NX,"isAxiosError",{value:!0});Ei.from=(e,t,n,r,i,o)=>{const s=Object.create(NX);return En.toFlatObject(e,s,function(a){return a!==Error.prototype},u=>u!=="isAxiosError"),Ei.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const z7e=null;function QI(e){return En.isPlainObject(e)||En.isArray(e)}function VX(e){return En.endsWith(e,"[]")?e.slice(0,-2):e}function u$(e,t,n){return e?e.concat(t).map(function(i,o){return i=VX(i),!n&&o?"["+i+"]":i}).join(n?".":""):t}function B7e(e){return En.isArray(e)&&!e.some(QI)}const F7e=En.toFlatObject(En,{},null,function(t){return/^is[A-Z]/.test(t)});function P8(e,t,n){if(!En.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=En.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(M,E){return!En.isUndefined(E[M])});const r=n.metaTokens,i=n.visitor||m,o=n.dots,s=n.indexes,a=(n.Blob||typeof Blob<"u"&&Blob)&&En.isSpecCompliantForm(t);if(!En.isFunction(i))throw new TypeError("visitor must be a function");function h(T){if(T===null)return"";if(En.isDate(T))return T.toISOString();if(!a&&En.isBlob(T))throw new Ei("Blob is not supported. Use a Buffer instead.");return En.isArrayBuffer(T)||En.isTypedArray(T)?a&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function m(T,M,E){let k=T;if(T&&!E&&typeof T=="object"){if(En.endsWith(M,"{}"))M=r?M:M.slice(0,-2),T=JSON.stringify(T);else if(En.isArray(T)&&B7e(T)||(En.isFileList(T)||En.endsWith(M,"[]"))&&(k=En.toArray(T)))return M=VX(M),k.forEach(function(B,U){!(En.isUndefined(B)||B===null)&&t.append(s===!0?u$([M],U,o):s===null?M:M+"[]",h(B))}),!1}return QI(T)?!0:(t.append(u$(E,M,o),h(T)),!1)}const v=[],_=Object.assign(F7e,{defaultVisitor:m,convertValue:h,isVisitable:QI});function b(T,M){if(!En.isUndefined(T)){if(v.indexOf(T)!==-1)throw Error("Circular reference detected in "+M.join("."));v.push(T),En.forEach(T,function(k,z){(!(En.isUndefined(k)||k===null)&&i.call(t,k,En.isString(z)?z.trim():z,M,_))===!0&&b(k,M?M.concat(z):[z])}),v.pop()}}if(!En.isObject(e))throw new TypeError("data must be an object");return b(e),t}function c$(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function BR(e,t){this._pairs=[],e&&P8(e,this,t)}const HX=BR.prototype;HX.append=function(t,n){this._pairs.push([t,n])};HX.toString=function(t){const n=t?function(r){return t.call(this,r,c$)}:c$;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function N7e(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function UX(e,t,n){if(!t)return e;const r=n&&n.encode||N7e,i=n&&n.serialize;let o;if(i?o=i(t,n):o=En.isURLSearchParams(t)?t.toString():new BR(t,n).toString(r),o){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class d${constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){En.forEach(this.handlers,function(r){r!==null&&t(r)})}}const jX={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$7e=typeof URLSearchParams<"u"?URLSearchParams:BR,V7e=typeof FormData<"u"?FormData:null,H7e=typeof Blob<"u"?Blob:null,U7e={isBrowser:!0,classes:{URLSearchParams:$7e,FormData:V7e,Blob:H7e},protocols:["http","https","file","blob","url","data"]},FR=typeof window<"u"&&typeof document<"u",ek=typeof navigator=="object"&&navigator||void 0,j7e=FR&&(!ek||["ReactNative","NativeScript","NS"].indexOf(ek.product)<0),G7e=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",W7e=FR&&window.location.href||"http://localhost",q7e=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:FR,hasStandardBrowserEnv:j7e,hasStandardBrowserWebWorkerEnv:G7e,navigator:ek,origin:W7e},Symbol.toStringTag,{value:"Module"})),dl={...q7e,...U7e};function K7e(e,t){return P8(e,new dl.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return dl.isNode&&En.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function Y7e(e){return En.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Z7e(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}function GX(e){function t(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;const u=Number.isFinite(+s),a=o>=n.length;return s=!s&&En.isArray(i)?i.length:s,a?(En.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!u):((!i[s]||!En.isObject(i[s]))&&(i[s]=[]),t(n,r,i[s],o)&&En.isArray(i[s])&&(i[s]=Z7e(i[s])),!u)}if(En.isFormData(e)&&En.isFunction(e.entries)){const n={};return En.forEachEntry(e,(r,i)=>{t(Y7e(r),i,n,0)}),n}return null}function X7e(e,t,n){if(En.isString(e))try{return(t||JSON.parse)(e),En.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const ww={transitional:jX,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=En.isObject(t);if(o&&En.isHTMLForm(t)&&(t=new FormData(t)),En.isFormData(t))return i?JSON.stringify(GX(t)):t;if(En.isArrayBuffer(t)||En.isBuffer(t)||En.isStream(t)||En.isFile(t)||En.isBlob(t)||En.isReadableStream(t))return t;if(En.isArrayBufferView(t))return t.buffer;if(En.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return K7e(t,this.formSerializer).toString();if((u=En.isFileList(t))||r.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return P8(u?{"files[]":t}:t,a&&new a,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),X7e(t)):t}],transformResponse:[function(t){const n=this.transitional||ww.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(En.isResponse(t)||En.isReadableStream(t))return t;if(t&&En.isString(t)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(u){if(s)throw u.name==="SyntaxError"?Ei.from(u,Ei.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dl.classes.FormData,Blob:dl.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};En.forEach(["delete","get","head","post","put","patch"],e=>{ww.headers[e]={}});const J7e=En.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Q7e=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||t[n]&&J7e[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},h$=Symbol("internals");function W1(e){return e&&String(e).trim().toLowerCase()}function eS(e){return e===!1||e==null?e:En.isArray(e)?e.map(eS):String(e)}function eNe(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const tNe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Y5(e,t,n,r,i){if(En.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!En.isString(t)){if(En.isString(r))return t.indexOf(r)!==-1;if(En.isRegExp(r))return r.test(t)}}function nNe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function rNe(e,t){const n=En.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,o,s){return this[r].call(this,t,i,o,s)},configurable:!0})})}class hl{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function o(u,a,h){const m=W1(a);if(!m)throw new Error("header name must be a non-empty string");const v=En.findKey(i,m);(!v||i[v]===void 0||h===!0||h===void 0&&i[v]!==!1)&&(i[v||a]=eS(u))}const s=(u,a)=>En.forEach(u,(h,m)=>o(h,m,a));if(En.isPlainObject(t)||t instanceof this.constructor)s(t,n);else if(En.isString(t)&&(t=t.trim())&&!tNe(t))s(Q7e(t),n);else if(En.isHeaders(t))for(const[u,a]of t.entries())o(a,u,r);else t!=null&&o(n,t,r);return this}get(t,n){if(t=W1(t),t){const r=En.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return eNe(i);if(En.isFunction(n))return n.call(this,i,r);if(En.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=W1(t),t){const r=En.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Y5(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function o(s){if(s=W1(s),s){const u=En.findKey(r,s);u&&(!n||Y5(r,r[u],u,n))&&(delete r[u],i=!0)}}return En.isArray(t)?t.forEach(o):o(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!t||Y5(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){const n=this,r={};return En.forEach(this,(i,o)=>{const s=En.findKey(r,o);if(s){n[s]=eS(i),delete n[o];return}const u=t?nNe(o):String(o).trim();u!==o&&delete n[o],n[u]=eS(i),r[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return En.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&En.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[h$]=this[h$]={accessors:{}}).accessors,i=this.prototype;function o(s){const u=W1(s);r[u]||(rNe(i,s),r[u]=!0)}return En.isArray(t)?t.forEach(o):o(t),this}}hl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);En.reduceDescriptors(hl.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});En.freezeMethods(hl);function Z5(e,t){const n=this||ww,r=t||n,i=hl.from(r.headers);let o=r.data;return En.forEach(e,function(u){o=u.call(n,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function WX(e){return!!(e&&e.__CANCEL__)}function V_(e,t,n){Ei.call(this,e??"canceled",Ei.ERR_CANCELED,t,n),this.name="CanceledError"}En.inherits(V_,Ei,{__CANCEL__:!0});function qX(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Ei("Request failed with status code "+n.status,[Ei.ERR_BAD_REQUEST,Ei.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function iNe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function aNe(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,o=0,s;return t=t!==void 0?t:1e3,function(a){const h=Date.now(),m=r[o];s||(s=h),n[i]=a,r[i]=h;let v=o,_=0;for(;v!==i;)_+=n[v++],v=v%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),h-s<t)return;const b=m&&h-m;return b?Math.round(_*1e3/b):void 0}}function oNe(e,t){let n=0,r=1e3/t,i,o;const s=(h,m=Date.now())=>{n=m,i=null,o&&(clearTimeout(o),o=null),e.apply(null,h)};return[(...h)=>{const m=Date.now(),v=m-n;v>=r?s(h,m):(i=h,o||(o=setTimeout(()=>{o=null,s(i)},r-v)))},()=>i&&s(i)]}const nC=(e,t,n=3)=>{let r=0;const i=aNe(50,250);return oNe(o=>{const s=o.loaded,u=o.lengthComputable?o.total:void 0,a=s-r,h=i(a),m=s<=u;r=s;const v={loaded:s,total:u,progress:u?s/u:void 0,bytes:a,rate:h||void 0,estimated:h&&u&&m?(u-s)/h:void 0,event:o,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(v)},n)},f$=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},p$=e=>(...t)=>En.asap(()=>e(...t)),sNe=dl.hasStandardBrowserEnv?function(){const t=dl.navigator&&/(msie|trident)/i.test(dl.navigator.userAgent),n=document.createElement("a");let r;function i(o){let s=o;return t&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(s){const u=En.isString(s)?i(s):s;return u.protocol===r.protocol&&u.host===r.host}}():function(){return function(){return!0}}(),lNe=dl.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const s=[e+"="+encodeURIComponent(t)];En.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),En.isString(r)&&s.push("path="+r),En.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function uNe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function cNe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function KX(e,t){return e&&!uNe(t)?cNe(e,t):t}const m$=e=>e instanceof hl?{...e}:e;function b0(e,t){t=t||{};const n={};function r(h,m,v){return En.isPlainObject(h)&&En.isPlainObject(m)?En.merge.call({caseless:v},h,m):En.isPlainObject(m)?En.merge({},m):En.isArray(m)?m.slice():m}function i(h,m,v){if(En.isUndefined(m)){if(!En.isUndefined(h))return r(void 0,h,v)}else return r(h,m,v)}function o(h,m){if(!En.isUndefined(m))return r(void 0,m)}function s(h,m){if(En.isUndefined(m)){if(!En.isUndefined(h))return r(void 0,h)}else return r(void 0,m)}function u(h,m,v){if(v in t)return r(h,m);if(v in e)return r(void 0,h)}const a={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u,headers:(h,m)=>i(m$(h),m$(m),!0)};return En.forEach(Object.keys(Object.assign({},e,t)),function(m){const v=a[m]||i,_=v(e[m],t[m],m);En.isUndefined(_)&&v!==u||(n[m]=_)}),n}const YX=e=>{const t=b0({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:u}=t;t.headers=s=hl.from(s),t.url=UX(KX(t.baseURL,t.url),e.params,e.paramsSerializer),u&&s.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let a;if(En.isFormData(n)){if(dl.hasStandardBrowserEnv||dl.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((a=s.getContentType())!==!1){const[h,...m]=a?a.split(";").map(v=>v.trim()).filter(Boolean):[];s.setContentType([h||"multipart/form-data",...m].join("; "))}}if(dl.hasStandardBrowserEnv&&(r&&En.isFunction(r)&&(r=r(t)),r||r!==!1&&sNe(t.url))){const h=i&&o&&lNe.read(o);h&&s.set(i,h)}return t},dNe=typeof XMLHttpRequest<"u",hNe=dNe&&function(e){return new Promise(function(n,r){const i=YX(e);let o=i.data;const s=hl.from(i.headers).normalize();let{responseType:u,onUploadProgress:a,onDownloadProgress:h}=i,m,v,_,b,T;function M(){b&&b(),T&&T(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let E=new XMLHttpRequest;E.open(i.method.toUpperCase(),i.url,!0),E.timeout=i.timeout;function k(){if(!E)return;const B=hl.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),W={data:!u||u==="text"||u==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:B,config:e,request:E};qX(function(Q){n(Q),M()},function(Q){r(Q),M()},W),E=null}"onloadend"in E?E.onloadend=k:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(k)},E.onabort=function(){E&&(r(new Ei("Request aborted",Ei.ECONNABORTED,e,E)),E=null)},E.onerror=function(){r(new Ei("Network Error",Ei.ERR_NETWORK,e,E)),E=null},E.ontimeout=function(){let U=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const W=i.transitional||jX;i.timeoutErrorMessage&&(U=i.timeoutErrorMessage),r(new Ei(U,W.clarifyTimeoutError?Ei.ETIMEDOUT:Ei.ECONNABORTED,e,E)),E=null},o===void 0&&s.setContentType(null),"setRequestHeader"in E&&En.forEach(s.toJSON(),function(U,W){E.setRequestHeader(W,U)}),En.isUndefined(i.withCredentials)||(E.withCredentials=!!i.withCredentials),u&&u!=="json"&&(E.responseType=i.responseType),h&&([_,T]=nC(h,!0),E.addEventListener("progress",_)),a&&E.upload&&([v,b]=nC(a),E.upload.addEventListener("progress",v),E.upload.addEventListener("loadend",b)),(i.cancelToken||i.signal)&&(m=B=>{E&&(r(!B||B.type?new V_(null,e,E):B),E.abort(),E=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const z=iNe(i.url);if(z&&dl.protocols.indexOf(z)===-1){r(new Ei("Unsupported protocol "+z+":",Ei.ERR_BAD_REQUEST,e));return}E.send(o||null)})},fNe=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const o=function(h){if(!i){i=!0,u();const m=h instanceof Error?h:this.reason;r.abort(m instanceof Ei?m:new V_(m instanceof Error?m.message:m))}};let s=t&&setTimeout(()=>{s=null,o(new Ei(`timeout ${t} of ms exceeded`,Ei.ETIMEDOUT))},t);const u=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),e=null)};e.forEach(h=>h.addEventListener("abort",o));const{signal:a}=r;return a.unsubscribe=()=>En.asap(u),a}},pNe=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},mNe=async function*(e,t){for await(const n of vNe(e))yield*pNe(n,t)},vNe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},v$=(e,t,n,r)=>{const i=mNe(e,t);let o=0,s,u=a=>{s||(s=!0,r&&r(a))};return new ReadableStream({async pull(a){try{const{done:h,value:m}=await i.next();if(h){u(),a.close();return}let v=m.byteLength;if(n){let _=o+=v;n(_)}a.enqueue(new Uint8Array(m))}catch(h){throw u(h),h}},cancel(a){return u(a),i.return()}},{highWaterMark:2})},L8=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ZX=L8&&typeof ReadableStream=="function",gNe=L8&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),XX=(e,...t)=>{try{return!!e(...t)}catch{return!1}},_Ne=ZX&&XX(()=>{let e=!1;const t=new Request(dl.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),g$=64*1024,tk=ZX&&XX(()=>En.isReadableStream(new Response("").body)),rC={stream:tk&&(e=>e.body)};L8&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!rC[t]&&(rC[t]=En.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Ei(`Response type '${t}' is not supported`,Ei.ERR_NOT_SUPPORT,r)})})})(new Response);const yNe=async e=>{if(e==null)return 0;if(En.isBlob(e))return e.size;if(En.isSpecCompliantForm(e))return(await new Request(dl.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(En.isArrayBufferView(e)||En.isArrayBuffer(e))return e.byteLength;if(En.isURLSearchParams(e)&&(e=e+""),En.isString(e))return(await gNe(e)).byteLength},bNe=async(e,t)=>{const n=En.toFiniteNumber(e.getContentLength());return n??yNe(t)},xNe=L8&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:u,onUploadProgress:a,responseType:h,headers:m,withCredentials:v="same-origin",fetchOptions:_}=YX(e);h=h?(h+"").toLowerCase():"text";let b=fNe([i,o&&o.toAbortSignal()],s),T;const M=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let E;try{if(a&&_Ne&&n!=="get"&&n!=="head"&&(E=await bNe(m,r))!==0){let W=new Request(t,{method:"POST",body:r,duplex:"half"}),q;if(En.isFormData(r)&&(q=W.headers.get("content-type"))&&m.setContentType(q),W.body){const[Q,te]=f$(E,nC(p$(a)));r=v$(W.body,g$,Q,te)}}En.isString(v)||(v=v?"include":"omit");const k="credentials"in Request.prototype;T=new Request(t,{..._,signal:b,method:n.toUpperCase(),headers:m.normalize().toJSON(),body:r,duplex:"half",credentials:k?v:void 0});let z=await fetch(T);const B=tk&&(h==="stream"||h==="response");if(tk&&(u||B&&M)){const W={};["status","statusText","headers"].forEach(ie=>{W[ie]=z[ie]});const q=En.toFiniteNumber(z.headers.get("content-length")),[Q,te]=u&&f$(q,nC(p$(u),!0))||[];z=new Response(v$(z.body,g$,Q,()=>{te&&te(),M&&M()}),W)}h=h||"text";let U=await rC[En.findKey(rC,h)||"text"](z,e);return!B&&M&&M(),await new Promise((W,q)=>{qX(W,q,{data:U,headers:hl.from(z.headers),status:z.status,statusText:z.statusText,config:e,request:T})})}catch(k){throw M&&M(),k&&k.name==="TypeError"&&/fetch/i.test(k.message)?Object.assign(new Ei("Network Error",Ei.ERR_NETWORK,e,T),{cause:k.cause||k}):Ei.from(k,k&&k.code,e,T)}}),nk={http:z7e,xhr:hNe,fetch:xNe};En.forEach(nk,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const _$=e=>`- ${e}`,wNe=e=>En.isFunction(e)||e===null||e===!1,JX={getAdapter:e=>{e=En.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){n=e[o];let s;if(r=n,!wNe(n)&&(r=nk[(s=String(n)).toLowerCase()],r===void 0))throw new Ei(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([u,a])=>`adapter ${u} `+(a===!1?"is not supported by the environment":"is not available in the build"));let s=t?o.length>1?`since :
`+o.map(_$).join(`
`):" "+_$(o[0]):"as no adapter specified";throw new Ei("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:nk};function X5(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new V_(null,e)}function y$(e){return X5(e),e.headers=hl.from(e.headers),e.data=Z5.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),JX.getAdapter(e.adapter||ww.adapter)(e).then(function(r){return X5(e),r.data=Z5.call(e,e.transformResponse,r),r.headers=hl.from(r.headers),r},function(r){return WX(r)||(X5(e),r&&r.response&&(r.response.data=Z5.call(e,e.transformResponse,r.response),r.response.headers=hl.from(r.response.headers))),Promise.reject(r)})}const QX="1.7.7",NR={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{NR[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const b$={};NR.transitional=function(t,n,r){function i(o,s){return"[Axios v"+QX+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,u)=>{if(t===!1)throw new Ei(i(s," has been removed"+(n?" in "+n:"")),Ei.ERR_DEPRECATED);return n&&!b$[s]&&(b$[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,s,u):!0}};function SNe(e,t,n){if(typeof e!="object")throw new Ei("options must be an object",Ei.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],s=t[o];if(s){const u=e[o],a=u===void 0||s(u,o,e);if(a!==!0)throw new Ei("option "+o+" must be "+a,Ei.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ei("Unknown option "+o,Ei.ERR_BAD_OPTION)}}const rk={assertOptions:SNe,validators:NR},xf=rk.validators;class i0{constructor(t){this.defaults=t,this.interceptors={request:new d$,response:new d$}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=b0(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&rk.assertOptions(r,{silentJSONParsing:xf.transitional(xf.boolean),forcedJSONParsing:xf.transitional(xf.boolean),clarifyTimeoutError:xf.transitional(xf.boolean)},!1),i!=null&&(En.isFunction(i)?n.paramsSerializer={serialize:i}:rk.assertOptions(i,{encode:xf.function,serialize:xf.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&En.merge(o.common,o[n.method]);o&&En.forEach(["delete","get","head","post","put","patch","common"],T=>{delete o[T]}),n.headers=hl.concat(s,o);const u=[];let a=!0;this.interceptors.request.forEach(function(M){typeof M.runWhen=="function"&&M.runWhen(n)===!1||(a=a&&M.synchronous,u.unshift(M.fulfilled,M.rejected))});const h=[];this.interceptors.response.forEach(function(M){h.push(M.fulfilled,M.rejected)});let m,v=0,_;if(!a){const T=[y$.bind(this),void 0];for(T.unshift.apply(T,u),T.push.apply(T,h),_=T.length,m=Promise.resolve(n);v<_;)m=m.then(T[v++],T[v++]);return m}_=u.length;let b=n;for(v=0;v<_;){const T=u[v++],M=u[v++];try{b=T(b)}catch(E){M.call(this,E);break}}try{m=y$.call(this,b)}catch(T){return Promise.reject(T)}for(v=0,_=h.length;v<_;)m=m.then(h[v++],h[v++]);return m}getUri(t){t=b0(this.defaults,t);const n=KX(t.baseURL,t.url);return UX(n,t.params,t.paramsSerializer)}}En.forEach(["delete","get","head","options"],function(t){i0.prototype[t]=function(n,r){return this.request(b0(r||{},{method:t,url:n,data:(r||{}).data}))}});En.forEach(["post","put","patch"],function(t){function n(r){return function(o,s,u){return this.request(b0(u||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}i0.prototype[t]=n(),i0.prototype[t+"Form"]=n(!0)});class $R{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(u=>{r.subscribe(u),o=u}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},t(function(o,s,u){r.reason||(r.reason=new V_(o,s,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new $R(function(i){t=i}),cancel:t}}}function CNe(e){return function(n){return e.apply(null,n)}}function TNe(e){return En.isObject(e)&&e.isAxiosError===!0}const ik={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ik).forEach(([e,t])=>{ik[t]=e});function eJ(e){const t=new i0(e),n=PX(i0.prototype.request,t);return En.extend(n,i0.prototype,t,{allOwnKeys:!0}),En.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return eJ(b0(e,i))},n}const _o=eJ(ww);_o.Axios=i0;_o.CanceledError=V_;_o.CancelToken=$R;_o.isCancel=WX;_o.VERSION=QX;_o.toFormData=P8;_o.AxiosError=Ei;_o.Cancel=_o.CanceledError;_o.all=function(t){return Promise.all(t)};_o.spread=CNe;_o.isAxiosError=TNe;_o.mergeConfig=b0;_o.AxiosHeaders=hl;_o.formToJSON=e=>GX(En.isHTMLForm(e)?new FormData(e):e);_o.getAdapter=JX.getAdapter;_o.HttpStatusCode=ik;_o.default=_o;_o.create({});const MNe="https://stellerus-te-ktmmanmwnm.cn-hongkong.fcapp.run/";let eg=null;const R8=_o.create({baseURL:MNe,withCredentials:!0,timeout:15e3,headers:{"content-type":"application/json;charset=UTF-8"}});R8.interceptors.request.use(e=>(e.data=JSON.stringify(e.data),e),e=>Promise.reject(e));R8.interceptors.response.use(e=>{const t=e.data;return t.code==200||!t.code?t:(eg?(eg.close(),Qd.error(t.message||t.msg||"Error")):eg=Qd.error(t.message||t.msg||"Error"),Promise.reject(new Error(t.message||t.msg||"Error")))},e=>(eg?(eg.close(),Qd.error(e.message||"Error")):eg=Qd.error(e.message||res.msg||"Error"),Promise.reject(e)));async function tJ(e,t={},n="data"){return R8.get(e,{params:t}).then(r=>n?r[n]:r).catch(r=>{throw r})}function nJ(e,t={}){return new Promise((n,r)=>{R8.post(e,t).then(i=>{n(i.data)},i=>{r(i)})})}const ENe=(e=[])=>{const t=[];return{install:r=>{t.includes(r)||(t.push(r),e.forEach(i=>r.use(i)))}}};function D8(){const e=[],t="0123456789abcdef";for(let n=0;n<36;n++)e[n]=t.charAt(Math.floor(Math.random()*16));return e[8]=e[13]=e[18]=e[23]="-",e.join("")}function Hl(e){return e?e instanceof AMap.Map:!1}function Ul(e){return e?e instanceof AMap.OverlayGroup:!1}function ANe(e){return e?e instanceof AMap.IndoorMap:!1}function Lu(e){return e?e instanceof AMap.VectorLayer:!1}function rJ(e){if(!e||e.length<4)return e;const t=e.substring(3,e.length);return e[2].toLowerCase()+t}const iJ=/^on[A-Z]+/;function x$(e,t){if(!e)throw new Error("url");const n=document.createElement("script");n.type="text/javascript",n.async=!0,n.defer=!0,n.src=e,document.body.appendChild(n),t&&n.addEventListener("load",()=>{t()})}function VR(e){return Array.isArray(e)?e.map(VR):e.toArray()}function INe(e){return e&&e.charAt(0).toUpperCase()+e.slice(1)}function aJ(e,t,n){!e||!e.on||e.on(t,n)}function kNe(e,t,n){!e||!e.off||e.off(t,n)}function w$(e){return new AMap.LngLat(e[0],e[1])}const PNe={visible:{type:Boolean,default:!0},zIndex:{type:Number},reEventWhenUpdate:{type:Boolean,default:!1},extraOptions:{type:Object}},fi=e=>Object.assign({},PNe,e),O8="parentInstance",gi=(e,t)=>{let n=Mr(),{props:r,attrs:i}=n,o=An(O8,void 0);const s=t.emits;let u=!1,a;br(()=>{o?o.$amapComponent?h():o.addChildComponent(h):t.isRoot&&h()}),Di(()=>{a&&(Q(),B(),t.destroyComponent?t.destroyComponent():ie(),t.provideData&&(t.provideData.isDestroy=!0),o=void 0,r=void 0,i=void 0,n=void 0,a=void 0)}),FP(()=>{r.reEventWhenUpdate&&u&&a&&Q()}),ud(()=>{r.reEventWhenUpdate&&u&&a&&q()});const h=()=>{const re=_();e(re,o==null?void 0:o.$amapComponent).then(se=>{a=se,q(),m(),z(),Object.assign(n.ctx,n.exposed),s("init",a,n.ctx),Fn(()=>{te()}).then(),u=!0})},m=()=>{["editable","visible","zooms"].forEach(se=>{if(r[se]!==void 0){const be=U(se);be&&be.call(a,M(T(se,r[se])))}})},v=t.propsRedirect||{},_=()=>{const re={};return r.extraOptions&&Object.assign(re,r.extraOptions),Object.keys(r).forEach(se=>{let be=se;const Ie=T(be,r[be]);Ie!==void 0&&(v&&v[se]&&(be=v[be]),re[be]=Ie)}),re},b=t.converts||{},T=(re,se)=>b&&b[re]?b[re].call(void 0,se):se,M=re=>UC(re)?Bi(re):A(re);let E=[],k=Object.assign({__visible:re=>{a&&a.show&&a.hide&&(re?a.show():a.hide())},__zIndex(re){a&&a.setzIndex&&a.setzIndex(re)}},t.watchRedirectFn||{});const z=()=>{Object.keys(r).forEach(re=>{let se=re;v&&v[re]&&(se=v[re]);const be=U(se);if(!be)return;const Ie={deep:!1},Se=Object.prototype.toString.call(r[re]);(Se==="[object Object]"||Se==="[object Array]")&&(Ie.deep=!0);const me=Wt(()=>r[re],Le=>{be.call(a,M(T(re,Le)))},Ie);E.push(me)})},B=()=>{E.forEach(re=>re()),E=[],k=void 0},U=re=>k[`__${re}`]?k[`__${re}`]:a?a[`set${INe(re)}`]:null,W={},q=()=>{Object.keys(i).forEach(re=>{if(iJ.test(re)){const se=rJ(re);aJ(a,se,i[re]),W[se]=i[re]}})},Q=()=>{Object.keys(W).forEach(re=>{kNe(a,re,W[re]),delete W[re]})},te=()=>{const re=t.needInitComponents||[];for(;re.length>0;)re[0](),re.splice(0,1)},ie=()=>{a&&(a.setMap&&a.setMap(null),a.close&&a.close(),a.editor&&a.editor.close())};function ae(){return a}return{$$getInstance:ae,parentInstance:o,isMounted:u}};var wa,z8=wa||(wa={});z8.notload="notload";z8.loading="loading";z8.loaded="loaded";z8.failed="failed";let Pa={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},fo={AMap:wa.notload,AMapUI:wa.notload,Loca:wa.notload},Xd={AMap:[],AMapUI:[],Loca:[]},ak=[];function LNe(e){typeof e=="function"&&(fo.AMap===wa.loaded?e(window.AMap):ak.push(e))}function q1(e){let t=[];return e.AMapUI&&t.push(RNe(e.AMapUI)),e.Loca&&t.push(DNe(e.Loca)),Promise.all(t)}function RNe(e){return new Promise((t,n)=>{let r=[];if(e.plugins)for(var i=0;i<e.plugins.length;i+=1)Pa.AMapUI.plugins.indexOf(e.plugins[i])==-1&&r.push(e.plugins[i]);if(fo.AMapUI===wa.failed)n(" AMapUI ");else if(fo.AMapUI===wa.notload){fo.AMapUI=wa.loading,Pa.AMapUI.version=e.version||Pa.AMapUI.version,i=Pa.AMapUI.version;let o=document.body||document.head,s=document.createElement("script");s.type="text/javascript",s.src=`https://webapi.amap.com/ui/${i}/main.js`,s.onerror=()=>{fo.AMapUI=wa.failed,n(" AMapUI ")},s.onload=()=>{if(fo.AMapUI=wa.loaded,r.length)window.AMapUI.loadUI(r,function(){for(let u=0,a=r.length;u<a;u++){let h=r[u].split("/").slice(-1)[0];window.AMapUI[h]=arguments[u]}for(t();Xd.AMapUI.length;)Xd.AMapUI.splice(0,1)[0]()});else for(t();Xd.AMapUI.length;)Xd.AMapUI.splice(0,1)[0]()},o.appendChild(s)}else fo.AMapUI===wa.loaded?e.version&&e.version!==Pa.AMapUI.version?n(" AMapUI "):r.length?window.AMapUI.loadUI(r,function(){for(let o=0,s=r.length;o<s;o++){let u=r[o].split("/").slice(-1)[0];window.AMapUI[u]=arguments[o]}t()}):t():e.version&&e.version!==Pa.AMapUI.version?n(" AMapUI "):Xd.AMapUI.push(o=>{o?n(o):r.length?window.AMapUI.loadUI(r,function(){for(let s=0,u=r.length;s<u;s++){let a=r[s].split("/").slice(-1)[0];window.AMapUI[a]=arguments[s]}t()}):t()})})}function DNe(e){return new Promise((t,n)=>{if(fo.Loca===wa.failed)n(" Loca ");else if(fo.Loca===wa.notload){fo.Loca=wa.loading,Pa.Loca.version=e.version||Pa.Loca.version;let s=Pa.Loca.version;var r=Pa.AMap.version.startsWith("2"),i=s.startsWith("2");if(r&&!i||!r&&i)n("JSAPI  Loca ");else{r=Pa.key,i=document.body||document.head;var o=document.createElement("script");o.type="text/javascript",o.src=`https://webapi.amap.com/loca?v=${s}&key=${r}`,o.onerror=()=>{fo.Loca=wa.failed,n(" AMapUI ")},o.onload=()=>{for(fo.Loca=wa.loaded,t();Xd.Loca.length;)Xd.Loca.splice(0,1)[0]()},i.appendChild(o)}}else fo.Loca===wa.loaded?e.version&&e.version!==Pa.Loca.version?n(" Loca "):t():e.version&&e.version!==Pa.Loca.version?n(" Loca "):Xd.Loca.push(s=>{s?n(s):n()})})}const ONe={load:function(e){if(typeof window>"u")throw Error("AMap JSAPI can only be used in Browser.");return new Promise((t,n)=>{if(fo.AMap==wa.failed)n("");else if(fo.AMap==wa.notload){let{key:s,version:u,plugins:a}=e;if(s){window.AMap&&location.host!=="lbs.amap.com"&&n("API"),Pa.key=s,Pa.AMap.version=u||Pa.AMap.version,Pa.AMap.plugins=a||Pa.AMap.plugins,fo.AMap=wa.loading;var r=document.body||document.head;window.___onAPILoaded=function(h){if(delete window.___onAPILoaded,h)fo.AMap=wa.failed,n(h);else for(fo.AMap=wa.loaded,q1(e).then(()=>{t(window.AMap)}).catch(n);ak.length;)ak.splice(0,1)[0]()};var i=document.createElement("script");i.type="text/javascript",i.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+Pa.AMap.version+"&key="+s+"&plugin="+Pa.AMap.plugins.join(","),i.onerror=h=>{fo.AMap=wa.failed,n(h)},r.appendChild(i)}else n("key")}else if(fo.AMap==wa.loaded)if(e.key&&e.key!==Pa.key)n(" key");else if(e.version&&e.version!==Pa.AMap.version)n(" JSAPI ");else{if(r=[],e.plugins)for(i=0;i<e.plugins.length;i+=1)Pa.AMap.plugins.indexOf(e.plugins[i])==-1&&r.push(e.plugins[i]);r.length?window.AMap.plugin(r,()=>{q1(e).then(()=>{t(window.AMap)}).catch(n)}):q1(e).then(()=>{t(window.AMap)}).catch(n)}else if(e.key&&e.key!==Pa.key)n(" key");else if(e.version&&e.version!==Pa.AMap.version)n(" JSAPI ");else{var o=[];if(e.plugins)for(i=0;i<e.plugins.length;i+=1)Pa.AMap.plugins.indexOf(e.plugins[i])==-1&&o.push(e.plugins[i]);LNe(()=>{o.length?window.AMap.plugin(o,()=>{q1(e).then(()=>{t(window.AMap)}).catch(n)}):q1(e).then(()=>{t(window.AMap)}).catch(n)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,Pa={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},fo={AMap:wa.notload,AMapUI:wa.notload,Loca:wa.notload},Xd={AMap:[],AMapUI:[],Loca:[]}}},zNe={key:"",version:"2.0",plugins:[],serviceHost:"",securityJsCode:""};function BNe(e={}){return e=Vb({},zNe,e),e.serviceHost?window._AMapSecurityConfig={serviceHost:e.serviceHost}:e.securityJsCode&&(window._AMapSecurityConfig={securityJsCode:e.securityJsCode}),ONe.load(e)}let Jd=null;const FNe=e=>{Jd||(Jd||(e.offline?Jd=new Promise(t=>{console.log("@vuemap/vue-amap"),t(window.AMap)}):Jd=BNe(e)),Jd.then())},NNe=fi({vid:{type:String},center:{type:Array},zoom:{type:Number},rotation:{type:Number},pitch:{type:Number},viewMode:{type:String},features:{type:Array},layers:{type:Array},zooms:{type:Array},resizeEnable:{type:Boolean,default:!0},dragEnable:{type:Boolean,default:!0},zoomEnable:{type:Boolean,default:!0},jogEnable:{type:Boolean,default:!0},pitchEnable:{type:Boolean,default:!0},rotateEnable:{type:Boolean,default:!0},animateEnable:{type:Boolean,default:!0},keyboardEnable:{type:Boolean,default:!0},doubleClickZoom:{type:Boolean,default:!0},scrollWheel:{type:Boolean,default:!0},touchZoom:{type:Boolean,default:!0},touchZoomCenter:{type:Number},showLabel:{type:Boolean,default:!0},defaultCursor:{type:String},isHotspot:{type:Boolean},mapStyle:{type:String},wallColor:{type:[String,Array]},roofColor:{type:[String,Array]},showBuildingBlock:{type:Boolean,default:!0},showIndoorMap:{type:Boolean,default:!1},skyColor:{type:[String,Array]},labelRejectMask:{type:Boolean,default:!1},mask:{type:Array},WebGLParams:{type:Object},terrain:{type:Boolean,default:!1}}),$Ne={class:"el-vue-amap-container"},VNe=["id"];var Kb=ge({name:"ElAmap",inheritAttrs:!1,__name:"amap",props:NNe,emits:["init","update:zoom","update:center","update:rotation","update:pitch"],setup(e,{expose:t,emit:n}){const r=[],i={$amapComponent:void 0,addChildComponent(_){r.push(_)},isDestroy:!1};Rr(O8,i);const o=e,s=n,u=Te(o.vid||D8());let a;const{$$getInstance:h}=gi(_=>new Promise((b,T)=>{if(!Jd){T(new Error("initAMapApiLoader"));return}Jd.then(()=>{Fn(()=>{a=new AMap.Map(u.value,_),i.$amapComponent=a,m(),b(a)})}).catch(M=>{T(M)})}),{isRoot:!0,emits:s,needInitComponents:r,provideData:i,watchRedirectFn:{__dragEnable(_){a&&a.setStatus({dragEnable:_})},__zoomEnable(_){a&&a.setStatus({zoomEnable:_})},__jogEnable(_){a&&a.setStatus({jogEnable:_})},__keyboardEnable(_){a&&a.setStatus({keyboardEnable:_})},__doubleClickZoom(_){a&&a.setStatus({doubleClickZoom:_})},__scrollWheel(_){a&&a.setStatus({scrollWheel:_})},__rotateEnable(_){a&&a.setStatus({rotateEnable:_})},__pitchEnable(_){a&&a.setStatus({pitchEnable:_})},__resizeEnable(_){a&&a.setStatus({resizeEnable:_})},__showIndoorMap(_){a&&a.setStatus({showIndoorMap:_})}}}),m=()=>{a.on("zoomchange",()=>{s("update:zoom",a.getZoom())}),a.on("rotateend",()=>{s("update:rotation",a.getRotation())}),a.on("dragging",()=>{s("update:center",v())}),a.on("dragend",()=>{s("update:pitch",a.getPitch())}),a.on("touchmove",()=>{s("update:center",v())})},v=()=>{const _=a.getCenter();return[_.lng,_.lat]};return Di(()=>{a&&(a.clearEvents(),a.destroy(),a=null)}),t({$$getInstance:h}),(_,b)=>(X(),pe("div",$Ne,[ue("div",{id:u.value,class:"el-vue-amap"},null,8,VNe),bt(_.$slots,"default")]))}});Kb.__file="src/vue-amap/packages/amap/amap.vue";Kb.install=e=>(e.component(Kb.name,Kb),e);const HR=Kb;var Yb=ge({name:"ElAmapControlControlBar",inheritAttrs:!1,__name:"ControlBar",props:fi({position:{type:[String,Object]},offset:{type:Array},showControlButton:{type:Boolean,default:!0}}),emits:["init"],setup(e,{expose:t,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:s}=gi((u,a)=>new Promise(h=>{a.plugin(["AMap.ControlBar"],()=>{i=new AMap.ControlBar(u),a.addControl(i),h(i)})}),{emits:r,destroyComponent(){i&&(s!=null&&s.$amapComponent)&&(s!=null&&s.isDestroy||s==null||s.$amapComponent.removeControl(i),i=null)}});return t({$$getInstance:o}),(u,a)=>(X(),pe("div"))}});Yb.__file="src/vue-amap/packages/control/ControlBar/ControlBar.vue";Yb.install=e=>(e.component(Yb.name,Yb),e);const HNe=Yb,UNe=fi({autoMove:{type:Boolean,default:!0},showRectangle:{type:Boolean,default:!0},showButton:{type:Boolean,default:!0},isOpen:{type:Boolean,default:!0},mapStyle:{type:String},layers:{type:Array},width:{type:String},height:{type:String},offset:{type:Array},borderStyle:{type:String},borderColor:{type:String},borderRadius:{type:String},borderWidth:{type:String},buttonSize:{type:String}});var Zb=ge({name:"ElAmapControlHawkEye",inheritAttrs:!1,__name:"HawkEye",props:UNe,emits:["init"],setup(e,{expose:t,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:s}=gi((u,a)=>new Promise(h=>{a.plugin(["AMap.HawkEye"],()=>{i=new AMap.HawkEye(u),a.addControl(i),h(i)})}),{emits:r,watchRedirectFn:{__isOpen(u){u?i.open():i.close()}},destroyComponent(){i&&(s!=null&&s.$amapComponent)&&(s!=null&&s.isDestroy||s==null||s.$amapComponent.removeControl(i),i=null)}});return t({$$getInstance:o}),(u,a)=>null}});Zb.__file="src/vue-amap/packages/control/HawkEye/HawkEye.vue";Zb.install=e=>(e.component(Zb.name,Zb),e);const jNe=Zb;var Xb=ge({name:"ElAmapControlMapType",inheritAttrs:!1,__name:"MapType",props:fi({defaultType:{type:Number},showTraffic:{type:Boolean,default:!1},showRoad:{type:Boolean,default:!1}}),emits:["init"],setup(e,{expose:t,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:s}=gi((u,a)=>new Promise(h=>{a.plugin(["AMap.MapType"],()=>{i=new AMap.MapType(u),a.addControl(i),h(i)})}),{emits:r,destroyComponent(){i&&(s!=null&&s.$amapComponent)&&(s!=null&&s.isDestroy||s==null||s.$amapComponent.removeControl(i),i=null)}});return t({$$getInstance:o}),(u,a)=>(X(),pe("div"))}});Xb.__file="src/vue-amap/packages/control/MapType/MapType.vue";Xb.install=e=>(e.component(Xb.name,Xb),e);const GNe=Xb;var Jb=ge({name:"ElAmapControlScale",inheritAttrs:!1,__name:"Scale",props:fi({position:{type:[String,Object]},offset:{type:Array}}),emits:["init"],setup(e,{expose:t,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:s}=gi((u,a)=>new Promise(h=>{a.plugin(["AMap.Scale"],()=>{i=new AMap.Scale(u),a.addControl(i),h(i)})}),{emits:r,destroyComponent(){i&&(s!=null&&s.$amapComponent)&&(s!=null&&s.isDestroy||s==null||s.$amapComponent.removeControl(i),i=null)}});return t({$$getInstance:o}),(u,a)=>(X(),pe("div"))}});Jb.__file="src/vue-amap/packages/control/Scale/Scale.vue";Jb.install=e=>(e.component(Jb.name,Jb),e);const WNe=Jb;var Qb=ge({name:"ElAmapControlToolBar",inheritAttrs:!1,__name:"ToolBar",props:fi({position:{type:[String,Object]},offset:{type:Array}}),emits:["init"],setup(e,{expose:t,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:s}=gi((u,a)=>new Promise(h=>{a.plugin(["AMap.ToolBar"],()=>{i=new AMap.ToolBar(u),a.addControl(i),h(i)})}),{emits:r,destroyComponent(){i&&(s!=null&&s.$amapComponent)&&(s!=null&&s.isDestroy||s==null||s.$amapComponent.removeControl(i),i=null)}});return t({$$getInstance:o}),(u,a)=>(X(),pe("div"))}});Qb.__file="src/vue-amap/packages/control/ToolBar/ToolBar.vue";Qb.install=e=>(e.component(Qb.name,Qb),e);const qNe=Qb,KNe=fi({type:{type:String},city:{type:String},datatype:{type:String},citylimit:{type:Boolean,default:!1},inputId:{type:String},inputCustom:{type:Boolean,default:!1},outputId:{type:String},outPutDirAuto:{type:Boolean,default:!0},closeResultOnScroll:{type:Boolean,default:!0},lang:{type:String},placeholder:{type:String},debounce:{type:Number,default:100}}),YNe={class:"el-vue-search-box-container"},ZNe=["id","placeholder"];var e2=ge({name:"ElAmapSearchBox",inheritAttrs:!1,__name:"SearchBox",props:KNe,emits:["init"],setup(e,{expose:t,emit:n}){const r=e,i=n,o=Te(D8()),s=Te(!0);let u,a;const{$$getInstance:h}=gi((m,v)=>{m.inputId&&(o.value=m.inputId,delete m.inputId),m.visible&&(s.value=m.visible),m.input=o.value,m.outputId&&(m.output=m.outputId,delete m.outputId);let _;return new Promise(b=>{v.plugin(["AMap.AutoComplete"],()=>{const T=r.debounce;a=AMap.Autocomplete.prototype.onInPut,AMap.Autocomplete.prototype.onInPut=function(){clearTimeout(_),_=setTimeout(()=>{this.output&&this.autoSearch()},T)},u=new AMap.AutoComplete(m),b(u)})})},{emits:i,watchRedirectFn:{__visible(m){s.value=m},__citylimit(m){u.setCityLimit(m)}},destroyComponent(){a&&AMap.Autocomplete&&(AMap.Autocomplete.prototype.onInPut=a)}});return t({$$getInstance:h}),(m,v)=>yr((X(),pe("div",YNe,[m.inputCustom?wt("v-if",!0):(X(),pe("input",{key:0,id:o.value,type:"text",placeholder:m.placeholder},null,8,ZNe))],512)),[[vi,m.visible&&!m.inputCustom]])}});e2.__file="src/vue-amap/packages/control/SearchBox/SearchBox.vue";e2.install=e=>(e.component(e2.name,e2),e);const XNe=e2,JNe=fi({isCustom:{type:Boolean,default:!1},autoMove:{type:Boolean,default:!0},avoid:{type:Array},closeWhenClickMap:{type:Boolean,default:!1},content:{type:Object},size:{type:Array},anchor:{type:String},offset:{type:Array},position:{type:Object}}),QNe={style:{display:"none"}};var t2=ge({name:"ElAmapInfoWindow",inheritAttrs:!1,__name:"InfoWindow",props:JNe,emits:["init","update:visible"],setup(e,{expose:t,emit:n}){const r=e,i=n,o=!r.content,s=`info-${D8()}`,u=Te("");let a;const{$$getInstance:h,parentInstance:m}=gi((v,_)=>new Promise(b=>{v.content||(v.content=`<div id="${s}"></div>`),a=new AMap.InfoWindow(v),a.on("close",()=>{i("update:visible",!1)}),r.visible&&(a.open(_,r.position),o&&(u.value=s)),b(a)}),{emits:i,watchRedirectFn:{__position(v){r.visible?(a.open(m==null?void 0:m.$amapComponent,v),o&&(u.value=s)):a.setPosition(v)},__visible(v){const _=a.getPosition();_&&(v?(a.open(m==null?void 0:m.$amapComponent,[_.lng,_.lat]),o&&(u.value=s)):a.close())}},destroyComponent(){a&&(a.getIsOpen()&&a.close(),a=null)}});return vh(()=>{a&&a.close()}),t({$$getInstance:h}),(v,_)=>(X(),pe("div",QNe,[u.value?(X(),Rt(OP,{key:0,to:"#"+u.value},[bt(v.$slots,"default")],8,["to"])):wt("v-if",!0)]))}});t2.__file="src/vue-amap/packages/infoWindow/InfoWindow/InfoWindow.vue";t2.install=e=>(e.component(t2.name,t2),e);const e$e=t2;var n2=ge({name:"ElAmapLayerCanvas",inheritAttrs:!1,__name:"Canvas",props:fi({canvas:{required:!0,type:Object},zooms:{type:Array},bounds:{type:[Array,Object]},opacity:{type:Number}}),emits:["init"],setup(e,{expose:t,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:s}=gi((u,a)=>new Promise(h=>{i=new AMap.CanvasLayer(u),a.addLayer(i),h(i)}),{emits:r,destroyComponent(){i&&(s!=null&&s.$amapComponent)&&(s!=null&&s.isDestroy||s==null||s.$amapComponent.removeLayer(i),i=null)}});return t({$$getInstance:o}),(u,a)=>(X(),pe("div"))}});n2.__file="src/vue-amap/packages/layer/data/Canvas/Canvas.vue";n2.install=e=>(e.component(n2.name,n2),e);const t$e=n2;var r2=ge({name:"ElAmapLayerCustom",inheritAttrs:!1,__name:"Custom",props:fi({canvas:{required:!0,type:Object},render:{type:Function},zooms:{type:Array},opacity:{type:Number},alwaysRender:{type:Boolean,default:!1}}),emits:["init"],setup(e,{expose:t,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:s}=gi((u,a)=>new Promise(h=>{const m=u.canvas;delete u.canvas,i=new AMap.CustomLayer(m,u),i.setMap(a),h(i)}),{emits:r,destroyComponent(){i&&(s!=null&&s.$amapComponent)&&(i.setMap(null),i=null)}});return t({$$getInstance:o}),(u,a)=>(X(),pe("div"))}});r2.__file="src/vue-amap/packages/layer/data/Custom/Custom.vue";r2.install=e=>(e.component(r2.name,r2),e);const n$e=r2;var i2=ge({name:"ElAmapLayerFlexible",inheritAttrs:!1,__name:"Flexible",props:fi({cacheSize:{type:Number},createTile:{type:Function},zooms:{type:Array},opacity:{type:Object},tileSize:{type:Number}}),emits:["init"],setup(e,{expose:t,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:s}=gi((u,a)=>new Promise(h=>{i=new AMap.TileLayer.Flexible(u),i.setMap(a),h(i)}),{emits:r,destroyComponent(){i&&(s!=null&&s.$amapComponent)&&(i.destroy(),i.setMap(null),i=null)}});return t({$$getInstance:o}),(u,a)=>(X(),pe("div"))}});i2.__file="src/vue-amap/packages/layer/data/Flexible/Flexible.vue";i2.install=e=>(e.component(i2.name,i2),e);const r$e=i2;var a2=ge({name:"ElAmapLayerGlCustom",inheritAttrs:!1,__name:"GLCustom",props:fi({init:{type:Function},render:{type:Function},zooms:{type:Array},opacity:{type:Number}}),emits:["init"],setup(e,{expose:t,emit:n}){const r=n;let i;const{$$getInstance:o}=gi((s,u)=>new Promise(a=>{i=new AMap.GLCustomLayer(s),i.setMap(u),a(i)}),{emits:r,destroyComponent(){i&&(i.setMap(null),i=null)}});return t({$$getInstance:o}),(s,u)=>(X(),pe("div"))}});a2.__file="src/vue-amap/packages/layer/data/GLCustom/GLCustom.vue";a2.install=e=>(e.component(a2.name,a2),e);const i$e=a2;var o2=ge({name:"ElAmapLayerHeatMap",inheritAttrs:!1,__name:"HeatMap",props:fi({radius:{type:Number},gradient:{type:Object},zooms:{type:Array},opacity:{type:Object},config:{type:Object},dataSet:{type:Object}}),emits:["init"],setup(e,{expose:t,emit:n}){const r=e,i=n;let o;const{$$getInstance:s,parentInstance:u}=gi((a,h)=>new Promise(m=>{AMap.plugin(["AMap.HeatMap"],()=>{delete a.dataSet,o=new AMap.HeatMap(h,a),r.dataSet&&o.setDataSet(r.dataSet),m(o)})}),{emits:i,destroyComponent(){o&&(u!=null&&u.$amapComponent)&&(o.setDataSet({data:[],max:0}),o.setMap(null),o=null)}});return t({$$getInstance:s}),(a,h)=>(X(),pe("div"))}});o2.__file="src/vue-amap/packages/layer/data/HeatMap/HeatMap.vue";o2.install=e=>(e.component(o2.name,o2),e);const a$e=o2;var s2=ge({name:"ElAmapLayerImage",inheritAttrs:!1,__name:"Image",props:fi({url:{type:String,required:!0},zoom:{type:Array},bounds:{type:[Array,Object]},opacity:{type:Number}}),emits:["init"],setup(e,{expose:t,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:s}=gi((u,a)=>new Promise(h=>{i=new AMap.ImageLayer(u),a.addLayer(i),h(i)}),{emits:r,watchRedirectFn:{__url(u){i.setImageUrl(u)}},destroyComponent(){i&&(s!=null&&s.$amapComponent)&&(s!=null&&s.isDestroy||s==null||s.$amapComponent.removeLayer(i),i=null)}});return t({$$getInstance:o}),(u,a)=>(X(),pe("div"))}});s2.__file="src/vue-amap/packages/layer/data/Image/Image.vue";s2.install=e=>(e.component(s2.name,s2),e);const o$e=s2;var l2=ge({name:"ElAmapLayerLabels",inheritAttrs:!1,__name:"Labels",props:fi({zooms:{type:Array},opacity:{type:Number},collision:{type:Boolean,default:!0},allowCollision:{type:Boolean,default:!1}}),emits:["init"],setup(e,{expose:t,emit:n}){const r=[],i={$amapComponent:void 0,addChildComponent(m){r.push(m)},isDestroy:!1};Rr(O8,i);const o=n;let s;const{$$getInstance:u,parentInstance:a}=gi((m,v)=>new Promise(_=>{s=new AMap.LabelsLayer(m),v.add(s),i.$amapComponent=s,_(s)}),{emits:o,needInitComponents:r,provideData:i,destroyComponent(){s&&(a!=null&&a.$amapComponent)&&(a!=null&&a.isDestroy||a==null||a.$amapComponent.removeLayer(s),s=null)}});return t({$$getInstance:u,$$add:m=>{s.add(m)}}),(m,v)=>(X(),pe("div",null,[bt(m.$slots,"default")]))}});l2.__file="src/vue-amap/packages/layer/data/Labels/Labels.vue";l2.install=e=>(e.component(l2.name,l2),e);const s$e=l2;var u2=ge({name:"ElAmapLayerVector",inheritAttrs:!1,__name:"Vector",props:fi({}),emits:["init"],setup(e,{expose:t,emit:n}){const r=[],i={$amapComponent:void 0,addChildComponent(h){r.push(h)},isDestroy:!1};Rr(O8,i);const o=n;let s;const{$$getInstance:u,parentInstance:a}=gi((h,m)=>new Promise(v=>{s=new AMap.VectorLayer(h),m.add(s),v(s)}),{emits:o,needInitComponents:r,provideData:i,destroyComponent(){s&&(a!=null&&a.$amapComponent)&&(a!=null&&a.isDestroy||a==null||a.$amapComponent.removeLayer(s),s=null)}});return t({$$getInstance:u}),(h,m)=>(X(),pe("div",null,[bt(h.$slots,"default")]))}});u2.__file="src/vue-amap/packages/layer/data/Vector/Vector.vue";u2.install=e=>(e.component(u2.name,u2),e);const l$e=u2;var c2=ge({name:"ElAmapLayerBuildings",inheritAttrs:!1,__name:"Buildings",props:fi({wallColor:{type:[String,Array]},roofColor:{type:[String,Array]},heightFactor:{type:Number},styleOpts:{type:Object},zooms:{type:Array},opacity:{type:Number}}),emits:["init"],setup(e,{expose:t,emit:n}){const r=e,i=n;let o;const{$$getInstance:s,parentInstance:u}=gi((a,h)=>new Promise(m=>{o=new AMap.Buildings(a),h.add(o),r.styleOpts&&o.setStyle(r.styleOpts),m(o)}),{emits:i,watchRedirectFn:{__styleOpts(a){o.setStyle(a)}},destroyComponent(){o&&(u!=null&&u.$amapComponent)&&(u!=null&&u.isDestroy||u==null||u.$amapComponent.remove(o),o=null)}});return t({$$getInstance:s}),(a,h)=>(X(),pe("div"))}});c2.__file="src/vue-amap/packages/layer/official/Buildings/Buildings.vue";c2.install=e=>(e.component(c2.name,c2),e);const u$e=c2;var d2=ge({name:"ElAmapLayerDefault",inheritAttrs:!1,__name:"DefaultLayer",props:fi({zoom:{type:Array},opacity:{type:Number}}),emits:["init"],setup(e,{expose:t,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:s}=gi((u,a)=>new Promise(h=>{i=AMap.createDefaultLayer(u),a.add(i),h(i)}),{emits:r,destroyComponent(){i&&(s!=null&&s.$amapComponent)&&(s!=null&&s.isDestroy||s==null||s.$amapComponent.remove(i),i=null)}});return t({$$getInstance:o}),(u,a)=>(X(),pe("div"))}});d2.__file="src/vue-amap/packages/layer/official/DefaultLayer/DefaultLayer.vue";d2.install=e=>(e.component(d2.name,d2),e);const c$e=d2;var h2=ge({name:"ElAmapLayerDistrict",inheritAttrs:!1,__name:"DistrictLayer",props:fi({type:{type:String,default:"Country",validator:e=>["World","Country","Province"].indexOf(e)!==-1},adcode:{type:String},SOC:{type:String},depth:{type:Number},zooms:{type:Array},opacity:{type:Number},styles:{type:Object}}),emits:["init"],setup(e,{expose:t,emit:n}){const r=e,i=n;let o;const{$$getInstance:s,parentInstance:u}=gi((a,h)=>new Promise(m=>{r.type==="World"?o=new AMap.DistrictLayer.World(a):r.type==="Country"?o=new AMap.DistrictLayer.Country(a):r.type==="Province"&&(o=new AMap.DistrictLayer.Province(a)),h.add(o),m(o)}),{emits:i,watchRedirectFn:{__SOC(a){o.setSOC(a)}},destroyComponent(){o&&(u!=null&&u.$amapComponent)&&(u!=null&&u.isDestroy||u==null||u.$amapComponent.remove(o),o=null)}});return t({$$getInstance:s}),(a,h)=>(X(),pe("div"))}});h2.__file="src/vue-amap/packages/layer/official/DistrictLayer/DistrictLayer.vue";h2.install=e=>(e.component(h2.name,h2),e);const d$e=h2;var f2=ge({name:"ElAmapLayerIndoorMap",inheritAttrs:!1,__name:"IndoorMap",props:fi({opacity:{type:Number},cursor:{type:String},hideFloorBar:{type:Boolean,default:!1}}),emits:["init"],setup(e,{expose:t,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:s}=gi((u,a)=>new Promise(h=>{AMap.plugin(["AMap.IndoorMap"],()=>{i=new AMap.IndoorMap(u);const m=a.getLayers();m.push(i),a.setLayers(m),h(i)})}),{emits:r,watchRedirectFn:{__hideFloorBar(u){u?i.showFloorBar():i.hideFloorBar()}},destroyComponent(){if(i&&(s!=null&&s.$amapComponent)){const u=s.$amapComponent.getLayers();let a=-1;for(let h=0;h<u.length;h++)if(ANe(u[h])){a=h;break}a>-1&&(u.splice(a,1),s.$amapComponent.setLayers(u)),i=null}}});return t({$$getInstance:o}),(u,a)=>(X(),pe("div"))}});f2.__file="src/vue-amap/packages/layer/official/IndoorMap/IndoorMap.vue";f2.install=e=>(e.component(f2.name,f2),e);const h$e=f2;var p2=ge({name:"ElAmapLayerRoadNet",inheritAttrs:!1,__name:"RoadNet",props:fi({zooms:{type:Array},opacity:{type:Number},tileSize:{type:Number}}),emits:["init"],setup(e,{expose:t,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:s}=gi((u,a)=>new Promise(h=>{i=new AMap.TileLayer.RoadNet(u),a.add(i),h(i)}),{emits:r,destroyComponent(){i&&(s!=null&&s.$amapComponent)&&(s!=null&&s.isDestroy||s==null||s.$amapComponent.remove(i),i=null)}});return t({$$getInstance:o}),(u,a)=>(X(),pe("div"))}});p2.__file="src/vue-amap/packages/layer/official/RoadNet/RoadNet.vue";p2.install=e=>(e.component(p2.name,p2),e);const f$e=p2;var m2=ge({name:"ElAmapLayerSatellite",inheritAttrs:!1,__name:"Satellite",props:fi({zooms:{type:Array},opacity:{type:Number},tileSize:{type:Number}}),emits:["init"],setup(e,{expose:t,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:s}=gi((u,a)=>new Promise(h=>{i=new AMap.TileLayer.Satellite(u),a.add(i),h(i)}),{emits:r,destroyComponent(){i&&(s!=null&&s.$amapComponent)&&(s!=null&&s.isDestroy||s==null||s.$amapComponent.remove(i),i=null)}});return t({$$getInstance:o}),(u,a)=>(X(),pe("div"))}});m2.__file="src/vue-amap/packages/layer/official/Satellite/Satellite.vue";m2.install=e=>(e.component(m2.name,m2),e);const p$e=m2;var v2=ge({name:"ElAmapLayerTile",inheritAttrs:!1,__name:"TileLayer",props:fi({tileUrl:{type:String,required:!0},zoom:{type:Array},dataZooms:{type:Array},opacity:{type:Number},tileSize:{type:Number}}),emits:["init"],setup(e,{expose:t,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:s}=gi((u,a)=>new Promise(h=>{i=new AMap.TileLayer(u),a.add(i),h(i)}),{emits:r,destroyComponent(){i&&(s!=null&&s.$amapComponent)&&(s!=null&&s.isDestroy||s==null||s.$amapComponent.remove(i),i=null)}});return t({$$getInstance:o}),(u,a)=>(X(),pe("div"))}});v2.__file="src/vue-amap/packages/layer/official/TileLayer/TileLayer.vue";v2.install=e=>(e.component(v2.name,v2),e);const m$e=v2;var g2=ge({name:"ElAmapLayerTraffic",inheritAttrs:!1,__name:"Traffic",props:fi({autoRefresh:{type:Boolean,defult:!0},interval:{type:Number},zooms:{type:Array},opacity:{type:Number},tileSize:{type:Number}}),emits:["init"],setup(e,{expose:t,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:s}=gi((a,h)=>new Promise(m=>{i=new AMap.TileLayer.Traffic(a),h.add(i),m(i)}),{emits:r,destroyComponent(){i&&(s!=null&&s.$amapComponent)&&(s!=null&&s.isDestroy||s==null||s.$amapComponent.remove(i),i=null)}});return t({$$getInstance:o,stopFresh:()=>{i&&i.stopFresh()}}),(a,h)=>(X(),pe("div"))}});g2.__file="src/vue-amap/packages/layer/official/Traffic/Traffic.vue";g2.install=e=>(e.component(g2.name,g2),e);const v$e=g2;var _2=ge({name:"ElAmapLayerMapboxVectorTile",inheritAttrs:!1,__name:"MapboxVectorTileLayer",props:fi({url:{type:String},zooms:{type:Array},dataZooms:{type:Array},opacity:{type:Number},styles:{type:Object}}),emits:["init"],setup(e,{expose:t,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:s}=gi((u,a)=>new Promise(h=>{AMap.plugin(["AMap.MapboxVectorTileLayer"],()=>{i=new AMap.MapboxVectorTileLayer(u),a.addLayer(i),h(i)})}),{emits:r,destroyComponent(){i&&(s!=null&&s.$amapComponent)&&(s!=null&&s.isDestroy||s==null||s.$amapComponent.removeLayer(i),i=null)}});return t({$$getInstance:o}),(u,a)=>(X(),pe("div"))}});_2.__file="src/vue-amap/packages/layer/standard/MapboxVectorTileLayer/MapboxVectorTileLayer.vue";_2.install=e=>(e.component(_2.name,_2),e);const g$e=_2;var y2=ge({name:"ElAmapLayerWms",inheritAttrs:!1,__name:"WMS",props:fi({url:{type:String},blend:{type:Boolean,default:!1},params:{type:Object},zooms:{type:Array},opacity:{type:Number}}),emits:["init"],setup(e,{expose:t,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:s}=gi((u,a)=>new Promise(h=>{i=new AMap.TileLayer.WMS(u),a.add(i),h(i)}),{emits:r,destroyComponent(){i&&(s!=null&&s.$amapComponent)&&(s!=null&&s.isDestroy||s==null||s.$amapComponent.remove(i),i=null)}});return t({$$getInstance:o}),(u,a)=>(X(),pe("div"))}});y2.__file="src/vue-amap/packages/layer/standard/WMS/WMS.vue";y2.install=e=>(e.component(y2.name,y2),e);const _$e=y2;var b2=ge({name:"ElAmapLayerWmts",inheritAttrs:!1,__name:"WMTS",props:fi({url:{type:String},blend:{type:Boolean,default:!1},params:{type:Object},zooms:{type:Array},opacity:{type:Number}}),emits:["init"],setup(e,{expose:t,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:s}=gi((u,a)=>new Promise(h=>{i=new AMap.TileLayer.WMTS(u),a.add(i),h(i)}),{emits:r,destroyComponent(){i&&(s!=null&&s.$amapComponent)&&(s!=null&&s.isDestroy||s==null||s.$amapComponent.remove(i),i=null)}});return t({$$getInstance:o}),(u,a)=>(X(),pe("div"))}});b2.__file="src/vue-amap/packages/layer/standard/WMTS/WMTS.vue";b2.install=e=>(e.component(b2.name,b2),e);const y$e=b2;var x2=ge({name:"ElAmapElasticMarker",inheritAttrs:!1,__name:"ElasticMarker",props:fi({position:{type:[Array,Object],required:!0},title:{type:String},offset:{type:[Array,Object]},clickable:{type:Boolean,default:!0},draggable:{type:Boolean,default:!1},bubble:{type:Boolean,default:!1},zooms:{type:Array},cursor:{type:String},topWhenClick:{type:Boolean,default:!1},zoomStyleMapping:{type:Object},styles:{type:Array},extData:{type:Object,default:()=>null}}),emits:["init","update:position"],setup(e,{expose:t,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:s}=gi((h,m)=>new Promise(v=>{AMap.plugin(["AMap.ElasticMarker"],()=>{i=new AMap.ElasticMarker(h),m.add(i),u(),v(i)})}),{emits:r,destroyComponent(){i&&(s!=null&&s.$amapComponent)&&(s!=null&&s.isDestroy||s==null||s.$amapComponent.remove(i),i=null)}}),u=()=>{i.on("dragend",()=>{a()}),i.on("touchend",()=>{a()})},a=()=>{const h=i.getPosition();r("update:position",h==null?void 0:h.toArray())};return t({$$getInstance:o}),(h,m)=>(X(),pe("div"))}});x2.__file="src/vue-amap/packages/marker/ElasticMarker/ElasticMarker.vue";x2.install=e=>(e.component(x2.name,x2),e);const b$e=x2;var w2=ge({name:"ElAmapLabelMarker",inheritAttrs:!1,__name:"LabelMarker",props:fi({name:{type:String},position:{type:[Array,Object],required:!0},zooms:{type:Array},opacity:{type:Number},rank:{type:Number},icon:{type:Object},text:{type:Object},extData:null}),emits:["init"],setup(e,{expose:t,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:s}=gi((u,a)=>new Promise(h=>{i=new AMap.LabelMarker(u),a.add(i),h(i)}),{emits:r,destroyComponent(){i&&(s!=null&&s.$amapComponent)&&(s!=null&&s.isDestroy||s==null||s.$amapComponent.remove(i),i=null)}});return t({$$getInstance:o}),(u,a)=>(X(),pe("div"))}});w2.__file="src/vue-amap/packages/marker/LabelMarker/LabelMarker.vue";w2.install=e=>(e.component(w2.name,w2),e);const x$e=w2,w$e=fi({position:{type:[Array,Object],required:!0},icon:{type:[String,Object]},content:{type:[String,typeof HTMLElement>"u"?Object:HTMLElement]},title:{type:String},offset:{type:[Array,Object]},anchor:{type:[String,Array]},angle:{type:Number},clickable:{type:Boolean,default:!0},draggable:{type:Boolean,default:!1},bubble:{type:Boolean,default:!1},zooms:{type:Array},cursor:{type:String},topWhenClick:{type:Boolean,default:!1},label:{type:Object},extData:null,moveOptions:{type:Object,default:()=>null}}),S$e={style:{display:"none"}};var S2=ge({name:"ElAmapMarker",inheritAttrs:!1,__name:"Marker",props:fi(w$e),emits:["init","update:position"],setup(e,{expose:t,emit:n}){const r=e,i=n,o=`marker-${D8()}`,s=Te("");let u,a=!1;const h=yo(),{$$getInstance:m,parentInstance:v}=gi((T,M)=>new Promise(E=>{h.default&&h.default().length>0&&(a=!0,T.content=`<div id="${o}"></div>`),u=new AMap.Marker(T),Hl(M)?M.add(u):Ul(M)&&M.addOverlay(u),a&&(s.value=o),_(),E(u)}),{emits:i,watchRedirectFn:{__position(T){if(!r.moveOptions){u.setPosition(T);return}v!=null&&v.$amapComponent&&v.$amapComponent.plugin("AMap.MoveAnimation",()=>{u.moveTo(T,r.moveOptions)})}},destroyComponent(){u&&(v!=null&&v.$amapComponent)&&(u.setMap(null),u=null)}}),_=()=>{u.on("dragend",()=>{b()}),u.on("touchend",()=>{b()})},b=()=>{const T=u.getPosition();i("update:position",T.toArray())};return t({$$getInstance:m}),(T,M)=>(X(),pe("div",S$e,[s.value?(X(),Rt(OP,{key:0,to:"#"+s.value},[bt(T.$slots,"default")],8,["to"])):wt("v-if",!0)]))}});S2.__file="src/vue-amap/packages/marker/Marker/Marker.vue";S2.install=e=>(e.component(S2.name,S2),e);const C$e=S2;var C2=ge({name:"ElAmapMarkerCluster",inheritAttrs:!1,__name:"MarkerCluster",props:fi({points:{type:Object,required:!0},gridSize:{type:Number},maxZoom:{type:Number},averageCenter:{type:Boolean,default:!0},clusterByZoomChange:{type:Boolean,default:!1},styles:{type:Array},renderClusterMarker:{type:Function},renderMarker:{type:Function}}),emits:["init"],setup(e,{expose:t,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:s}=gi((u,a)=>new Promise(h=>{AMap.plugin(["AMap.MarkerCluster"],()=>{const m=u.points;delete u.points,i=new AMap.MarkerCluster(a,m,u),h(i)})}),{emits:r,watchRedirectFn:{__points(u){i&&i.setData(u)}},destroyComponent(){i&&(s!=null&&s.$amapComponent)&&(i.setMap(null),i=null)}});return t({$$getInstance:o}),(u,a)=>(X(),pe("div"))}});C2.__file="src/vue-amap/packages/marker/MarkerCluster/MarkerCluster.vue";C2.install=e=>(e.component(C2.name,C2),e);const T$e=C2;var T2=ge({name:"ElAmapMassMarks",inheritAttrs:!1,__name:"MassMarks",props:fi({data:{type:Array,required:!0},zooms:{type:Array},cursor:{type:String},styles:{type:[Array,Object]}}),emits:["init","update:center"],setup(e,{expose:t,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:s}=gi((u,a)=>new Promise(h=>{const m=u.data;delete u.data,i=new AMap.MassMarks(m,u),i.setMap(a),h(i)}),{emits:r,propsRedirect:{styles:"style"},destroyComponent(){i&&(s!=null&&s.$amapComponent)&&(i.clear(),i.setMap(null),i=null)}});return t({$$getInstance:o}),(u,a)=>(X(),pe("div"))}});T2.__file="src/vue-amap/packages/marker/MassMarks/MassMarks.vue";T2.install=e=>(e.component(T2.name,T2),e);const M$e=T2,E$e=fi({position:{type:[Array,Object],required:!0},text:{type:String},title:{type:String},offset:{type:[Array,Object]},anchor:{type:[String,Array]},angle:{type:Number},clickable:{type:Boolean,default:!0},draggable:{type:Boolean,default:!1},bubble:{type:Boolean,default:!1},zooms:{type:Array},cursor:{type:String},topWhenClick:{type:Boolean,default:!1},textStyle:{type:Object},extData:null});var M2=ge({name:"ElAmapText",inheritAttrs:!1,__name:"Text",props:E$e,emits:["init","update:position"],setup(e,{expose:t,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:s}=gi((h,m)=>new Promise(v=>{i=new AMap.Text(h),m.add(i),u(),v(i)}),{emits:r,propsRedirect:{textStyle:"style"},destroyComponent(){i&&(s!=null&&s.$amapComponent)&&(i.setMap(null),i=null)}}),u=()=>{i.on("dragend",()=>{a()}),i.on("touchend",()=>{a()})},a=()=>{const h=i.getPosition();r("update:position",h.toArray())};return t({$$getInstance:o}),(h,m)=>(X(),pe("div"))}});M2.__file="src/vue-amap/packages/marker/Text/Text.vue";M2.install=e=>(e.component(M2.name,M2),e);const A$e=M2;function H_(e,t){if(!e)return;const n=["addnode","adjust","removenode","end","move","add"],r={};Object.keys(t).forEach(i=>{if(iJ.test(i)){const o=rJ(i);n.indexOf(o)!==-1&&(r[o]=t[i])}}),Object.keys(r).forEach(i=>{aJ(e,i,r[i])})}const I$e=fi({path:{type:Array,required:!0},bubble:{type:Boolean,default:!1},cursor:{type:String},strokeColor:{type:String},strokeOpacity:{type:Number},strokeWeight:{type:Number},borderWeight:{type:Number},isOutline:{type:Boolean,default:!1},outlineColor:{type:String},draggable:{type:Boolean,default:!1},extData:{type:Object,default:()=>null},strokeStyle:{type:String,validator:e=>["solid","dashed"].indexOf(e)!==-1},strokeDasharray:{type:Array},lineJoin:{type:String,validator:e=>["miter","round","bevel"].indexOf(e)!==-1},lineCap:{type:String,validator:e=>["butt","round","square"].indexOf(e)!==-1},geodesic:{type:Boolean,default:!1},showDir:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},editOptions:{type:Object}});var E2=ge({name:"ElAmapBezierCurve",inheritAttrs:!1,__name:"BezierCurve",props:I$e,emits:["init","update:path"],setup(e,{expose:t,emit:n}){const r=e,i=n;let o,s=!1;const{$$getInstance:u,parentInstance:a}=gi((E,k)=>new Promise(z=>{o=new AMap.BezierCurve(E),Hl(k)?k.add(o):Ul(k)?k.addOverlay(o):Lu(k)&&k.add(o),m(),z(o)}),{emits:i,watchRedirectFn:{__zIndex(E){o&&o.setOptions({zIndex:E})},__strokeColor(E){o&&o.setOptions({strokeColor:E})},__strokeOpacity(E){o&&o.setOptions({strokeOpacity:E})},__strokeWeight(E){o&&o.setOptions({strokeWeight:E})},__borderWeight(E){o&&o.setOptions({borderWeight:E})},__isOutline(E){o&&o.setOptions({isOutline:E})},__outlineColor(E){o&&o.setOptions({outlineColor:E})},__strokeStyle(E){o&&o.setOptions({strokeStyle:E})},__strokeDasharray(E){o&&o.setOptions({strokeDasharray:E})},__lineJoin(E){o&&o.setOptions({lineJoin:E})},__lineCap(E){o&&o.setOptions({lineCap:E})},__geodesic(E){o&&o.setOptions({geodesic:E})},__showDir(E){o&&o.setOptions({showDir:E})},__editable(E){T().then(()=>{E?h():_.close()})},__path(E){o&&(o.setPath(E),h())}},destroyComponent(){s=!0,o&&(a!=null&&a.$amapComponent)&&(_&&(a.isDestroy||_.close(),_=null),a.isDestroy||(Hl(a.$amapComponent)?a.$amapComponent.remove(o):Ul(a.$amapComponent)?a.$amapComponent.removeOverlay(o):Lu(a.$amapComponent)&&a.$amapComponent.remove(o)),o.destroy&&o.destroy(),o=null)}}),h=mo(()=>{_&&r.editable&&(_.close(),_.setTarget(),_.setTarget(o),_.open())},50),m=()=>{o.on("dragend",()=>{v(o)}),o.on("touchend",()=>{v(o)})},v=mo(E=>{if(s)return;const k=E.getPath();i("update:path",k)},50);let _;const b=jl(),T=()=>new Promise(E=>{_?E():AMap.plugin(["AMap.BezierCurveEditor"],()=>{_=new AMap.BezierCurveEditor(a==null?void 0:a.$amapComponent,o,r.editOptions),H_(_,b),M(),E()})}),M=()=>{_.on("addnode",E=>{v(E.target)}),_.on("adjust",E=>{v(E.target)}),_.on("removenode",E=>{v(E.target)}),_.on("add",E=>{v(E.target)})};return t({$$getInstance:u}),(E,k)=>(X(),pe("div"))}});E2.__file="src/vue-amap/packages/vector/BezierCurve/BezierCurve.vue";E2.install=e=>(e.component(E2.name,E2),e);const k$e=E2,P$e=fi({center:{type:Array,required:!0},radius:{type:Number,required:!0},bubble:{type:Boolean,default:!1},cursor:{type:String},strokeColor:{type:String},strokeOpacity:{type:Number},strokeWeight:{type:Number},fillColor:{type:String},fillOpacity:{type:Number},draggable:{type:Boolean,default:!1},extData:{type:Object,default:()=>null},strokeStyle:{type:String,validator:e=>["solid","dashed"].indexOf(e)!==-1},strokeDasharray:{type:Array},editable:{type:Boolean,default:!1},editOptions:{type:Object}});var A2=ge({name:"ElAmapCircle",inheritAttrs:!1,__name:"Circle",props:P$e,emits:["init","update:center","update:radius"],setup(e,{expose:t,emit:n}){const r=e,i=n;let o,s=!1;const{$$getInstance:u,parentInstance:a}=gi((E,k)=>new Promise(z=>{o=new AMap.Circle(E),Hl(k)?k.add(o):Ul(k)?k.addOverlay(o):Lu(k)&&k.add(o),m(),z(o)}),{emits:i,watchRedirectFn:{__zIndex(E){o&&o.setOptions({zIndex:E})},__strokeColor(E){o&&o.setOptions({strokeColor:E})},__strokeOpacity(E){o&&o.setOptions({strokeOpacity:E})},__strokeWeight(E){o&&o.setOptions({strokeWeight:E})},__fillColor(E){o&&o.setOptions({fillColor:E})},__fillOpacity(E){o&&o.setOptions({fillOpacity:E})},__strokeStyle(E){o&&o.setOptions({strokeStyle:E})},__strokeDasharray(E){o&&o.setOptions({strokeDasharray:E})},__editable(E){T().then(()=>{E?h():_.close()})},__center(E){o&&(o.setCenter(E),h())},__radius(E){o&&(o.setRadius(E),h())}},destroyComponent(){s=!0,o&&(a!=null&&a.$amapComponent)&&(_&&(a.isDestroy||_.close(),_=null),a.isDestroy||(Hl(a.$amapComponent)?a.$amapComponent.remove(o):Ul(a.$amapComponent)?a.$amapComponent.removeOverlay(o):Lu(a.$amapComponent)&&a.$amapComponent.remove(o)),o.destroy&&o.destroy(),o=null)}}),h=mo(()=>{_&&r.editable&&(_.close(),_.setTarget(),_.setTarget(o),_.open())},50),m=()=>{o.on("dragend",()=>{v(o)}),o.on("touchend",()=>{v(o)})},v=E=>{s||(i("update:center",E.getCenter().toArray()),i("update:radius",E.getRadius()))};let _;const b=jl(),T=()=>new Promise(E=>{_?E():AMap.plugin(["AMap.CircleEditor"],()=>{_=new AMap.CircleEditor(a==null?void 0:a.$amapComponent,o,r.editOptions),H_(_,b),M(),E()})}),M=()=>{_.on("addnode",E=>{v(E.target)}),_.on("adjust",E=>{v(E.target)}),_.on("removenode",E=>{v(E.target)}),_.on("add",E=>{v(E.target)}),_.on("move",E=>{v(E.target)})};return t({$$getInstance:u}),(E,k)=>(X(),pe("div"))}});A2.__file="src/vue-amap/packages/vector/Circle/Circle.vue";A2.install=e=>(e.component(A2.name,A2),e);const L$e=A2,R$e=fi({center:{type:Array,required:!0},radius:{type:Array,required:!0},bubble:{type:Boolean,default:!1},cursor:{type:String},strokeColor:{type:String},strokeOpacity:{type:Number},strokeWeight:{type:Number},fillColor:{type:String},fillOpacity:{type:Number},draggable:{type:Boolean,default:!1},extData:{type:Object,default:()=>null},strokeStyle:{type:String,validator:e=>["solid","dashed"].indexOf(e)!==-1},strokeDasharray:{type:Array},editable:{type:Boolean,default:!1},editOptions:{type:Object}});var I2=ge({name:"ElAmapEllipse",inheritAttrs:!1,__name:"Ellipse",props:R$e,emits:["init","update:center","update:radius"],setup(e,{expose:t,emit:n}){const r=e,i=n;let o,s=!1;const{$$getInstance:u,parentInstance:a}=gi((E,k)=>new Promise(z=>{o=new AMap.Ellipse(E),Hl(k)?k.add(o):Ul(k)?k.addOverlay(o):Lu(k)&&k.add(o),m(),z(o)}),{emits:i,watchRedirectFn:{__zIndex(E){o&&o.setOptions({zIndex:E})},__strokeColor(E){o&&o.setOptions({strokeColor:E})},__strokeOpacity(E){o&&o.setOptions({strokeOpacity:E})},__strokeWeight(E){o&&o.setOptions({strokeWeight:E})},__fillColor(E){o&&o.setOptions({fillColor:E})},__fillOpacity(E){o&&o.setOptions({fillOpacity:E})},__strokeStyle(E){o&&o.setOptions({strokeStyle:E})},__strokeDasharray(E){o&&o.setOptions({strokeDasharray:E})},__editable(E){T().then(()=>{E?h():_.close()})},__center(E){o&&(o.setCenter(E),h())},__radius(E){o&&(o.setRadius(E),h())}},destroyComponent(){s=!0,o&&(a!=null&&a.$amapComponent)&&(_&&(a.isDestroy||_.close(),_=null),a.isDestroy||(Hl(a.$amapComponent)?a.$amapComponent.remove(o):Ul(a.$amapComponent)?a.$amapComponent.removeOverlay(o):Lu(a.$amapComponent)&&a.$amapComponent.remove(o)),o.destroy&&o.destroy(),o=null)}}),h=mo(()=>{_&&r.editable&&(_.close(),_.setTarget(),_.setTarget(o),_.open())},50),m=()=>{o.on("dragend",()=>{v(o)}),o.on("touchend",()=>{v(o)})},v=E=>{s||(i("update:center",E.getCenter().toArray()),i("update:radius",E.getRadius()))};let _;const b=jl(),T=()=>new Promise(E=>{_?E():AMap.plugin(["AMap.EllipseEditor"],()=>{_=new AMap.EllipseEditor(a==null?void 0:a.$amapComponent,o,r.editOptions),H_(_,b),M(),E()})}),M=()=>{_.on("addnode",E=>{v(E.target)}),_.on("adjust",E=>{v(E.target)}),_.on("removenode",E=>{v(E.target)}),_.on("add",E=>{v(E.target)}),_.on("move",E=>{v(E.target)})};return t({$$getInstance:u}),(E,k)=>(X(),pe("div"))}});I2.__file="src/vue-amap/packages/vector/Ellipse/Ellipse.vue";I2.install=e=>(e.component(I2.name,I2),e);const D$e=I2;var k2=ge({name:"ElAmapGeojson",inheritAttrs:!1,__name:"GeoJSON",props:fi({geo:{type:Object,required:!0},markerOptions:{type:Object},getMarker:{type:Function},polylineOptions:{type:Object},getPolyline:{type:Function},polygonOptions:{type:Object},getPolygon:{type:Function}}),emits:["init"],setup(e,{expose:t,emit:n}){const r=e,i=n;let o;const{$$getInstance:s,parentInstance:u}=gi((v,_)=>new Promise(b=>{AMap.plugin(["AMap.GeoJSON"],()=>{v.getMarker||(v.getMarker=a),v.getPolyline||(v.getPolyline=h),v.getPolygon||(v.getPolygon=m),o=new AMap.GeoJSON(v),_.add(o),b(o)})}),{emits:i,propsRedirect:{geo:"geoJSON"},watchRedirectFn:{__geoJSON(v){o&&o.importData(v)}},destroyComponent(){o&&(u!=null&&u.$amapComponent)&&(u!=null&&u.isDestroy||u==null||u.$amapComponent.remove(o),o=null)}}),a=(v,_)=>{let b=r.markerOptions||{};return b=Vb({},b,v.properties),b.position=_,new AMap.Marker(b)},h=(v,_)=>{let b=r.polylineOptions||{};return b=Vb({},b,v.properties),b.path=_,new AMap.Polyline(b)},m=(v,_)=>{let b=r.polygonOptions||{};return b=Vb({},b,v.properties),b.path=_,new AMap.Polygon(b)};return t({$$getInstance:s}),(v,_)=>(X(),pe("div"))}});k2.__file="src/vue-amap/packages/vector/GeoJSON/GeoJSON.vue";k2.install=e=>(e.component(k2.name,k2),e);const O$e=k2,z$e=fi({path:{type:Array,required:!0},bubble:{type:Boolean,default:!1},cursor:{type:String},strokeColor:{type:String},strokeOpacity:{type:Number},strokeWeight:{type:Number},fillColor:{type:String},fillOpacity:{type:Number},draggable:{type:Boolean,default:!1},extData:{type:Object,default:()=>null},strokeStyle:{type:String,validator:e=>["solid","dashed"].indexOf(e)!==-1},strokeDasharray:{type:Array},editable:{type:Boolean,default:!1},editOptions:{type:Object}});var P2=ge({name:"ElAmapPolygon",inheritAttrs:!1,__name:"Polygon",props:z$e,emits:["init","update:path"],setup(e,{expose:t,emit:n}){const r=e,i=n;let o,s=!1;const{$$getInstance:u,parentInstance:a}=gi((E,k)=>new Promise(z=>{o=new AMap.Polygon(E),Hl(k)?k.add(o):Ul(k)?k.addOverlay(o):Lu(k)&&k.add(o),m(),z(o)}),{emits:i,watchRedirectFn:{__zIndex(E){o&&o.setOptions({zIndex:E})},__strokeColor(E){o&&o.setOptions({strokeColor:E})},__strokeOpacity(E){o&&o.setOptions({strokeOpacity:E})},__strokeWeight(E){o&&o.setOptions({strokeWeight:E})},__fillColor(E){o&&o.setOptions({fillColor:E})},__fillOpacity(E){o&&o.setOptions({fillOpacity:E})},__strokeStyle(E){o&&o.setOptions({strokeStyle:E})},__strokeDasharray(E){o&&o.setOptions({strokeDasharray:E})},__editable(E){T().then(()=>{E?h():_.close()})},__path(E){o&&(o.setPath(E),h())}},destroyComponent(){s=!0,o&&(a!=null&&a.$amapComponent)&&(_&&(a.isDestroy||_.close(),_=null),a.isDestroy||(Hl(a.$amapComponent)?a.$amapComponent.remove(o):Ul(a.$amapComponent)?a.$amapComponent.removeOverlay(o):Lu(a.$amapComponent)&&a.$amapComponent.remove(o)),o.destroy&&o.destroy(),o=null)}}),h=mo(()=>{_&&r.editable&&(_.close(),_.setTarget(),_.setTarget(o),_.open())},50),m=()=>{o.on("dragend",()=>{v(o)}),o.on("touchend",()=>{v(o)})},v=E=>{if(s)return;const k=E.getPath(),z=k==null?void 0:k.map(VR);i("update:path",z)};let _;const b=jl(),T=()=>new Promise(E=>{_?E():AMap.plugin(["AMap.PolygonEditor"],()=>{_=new AMap.PolygonEditor(a==null?void 0:a.$amapComponent,o,r.editOptions),H_(_,b),M(),E()})}),M=()=>{_.on("addnode",E=>{v(E.target)}),_.on("adjust",E=>{v(E.target)}),_.on("removenode",E=>{v(E.target)}),_.on("add",E=>{v(E.target)})};return t({$$getInstance:u}),(E,k)=>(X(),pe("div"))}});P2.__file="src/vue-amap/packages/vector/Polygon/Polygon.vue";P2.install=e=>(e.component(P2.name,P2),e);const B$e=P2,F$e=fi({path:{type:Array,required:!0},bubble:{type:Boolean,default:!1},cursor:{type:String},strokeColor:{type:String},strokeOpacity:{type:Number},strokeWeight:{type:Number},borderWeight:{type:Number},isOutline:{type:Boolean,default:!1},outlineColor:{type:String},draggable:{type:Boolean,default:!1},extData:{type:Object,default:()=>null},strokeStyle:{type:String,validator:e=>["solid","dashed"].indexOf(e)!==-1},strokeDasharray:{type:Array},lineJoin:{type:String,validator:e=>["miter","round","bevel"].indexOf(e)!==-1},lineCap:{type:String,validator:e=>["butt","round","square"].indexOf(e)!==-1},geodesic:{type:Boolean,default:!1},showDir:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},editOptions:{type:Object}});var L2=ge({name:"ElAmapPolyline",inheritAttrs:!1,__name:"Polyline",props:F$e,emits:["init","update:path"],setup(e,{expose:t,emit:n}){const r=e,i=n;let o,s=!1;const{$$getInstance:u,parentInstance:a}=gi((E,k)=>new Promise(z=>{o=new AMap.Polyline(E),Hl(k)?k.add(o):Ul(k)?k.addOverlay(o):Lu(k)&&k.add(o),m(),z(o)}),{emits:i,watchRedirectFn:{__zIndex(E){o&&o.setOptions({zIndex:E})},__strokeColor(E){o&&o.setOptions({strokeColor:E})},__strokeOpacity(E){o&&o.setOptions({strokeOpacity:E})},__strokeWeight(E){o&&o.setOptions({strokeWeight:E})},__borderWeight(E){o&&o.setOptions({borderWeight:E})},__isOutline(E){o&&o.setOptions({isOutline:E})},__outlineColor(E){o&&o.setOptions({outlineColor:E})},__strokeStyle(E){o&&o.setOptions({strokeStyle:E})},__strokeDasharray(E){o&&o.setOptions({strokeDasharray:E})},__lineJoin(E){o&&o.setOptions({lineJoin:E})},__lineCap(E){o&&o.setOptions({lineCap:E})},__geodesic(E){o&&o.setOptions({geodesic:E})},__showDir(E){o&&o.setOptions({showDir:E})},__editable(E){T().then(()=>{E?h():_.close()})},__path(E){o&&(o.setPath(E),h())}},destroyComponent(){s=!0,o&&(a!=null&&a.$amapComponent)&&(_&&(a.isDestroy||_.close(),_=null),a.isDestroy||(Hl(a.$amapComponent)?a.$amapComponent.remove(o):Ul(a.$amapComponent)?a.$amapComponent.removeOverlay(o):Lu(a.$amapComponent)&&a.$amapComponent.remove(o)),o.destroy&&o.destroy(),o=null)}}),h=mo(()=>{_&&r.editable&&(_.close(),_.setTarget(),_.setTarget(o),_.open())},50),m=()=>{o.on("dragend",()=>{v(o)}),o.on("touchend",()=>{v(o)})},v=E=>{if(s)return;const k=E.getPath(),z=k==null?void 0:k.map(VR);i("update:path",z)};let _;const b=jl(),T=()=>new Promise(E=>{_?E():AMap.plugin(["AMap.PolylineEditor"],()=>{_=new AMap.PolylineEditor(a==null?void 0:a.$amapComponent,o,r.editOptions),H_(_,b),M(),E()})}),M=()=>{_.on("addnode",E=>{v(E.target)}),_.on("adjust",E=>{v(E.target)}),_.on("removenode",E=>{v(E.target)}),_.on("add",E=>{v(E.target)})};return t({$$getInstance:u}),(E,k)=>(X(),pe("div"))}});L2.__file="src/vue-amap/packages/vector/Polyline/Polyline.vue";L2.install=e=>(e.component(L2.name,L2),e);const N$e=L2,$$e=fi({bounds:{type:Array,required:!0},bubble:{type:Boolean,default:!1},cursor:{type:String},strokeColor:{type:String},strokeOpacity:{type:Number},strokeWeight:{type:Number},fillColor:{type:String},fillOpacity:{type:Number},draggable:{type:Boolean,default:!1},extData:{type:Object,default:()=>null},strokeStyle:{type:String,validator:e=>["solid","dashed"].indexOf(e)!==-1},strokeDasharray:{type:Array},editable:{type:Boolean,default:!1},editOptions:{type:Object}});var R2=ge({name:"ElAmapRectangle",inheritAttrs:!1,__name:"Rectangle",props:$$e,emits:["init","update:bounds"],setup(e,{expose:t,emit:n}){const r=e,i=n;let o,s=!1;const{$$getInstance:u,parentInstance:a}=gi((E,k)=>new Promise(z=>{o=new AMap.Rectangle(E),Hl(k)?k.add(o):Ul(k)?k.addOverlay(o):Lu(k)&&k.add(o),m(),z(o)}),{emits:i,converts:{bounds:E=>new AMap.Bounds(w$(E[0]),w$(E[1]))},watchRedirectFn:{__zIndex(E){o&&o.setOptions({zIndex:E})},__strokeColor(E){o&&o.setOptions({strokeColor:E})},__strokeOpacity(E){o&&o.setOptions({strokeOpacity:E})},__strokeWeight(E){o&&o.setOptions({strokeWeight:E})},__fillColor(E){o&&o.setOptions({fillColor:E})},__fillOpacity(E){o&&o.setOptions({fillOpacity:E})},__strokeStyle(E){o&&o.setOptions({strokeStyle:E})},__strokeDasharray(E){o&&o.setOptions({strokeDasharray:E})},__editable(E){T().then(()=>{E?h():_.close()})},__bounds(E){o&&(o.setBounds(E),h())}},destroyComponent(){s=!0,o&&(a!=null&&a.$amapComponent)&&(_&&(a.isDestroy||_.close(),_=null),a.isDestroy||(Hl(a.$amapComponent)?a.$amapComponent.remove(o):Ul(a.$amapComponent)?a.$amapComponent.removeOverlay(o):Lu(a.$amapComponent)&&a.$amapComponent.remove(o)),o.destroy&&o.destroy(),o=null)}}),h=mo(()=>{_&&r.editable&&(_.close(),_.setTarget(),_.setTarget(o),_.open())},50),m=()=>{o.on("dragend",()=>{v(o)}),o.on("touchend",()=>{v(o)})},v=E=>{if(s)return;const k=E.getBounds(),z=k.getSouthWest(),B=k.getNorthEast(),U=[z.toArray(),B.toArray()];i("update:bounds",U)};let _;const b=jl(),T=()=>new Promise(E=>{_?E():AMap.plugin(["AMap.RectangleEditor"],()=>{_=new AMap.RectangleEditor(a==null?void 0:a.$amapComponent,o,r.editOptions),H_(_,b),M(),E()})}),M=()=>{_.on("addnode",E=>{v(E.target)}),_.on("adjust",E=>{v(E.target)}),_.on("removenode",E=>{v(E.target)}),_.on("add",E=>{v(E.target)})};return t({$$getInstance:u}),(E,k)=>(X(),pe("div"))}});R2.__file="src/vue-amap/packages/vector/Rectangle/Rectangle.vue";R2.install=e=>(e.component(R2.name,R2),e);const V$e=R2;var D2=ge({name:"ElAmapLayerTiles3d",inheritAttrs:!1,__name:"Tiles3D",props:fi({url:{type:String,required:!0},threeScriptUrl:{type:String,default:"//a.amap.com/jsapi_demos/static/data3d/lib/three.117.js"},threeGltfLoader:{type:String,default:"//a.amap.com/jsapi_demos/static/data3d/lib/GLTFLoader.117.min.js"},layerStyle:{type:Object}}),emits:["init"],setup(e,{expose:t,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:s}=gi((a,h)=>new Promise(m=>{h.plugin(["AMap.3DTilesLayer"],()=>{window.THREE?(u(a),m(i)):x$(a.threeScriptUrl,()=>{x$(a.threeGltfLoader,()=>{u(a),m(i)})})})}),{emits:r,destroyComponent(){i&&(i=null)}}),u=a=>{let h={};a.layerStyle&&(h=JSON.parse(JSON.stringify(a.layerStyle))),i=new AMap["3DTilesLayer"]({map:s==null?void 0:s.$amapComponent,url:a.url,style:h})};return t({$$getInstance:o}),(a,h)=>(X(),pe("div"))}});D2.__file="src/vue-amap/packages/layer/data/Tiles3D/Tiles3D.vue";D2.install=e=>(e.component(D2.name,D2),e);const H$e=D2,U$e=fi({position:{type:String},offset:{type:Array},borderColor:{type:String},borderRadius:{type:String},buttonSize:{type:String},convert:{type:Boolean,default:!0},enableHighAccuracy:{type:Boolean,default:!1},timeout:{type:Number},maximumAge:{type:Number},showButton:{type:Boolean,default:!0},showCircle:{type:Boolean,default:!0},showMarker:{type:Boolean,default:!0},markerOptions:{type:Object},circleOptions:{type:Object},panToLocation:{type:Boolean,default:!0},zoomToAccuracy:{type:Boolean,default:!0},GeoLocationFirst:{type:Boolean,default:!0},noIpLocate:{type:Number},noGeoLocation:{type:Number},useNative:{type:Boolean,default:!1},getCityWhenFail:{type:Boolean,default:!1},needAddress:{type:Boolean,default:!1},extensions:{type:String,validator:e=>["base","all"].indexOf(e)!==-1}});var O2=ge({name:"ElAmapControlGeolocation",inheritAttrs:!1,__name:"Geolocation",props:U$e,emits:["init","complete"],setup(e,{expose:t,emit:n}){const r=n;let i;const o=a=>{r("complete",a)},{$$getInstance:s,parentInstance:u}=gi((a,h)=>new Promise(m=>{h.plugin(["AMap.Geolocation"],()=>{i=new AMap.Geolocation(a),h.addControl(i),i.on("complete",o),m(i)})}),{emits:r,destroyComponent(){i.off("complete",o),i&&(u!=null&&u.$amapComponent)&&(u!=null&&u.isDestroy||u==null||u.$amapComponent.removeControl(i),i=null)}});return t({$$getInstance:s}),(a,h)=>null}});O2.__file="src/vue-amap/packages/control/Geolocation/Geolocation.vue";O2.install=e=>(e.component(O2.name,O2),e);const j$e=O2;var z2=ge({name:"ElAmapCircleMarker",inheritAttrs:!1,__name:"CircleMarker",props:fi({zIndex:{type:Number},center:{type:Array,required:!0},bubble:{type:Boolean,default:!1},cursor:{type:String},radius:{type:Number},strokeColor:{type:String},strokeOpacity:{type:Number},strokeWeight:{type:Number},fillColor:{type:String},fillOpacity:{type:Number},draggable:{type:Boolean,default:!1},extData:{type:Object}}),emits:["init","update:center"],setup(e,{expose:t,emit:n}){const r=n;let i;const{$$getInstance:o,parentInstance:s}=gi((h,m)=>new Promise(v=>{i=new AMap.CircleMarker(h),m.add(i),u(),v(i)}),{emits:r,watchRedirectFn:{__strokeColor(h){i.setOptions({strokeColor:h})},__strokeOpacity(h){i.setOptions({strokeOpacity:h})},__strokeWeight(h){i.setOptions({strokeWeight:h})},__fillColor(h){i.setOptions({fillColor:h})},__fillOpacity(h){i.setOptions({fillOpacity:h})}},destroyComponent(){i&&(s!=null&&s.$amapComponent)&&(s!=null&&s.isDestroy||s==null||s.$amapComponent.remove(i),i=null)}}),u=()=>{i.on("dragend",()=>{a()}),i.on("touchend",()=>{a()})},a=()=>{const h=i.getCenter();r("update:center",h.toArray())};return t({$$getInstance:o}),(h,m)=>(X(),pe("div"))}});z2.__file="src/vue-amap/packages/marker/CircleMarker/CircleMarker.vue";z2.install=e=>(e.component(z2.name,z2),e);const G$e=z2;var W$e=Object.defineProperty,q$e=(e,t,n)=>t in e?W$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tg=(e,t,n)=>(q$e(e,typeof t!="symbol"?t+"":t,n),n);class K$e{constructor(t,n){tg(this,"canvas"),tg(this,"context"),tg(this,"video"),tg(this,"layer"),tg(this,"canPlay",!1),tg(this,"frame",-1);const r=document.createElement("canvas");this.video=n,n.src=t.url,n.autoplay=!0,n.muted=!0,n.crossOrigin="anonymous",n.loop=t.loop;const i={...t,canvas:r};this.canvas=r,this.context=r.getContext("2d"),this.layer=new AMap.CanvasLayer(i),this.initVideoEvents(),this.load()}getLayer(){return this.layer}initVideoEvents(){var t;(t=this.video)==null||t.addEventListener("canplaythrough",()=>{var n,r;this.canvas&&(this.canvas.width=(n=this.video)==null?void 0:n.videoWidth,this.canvas.height=(r=this.video)==null?void 0:r.videoHeight),this.canPlay=!0,this.play()})}load(){var t;(t=this.video)==null||t.load()}play(){var t;this.canPlay&&((t=this.video)==null||t.play(),this.stopRender(),this.render())}pause(){var t;this.stopRender(),(t=this.video)==null||t.pause()}stopRender(){this.frame&&cancelAnimationFrame(this.frame)}render(){var t,n,r,i,o,s,u,a;this.frame=window.requestAnimationFrame(()=>{this.render()}),(t=this.video)!=null&&t.paused?(n=this.video)==null||n.play():((o=this.context)==null||o.clearRect(0,0,(r=this.canvas)==null?void 0:r.width,(i=this.canvas)==null?void 0:i.height),(a=this.context)==null||a.drawImage(this.video,0,0,(s=this.canvas)==null?void 0:s.width,(u=this.canvas)==null?void 0:u.height),this.layer.reFresh())}destroy(){this.stopRender(),this.video&&this.video.pause(),this.video=null}setUrl(t){this.stopRender(),this.canPlay=!1,this.video&&(this.video.src=t,this.load())}setZooms(t){this.getLayer().setZoom(t)}setOpacity(t){this.getLayer().setOpacity(t)}setBounds(t){this.getLayer().setBounds(t)}setzIndex(t){this.getLayer().setzIndex(t)}show(){this.getLayer().show()}hide(){this.getLayer().hide()}}var B2=ge({name:"ElAmapLayerVideo",inheritAttrs:!1,__name:"Video",props:fi({url:{required:!0,type:String},zooms:{type:Array},bounds:{type:[Array,Object]},opacity:{type:Number}}),emits:["init"],setup(e,{expose:t,emit:n}){const r=n,i=Te();let o;const{$$getInstance:s,parentInstance:u}=gi((m,v)=>new Promise(_=>{o=new K$e(m,i.value),v.addLayer(o.getLayer()),_(o)}),{emits:r,destroyComponent(){o&&(u!=null&&u.$amapComponent)&&(u!=null&&u.isDestroy||(o.destroy(),u==null||u.$amapComponent.removeLayer(o.getLayer())),o=null)}});return t({$$getInstance:s,$$play:()=>{o.play()},$$pause:()=>{o.pause()}}),(m,v)=>(X(),pe("video",{ref_key:"videoRef",ref:i,style:{display:"none"},muted:""},null,512))}});B2.__file="src/vue-amap/packages/layer/data/Video/Video.vue";B2.install=e=>(e.component(B2.name,B2),e);const Y$e=B2;var F2=ge({name:"ElAmapMouseTool",inheritAttrs:!1,__name:"MouseTool",props:fi({type:{type:String,required:!0,default:"marker",validator:e=>["marker","circle","rectangle","polyline","polygon","measureArea","rule","rectZoomIn","rectZoomOut"].includes(e)},drawOptions:{type:Object,default:()=>null},autoClear:{type:Boolean,default:!0},showTooltip:{type:Boolean,default:!0},tooltipTextMap:{type:Object,default:()=>null},textOptions:{type:Object,default:()=>null},drawCursor:{type:String,default:"crosshair"}}),emits:["init","draw"],setup(e,{expose:t,emit:n}){const r=e,i=n;let o,s="";const u={marker:"",circle:"",rectangle:"",polyline:"",polygon:"",measureArea:"",rule:"",rectZoomIn:"",rectZoomOut:""};let a=!0;const h=()=>{if(!a)return;const Q=r.type;if(o[Q]){const te=r.drawOptions||{};o[Q](te),M(u[Q])}},{$$getInstance:m,parentInstance:v}=gi((Q,te)=>new Promise(ie=>{AMap.plugin(["AMap.MouseTool"],()=>{r.tooltipTextMap&&Object.assign(u,r.tooltipTextMap),o=new AMap.MouseTool(te),s=te.getDefaultCursor(),b(),h(),E(),W(),ie(o)})}),{emits:i,watchRedirectFn:{__type:h},destroyComponent(){o&&(v!=null&&v.$amapComponent)&&(v!=null&&v.isDestroy||(o.close(!0),q(),_&&(v.$amapComponent.off("mousemove",T),v.$amapComponent.remove(_),_=null)),o=null)}});let _;const b=()=>{if(r.showTooltip){const Q=r.textOptions||{};Q.anchor="top-left",Q.clickable=!1,Q.bubble=!0,Q.offset=[10,10],_=new AMap.Text(Q),v==null||v.$amapComponent.add(_),v==null||v.$amapComponent.on("mousemove",T)}},T=Q=>{const te=Q.lnglat;_.setPosition([te.lng,te.lat])},M=Q=>{_&&_.setText(Q)},E=()=>{o.on("draw",Q=>{const te=r.type;let ie;if(te==="marker")ie=Q.obj.getPosition().toArray();else if(te==="circle")ie={center:Q.obj.getCenter().toArray(),radius:Q.obj.getRadius()};else if(te==="rectangle"){const ae=Q.obj.getBounds(),re=ae.getSouthWest(),se=ae.getNorthEast();ie=[re.toArray(),se.toArray()]}else if(te==="polyline")ie=Q.obj.getPath().map(re=>re.toArray());else if(te==="polygon")ie=Q.obj.getPath().map(re=>re.toArray());else if(te==="measureArea"){const ae=Q.obj.getPath().map(re=>re.toArray());ie=AMap.GeometryUtil.ringArea(ae)}else if(te==="rule"){const ae=Q.obj.getPath().map(re=>re.toArray());ie=AMap.GeometryUtil.distanceOfLine(ae)}else(te==="rectZoomIn"||te==="rectZoomOut")&&(ie=!0);i("draw",ie,Q.obj),r.autoClear&&(U(),h())})},k=(Q=!0)=>{o.close(Q)},z=(Q=!0)=>{a=!1,o&&(k(Q),q(),_&&_.hide())},B=()=>{a=!0,W(),h(),_&&_.show()},U=()=>{k(!0)},W=()=>{v==null||v.$amapComponent.setDefaultCursor(r.drawCursor)},q=()=>{s&&(v==null||v.$amapComponent.setDefaultCursor(s))};return t({$$getInstance:m,$$open:B,$$close:z,$$clear:U}),(Q,te)=>(X(),pe("div"))}});F2.__file="src/vue-amap/packages/util/MouseTool/MouseTool.vue";F2.install=e=>(e.component(F2.name,F2),e);const Z$e=F2;var oJ={};class UR{constructor(){this._listeners={}}on(t,n,r){this._listeners[t]?this._listeners[t].push({callback:n,isOnce:r}):this._listeners[t]=[{callback:n,isOnce:r}]}off(t,n){if(!n)throw new Error("");const r=this._listeners[t];if(r&&r.length>0){for(let i=0;i<r.length;i++)if(r[i].callback===n){r.splice(i,1);break}}}emit(t,...n){const r=this._listeners[t];if(r&&r.length>0)for(let o=0;o<r.length;o++){const s=r[o];s.callback.call(this,...n),s.isOnce&&(r.splice(o,1),o--)}const i=this._listeners["*"];if(i&&i.length>0)for(let o=0;o<i.length;o++){const s=i[o];s.callback.call(this,t,...n),s.isOnce&&(i.splice(o,1),o--)}}trigger(t,...n){this.emit(t,n)}}function sJ(e,t,n){n===void 0&&(n={});var r={type:"Feature"};return(n.id===0||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function ok(e,t,n){n===void 0&&(n={});for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<o[o.length-1].length;s++)if(o[o.length-1][s]!==o[0][s])throw new Error("First and last Position are not equivalent.")}var u={type:"Polygon",coordinates:e};return sJ(u,t,n)}function X$e(e,t,n){n===void 0&&(n={});var r={type:"MultiPolygon",coordinates:e};return sJ(r,t,n)}function S$(e){return e.type==="Feature"?e.geometry:e}/**
* splaytree v3.1.1
* Fast Splay tree for Node and browser
*
* @author Alexander Milevski <info@w8r.name>
* @license MIT
* @preserve
*//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function J$e(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(h){return function(m){return a([h,m])}}function a(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=h[0]&2?i.return:h[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,h[1])).done)return o;switch(i=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){n.label=h[1];break}if(h[0]===6&&n.label<o[1]){n.label=o[1],o=h;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(h);break}o[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(m){h=[6,m],i=0}finally{r=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var hp=function(){function e(t,n){this.next=null,this.key=t,this.data=n,this.left=null,this.right=null}return e}();function Q$e(e,t){return e>t?1:e<t?-1:0}function Uf(e,t,n){for(var r=new hp(null,null),i=r,o=r;;){var s=n(e,t.key);if(s<0){if(t.left===null)break;if(n(e,t.left.key)<0){var u=t.left;if(t.left=u.right,u.right=t,t=u,t.left===null)break}o.left=t,o=t,t=t.left}else if(s>0){if(t.right===null)break;if(n(e,t.right.key)>0){var u=t.right;if(t.right=u.left,u.left=t,t=u,t.right===null)break}i.right=t,i=t,t=t.right}else break}return i.right=t.left,o.left=t.right,t.left=r.right,t.right=r.left,t}function J5(e,t,n,r){var i=new hp(e,t);if(n===null)return i.left=i.right=null,i;n=Uf(e,n,r);var o=r(e,n.key);return o<0?(i.left=n.left,i.right=n,n.left=null):o>=0&&(i.right=n.right,i.left=n,n.right=null),i}function C$(e,t,n){var r=null,i=null;if(t){t=Uf(e,t,n);var o=n(t.key,e);o===0?(r=t.left,i=t.right):o<0?(i=t.right,t.right=null,r=t):(r=t.left,t.left=null,i=t)}return{left:r,right:i}}function eVe(e,t,n){return t===null?e:(e===null||(t=Uf(e.key,t,n),t.left=e),t)}function sk(e,t,n,r,i){if(e){r(""+t+(n?" ":" ")+i(e)+`
`);var o=t+(n?"    ":"   ");e.left&&sk(e.left,o,!1,r,i),e.right&&sk(e.right,o,!0,r,i)}}var jR=function(){function e(t){t===void 0&&(t=Q$e),this._root=null,this._size=0,this._comparator=t}return e.prototype.insert=function(t,n){return this._size++,this._root=J5(t,n,this._root,this._comparator)},e.prototype.add=function(t,n){var r=new hp(t,n);this._root===null&&(r.left=r.right=null,this._size++,this._root=r);var i=this._comparator,o=Uf(t,this._root,i),s=i(t,o.key);return s===0?this._root=o:(s<0?(r.left=o.left,r.right=o,o.left=null):s>0&&(r.right=o.right,r.left=o,o.right=null),this._size++,this._root=r),this._root},e.prototype.remove=function(t){this._root=this._remove(t,this._root,this._comparator)},e.prototype._remove=function(t,n,r){var i;if(n===null)return null;n=Uf(t,n,r);var o=r(t,n.key);return o===0?(n.left===null?i=n.right:(i=Uf(t,n.left,r),i.right=n.right),this._size--,i):n},e.prototype.pop=function(){var t=this._root;if(t){for(;t.left;)t=t.left;return this._root=Uf(t.key,this._root,this._comparator),this._root=this._remove(t.key,this._root,this._comparator),{key:t.key,data:t.data}}return null},e.prototype.findStatic=function(t){for(var n=this._root,r=this._comparator;n;){var i=r(t,n.key);if(i===0)return n;i<0?n=n.left:n=n.right}return null},e.prototype.find=function(t){return this._root&&(this._root=Uf(t,this._root,this._comparator),this._comparator(t,this._root.key)!==0)?null:this._root},e.prototype.contains=function(t){for(var n=this._root,r=this._comparator;n;){var i=r(t,n.key);if(i===0)return!0;i<0?n=n.left:n=n.right}return!1},e.prototype.forEach=function(t,n){for(var r=this._root,i=[],o=!1;!o;)r!==null?(i.push(r),r=r.left):i.length!==0?(r=i.pop(),t.call(n,r),r=r.right):o=!0;return this},e.prototype.range=function(t,n,r,i){for(var o=[],s=this._comparator,u=this._root,a;o.length!==0||u;)if(u)o.push(u),u=u.left;else{if(u=o.pop(),a=s(u.key,n),a>0)break;if(s(u.key,t)>=0&&r.call(i,u))return this;u=u.right}return this},e.prototype.keys=function(){var t=[];return this.forEach(function(n){var r=n.key;return t.push(r)}),t},e.prototype.values=function(){var t=[];return this.forEach(function(n){var r=n.data;return t.push(r)}),t},e.prototype.min=function(){return this._root?this.minNode(this._root).key:null},e.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},e.prototype.minNode=function(t){if(t===void 0&&(t=this._root),t)for(;t.left;)t=t.left;return t},e.prototype.maxNode=function(t){if(t===void 0&&(t=this._root),t)for(;t.right;)t=t.right;return t},e.prototype.at=function(t){for(var n=this._root,r=!1,i=0,o=[];!r;)if(n)o.push(n),n=n.left;else if(o.length>0){if(n=o.pop(),i===t)return n;i++,n=n.right}else r=!0;return null},e.prototype.next=function(t){var n=this._root,r=null;if(t.right){for(r=t.right;r.left;)r=r.left;return r}for(var i=this._comparator;n;){var o=i(t.key,n.key);if(o===0)break;o<0?(r=n,n=n.left):n=n.right}return r},e.prototype.prev=function(t){var n=this._root,r=null;if(t.left!==null){for(r=t.left;r.right;)r=r.right;return r}for(var i=this._comparator;n;){var o=i(t.key,n.key);if(o===0)break;o<0?n=n.left:(r=n,n=n.right)}return r},e.prototype.clear=function(){return this._root=null,this._size=0,this},e.prototype.toList=function(){return nVe(this._root)},e.prototype.load=function(t,n,r){n===void 0&&(n=[]),r===void 0&&(r=!1);var i=t.length,o=this._comparator;if(r&&ck(t,n,0,i-1,o),this._root===null)this._root=lk(t,n,0,i),this._size=i;else{var s=rVe(this.toList(),tVe(t,n),o);i=this._size+i,this._root=uk({head:s},0,i)}return this},e.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),e.prototype.toString=function(t){t===void 0&&(t=function(r){return String(r.key)});var n=[];return sk(this._root,"",!0,function(r){return n.push(r)},t),n.join("")},e.prototype.update=function(t,n,r){var i=this._comparator,o=C$(t,this._root,i),s=o.left,u=o.right;i(t,n)<0?u=J5(n,r,u,i):s=J5(n,r,s,i),this._root=eVe(s,u,i)},e.prototype.split=function(t){return C$(t,this._root,this._comparator)},e.prototype[Symbol.iterator]=function(){var t;return J$e(this,function(n){switch(n.label){case 0:t=this.minNode(),n.label=1;case 1:return t?[4,t]:[3,3];case 2:return n.sent(),t=this.next(t),[3,1];case 3:return[2]}})},e}();function lk(e,t,n,r){var i=r-n;if(i>0){var o=n+Math.floor(i/2),s=e[o],u=t[o],a=new hp(s,u);return a.left=lk(e,t,n,o),a.right=lk(e,t,o+1,r),a}return null}function tVe(e,t){for(var n=new hp(null,null),r=n,i=0;i<e.length;i++)r=r.next=new hp(e[i],t[i]);return r.next=null,n.next}function nVe(e){for(var t=e,n=[],r=!1,i=new hp(null,null),o=i;!r;)t?(n.push(t),t=t.left):n.length>0?(t=o=o.next=n.pop(),t=t.right):r=!0;return o.next=null,i.next}function uk(e,t,n){var r=n-t;if(r>0){var i=t+Math.floor(r/2),o=uk(e,t,i),s=e.head;return s.left=o,e.head=e.head.next,s.right=uk(e,i+1,n),s}return null}function rVe(e,t,n){for(var r=new hp(null,null),i=r,o=e,s=t;o!==null&&s!==null;)n(o.key,s.key)<0?(i.next=o,o=o.next):(i.next=s,s=s.next),i=i.next;return o!==null?i.next=o:s!==null&&(i.next=s),r.next}function ck(e,t,n,r,i){if(!(n>=r)){for(var o=e[n+r>>1],s=n-1,u=r+1;;){do s++;while(i(e[s],o)<0);do u--;while(i(e[u],o)>0);if(s>=u)break;var a=e[s];e[s]=e[u],e[u]=a,a=t[s],t[s]=t[u],t[u]=a}ck(e,t,n,u,i),ck(e,t,u+1,r,i)}}function Ru(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ws(e,t,n){return t&&T$(e.prototype,t),n&&T$(e,n),e}var K1=function(e,t){return e.ll.x<=t.x&&t.x<=e.ur.x&&e.ll.y<=t.y&&t.y<=e.ur.y},dk=function(e,t){if(t.ur.x<e.ll.x||e.ur.x<t.ll.x||t.ur.y<e.ll.y||e.ur.y<t.ll.y)return null;var n=e.ll.x<t.ll.x?t.ll.x:e.ll.x,r=e.ur.x<t.ur.x?e.ur.x:t.ur.x,i=e.ll.y<t.ll.y?t.ll.y:e.ll.y,o=e.ur.y<t.ur.y?e.ur.y:t.ur.y;return{ll:{x:n,y:i},ur:{x:r,y:o}}},Wf=Number.EPSILON;Wf===void 0&&(Wf=Math.pow(2,-52));var iVe=Wf*Wf,hk=function(e,t){if(-Wf<e&&e<Wf&&-Wf<t&&t<Wf)return 0;var n=e-t;return n*n<iVe*e*t?0:e<t?-1:1},aVe=function(){function e(){Ru(this,e),this.reset()}return Ws(e,[{key:"reset",value:function(){this.xRounder=new M$,this.yRounder=new M$}},{key:"round",value:function(t,n){return{x:this.xRounder.round(t),y:this.yRounder.round(n)}}}]),e}(),M$=function(){function e(){Ru(this,e),this.tree=new jR,this.round(0)}return Ws(e,[{key:"round",value:function(t){var n=this.tree.add(t),r=this.tree.prev(n);if(r!==null&&hk(n.key,r.key)===0)return this.tree.remove(t),r.key;var i=this.tree.next(n);return i!==null&&hk(n.key,i.key)===0?(this.tree.remove(t),i.key):t}}]),e}(),zx=new aVe,N2=function(e,t){return e.x*t.y-e.y*t.x},lJ=function(e,t){return e.x*t.x+e.y*t.y},E$=function(e,t,n){var r={x:t.x-e.x,y:t.y-e.y},i={x:n.x-e.x,y:n.y-e.y},o=N2(r,i);return hk(o,0)},iC=function(e){return Math.sqrt(lJ(e,e))},oVe=function(e,t,n){var r={x:t.x-e.x,y:t.y-e.y},i={x:n.x-e.x,y:n.y-e.y};return N2(i,r)/iC(i)/iC(r)},sVe=function(e,t,n){var r={x:t.x-e.x,y:t.y-e.y},i={x:n.x-e.x,y:n.y-e.y};return lJ(i,r)/iC(i)/iC(r)},A$=function(e,t,n){return t.y===0?null:{x:e.x+t.x/t.y*(n-e.y),y:n}},I$=function(e,t,n){return t.x===0?null:{x:n,y:e.y+t.y/t.x*(n-e.x)}},lVe=function(e,t,n,r){if(t.x===0)return I$(n,r,e.x);if(r.x===0)return I$(e,t,n.x);if(t.y===0)return A$(n,r,e.y);if(r.y===0)return A$(e,t,n.y);var i=N2(t,r);if(i==0)return null;var o={x:n.x-e.x,y:n.y-e.y},s=N2(o,t)/i,u=N2(o,r)/i,a=e.x+u*t.x,h=n.x+s*r.x,m=e.y+u*t.y,v=n.y+s*r.y,_=(a+h)/2,b=(m+v)/2;return{x:_,y:b}},Wc=function(){Ws(e,null,[{key:"compare",value:function(t,n){var r=e.comparePoints(t.point,n.point);return r!==0?r:(t.point!==n.point&&t.link(n),t.isLeft!==n.isLeft?t.isLeft?1:-1:aC.compare(t.segment,n.segment))}},{key:"comparePoints",value:function(t,n){return t.x<n.x?-1:t.x>n.x?1:t.y<n.y?-1:t.y>n.y?1:0}}]);function e(t,n){Ru(this,e),t.events===void 0?t.events=[this]:t.events.push(this),this.point=t,this.isLeft=n}return Ws(e,[{key:"link",value:function(t){if(t.point===this.point)throw new Error("Tried to link already linked events");for(var n=t.point.events,r=0,i=n.length;r<i;r++){var o=n[r];this.point.events.push(o),o.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var t=this.point.events.length,n=0;n<t;n++){var r=this.point.events[n];if(r.segment.consumedBy===void 0)for(var i=n+1;i<t;i++){var o=this.point.events[i];o.consumedBy===void 0&&r.otherSE.point.events===o.otherSE.point.events&&r.segment.consume(o.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var t=[],n=0,r=this.point.events.length;n<r;n++){var i=this.point.events[n];i!==this&&!i.segment.ringOut&&i.segment.isInResult()&&t.push(i)}return t}},{key:"getLeftmostComparator",value:function(t){var n=this,r=new Map,i=function(o){var s=o.otherSE;r.set(o,{sine:oVe(n.point,t.point,s.point),cosine:sVe(n.point,t.point,s.point)})};return function(o,s){r.has(o)||i(o),r.has(s)||i(s);var u=r.get(o),a=u.sine,h=u.cosine,m=r.get(s),v=m.sine,_=m.cosine;return a>=0&&v>=0?h<_?1:h>_?-1:0:a<0&&v<0?h<_?-1:h>_?1:0:v<a?-1:v>a?1:0}}}]),e}(),uVe=0,aC=function(){Ws(e,null,[{key:"compare",value:function(t,n){var r=t.leftSE.point.x,i=n.leftSE.point.x,o=t.rightSE.point.x,s=n.rightSE.point.x;if(s<r)return 1;if(o<i)return-1;var u=t.leftSE.point.y,a=n.leftSE.point.y,h=t.rightSE.point.y,m=n.rightSE.point.y;if(r<i){if(a<u&&a<h)return 1;if(a>u&&a>h)return-1;var v=t.comparePoint(n.leftSE.point);if(v<0)return 1;if(v>0)return-1;var _=n.comparePoint(t.rightSE.point);return _!==0?_:-1}if(r>i){if(u<a&&u<m)return-1;if(u>a&&u>m)return 1;var b=n.comparePoint(t.leftSE.point);if(b!==0)return b;var T=t.comparePoint(n.rightSE.point);return T<0?1:T>0?-1:1}if(u<a)return-1;if(u>a)return 1;if(o<s){var M=n.comparePoint(t.rightSE.point);if(M!==0)return M}if(o>s){var E=t.comparePoint(n.rightSE.point);if(E<0)return 1;if(E>0)return-1}if(o!==s){var k=h-u,z=o-r,B=m-a,U=s-i;if(k>z&&B<U)return 1;if(k<z&&B>U)return-1}return o>s?1:o<s||h<m?-1:h>m?1:t.id<n.id?-1:t.id>n.id?1:0}}]);function e(t,n,r,i){Ru(this,e),this.id=++uVe,this.leftSE=t,t.segment=this,t.otherSE=n,this.rightSE=n,n.segment=this,n.otherSE=t,this.rings=r,this.windings=i}return Ws(e,[{key:"replaceRightSE",value:function(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var t=this.leftSE.point.y,n=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t<n?t:n},ur:{x:this.rightSE.point.x,y:t>n?t:n}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(t){return t.x===this.leftSE.point.x&&t.y===this.leftSE.point.y||t.x===this.rightSE.point.x&&t.y===this.rightSE.point.y}},{key:"comparePoint",value:function(t){if(this.isAnEndpoint(t))return 0;var n=this.leftSE.point,r=this.rightSE.point,i=this.vector();if(n.x===r.x)return t.x===n.x?0:t.x<n.x?1:-1;var o=(t.y-n.y)/i.y,s=n.x+o*i.x;if(t.x===s)return 0;var u=(t.x-n.x)/i.x,a=n.y+u*i.y;return t.y===a?0:t.y<a?-1:1}},{key:"getIntersection",value:function(t){var n=this.bbox(),r=t.bbox(),i=dk(n,r);if(i===null)return null;var o=this.leftSE.point,s=this.rightSE.point,u=t.leftSE.point,a=t.rightSE.point,h=K1(n,u)&&this.comparePoint(u)===0,m=K1(r,o)&&t.comparePoint(o)===0,v=K1(n,a)&&this.comparePoint(a)===0,_=K1(r,s)&&t.comparePoint(s)===0;if(m&&h)return _&&!v?s:!_&&v?a:null;if(m)return v&&o.x===a.x&&o.y===a.y?null:o;if(h)return _&&s.x===u.x&&s.y===u.y?null:u;if(_&&v)return null;if(_)return s;if(v)return a;var b=lVe(o,this.vector(),u,t.vector());return b===null||!K1(i,b)?null:zx.round(b.x,b.y)}},{key:"split",value:function(t){var n=[],r=t.events!==void 0,i=new Wc(t,!0),o=new Wc(t,!1),s=this.rightSE;this.replaceRightSE(o),n.push(o),n.push(i);var u=new e(i,s,this.rings.slice(),this.windings.slice());return Wc.comparePoints(u.leftSE.point,u.rightSE.point)>0&&u.swapEvents(),Wc.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),r&&(i.checkForConsuming(),o.checkForConsuming()),n}},{key:"swapEvents",value:function(){var t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var n=0,r=this.windings.length;n<r;n++)this.windings[n]*=-1}},{key:"consume",value:function(t){for(var n=this,r=t;n.consumedBy;)n=n.consumedBy;for(;r.consumedBy;)r=r.consumedBy;var i=e.compare(n,r);if(i!==0){if(i>0){var o=n;n=r,r=o}if(n.prev===r){var s=n;n=r,r=s}for(var u=0,a=r.rings.length;u<a;u++){var h=r.rings[u],m=r.windings[u],v=n.rings.indexOf(h);v===-1?(n.rings.push(h),n.windings.push(m)):n.windings[v]+=m}r.rings=null,r.windings=null,r.consumedBy=n,r.leftSE.consumedBy=n.leftSE,r.rightSE.consumedBy=n.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{var t=this.prev.consumedBy||this.prev;this._beforeState=t.afterState()}return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};for(var n=this._afterState.rings,r=this._afterState.windings,i=this._afterState.multiPolys,o=0,s=this.rings.length;o<s;o++){var u=this.rings[o],a=this.windings[o],h=n.indexOf(u);h===-1?(n.push(u),r.push(a)):r[h]+=a}for(var m=[],v=[],_=0,b=n.length;_<b;_++)if(r[_]!==0){var T=n[_],M=T.poly;if(v.indexOf(M)===-1)if(T.isExterior)m.push(M);else{v.indexOf(M)===-1&&v.push(M);var E=m.indexOf(T.poly);E!==-1&&m.splice(E,1)}}for(var k=0,z=m.length;k<z;k++){var B=m[k].multiPoly;i.indexOf(B)===-1&&i.push(B)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var t=this.beforeState().multiPolys,n=this.afterState().multiPolys;switch(lc.type){case"union":{var r=t.length===0,i=n.length===0;this._isInResult=r!==i;break}case"intersection":{var o,s;t.length<n.length?(o=t.length,s=n.length):(o=n.length,s=t.length),this._isInResult=s===lc.numMultiPolys&&o<s;break}case"xor":{var u=Math.abs(t.length-n.length);this._isInResult=u%2===1;break}case"difference":{var a=function(h){return h.length===1&&h[0].isSubject};this._isInResult=a(t)!==a(n);break}default:throw new Error("Unrecognized operation type found ".concat(lc.type))}return this._isInResult}}],[{key:"fromRing",value:function(t,n,r){var i,o,s,u=Wc.comparePoints(t,n);if(u<0)i=t,o=n,s=1;else if(u>0)i=n,o=t,s=-1;else throw new Error("Tried to create degenerate segment at [".concat(t.x,", ").concat(t.y,"]"));var a=new Wc(i,!0),h=new Wc(o,!1);return new e(a,h,[r],[s])}}]),e}(),k$=function(){function e(t,n,r){if(Ru(this,e),!Array.isArray(t)||t.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=n,this.isExterior=r,this.segments=[],typeof t[0][0]!="number"||typeof t[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var i=zx.round(t[0][0],t[0][1]);this.bbox={ll:{x:i.x,y:i.y},ur:{x:i.x,y:i.y}};for(var o=i,s=1,u=t.length;s<u;s++){if(typeof t[s][0]!="number"||typeof t[s][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var a=zx.round(t[s][0],t[s][1]);a.x===o.x&&a.y===o.y||(this.segments.push(aC.fromRing(o,a,this)),a.x<this.bbox.ll.x&&(this.bbox.ll.x=a.x),a.y<this.bbox.ll.y&&(this.bbox.ll.y=a.y),a.x>this.bbox.ur.x&&(this.bbox.ur.x=a.x),a.y>this.bbox.ur.y&&(this.bbox.ur.y=a.y),o=a)}(i.x!==o.x||i.y!==o.y)&&this.segments.push(aC.fromRing(o,i,this))}return Ws(e,[{key:"getSweepEvents",value:function(){for(var t=[],n=0,r=this.segments.length;n<r;n++){var i=this.segments[n];t.push(i.leftSE),t.push(i.rightSE)}return t}}]),e}(),cVe=function(){function e(t,n){if(Ru(this,e),!Array.isArray(t))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new k$(t[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var r=1,i=t.length;r<i;r++){var o=new k$(t[r],this,!1);o.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=o.bbox.ll.x),o.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=o.bbox.ll.y),o.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=o.bbox.ur.x),o.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=o.bbox.ur.y),this.interiorRings.push(o)}this.multiPoly=n}return Ws(e,[{key:"getSweepEvents",value:function(){for(var t=this.exteriorRing.getSweepEvents(),n=0,r=this.interiorRings.length;n<r;n++)for(var i=this.interiorRings[n].getSweepEvents(),o=0,s=i.length;o<s;o++)t.push(i[o]);return t}}]),e}(),P$=function(){function e(t,n){if(Ru(this,e),!Array.isArray(t))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof t[0][0][0]=="number"&&(t=[t])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var r=0,i=t.length;r<i;r++){var o=new cVe(t[r],this);o.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=o.bbox.ll.x),o.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=o.bbox.ll.y),o.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=o.bbox.ur.x),o.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=o.bbox.ur.y),this.polys.push(o)}this.isSubject=n}return Ws(e,[{key:"getSweepEvents",value:function(){for(var t=[],n=0,r=this.polys.length;n<r;n++)for(var i=this.polys[n].getSweepEvents(),o=0,s=i.length;o<s;o++)t.push(i[o]);return t}}]),e}(),dVe=function(){Ws(e,null,[{key:"factory",value:function(t){for(var n=[],r=0,i=t.length;r<i;r++){var o=t[r];if(!(!o.isInResult()||o.ringOut)){for(var s=null,u=o.leftSE,a=o.rightSE,h=[u],m=u.point,v=[];s=u,u=a,h.push(u),u.point!==m;)for(;;){var _=u.getAvailableLinkedEvents();if(_.length===0){var b=h[0].point,T=h[h.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(b.x,",")+" ".concat(b.y,"]. Last matching segment found ends at")+" [".concat(T.x,", ").concat(T.y,"]."))}if(_.length===1){a=_[0].otherSE;break}for(var M=null,E=0,k=v.length;E<k;E++)if(v[E].point===u.point){M=E;break}if(M!==null){var z=v.splice(M)[0],B=h.splice(z.index);B.unshift(B[0].otherSE),n.push(new e(B.reverse()));continue}v.push({index:h.length,point:u.point});var U=u.getLeftmostComparator(s);a=_.sort(U)[0].otherSE;break}n.push(new e(h))}}return n}}]);function e(t){Ru(this,e),this.events=t;for(var n=0,r=t.length;n<r;n++)t[n].segment.ringOut=this;this.poly=null}return Ws(e,[{key:"getGeom",value:function(){for(var t=this.events[0].point,n=[t],r=1,i=this.events.length-1;r<i;r++){var o=this.events[r].point,s=this.events[r+1].point;E$(o,t,s)!==0&&(n.push(o),t=o)}if(n.length===1)return null;var u=n[0],a=n[1];E$(u,t,a)===0&&n.shift(),n.push(n[0]);for(var h=this.isExteriorRing()?1:-1,m=this.isExteriorRing()?0:n.length-1,v=this.isExteriorRing()?n.length:-1,_=[],b=m;b!=v;b+=h)_.push([n[b].x,n[b].y]);return _}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var t=this.enclosingRing();this._isExteriorRing=t?!t.isExteriorRing():!0}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var t=this.events[0],n=1,r=this.events.length;n<r;n++){var i=this.events[n];Wc.compare(t,i)>0&&(t=i)}for(var o=t.segment.prevInResult(),s=o?o.prevInResult():null;;){if(!o)return null;if(!s)return o.ringOut;if(s.ringOut!==o.ringOut)return s.ringOut.enclosingRing()!==o.ringOut?o.ringOut:o.ringOut.enclosingRing();o=s.prevInResult(),s=o?o.prevInResult():null}}}]),e}(),L$=function(){function e(t){Ru(this,e),this.exteriorRing=t,t.poly=this,this.interiorRings=[]}return Ws(e,[{key:"addInterior",value:function(t){this.interiorRings.push(t),t.poly=this}},{key:"getGeom",value:function(){var t=[this.exteriorRing.getGeom()];if(t[0]===null)return null;for(var n=0,r=this.interiorRings.length;n<r;n++){var i=this.interiorRings[n].getGeom();i!==null&&t.push(i)}return t}}]),e}(),hVe=function(){function e(t){Ru(this,e),this.rings=t,this.polys=this._composePolys(t)}return Ws(e,[{key:"getGeom",value:function(){for(var t=[],n=0,r=this.polys.length;n<r;n++){var i=this.polys[n].getGeom();i!==null&&t.push(i)}return t}},{key:"_composePolys",value:function(t){for(var n=[],r=0,i=t.length;r<i;r++){var o=t[r];if(!o.poly)if(o.isExteriorRing())n.push(new L$(o));else{var s=o.enclosingRing();s.poly||n.push(new L$(s)),s.poly.addInterior(o)}}return n}}]),e}(),fVe=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:aC.compare;Ru(this,e),this.queue=t,this.tree=new jR(n),this.segments=[]}return Ws(e,[{key:"process",value:function(t){var n=t.segment,r=[];if(t.consumedBy)return t.isLeft?this.queue.remove(t.otherSE):this.tree.remove(n),r;var i=t.isLeft?this.tree.insert(n):this.tree.find(n);if(!i)throw new Error("Unable to find segment #".concat(n.id," ")+"[".concat(n.leftSE.point.x,", ").concat(n.leftSE.point.y,"] -> ")+"[".concat(n.rightSE.point.x,", ").concat(n.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var o=i,s=i,u=void 0,a=void 0;u===void 0;)o=this.tree.prev(o),o===null?u=null:o.key.consumedBy===void 0&&(u=o.key);for(;a===void 0;)s=this.tree.next(s),s===null?a=null:s.key.consumedBy===void 0&&(a=s.key);if(t.isLeft){var h=null;if(u){var m=u.getIntersection(n);if(m!==null&&(n.isAnEndpoint(m)||(h=m),!u.isAnEndpoint(m)))for(var v=this._splitSafely(u,m),_=0,b=v.length;_<b;_++)r.push(v[_])}var T=null;if(a){var M=a.getIntersection(n);if(M!==null&&(n.isAnEndpoint(M)||(T=M),!a.isAnEndpoint(M)))for(var E=this._splitSafely(a,M),k=0,z=E.length;k<z;k++)r.push(E[k])}if(h!==null||T!==null){var B=null;if(h===null)B=T;else if(T===null)B=h;else{var U=Wc.comparePoints(h,T);B=U<=0?h:T}this.queue.remove(n.rightSE),r.push(n.rightSE);for(var W=n.split(B),q=0,Q=W.length;q<Q;q++)r.push(W[q])}r.length>0?(this.tree.remove(n),r.push(t)):(this.segments.push(n),n.prev=u)}else{if(u&&a){var te=u.getIntersection(a);if(te!==null){if(!u.isAnEndpoint(te))for(var ie=this._splitSafely(u,te),ae=0,re=ie.length;ae<re;ae++)r.push(ie[ae]);if(!a.isAnEndpoint(te))for(var se=this._splitSafely(a,te),be=0,Ie=se.length;be<Ie;be++)r.push(se[be])}}this.tree.remove(n)}return r}},{key:"_splitSafely",value:function(t,n){this.tree.remove(t);var r=t.rightSE;this.queue.remove(r);var i=t.split(n);return i.push(r),t.consumedBy===void 0&&this.tree.insert(t),i}}]),e}(),R$=typeof process<"u"&&oJ.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,pVe=typeof process<"u"&&oJ.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,mVe=function(){function e(){Ru(this,e)}return Ws(e,[{key:"run",value:function(t,n,r){lc.type=t,zx.reset();for(var i=[new P$(n,!0)],o=0,s=r.length;o<s;o++)i.push(new P$(r[o],!1));if(lc.numMultiPolys=i.length,lc.type==="difference")for(var u=i[0],a=1;a<i.length;)dk(i[a].bbox,u.bbox)!==null?a++:i.splice(a,1);if(lc.type==="intersection"){for(var h=0,m=i.length;h<m;h++)for(var v=i[h],_=h+1,b=i.length;_<b;_++)if(dk(v.bbox,i[_].bbox)===null)return[]}for(var T=new jR(Wc.compare),M=0,E=i.length;M<E;M++)for(var k=i[M].getSweepEvents(),z=0,B=k.length;z<B;z++)if(T.insert(k[z]),T.size>R$)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var U=new fVe(T),W=T.size,q=T.pop();q;){var Q=q.key;if(T.size===W){var te=Q.segment;throw new Error("Unable to pop() ".concat(Q.isLeft?"left":"right"," SweepEvent ")+"[".concat(Q.point.x,", ").concat(Q.point.y,"] from segment #").concat(te.id," ")+"[".concat(te.leftSE.point.x,", ").concat(te.leftSE.point.y,"] -> ")+"[".concat(te.rightSE.point.x,", ").concat(te.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(T.size>R$)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(U.segments.length>pVe)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var ie=U.process(Q),ae=0,re=ie.length;ae<re;ae++){var se=ie[ae];se.consumedBy===void 0&&T.insert(se)}W=T.size,q=T.pop()}zx.reset();var be=dVe.factory(U.segments),Ie=new hVe(be);return Ie.getGeom()}}]),e}(),lc=new mVe,vVe=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return lc.run("union",e,n)},gVe=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return lc.run("intersection",e,n)},_Ve=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return lc.run("xor",e,n)},yVe=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return lc.run("difference",e,n)},bVe={union:vVe,intersection:gVe,xor:_Ve,difference:yVe};function xVe(e,t,n){n===void 0&&(n={});var r=S$(e),i=S$(t),o=bVe.intersection(r.coordinates,i.coordinates);return o.length===0?null:o.length===1?ok(o[0],n.properties):X$e(o,n.properties)}const No={mergeArray(e,t){if(t.length<5e4)e.push.apply(e,t);else for(let n=0,r=t.length;n<r;n+=1)e.push(t[n])},now:Date.now||function(){return new Date().getTime()},bind(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}},forEach(e,t,n){if(e.forEach)return e.forEach(t,n);for(let r=0,i=e.length;r<i;r++)t.call(n,e[r],r)},map(e,t,n){if(e.map)return e.map(t,n);const r=[];for(let i=0,o=e.length;i<o;i++)r[i]=t.call(n,e[i],i);return r},merge(e,t){if(t.length<5e4)Array.prototype.push.apply(e,t);else for(let n=0,r=t.length;n<r;n+=1)e.push(t[n])},arrayIndexOf(e,t,n){if(e.indexOf)return e.indexOf(t,n);let r,i=e,o=i.length>>>0;if(o===0)return-1;const s=0|n;if(s>=o)return-1;for(r=Math.max(s>=0?s:o-Math.abs(s),0);r<o;){if(r in i&&i[r]===t)return r;r++}return-1},extend(e){return e||(e={}),this.extendObjs(e,Array.prototype.slice.call(arguments,1))},extendObjs(e,t){e||(e={});for(let n=0,r=t.length;n<r;n++){const i=t[n];if(i)for(const o in i)i.hasOwnProperty(o)&&(e[o]=i[o])}return e},debounce(e,t,n){let r,i,o,s,u,a=function(){const h=No.now()-s;h<t&&h>=0?r=setTimeout(a,t-h):(r=null,n||(u=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,s=No.now();const h=n&&!r;return r||(r=setTimeout(a,t)),h&&(u=e.apply(o,i),o=i=null),u}},throttle(e,t,n){let r,i,o,s=null,u=0;n||(n={});const a=function(){u=n.leading===!1?0:No.now(),s=null,o=e.apply(r,i),s||(r=i=null)};return function(){const h=No.now();u||n.leading!==!1||(u=h);const m=t-(h-u);return r=this,i=arguments,m<=0||m>t?(s&&(clearTimeout(s),s=null),u=h,o=e.apply(r,i),s||(r=i=null)):s||n.trailing===!1||(s=setTimeout(a,m)),o}},escapeHtml(e){const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return`${e}`.replace(/[&<>"']/g,function(n){return t[n]})}};var GR={BBRFLAG:{I:1,S:2},ADCODES:{COUNTRY:1e5}};function wVe(e){return e}function SVe(e){if(e==null)return wVe;var t,n,r=e.scale[0],i=e.scale[1],o=e.translate[0],s=e.translate[1];return function(u,a){a||(t=n=0);var h=2,m=u.length,v=new Array(m);for(v[0]=(t+=u[0])*r+o,v[1]=(n+=u[1])*i+s;h<m;)v[h]=u[h],++h;return v}}function CVe(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function TVe(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return D$(e,n)})}:D$(e,t)}function D$(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,o=MVe(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:o}:r==null?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function MVe(e,t){var n=SVe(e.transform),r=e.arcs;function i(m,v){v.length&&v.pop();for(var _=r[m<0?~m:m],b=0,T=_.length;b<T;++b)v.push(n(_[b],b));m<0&&CVe(v,T)}function o(m){return n(m)}function s(m){for(var v=[],_=0,b=m.length;_<b;++_)i(m[_],v);return v.length<2&&v.push(v[0]),v}function u(m){for(var v=s(m);v.length<4;)v.push(v[0]);return v}function a(m){return m.map(u)}function h(m){var v=m.type,_;switch(v){case"GeometryCollection":return{type:v,geometries:m.geometries.map(h)};case"Point":_=o(m.coordinates);break;case"MultiPoint":_=m.coordinates.map(o);break;case"LineString":_=s(m.arcs);break;case"MultiLineString":_=m.arcs.map(s);break;case"Polygon":_=a(m.arcs);break;case"MultiPolygon":_=m.arcs.map(a);break;default:return null}return{type:v,coordinates:_}}return h(t)}function EVe(e,t){let n,r,i,o,s=e;n=t[t.length-2];for(let u=0,a=t.length-1;u<a;u++){r=t[u];const h=s;s=[],i=h[h.length-1];for(let m=0,v=h.length;m<v;m++)o=h[m],Q5(o,n,r)?(Q5(i,n,r)||s.push(O$(n,r,i,o)),s.push(o)):Q5(i,n,r)&&s.push(O$(n,r,i,o)),i=o;n=r}return s.length<3?[]:(s.push(s[0]),s)}function AVe(e,t,n){const r=(n[1]-t[1])/(n[0]-t[0])*(e[0]-t[0])+t[1];return Math.abs(r-e[1])<1e-6&&e[0]>=t[0]&&e[0]<=n[0]}function IVe(e,t){for(let n=0,r=t.length;n<r-1;n++)if(AVe(e,t[n],t[n+1]))return!0;return!1}function kVe(e,t){let n=!1;for(let r=e[0],i=e[1],o=0,s=t.length,u=s-1;o<s;u=o++){const a=t[o][0],h=t[o][1],m=t[u][0],v=t[u][1];h>i!=v>i&&r<(m-a)*(i-h)/(v-h)+a&&(n=!n)}return n}function PVe(e,t,n){let r,i=t[0],o=t[1];const s=n[0]-i,u=n[1]-o,a=s*s+u*u;return a>0&&(r=((e[0]-i)*s+(e[1]-o)*u)/a,r>1?(i=n[0],o=n[1]):r>0&&(i+=s*r,o+=u*r)),[i,o]}function LVe(e,t,n){const r=PVe(e,t,n),i=e[0]-r[0],o=e[1]-r[1];return i*i+o*o}function RVe(e,t){let n=Number.MAX_VALUE;for(let r=0,i=t.length;r<i-1;r++){const o=LVe(e,t[r],t[r+1]);o<n&&(n=o)}return n}function Q5(e,t,n){return(n[0]-t[0])*(e[1]-t[1])>(n[1]-t[1])*(e[0]-t[0])}function O$(e,t,n,r){const i=[e[0]-t[0],e[1]-t[1]],o=[n[0]-r[0],n[1]-r[1]],s=e[0]*t[1]-e[1]*t[0],u=n[0]*r[1]-n[1]*r[0],a=1/(i[0]*o[1]-i[1]*o[0]);return[(s*o[0]-u*i[0])*a,(s*o[1]-u*i[1])*a]}var tS={sqClosestDistanceToPolygon:RVe,pointOnPolygon:IVe,pointInPolygon:kVe,polygonClip:EVe};const WR=GR.BBRFLAG,eE=[];function DVe(e,t){const n=[];for(let r=0,i=e.length;r<i;r++){const o=e[r].split("-");let s=o[0],u=o.length>1?o[1]:s;s=parseInt(s,t),u=parseInt(u,t);for(let a=s;a<=u;a++)n.push(a)}return n}function uJ(e,t,n){if(e[t])throw new Error(`Alreay exists:  ${e[t]}`);e[t]=n}function OVe(e){return eE[e]||(eE[e]=[WR.I,e]),eE[e]}function zVe(e,t,n){if(e)for(let r=e.split(":"),i=parseInt(r[0],t),o=DVe(r[1].split(","),t),s=OVe(i),u=0,a=o.length;u<a;u++)uJ(n,o[u],s)}function BVe(e,t,n){if(e){const r=[];let i=e.split(":"),o=parseInt(i[0],t);const s=i[1].split(";");for(let u=0,a=s.length;u<a;u++){i=s[u].split(",");const h=[parseInt(i[0],t),0];i.length>1&&(h[1]=parseInt(i[1],t)),r.push(h)}uJ(n,o,[WR.S,r])}}function cJ(e,t){if(!e)return null;const n=e.split(","),r=[];for(let i=0,o=n.length;i<o;i++){if(parseInt(n[i],t)<0)return null;r.push(parseInt(n[i],t))}return r}function FVe(e,t){if(!e)return null;const n=e.split(";"),r=[];for(let i=0,o=n.length;i<o;i++)r.push(cJ(n[i],t));return r}function NVe(e){let t,n;const r=e.r,i=[],o=e.idx.i.split("|");for(e.idx.i=null,t=0,n=o.length;t<n;t++)zVe(o[t],r,i);o.length=0;const s=e.idx.s.split("|");for(e.idx.s=null,t=0,n=s.length;t<n;t++)BVe(s[t],r,i);s.length=0,e.idx=null,e.idxList=i,e.mxr&&(e.maxRect=cJ(e.mxr,r),e.mxr=null),e.mxsr&&(e.maxSubRect=FVe(e.mxsr,r),e.mxsr=null)}function $Ve(e,t,n){for(let r=e.geoData.sub.features,i=0,o=n.length;i<o;i++){const s=n[i],u=r[s[0]],a=u.geometry.coordinates[s[1]][0],h=tS.polygonClip(a,t);!h||h.length<4?console.warn(`Cliped ring length werid: ${h}`):s[2]=h}return!0}function VVe(e,t,n){const r=e.bbIndex,i=r.s;(t<0||n<0||n>=r.h||t>=r.w)&&console.warn("Wrong x,y",t,n,r);const o=n*r.w+t,s=r.idxList[o];if(s[0]!==WR.S)return!1;const u=s[1];if(u[0].length>2)return!1;const a=t*i+r.l,h=n*i+r.t;return $Ve(e,[[a,h],[a+i,h],[a+i,h+i],[a,h+i],[a,h]],u),!0}var dJ={prepareGridFeatureClip:VVe,buildIdxList:NVe};class U_{constructor(t,n,r,i){this.x=t,this.y=n,this.width=r,this.height=i}static getBoundsItemToExpand(){return new U_(Number.MAX_VALUE,Number.MAX_VALUE,-1,-1)}static boundsIntersect(t,n){return t.x<=n.x+n.width&&n.x<=t.x+t.width&&t.y<=n.y+n.height&&n.y<=t.y+t.height}isEmpty(){return this.width<0}expandByPoint(t,n){let r,i,o,s;this.isEmpty()?(r=o=t,i=s=n):(r=this.x,i=this.y,o=this.x+this.width,s=this.y+this.height,t<r?r=t:t>o&&(o=t),n<i?i=n:n>s&&(s=n)),this.x=r,this.y=i,this.width=o-r,this.height=s-i}}function HVe(e){const t={},n=e.objects;for(const r in n)t[r]=TVe(e,n[r]);return t}function UVe(e){for(let t=e.sub?e.sub.features:[],n=e.parent.properties,r=(n.acroutes||[]).concat([n.adcode]),i=0,o=t.length;i<o;i++)t[i].properties.subFeatureIndex=i,t[i].properties.acroutes=r}function jVe(e){if(!e._isBuiled){dJ.buildIdxList(e.bbIndex),e.geoData=HVe(e.topo),e.geoData.sub&&UVe(e.geoData);const t=e.topo.bbox;e.bounds=new U_(t[0],t[1],t[2]-t[0],t[3]-t[1]),e.topo=null,e._isBuiled=!0}return e}var GVe={buildData:jVe};const tE={},Eg=Math.PI/180,z$=180/Math.PI,WVe=Math.PI/4,hJ=.5/Math.PI;function qR(e){return tE[e]||(tE[e]=256*Math.pow(2,e)),tE[e]}function qVe(e){let t=e[1],n=e[0]*Eg,r=t*Eg;return r=Math.log(Math.tan(WVe+r/2)),[n,r]}function KVe(e,t){t=t||1;const n=hJ,r=.5,i=-n;return[t*(n*e[0]+r),t*(i*e[1]+.5)]}function YVe(e){const t=e[0]*z$,n=(2*Math.atan(Math.exp(e[1]))-Math.PI/2)*z$;return[parseFloat(t.toFixed(6)),parseFloat(n.toFixed(6))]}function ZVe(e,t){const n=hJ,r=.5,i=-n;return[(e[0]/t-r)/n,(e[1]/t-.5)/i]}function fJ(e,t,n){const r=KVe(qVe(e),t);return n&&(r[0]=Math.round(r[0]),r[1]=Math.round(r[1])),r}function XVe(e,t,n){return fJ(e,qR(t),n)}function JVe(e,t){const n=qR(t),r=ZVe(e,n);return YVe(r)}function QVe(e,t){const n=Math.cos,r=e[1]*Eg,i=e[0]*Eg,o=t[1]*Eg,s=t[0]*Eg,u=o-r,a=s-i,h=(1-n(u)+(1-n(a))*n(r)*n(o))/2;return 12756274*Math.asin(Math.sqrt(h))}var fk={haversineDistance:QVe,getScale:qR,lngLatToPointByScale:fJ,pointToLngLat:JVe,lngLatToPoint:XVe};let eHe=class pJ{constructor(t,n,r){this.adcode=t,this._data=n,this._sqScaleFactor=n.scale*n.scale,this._opts=Object.assign({nearTolerance:2},r),this.setNearTolerance(this._opts.nearTolerance)}static getPropsOfFeature(t){return t&&t.properties?t.properties:null}static getAdcodeOfFeature(t){return t?t.properties.adcode:null}static doesFeatureHasChildren(t){return!!t&&t.properties.childrenNum>0}setNearTolerance(t){this._opts.nearTolerance=t,this._sqNearTolerance=t*t}getIdealZoom(){return this._data.idealZoom}_getEmptySubFeatureGroupItem(t){return{subFeatureIndex:t,subFeature:this.getSubFeatureByIndex(t),pointsIndexes:[],points:[]}}groupByPosition(t,n){let r,i,o={},s=null;for(r=0,i=t.length;r<i;r++){const a=this.getLocatedSubFeatureIndex(n.call(null,t[r],r));o[a]||(o[a]=this._getEmptySubFeatureGroupItem(a)),o[a].pointsIndexes.push(r),o[a].points.push(t[r]),a<0&&(s=o[a])}const u=[];if(this._data.geoData.sub)for(r=0,i=this._data.geoData.sub.features.length;r<i;r++)u.push(o[r]||this._getEmptySubFeatureGroupItem(r));return s&&u.push(s),o=null,u}getLocatedSubFeatureIndex(t){return this._getLocatedSubFeatureIndexByPixel(this.lngLatToPixel(t))}getSubFeatureByIndex(t){return t>=0?this.getSubFeatures()[t]:null}_getLocatedSubFeatureIndexByPixel(t){if(!this._data.geoData.sub)return-1;const n=this._data,r=n.bbIndex,i=t[0]-r.l,o=t[1]-r.t,s=Math.floor(o/r.s),u=Math.floor(i/r.s);if(u<0||s<0||s>=r.h||u>=r.w)return-1;const a=s*r.w+u,h=r.idxList[a];if(!h)return-1;const m=GR.BBRFLAG;switch(h[0]){case m.I:return h[1];case m.S:return dJ.prepareGridFeatureClip(n,u,s),this._calcLocatedFeatureIndexOfSList(t,h[1]);default:throw new Error(`Unknown BBRFLAG: ${h[0]}`)}}_calcNearestFeatureIndexOfSList(t,n){let r=[];this._data.geoData.sub&&(r=this._data.geoData.sub.features);const i={sq:Number.MAX_VALUE,idx:-1};for(let o=0,s=n.length;o<s;o++){const u=n[o],a=r[u[0]],h=u[2]||a.geometry.coordinates[u[1]][0],m=tS.sqClosestDistanceToPolygon(t,h);m<i.sq&&(i.sq=m,i.idx=u[0])}return i.sq/this._sqScaleFactor<this._sqNearTolerance?i.idx:-1}_calcLocatedFeatureIndexOfSList(t,n){for(let r=this._data.geoData.sub.features,i=0,o=n.length;i<o;i++){const s=n[i],u=r[s[0]],a=s[2]||u.geometry.coordinates[s[1]][0];if(tS.pointInPolygon(t,a)||tS.pointOnPolygon(t,a))return s[0]}return this._calcNearestFeatureIndexOfSList(t,n)}pixelToLngLat(t,n){return fk.pointToLngLat([t,n],this._data.pz)}lngLatToPixel(t){t instanceof AMap.LngLat&&(t=[t.getLng(),t.getLat()]);const n=fk.lngLatToPoint(t,this._data.pz);return[Math.round(n[0]),Math.round(n[1])]}_convertRingCoordsToLngLats(t){const n=[];for(let r=0,i=t.length;r<i;r++)n[r]=this.pixelToLngLat(t[r][0],t[r][1]);return n}_convertPolygonCoordsToLngLats(t){const n=[];for(let r=0,i=t.length;r<i;r++)n[r]=this._convertRingCoordsToLngLats(t[r]);return n}_convertMultiPolygonCoordsToLngLats(t){const n=[];for(let r=0,i=t.length;r<i;r++)n[r]=this._convertPolygonCoordsToLngLats(t[r]);return n}_convertCoordsToLngLats(t,n){switch(t){case"MultiPolygon":return this._convertMultiPolygonCoordsToLngLats(n);default:throw new Error(`Unknown type ${t}`)}}_createLngLatFeature(t,n){const r=Object.assign({},t);return n&&Object.assign(r.properties,n),r.geometry=Object.assign({},r.geometry),r.geometry.coordinates=this._convertCoordsToLngLats(r.geometry.type,r.geometry.coordinates),r}getAdcode(){return this.getProps("adcode")}getName(){return this.getProps("name")}getChildrenNum(){return this.getProps("childrenNum")}getProps(t){const n=pJ.getPropsOfFeature(this._data.geoData.parent);return n?t?n[t]:n:null}getParentFeature(){const t=this._data.geoData;return t.lngLatParent||(t.lngLatParent=this._createLngLatFeature(t.parent)),t.lngLatParent}getParentFeatureInPixel(){return this._data.geoData.parent}getSubFeatures(){const t=this._data.geoData;if(!t.sub)return[];if(!t.lngLatSubList){const n=[];for(let r=t.sub.features,i=0,o=r.length;i<o;i++)n[i]=this._createLngLatFeature(r[i]);t.lngLatSubList=n}return[].concat(t.lngLatSubList)}getSubFeaturesInPixel(){return this._data.geoData.sub?[].concat(this._data.geoData.sub.features):[]}getBounds(){const t=this._data;if(!t.lngLatBounds){const n=this._data.bounds;t.lngLatBounds=new AMap.Bounds(this.pixelToLngLat(n.x,n.y+n.height),this.pixelToLngLat(n.x+n.width,n.y))}return t.lngLatBounds}},tHe=class extends UR{constructor(t){super(),this._opts=Object.assign({distDataLoc:"//webapi.amap.com/ui/1.1/ui/geo/DistrictExplorer/assets/d_v2"},t),this._areaNodesForLocating=null,this._areaNodeCache={},this._opts.preload&&this.loadMultiAreaNodes(this._opts.preload)}setAreaNodesForLocating(t){t?Array.isArray(t)||(t=[t]):t=[],this._areaNodesForLocating=t||[]}_loadJson(t,n){const r=this;return fetch(t,{headers:{Accept:"application/json"}}).then(i=>i.json()).then(i=>{n&&n.call(r,null,i)}).catch(i=>{if(!n)throw i;n(i)})}_getAreaNodeDataFileName(t){return`an_${t}.json`}_getAreaNodeDataSrc(t){return`${this._opts.distDataLoc}/${this._getAreaNodeDataFileName(t)}`}loadAreaTree(t){this._loadJson(`${this._opts.distDataLoc}/area_tree.json`,t)}loadCountryNode(t){this.loadAreaNode(GR.ADCODES.COUNTRY,t)}loadMultiAreaNodes(t,n){let r=[],i=!1,o;function s(u){return function(a,h){i||(o--,a?(n&&n(a),i=!0):(r[u]=h,o===0&&n&&n(null,r)))}}if(t&&t.length){const u=t.length;for(let a=0;a<u;a++)this.loadAreaNode(t[a],n?s(a):null)}else n&&n(null,[])}loadAreaNode(t,n,r,i){if(r=r||this,this._areaNodeCache[t]){if(n){const o=this._areaNodeCache[t];i?n.call(r,null,o,!0):setTimeout(function(){n.call(r,null,o)},0)}}else this._loadJson(this._getAreaNodeDataSrc(t),(o,s)=>{o?n&&n.call(r,o):(this._buildAreaNode(t,s),n&&n.call(r,null,this._areaNodeCache[t]))})}getLocalAreaNode(t){return this._areaNodeCache[t]||null}_buildAreaNode(t,n){if(!this._areaNodeCache[t]){if(!n)throw new Error(`Empty distData: ${t}`);const r=new eHe(t,GVe.buildData(n),this._opts);this._areaNodeCache[t]=r,this._areaNodesForLocating||(this._areaNodesForLocating=[r])}}clearAreaNodeCacheByAdcode(t){const n=this._areaNodeCache;return delete n[t],!0}destroy(){this._areaNodesForLocating=null,this._areaNodeCache=null,this._opts=null}},nHe=class{constructor(t){this.isDistReady=!1,this.nodeMap={},this.waitFnList=[],this.singleDistExplorer=new tHe({}),this._opts=No.extend({topAdcodes:[1e5]},t),this._touchMap={},this.singleDistExplorer.loadAreaTree((n,r)=>{if(n)throw n;if(this.filterAreaTree(r),this.singleCountryNode=r,this.isDistReady=!0,this.waitFnList.length){for(let i=0,o=this.waitFnList.length;i<o;i++)this.waitFnList[i][0].call(this.waitFnList[i][1]);this.waitFnList.length=0}this.singleDistExplorer.loadMultiAreaNodes(this._opts.topAdcodes)})}pixelToLngLat(t,n,r){return fk.pointToLngLat([t,n],r)}getBounds(t){const n=t.bbounds;return new AMap.Bounds(this.pixelToLngLat(n.x,n.y+n.height,20),this.pixelToLngLat(n.x+n.width,n.y,20))}filterAreaTree(t){const n=[t];do{const r=n.pop();this.nodeMap[r.adcode]=r;const i=r.bbox;if(r.bbounds=new U_(i[0],i[1],i[2],i[3]),r.bbox=this.getBounds(r),r.children)for(let o=r.children,s=0,u=o.length;s<u;s++)o[s].childIdx=s,n.push(o[s])}while(n.length)}isReady(){return this.isDistReady}getParentAdcode(t,n){if(!n){const r=this.getNodeByAdcode(t);if(!r)return console.warn(`Can not find node: ${t}`),null;n=r.acroutes}return n&&n.length?n[n.length-1]:null}getSubIdx(t){return this.getNodeByAdcode(t).childIdx}getChildrenNum(t){const n=this.getNodeByAdcode(t);return this.getChildrenNumOfNode(n)}getChildrenNumOfNode(t){return t.children?t.children.length:t.childrenNum||0}getNodeByAdcode(t){const n=this.nodeMap[t];if(!n){let r=this.singleDistExplorer.getLocalAreaNode(`${`${t}`.substr(0,4)}00`);if(r||(r=this.singleDistExplorer.getLocalAreaNode(`${`${t}`.substr(0,2)}0000`)),!r)return null;for(let i=r.getSubFeatures(),o=0,s=i.length;o<s;o++)if(i[o].properties.adcode===t)return i[o].properties}return n}getNodeChildren(t){const n=this.getNodeByAdcode(t);if(!n)return null;if(n.children)return n.children;if(n.childrenNum>=0){const r=this.singleDistExplorer.getLocalAreaNode(t);if(!r)return null;const i=[],o=r.getSubFeaturesInPixel();for(let s=0,u=o.length;s<u;s++)i.push(o[s].properties);return i}return null}getExplorer(){return this.singleDistExplorer}traverseCountry(t,n,r,i,o){this.traverseNode(this.singleCountryNode,t,n,r,i,o,[])}getNodeBoundsSize(t,n){const r=this.getPixelZoom(),i=Math.pow(2,r-n);return[t.bbounds.width/i,t.bbounds.height/i]}doesRingRingIntersect(t,n){const r=[t.getNorthWest().toArray(),t.getNorthEast().toArray(),t.getSouthEast().toArray(),t.getSouthWest().toArray(),t.getNorthWest().toArray()],i=[n.getNorthWest().toArray(),n.getNorthEast().toArray(),n.getSouthEast().toArray(),n.getSouthWest().toArray(),n.getNorthWest().toArray()];return!!xVe(ok([r]),ok([i]))}traverseNode(t,n,r,i,o,s,u,a){if(!(u&&u.indexOf(t.adcode)>=0)){if(this.doesRingRingIntersect(n,t.bbox)){const h=t.children,m=h&&h.length>0;if(r>t.idealZoom&&m)for(let v=0,_=h.length;v<_;v++)this.traverseNode(h[v],n,r,i,null,s,u);else i.call(s,t)}o&&(a?(a.count++,a.count>=a.total&&o.call(s)):o.call(s))}}onReady(t,n,r){this.isDistReady?r?t.call(n):setTimeout(function(){t.call(n)},0):this.waitFnList.push([t,n])}getPixelZoom(){var t;return(t=this.singleCountryNode)===null||t===void 0?void 0:t.pz}loadAreaNode(t,n,r,i){this.singleDistExplorer.loadAreaNode(t,n,r,i)}isExcludedAdcode(t){const n=this._opts.excludedAdcodes;return n&&n.indexOf(t)>=0}traverseTopNodes(t,n,r,i,o){const s=this._opts.topAdcodes,u=this._opts.excludedAdcodes,a={total:s.length,count:0};for(let h=0,m=s.length;h<m;h++){const v=this.getNodeByAdcode(s[h]);if(!v)throw new Error(`Can not find adcode: ${s[h]}`);this.traverseNode(v,t,n,r,i,o,u,a)}}tryClearCache(t,n){if(!(n<0)){const r=[this.singleCountryNode],i=[],o=this._touchMap;do{const u=r.pop();u.children&&No.mergeArray(r,u.children);const a=o[u.adcode];a&&a!==t&&i.push(u.adcode)}while(r.length);i.sort(function(u,a){const h=o[u]-o[a];return h===0?u-a:h});const s=i.length-n;if(!(s<=0))for(let u=0;u<s;u++)this.singleDistExplorer.clearAreaNodeCacheByAdcode(i[u])&&this.touchAdcode(i[u],null)}}touchAdcode(t,n){this._touchMap[t]=n}destroy(){this.singleDistExplorer.destroy(),this._touchMap={},this.nodeMap={},this.singleDistExplorer=void 0,this._opts=void 0,this.waitFnList=[],this.singleCountryNode=void 0}};function rHe(e){return[e.x,e.y]}let iHe=class{constructor(t){this._data=[],this._pointsMap={},this._opts=No.extend({topAdcode:1e5},t),this.clearData()}clearData(){this._data=[],this._pointsMap={}}setData(t){this.clearData(),this._data=t,this._updatePointsMap(this._opts.topAdcode,"all",t)}_updatePointsMap(t,n,r){let i=this._pointsMap[t];i||(i=this._pointsMap[t]={}),i[n]=r,i[`${n}_pack`]=this._buildPackItemsByAdcode(t,r)}getPointsByAdcode(t,n){return this._pointsMap[t]?this._pointsMap[t][n||"all"]:[]}getPackItemsByAdcode(t,n){return this._pointsMap[t]?this._pointsMap[t][`${n||"all"}_pack`]:[]}_buildPackItemsByAdcode(t,n){const r=this._opts.pointPacker,i=[];for(let o=0,s=n.length;o<s;o++)i[o]=r.call(this._opts.pointPackerThisArg,n[o]);return i}calcDistGroup(t,n,r,i){const o=this._opts.distMgr.getNodeByAdcode(t);let s=o.acroutes||[1e5];n&&o.acroutes&&(s=[].concat(s),s.push(t)),this._calcGroupWithRoutes(s,0,r,i)}_calcGroupWithRoutes(t,n,r,i){const o=()=>{n<t.length-1?this._calcGroupWithRoutes(t,n+1,r,i):r&&r.call(i)},s=t[n];if(this.getPointsByAdcode(s,"__done"))o.call(this);else{const u=this.getPointsByAdcode(s);if(!u)throw new Error(`Not points found:  ${s}`);this._opts.distMgr.getExplorer().loadAreaNode(s,(a,h)=>{this._groupByAreaNode(h,u),o.call(this)},this,!0)}}_groupByAreaNode(t,n){const r=t.groupByPosition(n,rHe),i=t.getAdcode()===this._opts.topAdcode,o=[];for(let s=0,u=r.length;s<u;s++){const a=r[s];a.subFeature?(this._updatePointsMap(a.subFeature.properties.adcode,"all",a.points),i&&No.mergeArray(o,a.points)):this._updatePointsMap(t.getAdcode(),"hanging",a.points)}i&&this._updatePointsMap(t.getAdcode(),"all",o),this._updatePointsMap(t.getAdcode(),"__done",!0)}destroy(){this.clearData(),this._opts=null}};var aHe=Object.defineProperty,oHe=Object.defineProperties,sHe=Object.getOwnPropertyDescriptors,B$=Object.getOwnPropertySymbols,lHe=Object.prototype.hasOwnProperty,uHe=Object.prototype.propertyIsEnumerable,F$=(e,t,n)=>t in e?aHe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,N$=(e,t)=>{for(var n in t||(t={}))lHe.call(t,n)&&F$(e,n,t[n]);if(B$)for(var n of B$(t))uHe.call(t,n)&&F$(e,n,t[n]);return e},cHe=(e,t)=>oHe(e,sHe(t));let dHe=class extends UR{constructor(t,n){super(),this.baseId=1,this._currentZoom=2,this._currentFeatures=[],this._loadLeft=0,this._polygonCache=[],this._markerCache=[],this._opts=No.extend({engine:"default",areaNodeCacheLimit:-1,minHeightToShowSubFeatures:630,minSiblingAvgHeightToShowSubFeatures:600,minSubAvgHeightToShowSubFeatures:300,zooms:[2,30],clusterMarkerEventSupport:!0,clusterMarkerClickToShowSub:!0,featureEventSupport:!0,featureClickToShowSub:!1,featureStyleByLevel:{country:{strokeColor:"rgb(31, 119, 180)",strokeOpacity:.9,strokeWeight:2,fillColor:"rgb(49, 163, 84)",fillOpacity:.8},province:{strokeColor:"rgb(31, 119, 180)",strokeOpacity:.9,strokeWeight:2,fillColor:"rgb(116, 196, 118)",fillOpacity:.7},city:{strokeColor:"rgb(31, 119, 180)",strokeOpacity:.9,strokeWeight:2,fillColor:"rgb(161, 217, 155)",fillOpacity:.6},district:{strokeColor:"rgb(31, 119, 180)",strokeOpacity:.9,strokeWeight:2,fillColor:"rgb(199, 233, 192)",fillOpacity:.5}}},n),this._map=this._opts.map,this._createLayer(),this._ins=t,this._isRendering=!1,this._loadLeft=0,this._currentFeatures=[]}_createLayer(){this.markerGroup=new AMap.OverlayGroup,this._map.add(this.markerGroup),this.layer=new AMap.VectorLayer({zIndex:this._opts.zIndex||10,visible:this._opts.visible||!0}),this._map.addLayer(this.layer)}zoomToShowSubFeatures(t,n){const r=this.getMinZoomToShowSub(t);if(r>=3){const i=this._ins.getMap();i&&(n||(n=this._ins._distMgr.getNodeByAdcode(t).center),i.setZoomAndCenter(r,n))}}getPixelRatio(){return Math.min(2,Math.round(window.devicePixelRatio||1))}refreshViewState(){if(!this._ins._distMgr.isReady())return!1;const t=this._ins;if(!t.isReady())return!1;const n=t.getMap(),r=n.getBounds(),i=n.getSize(),o=n.getZoom(3),s=this._opts.zooms[1],u=Math.pow(2,s-o),a=r.getNorthWest(),h=n.lngLatToCoords([a.getLng(),a.getLat()]),m=new U_(h[0],h[1],i.width*u,i.height*u);this._currentZoom=o,this._currentScaleFactor=u,this._currentViewBounds=m,this._currentViewBoundsInLngLat=r,this._currentPixelRatio=this.getPixelRatio()}renderViewport(){if(this.refreshViewState(),!this._currentViewBounds)return!1;this._currentRenderId=this.baseId++,this._loadLeft=0,this._currentFeatures=[],this._renderViewDist(this._currentRenderId),this._isRendering=!1}getCurrentRenderId(){return this._currentRenderId}isRenderIdStillValid(t){return t===this._currentRenderId}_renderViewDist(t){const n=[];if(this._currentZoom<this._opts.zooms[0]||this._currentZoom>this._opts.zooms[1]){this.isRenderIdStillValid(t)&&this._prepareFeatures(t,n);return}this._ins.getDistMgr().traverseTopNodes(this._currentViewBoundsInLngLat,this._currentZoom,r=>{n.push(r.adcode)},()=>{this.isRenderIdStillValid(t)&&this._prepareFeatures(t,n)},this)}getMinZoomToShowSub(t){const n=this._ins._distMgr.getNodeByAdcode(t);if(!n||!n.idealZoom)return-1;if(!n._minZoomToShowSub){const r=this._ins.getZooms();for(let i=r[0];i<=r[1];i++)if(this.shouldShowSubOnZoom(n,i)){n._minZoomToShowSub=i;break}}return n._minZoomToShowSub||-1}shouldShowSubOnZoom(t,n){if(!t.idealZoom)return!1;if(t._minZoomToShowSub&&n>=t._minZoomToShowSub)return!0;let r=this._ins._distMgr.getNodeBoundsSize(t,n);if(t.adcode===1e5&&r[1]>400)return!0;if(r[1]<this._opts.minHeightToShowSubFeatures)return!1;let i,o,s;if(t.children){const a=t.children;if(s=0,o=a.length,o){for(i=0;i<o;i++)r=this._ins._distMgr.getNodeBoundsSize(a[i],n),s+=r[1];if(s/o<this._opts.minSubAvgHeightToShowSubFeatures)return!1}}const u=this._ins._distMgr.getParentAdcode(t.adcode,t.acroutes);if(u){const a=this._ins._distMgr.getNodeByAdcode(u),h=a.children;if(h||console.error("No children bound",t,a),o=h.length,o>1){for(s=0,i=0;i<o;i++)h[i].adcode!==t.adcode&&(r=this._ins._distMgr.getNodeBoundsSize(h[i],n),s+=r[1]);if(s/(o-1)<this._opts.minSiblingAvgHeightToShowSubFeatures)return!1}}return!0}_shouldShowSub(t){return!(!t.children||!t.children.length)&&this.shouldShowSubOnZoom(t,this._currentZoom)}_prepareFeatures(t,n){const r=[],i=[];for(let o=0,s=n.length;o<s;o++){const u=this._ins._distMgr.getNodeByAdcode(n[o]);if(!u)throw new Error(`Can not find node: ${n[o]}`);this._shouldShowSub(u)?i.push(n[o]):r.push(n[o])}this._prepareSelfFeatures(t,r),this._prepareSubFeatures(t,i),this._checkLoadFinish(t)}_prepareSelfFeatures(t,n){let r;const i=this._currentZoom;for(let o=0,s=n.length;o<s;o++){const u=this._ins._distMgr.getNodeByAdcode(n[o]);if(r=null,u.acroutes){const a=this._ins._distMgr.getNodeByAdcode(u.acroutes[u.acroutes.length-1]);(!u.idealZoom||i<u.idealZoom-1||Math.abs(i-a.idealZoom)<=Math.abs(u.idealZoom-i))&&(r=a.adcode)}this._loadAndRenderSelf(t,r||n[o],n[o])}}_prepareSubFeatures(t,n){let r,i;for(r=0,i=n.length;r<i;r++)this._loadAndRenderSub(t,n[r])}_renderSelf(t,n,r){let i;if(n===r.getAdcode())i=r.getParentFeature();else{const o=r.getSubFeatures(),s=this._ins._distMgr.getSubIdx(n);if(i=o[s],!i){console.warn("Werid, can not find sub feature",r.getAdcode(),n);return}if(i.properties.adcode!==n){console.warn("Sub adcode not match!!",o,s);return}}this._ins.getDistCounter().calcDistGroup(n,!1,()=>{this.isRenderIdStillValid(t)&&this._prepRenderFeatureInPixel(t,i)},this)}_checkLoadFinish(t){if(this._loadLeft===0){const n=this;setTimeout(function(){n.isRenderIdStillValid(t)&&n._handleRenderFinish()},0)}}_renderSub(t,n){const r=n.getSubFeatures();this._ins.getDistCounter().calcDistGroup(n.getAdcode(),!0,()=>{if(this.isRenderIdStillValid(t))for(let i=0,o=r.length;i<o;i++)this._prepRenderFeatureInPixel(t,r[i])},this)}_handleRenderFinish(){this._tryFreeMemery(),this._renderAllFeature()}_renderAllFeature(){this._renderAllFeatureByDefault()}_renderAllFeatureByDefault(){var t,n;const r=[],i=[],o=[],s=[];for(let u=0;u<this._polygonCache.length;u++){const a=this._polygonCache[u],h=a.getExtData()._data.adcode;let m=!1;for(let v=0;v<this._currentFeatures.length;v++){const _=this._currentFeatures[v].feature.properties;if(h===_.adcode){m=!0,this._currentFeatures.splice(v,1);break}}m||(i.push(a),this._polygonCache.splice(u,1),s.push(this._markerCache[u]),this._markerCache.splice(u,1),u--)}this._currentFeatures.forEach(u=>{const a=this._createPolygonFeature(u.feature,u.dataItems);this._opts.featureEventSupport&&(a.on("click",No.bind(m=>{this.emit("featureClick",m,u.feature),this._opts.featureClickToShowSub&&this._ins.zoomToShowSubFeatures(u.feature.properties.adcode)},this)),a.on("mouseover",No.bind(m=>{this.emit("featureMouseover",m,u.feature)},this)),a.on("mouseout",No.bind(m=>{this.emit("featureMouseout",m,u.feature)},this)));const h=this._createClusterMarker(u.feature,u.dataItems);this._opts.clusterMarkerEventSupport&&h.on("click",No.bind(m=>{this.emit("clusterMarkerClick",m,N$({adcode:u.feature.properties.adcode},u)),this._opts.clusterMarkerClickToShowSub&&this._ins.zoomToShowSubFeatures(u.feature.properties.adcode)},this)),r.push(a),o.push(h)}),this.layer.remove(i),(t=this.markerGroup)===null||t===void 0||t.removeOverlays(s),this.layer.add(r),this._polygonCache.push(...r),r.length=0,(n=this.markerGroup)===null||n===void 0||n.addOverlays(o),this._markerCache.push(...o),o.length=0}_tryFreeMemery(){this._ins.getDistMgr().tryClearCache(this._currentRenderId,this._opts.areaNodeCacheLimit)}_increaseLoadLeft(){this._loadLeft++}_decreaseLoadLeft(t){this._loadLeft--,this._loadLeft===0&&this._checkLoadFinish(t)}_loadAndRenderSelf(t,n,r){this._ins.getDistMgr().touchAdcode(n,t);const i=this._ins._distMgr.getExplorer(),o=i.getLocalAreaNode(n);o?this._renderSelf(t,r,o):(this._increaseLoadLeft(),i.loadAreaNode(n,(s,u)=>{this.isRenderIdStillValid(t)&&(s?console.error(s):this._renderSelf(t,r,u),this._decreaseLoadLeft(t))},this))}_loadAndRenderSub(t,n){this._ins.getDistMgr().touchAdcode(n,t);const r=this._ins._distMgr.getExplorer(),i=r.getLocalAreaNode(n);i?this._renderSub(t,i):(this._increaseLoadLeft(),r.loadAreaNode(n,(o,s)=>{this.isRenderIdStillValid(t)&&(o?console.error(o):this._renderSub(t,s),this._decreaseLoadLeft(t))},this))}_prepRenderFeatureInPixel(t,n){if(!this._ins.getDistMgr().isExcludedAdcode(n.properties.adcode)){const r=this._ins.getDistCounter().getPackItemsByAdcode(n.properties.adcode);this._currentFeatures.push({feature:n,dataItems:r})}}_createPolygonFeature(t,n){const r=Object.assign({},t.properties);if(r.dataItems=n,this._opts.renderPolygon){const o=this._opts.renderPolygon(t,n),s=o.getExtData()||{};return s._data=r,o.setExtData(s),o}const i=this._getFeatureStyleOptions(t,n)||{};return new AMap.Polygon(cHe(N$({path:t.geometry.coordinates},i),{extData:{_data:r}}))}_createClusterMarker(t,n){const r=t.properties;if(r.dataItems=n,this._opts.renderClusterMarker){const m=this._opts.renderClusterMarker(t,n),v=m.getExtData()||{};return v._data=r,m.setExtData(v),m}const i={title:"amap-ui-district-cluster-marker-title",body:"amap-ui-district-cluster-marker-body",container:"amap-ui-district-cluster-marker"},o=document.createElement("div"),s=document.createElement("span");s.className=i.title;const u=document.createElement("span");u.className=i.body,o.appendChild(s),o.appendChild(u);const a=[],h=[i.container,`level_${r.level}`,`adcode_${r.adcode}`];if(r.acroutes)for(let m=r.acroutes,v=0,_=m.length;v<_;v++)h.push(`descendant_of_${m[v]}`),v===_-1&&h.push(`child_of_${m[v]}`),v>0&&a.push(this._ins._distMgr.getNodeByAdcode(m[v]).name);return o.className=h.join(" "),a.length>0?(a.push(r.name),o.setAttribute("title",a.join(">"))):o.removeAttribute("title"),s.innerHTML=No.escapeHtml(r.name),u.innerHTML=n.length,new AMap.Marker({topWhenClick:!0,offset:new AMap.Pixel(-20,-30),content:o,position:r.center,extData:{_data:r}})}_getFeatureStyleOptions(t,n){const r=this._opts.getFeatureStyle,i=this._opts.featureStyleByLevel[t.properties.level];if(!r)return i;const o=r.call(null,t,n);return o?No.extend({},this._opts.featureStyleByLevel[t.properties.level],o):i}renderLater(t){this._renderLaterId||(this._renderLaterId=setTimeout(()=>{this.render()},t||100))}isRendering(){return this._isRendering}render(){this._renderLaterId&&(clearTimeout(this._renderLaterId),this._renderLaterId=null),this._isRendering=!0,this._ins._distMgr.onReady(this.renderViewport,this,!0)}forceRender(){this._renderLaterId&&(clearTimeout(this._renderLaterId),this._renderLaterId=null),this._isRendering=!0,this.clear(),this._ins._distMgr.onReady(this.renderViewport,this,!0)}getOption(t){return this._opts[t]}getOptions(){return this._opts}show(){var t;this.layer.show(),(t=this.markerGroup)===null||t===void 0||t.show()}hide(){var t;this.layer.hide(),(t=this.markerGroup)===null||t===void 0||t.hide()}clear(){var t;this.layer.clear(),(t=this.markerGroup)===null||t===void 0||t.clearOverlays(),this._polygonCache=[],this._markerCache=[]}setzIndex(t){this.layer.setzIndex(t)}getZooms(){return this._opts.zooms}destroy(){this._map.removeLayer(this.layer),this._map.remove(this.markerGroup),this._currentFeatures=[],this.clear(),this.layer=null,this._map=null,this._ins=null}},hHe=class{constructor(t,n,r){this.x=t,this.y=n,this.idx=r}};var fHe=Object.defineProperty,pHe=Object.defineProperties,mHe=Object.getOwnPropertyDescriptors,$$=Object.getOwnPropertySymbols,vHe=Object.prototype.hasOwnProperty,gHe=Object.prototype.propertyIsEnumerable,V$=(e,t,n)=>t in e?fHe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_He=(e,t)=>{for(var n in t||(t={}))vHe.call(t,n)&&V$(e,n,t[n]);if($$)for(var n of $$(t))gHe.call(t,n)&&V$(e,n,t[n]);return e},yHe=(e,t)=>pHe(e,mHe(t));let bHe=class extends UR{constructor(t){super(),this._data={list:[],bounds:null,source:null},this._mouseEvent=No.bind(No.debounce(()=>{this.renderLater()},50),this),this.initCSS();const n={autoSetFitView:!0,topAdcodes:[1e5],visible:!0,excludedAdcodes:null,zIndex:10,renderOptions:{}};this._opts=No.extend({},n,t),this.map=t.map,this._distMgr=new nHe({topAdcodes:this._opts.topAdcodes,excludedAdcodes:this._opts.excludedAdcodes}),this._distCounter=new iHe({distMgr:this._distMgr,pointPackerThisArg:this,pointPacker:r=>this._packDataItem(r)}),this.renderEngine=new dHe(this,yHe(_He({},t.renderOptions),{zIndex:this._opts.zIndex,visible:this._opts.visible,map:t.map})),this.renderEngine.on("*",(r,...i)=>{this.emit(r,...i)}),this._opts.data&&this.setData(this._opts.data),this.bindOrUnbindMapEvent()}bindOrUnbindMapEvent(t=!0){const n=t?"on":"off";this.map[n]("moveend",this._mouseEvent),this.map[n]("zoomend",this._mouseEvent),this.map[n]("resize",this._mouseEvent),this.map[n]("rotateend",this._mouseEvent),this.map[n]("dragend",this._mouseEvent)}initCSS(){const t="_amap_district_cluster_css";if(document.getElementById(t))return;const n=".amap-ui-district-cluster-container{cursor:default;-webkit-backface-visibility:hidden;-webkit-transform:translateZ(0) scale(1,1)}.amap-ui-district-cluster-container canvas{position:absolute}.amap-ui-district-cluster-container .amap-ui-hide{display:none!important}.amap-ui-district-cluster-container .overlay-title,.amap-ui-district-cluster-marker{color:#555;background-color:#fffeef;font-size:12px;white-space:nowrap;position:absolute}.amap-ui-district-cluster-container .overlay-title{padding:2px 6px;display:inline-block;z-index:99999;border:1px solid #7e7e7e;border-radius:2px}.amap-ui-district-cluster-container .overlay-title:after,.amap-ui-district-cluster-container .overlay-title:before{content:'';display:block;position:absolute;margin:auto;width:0;height:0;border:solid transparent;border-width:5px}.amap-ui-district-cluster-container .overlay-title.left{transform:translate(10px,-50%)}.amap-ui-district-cluster-container .overlay-title.left:before{top:5px}.amap-ui-district-cluster-container .overlay-title.left:after{left:-9px;top:5px;border-right-color:#fffeef}.amap-ui-district-cluster-container .overlay-title.left:before{left:-10px;border-right-color:#7e7e7e}.amap-ui-district-cluster-container .overlay-title.top{transform:translate(-50%,-130%)}.amap-ui-district-cluster-container .overlay-title.top:before{left:0;right:0}.amap-ui-district-cluster-container .overlay-title.top:after{bottom:-9px;left:0;right:0;border-top-color:#fffeef}.amap-ui-district-cluster-container .overlay-title.top:before{bottom:-10px;border-top-color:#7e7e7e}.amap-ui-district-cluster-marker{border:1px solid #8e8e8e;width:auto;height:22px;border-radius:5px 5px 5px 0;left:0;top:0}.amap-ui-district-cluster-marker:after,.amap-ui-district-cluster-marker:before{content:'';display:block;position:absolute;width:0;height:0;border:solid rgba(0,0,0,0);border-width:6px;left:13px}.amap-ui-district-cluster-marker:after{bottom:-12px;border-top-color:#fffeef}.amap-ui-district-cluster-marker:before{bottom:-13px;border-top-color:#8e8e8e}.amap-ui-district-cluster-marker span{vertical-align:middle;padding:3px 5px;display:inline-block;height:16px;line-height:16px}.amap-ui-district-cluster-marker-title{border-radius:5px 0 0 0}.amap-ui-district-cluster-marker-body{background-color:#dc3912;color:#fff;border-radius:0 5px 5px 0}.amap-ui-district-cluster-marker.level_country .amap-ui-district-cluster-marker-body{background-color:#36c}.amap-ui-district-cluster-marker.level_province .amap-ui-district-cluster-marker-body{background-color:#dc3912}.amap-ui-district-cluster-marker.level_city .amap-ui-district-cluster-marker-body{background-color:#909}.amap-ui-district-cluster-marker.level_district .amap-ui-district-cluster-marker-body{background-color:#d47}",r=document,i="appendChild",o="styleSheet",s=r.createElement("style");s.id=t,s.type="text/css",r.getElementsByTagName("head")[0][i](s),s[o]?s[o].cssText=n:s[i](r.createTextNode(n))}getMinZoomToShowSub(t){return this.renderEngine.getMinZoomToShowSub(t)}getAreaNodeProps(t){return this._distMgr.getNodeByAdcode(t)}getDistrictExplorer(){return this._distMgr.getExplorer()}getRender(){return this.renderEngine}zoomToShowSubFeatures(t,n){this.renderEngine.zoomToShowSubFeatures(t,n)}renderLater(t){this.renderEngine.renderLater(t)}render(){this.renderEngine.render()}forceRender(){this.renderEngine.forceRender()}getDistMgr(){return this._distMgr}_clearData(){this.trigger("willClearData"),this._data?this._data.list.length=0:this._data={list:[],bounds:null},this._data.source=null,this._data.bounds=null,this._data.kdTree=null,this._distCounter.clearData(),this.trigger("didClearData")}_buildDataItems(t){const n=this._opts,r=n.getPosition,i=this._data.list,o=this._data.bounds;for(let s=0,u=t.length;s<u;s++){let a=t[s],h=r.call(this,a,s);h&&(h.getLng&&(h=[h.getLng(),h.getLat()]),i[s]=new hHe(h[0],h[1],s),o.expandByPoint(h[0],h[1]))}}getDataItemsByBounds(t){const n=this._data.kdTree;if(!n)return null;const r=t.getSouthWest(),i=t.getNorthEast(),o=this._data.list,s=n.range(r.getLng(),r.getLat(),i.getLng(),i.getLat()),u=[];for(let a=0,h=s.length;a<h;a++)u[a]=this._packDataItem(o[s[a]]);return u}_packDataItem(t){if(!t)return null;if(!t._packedItem){const n=t.idx,r=[t.x,t.y];t._packedItem={dataIndex:n,dataItem:this._data.source[n],position:r}}return t._packedItem}_buildData(t){this._clearData(),this.trigger("willBuildData",t),this._data.source=t,this._data.bounds=U_.getBoundsItemToExpand(),this._buildDataItems(t),this._distCounter.setData(this._data.list),this.trigger("didBuildData",t)}setData(t){t||(t=[]),this._buildData(t),this.renderLater(10),t.length&&this._opts.autoSetFitView&&this.setFitView()}isReady(){return this._distMgr.isReady()&&!!this._data}setFitView(){const t=this._data.bounds,n=this.getMap(),r=new AMap.Bounds([t.x,t.y],[t.x+t.width,t.y+t.height]);n&&n.setBounds(r)}getDistCounter(){return this._distCounter}getMap(){return this._opts.map}getZooms(){return this.renderEngine.getZooms()}isHidden(){return!this._opts.visible}show(){return this._opts.visible=!0,this.getRender().show()}hide(){return this._opts.visible=!1,this.getRender().hide()}destroy(){this.bindOrUnbindMapEvent(!1),this.getRender().destroy(),this._distCounter.destroy(),this._distMgr.destroy(),this.renderEngine=null,this._data={list:[],bounds:null},this._distMgr=null,this.map=void 0,this._opts=void 0}getzIndex(){return this._opts.zIndex}setzIndex(t){this._opts.zIndex=t,this.getRender().setzIndex(t)}};var $2=ge({name:"ElAmapLayerDistrictCluster",inheritAttrs:!1,__name:"DistrictCluster",props:fi({data:{required:!0,type:Array},getPosition:{type:Function},autoSetFitView:{type:Boolean,default:!0},topAdcodes:{type:Array},excludedAdcodes:{type:Array},renderOptions:{type:Object}}),emits:["init"],setup(e,{expose:t,emit:n}){const r=n;let i;const{$$getInstance:o}=gi((s,u)=>new Promise(a=>{s.map=u,i=new bHe(s),a(i)}),{emits:r,destroyComponent(){i&&(i.destroy(),i=null)}});return t({$$getInstance:o}),(s,u)=>(X(),pe("div"))}});$2.__file="src/vue-amap/packages/layer/data/DistrictCluster/DistrictCluster.vue";$2.install=e=>(e.component($2.name,$2),e);const xHe=$2;var oC={exports:{}};oC.exports=sC,oC.exports.default=sC;function sC(e,t,n){n=n||2;var r=t&&t.length,i=r?t[0]*n:e.length,o=mJ(e,0,i,n,!0),s=[];if(!o||o.next===o.prev)return s;var u,a,h,m,v,_,b;if(r&&(o=MHe(e,t,o,n)),e.length>80*n){u=h=e[0],a=m=e[1];for(var T=n;T<i;T+=n)v=e[T],_=e[T+1],v<u&&(u=v),_<a&&(a=_),v>h&&(h=v),_>m&&(m=_);b=Math.max(h-u,m-a),b=b!==0?32767/b:0}return Bx(o,s,n,u,a,b,0),s}function mJ(e,t,n,r,i){var o,s;if(i===vk(e,t,n,r)>0)for(o=t;o<n;o+=r)s=H$(o,e[o],e[o+1],s);else for(o=n-r;o>=t;o-=r)s=H$(o,e[o],e[o+1],s);return s&&B8(s,s.next)&&(Nx(s),s=s.next),s}function x0(e,t){if(!e)return e;t||(t=e);var n=e,r;do if(r=!1,!n.steiner&&(B8(n,n.next)||ro(n.prev,n,n.next)===0)){if(Nx(n),n=t=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==t);return t}function Bx(e,t,n,r,i,o,s){if(e){!s&&o&&PHe(e,r,i,o);for(var u=e,a,h;e.prev!==e.next;){if(a=e.prev,h=e.next,o?SHe(e,r,i,o):wHe(e)){t.push(a.i/n|0),t.push(e.i/n|0),t.push(h.i/n|0),Nx(e),e=h.next,u=h.next;continue}if(e=h,e===u){s?s===1?(e=CHe(x0(e),t,n),Bx(e,t,n,r,i,o,2)):s===2&&THe(e,t,n,r,i,o):Bx(x0(e),t,n,r,i,o,1);break}}}}function wHe(e){var t=e.prev,n=e,r=e.next;if(ro(t,n,r)>=0)return!1;for(var i=t.x,o=n.x,s=r.x,u=t.y,a=n.y,h=r.y,m=i<o?i<s?i:s:o<s?o:s,v=u<a?u<h?u:h:a<h?a:h,_=i>o?i>s?i:s:o>s?o:s,b=u>a?u>h?u:h:a>h?a:h,T=r.next;T!==t;){if(T.x>=m&&T.x<=_&&T.y>=v&&T.y<=b&&Ag(i,u,o,a,s,h,T.x,T.y)&&ro(T.prev,T,T.next)>=0)return!1;T=T.next}return!0}function SHe(e,t,n,r){var i=e.prev,o=e,s=e.next;if(ro(i,o,s)>=0)return!1;for(var u=i.x,a=o.x,h=s.x,m=i.y,v=o.y,_=s.y,b=u<a?u<h?u:h:a<h?a:h,T=m<v?m<_?m:_:v<_?v:_,M=u>a?u>h?u:h:a>h?a:h,E=m>v?m>_?m:_:v>_?v:_,k=pk(b,T,t,n,r),z=pk(M,E,t,n,r),B=e.prevZ,U=e.nextZ;B&&B.z>=k&&U&&U.z<=z;){if(B.x>=b&&B.x<=M&&B.y>=T&&B.y<=E&&B!==i&&B!==s&&Ag(u,m,a,v,h,_,B.x,B.y)&&ro(B.prev,B,B.next)>=0||(B=B.prevZ,U.x>=b&&U.x<=M&&U.y>=T&&U.y<=E&&U!==i&&U!==s&&Ag(u,m,a,v,h,_,U.x,U.y)&&ro(U.prev,U,U.next)>=0))return!1;U=U.nextZ}for(;B&&B.z>=k;){if(B.x>=b&&B.x<=M&&B.y>=T&&B.y<=E&&B!==i&&B!==s&&Ag(u,m,a,v,h,_,B.x,B.y)&&ro(B.prev,B,B.next)>=0)return!1;B=B.prevZ}for(;U&&U.z<=z;){if(U.x>=b&&U.x<=M&&U.y>=T&&U.y<=E&&U!==i&&U!==s&&Ag(u,m,a,v,h,_,U.x,U.y)&&ro(U.prev,U,U.next)>=0)return!1;U=U.nextZ}return!0}function CHe(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!B8(i,o)&&vJ(i,r,r.next,o)&&Fx(i,o)&&Fx(o,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(o.i/n|0),Nx(r),Nx(r.next),r=e=o),r=r.next}while(r!==e);return x0(r)}function THe(e,t,n,r,i,o){var s=e;do{for(var u=s.next.next;u!==s.prev;){if(s.i!==u.i&&DHe(s,u)){var a=gJ(s,u);s=x0(s,s.next),a=x0(a,a.next),Bx(s,t,n,r,i,o,0),Bx(a,t,n,r,i,o,0);return}u=u.next}s=s.next}while(s!==e)}function MHe(e,t,n,r){var i=[],o,s,u,a,h;for(o=0,s=t.length;o<s;o++)u=t[o]*r,a=o<s-1?t[o+1]*r:e.length,h=mJ(e,u,a,r,!1),h===h.next&&(h.steiner=!0),i.push(RHe(h));for(i.sort(EHe),o=0;o<i.length;o++)n=AHe(i[o],n);return n}function EHe(e,t){return e.x-t.x}function AHe(e,t){var n=IHe(e,t);if(!n)return t;var r=gJ(n,e);return x0(r,r.next),x0(n,n.next)}function IHe(e,t){var n=t,r=e.x,i=e.y,o=-1/0,s;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var u=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(u<=r&&u>o&&(o=u,s=n.x<n.next.x?n:n.next,u===r))return s}n=n.next}while(n!==t);if(!s)return null;var a=s,h=s.x,m=s.y,v=1/0,_;n=s;do r>=n.x&&n.x>=h&&r!==n.x&&Ag(i<m?r:o,i,h,m,i<m?o:r,i,n.x,n.y)&&(_=Math.abs(i-n.y)/(r-n.x),Fx(n,e)&&(_<v||_===v&&(n.x>s.x||n.x===s.x&&kHe(s,n)))&&(s=n,v=_)),n=n.next;while(n!==a);return s}function kHe(e,t){return ro(e.prev,e,t.prev)<0&&ro(t.next,e,e.next)<0}function PHe(e,t,n,r){var i=e;do i.z===0&&(i.z=pk(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,LHe(i)}function LHe(e){var t,n,r,i,o,s,u,a,h=1;do{for(n=e,e=null,o=null,s=0;n;){for(s++,r=n,u=0,t=0;t<h&&(u++,r=r.nextZ,!!r);t++);for(a=h;u>0||a>0&&r;)u!==0&&(a===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,u--):(i=r,r=r.nextZ,a--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,h*=2}while(s>1);return e}function pk(e,t,n,r,i){return e=(e-n)*i|0,t=(t-r)*i|0,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function RHe(e){var t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n}function Ag(e,t,n,r,i,o,s,u){return(i-s)*(t-u)>=(e-s)*(o-u)&&(e-s)*(r-u)>=(n-s)*(t-u)&&(n-s)*(o-u)>=(i-s)*(r-u)}function DHe(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!OHe(e,t)&&(Fx(e,t)&&Fx(t,e)&&zHe(e,t)&&(ro(e.prev,e,t.prev)||ro(e,t.prev,t))||B8(e,t)&&ro(e.prev,e,e.next)>0&&ro(t.prev,t,t.next)>0)}function ro(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function B8(e,t){return e.x===t.x&&e.y===t.y}function vJ(e,t,n,r){var i=V6(ro(e,t,n)),o=V6(ro(e,t,r)),s=V6(ro(n,r,e)),u=V6(ro(n,r,t));return!!(i!==o&&s!==u||i===0&&$6(e,n,t)||o===0&&$6(e,r,t)||s===0&&$6(n,e,r)||u===0&&$6(n,t,r))}function $6(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function V6(e){return e>0?1:e<0?-1:0}function OHe(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&vJ(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function Fx(e,t){return ro(e.prev,e,e.next)<0?ro(e,t,e.next)>=0&&ro(e,e.prev,t)>=0:ro(e,t,e.prev)<0||ro(e,e.next,t)<0}function zHe(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r}function gJ(e,t){var n=new mk(e.i,e.x,e.y),r=new mk(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function H$(e,t,n,r){var i=new mk(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Nx(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function mk(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}sC.deviation=function(e,t,n,r){var i=t&&t.length,o=i?t[0]*n:e.length,s=Math.abs(vk(e,0,o,n));if(i)for(var u=0,a=t.length;u<a;u++){var h=t[u]*n,m=u<a-1?t[u+1]*n:e.length;s-=Math.abs(vk(e,h,m,n))}var v=0;for(u=0;u<r.length;u+=3){var _=r[u]*n,b=r[u+1]*n,T=r[u+2]*n;v+=Math.abs((e[_]-e[T])*(e[b+1]-e[_+1])-(e[_]-e[b])*(e[T+1]-e[_+1]))}return s===0&&v===0?0:Math.abs((v-s)/s)};function vk(e,t,n,r){for(var i=0,o=t,s=n-r;o<n;o+=r)i+=(e[s]-e[o])*(e[o+1]+e[s+1]),s=o;return i}sC.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var s=0;s<t;s++)n.vertices.push(e[i][o][s]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n};const ed={EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0};function BHe(e,{precision:t=ed.precision}={}){return e=FHe(e),"".concat(parseFloat(e.toPrecision(t)))}function gk(e){return Array.isArray(e)||ArrayBuffer.isView(e)&&!(e instanceof DataView)}function _J(e,t,n){const r=ed.EPSILON;try{if(e===t)return!0;if(gk(e)&&gk(t)){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(!_J(e[i],t[i]))return!1;return!0}return e&&e.equals?e.equals(t):t&&t.equals?t.equals(e):typeof e=="number"&&typeof t=="number"?Math.abs(e-t)<=ed.EPSILON*Math.max(1,Math.abs(e),Math.abs(t)):!1}finally{ed.EPSILON=r}}function FHe(e){return Math.round(e/ed.EPSILON)*ed.EPSILON}function NHe(e){function t(){var n=Reflect.construct(e,Array.from(arguments));return Object.setPrototypeOf(n,Object.getPrototypeOf(this)),n}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}class $He extends NHe(Array){clone(){return new this.constructor().copy(this)}fromArray(t,n=0){for(let r=0;r<this.ELEMENTS;++r)this[r]=t[r+n];return this.check()}toArray(t=[],n=0){for(let r=0;r<this.ELEMENTS;++r)t[n+r]=this[r];return t}from(t){return Array.isArray(t)?this.copy(t):this.fromObject(t)}to(t){return t===this?this:gk(t)?this.toArray(t):this.toObject(t)}toTarget(t){return t?this.to(t):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(ed)}formatString(t){let n="";for(let r=0;r<this.ELEMENTS;++r)n+=(r>0?", ":"")+BHe(this[r],t);return"".concat(t.printTypes?this.constructor.name:"","[").concat(n,"]")}equals(t){if(!t||this.length!==t.length)return!1;for(let n=0;n<this.ELEMENTS;++n)if(!_J(this[n],t[n]))return!1;return!0}exactEquals(t){if(!t||this.length!==t.length)return!1;for(let n=0;n<this.ELEMENTS;++n)if(this[n]!==t[n])return!1;return!0}negate(){for(let t=0;t<this.ELEMENTS;++t)this[t]=-this[t];return this.check()}lerp(t,n,r){if(r===void 0)return this.lerp(this,t,n);for(let i=0;i<this.ELEMENTS;++i){const o=t[i];this[i]=o+r*(n[i]-o)}return this.check()}min(t){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.min(t[n],this[n]);return this.check()}max(t){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.max(t[n],this[n]);return this.check()}clamp(t,n){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],t[r]),n[r]);return this.check()}add(...t){for(const n of t)for(let r=0;r<this.ELEMENTS;++r)this[r]+=n[r];return this.check()}subtract(...t){for(const n of t)for(let r=0;r<this.ELEMENTS;++r)this[r]-=n[r];return this.check()}scale(t){if(typeof t=="number")for(let n=0;n<this.ELEMENTS;++n)this[n]*=t;else for(let n=0;n<this.ELEMENTS&&n<t.length;++n)this[n]*=t[n];return this.check()}multiplyByScalar(t){for(let n=0;n<this.ELEMENTS;++n)this[n]*=t;return this.check()}check(){if(ed.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}validate(){let t=this.length===this.ELEMENTS;for(let n=0;n<this.ELEMENTS;++n)t=t&&Number.isFinite(this[n]);return t}sub(t){return this.subtract(t)}setScalar(t){for(let n=0;n<this.ELEMENTS;++n)this[n]=t;return this.check()}addScalar(t){for(let n=0;n<this.ELEMENTS;++n)this[n]+=t;return this.check()}subScalar(t){return this.addScalar(-t)}multiplyScalar(t){for(let n=0;n<this.ELEMENTS;++n)this[n]*=t;return this.check()}divideScalar(t){return this.multiplyByScalar(1/t)}clampScalar(t,n){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],t),n);return this.check()}get elements(){return this}}function VHe(e,t){if(e.length!==t)return!1;for(let n=0;n<e.length;++n)if(!Number.isFinite(e[n]))return!1;return!0}function HHe(e){if(!Number.isFinite(e))throw new Error("Invalid number ".concat(e));return e}function nE(e,t,n=""){if(ed.debug&&!VHe(e,t))throw new Error("math.gl: ".concat(n," some fields set to invalid numbers'"));return e}var ti={},Xo={};Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.setMatrixArrayType=jHe,Xo.toRadian=WHe,Xo.equals=qHe,Xo.RANDOM=Xo.ARRAY_TYPE=Xo.EPSILON=void 0;var yJ=1e-6;Xo.EPSILON=yJ;var bJ=typeof Float32Array<"u"?Float32Array:Array;Xo.ARRAY_TYPE=bJ;var UHe=Math.random;Xo.RANDOM=UHe;function jHe(e){Xo.ARRAY_TYPE=bJ=e}var GHe=Math.PI/180;function WHe(e){return e*GHe}function qHe(e,t){return Math.abs(e-t)<=yJ*Math.max(1,Math.abs(e),Math.abs(t))}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function nS(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nS=function(t){return typeof t}:nS=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nS(e)}Object.defineProperty(ti,"__esModule",{value:!0}),ti.create=wJ,ti.clone=ZHe,ti.fromValues=XHe,ti.copy=JHe,ti.set=QHe,ti.add=eUe,ti.subtract=SJ,ti.multiply=CJ,ti.divide=TJ,ti.ceil=tUe,ti.floor=nUe,ti.min=rUe,ti.max=iUe,ti.round=aUe,ti.scale=oUe,ti.scaleAndAdd=sUe,ti.distance=MJ,ti.squaredDistance=EJ,ti.length=AJ,ti.squaredLength=IJ,ti.negate=lUe,ti.inverse=uUe,ti.normalize=cUe,ti.dot=dUe,ti.cross=hUe,ti.lerp=fUe,ti.random=pUe,ti.transformMat2=mUe,ti.transformMat2d=vUe,ti.transformMat3=gUe;var KHe=ti.transformMat4=_Ue;ti.rotate=yUe,ti.angle=bUe,ti.zero=xUe,ti.str=wUe,ti.exactEquals=SUe,ti.equals=CUe,ti.forEach=ti.sqrLen=ti.sqrDist=ti.dist=ti.div=ti.mul=ti.sub=ti.len=void 0;var w0=YHe(Xo);function xJ(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(xJ=function(r){return r?n:t})(e)}function YHe(e,t){if(e&&e.__esModule)return e;if(e===null||nS(e)!=="object"&&typeof e!="function")return{default:e};var n=xJ(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function wJ(){var e=new w0.ARRAY_TYPE(2);return w0.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0),e}function ZHe(e){var t=new w0.ARRAY_TYPE(2);return t[0]=e[0],t[1]=e[1],t}function XHe(e,t){var n=new w0.ARRAY_TYPE(2);return n[0]=e,n[1]=t,n}function JHe(e,t){return e[0]=t[0],e[1]=t[1],e}function QHe(e,t,n){return e[0]=t,e[1]=n,e}function eUe(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function SJ(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function CJ(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function TJ(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function tUe(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function nUe(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function rUe(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function iUe(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function aUe(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function oUe(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function sUe(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}function MJ(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.hypot(n,r)}function EJ(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function AJ(e){var t=e[0],n=e[1];return Math.hypot(t,n)}function IJ(e){var t=e[0],n=e[1];return t*t+n*n}function lUe(e,t){return e[0]=-t[0],e[1]=-t[1],e}function uUe(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function cUe(e,t){var n=t[0],r=t[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e}function dUe(e,t){return e[0]*t[0]+e[1]*t[1]}function hUe(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e}function fUe(e,t,n,r){var i=t[0],o=t[1];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e}function pUe(e,t){t=t||1;var n=w0.RANDOM()*2*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e}function mUe(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e}function vUe(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}function gUe(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7],e}function _Ue(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e}function yUe(e,t,n,r){var i=t[0]-n[0],o=t[1]-n[1],s=Math.sin(r),u=Math.cos(r);return e[0]=i*u-o*s+n[0],e[1]=i*s+o*u+n[1],e}function bUe(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],s=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+o*o),u=s&&(n*i+r*o)/s;return Math.acos(Math.min(Math.max(u,-1),1))}function xUe(e){return e[0]=0,e[1]=0,e}function wUe(e){return"vec2("+e[0]+", "+e[1]+")"}function SUe(e,t){return e[0]===t[0]&&e[1]===t[1]}function CUe(e,t){var n=e[0],r=e[1],i=t[0],o=t[1];return Math.abs(n-i)<=w0.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=w0.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))}var TUe=AJ;ti.len=TUe;var MUe=SJ;ti.sub=MUe;var EUe=CJ;ti.mul=EUe;var AUe=TJ;ti.div=AUe;var IUe=MJ;ti.dist=IUe;var kUe=EJ;ti.sqrDist=kUe;var PUe=IJ;ti.sqrLen=PUe;var LUe=function(){var e=wJ();return function(t,n,r,i,o,s){var u,a;for(n||(n=2),r||(r=0),i?a=Math.min(i*n+r,t.length):a=t.length,u=r;u<a;u+=n)e[0]=t[u],e[1]=t[u+1],o(e,e,s),t[u]=e[0],t[u+1]=e[1];return t}}();ti.forEach=LUe;function RUe(e,t,n){const r=t[0],i=t[1],o=n[3]*r+n[7]*i||1;return e[0]=(n[0]*r+n[4]*i)/o,e[1]=(n[1]*r+n[5]*i)/o,e}function DUe(e,t,n){const r=t[0],i=t[1],o=t[2],s=n[3]*r+n[7]*i+n[11]*o||1;return e[0]=(n[0]*r+n[4]*i+n[8]*o)/s,e[1]=(n[1]*r+n[5]*i+n[9]*o)/s,e[2]=(n[2]*r+n[6]*i+n[10]*o)/s,e}var Gr={};function rS(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rS=function(t){return typeof t}:rS=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rS(e)}Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.create=PJ,Gr.clone=BUe,Gr.length=LJ,Gr.fromValues=FUe,Gr.copy=NUe,Gr.set=$Ue,Gr.add=VUe,Gr.subtract=RJ,Gr.multiply=DJ,Gr.divide=OJ,Gr.ceil=HUe,Gr.floor=UUe,Gr.min=jUe,Gr.max=GUe,Gr.round=WUe,Gr.scale=qUe,Gr.scaleAndAdd=KUe,Gr.distance=zJ,Gr.squaredDistance=BJ,Gr.squaredLength=FJ,Gr.negate=YUe,Gr.inverse=ZUe,Gr.normalize=XUe,Gr.dot=NJ,Gr.cross=JUe,Gr.lerp=QUe,Gr.hermite=eje,Gr.bezier=tje,Gr.random=nje;var OUe=Gr.transformMat4=rje;Gr.transformMat3=ije,Gr.transformQuat=aje,Gr.rotateX=oje,Gr.rotateY=sje,Gr.rotateZ=lje,Gr.angle=uje,Gr.zero=cje,Gr.str=dje,Gr.exactEquals=hje,Gr.equals=fje,Gr.forEach=Gr.sqrLen=Gr.len=Gr.sqrDist=Gr.dist=Gr.div=Gr.mul=Gr.sub=void 0;var rh=zUe(Xo);function kJ(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(kJ=function(r){return r?n:t})(e)}function zUe(e,t){if(e&&e.__esModule)return e;if(e===null||rS(e)!=="object"&&typeof e!="function")return{default:e};var n=kJ(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function PJ(){var e=new rh.ARRAY_TYPE(3);return rh.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function BUe(e){var t=new rh.ARRAY_TYPE(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function LJ(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)}function FUe(e,t,n){var r=new rh.ARRAY_TYPE(3);return r[0]=e,r[1]=t,r[2]=n,r}function NUe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function $Ue(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function VUe(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function RJ(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function DJ(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function OJ(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function HUe(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function UUe(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function jUe(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function GUe(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function WUe(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function qUe(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function KUe(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}function zJ(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.hypot(n,r,i)}function BJ(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return n*n+r*r+i*i}function FJ(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}function YUe(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function ZUe(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function XUe(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function NJ(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function JUe(e,t,n){var r=t[0],i=t[1],o=t[2],s=n[0],u=n[1],a=n[2];return e[0]=i*a-o*u,e[1]=o*s-r*a,e[2]=r*u-i*s,e}function QUe(e,t,n,r){var i=t[0],o=t[1],s=t[2];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=s+r*(n[2]-s),e}function eje(e,t,n,r,i,o){var s=o*o,u=s*(2*o-3)+1,a=s*(o-2)+o,h=s*(o-1),m=s*(3-2*o);return e[0]=t[0]*u+n[0]*a+r[0]*h+i[0]*m,e[1]=t[1]*u+n[1]*a+r[1]*h+i[1]*m,e[2]=t[2]*u+n[2]*a+r[2]*h+i[2]*m,e}function tje(e,t,n,r,i,o){var s=1-o,u=s*s,a=o*o,h=u*s,m=3*o*u,v=3*a*s,_=a*o;return e[0]=t[0]*h+n[0]*m+r[0]*v+i[0]*_,e[1]=t[1]*h+n[1]*m+r[1]*v+i[1]*_,e[2]=t[2]*h+n[2]*m+r[2]*v+i[2]*_,e}function nje(e,t){t=t||1;var n=rh.RANDOM()*2*Math.PI,r=rh.RANDOM()*2-1,i=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*i,e[1]=Math.sin(n)*i,e[2]=r*t,e}function rje(e,t,n){var r=t[0],i=t[1],o=t[2],s=n[3]*r+n[7]*i+n[11]*o+n[15];return s=s||1,e[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/s,e[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/s,e[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/s,e}function ije(e,t,n){var r=t[0],i=t[1],o=t[2];return e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8],e}function aje(e,t,n){var r=n[0],i=n[1],o=n[2],s=n[3],u=t[0],a=t[1],h=t[2],m=i*h-o*a,v=o*u-r*h,_=r*a-i*u,b=i*_-o*v,T=o*m-r*_,M=r*v-i*m,E=s*2;return m*=E,v*=E,_*=E,b*=2,T*=2,M*=2,e[0]=u+m+b,e[1]=a+v+T,e[2]=h+_+M,e}function oje(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function sje(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function lje(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function uje(e,t){var n=e[0],r=e[1],i=e[2],o=t[0],s=t[1],u=t[2],a=Math.sqrt(n*n+r*r+i*i),h=Math.sqrt(o*o+s*s+u*u),m=a*h,v=m&&NJ(e,t)/m;return Math.acos(Math.min(Math.max(v,-1),1))}function cje(e){return e[0]=0,e[1]=0,e[2]=0,e}function dje(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function hje(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function fje(e,t){var n=e[0],r=e[1],i=e[2],o=t[0],s=t[1],u=t[2];return Math.abs(n-o)<=rh.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-s)<=rh.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-u)<=rh.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))}var pje=RJ;Gr.sub=pje;var mje=DJ;Gr.mul=mje;var vje=OJ;Gr.div=vje;var gje=zJ;Gr.dist=gje;var _je=BJ;Gr.sqrDist=_je;var yje=LJ;Gr.len=yje;var bje=FJ;Gr.sqrLen=bje;var xje=function(){var e=PJ();return function(t,n,r,i,o,s){var u,a;for(n||(n=3),r||(r=0),i?a=Math.min(i*n+r,t.length):a=t.length,u=r;u<a;u+=n)e[0]=t[u],e[1]=t[u+1],e[2]=t[u+2],o(e,e,s),t[u]=e[0],t[u+1]=e[1],t[u+2]=e[2];return t}}();Gr.forEach=xje;class wje extends $He{toString(){let t="[";if(ed.printRowMajor){t+="row-major:";for(let n=0;n<this.RANK;++n)for(let r=0;r<this.RANK;++r)t+=" ".concat(this[r*this.RANK+n])}else{t+="column-major:";for(let n=0;n<this.ELEMENTS;++n)t+=" ".concat(this[n])}return t+="]",t}getElementIndex(t,n){return n*this.RANK+t}getElement(t,n){return this[n*this.RANK+t]}setElement(t,n,r){return this[n*this.RANK+t]=HHe(r),this}getColumn(t,n=new Array(this.RANK).fill(-0)){const r=t*this.RANK;for(let i=0;i<this.RANK;++i)n[i]=this[r+i];return n}setColumn(t,n){const r=t*this.RANK;for(let i=0;i<this.RANK;++i)this[r+i]=n[i];return this}}var qi={};function iS(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?iS=function(t){return typeof t}:iS=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iS(e)}Object.defineProperty(qi,"__esModule",{value:!0}),qi.create=Cje,qi.fromMat4=Tje,qi.clone=Mje,qi.copy=Eje,qi.fromValues=Aje,qi.set=Ije,qi.identity=kje,qi.transpose=Pje,qi.invert=Lje,qi.adjoint=Rje,qi.determinant=Dje,qi.multiply=VJ,qi.translate=Oje,qi.rotate=zje,qi.scale=Bje,qi.fromTranslation=Fje,qi.fromRotation=Nje,qi.fromScaling=$je,qi.fromMat2d=Vje,qi.fromQuat=Hje,qi.normalFromMat4=Uje,qi.projection=jje,qi.str=Gje,qi.frob=Wje,qi.add=qje,qi.subtract=HJ,qi.multiplyScalar=Kje,qi.multiplyScalarAndAdd=Yje,qi.exactEquals=Zje,qi.equals=Xje,qi.sub=qi.mul=void 0;var Ll=Sje(Xo);function $J(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return($J=function(r){return r?n:t})(e)}function Sje(e,t){if(e&&e.__esModule)return e;if(e===null||iS(e)!=="object"&&typeof e!="function")return{default:e};var n=$J(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function Cje(){var e=new Ll.ARRAY_TYPE(9);return Ll.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function Tje(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function Mje(e){var t=new Ll.ARRAY_TYPE(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Eje(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function Aje(e,t,n,r,i,o,s,u,a){var h=new Ll.ARRAY_TYPE(9);return h[0]=e,h[1]=t,h[2]=n,h[3]=r,h[4]=i,h[5]=o,h[6]=s,h[7]=u,h[8]=a,h}function Ije(e,t,n,r,i,o,s,u,a,h){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=s,e[6]=u,e[7]=a,e[8]=h,e}function kje(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Pje(e,t){if(e===t){var n=t[1],r=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function Lje(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],u=t[5],a=t[6],h=t[7],m=t[8],v=m*s-u*h,_=-m*o+u*a,b=h*o-s*a,T=n*v+r*_+i*b;return T?(T=1/T,e[0]=v*T,e[1]=(-m*r+i*h)*T,e[2]=(u*r-i*s)*T,e[3]=_*T,e[4]=(m*n-i*a)*T,e[5]=(-u*n+i*o)*T,e[6]=b*T,e[7]=(-h*n+r*a)*T,e[8]=(s*n-r*o)*T,e):null}function Rje(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],u=t[5],a=t[6],h=t[7],m=t[8];return e[0]=s*m-u*h,e[1]=i*h-r*m,e[2]=r*u-i*s,e[3]=u*a-o*m,e[4]=n*m-i*a,e[5]=i*o-n*u,e[6]=o*h-s*a,e[7]=r*a-n*h,e[8]=n*s-r*o,e}function Dje(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],s=e[5],u=e[6],a=e[7],h=e[8];return t*(h*o-s*a)+n*(-h*i+s*u)+r*(a*i-o*u)}function VJ(e,t,n){var r=t[0],i=t[1],o=t[2],s=t[3],u=t[4],a=t[5],h=t[6],m=t[7],v=t[8],_=n[0],b=n[1],T=n[2],M=n[3],E=n[4],k=n[5],z=n[6],B=n[7],U=n[8];return e[0]=_*r+b*s+T*h,e[1]=_*i+b*u+T*m,e[2]=_*o+b*a+T*v,e[3]=M*r+E*s+k*h,e[4]=M*i+E*u+k*m,e[5]=M*o+E*a+k*v,e[6]=z*r+B*s+U*h,e[7]=z*i+B*u+U*m,e[8]=z*o+B*a+U*v,e}function Oje(e,t,n){var r=t[0],i=t[1],o=t[2],s=t[3],u=t[4],a=t[5],h=t[6],m=t[7],v=t[8],_=n[0],b=n[1];return e[0]=r,e[1]=i,e[2]=o,e[3]=s,e[4]=u,e[5]=a,e[6]=_*r+b*s+h,e[7]=_*i+b*u+m,e[8]=_*o+b*a+v,e}function zje(e,t,n){var r=t[0],i=t[1],o=t[2],s=t[3],u=t[4],a=t[5],h=t[6],m=t[7],v=t[8],_=Math.sin(n),b=Math.cos(n);return e[0]=b*r+_*s,e[1]=b*i+_*u,e[2]=b*o+_*a,e[3]=b*s-_*r,e[4]=b*u-_*i,e[5]=b*a-_*o,e[6]=h,e[7]=m,e[8]=v,e}function Bje(e,t,n){var r=n[0],i=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function Fje(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function Nje(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function $je(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Vje(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function Hje(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],s=n+n,u=r+r,a=i+i,h=n*s,m=r*s,v=r*u,_=i*s,b=i*u,T=i*a,M=o*s,E=o*u,k=o*a;return e[0]=1-v-T,e[3]=m-k,e[6]=_+E,e[1]=m+k,e[4]=1-h-T,e[7]=b-M,e[2]=_-E,e[5]=b+M,e[8]=1-h-v,e}function Uje(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],u=t[5],a=t[6],h=t[7],m=t[8],v=t[9],_=t[10],b=t[11],T=t[12],M=t[13],E=t[14],k=t[15],z=n*u-r*s,B=n*a-i*s,U=n*h-o*s,W=r*a-i*u,q=r*h-o*u,Q=i*h-o*a,te=m*M-v*T,ie=m*E-_*T,ae=m*k-b*T,re=v*E-_*M,se=v*k-b*M,be=_*k-b*E,Ie=z*be-B*se+U*re+W*ae-q*ie+Q*te;return Ie?(Ie=1/Ie,e[0]=(u*be-a*se+h*re)*Ie,e[1]=(a*ae-s*be-h*ie)*Ie,e[2]=(s*se-u*ae+h*te)*Ie,e[3]=(i*se-r*be-o*re)*Ie,e[4]=(n*be-i*ae+o*ie)*Ie,e[5]=(r*ae-n*se-o*te)*Ie,e[6]=(M*Q-E*q+k*W)*Ie,e[7]=(E*U-T*Q-k*B)*Ie,e[8]=(T*q-M*U+k*z)*Ie,e):null}function jje(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function Gje(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function Wje(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}function qje(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e}function HJ(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}function Kje(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e}function Yje(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e}function Zje(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function Xje(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],u=e[5],a=e[6],h=e[7],m=e[8],v=t[0],_=t[1],b=t[2],T=t[3],M=t[4],E=t[5],k=t[6],z=t[7],B=t[8];return Math.abs(n-v)<=Ll.EPSILON*Math.max(1,Math.abs(n),Math.abs(v))&&Math.abs(r-_)<=Ll.EPSILON*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(i-b)<=Ll.EPSILON*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(o-T)<=Ll.EPSILON*Math.max(1,Math.abs(o),Math.abs(T))&&Math.abs(s-M)<=Ll.EPSILON*Math.max(1,Math.abs(s),Math.abs(M))&&Math.abs(u-E)<=Ll.EPSILON*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(a-k)<=Ll.EPSILON*Math.max(1,Math.abs(a),Math.abs(k))&&Math.abs(h-z)<=Ll.EPSILON*Math.max(1,Math.abs(h),Math.abs(z))&&Math.abs(m-B)<=Ll.EPSILON*Math.max(1,Math.abs(m),Math.abs(B))}var Jje=VJ;qi.mul=Jje;var Qje=HJ;qi.sub=Qje;var U$;(function(e){e[e.COL0ROW0=0]="COL0ROW0",e[e.COL0ROW1=1]="COL0ROW1",e[e.COL0ROW2=2]="COL0ROW2",e[e.COL1ROW0=3]="COL1ROW0",e[e.COL1ROW1=4]="COL1ROW1",e[e.COL1ROW2=5]="COL1ROW2",e[e.COL2ROW0=6]="COL2ROW0",e[e.COL2ROW1=7]="COL2ROW1",e[e.COL2ROW2=8]="COL2ROW2"})(U$||(U$={}));var Yr={};function aS(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?aS=function(t){return typeof t}:aS=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aS(e)}Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.create=fGe,Yr.clone=pGe,Yr.copy=mGe,Yr.fromValues=vGe,Yr.set=gGe,Yr.identity=jJ;var eGe=Yr.transpose=_Ge,tGe=Yr.invert=yGe;Yr.adjoint=bGe;var nGe=Yr.determinant=xGe,j$=Yr.multiply=GJ,rGe=Yr.translate=wGe,iGe=Yr.scale=SGe,aGe=Yr.rotate=CGe,oGe=Yr.rotateX=TGe,sGe=Yr.rotateY=MGe,lGe=Yr.rotateZ=EGe;Yr.fromTranslation=AGe,Yr.fromScaling=IGe,Yr.fromRotation=kGe,Yr.fromXRotation=PGe,Yr.fromYRotation=LGe,Yr.fromZRotation=RGe,Yr.fromRotationTranslation=WJ,Yr.fromQuat2=DGe,Yr.getTranslation=OGe,Yr.getScaling=qJ,Yr.getRotation=zGe,Yr.fromRotationTranslationScale=BGe,Yr.fromRotationTranslationScaleOrigin=FGe;var uGe=Yr.fromQuat=NGe,cGe=Yr.frustum=$Ge;Yr.perspectiveNO=KJ,Yr.perspectiveZO=HGe,Yr.perspectiveFromFieldOfView=UGe,Yr.orthoNO=ZJ,Yr.orthoZO=GGe;var dGe=Yr.lookAt=WGe;Yr.targetTo=qGe,Yr.str=KGe,Yr.frob=YGe,Yr.add=ZGe,Yr.subtract=JJ,Yr.multiplyScalar=XGe,Yr.multiplyScalarAndAdd=JGe,Yr.exactEquals=QGe,Yr.equals=eWe,Yr.sub=Yr.mul=XJ=Yr.ortho=YJ=Yr.perspective=void 0;var ka=hGe(Xo);function UJ(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(UJ=function(r){return r?n:t})(e)}function hGe(e,t){if(e&&e.__esModule)return e;if(e===null||aS(e)!=="object"&&typeof e!="function")return{default:e};var n=UJ(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function fGe(){var e=new ka.ARRAY_TYPE(16);return ka.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function pGe(e){var t=new ka.ARRAY_TYPE(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function mGe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function vGe(e,t,n,r,i,o,s,u,a,h,m,v,_,b,T,M){var E=new ka.ARRAY_TYPE(16);return E[0]=e,E[1]=t,E[2]=n,E[3]=r,E[4]=i,E[5]=o,E[6]=s,E[7]=u,E[8]=a,E[9]=h,E[10]=m,E[11]=v,E[12]=_,E[13]=b,E[14]=T,E[15]=M,E}function gGe(e,t,n,r,i,o,s,u,a,h,m,v,_,b,T,M,E){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=s,e[6]=u,e[7]=a,e[8]=h,e[9]=m,e[10]=v,e[11]=_,e[12]=b,e[13]=T,e[14]=M,e[15]=E,e}function jJ(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function _Ge(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],o=t[6],s=t[7],u=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=i,e[13]=s,e[14]=u}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function yGe(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],u=t[5],a=t[6],h=t[7],m=t[8],v=t[9],_=t[10],b=t[11],T=t[12],M=t[13],E=t[14],k=t[15],z=n*u-r*s,B=n*a-i*s,U=n*h-o*s,W=r*a-i*u,q=r*h-o*u,Q=i*h-o*a,te=m*M-v*T,ie=m*E-_*T,ae=m*k-b*T,re=v*E-_*M,se=v*k-b*M,be=_*k-b*E,Ie=z*be-B*se+U*re+W*ae-q*ie+Q*te;return Ie?(Ie=1/Ie,e[0]=(u*be-a*se+h*re)*Ie,e[1]=(i*se-r*be-o*re)*Ie,e[2]=(M*Q-E*q+k*W)*Ie,e[3]=(_*q-v*Q-b*W)*Ie,e[4]=(a*ae-s*be-h*ie)*Ie,e[5]=(n*be-i*ae+o*ie)*Ie,e[6]=(E*U-T*Q-k*B)*Ie,e[7]=(m*Q-_*U+b*B)*Ie,e[8]=(s*se-u*ae+h*te)*Ie,e[9]=(r*ae-n*se-o*te)*Ie,e[10]=(T*q-M*U+k*z)*Ie,e[11]=(v*U-m*q-b*z)*Ie,e[12]=(u*ie-s*re-a*te)*Ie,e[13]=(n*re-r*ie+i*te)*Ie,e[14]=(M*B-T*W-E*z)*Ie,e[15]=(m*W-v*B+_*z)*Ie,e):null}function bGe(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],u=t[5],a=t[6],h=t[7],m=t[8],v=t[9],_=t[10],b=t[11],T=t[12],M=t[13],E=t[14],k=t[15];return e[0]=u*(_*k-b*E)-v*(a*k-h*E)+M*(a*b-h*_),e[1]=-(r*(_*k-b*E)-v*(i*k-o*E)+M*(i*b-o*_)),e[2]=r*(a*k-h*E)-u*(i*k-o*E)+M*(i*h-o*a),e[3]=-(r*(a*b-h*_)-u*(i*b-o*_)+v*(i*h-o*a)),e[4]=-(s*(_*k-b*E)-m*(a*k-h*E)+T*(a*b-h*_)),e[5]=n*(_*k-b*E)-m*(i*k-o*E)+T*(i*b-o*_),e[6]=-(n*(a*k-h*E)-s*(i*k-o*E)+T*(i*h-o*a)),e[7]=n*(a*b-h*_)-s*(i*b-o*_)+m*(i*h-o*a),e[8]=s*(v*k-b*M)-m*(u*k-h*M)+T*(u*b-h*v),e[9]=-(n*(v*k-b*M)-m*(r*k-o*M)+T*(r*b-o*v)),e[10]=n*(u*k-h*M)-s*(r*k-o*M)+T*(r*h-o*u),e[11]=-(n*(u*b-h*v)-s*(r*b-o*v)+m*(r*h-o*u)),e[12]=-(s*(v*E-_*M)-m*(u*E-a*M)+T*(u*_-a*v)),e[13]=n*(v*E-_*M)-m*(r*E-i*M)+T*(r*_-i*v),e[14]=-(n*(u*E-a*M)-s*(r*E-i*M)+T*(r*a-i*u)),e[15]=n*(u*_-a*v)-s*(r*_-i*v)+m*(r*a-i*u),e}function xGe(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],s=e[5],u=e[6],a=e[7],h=e[8],m=e[9],v=e[10],_=e[11],b=e[12],T=e[13],M=e[14],E=e[15],k=t*s-n*o,z=t*u-r*o,B=t*a-i*o,U=n*u-r*s,W=n*a-i*s,q=r*a-i*u,Q=h*T-m*b,te=h*M-v*b,ie=h*E-_*b,ae=m*M-v*T,re=m*E-_*T,se=v*E-_*M;return k*se-z*re+B*ae+U*ie-W*te+q*Q}function GJ(e,t,n){var r=t[0],i=t[1],o=t[2],s=t[3],u=t[4],a=t[5],h=t[6],m=t[7],v=t[8],_=t[9],b=t[10],T=t[11],M=t[12],E=t[13],k=t[14],z=t[15],B=n[0],U=n[1],W=n[2],q=n[3];return e[0]=B*r+U*u+W*v+q*M,e[1]=B*i+U*a+W*_+q*E,e[2]=B*o+U*h+W*b+q*k,e[3]=B*s+U*m+W*T+q*z,B=n[4],U=n[5],W=n[6],q=n[7],e[4]=B*r+U*u+W*v+q*M,e[5]=B*i+U*a+W*_+q*E,e[6]=B*o+U*h+W*b+q*k,e[7]=B*s+U*m+W*T+q*z,B=n[8],U=n[9],W=n[10],q=n[11],e[8]=B*r+U*u+W*v+q*M,e[9]=B*i+U*a+W*_+q*E,e[10]=B*o+U*h+W*b+q*k,e[11]=B*s+U*m+W*T+q*z,B=n[12],U=n[13],W=n[14],q=n[15],e[12]=B*r+U*u+W*v+q*M,e[13]=B*i+U*a+W*_+q*E,e[14]=B*o+U*h+W*b+q*k,e[15]=B*s+U*m+W*T+q*z,e}function wGe(e,t,n){var r=n[0],i=n[1],o=n[2],s,u,a,h,m,v,_,b,T,M,E,k;return t===e?(e[12]=t[0]*r+t[4]*i+t[8]*o+t[12],e[13]=t[1]*r+t[5]*i+t[9]*o+t[13],e[14]=t[2]*r+t[6]*i+t[10]*o+t[14],e[15]=t[3]*r+t[7]*i+t[11]*o+t[15]):(s=t[0],u=t[1],a=t[2],h=t[3],m=t[4],v=t[5],_=t[6],b=t[7],T=t[8],M=t[9],E=t[10],k=t[11],e[0]=s,e[1]=u,e[2]=a,e[3]=h,e[4]=m,e[5]=v,e[6]=_,e[7]=b,e[8]=T,e[9]=M,e[10]=E,e[11]=k,e[12]=s*r+m*i+T*o+t[12],e[13]=u*r+v*i+M*o+t[13],e[14]=a*r+_*i+E*o+t[14],e[15]=h*r+b*i+k*o+t[15]),e}function SGe(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function CGe(e,t,n,r){var i=r[0],o=r[1],s=r[2],u=Math.hypot(i,o,s),a,h,m,v,_,b,T,M,E,k,z,B,U,W,q,Q,te,ie,ae,re,se,be,Ie,Se;return u<ka.EPSILON?null:(u=1/u,i*=u,o*=u,s*=u,a=Math.sin(n),h=Math.cos(n),m=1-h,v=t[0],_=t[1],b=t[2],T=t[3],M=t[4],E=t[5],k=t[6],z=t[7],B=t[8],U=t[9],W=t[10],q=t[11],Q=i*i*m+h,te=o*i*m+s*a,ie=s*i*m-o*a,ae=i*o*m-s*a,re=o*o*m+h,se=s*o*m+i*a,be=i*s*m+o*a,Ie=o*s*m-i*a,Se=s*s*m+h,e[0]=v*Q+M*te+B*ie,e[1]=_*Q+E*te+U*ie,e[2]=b*Q+k*te+W*ie,e[3]=T*Q+z*te+q*ie,e[4]=v*ae+M*re+B*se,e[5]=_*ae+E*re+U*se,e[6]=b*ae+k*re+W*se,e[7]=T*ae+z*re+q*se,e[8]=v*be+M*Ie+B*Se,e[9]=_*be+E*Ie+U*Se,e[10]=b*be+k*Ie+W*Se,e[11]=T*be+z*Ie+q*Se,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function TGe(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],s=t[5],u=t[6],a=t[7],h=t[8],m=t[9],v=t[10],_=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+h*r,e[5]=s*i+m*r,e[6]=u*i+v*r,e[7]=a*i+_*r,e[8]=h*i-o*r,e[9]=m*i-s*r,e[10]=v*i-u*r,e[11]=_*i-a*r,e}function MGe(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],s=t[1],u=t[2],a=t[3],h=t[8],m=t[9],v=t[10],_=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-h*r,e[1]=s*i-m*r,e[2]=u*i-v*r,e[3]=a*i-_*r,e[8]=o*r+h*i,e[9]=s*r+m*i,e[10]=u*r+v*i,e[11]=a*r+_*i,e}function EGe(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],s=t[1],u=t[2],a=t[3],h=t[4],m=t[5],v=t[6],_=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+h*r,e[1]=s*i+m*r,e[2]=u*i+v*r,e[3]=a*i+_*r,e[4]=h*i-o*r,e[5]=m*i-s*r,e[6]=v*i-u*r,e[7]=_*i-a*r,e}function AGe(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function IGe(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function kGe(e,t,n){var r=n[0],i=n[1],o=n[2],s=Math.hypot(r,i,o),u,a,h;return s<ka.EPSILON?null:(s=1/s,r*=s,i*=s,o*=s,u=Math.sin(t),a=Math.cos(t),h=1-a,e[0]=r*r*h+a,e[1]=i*r*h+o*u,e[2]=o*r*h-i*u,e[3]=0,e[4]=r*i*h-o*u,e[5]=i*i*h+a,e[6]=o*i*h+r*u,e[7]=0,e[8]=r*o*h+i*u,e[9]=i*o*h-r*u,e[10]=o*o*h+a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function PGe(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function LGe(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function RGe(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function WJ(e,t,n){var r=t[0],i=t[1],o=t[2],s=t[3],u=r+r,a=i+i,h=o+o,m=r*u,v=r*a,_=r*h,b=i*a,T=i*h,M=o*h,E=s*u,k=s*a,z=s*h;return e[0]=1-(b+M),e[1]=v+z,e[2]=_-k,e[3]=0,e[4]=v-z,e[5]=1-(m+M),e[6]=T+E,e[7]=0,e[8]=_+k,e[9]=T-E,e[10]=1-(m+b),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function DGe(e,t){var n=new ka.ARRAY_TYPE(3),r=-t[0],i=-t[1],o=-t[2],s=t[3],u=t[4],a=t[5],h=t[6],m=t[7],v=r*r+i*i+o*o+s*s;return v>0?(n[0]=(u*s+m*r+a*o-h*i)*2/v,n[1]=(a*s+m*i+h*r-u*o)*2/v,n[2]=(h*s+m*o+u*i-a*r)*2/v):(n[0]=(u*s+m*r+a*o-h*i)*2,n[1]=(a*s+m*i+h*r-u*o)*2,n[2]=(h*s+m*o+u*i-a*r)*2),WJ(e,t,n),e}function OGe(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function qJ(e,t){var n=t[0],r=t[1],i=t[2],o=t[4],s=t[5],u=t[6],a=t[8],h=t[9],m=t[10];return e[0]=Math.hypot(n,r,i),e[1]=Math.hypot(o,s,u),e[2]=Math.hypot(a,h,m),e}function zGe(e,t){var n=new ka.ARRAY_TYPE(3);qJ(n,t);var r=1/n[0],i=1/n[1],o=1/n[2],s=t[0]*r,u=t[1]*i,a=t[2]*o,h=t[4]*r,m=t[5]*i,v=t[6]*o,_=t[8]*r,b=t[9]*i,T=t[10]*o,M=s+m+T,E=0;return M>0?(E=Math.sqrt(M+1)*2,e[3]=.25*E,e[0]=(v-b)/E,e[1]=(_-a)/E,e[2]=(u-h)/E):s>m&&s>T?(E=Math.sqrt(1+s-m-T)*2,e[3]=(v-b)/E,e[0]=.25*E,e[1]=(u+h)/E,e[2]=(_+a)/E):m>T?(E=Math.sqrt(1+m-s-T)*2,e[3]=(_-a)/E,e[0]=(u+h)/E,e[1]=.25*E,e[2]=(v+b)/E):(E=Math.sqrt(1+T-s-m)*2,e[3]=(u-h)/E,e[0]=(_+a)/E,e[1]=(v+b)/E,e[2]=.25*E),e}function BGe(e,t,n,r){var i=t[0],o=t[1],s=t[2],u=t[3],a=i+i,h=o+o,m=s+s,v=i*a,_=i*h,b=i*m,T=o*h,M=o*m,E=s*m,k=u*a,z=u*h,B=u*m,U=r[0],W=r[1],q=r[2];return e[0]=(1-(T+E))*U,e[1]=(_+B)*U,e[2]=(b-z)*U,e[3]=0,e[4]=(_-B)*W,e[5]=(1-(v+E))*W,e[6]=(M+k)*W,e[7]=0,e[8]=(b+z)*q,e[9]=(M-k)*q,e[10]=(1-(v+T))*q,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function FGe(e,t,n,r,i){var o=t[0],s=t[1],u=t[2],a=t[3],h=o+o,m=s+s,v=u+u,_=o*h,b=o*m,T=o*v,M=s*m,E=s*v,k=u*v,z=a*h,B=a*m,U=a*v,W=r[0],q=r[1],Q=r[2],te=i[0],ie=i[1],ae=i[2],re=(1-(M+k))*W,se=(b+U)*W,be=(T-B)*W,Ie=(b-U)*q,Se=(1-(_+k))*q,me=(E+z)*q,Le=(T+B)*Q,Ee=(E-z)*Q,_e=(1-(_+M))*Q;return e[0]=re,e[1]=se,e[2]=be,e[3]=0,e[4]=Ie,e[5]=Se,e[6]=me,e[7]=0,e[8]=Le,e[9]=Ee,e[10]=_e,e[11]=0,e[12]=n[0]+te-(re*te+Ie*ie+Le*ae),e[13]=n[1]+ie-(se*te+Se*ie+Ee*ae),e[14]=n[2]+ae-(be*te+me*ie+_e*ae),e[15]=1,e}function NGe(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],s=n+n,u=r+r,a=i+i,h=n*s,m=r*s,v=r*u,_=i*s,b=i*u,T=i*a,M=o*s,E=o*u,k=o*a;return e[0]=1-v-T,e[1]=m+k,e[2]=_-E,e[3]=0,e[4]=m-k,e[5]=1-h-T,e[6]=b+M,e[7]=0,e[8]=_+E,e[9]=b-M,e[10]=1-h-v,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function $Ge(e,t,n,r,i,o,s){var u=1/(n-t),a=1/(i-r),h=1/(o-s);return e[0]=o*2*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o*2*a,e[6]=0,e[7]=0,e[8]=(n+t)*u,e[9]=(i+r)*a,e[10]=(s+o)*h,e[11]=-1,e[12]=0,e[13]=0,e[14]=s*o*2*h,e[15]=0,e}function KJ(e,t,n,r,i){var o=1/Math.tan(t/2),s;return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0?(s=1/(r-i),e[10]=(i+r)*s,e[14]=2*i*r*s):(e[10]=-1,e[14]=-2*r),e}var VGe=KJ,YJ=Yr.perspective=VGe;function HGe(e,t,n,r,i){var o=1/Math.tan(t/2),s;return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0?(s=1/(r-i),e[10]=i*s,e[14]=i*r*s):(e[10]=-1,e[14]=-r),e}function UGe(e,t,n,r){var i=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),s=Math.tan(t.leftDegrees*Math.PI/180),u=Math.tan(t.rightDegrees*Math.PI/180),a=2/(s+u),h=2/(i+o);return e[0]=a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=h,e[6]=0,e[7]=0,e[8]=-((s-u)*a*.5),e[9]=(i-o)*h*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}function ZJ(e,t,n,r,i,o,s){var u=1/(t-n),a=1/(r-i),h=1/(o-s);return e[0]=-2*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*h,e[11]=0,e[12]=(t+n)*u,e[13]=(i+r)*a,e[14]=(s+o)*h,e[15]=1,e}var jGe=ZJ,XJ=Yr.ortho=jGe;function GGe(e,t,n,r,i,o,s){var u=1/(t-n),a=1/(r-i),h=1/(o-s);return e[0]=-2*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=h,e[11]=0,e[12]=(t+n)*u,e[13]=(i+r)*a,e[14]=o*h,e[15]=1,e}function WGe(e,t,n,r){var i,o,s,u,a,h,m,v,_,b,T=t[0],M=t[1],E=t[2],k=r[0],z=r[1],B=r[2],U=n[0],W=n[1],q=n[2];return Math.abs(T-U)<ka.EPSILON&&Math.abs(M-W)<ka.EPSILON&&Math.abs(E-q)<ka.EPSILON?jJ(e):(m=T-U,v=M-W,_=E-q,b=1/Math.hypot(m,v,_),m*=b,v*=b,_*=b,i=z*_-B*v,o=B*m-k*_,s=k*v-z*m,b=Math.hypot(i,o,s),b?(b=1/b,i*=b,o*=b,s*=b):(i=0,o=0,s=0),u=v*s-_*o,a=_*i-m*s,h=m*o-v*i,b=Math.hypot(u,a,h),b?(b=1/b,u*=b,a*=b,h*=b):(u=0,a=0,h=0),e[0]=i,e[1]=u,e[2]=m,e[3]=0,e[4]=o,e[5]=a,e[6]=v,e[7]=0,e[8]=s,e[9]=h,e[10]=_,e[11]=0,e[12]=-(i*T+o*M+s*E),e[13]=-(u*T+a*M+h*E),e[14]=-(m*T+v*M+_*E),e[15]=1,e)}function qGe(e,t,n,r){var i=t[0],o=t[1],s=t[2],u=r[0],a=r[1],h=r[2],m=i-n[0],v=o-n[1],_=s-n[2],b=m*m+v*v+_*_;b>0&&(b=1/Math.sqrt(b),m*=b,v*=b,_*=b);var T=a*_-h*v,M=h*m-u*_,E=u*v-a*m;return b=T*T+M*M+E*E,b>0&&(b=1/Math.sqrt(b),T*=b,M*=b,E*=b),e[0]=T,e[1]=M,e[2]=E,e[3]=0,e[4]=v*E-_*M,e[5]=_*T-m*E,e[6]=m*M-v*T,e[7]=0,e[8]=m,e[9]=v,e[10]=_,e[11]=0,e[12]=i,e[13]=o,e[14]=s,e[15]=1,e}function KGe(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function YGe(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function ZGe(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function JJ(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function XGe(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}function JGe(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e}function QGe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function eWe(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],u=e[5],a=e[6],h=e[7],m=e[8],v=e[9],_=e[10],b=e[11],T=e[12],M=e[13],E=e[14],k=e[15],z=t[0],B=t[1],U=t[2],W=t[3],q=t[4],Q=t[5],te=t[6],ie=t[7],ae=t[8],re=t[9],se=t[10],be=t[11],Ie=t[12],Se=t[13],me=t[14],Le=t[15];return Math.abs(n-z)<=ka.EPSILON*Math.max(1,Math.abs(n),Math.abs(z))&&Math.abs(r-B)<=ka.EPSILON*Math.max(1,Math.abs(r),Math.abs(B))&&Math.abs(i-U)<=ka.EPSILON*Math.max(1,Math.abs(i),Math.abs(U))&&Math.abs(o-W)<=ka.EPSILON*Math.max(1,Math.abs(o),Math.abs(W))&&Math.abs(s-q)<=ka.EPSILON*Math.max(1,Math.abs(s),Math.abs(q))&&Math.abs(u-Q)<=ka.EPSILON*Math.max(1,Math.abs(u),Math.abs(Q))&&Math.abs(a-te)<=ka.EPSILON*Math.max(1,Math.abs(a),Math.abs(te))&&Math.abs(h-ie)<=ka.EPSILON*Math.max(1,Math.abs(h),Math.abs(ie))&&Math.abs(m-ae)<=ka.EPSILON*Math.max(1,Math.abs(m),Math.abs(ae))&&Math.abs(v-re)<=ka.EPSILON*Math.max(1,Math.abs(v),Math.abs(re))&&Math.abs(_-se)<=ka.EPSILON*Math.max(1,Math.abs(_),Math.abs(se))&&Math.abs(b-be)<=ka.EPSILON*Math.max(1,Math.abs(b),Math.abs(be))&&Math.abs(T-Ie)<=ka.EPSILON*Math.max(1,Math.abs(T),Math.abs(Ie))&&Math.abs(M-Se)<=ka.EPSILON*Math.max(1,Math.abs(M),Math.abs(Se))&&Math.abs(E-me)<=ka.EPSILON*Math.max(1,Math.abs(E),Math.abs(me))&&Math.abs(k-Le)<=ka.EPSILON*Math.max(1,Math.abs(k),Math.abs(Le))}var tWe=GJ;Yr.mul=tWe;var nWe=JJ;Yr.sub=nWe;var ai={};function oS(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?oS=function(t){return typeof t}:oS=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oS(e)}Object.defineProperty(ai,"__esModule",{value:!0}),ai.create=eQ,ai.clone=aWe,ai.fromValues=oWe,ai.copy=sWe,ai.set=lWe,ai.add=uWe,ai.subtract=tQ,ai.multiply=nQ,ai.divide=rQ,ai.ceil=cWe,ai.floor=dWe,ai.min=hWe,ai.max=fWe,ai.round=pWe,ai.scale=mWe,ai.scaleAndAdd=vWe,ai.distance=iQ,ai.squaredDistance=aQ,ai.length=oQ,ai.squaredLength=sQ,ai.negate=gWe,ai.inverse=_We,ai.normalize=yWe,ai.dot=bWe,ai.cross=xWe,ai.lerp=wWe,ai.random=SWe;var rWe=ai.transformMat4=CWe;ai.transformQuat=TWe,ai.zero=MWe,ai.str=EWe,ai.exactEquals=AWe,ai.equals=IWe,ai.forEach=ai.sqrLen=ai.len=ai.sqrDist=ai.dist=ai.div=ai.mul=ai.sub=void 0;var wu=iWe(Xo);function QJ(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(QJ=function(r){return r?n:t})(e)}function iWe(e,t){if(e&&e.__esModule)return e;if(e===null||oS(e)!=="object"&&typeof e!="function")return{default:e};var n=QJ(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function eQ(){var e=new wu.ARRAY_TYPE(4);return wu.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function aWe(e){var t=new wu.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function oWe(e,t,n,r){var i=new wu.ARRAY_TYPE(4);return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function sWe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function lWe(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function uWe(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function tQ(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function nQ(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}function rQ(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e}function cWe(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function dWe(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function hWe(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e}function fWe(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e}function pWe(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function mWe(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function vWe(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e}function iQ(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return Math.hypot(n,r,i,o)}function aQ(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return n*n+r*r+i*i+o*o}function oQ(e){var t=e[0],n=e[1],r=e[2],i=e[3];return Math.hypot(t,n,r,i)}function sQ(e){var t=e[0],n=e[1],r=e[2],i=e[3];return t*t+n*n+r*r+i*i}function gWe(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function _We(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function yWe(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],s=n*n+r*r+i*i+o*o;return s>0&&(s=1/Math.sqrt(s)),e[0]=n*s,e[1]=r*s,e[2]=i*s,e[3]=o*s,e}function bWe(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function xWe(e,t,n,r){var i=n[0]*r[1]-n[1]*r[0],o=n[0]*r[2]-n[2]*r[0],s=n[0]*r[3]-n[3]*r[0],u=n[1]*r[2]-n[2]*r[1],a=n[1]*r[3]-n[3]*r[1],h=n[2]*r[3]-n[3]*r[2],m=t[0],v=t[1],_=t[2],b=t[3];return e[0]=v*h-_*a+b*u,e[1]=-(m*h)+_*s-b*o,e[2]=m*a-v*s+b*i,e[3]=-(m*u)+v*o-_*i,e}function wWe(e,t,n,r){var i=t[0],o=t[1],s=t[2],u=t[3];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=s+r*(n[2]-s),e[3]=u+r*(n[3]-u),e}function SWe(e,t){t=t||1;var n,r,i,o,s,u;do n=wu.RANDOM()*2-1,r=wu.RANDOM()*2-1,s=n*n+r*r;while(s>=1);do i=wu.RANDOM()*2-1,o=wu.RANDOM()*2-1,u=i*i+o*o;while(u>=1);var a=Math.sqrt((1-s)/u);return e[0]=t*n,e[1]=t*r,e[2]=t*i*a,e[3]=t*o*a,e}function CWe(e,t,n){var r=t[0],i=t[1],o=t[2],s=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*s,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*s,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*s,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*s,e}function TWe(e,t,n){var r=t[0],i=t[1],o=t[2],s=n[0],u=n[1],a=n[2],h=n[3],m=h*r+u*o-a*i,v=h*i+a*r-s*o,_=h*o+s*i-u*r,b=-s*r-u*i-a*o;return e[0]=m*h+b*-s+v*-a-_*-u,e[1]=v*h+b*-u+_*-s-m*-a,e[2]=_*h+b*-a+m*-u-v*-s,e[3]=t[3],e}function MWe(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}function EWe(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function AWe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function IWe(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],s=t[0],u=t[1],a=t[2],h=t[3];return Math.abs(n-s)<=wu.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(r-u)<=wu.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-a)<=wu.EPSILON*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(o-h)<=wu.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))}var kWe=tQ;ai.sub=kWe;var PWe=nQ;ai.mul=PWe;var LWe=rQ;ai.div=LWe;var RWe=iQ;ai.dist=RWe;var DWe=aQ;ai.sqrDist=DWe;var OWe=oQ;ai.len=OWe;var zWe=sQ;ai.sqrLen=zWe;var BWe=function(){var e=eQ();return function(t,n,r,i,o,s){var u,a;for(n||(n=4),r||(r=0),i?a=Math.min(i*n+r,t.length):a=t.length,u=r;u<a;u+=n)e[0]=t[u],e[1]=t[u+1],e[2]=t[u+2],e[3]=t[u+3],o(e,e,s),t[u]=e[0],t[u+1]=e[1],t[u+2]=e[2],t[u+3]=e[3];return t}}();ai.forEach=BWe;var _k;(function(e){e[e.COL0ROW0=0]="COL0ROW0",e[e.COL0ROW1=1]="COL0ROW1",e[e.COL0ROW2=2]="COL0ROW2",e[e.COL0ROW3=3]="COL0ROW3",e[e.COL1ROW0=4]="COL1ROW0",e[e.COL1ROW1=5]="COL1ROW1",e[e.COL1ROW2=6]="COL1ROW2",e[e.COL1ROW3=7]="COL1ROW3",e[e.COL2ROW0=8]="COL2ROW0",e[e.COL2ROW1=9]="COL2ROW1",e[e.COL2ROW2=10]="COL2ROW2",e[e.COL2ROW3=11]="COL2ROW3",e[e.COL3ROW0=12]="COL3ROW0",e[e.COL3ROW1=13]="COL3ROW1",e[e.COL3ROW2=14]="COL3ROW2",e[e.COL3ROW3=15]="COL3ROW3"})(_k||(_k={}));const FWe=45*Math.PI/180,NWe=1,rE=.1,iE=500,$We=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class V2 extends wje{static get IDENTITY(){return HWe()}static get ZERO(){return VWe()}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return _k}constructor(t){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),arguments.length===1&&Array.isArray(t)?this.copy(t):this.identity()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this[9]=t[9],this[10]=t[10],this[11]=t[11],this[12]=t[12],this[13]=t[13],this[14]=t[14],this[15]=t[15],this.check()}set(t,n,r,i,o,s,u,a,h,m,v,_,b,T,M,E){return this[0]=t,this[1]=n,this[2]=r,this[3]=i,this[4]=o,this[5]=s,this[6]=u,this[7]=a,this[8]=h,this[9]=m,this[10]=v,this[11]=_,this[12]=b,this[13]=T,this[14]=M,this[15]=E,this.check()}setRowMajor(t,n,r,i,o,s,u,a,h,m,v,_,b,T,M,E){return this[0]=t,this[1]=o,this[2]=h,this[3]=b,this[4]=n,this[5]=s,this[6]=m,this[7]=T,this[8]=r,this[9]=u,this[10]=v,this[11]=M,this[12]=i,this[13]=a,this[14]=_,this[15]=E,this.check()}toRowMajor(t){return t[0]=this[0],t[1]=this[4],t[2]=this[8],t[3]=this[12],t[4]=this[1],t[5]=this[5],t[6]=this[9],t[7]=this[13],t[8]=this[2],t[9]=this[6],t[10]=this[10],t[11]=this[14],t[12]=this[3],t[13]=this[7],t[14]=this[11],t[15]=this[15],t}identity(){return this.copy($We)}fromObject(t){return this.check()}fromQuaternion(t){return uGe(this,t),this.check()}frustum(t){const{left:n,right:r,bottom:i,top:o,near:s=rE,far:u=iE}=t;return u===1/0?UWe(this,n,r,i,o,s):cGe(this,n,r,i,o,s,u),this.check()}lookAt(t){const{eye:n,center:r=[0,0,0],up:i=[0,1,0]}=t;return dGe(this,n,r,i),this.check()}ortho(t){const{left:n,right:r,bottom:i,top:o,near:s=rE,far:u=iE}=t;return XJ(this,n,r,i,o,s,u),this.check()}orthographic(t){const{fovy:n=FWe,aspect:r=NWe,focalDistance:i=1,near:o=rE,far:s=iE}=t;G$(n);const u=n/2,a=i*Math.tan(u),h=a*r;return this.ortho({left:-h,right:h,bottom:-a,top:a,near:o,far:s})}perspective(t){const{fovy:n=45*Math.PI/180,aspect:r=1,near:i=.1,far:o=500}=t;return G$(n),YJ(this,n,r,i,o),this.check()}determinant(){return nGe(this)}getScale(t=[-0,-0,-0]){return t[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),t[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),t[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),t}getTranslation(t=[-0,-0,-0]){return t[0]=this[12],t[1]=this[13],t[2]=this[14],t}getRotation(t,n){t=t||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],n=n||[-0,-0,-0];const r=this.getScale(n),i=1/r[0],o=1/r[1],s=1/r[2];return t[0]=this[0]*i,t[1]=this[1]*o,t[2]=this[2]*s,t[3]=0,t[4]=this[4]*i,t[5]=this[5]*o,t[6]=this[6]*s,t[7]=0,t[8]=this[8]*i,t[9]=this[9]*o,t[10]=this[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}getRotationMatrix3(t,n){t=t||[-0,-0,-0,-0,-0,-0,-0,-0,-0],n=n||[-0,-0,-0];const r=this.getScale(n),i=1/r[0],o=1/r[1],s=1/r[2];return t[0]=this[0]*i,t[1]=this[1]*o,t[2]=this[2]*s,t[3]=this[4]*i,t[4]=this[5]*o,t[5]=this[6]*s,t[6]=this[8]*i,t[7]=this[9]*o,t[8]=this[10]*s,t}transpose(){return eGe(this,this),this.check()}invert(){return tGe(this,this),this.check()}multiplyLeft(t){return j$(this,t,this),this.check()}multiplyRight(t){return j$(this,this,t),this.check()}rotateX(t){return oGe(this,this,t),this.check()}rotateY(t){return sGe(this,this,t),this.check()}rotateZ(t){return lGe(this,this,t),this.check()}rotateXYZ(t){return this.rotateX(t[0]).rotateY(t[1]).rotateZ(t[2])}rotateAxis(t,n){return aGe(this,this,t,n),this.check()}scale(t){return iGe(this,this,Array.isArray(t)?t:[t,t,t]),this.check()}translate(t){return rGe(this,this,t),this.check()}transform(t,n){return t.length===4?(n=rWe(n||[-0,-0,-0,-0],t,this),nE(n,4),n):this.transformAsPoint(t,n)}transformAsPoint(t,n){const{length:r}=t;let i;switch(r){case 2:i=KHe(n||[-0,-0],t,this);break;case 3:i=OUe(n||[-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return nE(i,t.length),i}transformAsVector(t,n){let r;switch(t.length){case 2:r=RUe(n||[-0,-0],t,this);break;case 3:r=DUe(n||[-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return nE(r,t.length),r}transformPoint(t,n){return this.transformAsPoint(t,n)}transformVector(t,n){return this.transformAsPoint(t,n)}transformDirection(t,n){return this.transformAsVector(t,n)}makeRotationX(t){return this.identity().rotateX(t)}makeTranslation(t,n,r){return this.identity().translate([t,n,r])}}let H6,U6;function VWe(){return H6||(H6=new V2([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(H6)),H6}function HWe(){return U6||(U6=new V2,Object.freeze(U6)),U6}function G$(e){if(e>Math.PI*2)throw Error("expected radians")}function UWe(e,t,n,r,i,o){const s=2*o/(n-t),u=2*o/(i-r),a=(n+t)/(n-t),h=(i+r)/(i-r),m=-1,v=-1,_=-2*o;return e[0]=s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=a,e[9]=h,e[10]=m,e[11]=v,e[12]=0,e[13]=0,e[14]=_,e[15]=0,e}var Hr={};function sS(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sS=function(t){return typeof t}:sS=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sS(e)}Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.create=yk,Hr.identity=GWe,Hr.setAxisAngle=uQ,Hr.getAxisAngle=WWe,Hr.getAngle=qWe,Hr.multiply=cQ,Hr.rotateX=KWe,Hr.rotateY=YWe,Hr.rotateZ=ZWe,Hr.calculateW=XWe,Hr.exp=dQ,Hr.ln=hQ,Hr.pow=JWe,Hr.slerp=lS,Hr.random=QWe,Hr.invert=eqe,Hr.conjugate=tqe,Hr.fromMat3=fQ,Hr.fromEuler=nqe,Hr.str=rqe,Hr.setAxes=Hr.sqlerp=Hr.rotationTo=Hr.equals=Hr.exactEquals=Hr.normalize=Hr.sqrLen=Hr.squaredLength=Hr.len=Hr.length=Hr.lerp=Hr.dot=Hr.scale=Hr.mul=Hr.add=Hr.set=Hr.copy=Hr.fromValues=Hr.clone=void 0;var a0=F8(Xo),jWe=F8(qi),$d=F8(Gr),Gl=F8(ai);function lQ(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(lQ=function(r){return r?n:t})(e)}function F8(e,t){if(e&&e.__esModule)return e;if(e===null||sS(e)!=="object"&&typeof e!="function")return{default:e};var n=lQ(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function yk(){var e=new a0.ARRAY_TYPE(4);return a0.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function GWe(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function uQ(e,t,n){n=n*.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function WWe(e,t){var n=Math.acos(t[3])*2,r=Math.sin(n/2);return r>a0.EPSILON?(e[0]=t[0]/r,e[1]=t[1]/r,e[2]=t[2]/r):(e[0]=1,e[1]=0,e[2]=0),n}function qWe(e,t){var n=mQ(e,t);return Math.acos(2*n*n-1)}function cQ(e,t,n){var r=t[0],i=t[1],o=t[2],s=t[3],u=n[0],a=n[1],h=n[2],m=n[3];return e[0]=r*m+s*u+i*h-o*a,e[1]=i*m+s*a+o*u-r*h,e[2]=o*m+s*h+r*a-i*u,e[3]=s*m-r*u-i*a-o*h,e}function KWe(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],s=t[3],u=Math.sin(n),a=Math.cos(n);return e[0]=r*a+s*u,e[1]=i*a+o*u,e[2]=o*a-i*u,e[3]=s*a-r*u,e}function YWe(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],s=t[3],u=Math.sin(n),a=Math.cos(n);return e[0]=r*a-o*u,e[1]=i*a+s*u,e[2]=o*a+r*u,e[3]=s*a-i*u,e}function ZWe(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],s=t[3],u=Math.sin(n),a=Math.cos(n);return e[0]=r*a+i*u,e[1]=i*a-r*u,e[2]=o*a+s*u,e[3]=s*a-o*u,e}function XWe(e,t){var n=t[0],r=t[1],i=t[2];return e[0]=n,e[1]=r,e[2]=i,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),e}function dQ(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],s=Math.sqrt(n*n+r*r+i*i),u=Math.exp(o),a=s>0?u*Math.sin(s)/s:0;return e[0]=n*a,e[1]=r*a,e[2]=i*a,e[3]=u*Math.cos(s),e}function hQ(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],s=Math.sqrt(n*n+r*r+i*i),u=s>0?Math.atan2(s,o)/s:0;return e[0]=n*u,e[1]=r*u,e[2]=i*u,e[3]=.5*Math.log(n*n+r*r+i*i+o*o),e}function JWe(e,t,n){return hQ(e,t),pQ(e,e,n),dQ(e,e),e}function lS(e,t,n,r){var i=t[0],o=t[1],s=t[2],u=t[3],a=n[0],h=n[1],m=n[2],v=n[3],_,b,T,M,E;return b=i*a+o*h+s*m+u*v,b<0&&(b=-b,a=-a,h=-h,m=-m,v=-v),1-b>a0.EPSILON?(_=Math.acos(b),T=Math.sin(_),M=Math.sin((1-r)*_)/T,E=Math.sin(r*_)/T):(M=1-r,E=r),e[0]=M*i+E*a,e[1]=M*o+E*h,e[2]=M*s+E*m,e[3]=M*u+E*v,e}function QWe(e){var t=a0.RANDOM(),n=a0.RANDOM(),r=a0.RANDOM(),i=Math.sqrt(1-t),o=Math.sqrt(t);return e[0]=i*Math.sin(2*Math.PI*n),e[1]=i*Math.cos(2*Math.PI*n),e[2]=o*Math.sin(2*Math.PI*r),e[3]=o*Math.cos(2*Math.PI*r),e}function eqe(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],s=n*n+r*r+i*i+o*o,u=s?1/s:0;return e[0]=-n*u,e[1]=-r*u,e[2]=-i*u,e[3]=o*u,e}function tqe(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function fQ(e,t){var n=t[0]+t[4]+t[8],r;if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[i*3+i]&&(i=2);var o=(i+1)%3,s=(i+2)%3;r=Math.sqrt(t[i*3+i]-t[o*3+o]-t[s*3+s]+1),e[i]=.5*r,r=.5/r,e[3]=(t[o*3+s]-t[s*3+o])*r,e[o]=(t[o*3+i]+t[i*3+o])*r,e[s]=(t[s*3+i]+t[i*3+s])*r}return e}function nqe(e,t,n,r){var i=.5*Math.PI/180;t*=i,n*=i,r*=i;var o=Math.sin(t),s=Math.cos(t),u=Math.sin(n),a=Math.cos(n),h=Math.sin(r),m=Math.cos(r);return e[0]=o*a*m-s*u*h,e[1]=s*u*m+o*a*h,e[2]=s*a*h-o*u*m,e[3]=s*a*m+o*u*h,e}function rqe(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}var iqe=Gl.clone;Hr.clone=iqe;var aqe=Gl.fromValues;Hr.fromValues=aqe;var oqe=Gl.copy;Hr.copy=oqe;var sqe=Gl.set;Hr.set=sqe;var lqe=Gl.add;Hr.add=lqe;var uqe=cQ;Hr.mul=uqe;var pQ=Gl.scale;Hr.scale=pQ;var mQ=Gl.dot;Hr.dot=mQ;var cqe=Gl.lerp;Hr.lerp=cqe;var vQ=Gl.length;Hr.length=vQ;var dqe=vQ;Hr.len=dqe;var gQ=Gl.squaredLength;Hr.squaredLength=gQ;var hqe=gQ;Hr.sqrLen=hqe;var KR=Gl.normalize;Hr.normalize=KR;var fqe=Gl.exactEquals;Hr.exactEquals=fqe;var pqe=Gl.equals;Hr.equals=pqe;var mqe=function(){var e=$d.create(),t=$d.fromValues(1,0,0),n=$d.fromValues(0,1,0);return function(r,i,o){var s=$d.dot(i,o);return s<-.999999?($d.cross(e,t,i),$d.len(e)<1e-6&&$d.cross(e,n,i),$d.normalize(e,e),uQ(r,e,Math.PI),r):s>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):($d.cross(e,i,o),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+s,KR(r,r))}}();Hr.rotationTo=mqe;var vqe=function(){var e=yk(),t=yk();return function(n,r,i,o,s,u){return lS(e,r,s,u),lS(t,i,o,u),lS(n,e,t,2*u*(1-u)),n}}();Hr.sqlerp=vqe;var gqe=function(){var e=jWe.create();return function(t,n,r,i){return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=i[0],e[4]=i[1],e[7]=i[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],KR(t,fQ(t,e))}}();Hr.setAxes=gqe;var W$;(function(e){e[e.ZYX=0]="ZYX",e[e.YXZ=1]="YXZ",e[e.XZY=2]="XZY",e[e.ZXY=3]="ZXY",e[e.YZX=4]="YZX",e[e.XYZ=5]="XYZ"})(W$||(W$={}));const no=3.141592653589793,lC=6378245,uC=.006693421622965943,cC=no*3e3/180;function Y1(e,t,n){const r=no/180*t,i=Math.pow(2,n),o=Math.floor((e+180)/360*i),s=Math.floor((1-Math.asinh(Math.tan(r))/no)/2*i);return[o,s]}function q$(e,t,n){const r=Math.pow(2,n),i=e/r*360-180,o=Math.atan(Math.sinh(no*(1-2*t/r)))*180/no;return[i,o]}function _qe(e,t){let n=_Q(e-105,t-35),r=yQ(e-105,t-35);const i=t/180*no;let o=Math.sin(i);o=1-uC*o*o;const s=Math.sqrt(o);n=n*180/(lC*(1-uC)/(o*s)*no),r=r*180/(lC/s*Math.cos(i)*no);const u=t+n;return{lng:e+r,lat:u}}function K$(e,t){const n=bqe(e,t),r=e*2-n.lng,i=t*2-n.lat;return{lng:r,lat:i}}function Y$(e,t){const n=Math.sqrt(e*e+t*t)+2e-5*Math.sin(t*cC),r=Math.atan2(t,e)+3e-6*Math.cos(e*cC),i=n*Math.cos(r)+.0065,o=n*Math.sin(r)+.006;return{lng:i,lat:o}}function yqe(e,t){const n=e-.0065,r=t-.006,i=Math.sqrt(n*n+r*r)-2e-5*Math.sin(r*cC),o=Math.atan2(r,n)-3e-6*Math.cos(n*cC),s=i*Math.cos(o),u=i*Math.sin(o);return{lng:s,lat:u}}function bqe(e,t){let n=_Q(e-105,t-35),r=yQ(e-105,t-35);const i=t/180*no;let o=Math.sin(i);o=1-uC*o*o;const s=Math.sqrt(o);n=n*180/(lC*(1-uC)/(o*s)*no),r=r*180/(lC/s*Math.cos(i)*no);const u=t+n;return{lng:e+r,lat:u}}function _Q(e,t){let n=-100+2*e+3*t+.2*t*t+.1*e*t+.2*Math.sqrt(Math.abs(e));return n+=(20*Math.sin(6*e*no)+20*Math.sin(2*e*no))*2/3,n+=(20*Math.sin(t*no)+40*Math.sin(t/3*no))*2/3,n+=(160*Math.sin(t/12*no)+320*Math.sin(t*no/30))*2/3,n}function yQ(e,t){let n=300+e+2*t+.1*e*e+.1*e*t+.1*Math.sqrt(Math.abs(e));return n+=(20*Math.sin(6*e*no)+20*Math.sin(2*e*no))*2/3,n+=(20*Math.sin(e*no)+40*Math.sin(e/3*no))*2/3,n+=(150*Math.sin(e/12*no)+300*Math.sin(e/30*no))*2/3,n}function Z$(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function xqe(e,t){for(var n in t)e[n]=t[n]}function X$(e){return typeof e=="string"}var J$=void 0,j6=null;function cu(e,t){isNaN(e)&&(e=Ib(e),e=isNaN(e)?0:e),X$(e)&&(e=parseFloat(e)),isNaN(t)&&(t=Ib(t),t=isNaN(t)?0:t),X$(t)&&(t=parseFloat(t)),this.lng=e,this.lat=t}cu.TL=function(e){return e&&180>=e.lng&&-180<=e.lng&&74>=e.lat&&-74<=e.lat},cu.prototype.lb=function(e){return e&&this.lat==e.lat&&this.lng==e.lng};function dC(e,t){this.x=e||0,this.y=t||0,this.x=this.x,this.y=this.y}dC.prototype.lb=function(e){return e&&e.x==this.x&&e.y==this.y};function bk(){}bk.prototype.nh=function(){aa("lngLatToPoint")},bk.prototype.wi=function(){aa("pointToLngLat")};function Gd(){}Gd.prototype=new bk,Z$(Gd,{$O:637099681e-2,lG:[1289059486e-2,836237787e-2,5591021,348198983e-2,167804312e-2,0],Au:[75,60,45,30,15,0],fP:[[1410526172116255e-23,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,173379812e-1],[-7435856389565537e-24,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,1026014486e-2],[-3030883460898826e-23,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,685681737e-2],[-1981981304930552e-23,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,448277706e-2],[309191371068437e-23,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,25551644e-1],[2890871144776878e-24,8983055095805407e-21,-3068298e-14,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],iG:[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[.0008277824516172526,111320.7020463578,6477955746671607e-7,-4082003173641316e-6,1077490566351142e-5,-1517187553151559e-5,1205306533862167e-5,-5124939663577472e-6,9133119359512032e-7,67.5],[.00337398766765,111320.7020202162,4481351045890365e-9,-2339375119931662e-8,7968221547186455e-8,-1159649932797253e-7,9723671115602145e-8,-4366194633752821e-8,8477230501135234e-9,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837749470245e-9,992013.7397791013,-122195221711287e-8,1340652697009075e-9,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758690035394e-9,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]],Z1:function(i,t){if(!i||!t)return 0;var n,r,i=this.Fb(i);return i?(n=this.Tk(i.lng),r=this.Tk(i.lat),t=this.Fb(t),t?this.Pe(n,this.Tk(t.lng),r,this.Tk(t.lat)):0):0},Vo:function(e,t){return!e||!t?0:(e.lng=this.JD(e.lng,-180,180),e.lat=this.ND(e.lat,-74,74),t.lng=this.JD(t.lng,-180,180),t.lat=this.ND(t.lat,-74,74),this.Pe(this.Tk(e.lng),this.Tk(t.lng),this.Tk(e.lat),this.Tk(t.lat)))},Fb:function(e){if(e===j6||e===J$)return new cu(0,0);var t,n;t=new cu(Math.abs(e.lng),Math.abs(e.lat));for(var r=0;r<this.lG.length;r++)if(t.lat>=this.lG[r]){n=this.fP[r];break}return e=this.gK(e,n),e=new cu(e.lng.toFixed(6),e.lat.toFixed(6))},Eb:function(e){if(e===j6||e===J$||180<e.lng||-180>e.lng||90<e.lat||-90>e.lat)return new cu(0,0);var t,n;e.lng=this.JD(e.lng,-180,180),e.lat=this.ND(e.lat,-74,74),t=new cu(e.lng,e.lat);for(var r=0;r<this.Au.length;r++)if(t.lat>=this.Au[r]){n=this.iG[r];break}if(!n){for(r=0;r<this.Au.length;r++)if(t.lat<=-this.Au[r]){n=this.iG[r];break}}return e=this.gK(e,n),e=new cu(e.lng.toFixed(2),e.lat.toFixed(2))},gK:function(e,t){if(e&&t){var n=t[0]+t[1]*Math.abs(e.lng),r=Math.abs(e.lat)/t[9],r=t[2]+t[3]*r+t[4]*r*r+t[5]*r*r*r+t[6]*r*r*r*r+t[7]*r*r*r*r*r+t[8]*r*r*r*r*r*r,n=n*(0>e.lng?-1:1),r=r*(0>e.lat?-1:1);return new cu(n,r)}},Pe:function(e,t,n,r){return this.$O*Math.acos(Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos(t-e))},Tk:function(e){return Math.PI*e/180},Z3:function(e){return 180*e/Math.PI},ND:function(e,t,n){return t!=j6&&(e=Math.max(e,t)),n!=j6&&(e=Math.min(e,n)),e},JD:function(e,t,n){for(;e>n;)e-=n-t;for(;e<t;)e+=n-t;return e}}),Z$(Gd.prototype,{Jm:function(e){return Gd.Eb(e)},nh:function(e){return e=Gd.Eb(e),new dC(e.lng,e.lat)},qh:function(e){return Gd.Fb(e)},wi:function(e){return e=new cu(e.x,e.y),Gd.Fb(e)},fc:function(e,t,n,r,i){if(e)return e=this.Jm(e,i),t=this.Lc(t),new dC(Math.round((e.lng-n.lng)/t+r.width/2),Math.round((n.lat-e.lat)/t+r.height/2))},zb:function(e,t,n,r,i){if(e)return t=this.Lc(t),this.qh(new cu(n.lng+t*(e.x-r.width/2),n.lat-t*(e.y-r.height/2)),i)},Lc:function(e){return Math.pow(2,18-e)}});var aE=Gd.prototype;xqe(aE,{lngLatToPoint:aE.nh,pointToLngLat:aE.wi});let oE={Point:cu,Pixel:dC,MercatorProjection:Gd};class wqe{constructor(t,n){this.projection=new oE.MercatorProjection,this.levelMax=t,this.levelMin=n}_getRetain(t){return Math.pow(2,t-18)}getResolution(t,n){return Math.pow(2,18-n)*Math.cos(t)}lnglatToPoint(t,n){let r=new oE.Point(t,n),i=this.projection.lngLatToPoint(r);return{pointX:i.x,pointY:i.y}}pointToLnglat(t,n){let r=new oE.Pixel(t,n),i=this.projection.pointToLngLat(r);return{lng:i.lng,lat:i.lat}}_lngToTileX(t,n){let r=this.lnglatToPoint(t,0);return Math.floor(r.pointX*this._getRetain(n)/256)}_latToTileY(t,n){let r=this.lnglatToPoint(0,t);return Math.floor(r.pointY*this._getRetain(n)/256)}lnglatToTile(t,n,r){let i=this._lngToTileX(t,r),o=this._latToTileY(n,r);return[i,o]}_lngToPixelX(t,n){let r=this._lngToTileX(t,n),i=this.lnglatToPoint(t,0);return Math.floor(i.pointX*this._getRetain(n)-r*256)}_latToPixelY(t,n){let r=this._latToTileY(t,n),i=this.lnglatToPoint(0,t);return Math.floor(i.pointY*this._getRetain(n)-r*256)}lnglatToPixel(t,n,r){let i=this._lngToPixelX(t,r),o=this._latToPixelY(n,r);return{pixelX:i,pixelY:o}}_pixelXToLng(t,n,r){let i=(n*256+t)/this._getRetain(r);return this.pointToLnglat(i,0).lng}_pixelYToLat(t,n,r){let i=(n*256+t)/this._getRetain(r);return this.pointToLnglat(0,i).lat}pixelToLnglat(t,n,r,i,o){let s=(r*256+t)/this._getRetain(o),u=(i*256+n)/this._getRetain(o),a=this.pointToLnglat(s,u);return[a.lng,a.lat]}}Object.freeze=function(e){return e};var Sqe=/\{ *([\w_-]+) *\}/g;function Cqe(e,t){return e.replace(Sqe,function(n,r){let i=t[r];if(i===void 0)throw new Error(`No value provided for variable ${n}`);return typeof i=="function"&&(i=i(t)),i})}class Tqe{constructor(t,n){if(this.program=null,this.showTiles=[],this.isReadRender=!1,this.isLayerShow=!1,this.tileCache=[],this.gridCache={},this.transformBaidu=new wqe,this.maskCache=[],this._projectionMatrix=new V2,this._viewMatrix4=new V2,this._mvpMatrix4=new V2,this.isOrtho=!1,!t)throw new Error("");this.validate(n),this.map=t,this.center=t.getCenter().toArray(),this.options=Object.assign(this.getDefaultGlLayerOptions(),n),this.customCoords=t.customCoords,this.customCoords.lngLatsToCoords([this.center]),this.layer=new AMap.GLCustomLayer({zooms:this.options.zooms,opacity:this.options.opacity,visible:this.options.visible,zIndex:this.options.zIndex,init:r=>{this.gl=r;const i=`
                    uniform mat4 u_ProjectionMatrix;
                    uniform mat4 u_ViewMatrix4;
                    uniform mat4 u_MvpMatrix4;
                    uniform bool u_isOrtho;
                    attribute vec2 a_pos;
                    attribute vec2 a_TextCoord;
                    varying vec2 v_TextCoord;
                    void main() {
                       if(u_isOrtho){
                         gl_Position = u_MvpMatrix4 * vec4(a_pos,0.0, 1.0);
                       }else{
                         gl_Position = u_ProjectionMatrix * u_ViewMatrix4 * vec4(a_pos,0.0, 1.0);
                       }
                       v_TextCoord = a_TextCoord;
                    }`,o=`
                    precision mediump float;
                    uniform sampler2D u_Sampler;
                    uniform bool u_isFirst;
                    varying vec2 v_TextCoord;
                    void main() {
                       if(u_isFirst){
                         gl_FragColor = vec4(1.0, 0.0, 0.0, 0.0);
                       }else{
                         gl_FragColor = texture2D(u_Sampler, v_TextCoord);
                       }
                    }`,s=r.createShader(r.VERTEX_SHADER);r.shaderSource(s,i),r.compileShader(s);const u=r.createShader(r.FRAGMENT_SHADER);r.shaderSource(u,o),r.compileShader(u),this.program=r.createProgram(),r.attachShader(this.program,s),r.attachShader(this.program,u),r.linkProgram(this.program),this.a_Pos=r.getAttribLocation(this.program,"a_pos"),this.a_TextCoord=r.getAttribLocation(this.program,"a_TextCoord");const a="uniform mat4 u_ProjectionMatrix;uniform mat4 u_ViewMatrix4;uniform mat4 u_MvpMatrix4;uniform bool u_isOrtho;attribute vec2 a_pos;void main() {   if(u_isOrtho){     gl_Position = u_MvpMatrix4 * vec4(a_pos,0.0, 1.0);   }else{     gl_Position = u_ProjectionMatrix * u_ViewMatrix4 * vec4(a_pos,0.0, 1.0);   }}",h="void main() {    gl_FragColor = vec4(0.0, 1.0, 0.0, 0.0);}",m=r.createShader(r.VERTEX_SHADER);r.shaderSource(m,a),r.compileShader(m);const v=r.createShader(r.FRAGMENT_SHADER);r.shaderSource(v,h),r.compileShader(v),this.maskProgram=r.createProgram(),r.attachShader(this.maskProgram,m),r.attachShader(this.maskProgram,v),r.linkProgram(this.maskProgram),this.mask_Pos=r.getAttribLocation(this.maskProgram,"a_pos"),this.options.visible&&(this.isLayerShow=!0),this.mapCallback=()=>{this.isLayerShow&&this.update()},t.on("dragging",this.mapCallback),t.on("moveend",this.mapCallback),t.on("zoomchange",this.mapCallback),t.on("rotatechange",this.mapCallback),this._createMask(this.options.mask),this.update()},render:r=>{if(!this.isReadRender)return;const i=this.options.zooms;if(!(this.map.getZoom()<i[0]||this.map.getZoom()>i[1])){if(this.customCoords.setCenter(this.center),t.getView().type==="3D"){this.isOrtho=!1;const{near:o,far:s,fov:u,up:a,lookAt:h,position:m}=this.customCoords.getCameraParams();this._viewMatrix4.lookAt({eye:m,center:h,up:a}).translate([0,0,this.options.altitude]),this._projectionMatrix.perspective({fovy:u*Math.PI/180,far:s,near:o,aspect:r.drawingBufferWidth/r.drawingBufferHeight})}else{this.isOrtho=!0;const o=this.customCoords.getMVPMatrix();this._mvpMatrix4.copy(o)}this.maskCache.length>0?(r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST),r.stencilFunc(r.ALWAYS,1,255),r.stencilOp(r.KEEP,r.KEEP,r.REPLACE),this._renderMask(r),r.stencilFunc(r.EQUAL,1,255),r.stencilOp(r.KEEP,r.KEEP,r.KEEP),r.disable(r.DEPTH_TEST),this._renderTile(r),r.enable(r.DEPTH_TEST),r.disable(r.STENCIL_TEST)):this._renderTile(r)}}}),t.add(this.layer)}_renderMask(t){if(this.maskCache.length){this.customCoords.setCenter(this.center),t.useProgram(this.maskProgram),this.setVertex(t,this.maskProgram);for(const n of this.maskCache)t.bindBuffer(t.ARRAY_BUFFER,n.vertexBuffer),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.indexBuffer),t.vertexAttribPointer(this.mask_Pos,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(this.mask_Pos),t.drawElements(t.TRIANGLES,n.deviationLength,t.UNSIGNED_INT,0)}}_renderTile(t){var n,r,i,o,s,u;this.customCoords.setCenter(this.center),t.useProgram(this.program),this.setVertex(t,this.program);let a=0;for(const h of this.showTiles){if(!h.isLoad||h.imageError)continue;t.bindTexture(t.TEXTURE_2D,h.texture),t.activeTexture(t.TEXTURE0),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT);const m=t.getUniformLocation(this.program,"u_Sampler");t.uniform1i(m,0),t.uniform1f(t.getUniformLocation(this.program,"u_isFirst"),a===0),t.bindBuffer(t.ARRAY_BUFFER,h.buffer),t.vertexAttribPointer(this.a_Pos,(n=h.PosParam)===null||n===void 0?void 0:n.size,t.FLOAT,!1,(r=h.PosParam)===null||r===void 0?void 0:r.stride,(i=h.PosParam)===null||i===void 0?void 0:i.offset),t.vertexAttribPointer(this.a_TextCoord,(o=h.TextCoordParam)===null||o===void 0?void 0:o.size,t.FLOAT,!1,(s=h.TextCoordParam)===null||s===void 0?void 0:s.stride,(u=h.TextCoordParam)===null||u===void 0?void 0:u.offset),t.enableVertexAttribArray(this.a_Pos),t.enableVertexAttribArray(this.a_TextCoord),t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.drawArrays(t.TRIANGLE_STRIP,0,4),a++}}validate(t){if(!t.url)throw new Error("url");if(t.url.includes("{s}")&&(!t.subdomains||t.subdomains.length===0))throw new Error("subdomains")}getDefaultGlLayerOptions(){return{url:"",zooms:[2,18],opacity:1,visible:!0,zIndex:120,proj:"gcj02",tileType:"xyz",debug:!1,cacheSize:512,tileMaxZoom:18,altitude:0}}_createMask(t){if(!t||t.length===0){this.maskCache=[];return}const n=this.getMaskDeep(t);if(n<2||n>4){console.warn("mask");return}n===2?t=[[t]]:n===3&&(t=[t]);for(let r of t){r=this._convertMaskLnglatToCoords(r);const i=oC.exports.flatten(r),o=oC.exports(i.vertices,i.holes,i.dimensions),s=this.gl,u=new Float32Array(i.vertices),a=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,a),s.bufferData(s.ARRAY_BUFFER,u,s.STATIC_DRAW),s.bindBuffer(s.ARRAY_BUFFER,null);const h=s.createBuffer();s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,h),s.bufferData(s.ELEMENT_ARRAY_BUFFER,new Uint32Array(o),s.STATIC_DRAW),s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,null),this.maskCache.push({FSIZE:u.BYTES_PER_ELEMENT,vertexBuffer:a,indexBuffer:h,deviationLength:o.length})}}getMaskDeep(t,n=1){return t.length?typeof t[0]=="number"?n:this.getMaskDeep(t[0],n+1):-1}_convertMaskLnglatToCoords(t){return!t||t.length===0?t:typeof t[0]=="number"?this._convertLnglatToCoords([t[0],t[1]]):t.map(n=>this._convertMaskLnglatToCoords(n))}_convertLnglatToCoords(t){return this.customCoords.setCenter(this.center),this.customCoords.lngLatsToCoords([t])[0]}update(){if(!this.gl)return;this.isReadRender=!1;const t=this.gl,n=this.map,r=n.getCenter();let i=Math.ceil(n.getZoom());i>this.options.tileMaxZoom&&(i=this.options.tileMaxZoom);const o=n.getBounds();let s,u,a,h;if(this.options.tileType==="xyz"?(a=o.getNorthWest().toArray(),h=o.getSouthEast().toArray()):(a=o.getSouthWest().toArray(),h=o.getNorthEast().toArray()),this.options.proj==="wgs84"){const _=K$(...a),b=K$(...h);s=Y1(_.lng,_.lat,i),u=Y1(b.lng,b.lat,i)}else if(this.options.proj==="bd09"){const _=Y$(...a),b=Y$(...h);s=this.transformBaidu.lnglatToTile(_.lng,_.lat,i),u=this.transformBaidu.lnglatToTile(b.lng,b.lat,i)}else s=Y1(a[0],a[1],i),u=Y1(h[0],h[1],i);const m=[];for(let _=s[0];_<=u[0];_++)for(let b=s[1];b<=u[1];b++){const T={x:_,y:b,z:i};m.push(T),this.addGridCache(T,0,0),_===u[0]&&this.addGridCache(T,1,0),b===u[1]&&this.addGridCache(T,0,1),_===u[0]&&b===u[1]&&this.addGridCache(T,1,1)}let v;this.options.tileType==="xyz"?v=Y1(r.getLng(),r.getLat(),i):v=this.transformBaidu.lnglatToTile(r.getLng(),r.getLat(),i),m.sort((_,b)=>this.tileDistance(_,v)-this.tileDistance(b,v)),this._cancelOutViewImage(m),this._clearShowTile();for(const _ of m){const b=this.createTileKey(_),T=this.getTileCache(b);if(T){if(T.imageError)continue;!T.isLoad&&T.image&&T.imageCanceled&&(T.image.src=T.url,T.imageCanceled=!1),this.showTiles.push(T)}else{const M=this.createTile(t,_);this.showTiles.push(M),this.pushTileCache(M)}}this.showTiles.length>0&&this.showTiles.unshift(this.showTiles[0]),this.isReadRender=!0}_cancelOutViewImage(t){this.tileCache.forEach(n=>{t.findIndex(r=>this.createTileKey(r)===n.xyzKey)===-1&&!n.isLoad&&n.image&&(n.image.src="",n.imageCanceled=!0)})}getTileCache(t){return this.tileCache.find(n=>n.xyzKey===t)}pushTileCache(t){const n=this.options.cacheSize;n>0&&this.tileCache.length>=n&&(this.showTiles.findIndex(r=>r.xyzKey===this.tileCache[0].xyzKey)<0&&this._destroyTile(this.tileCache[0]),this.tileCache.splice(0,1)),this.tileCache.push(t)}addGridCache(t,n,r){const i=this.createTileKey(t.x+n,t.y+r,t.z);if(!this.gridCache[i])if(this.options.proj==="wgs84"){const o=_qe(...q$(t.x+n,t.y+r,t.z)),s=this._convertLnglatToCoords([o.lng,o.lat]);this.gridCache[i]={lng:s[0],lat:s[1]}}else if(this.options.tileType==="bd09"){const o=yqe(...this.transformBaidu.pixelToLnglat(0,0,t.x+n,t.y+r,t.z)),s=this._convertLnglatToCoords([o.lng,o.lat]);this.gridCache[i]={lng:s[0],lat:s[1]}}else{const o=this._convertLnglatToCoords(q$(t.x+n,t.y+r,t.z));this.gridCache[i]={lng:o[0],lat:o[1]}}}tileDistance(t,n){return Math.sqrt(Math.pow(t.x-n[0],2)+Math.pow(t.y-n[1],2))}createTileKey(t,n,r){return t instanceof Object?`${t.z}/${t.x}/${t.y}`:`${r}/${t}/${n}`}deepFormatTileNumber(t,n){return t>=0&&t<n?t:(t>0&&t>=n?t=t-n:t<0&&(t=t+n),this.deepFormatTileNumber(t,n))}createTile(t,n){let r=Math.ceil(this.map.getZoom());r>this.options.tileMaxZoom&&(r=this.options.tileMaxZoom);const i=Math.pow(2,r);let o=n.x,s=n.y;o=this.deepFormatTileNumber(o,i),s=this.deepFormatTileNumber(s,i);const u={x:o,y:s,z:n.z};this.options.subdomains&&(u.s=this.options.subdomains[Math.abs(n.x+n.y)%this.options.subdomains.length]);const a=Cqe(this.options.url,u),h={xyz:n,xyzKey:this.createTileKey(n),isLoad:!1,url:a,imageCanceled:!1};let m,v,_,b;this.options.tileType==="xyz"?(m=this.gridCache[this.createTileKey(n)],v=this.gridCache[this.createTileKey(n.x+1,n.y,n.z)],_=this.gridCache[this.createTileKey(n.x,n.y+1,n.z)],b=this.gridCache[this.createTileKey(n.x+1,n.y+1,n.z)]):(m=this.gridCache[this.createTileKey(n.x,n.y+1,n.z)],v=this.gridCache[this.createTileKey(n.x+1,n.y+1,n.z)],_=this.gridCache[this.createTileKey(n)],b=this.gridCache[this.createTileKey(n.x+1,n.y,n.z)]);const T=new Float32Array([m.lng,m.lat,0,1,_.lng,_.lat,0,0,v.lng,v.lat,1,1,b.lng,b.lat,1,0]),M=T.BYTES_PER_ELEMENT,E=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,E),t.bufferData(t.ARRAY_BUFFER,T,t.STATIC_DRAW),h.buffer=E,h.PosParam={size:2,stride:M*4,offset:0},h.TextCoordParam={size:2,stride:M*4,offset:M*2};const k=new Image(256,256);return k.onload=()=>{if(h.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,h.texture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,1),this.options.debug){const z=document.createElement("canvas");z.width=256,z.height=256;const B=z.getContext("2d");B.drawImage(k,0,0),B.font="25px Verdana",B.fillStyle="#ff0000",B.strokeStyle="#FF0000",B.strokeRect(0,0,256,256),B.fillText(`(${[n.x,n.y,n.z].join(",")})`,10,30),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,z)}else t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,k);h.isLoad=!0,this.showTiles.findIndex(z=>z===h)>=0&&this.map.render()},k.onerror=()=>{h.imageCanceled||(h.imageError=!0)},k.crossOrigin="anonymous",k.src=a,h.image=k,h}setVertex(t,n){t.uniformMatrix4fv(t.getUniformLocation(n,"u_ProjectionMatrix"),!1,this._projectionMatrix.toArray()),t.uniformMatrix4fv(t.getUniformLocation(n,"u_ViewMatrix4"),!1,this._viewMatrix4.toArray()),t.uniformMatrix4fv(t.getUniformLocation(n,"u_MvpMatrix4"),!1,this._mvpMatrix4.toArray()),t.uniform1f(t.getUniformLocation(n,"u_isOrtho"),this.isOrtho)}show(){this.isLayerShow=!0,this.update(),this.layer.show()}hide(){this.isLayerShow=!1,this.layer.hide()}getzIndex(){return this.layer.getzIndex()}setzIndex(t){this.options.zIndex=t,this.layer.setzIndex(t)}getOpacity(){return this.layer.getOpacity()}setOpacity(t){this.options.opacity=t,this.layer.setOpacity(t)}getZooms(){return this.layer.getZooms()}setZooms(t){this.options.zooms=t,this.layer.setZooms(t)}setMask(t){this._destroyMaskCache(),this._createMask(t),this.options.mask=t,this.map.render()}getMask(){return this.options.mask}getMap(){return this.map}_destroyMaskCache(){this.maskCache.forEach(t=>{this.gl.deleteBuffer(t.vertexBuffer),this.gl.deleteBuffer(t.indexBuffer)}),this.maskCache=[]}_destroyTile(t){t.buffer&&this.gl.deleteBuffer(t.buffer),t.texture&&this.gl.deleteTexture(t.texture)}_clearAllCacheTile(){this.tileCache.forEach(t=>{this._destroyTile(t)}),this.tileCache=[]}_clearShowTile(){this.showTiles.forEach(t=>{this.tileCache.findIndex(n=>n.xyzKey===t.xyzKey)<0&&this._destroyTile(t)}),this.showTiles=[]}destroy(){this.isLayerShow=!1,this.map.remove(this.layer),this.map.off("dragging",this.mapCallback),this.map.off("moveend",this.mapCallback),this.map.off("zoomchange",this.mapCallback),this.map.off("rotatechange",this.mapCallback),this._destroyMaskCache(),this._clearShowTile(),this._clearAllCacheTile(),this.gridCache={},this.transformBaidu=null,this.mapCallback=null,this.gl.deleteProgram(this.program),this.gl.deleteProgram(this.maskProgram),this.program=null,this.maskProgram=null,this.options=void 0,this.customCoords=void 0,this.center=void 0,this.layer=null,this.gl=null,this.map=null}}const Mqe=fi({url:{required:!0,type:String},subdomains:{type:Array},tileType:{type:String,default:"xyz",validator:e=>["xyz","bd09"].indexOf(e)!==-1},proj:{type:String,default:"gcj02",validator:e=>["wgs84","gcj02","bd09"].indexOf(e)!==-1},zooms:{type:Object},opacity:{type:Number},zIndex:{type:Number,default:120},mask:{type:Array},cacheSize:{type:Number,default:512},debug:{type:Boolean,default:!1},tileMaxZoom:{type:Number},altitude:{type:Number}});var H2=ge({name:"ElAmapLayerCustomXyz",inheritAttrs:!1,__name:"CustomXyz",props:Mqe,emits:["init"],setup(e,{expose:t,emit:n}){const r=n;let i;const{$$getInstance:o}=gi((s,u)=>new Promise(a=>{i=new Tqe(u,s),a(i)}),{emits:r,destroyComponent(){i&&(i.destroy(),i=null)}});return t({$$getInstance:o}),(s,u)=>(X(),pe("div"))}});H2.__file="src/vue-amap/packages/layer/data/CustomXyz/CustomXyz.vue";H2.install=e=>(e.component(H2.name,H2),e);const Eqe=H2;var Aqe=[HR,HNe,jNe,GNe,WNe,qNe,XNe,e$e,t$e,n$e,r$e,i$e,a$e,o$e,s$e,l$e,u$e,c$e,d$e,h$e,f$e,p$e,m$e,v$e,g$e,_$e,y$e,b$e,x$e,C$e,T$e,M$e,A$e,k$e,L$e,D$e,O$e,B$e,N$e,V$e,H$e,j$e,G$e,Y$e,Z$e,xHe,Eqe],bQ=ENe([...Aqe]);function xQ(e){return new Promise(t=>{AMap.plugin("AMap.Geolocation",function(){const n=new AMap.Geolocation(e);t({getCurrentPosition:()=>new Promise((o,s)=>{n.getCurrentPosition(function(u,a){u==="complete"&&a.info==="SUCCESS"?o(a):s({status:u,result:a})})}),getCityInfo:()=>new Promise((o,s)=>{n.getCityInfo(function(u,a){u==="complete"&&a.info==="SUCCESS"?o(a):s({status:u,result:a})})})})})})}bQ.install;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xk=function(e,t){return xk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},xk(e,t)};function Pr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");xk(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Iqe=function(){function e(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return e}(),kqe=function(){function e(){this.browser=new Iqe,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return e}(),Si=new kqe;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(Si.wxa=!0,Si.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Si.worker=!0:typeof navigator>"u"||navigator.userAgent.indexOf("Node.js")===0?(Si.node=!0,Si.svgSupported=!0):Pqe(navigator.userAgent,Si);function Pqe(e,t){var n=t.browser,r=e.match(/Firefox\/([\d.]+)/),i=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),o=e.match(/Edge?\/([\d.]+)/),s=/micromessenger/i.test(e);r&&(n.firefox=!0,n.version=r[1]),i&&(n.ie=!0,n.version=i[1]),o&&(n.edge=!0,n.version=o[1],n.newEdge=+o[1].split(".")[0]>18),s&&(n.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,t.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),t.domSupported=typeof document<"u";var u=document.documentElement.style;t.transform3dSupported=(n.ie&&"transition"in u||n.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in u)&&!("OTransition"in u),t.transformSupported=t.transform3dSupported||n.ie&&+n.version>=9}var YR=12,Lqe="sans-serif",S0=YR+"px "+Lqe,Rqe=20,Dqe=100,Oqe="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function zqe(e){var t={};if(typeof JSON>"u")return t;for(var n=0;n<e.length;n++){var r=String.fromCharCode(n+32),i=(e.charCodeAt(n)-Rqe)/Dqe;t[r]=i}return t}var Bqe=zqe(Oqe),j_={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var e,t;return function(n,r){if(!e){var i=j_.createCanvas();e=i&&i.getContext("2d")}if(e)return t!==r&&(t=e.font=r||S0),e.measureText(n);n=n||"",r=r||S0;var o=/((?:\d+)?\.?\d*)px/.exec(r),s=o&&+o[1]||YR,u=0;if(r.indexOf("mono")>=0)u=s*n.length;else for(var a=0;a<n.length;a++){var h=Bqe[n[a]];u+=h==null?s:h*s}return{width:u}}}(),loadImage:function(e,t,n){var r=new Image;return r.onload=t,r.onerror=n,r.src=e,r}},wQ=G_(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(e,t){return e["[object "+t+"]"]=!0,e},{}),SQ=G_(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(e,t){return e["[object "+t+"Array]"]=!0,e},{}),Sw=Object.prototype.toString,N8=Array.prototype,Fqe=N8.forEach,Nqe=N8.filter,ZR=N8.slice,$qe=N8.map,Q$=(function(){}).constructor,G6=Q$?Q$.prototype:null,XR="__proto__",Vqe=2311;function CQ(){return Vqe++}function JR(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];typeof console<"u"&&console.error.apply(console,e)}function na(e){if(e==null||typeof e!="object")return e;var t=e,n=Sw.call(e);if(n==="[object Array]"){if(!U2(e)){t=[];for(var r=0,i=e.length;r<i;r++)t[r]=na(e[r])}}else if(SQ[n]){if(!U2(e)){var o=e.constructor;if(o.from)t=o.from(e);else{t=new o(e.length);for(var r=0,i=e.length;r<i;r++)t[r]=e[r]}}}else if(!wQ[n]&&!U2(e)&&!$x(e)){t={};for(var s in e)e.hasOwnProperty(s)&&s!==XR&&(t[s]=na(e[s]))}return t}function da(e,t,n){if(!oi(t)||!oi(e))return n?na(t):e;for(var r in t)if(t.hasOwnProperty(r)&&r!==XR){var i=e[r],o=t[r];oi(o)&&oi(i)&&!zr(o)&&!zr(i)&&!$x(o)&&!$x(i)&&!eV(o)&&!eV(i)&&!U2(o)&&!U2(i)?da(i,o,n):(n||!(r in e))&&(e[r]=na(t[r]))}return e}function vr(e,t){if(Object.assign)Object.assign(e,t);else for(var n in t)t.hasOwnProperty(n)&&n!==XR&&(e[n]=t[n]);return e}function _a(e,t,n){for(var r=Xa(t),i=0;i<r.length;i++){var o=r[i];e[o]==null&&(e[o]=t[o])}return e}function Ta(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n}return-1}function Hqe(e,t){var n=e.prototype;function r(){}r.prototype=t.prototype,e.prototype=new r;for(var i in n)n.hasOwnProperty(i)&&(e.prototype[i]=n[i]);e.prototype.constructor=e,e.superClass=t}function gd(e,t,n){if(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var o=r[i];o!=="constructor"&&e[o]==null&&(e[o]=t[o])}else _a(e,t)}function ml(e){return!e||typeof e=="string"?!1:typeof e.length=="number"}function Gt(e,t,n){if(e&&t)if(e.forEach&&e.forEach===Fqe)e.forEach(t,n);else if(e.length===+e.length)for(var r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e);else for(var o in e)e.hasOwnProperty(o)&&t.call(n,e[o],o,e)}function xi(e,t,n){if(!e)return[];if(!t)return QR(e);if(e.map&&e.map===$qe)return e.map(t,n);for(var r=[],i=0,o=e.length;i<o;i++)r.push(t.call(n,e[i],i,e));return r}function G_(e,t,n,r){if(e&&t){for(var i=0,o=e.length;i<o;i++)n=t.call(r,n,e[i],i,e);return n}}function Ns(e,t,n){if(!e)return[];if(!t)return QR(e);if(e.filter&&e.filter===Nqe)return e.filter(t,n);for(var r=[],i=0,o=e.length;i<o;i++)t.call(n,e[i],i,e)&&r.push(e[i]);return r}function Xa(e){if(!e)return[];if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function Uqe(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return function(){return e.apply(t,n.concat(ZR.call(arguments)))}}var io=G6&&Ai(G6.bind)?G6.call.bind(G6.bind):Uqe;function $o(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(this,t.concat(ZR.call(arguments)))}}function zr(e){return Array.isArray?Array.isArray(e):Sw.call(e)==="[object Array]"}function Ai(e){return typeof e=="function"}function Zr(e){return typeof e=="string"}function wk(e){return Sw.call(e)==="[object String]"}function Ja(e){return typeof e=="number"}function oi(e){var t=typeof e;return t==="function"||!!e&&t==="object"}function eV(e){return!!wQ[Sw.call(e)]}function vl(e){return!!SQ[Sw.call(e)]}function $x(e){return typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.ownerDocument=="object"}function $8(e){return e.colorStops!=null}function jqe(e){return e.image!=null}function hC(e){return e!==e}function Vx(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,r=e.length;n<r;n++)if(e[n]!=null)return e[n]}function Qi(e,t){return e??t}function uS(e,t,n){return e??t??n}function QR(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return ZR.apply(e,t)}function TQ(e){if(typeof e=="number")return[e,e,e,e];var t=e.length;return t===2?[e[0],e[1],e[0],e[1]]:t===3?[e[0],e[1],e[2],e[1]]:e}function hh(e,t){if(!e)throw new Error(t)}function Xc(e){return e==null?null:typeof e.trim=="function"?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var MQ="__ec_primitive__";function Sk(e){e[MQ]=!0}function U2(e){return e[MQ]}var Gqe=function(){function e(){this.data={}}return e.prototype.delete=function(t){var n=this.has(t);return n&&delete this.data[t],n},e.prototype.has=function(t){return this.data.hasOwnProperty(t)},e.prototype.get=function(t){return this.data[t]},e.prototype.set=function(t,n){return this.data[t]=n,this},e.prototype.keys=function(){return Xa(this.data)},e.prototype.forEach=function(t){var n=this.data;for(var r in n)n.hasOwnProperty(r)&&t(n[r],r)},e}(),EQ=typeof Map=="function";function Wqe(){return EQ?new Map:new Gqe}var qqe=function(){function e(t){var n=zr(t);this.data=Wqe();var r=this;t instanceof e?t.each(i):t&&Gt(t,i);function i(o,s){n?r.set(o,s):r.set(s,o)}}return e.prototype.hasKey=function(t){return this.data.has(t)},e.prototype.get=function(t){return this.data.get(t)},e.prototype.set=function(t,n){return this.data.set(t,n),n},e.prototype.each=function(t,n){this.data.forEach(function(r,i){t.call(n,r,i)})},e.prototype.keys=function(){var t=this.data.keys();return EQ?Array.from(t):t},e.prototype.removeKey=function(t){this.data.delete(t)},e}();function $i(e){return new qqe(e)}function Kqe(e,t){for(var n=new e.constructor(e.length+t.length),r=0;r<e.length;r++)n[r]=e[r];for(var i=e.length,r=0;r<t.length;r++)n[r+i]=t[r];return n}function V8(e,t){var n;if(Object.create)n=Object.create(e);else{var r=function(){};r.prototype=e,n=new r}return t&&vr(n,t),n}function AQ(e){var t=e.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function b_(e,t){return e.hasOwnProperty(t)}function fl(){}var Yqe=180/Math.PI;function W_(e,t){return e==null&&(e=0),t==null&&(t=0),[e,t]}function Zqe(e){return[e[0],e[1]]}function tV(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function Xqe(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function Jqe(e){return Math.sqrt(Qqe(e))}function Qqe(e){return e[0]*e[0]+e[1]*e[1]}function sE(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function eKe(e,t){var n=Jqe(t);return n===0?(e[0]=0,e[1]=0):(e[0]=t[0]/n,e[1]=t[1]/n),e}function Ck(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var tKe=Ck;function nKe(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}var Wg=nKe;function Tu(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}function Ig(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function kg(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}var ng=function(){function e(t,n){this.target=t,this.topTarget=n&&n.topTarget}return e}(),rKe=function(){function e(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return e.prototype._dragStart=function(t){for(var n=t.target;n&&!n.draggable;)n=n.parent||n.__hostTarget;n&&(this._draggingTarget=n,n.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new ng(n,t),"dragstart",t.event))},e.prototype._drag=function(t){var n=this._draggingTarget;if(n){var r=t.offsetX,i=t.offsetY,o=r-this._x,s=i-this._y;this._x=r,this._y=i,n.drift(o,s,t),this.handler.dispatchToElement(new ng(n,t),"drag",t.event);var u=this.handler.findHover(r,i,n).target,a=this._dropTarget;this._dropTarget=u,n!==u&&(a&&u!==a&&this.handler.dispatchToElement(new ng(a,t),"dragleave",t.event),u&&u!==a&&this.handler.dispatchToElement(new ng(u,t),"dragenter",t.event))}},e.prototype._dragEnd=function(t){var n=this._draggingTarget;n&&(n.dragging=!1),this.handler.dispatchToElement(new ng(n,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new ng(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},e}(),_d=function(){function e(t){t&&(this._$eventProcessor=t)}return e.prototype.on=function(t,n,r,i){this._$handlers||(this._$handlers={});var o=this._$handlers;if(typeof n=="function"&&(i=r,r=n,n=null),!r||!t)return this;var s=this._$eventProcessor;n!=null&&s&&s.normalizeQuery&&(n=s.normalizeQuery(n)),o[t]||(o[t]=[]);for(var u=0;u<o[t].length;u++)if(o[t][u].h===r)return this;var a={h:r,query:n,ctx:i||this,callAtLast:r.zrEventfulCallAtLast},h=o[t].length-1,m=o[t][h];return m&&m.callAtLast?o[t].splice(h,0,a):o[t].push(a),this},e.prototype.isSilent=function(t){var n=this._$handlers;return!n||!n[t]||!n[t].length},e.prototype.off=function(t,n){var r=this._$handlers;if(!r)return this;if(!t)return this._$handlers={},this;if(n){if(r[t]){for(var i=[],o=0,s=r[t].length;o<s;o++)r[t][o].h!==n&&i.push(r[t][o]);r[t]=i}r[t]&&r[t].length===0&&delete r[t]}else delete r[t];return this},e.prototype.trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[t],o=this._$eventProcessor;if(i)for(var s=n.length,u=i.length,a=0;a<u;a++){var h=i[a];if(!(o&&o.filter&&h.query!=null&&!o.filter(t,h.query)))switch(s){case 0:h.h.call(h.ctx);break;case 1:h.h.call(h.ctx,n[0]);break;case 2:h.h.call(h.ctx,n[0],n[1]);break;default:h.h.apply(h.ctx,n);break}}return o&&o.afterTrigger&&o.afterTrigger(t),this},e.prototype.triggerWithContext=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[t],o=this._$eventProcessor;if(i)for(var s=n.length,u=n[s-1],a=i.length,h=0;h<a;h++){var m=i[h];if(!(o&&o.filter&&m.query!=null&&!o.filter(t,m.query)))switch(s){case 0:m.h.call(u);break;case 1:m.h.call(u,n[0]);break;case 2:m.h.call(u,n[0],n[1]);break;default:m.h.apply(u,n.slice(1,s-1));break}}return o&&o.afterTrigger&&o.afterTrigger(t),this},e}(),iKe=Math.log(2);function Tk(e,t,n,r,i,o){var s=r+"-"+i,u=e.length;if(o.hasOwnProperty(s))return o[s];if(t===1){var a=Math.round(Math.log((1<<u)-1&~i)/iKe);return e[n][a]}for(var h=r|1<<n,m=n+1;r&1<<m;)m++;for(var v=0,_=0,b=0;_<u;_++){var T=1<<_;T&i||(v+=(b%2?-1:1)*e[n][_]*Tk(e,t-1,m,h,i|T,o),b++)}return o[s]=v,v}function nV(e,t){var n=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],r={},i=Tk(n,8,0,0,0,r);if(i!==0){for(var o=[],s=0;s<8;s++)for(var u=0;u<8;u++)o[u]==null&&(o[u]=0),o[u]+=((s+u)%2?-1:1)*Tk(n,7,s===0?1:0,1<<s,1<<u,r)/i*t[s];return function(a,h,m){var v=h*o[6]+m*o[7]+1;a[0]=(h*o[0]+m*o[1]+o[2])/v,a[1]=(h*o[3]+m*o[4]+o[5])/v}}}var rV="___zrEVENTSAVED",lE=[];function aKe(e,t,n,r,i){return Mk(lE,t,r,i,!0)&&Mk(e,n,lE[0],lE[1])}function Mk(e,t,n,r,i){if(t.getBoundingClientRect&&Si.domSupported&&!IQ(t)){var o=t[rV]||(t[rV]={}),s=oKe(t,o),u=sKe(s,o,i);if(u)return u(e,n,r),!0}return!1}function oKe(e,t){var n=t.markers;if(n)return n;n=t.markers=[];for(var r=["left","right"],i=["top","bottom"],o=0;o<4;o++){var s=document.createElement("div"),u=s.style,a=o%2,h=(o>>1)%2;u.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[a]+":0",i[h]+":0",r[1-a]+":auto",i[1-h]+":auto",""].join("!important;"),e.appendChild(s),n.push(s)}return n}function sKe(e,t,n){for(var r=n?"invTrans":"trans",i=t[r],o=t.srcCoords,s=[],u=[],a=!0,h=0;h<4;h++){var m=e[h].getBoundingClientRect(),v=2*h,_=m.left,b=m.top;s.push(_,b),a=a&&o&&_===o[v]&&b===o[v+1],u.push(e[h].offsetLeft,e[h].offsetTop)}return a&&i?i:(t.srcCoords=s,t[r]=n?nV(u,s):nV(s,u))}function IQ(e){return e.nodeName.toUpperCase()==="CANVAS"}var lKe=/([&<>"'])/g,uKe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Rl(e){return e==null?"":(e+"").replace(lKe,function(t,n){return uKe[n]})}var cKe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,uE=[],dKe=Si.browser.firefox&&+Si.browser.version.split(".")[0]<39;function Ek(e,t,n,r){return n=n||{},r?iV(e,t,n):dKe&&t.layerX!=null&&t.layerX!==t.offsetX?(n.zrX=t.layerX,n.zrY=t.layerY):t.offsetX!=null?(n.zrX=t.offsetX,n.zrY=t.offsetY):iV(e,t,n),n}function iV(e,t,n){if(Si.domSupported&&e.getBoundingClientRect){var r=t.clientX,i=t.clientY;if(IQ(e)){var o=e.getBoundingClientRect();n.zrX=r-o.left,n.zrY=i-o.top;return}else if(Mk(uE,e,r,i)){n.zrX=uE[0],n.zrY=uE[1];return}}n.zrX=n.zrY=0}function eD(e){return e||window.event}function du(e,t,n){if(t=eD(t),t.zrX!=null)return t;var r=t.type,i=r&&r.indexOf("touch")>=0;if(i){var s=r!=="touchend"?t.targetTouches[0]:t.changedTouches[0];s&&Ek(e,s,t,n)}else{Ek(e,t,t,n);var o=hKe(t);t.zrDelta=o?o/120:-(t.detail||0)/3}var u=t.button;return t.which==null&&u!==void 0&&cKe.test(t.type)&&(t.which=u&1?1:u&2?3:u&4?2:0),t}function hKe(e){var t=e.wheelDelta;if(t)return t;var n=e.deltaX,r=e.deltaY;if(n==null||r==null)return t;var i=Math.abs(r!==0?r:n),o=r>0?-1:r<0?1:n>0?-1:1;return 3*i*o}function fKe(e,t,n,r){e.addEventListener(t,n,r)}function pKe(e,t,n,r){e.removeEventListener(t,n,r)}var kQ=function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0},mKe=function(){function e(){this._track=[]}return e.prototype.recognize=function(t,n,r){return this._doTrack(t,n,r),this._recognize(t)},e.prototype.clear=function(){return this._track.length=0,this},e.prototype._doTrack=function(t,n,r){var i=t.touches;if(i){for(var o={points:[],touches:[],target:n,event:t},s=0,u=i.length;s<u;s++){var a=i[s],h=Ek(r,a,{});o.points.push([h.zrX,h.zrY]),o.touches.push(a)}this._track.push(o)}},e.prototype._recognize=function(t){for(var n in cE)if(cE.hasOwnProperty(n)){var r=cE[n](this._track,t);if(r)return r}},e}();function aV(e){var t=e[1][0]-e[0][0],n=e[1][1]-e[0][1];return Math.sqrt(t*t+n*n)}function vKe(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var cE={pinch:function(e,t){var n=e.length;if(n){var r=(e[n-1]||{}).points,i=(e[n-2]||{}).points||r;if(i&&i.length>1&&r&&r.length>1){var o=aV(r)/aV(i);!isFinite(o)&&(o=1),t.pinchScale=o;var s=vKe(r);return t.pinchX=s[0],t.pinchY=s[1],{type:"pinch",target:e[0].target,event:t}}}}};function qg(){return[1,0,0,1,0,0]}function tD(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function gKe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Kg(e,t,n){var r=t[0]*n[0]+t[2]*n[1],i=t[1]*n[0]+t[3]*n[1],o=t[0]*n[2]+t[2]*n[3],s=t[1]*n[2]+t[3]*n[3],u=t[0]*n[4]+t[2]*n[5]+t[4],a=t[1]*n[4]+t[3]*n[5]+t[5];return e[0]=r,e[1]=i,e[2]=o,e[3]=s,e[4]=u,e[5]=a,e}function Ak(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e}function nD(e,t,n,r){r===void 0&&(r=[0,0]);var i=t[0],o=t[2],s=t[4],u=t[1],a=t[3],h=t[5],m=Math.sin(n),v=Math.cos(n);return e[0]=i*v+u*m,e[1]=-i*m+u*v,e[2]=o*v+a*m,e[3]=-o*m+v*a,e[4]=v*(s-r[0])+m*(h-r[1])+r[0],e[5]=v*(h-r[1])-m*(s-r[0])+r[1],e}function _Ke(e,t,n){var r=n[0],i=n[1];return e[0]=t[0]*r,e[1]=t[1]*i,e[2]=t[2]*r,e[3]=t[3]*i,e[4]=t[4]*r,e[5]=t[5]*i,e}function rD(e,t){var n=t[0],r=t[2],i=t[4],o=t[1],s=t[3],u=t[5],a=n*s-o*r;return a?(a=1/a,e[0]=s*a,e[1]=-o*a,e[2]=-r*a,e[3]=n*a,e[4]=(r*u-s*i)*a,e[5]=(o*i-n*u)*a,e):null}var La=function(){function e(t,n){this.x=t||0,this.y=n||0}return e.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.set=function(t,n){return this.x=t,this.y=n,this},e.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},e.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},e.prototype.scale=function(t){this.x*=t,this.y*=t},e.prototype.scaleAndAdd=function(t,n){this.x+=t.x*n,this.y+=t.y*n},e.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},e.prototype.dot=function(t){return this.x*t.x+this.y*t.y},e.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},e.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},e.prototype.distance=function(t){var n=this.x-t.x,r=this.y-t.y;return Math.sqrt(n*n+r*r)},e.prototype.distanceSquare=function(t){var n=this.x-t.x,r=this.y-t.y;return n*n+r*r},e.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},e.prototype.transform=function(t){if(t){var n=this.x,r=this.y;return this.x=t[0]*n+t[2]*r+t[4],this.y=t[1]*n+t[3]*r+t[5],this}},e.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},e.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},e.set=function(t,n,r){t.x=n,t.y=r},e.copy=function(t,n){t.x=n.x,t.y=n.y},e.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},e.lenSquare=function(t){return t.x*t.x+t.y*t.y},e.dot=function(t,n){return t.x*n.x+t.y*n.y},e.add=function(t,n,r){t.x=n.x+r.x,t.y=n.y+r.y},e.sub=function(t,n,r){t.x=n.x-r.x,t.y=n.y-r.y},e.scale=function(t,n,r){t.x=n.x*r,t.y=n.y*r},e.scaleAndAdd=function(t,n,r,i){t.x=n.x+r.x*i,t.y=n.y+r.y*i},e.lerp=function(t,n,r,i){var o=1-i;t.x=o*n.x+i*r.x,t.y=o*n.y+i*r.y},e}(),W6=Math.min,q6=Math.max,vm=new La,gm=new La,_m=new La,ym=new La,Z1=new La,X1=new La,ha=function(){function e(t,n,r,i){r<0&&(t=t+r,r=-r),i<0&&(n=n+i,i=-i),this.x=t,this.y=n,this.width=r,this.height=i}return e.prototype.union=function(t){var n=W6(t.x,this.x),r=W6(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=q6(t.x+t.width,this.x+this.width)-n:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=q6(t.y+t.height,this.y+this.height)-r:this.height=t.height,this.x=n,this.y=r},e.prototype.applyTransform=function(t){e.applyTransform(this,this,t)},e.prototype.calculateTransform=function(t){var n=this,r=t.width/n.width,i=t.height/n.height,o=qg();return Ak(o,o,[-n.x,-n.y]),_Ke(o,o,[r,i]),Ak(o,o,[t.x,t.y]),o},e.prototype.intersect=function(t,n){if(!t)return!1;t instanceof e||(t=e.create(t));var r=this,i=r.x,o=r.x+r.width,s=r.y,u=r.y+r.height,a=t.x,h=t.x+t.width,m=t.y,v=t.y+t.height,_=!(o<a||h<i||u<m||v<s);if(n){var b=1/0,T=0,M=Math.abs(o-a),E=Math.abs(h-i),k=Math.abs(u-m),z=Math.abs(v-s),B=Math.min(M,E),U=Math.min(k,z);o<a||h<i?B>T&&(T=B,M<E?La.set(X1,-M,0):La.set(X1,E,0)):B<b&&(b=B,M<E?La.set(Z1,M,0):La.set(Z1,-E,0)),u<m||v<s?U>T&&(T=U,k<z?La.set(X1,0,-k):La.set(X1,0,z)):B<b&&(b=B,k<z?La.set(Z1,0,k):La.set(Z1,0,-z))}return n&&La.copy(n,_?Z1:X1),_},e.prototype.contain=function(t,n){var r=this;return t>=r.x&&t<=r.x+r.width&&n>=r.y&&n<=r.y+r.height},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(t){e.copy(this,t)},e.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},e.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.isZero=function(){return this.width===0||this.height===0},e.create=function(t){return new e(t.x,t.y,t.width,t.height)},e.copy=function(t,n){t.x=n.x,t.y=n.y,t.width=n.width,t.height=n.height},e.applyTransform=function(t,n,r){if(!r){t!==n&&e.copy(t,n);return}if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var i=r[0],o=r[3],s=r[4],u=r[5];t.x=n.x*i+s,t.y=n.y*o+u,t.width=n.width*i,t.height=n.height*o,t.width<0&&(t.x+=t.width,t.width=-t.width),t.height<0&&(t.y+=t.height,t.height=-t.height);return}vm.x=_m.x=n.x,vm.y=ym.y=n.y,gm.x=ym.x=n.x+n.width,gm.y=_m.y=n.y+n.height,vm.transform(r),ym.transform(r),gm.transform(r),_m.transform(r),t.x=W6(vm.x,gm.x,_m.x,ym.x),t.y=W6(vm.y,gm.y,_m.y,ym.y);var a=q6(vm.x,gm.x,_m.x,ym.x),h=q6(vm.y,gm.y,_m.y,ym.y);t.width=a-t.x,t.height=h-t.y},e}(),PQ="silent";function yKe(e,t,n){return{type:e,event:n,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:bKe}}function bKe(){kQ(this.event)}var xKe=function(e){Pr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.handler=null,n}return t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(_d),J1=function(){function e(t,n){this.x=t,this.y=n}return e}(),wKe=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],dE=new ha(0,0,0,0),LQ=function(e){Pr(t,e);function t(n,r,i,o,s){var u=e.call(this)||this;return u._hovered=new J1(0,0),u.storage=n,u.painter=r,u.painterRoot=o,u._pointerSize=s,i=i||new xKe,u.proxy=null,u.setHandlerProxy(i),u._draggingMgr=new rKe(u),u}return t.prototype.setHandlerProxy=function(n){this.proxy&&this.proxy.dispose(),n&&(Gt(wKe,function(r){n.on&&n.on(r,this[r],this)},this),n.handler=this),this.proxy=n},t.prototype.mousemove=function(n){var r=n.zrX,i=n.zrY,o=RQ(this,r,i),s=this._hovered,u=s.target;u&&!u.__zr&&(s=this.findHover(s.x,s.y),u=s.target);var a=this._hovered=o?new J1(r,i):this.findHover(r,i),h=a.target,m=this.proxy;m.setCursor&&m.setCursor(h?h.cursor:"default"),u&&h!==u&&this.dispatchToElement(s,"mouseout",n),this.dispatchToElement(a,"mousemove",n),h&&h!==u&&this.dispatchToElement(a,"mouseover",n)},t.prototype.mouseout=function(n){var r=n.zrEventControl;r!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",n),r!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:n})},t.prototype.resize=function(){this._hovered=new J1(0,0)},t.prototype.dispatch=function(n,r){var i=this[n];i&&i.call(this,r)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(n){var r=this.proxy;r.setCursor&&r.setCursor(n)},t.prototype.dispatchToElement=function(n,r,i){n=n||{};var o=n.target;if(!(o&&o.silent)){for(var s="on"+r,u=yKe(r,n,i);o&&(o[s]&&(u.cancelBubble=!!o[s].call(o,u)),o.trigger(r,u),o=o.__hostTarget?o.__hostTarget:o.parent,!u.cancelBubble););u.cancelBubble||(this.trigger(r,u),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(a){typeof a[s]=="function"&&a[s].call(a,u),a.trigger&&a.trigger(r,u)}))}},t.prototype.findHover=function(n,r,i){var o=this.storage.getDisplayList(),s=new J1(n,r);if(oV(o,s,n,r,i),this._pointerSize&&!s.target){for(var u=[],a=this._pointerSize,h=a/2,m=new ha(n-h,r-h,a,a),v=o.length-1;v>=0;v--){var _=o[v];_!==i&&!_.ignore&&!_.ignoreCoarsePointer&&(!_.parent||!_.parent.ignoreCoarsePointer)&&(dE.copy(_.getBoundingRect()),_.transform&&dE.applyTransform(_.transform),dE.intersect(m)&&u.push(_))}if(u.length)for(var b=4,T=Math.PI/12,M=Math.PI*2,E=0;E<h;E+=b)for(var k=0;k<M;k+=T){var z=n+E*Math.cos(k),B=r+E*Math.sin(k);if(oV(u,s,z,B,i),s.target)return s}}return s},t.prototype.processGesture=function(n,r){this._gestureMgr||(this._gestureMgr=new mKe);var i=this._gestureMgr;r==="start"&&i.clear();var o=i.recognize(n,this.findHover(n.zrX,n.zrY,null).target,this.proxy.dom);if(r==="end"&&i.clear(),o){var s=o.type;n.gestureEvent=s;var u=new J1;u.target=o.target,this.dispatchToElement(u,s,o.event)}},t}(_d);Gt(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){LQ.prototype[e]=function(t){var n=t.zrX,r=t.zrY,i=RQ(this,n,r),o,s;if((e!=="mouseup"||!i)&&(o=this.findHover(n,r),s=o.target),e==="mousedown")this._downEl=s,this._downPoint=[t.zrX,t.zrY],this._upEl=s;else if(e==="mouseup")this._upEl=s;else if(e==="click"){if(this._downEl!==this._upEl||!this._downPoint||tKe(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(o,e,t)}});function SKe(e,t,n){if(e[e.rectHover?"rectContain":"contain"](t,n)){for(var r=e,i=void 0,o=!1;r;){if(r.ignoreClip&&(o=!0),!o){var s=r.getClipPath();if(s&&!s.contain(t,n))return!1}r.silent&&(i=!0);var u=r.__hostTarget;r=u||r.parent}return i?PQ:!0}return!1}function oV(e,t,n,r,i){for(var o=e.length-1;o>=0;o--){var s=e[o],u=void 0;if(s!==i&&!s.ignore&&(u=SKe(s,n,r))&&(!t.topTarget&&(t.topTarget=s),u!==PQ)){t.target=s;break}}}function RQ(e,t,n){var r=e.painter;return t<0||t>r.getWidth()||n<0||n>r.getHeight()}var DQ=32,Q1=7;function CKe(e){for(var t=0;e>=DQ;)t|=e&1,e>>=1;return e+t}function sV(e,t,n,r){var i=t+1;if(i===n)return 1;if(r(e[i++],e[t])<0){for(;i<n&&r(e[i],e[i-1])<0;)i++;TKe(e,t,i)}else for(;i<n&&r(e[i],e[i-1])>=0;)i++;return i-t}function TKe(e,t,n){for(n--;t<n;){var r=e[t];e[t++]=e[n],e[n--]=r}}function lV(e,t,n,r,i){for(r===t&&r++;r<n;r++){for(var o=e[r],s=t,u=r,a;s<u;)a=s+u>>>1,i(o,e[a])<0?u=a:s=a+1;var h=r-s;switch(h){case 3:e[s+3]=e[s+2];case 2:e[s+2]=e[s+1];case 1:e[s+1]=e[s];break;default:for(;h>0;)e[s+h]=e[s+h-1],h--}e[s]=o}}function hE(e,t,n,r,i,o){var s=0,u=0,a=1;if(o(e,t[n+i])>0){for(u=r-i;a<u&&o(e,t[n+i+a])>0;)s=a,a=(a<<1)+1,a<=0&&(a=u);a>u&&(a=u),s+=i,a+=i}else{for(u=i+1;a<u&&o(e,t[n+i-a])<=0;)s=a,a=(a<<1)+1,a<=0&&(a=u);a>u&&(a=u);var h=s;s=i-a,a=i-h}for(s++;s<a;){var m=s+(a-s>>>1);o(e,t[n+m])>0?s=m+1:a=m}return a}function fE(e,t,n,r,i,o){var s=0,u=0,a=1;if(o(e,t[n+i])<0){for(u=i+1;a<u&&o(e,t[n+i-a])<0;)s=a,a=(a<<1)+1,a<=0&&(a=u);a>u&&(a=u);var h=s;s=i-a,a=i-h}else{for(u=r-i;a<u&&o(e,t[n+i+a])>=0;)s=a,a=(a<<1)+1,a<=0&&(a=u);a>u&&(a=u),s+=i,a+=i}for(s++;s<a;){var m=s+(a-s>>>1);o(e,t[n+m])<0?a=m:s=m+1}return a}function MKe(e,t){var n=Q1,r,i,o=0,s=[];r=[],i=[];function u(b,T){r[o]=b,i[o]=T,o+=1}function a(){for(;o>1;){var b=o-2;if(b>=1&&i[b-1]<=i[b]+i[b+1]||b>=2&&i[b-2]<=i[b]+i[b-1])i[b-1]<i[b+1]&&b--;else if(i[b]>i[b+1])break;m(b)}}function h(){for(;o>1;){var b=o-2;b>0&&i[b-1]<i[b+1]&&b--,m(b)}}function m(b){var T=r[b],M=i[b],E=r[b+1],k=i[b+1];i[b]=M+k,b===o-3&&(r[b+1]=r[b+2],i[b+1]=i[b+2]),o--;var z=fE(e[E],e,T,M,0,t);T+=z,M-=z,M!==0&&(k=hE(e[T+M-1],e,E,k,k-1,t),k!==0&&(M<=k?v(T,M,E,k):_(T,M,E,k)))}function v(b,T,M,E){var k=0;for(k=0;k<T;k++)s[k]=e[b+k];var z=0,B=M,U=b;if(e[U++]=e[B++],--E===0){for(k=0;k<T;k++)e[U+k]=s[z+k];return}if(T===1){for(k=0;k<E;k++)e[U+k]=e[B+k];e[U+E]=s[z];return}for(var W=n,q,Q,te;;){q=0,Q=0,te=!1;do if(t(e[B],s[z])<0){if(e[U++]=e[B++],Q++,q=0,--E===0){te=!0;break}}else if(e[U++]=s[z++],q++,Q=0,--T===1){te=!0;break}while((q|Q)<W);if(te)break;do{if(q=fE(e[B],s,z,T,0,t),q!==0){for(k=0;k<q;k++)e[U+k]=s[z+k];if(U+=q,z+=q,T-=q,T<=1){te=!0;break}}if(e[U++]=e[B++],--E===0){te=!0;break}if(Q=hE(s[z],e,B,E,0,t),Q!==0){for(k=0;k<Q;k++)e[U+k]=e[B+k];if(U+=Q,B+=Q,E-=Q,E===0){te=!0;break}}if(e[U++]=s[z++],--T===1){te=!0;break}W--}while(q>=Q1||Q>=Q1);if(te)break;W<0&&(W=0),W+=2}if(n=W,n<1&&(n=1),T===1){for(k=0;k<E;k++)e[U+k]=e[B+k];e[U+E]=s[z]}else{if(T===0)throw new Error;for(k=0;k<T;k++)e[U+k]=s[z+k]}}function _(b,T,M,E){var k=0;for(k=0;k<E;k++)s[k]=e[M+k];var z=b+T-1,B=E-1,U=M+E-1,W=0,q=0;if(e[U--]=e[z--],--T===0){for(W=U-(E-1),k=0;k<E;k++)e[W+k]=s[k];return}if(E===1){for(U-=T,z-=T,q=U+1,W=z+1,k=T-1;k>=0;k--)e[q+k]=e[W+k];e[U]=s[B];return}for(var Q=n;;){var te=0,ie=0,ae=!1;do if(t(s[B],e[z])<0){if(e[U--]=e[z--],te++,ie=0,--T===0){ae=!0;break}}else if(e[U--]=s[B--],ie++,te=0,--E===1){ae=!0;break}while((te|ie)<Q);if(ae)break;do{if(te=T-fE(s[B],e,b,T,T-1,t),te!==0){for(U-=te,z-=te,T-=te,q=U+1,W=z+1,k=te-1;k>=0;k--)e[q+k]=e[W+k];if(T===0){ae=!0;break}}if(e[U--]=s[B--],--E===1){ae=!0;break}if(ie=E-hE(e[z],s,0,E,E-1,t),ie!==0){for(U-=ie,B-=ie,E-=ie,q=U+1,W=B+1,k=0;k<ie;k++)e[q+k]=s[W+k];if(E<=1){ae=!0;break}}if(e[U--]=e[z--],--T===0){ae=!0;break}Q--}while(te>=Q1||ie>=Q1);if(ae)break;Q<0&&(Q=0),Q+=2}if(n=Q,n<1&&(n=1),E===1){for(U-=T,z-=T,q=U+1,W=z+1,k=T-1;k>=0;k--)e[q+k]=e[W+k];e[U]=s[B]}else{if(E===0)throw new Error;for(W=U-(E-1),k=0;k<E;k++)e[W+k]=s[k]}}return{mergeRuns:a,forceMergeRuns:h,pushRun:u}}function cS(e,t,n,r){n||(n=0),r||(r=e.length);var i=r-n;if(!(i<2)){var o=0;if(i<DQ){o=sV(e,n,r,t),lV(e,n,r,n+o,t);return}var s=MKe(e,t),u=CKe(i);do{if(o=sV(e,n,r,t),o<u){var a=i;a>u&&(a=u),lV(e,n,n+a,n+o,t),o=a}s.pushRun(n,o),s.mergeRuns(),i-=o,n+=o}while(i!==0);s.forceMergeRuns()}}var Ol=1,Sb=2,wg=4,uV=!1;function pE(){uV||(uV=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function cV(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var EKe=function(){function e(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=cV}return e.prototype.traverse=function(t,n){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(t,n)},e.prototype.getDisplayList=function(t,n){n=n||!1;var r=this._displayList;return(t||!r.length)&&this.updateDisplayList(n),r},e.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var n=this._roots,r=this._displayList,i=0,o=n.length;i<o;i++)this._updateAndAddDisplayable(n[i],null,t);r.length=this._displayListLen,cS(r,cV)},e.prototype._updateAndAddDisplayable=function(t,n,r){if(!(t.ignore&&!r)){t.beforeUpdate(),t.update(),t.afterUpdate();var i=t.getClipPath();if(t.ignoreClip)n=null;else if(i){n?n=n.slice():n=[];for(var o=i,s=t;o;)o.parent=s,o.updateTransform(),n.push(o),s=o,o=o.getClipPath()}if(t.childrenRef){for(var u=t.childrenRef(),a=0;a<u.length;a++){var h=u[a];t.__dirty&&(h.__dirty|=Ol),this._updateAndAddDisplayable(h,n,r)}t.__dirty=0}else{var m=t;n&&n.length?m.__clipPaths=n:m.__clipPaths&&m.__clipPaths.length>0&&(m.__clipPaths=[]),isNaN(m.z)&&(pE(),m.z=0),isNaN(m.z2)&&(pE(),m.z2=0),isNaN(m.zlevel)&&(pE(),m.zlevel=0),this._displayList[this._displayListLen++]=m}var v=t.getDecalElement&&t.getDecalElement();v&&this._updateAndAddDisplayable(v,n,r);var _=t.getTextGuideLine();_&&this._updateAndAddDisplayable(_,n,r);var b=t.getTextContent();b&&this._updateAndAddDisplayable(b,n,r)}},e.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},e.prototype.delRoot=function(t){if(t instanceof Array){for(var n=0,r=t.length;n<r;n++)this.delRoot(t[n]);return}var i=Ta(this._roots,t);i>=0&&this._roots.splice(i,1)},e.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},e.prototype.getRoots=function(){return this._roots},e.prototype.dispose=function(){this._displayList=null,this._roots=null},e}(),fC;fC=Si.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){return setTimeout(e,16)};var j2={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return .5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return e===0?0:Math.pow(1024,e-1)},exponentialOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,n=.1,r=.4;return e===0?0:e===1?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)))},elasticOut:function(e){var t,n=.1,r=.4;return e===0?0:e===1?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/r)+1)},elasticInOut:function(e){var t,n=.1,r=.4;return e===0?0:e===1?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?-.5*(n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)):n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-j2.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?j2.bounceIn(e*2)*.5:j2.bounceOut(e*2-1)*.5+.5}},K6=Math.pow,ep=Math.sqrt,pC=1e-8,OQ=1e-4,dV=ep(3),Y6=1/3,Yc=W_(),vu=W_(),Yg=W_();function qf(e){return e>-pC&&e<pC}function zQ(e){return e>pC||e<-pC}function Jo(e,t,n,r,i){var o=1-i;return o*o*(o*e+3*i*t)+i*i*(i*r+3*o*n)}function hV(e,t,n,r,i){var o=1-i;return 3*(((t-e)*o+2*(n-t)*i)*o+(r-n)*i*i)}function mC(e,t,n,r,i,o){var s=r+3*(t-n)-e,u=3*(n-t*2+e),a=3*(t-e),h=e-i,m=u*u-3*s*a,v=u*a-9*s*h,_=a*a-3*u*h,b=0;if(qf(m)&&qf(v))if(qf(u))o[0]=0;else{var T=-a/u;T>=0&&T<=1&&(o[b++]=T)}else{var M=v*v-4*m*_;if(qf(M)){var E=v/m,T=-u/s+E,k=-E/2;T>=0&&T<=1&&(o[b++]=T),k>=0&&k<=1&&(o[b++]=k)}else if(M>0){var z=ep(M),B=m*u+1.5*s*(-v+z),U=m*u+1.5*s*(-v-z);B<0?B=-K6(-B,Y6):B=K6(B,Y6),U<0?U=-K6(-U,Y6):U=K6(U,Y6);var T=(-u-(B+U))/(3*s);T>=0&&T<=1&&(o[b++]=T)}else{var W=(2*m*u-3*s*v)/(2*ep(m*m*m)),q=Math.acos(W)/3,Q=ep(m),te=Math.cos(q),T=(-u-2*Q*te)/(3*s),k=(-u+Q*(te+dV*Math.sin(q)))/(3*s),ie=(-u+Q*(te-dV*Math.sin(q)))/(3*s);T>=0&&T<=1&&(o[b++]=T),k>=0&&k<=1&&(o[b++]=k),ie>=0&&ie<=1&&(o[b++]=ie)}}return b}function BQ(e,t,n,r,i){var o=6*n-12*t+6*e,s=9*t+3*r-3*e-9*n,u=3*t-3*e,a=0;if(qf(s)){if(zQ(o)){var h=-u/o;h>=0&&h<=1&&(i[a++]=h)}}else{var m=o*o-4*s*u;if(qf(m))i[0]=-o/(2*s);else if(m>0){var v=ep(m),h=(-o+v)/(2*s),_=(-o-v)/(2*s);h>=0&&h<=1&&(i[a++]=h),_>=0&&_<=1&&(i[a++]=_)}}return a}function vC(e,t,n,r,i,o){var s=(t-e)*i+e,u=(n-t)*i+t,a=(r-n)*i+n,h=(u-s)*i+s,m=(a-u)*i+u,v=(m-h)*i+h;o[0]=e,o[1]=s,o[2]=h,o[3]=v,o[4]=v,o[5]=m,o[6]=a,o[7]=r}function AKe(e,t,n,r,i,o,s,u,a,h,m){var v,_=.005,b=1/0,T,M,E,k;Yc[0]=a,Yc[1]=h;for(var z=0;z<1;z+=.05)vu[0]=Jo(e,n,i,s,z),vu[1]=Jo(t,r,o,u,z),E=Wg(Yc,vu),E<b&&(v=z,b=E);b=1/0;for(var B=0;B<32&&!(_<OQ);B++)T=v-_,M=v+_,vu[0]=Jo(e,n,i,s,T),vu[1]=Jo(t,r,o,u,T),E=Wg(vu,Yc),T>=0&&E<b?(v=T,b=E):(Yg[0]=Jo(e,n,i,s,M),Yg[1]=Jo(t,r,o,u,M),k=Wg(Yg,Yc),M<=1&&k<b?(v=M,b=k):_*=.5);return ep(b)}function IKe(e,t,n,r,i,o,s,u,a){for(var h=e,m=t,v=0,_=1/a,b=1;b<=a;b++){var T=b*_,M=Jo(e,n,i,s,T),E=Jo(t,r,o,u,T),k=M-h,z=E-m;v+=Math.sqrt(k*k+z*z),h=M,m=E}return v}function il(e,t,n,r){var i=1-r;return i*(i*e+2*r*t)+r*r*n}function fV(e,t,n,r){return 2*((1-r)*(t-e)+r*(n-t))}function kKe(e,t,n,r,i){var o=e-2*t+n,s=2*(t-e),u=e-r,a=0;if(qf(o)){if(zQ(s)){var h=-u/s;h>=0&&h<=1&&(i[a++]=h)}}else{var m=s*s-4*o*u;if(qf(m)){var h=-s/(2*o);h>=0&&h<=1&&(i[a++]=h)}else if(m>0){var v=ep(m),h=(-s+v)/(2*o),_=(-s-v)/(2*o);h>=0&&h<=1&&(i[a++]=h),_>=0&&_<=1&&(i[a++]=_)}}return a}function FQ(e,t,n){var r=e+n-2*t;return r===0?.5:(e-t)/r}function gC(e,t,n,r,i){var o=(t-e)*r+e,s=(n-t)*r+t,u=(s-o)*r+o;i[0]=e,i[1]=o,i[2]=u,i[3]=u,i[4]=s,i[5]=n}function PKe(e,t,n,r,i,o,s,u,a){var h,m=.005,v=1/0;Yc[0]=s,Yc[1]=u;for(var _=0;_<1;_+=.05){vu[0]=il(e,n,i,_),vu[1]=il(t,r,o,_);var b=Wg(Yc,vu);b<v&&(h=_,v=b)}v=1/0;for(var T=0;T<32&&!(m<OQ);T++){var M=h-m,E=h+m;vu[0]=il(e,n,i,M),vu[1]=il(t,r,o,M);var b=Wg(vu,Yc);if(M>=0&&b<v)h=M,v=b;else{Yg[0]=il(e,n,i,E),Yg[1]=il(t,r,o,E);var k=Wg(Yg,Yc);E<=1&&k<v?(h=E,v=k):m*=.5}}return ep(v)}function LKe(e,t,n,r,i,o,s){for(var u=e,a=t,h=0,m=1/s,v=1;v<=s;v++){var _=v*m,b=il(e,n,i,_),T=il(t,r,o,_),M=b-u,E=T-a;h+=Math.sqrt(M*M+E*E),u=b,a=T}return h}var RKe=/cubic-bezier\(([0-9,\.e ]+)\)/;function NQ(e){var t=e&&RKe.exec(e);if(t){var n=t[1].split(","),r=+Xc(n[0]),i=+Xc(n[1]),o=+Xc(n[2]),s=+Xc(n[3]);if(isNaN(r+i+o+s))return;var u=[];return function(a){return a<=0?0:a>=1?1:mC(0,r,o,1,a,u)&&Jo(0,i,s,1,u[0])}}}var DKe=function(){function e(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||fl,this.ondestroy=t.ondestroy||fl,this.onrestart=t.onrestart||fl,t.easing&&this.setEasing(t.easing)}return e.prototype.step=function(t,n){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),this._paused){this._pausedTime+=n;return}var r=this._life,i=t-this._startTime-this._pausedTime,o=i/r;o<0&&(o=0),o=Math.min(o,1);var s=this.easingFunc,u=s?s(o):o;if(this.onframe(u),o===1)if(this.loop){var a=i%r;this._startTime=t-a,this._pausedTime=0,this.onrestart()}else return!0;return!1},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){this._paused=!1},e.prototype.setEasing=function(t){this.easing=t,this.easingFunc=Ai(t)?t:j2[t]||NQ(t)},e}(),$Q=function(){function e(t){this.value=t}return e}(),OKe=function(){function e(){this._len=0}return e.prototype.insert=function(t){var n=new $Q(t);return this.insertEntry(n),n},e.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},e.prototype.remove=function(t){var n=t.prev,r=t.next;n?n.next=r:this.head=r,r?r.prev=n:this.tail=n,t.next=t.prev=null,this._len--},e.prototype.len=function(){return this._len},e.prototype.clear=function(){this.head=this.tail=null,this._len=0},e}(),Cw=function(){function e(t){this._list=new OKe,this._maxSize=10,this._map={},this._maxSize=t}return e.prototype.put=function(t,n){var r=this._list,i=this._map,o=null;if(i[t]==null){var s=r.len(),u=this._lastRemovedEntry;if(s>=this._maxSize&&s>0){var a=r.head;r.remove(a),delete i[a.key],o=a.value,this._lastRemovedEntry=a}u?u.value=n:u=new $Q(n),u.key=t,r.insertEntry(u),i[t]=u}return o},e.prototype.get=function(t){var n=this._map[t],r=this._list;if(n!=null)return n!==r.tail&&(r.remove(n),r.insertEntry(n)),n.value},e.prototype.clear=function(){this._list.clear(),this._map={}},e.prototype.len=function(){return this._list.len()},e}(),pV={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function tp(e){return e=Math.round(e),e<0?0:e>255?255:e}function Ik(e){return e<0?0:e>1?1:e}function mE(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?tp(parseFloat(t)/100*255):tp(parseInt(t,10))}function G2(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?Ik(parseFloat(t)/100):Ik(parseFloat(t))}function vE(e,t,n){return n<0?n+=1:n>1&&(n-=1),n*6<1?e+(t-e)*n*6:n*2<1?t:n*3<2?e+(t-e)*(2/3-n)*6:e}function Z6(e,t,n){return e+(t-e)*n}function uu(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function kk(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var VQ=new Cw(20),X6=null;function rg(e,t){X6&&kk(X6,t),X6=VQ.put(e,X6||t.slice())}function ih(e,t){if(e){t=t||[];var n=VQ.get(e);if(n)return kk(t,n);e=e+"";var r=e.replace(/ /g,"").toLowerCase();if(r in pV)return kk(t,pV[r]),rg(e,t),t;var i=r.length;if(r.charAt(0)==="#"){if(i===4||i===5){var o=parseInt(r.slice(1,4),16);if(!(o>=0&&o<=4095)){uu(t,0,0,0,1);return}return uu(t,(o&3840)>>4|(o&3840)>>8,o&240|(o&240)>>4,o&15|(o&15)<<4,i===5?parseInt(r.slice(4),16)/15:1),rg(e,t),t}else if(i===7||i===9){var o=parseInt(r.slice(1,7),16);if(!(o>=0&&o<=16777215)){uu(t,0,0,0,1);return}return uu(t,(o&16711680)>>16,(o&65280)>>8,o&255,i===9?parseInt(r.slice(7),16)/255:1),rg(e,t),t}return}var s=r.indexOf("("),u=r.indexOf(")");if(s!==-1&&u+1===i){var a=r.substr(0,s),h=r.substr(s+1,u-(s+1)).split(","),m=1;switch(a){case"rgba":if(h.length!==4)return h.length===3?uu(t,+h[0],+h[1],+h[2],1):uu(t,0,0,0,1);m=G2(h.pop());case"rgb":if(h.length>=3)return uu(t,mE(h[0]),mE(h[1]),mE(h[2]),h.length===3?m:G2(h[3])),rg(e,t),t;uu(t,0,0,0,1);return;case"hsla":if(h.length!==4){uu(t,0,0,0,1);return}return h[3]=G2(h[3]),mV(h,t),rg(e,t),t;case"hsl":if(h.length!==3){uu(t,0,0,0,1);return}return mV(h,t),rg(e,t),t;default:return}}uu(t,0,0,0,1)}}function mV(e,t){var n=(parseFloat(e[0])%360+360)%360/360,r=G2(e[1]),i=G2(e[2]),o=i<=.5?i*(r+1):i+r-i*r,s=i*2-o;return t=t||[],uu(t,tp(vE(s,o,n+1/3)*255),tp(vE(s,o,n)*255),tp(vE(s,o,n-1/3)*255),1),e.length===4&&(t[3]=e[3]),t}function vV(e,t){var n=ih(e);if(n){for(var r=0;r<3;r++)n[r]=n[r]*(1-t)|0,n[r]>255?n[r]=255:n[r]<0&&(n[r]=0);return H8(n,n.length===4?"rgba":"rgb")}}function zKe(e,t,n){if(!(!(t&&t.length)||!(e>=0&&e<=1))){var r=e*(t.length-1),i=Math.floor(r),o=Math.ceil(r),s=ih(t[i]),u=ih(t[o]),a=r-i,h=H8([tp(Z6(s[0],u[0],a)),tp(Z6(s[1],u[1],a)),tp(Z6(s[2],u[2],a)),Ik(Z6(s[3],u[3],a))],"rgba");return n?{color:h,leftIndex:i,rightIndex:o,value:r}:h}}function H8(e,t){if(!(!e||!e.length)){var n=e[0]+","+e[1]+","+e[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(n+=","+e[3]),t+"("+n+")"}}function _C(e,t){var n=ih(e);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*t:0}var gV=new Cw(100);function _V(e){if(Zr(e)){var t=gV.get(e);return t||(t=vV(e,-.1),gV.put(e,t)),t}else if($8(e)){var n=vr({},e);return n.colorStops=xi(e.colorStops,function(r){return{offset:r.offset,color:vV(r.color,-.1)}}),n}return e}function BKe(e){return e.type==="linear"}function FKe(e){return e.type==="radial"}(function(){return Si.hasGlobalWindow&&Ai(window.btoa)?function(e){return window.btoa(unescape(encodeURIComponent(e)))}:typeof Buffer<"u"?function(e){return Buffer.from(e).toString("base64")}:function(e){return null}})();var Pk=Array.prototype.slice;function Wd(e,t,n){return(t-e)*n+e}function gE(e,t,n,r){for(var i=t.length,o=0;o<i;o++)e[o]=Wd(t[o],n[o],r);return e}function NKe(e,t,n,r){for(var i=t.length,o=i&&t[0].length,s=0;s<i;s++){e[s]||(e[s]=[]);for(var u=0;u<o;u++)e[s][u]=Wd(t[s][u],n[s][u],r)}return e}function J6(e,t,n,r){for(var i=t.length,o=0;o<i;o++)e[o]=t[o]+n[o]*r;return e}function yV(e,t,n,r){for(var i=t.length,o=i&&t[0].length,s=0;s<i;s++){e[s]||(e[s]=[]);for(var u=0;u<o;u++)e[s][u]=t[s][u]+n[s][u]*r}return e}function $Ke(e,t){for(var n=e.length,r=t.length,i=n>r?t:e,o=Math.min(n,r),s=i[o-1]||{color:[0,0,0,0],offset:0},u=o;u<Math.max(n,r);u++)i.push({offset:s.offset,color:s.color.slice()})}function VKe(e,t,n){var r=e,i=t;if(!(!r.push||!i.push)){var o=r.length,s=i.length;if(o!==s){var u=o>s;if(u)r.length=s;else for(var a=o;a<s;a++)r.push(n===1?i[a]:Pk.call(i[a]))}for(var h=r[0]&&r[0].length,a=0;a<r.length;a++)if(n===1)isNaN(r[a])&&(r[a]=i[a]);else for(var m=0;m<h;m++)isNaN(r[a][m])&&(r[a][m]=i[a][m])}}function dS(e){if(ml(e)){var t=e.length;if(ml(e[0])){for(var n=[],r=0;r<t;r++)n.push(Pk.call(e[r]));return n}return Pk.call(e)}return e}function hS(e){return e[0]=Math.floor(e[0])||0,e[1]=Math.floor(e[1])||0,e[2]=Math.floor(e[2])||0,e[3]=e[3]==null?1:e[3],"rgba("+e.join(",")+")"}function HKe(e){return ml(e&&e[0])?2:1}var Q6=0,fS=1,HQ=2,Cb=3,Lk=4,Rk=5,bV=6;function xV(e){return e===Lk||e===Rk}function e3(e){return e===fS||e===HQ}var eb=[0,0,0,0],UKe=function(){function e(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return e.prototype.isFinished=function(){return this._finished},e.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},e.prototype.needsAnimate=function(){return this.keyframes.length>=1},e.prototype.getAdditiveTrack=function(){return this._additiveTrack},e.prototype.addKeyframe=function(t,n,r){this._needsSort=!0;var i=this.keyframes,o=i.length,s=!1,u=bV,a=n;if(ml(n)){var h=HKe(n);u=h,(h===1&&!Ja(n[0])||h===2&&!Ja(n[0][0]))&&(s=!0)}else if(Ja(n)&&!hC(n))u=Q6;else if(Zr(n))if(!isNaN(+n))u=Q6;else{var m=ih(n);m&&(a=m,u=Cb)}else if($8(n)){var v=vr({},a);v.colorStops=xi(n.colorStops,function(b){return{offset:b.offset,color:ih(b.color)}}),BKe(n)?u=Lk:FKe(n)&&(u=Rk),a=v}o===0?this.valType=u:(u!==this.valType||u===bV)&&(s=!0),this.discrete=this.discrete||s;var _={time:t,value:a,rawValue:n,percent:0};return r&&(_.easing=r,_.easingFunc=Ai(r)?r:j2[r]||NQ(r)),i.push(_),_},e.prototype.prepare=function(t,n){var r=this.keyframes;this._needsSort&&r.sort(function(M,E){return M.time-E.time});for(var i=this.valType,o=r.length,s=r[o-1],u=this.discrete,a=e3(i),h=xV(i),m=0;m<o;m++){var v=r[m],_=v.value,b=s.value;v.percent=v.time/t,u||(a&&m!==o-1?VKe(_,b,i):h&&$Ke(_.colorStops,b.colorStops))}if(!u&&i!==Rk&&n&&this.needsAnimate()&&n.needsAnimate()&&i===n.valType&&!n._finished){this._additiveTrack=n;for(var T=r[0].value,m=0;m<o;m++)i===Q6?r[m].additiveValue=r[m].value-T:i===Cb?r[m].additiveValue=J6([],r[m].value,T,-1):e3(i)&&(r[m].additiveValue=i===fS?J6([],r[m].value,T,-1):yV([],r[m].value,T,-1))}},e.prototype.step=function(t,n){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var r=this._additiveTrack!=null,i=r?"additiveValue":"value",o=this.valType,s=this.keyframes,u=s.length,a=this.propName,h=o===Cb,m,v=this._lastFr,_=Math.min,b,T;if(u===1)b=T=s[0];else{if(n<0)m=0;else if(n<this._lastFrP){var M=_(v+1,u-1);for(m=M;m>=0&&!(s[m].percent<=n);m--);m=_(m,u-2)}else{for(m=v;m<u&&!(s[m].percent>n);m++);m=_(m-1,u-2)}T=s[m+1],b=s[m]}if(b&&T){this._lastFr=m,this._lastFrP=n;var E=T.percent-b.percent,k=E===0?1:_((n-b.percent)/E,1);T.easingFunc&&(k=T.easingFunc(k));var z=r?this._additiveValue:h?eb:t[a];if((e3(o)||h)&&!z&&(z=this._additiveValue=[]),this.discrete)t[a]=k<1?b.rawValue:T.rawValue;else if(e3(o))o===fS?gE(z,b[i],T[i],k):NKe(z,b[i],T[i],k);else if(xV(o)){var B=b[i],U=T[i],W=o===Lk;t[a]={type:W?"linear":"radial",x:Wd(B.x,U.x,k),y:Wd(B.y,U.y,k),colorStops:xi(B.colorStops,function(Q,te){var ie=U.colorStops[te];return{offset:Wd(Q.offset,ie.offset,k),color:hS(gE([],Q.color,ie.color,k))}}),global:U.global},W?(t[a].x2=Wd(B.x2,U.x2,k),t[a].y2=Wd(B.y2,U.y2,k)):t[a].r=Wd(B.r,U.r,k)}else if(h)gE(z,b[i],T[i],k),r||(t[a]=hS(z));else{var q=Wd(b[i],T[i],k);r?this._additiveValue=q:t[a]=q}r&&this._addToTarget(t)}}},e.prototype._addToTarget=function(t){var n=this.valType,r=this.propName,i=this._additiveValue;n===Q6?t[r]=t[r]+i:n===Cb?(ih(t[r],eb),J6(eb,eb,i,1),t[r]=hS(eb)):n===fS?J6(t[r],t[r],i,1):n===HQ&&yV(t[r],t[r],i,1)},e}(),iD=function(){function e(t,n,r,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=n,n&&i){JR("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=r}return e.prototype.getMaxTime=function(){return this._maxTime},e.prototype.getDelay=function(){return this._delay},e.prototype.getLoop=function(){return this._loop},e.prototype.getTarget=function(){return this._target},e.prototype.changeTarget=function(t){this._target=t},e.prototype.when=function(t,n,r){return this.whenWithKeys(t,n,Xa(n),r)},e.prototype.whenWithKeys=function(t,n,r,i){for(var o=this._tracks,s=0;s<r.length;s++){var u=r[s],a=o[u];if(!a){a=o[u]=new UKe(u);var h=void 0,m=this._getAdditiveTrack(u);if(m){var v=m.keyframes,_=v[v.length-1];h=_&&_.value,m.valType===Cb&&h&&(h=hS(h))}else h=this._target[u];if(h==null)continue;t>0&&a.addKeyframe(0,dS(h),i),this._trackKeys.push(u)}a.addKeyframe(t,dS(n[u]),i)}return this._maxTime=Math.max(this._maxTime,t),this},e.prototype.pause=function(){this._clip.pause(),this._paused=!0},e.prototype.resume=function(){this._clip.resume(),this._paused=!1},e.prototype.isPaused=function(){return!!this._paused},e.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},e.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var n=t.length,r=0;r<n;r++)t[r].call(this)},e.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,n=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,n)for(var r=0;r<n.length;r++)n[r].call(this)},e.prototype._setTracksFinished=function(){for(var t=this._tracks,n=this._trackKeys,r=0;r<n.length;r++)t[n[r]].setFinished()},e.prototype._getAdditiveTrack=function(t){var n,r=this._additiveAnimators;if(r)for(var i=0;i<r.length;i++){var o=r[i].getTrack(t);o&&(n=o)}return n},e.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var n=this,r=[],i=this._maxTime||0,o=0;o<this._trackKeys.length;o++){var s=this._trackKeys[o],u=this._tracks[s],a=this._getAdditiveTrack(s),h=u.keyframes,m=h.length;if(u.prepare(i,a),u.needsAnimate())if(!this._allowDiscrete&&u.discrete){var v=h[m-1];v&&(n._target[u.propName]=v.rawValue),u.setFinished()}else r.push(u)}if(r.length||this._force){var _=new DKe({life:i,loop:this._loop,delay:this._delay||0,onframe:function(b){n._started=2;var T=n._additiveAnimators;if(T){for(var M=!1,E=0;E<T.length;E++)if(T[E]._clip){M=!0;break}M||(n._additiveAnimators=null)}for(var E=0;E<r.length;E++)r[E].step(n._target,b);var k=n._onframeCbs;if(k)for(var E=0;E<k.length;E++)k[E](n._target,b)},ondestroy:function(){n._doneCallback()}});this._clip=_,this.animation&&this.animation.addClip(_),t&&_.setEasing(t)}else this._doneCallback();return this}},e.prototype.stop=function(t){if(this._clip){var n=this._clip;t&&n.onframe(1),this._abortedCallback()}},e.prototype.delay=function(t){return this._delay=t,this},e.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},e.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},e.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},e.prototype.getClip=function(){return this._clip},e.prototype.getTrack=function(t){return this._tracks[t]},e.prototype.getTracks=function(){var t=this;return xi(this._trackKeys,function(n){return t._tracks[n]})},e.prototype.stopTracks=function(t,n){if(!t.length||!this._clip)return!0;for(var r=this._tracks,i=this._trackKeys,o=0;o<t.length;o++){var s=r[t[o]];s&&!s.isFinished()&&(n?s.step(this._target,1):this._started===1&&s.step(this._target,0),s.setFinished())}for(var u=!0,o=0;o<i.length;o++)if(!r[i[o]].isFinished()){u=!1;break}return u&&this._abortedCallback(),u},e.prototype.saveTo=function(t,n,r){if(t){n=n||this._trackKeys;for(var i=0;i<n.length;i++){var o=n[i],s=this._tracks[o];if(!(!s||s.isFinished())){var u=s.keyframes,a=u[r?0:u.length-1];a&&(t[o]=dS(a.rawValue))}}}},e.prototype.__changeFinalValue=function(t,n){n=n||Xa(t);for(var r=0;r<n.length;r++){var i=n[r],o=this._tracks[i];if(o){var s=o.keyframes;if(s.length>1){var u=s.pop();o.addKeyframe(u.time,t[i]),o.prepare(this._maxTime,o.getAdditiveTrack())}}}},e}();function Pg(){return new Date().getTime()}var jKe=function(e){Pr(t,e);function t(n){var r=e.call(this)||this;return r._running=!1,r._time=0,r._pausedTime=0,r._pauseStart=0,r._paused=!1,n=n||{},r.stage=n.stage||{},r}return t.prototype.addClip=function(n){n.animation&&this.removeClip(n),this._head?(this._tail.next=n,n.prev=this._tail,n.next=null,this._tail=n):this._head=this._tail=n,n.animation=this},t.prototype.addAnimator=function(n){n.animation=this;var r=n.getClip();r&&this.addClip(r)},t.prototype.removeClip=function(n){if(n.animation){var r=n.prev,i=n.next;r?r.next=i:this._head=i,i?i.prev=r:this._tail=r,n.next=n.prev=n.animation=null}},t.prototype.removeAnimator=function(n){var r=n.getClip();r&&this.removeClip(r),n.animation=null},t.prototype.update=function(n){for(var r=Pg()-this._pausedTime,i=r-this._time,o=this._head;o;){var s=o.next,u=o.step(r,i);u&&(o.ondestroy(),this.removeClip(o)),o=s}this._time=r,n||(this.trigger("frame",i),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var n=this;this._running=!0;function r(){n._running&&(fC(r),!n._paused&&n.update())}fC(r)},t.prototype.start=function(){this._running||(this._time=Pg(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=Pg(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=Pg()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var n=this._head;n;){var r=n.next;n.prev=n.next=n.animation=null,n=r}this._head=this._tail=null},t.prototype.isFinished=function(){return this._head==null},t.prototype.animate=function(n,r){r=r||{},this.start();var i=new iD(n,r.loop);return this.addAnimator(i),i},t}(_d),GKe=300,_E=Si.domSupported,yE=function(){var e=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],n={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},r=xi(e,function(i){var o=i.replace("mouse","pointer");return n.hasOwnProperty(o)?o:i});return{mouse:e,touch:t,pointer:r}}(),wV={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},SV=!1;function Dk(e){var t=e.pointerType;return t==="pen"||t==="touch"}function WKe(e){e.touching=!0,e.touchTimer!=null&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout(function(){e.touching=!1,e.touchTimer=null},700)}function bE(e){e&&(e.zrByTouch=!0)}function qKe(e,t){return du(e.dom,new KKe(e,t),!0)}function UQ(e,t){for(var n=t,r=!1;n&&n.nodeType!==9&&!(r=n.domBelongToZr||n!==t&&n===e.painterRoot);)n=n.parentNode;return r}var KKe=function(){function e(t,n){this.stopPropagation=fl,this.stopImmediatePropagation=fl,this.preventDefault=fl,this.type=n.type,this.target=this.currentTarget=t.dom,this.pointerType=n.pointerType,this.clientX=n.clientX,this.clientY=n.clientY}return e}(),tc={mousedown:function(e){e=du(this.dom,e),this.__mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=du(this.dom,e);var t=this.__mayPointerCapture;t&&(e.zrX!==t[0]||e.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",e)},mouseup:function(e){e=du(this.dom,e),this.__togglePointerCapture(!1),this.trigger("mouseup",e)},mouseout:function(e){e=du(this.dom,e);var t=e.toElement||e.relatedTarget;UQ(this,t)||(this.__pointerCapturing&&(e.zrEventControl="no_globalout"),this.trigger("mouseout",e))},wheel:function(e){SV=!0,e=du(this.dom,e),this.trigger("mousewheel",e)},mousewheel:function(e){SV||(e=du(this.dom,e),this.trigger("mousewheel",e))},touchstart:function(e){e=du(this.dom,e),bE(e),this.__lastTouchMoment=new Date,this.handler.processGesture(e,"start"),tc.mousemove.call(this,e),tc.mousedown.call(this,e)},touchmove:function(e){e=du(this.dom,e),bE(e),this.handler.processGesture(e,"change"),tc.mousemove.call(this,e)},touchend:function(e){e=du(this.dom,e),bE(e),this.handler.processGesture(e,"end"),tc.mouseup.call(this,e),+new Date-+this.__lastTouchMoment<GKe&&tc.click.call(this,e)},pointerdown:function(e){tc.mousedown.call(this,e)},pointermove:function(e){Dk(e)||tc.mousemove.call(this,e)},pointerup:function(e){tc.mouseup.call(this,e)},pointerout:function(e){Dk(e)||tc.mouseout.call(this,e)}};Gt(["click","dblclick","contextmenu"],function(e){tc[e]=function(t){t=du(this.dom,t),this.trigger(e,t)}});var Ok={pointermove:function(e){Dk(e)||Ok.mousemove.call(this,e)},pointerup:function(e){Ok.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function YKe(e,t){var n=t.domHandlers;Si.pointerEventsSupported?Gt(yE.pointer,function(r){pS(t,r,function(i){n[r].call(e,i)})}):(Si.touchEventsSupported&&Gt(yE.touch,function(r){pS(t,r,function(i){n[r].call(e,i),WKe(t)})}),Gt(yE.mouse,function(r){pS(t,r,function(i){i=eD(i),t.touching||n[r].call(e,i)})}))}function ZKe(e,t){Si.pointerEventsSupported?Gt(wV.pointer,n):Si.touchEventsSupported||Gt(wV.mouse,n);function n(r){function i(o){o=eD(o),UQ(e,o.target)||(o=qKe(e,o),t.domHandlers[r].call(e,o))}pS(t,r,i,{capture:!0})}}function pS(e,t,n,r){e.mounted[t]=n,e.listenerOpts[t]=r,fKe(e.domTarget,t,n,r)}function xE(e){var t=e.mounted;for(var n in t)t.hasOwnProperty(n)&&pKe(e.domTarget,n,t[n],e.listenerOpts[n]);e.mounted={}}var CV=function(){function e(t,n){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=n}return e}(),XKe=function(e){Pr(t,e);function t(n,r){var i=e.call(this)||this;return i.__pointerCapturing=!1,i.dom=n,i.painterRoot=r,i._localHandlerScope=new CV(n,tc),_E&&(i._globalHandlerScope=new CV(document,Ok)),YKe(i,i._localHandlerScope),i}return t.prototype.dispose=function(){xE(this._localHandlerScope),_E&&xE(this._globalHandlerScope)},t.prototype.setCursor=function(n){this.dom.style&&(this.dom.style.cursor=n||"default")},t.prototype.__togglePointerCapture=function(n){if(this.__mayPointerCapture=null,_E&&+this.__pointerCapturing^+n){this.__pointerCapturing=n;var r=this._globalHandlerScope;n?ZKe(this,r):xE(r)}},t}(_d),jQ=1;Si.hasGlobalWindow&&(jQ=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var yC=jQ,zk=.4,Bk="#333",Fk="#ccc",JKe="#eee",TV=tD,MV=5e-5;function bm(e){return e>MV||e<-MV}var xm=[],ig=[],wE=qg(),SE=Math.abs,aD=function(){function e(){}return e.prototype.getLocalTransform=function(t){return e.getLocalTransform(this,t)},e.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},e.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},e.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},e.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},e.prototype.needLocalTransform=function(){return bm(this.rotation)||bm(this.x)||bm(this.y)||bm(this.scaleX-1)||bm(this.scaleY-1)||bm(this.skewX)||bm(this.skewY)},e.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,n=this.needLocalTransform(),r=this.transform;if(!(n||t)){r&&(TV(r),this.invTransform=null);return}r=r||qg(),n?this.getLocalTransform(r):TV(r),t&&(n?Kg(r,t,r):gKe(r,t)),this.transform=r,this._resolveGlobalScaleRatio(r)},e.prototype._resolveGlobalScaleRatio=function(t){var n=this.globalScaleRatio;if(n!=null&&n!==1){this.getGlobalScale(xm);var r=xm[0]<0?-1:1,i=xm[1]<0?-1:1,o=((xm[0]-r)*n+r)/xm[0]||0,s=((xm[1]-i)*n+i)/xm[1]||0;t[0]*=o,t[1]*=o,t[2]*=s,t[3]*=s}this.invTransform=this.invTransform||qg(),rD(this.invTransform,t)},e.prototype.getComputedTransform=function(){for(var t=this,n=[];t;)n.push(t),t=t.parent;for(;t=n.pop();)t.updateTransform();return this.transform},e.prototype.setLocalTransform=function(t){if(t){var n=t[0]*t[0]+t[1]*t[1],r=t[2]*t[2]+t[3]*t[3],i=Math.atan2(t[1],t[0]),o=Math.PI/2+i-Math.atan2(t[3],t[2]);r=Math.sqrt(r)*Math.cos(o),n=Math.sqrt(n),this.skewX=o,this.skewY=0,this.rotation=-i,this.x=+t[4],this.y=+t[5],this.scaleX=n,this.scaleY=r,this.originX=0,this.originY=0}},e.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,n=this.transform;t&&t.transform&&(t.invTransform=t.invTransform||qg(),Kg(ig,t.invTransform,n),n=ig);var r=this.originX,i=this.originY;(r||i)&&(wE[4]=r,wE[5]=i,Kg(ig,n,wE),ig[4]-=r,ig[5]-=i,n=ig),this.setLocalTransform(n)}},e.prototype.getGlobalScale=function(t){var n=this.transform;return t=t||[],n?(t[0]=Math.sqrt(n[0]*n[0]+n[1]*n[1]),t[1]=Math.sqrt(n[2]*n[2]+n[3]*n[3]),n[0]<0&&(t[0]=-t[0]),n[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},e.prototype.transformCoordToLocal=function(t,n){var r=[t,n],i=this.invTransform;return i&&Tu(r,r,i),r},e.prototype.transformCoordToGlobal=function(t,n){var r=[t,n],i=this.transform;return i&&Tu(r,r,i),r},e.prototype.getLineScale=function(){var t=this.transform;return t&&SE(t[0]-1)>1e-10&&SE(t[3]-1)>1e-10?Math.sqrt(SE(t[0]*t[3]-t[2]*t[1])):1},e.prototype.copyTransform=function(t){QKe(this,t)},e.getLocalTransform=function(t,n){n=n||[];var r=t.originX||0,i=t.originY||0,o=t.scaleX,s=t.scaleY,u=t.anchorX,a=t.anchorY,h=t.rotation||0,m=t.x,v=t.y,_=t.skewX?Math.tan(t.skewX):0,b=t.skewY?Math.tan(-t.skewY):0;if(r||i||u||a){var T=r+u,M=i+a;n[4]=-T*o-_*M*s,n[5]=-M*s-b*T*o}else n[4]=n[5]=0;return n[0]=o,n[3]=s,n[1]=b*o,n[2]=_*s,h&&nD(n,n,h),n[4]+=r+m,n[5]+=i+v,n},e.initDefaultProps=function(){var t=e.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0}(),e}(),Hx=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function QKe(e,t){for(var n=0;n<Hx.length;n++){var r=Hx[n];e[r]=t[r]}}var EV={};function Vl(e,t){t=t||S0;var n=EV[t];n||(n=EV[t]=new Cw(500));var r=n.get(e);return r==null&&(r=j_.measureText(e,t).width,n.put(e,r)),r}function AV(e,t,n,r){var i=Vl(e,t),o=sD(t),s=Tb(0,i,n),u=Sg(0,o,r),a=new ha(s,u,i,o);return a}function oD(e,t,n,r){var i=((e||"")+"").split(`
`),o=i.length;if(o===1)return AV(i[0],t,n,r);for(var s=new ha(0,0,0,0),u=0;u<i.length;u++){var a=AV(i[u],t,n,r);u===0?s.copy(a):s.union(a)}return s}function Tb(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function Sg(e,t,n){return n==="middle"?e-=t/2:n==="bottom"&&(e-=t),e}function sD(e){return Vl("",e)}function C0(e,t){return typeof e=="string"?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function GQ(e,t,n){var r=t.position||"inside",i=t.distance!=null?t.distance:5,o=n.height,s=n.width,u=o/2,a=n.x,h=n.y,m="left",v="top";if(r instanceof Array)a+=C0(r[0],n.width),h+=C0(r[1],n.height),m=null,v=null;else switch(r){case"left":a-=i,h+=u,m="right",v="middle";break;case"right":a+=i+s,h+=u,v="middle";break;case"top":a+=s/2,h-=i,m="center",v="bottom";break;case"bottom":a+=s/2,h+=o+i,m="center";break;case"inside":a+=s/2,h+=u,m="center",v="middle";break;case"insideLeft":a+=i,h+=u,v="middle";break;case"insideRight":a+=s-i,h+=u,m="right",v="middle";break;case"insideTop":a+=s/2,h+=i,m="center";break;case"insideBottom":a+=s/2,h+=o-i,m="center",v="bottom";break;case"insideTopLeft":a+=i,h+=i;break;case"insideTopRight":a+=s-i,h+=i,m="right";break;case"insideBottomLeft":a+=i,h+=o-i,v="bottom";break;case"insideBottomRight":a+=s-i,h+=o-i,m="right",v="bottom";break}return e=e||{},e.x=a,e.y=h,e.align=m,e.verticalAlign=v,e}var CE="__zr_normal__",TE=Hx.concat(["ignore"]),eYe=G_(Hx,function(e,t){return e[t]=!0,e},{ignore:!1}),ag={},tYe=new ha(0,0,0,0),U8=function(){function e(t){this.id=CQ(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return e.prototype._init=function(t){this.attr(t)},e.prototype.drift=function(t,n,r){switch(this.draggable){case"horizontal":n=0;break;case"vertical":t=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=n,this.decomposeTransform(),this.markRedraw()},e.prototype.beforeUpdate=function(){},e.prototype.afterUpdate=function(){},e.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},e.prototype.updateInnerText=function(t){var n=this._textContent;if(n&&(!n.ignore||t)){this.textConfig||(this.textConfig={});var r=this.textConfig,i=r.local,o=n.innerTransformable,s=void 0,u=void 0,a=!1;o.parent=i?this:null;var h=!1;if(o.copyTransform(n),r.position!=null){var m=tYe;r.layoutRect?m.copy(r.layoutRect):m.copy(this.getBoundingRect()),i||m.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(ag,r,m):GQ(ag,r,m),o.x=ag.x,o.y=ag.y,s=ag.align,u=ag.verticalAlign;var v=r.origin;if(v&&r.rotation!=null){var _=void 0,b=void 0;v==="center"?(_=m.width*.5,b=m.height*.5):(_=C0(v[0],m.width),b=C0(v[1],m.height)),h=!0,o.originX=-o.x+_+(i?0:m.x),o.originY=-o.y+b+(i?0:m.y)}}r.rotation!=null&&(o.rotation=r.rotation);var T=r.offset;T&&(o.x+=T[0],o.y+=T[1],h||(o.originX=-T[0],o.originY=-T[1]));var M=r.inside==null?typeof r.position=="string"&&r.position.indexOf("inside")>=0:r.inside,E=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),k=void 0,z=void 0,B=void 0;M&&this.canBeInsideText()?(k=r.insideFill,z=r.insideStroke,(k==null||k==="auto")&&(k=this.getInsideTextFill()),(z==null||z==="auto")&&(z=this.getInsideTextStroke(k),B=!0)):(k=r.outsideFill,z=r.outsideStroke,(k==null||k==="auto")&&(k=this.getOutsideFill()),(z==null||z==="auto")&&(z=this.getOutsideStroke(k),B=!0)),k=k||"#000",(k!==E.fill||z!==E.stroke||B!==E.autoStroke||s!==E.align||u!==E.verticalAlign)&&(a=!0,E.fill=k,E.stroke=z,E.autoStroke=B,E.align=s,E.verticalAlign=u,n.setDefaultTextStyle(E)),n.__dirty|=Ol,a&&n.dirtyStyle(!0)}},e.prototype.canBeInsideText=function(){return!0},e.prototype.getInsideTextFill=function(){return"#fff"},e.prototype.getInsideTextStroke=function(t){return"#000"},e.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?Fk:Bk},e.prototype.getOutsideStroke=function(t){var n=this.__zr&&this.__zr.getBackgroundColor(),r=typeof n=="string"&&ih(n);r||(r=[255,255,255,1]);for(var i=r[3],o=this.__zr.isDarkMode(),s=0;s<3;s++)r[s]=r[s]*i+(o?0:255)*(1-i);return r[3]=1,H8(r,"rgba")},e.prototype.traverse=function(t,n){},e.prototype.attrKV=function(t,n){t==="textConfig"?this.setTextConfig(n):t==="textContent"?this.setTextContent(n):t==="clipPath"?this.setClipPath(n):t==="extra"?(this.extra=this.extra||{},vr(this.extra,n)):this[t]=n},e.prototype.hide=function(){this.ignore=!0,this.markRedraw()},e.prototype.show=function(){this.ignore=!1,this.markRedraw()},e.prototype.attr=function(t,n){if(typeof t=="string")this.attrKV(t,n);else if(oi(t))for(var r=t,i=Xa(r),o=0;o<i.length;o++){var s=i[o];this.attrKV(s,t[s])}return this.markRedraw(),this},e.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var n=this._normalState,r=0;r<this.animators.length;r++){var i=this.animators[r],o=i.__fromStateTransition;if(!(i.getLoop()||o&&o!==CE)){var s=i.targetName,u=s?n[s]:n;i.saveTo(u)}}},e.prototype._innerSaveToNormal=function(t){var n=this._normalState;n||(n=this._normalState={}),t.textConfig&&!n.textConfig&&(n.textConfig=this.textConfig),this._savePrimaryToNormal(t,n,TE)},e.prototype._savePrimaryToNormal=function(t,n,r){for(var i=0;i<r.length;i++){var o=r[i];t[o]!=null&&!(o in n)&&(n[o]=this[o])}},e.prototype.hasState=function(){return this.currentStates.length>0},e.prototype.getState=function(t){return this.states[t]},e.prototype.ensureState=function(t){var n=this.states;return n[t]||(n[t]={}),n[t]},e.prototype.clearStates=function(t){this.useState(CE,!1,t)},e.prototype.useState=function(t,n,r,i){var o=t===CE,s=this.hasState();if(!(!s&&o)){var u=this.currentStates,a=this.stateTransition;if(!(Ta(u,t)>=0&&(n||u.length===1))){var h;if(this.stateProxy&&!o&&(h=this.stateProxy(t)),h||(h=this.states&&this.states[t]),!h&&!o){JR("State "+t+" not exists.");return}o||this.saveCurrentToNormalState(h);var m=!!(h&&h.hoverLayer||i);m&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,h,this._normalState,n,!r&&!this.__inHover&&a&&a.duration>0,a);var v=this._textContent,_=this._textGuide;return v&&v.useState(t,n,r,m),_&&_.useState(t,n,r,m),o?(this.currentStates=[],this._normalState={}):n?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!m&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Ol),h}}},e.prototype.useStates=function(t,n,r){if(!t.length)this.clearStates();else{var i=[],o=this.currentStates,s=t.length,u=s===o.length;if(u){for(var a=0;a<s;a++)if(t[a]!==o[a]){u=!1;break}}if(u)return;for(var a=0;a<s;a++){var h=t[a],m=void 0;this.stateProxy&&(m=this.stateProxy(h,t)),m||(m=this.states[h]),m&&i.push(m)}var v=i[s-1],_=!!(v&&v.hoverLayer||r);_&&this._toggleHoverLayerFlag(!0);var b=this._mergeStates(i),T=this.stateTransition;this.saveCurrentToNormalState(b),this._applyStateObj(t.join(","),b,this._normalState,!1,!n&&!this.__inHover&&T&&T.duration>0,T);var M=this._textContent,E=this._textGuide;M&&M.useStates(t,n,_),E&&E.useStates(t,n,_),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!_&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Ol)}},e.prototype.isSilent=function(){for(var t=this.silent,n=this.parent;!t&&n;){if(n.silent){t=!0;break}n=n.parent}return t},e.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var n=this.animators[t];n.targetName&&n.changeTarget(this[n.targetName])}},e.prototype.removeState=function(t){var n=Ta(this.currentStates,t);if(n>=0){var r=this.currentStates.slice();r.splice(n,1),this.useStates(r)}},e.prototype.replaceState=function(t,n,r){var i=this.currentStates.slice(),o=Ta(i,t),s=Ta(i,n)>=0;o>=0?s?i.splice(o,1):i[o]=n:r&&!s&&i.push(n),this.useStates(i)},e.prototype.toggleState=function(t,n){n?this.useState(t,!0):this.removeState(t)},e.prototype._mergeStates=function(t){for(var n={},r,i=0;i<t.length;i++){var o=t[i];vr(n,o),o.textConfig&&(r=r||{},vr(r,o.textConfig))}return r&&(n.textConfig=r),n},e.prototype._applyStateObj=function(t,n,r,i,o,s){var u=!(n&&i);n&&n.textConfig?(this.textConfig=vr({},i?this.textConfig:r.textConfig),vr(this.textConfig,n.textConfig)):u&&r.textConfig&&(this.textConfig=r.textConfig);for(var a={},h=!1,m=0;m<TE.length;m++){var v=TE[m],_=o&&eYe[v];n&&n[v]!=null?_?(h=!0,a[v]=n[v]):this[v]=n[v]:u&&r[v]!=null&&(_?(h=!0,a[v]=r[v]):this[v]=r[v])}if(!o)for(var m=0;m<this.animators.length;m++){var b=this.animators[m],T=b.targetName;b.getLoop()||b.__changeFinalValue(T?(n||r)[T]:n||r)}h&&this._transitionState(t,a,s)},e.prototype._attachComponent=function(t){if(!(t.__zr&&!t.__hostTarget)&&t!==this){var n=this.__zr;n&&t.addSelfToZr(n),t.__zr=n,t.__hostTarget=this}},e.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},e.prototype.getClipPath=function(){return this._clipPath},e.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},e.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},e.prototype.getTextContent=function(){return this._textContent},e.prototype.setTextContent=function(t){var n=this._textContent;n!==t&&(n&&n!==t&&this.removeTextContent(),t.innerTransformable=new aD,this._attachComponent(t),this._textContent=t,this.markRedraw())},e.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),vr(this.textConfig,t),this.markRedraw()},e.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},e.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},e.prototype.getTextGuideLine=function(){return this._textGuide},e.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},e.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},e.prototype.markRedraw=function(){this.__dirty|=Ol;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},e.prototype.dirty=function(){this.markRedraw()},e.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var n=this._textContent,r=this._textGuide;n&&(n.__inHover=t),r&&(r.__inHover=t)},e.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var n=this.animators;if(n)for(var r=0;r<n.length;r++)t.animation.addAnimator(n[r]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},e.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var n=this.animators;if(n)for(var r=0;r<n.length;r++)t.animation.removeAnimator(n[r]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},e.prototype.animate=function(t,n,r){var i=t?this[t]:this,o=new iD(i,n,r);return t&&(o.targetName=t),this.addAnimator(o,t),o},e.prototype.addAnimator=function(t,n){var r=this.__zr,i=this;t.during(function(){i.updateDuringAnimation(n)}).done(function(){var o=i.animators,s=Ta(o,t);s>=0&&o.splice(s,1)}),this.animators.push(t),r&&r.animation.addAnimator(t),r&&r.wakeUp()},e.prototype.updateDuringAnimation=function(t){this.markRedraw()},e.prototype.stopAnimation=function(t,n){for(var r=this.animators,i=r.length,o=[],s=0;s<i;s++){var u=r[s];!t||t===u.scope?u.stop(n):o.push(u)}return this.animators=o,this},e.prototype.animateTo=function(t,n,r){ME(this,t,n,r)},e.prototype.animateFrom=function(t,n,r){ME(this,t,n,r,!0)},e.prototype._transitionState=function(t,n,r,i){for(var o=ME(this,n,r,i),s=0;s<o.length;s++)o[s].__fromStateTransition=t},e.prototype.getBoundingRect=function(){return null},e.prototype.getPaintRect=function(){return null},e.initDefaultProps=function(){var t=e.prototype;t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=Ol;function n(r,i,o,s){Object.defineProperty(t,r,{get:function(){if(!this[i]){var a=this[i]=[];u(this,a)}return this[i]},set:function(a){this[o]=a[0],this[s]=a[1],this[i]=a,u(this,a)}});function u(a,h){Object.defineProperty(h,0,{get:function(){return a[o]},set:function(m){a[o]=m}}),Object.defineProperty(h,1,{get:function(){return a[s]},set:function(m){a[s]=m}})}}Object.defineProperty&&(n("position","_legacyPos","x","y"),n("scale","_legacyScale","scaleX","scaleY"),n("origin","_legacyOrigin","originX","originY"))}(),e}();gd(U8,_d);gd(U8,aD);function ME(e,t,n,r,i){n=n||{};var o=[];WQ(e,"",e,t,n,r,o,i);var s=o.length,u=!1,a=n.done,h=n.aborted,m=function(){u=!0,s--,s<=0&&(u?a&&a():h&&h())},v=function(){s--,s<=0&&(u?a&&a():h&&h())};s||a&&a(),o.length>0&&n.during&&o[0].during(function(T,M){n.during(M)});for(var _=0;_<o.length;_++){var b=o[_];m&&b.done(m),v&&b.aborted(v),n.force&&b.duration(n.duration),b.start(n.easing)}return o}function EE(e,t,n){for(var r=0;r<n;r++)e[r]=t[r]}function nYe(e){return ml(e[0])}function rYe(e,t,n){if(ml(t[n]))if(ml(e[n])||(e[n]=[]),vl(t[n])){var r=t[n].length;e[n].length!==r&&(e[n]=new t[n].constructor(r),EE(e[n],t[n],r))}else{var i=t[n],o=e[n],s=i.length;if(nYe(i))for(var u=i[0].length,a=0;a<s;a++)o[a]?EE(o[a],i[a],u):o[a]=Array.prototype.slice.call(i[a]);else EE(o,i,s);o.length=i.length}else e[n]=t[n]}function iYe(e,t){return e===t||ml(e)&&ml(t)&&aYe(e,t)}function aYe(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function WQ(e,t,n,r,i,o,s,u){for(var a=Xa(r),h=i.duration,m=i.delay,v=i.additive,_=i.setToFinal,b=!oi(o),T=e.animators,M=[],E=0;E<a.length;E++){var k=a[E],z=r[k];if(z!=null&&n[k]!=null&&(b||o[k]))if(oi(z)&&!ml(z)&&!$8(z)){if(t){u||(n[k]=z,e.updateDuringAnimation(t));continue}WQ(e,k,n[k],z,i,o&&o[k],s,u)}else M.push(k);else u||(n[k]=z,e.updateDuringAnimation(t),M.push(k))}var B=M.length;if(!v&&B)for(var U=0;U<T.length;U++){var W=T[U];if(W.targetName===t){var q=W.stopTracks(M);if(q){var Q=Ta(T,W);T.splice(Q,1)}}}if(i.force||(M=Ns(M,function(re){return!iYe(r[re],n[re])}),B=M.length),B>0||i.force&&!s.length){var te=void 0,ie=void 0,ae=void 0;if(u){ie={},_&&(te={});for(var U=0;U<B;U++){var k=M[U];ie[k]=n[k],_?te[k]=r[k]:n[k]=r[k]}}else if(_){ae={};for(var U=0;U<B;U++){var k=M[U];ae[k]=dS(n[k]),rYe(n,r,k)}}var W=new iD(n,!1,!1,v?Ns(T,function(se){return se.targetName===t}):null);W.targetName=t,i.scope&&(W.scope=i.scope),_&&te&&W.whenWithKeys(0,te,M),ae&&W.whenWithKeys(0,ae,M),W.whenWithKeys(h??500,u?ie:r,M).delay(m||0),e.addAnimator(W,t),s.push(W)}}var ws=function(e){Pr(t,e);function t(n){var r=e.call(this)||this;return r.isGroup=!0,r._children=[],r.attr(n),r}return t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(n){return this._children[n]},t.prototype.childOfName=function(n){for(var r=this._children,i=0;i<r.length;i++)if(r[i].name===n)return r[i]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(n){return n&&n!==this&&n.parent!==this&&(this._children.push(n),this._doAdd(n)),this},t.prototype.addBefore=function(n,r){if(n&&n!==this&&n.parent!==this&&r&&r.parent===this){var i=this._children,o=i.indexOf(r);o>=0&&(i.splice(o,0,n),this._doAdd(n))}return this},t.prototype.replace=function(n,r){var i=Ta(this._children,n);return i>=0&&this.replaceAt(r,i),this},t.prototype.replaceAt=function(n,r){var i=this._children,o=i[r];if(n&&n!==this&&n.parent!==this&&n!==o){i[r]=n,o.parent=null;var s=this.__zr;s&&o.removeSelfFromZr(s),this._doAdd(n)}return this},t.prototype._doAdd=function(n){n.parent&&n.parent.remove(n),n.parent=this;var r=this.__zr;r&&r!==n.__zr&&n.addSelfToZr(r),r&&r.refresh()},t.prototype.remove=function(n){var r=this.__zr,i=this._children,o=Ta(i,n);return o<0?this:(i.splice(o,1),n.parent=null,r&&n.removeSelfFromZr(r),r&&r.refresh(),this)},t.prototype.removeAll=function(){for(var n=this._children,r=this.__zr,i=0;i<n.length;i++){var o=n[i];r&&o.removeSelfFromZr(r),o.parent=null}return n.length=0,this},t.prototype.eachChild=function(n,r){for(var i=this._children,o=0;o<i.length;o++){var s=i[o];n.call(r,s,o)}return this},t.prototype.traverse=function(n,r){for(var i=0;i<this._children.length;i++){var o=this._children[i],s=n.call(r,o);o.isGroup&&!s&&o.traverse(n,r)}return this},t.prototype.addSelfToZr=function(n){e.prototype.addSelfToZr.call(this,n);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.addSelfToZr(n)}},t.prototype.removeSelfFromZr=function(n){e.prototype.removeSelfFromZr.call(this,n);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.removeSelfFromZr(n)}},t.prototype.getBoundingRect=function(n){for(var r=new ha(0,0,0,0),i=n||this._children,o=[],s=null,u=0;u<i.length;u++){var a=i[u];if(!(a.ignore||a.invisible)){var h=a.getBoundingRect(),m=a.getLocalTransform(o);m?(ha.applyTransform(r,h,m),s=s||r.clone(),s.union(r)):(s=s||h.clone(),s.union(h))}}return s||r},t}(U8);ws.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var mS={},qQ={};function oYe(e){delete qQ[e]}function sYe(e){if(!e)return!1;if(typeof e=="string")return _C(e,1)<zk;if(e.colorStops){for(var t=e.colorStops,n=0,r=t.length,i=0;i<r;i++)n+=_C(t[i].color,1);return n/=r,n<zk}return!1}var lYe=function(){function e(t,n,r){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,r=r||{},this.dom=n,this.id=t;var o=new EKe,s=r.renderer||"canvas";mS[s]||(s=Xa(mS)[0]),r.useDirtyRect=r.useDirtyRect==null?!1:r.useDirtyRect;var u=new mS[s](n,o,r,t),a=r.ssr||u.ssrOnly;this.storage=o,this.painter=u;var h=!Si.node&&!Si.worker&&!a?new XKe(u.getViewportRoot(),u.root):null,m=r.useCoarsePointer,v=m==null||m==="auto"?Si.touchEventsSupported:!!m,_=44,b;v&&(b=Qi(r.pointerSize,_)),this.handler=new LQ(o,u,h,u.root,b),this.animation=new jKe({stage:{update:a?null:function(){return i._flush(!0)}}}),a||this.animation.start()}return e.prototype.add=function(t){this._disposed||!t||(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},e.prototype.remove=function(t){this._disposed||!t||(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},e.prototype.configLayer=function(t,n){this._disposed||(this.painter.configLayer&&this.painter.configLayer(t,n),this.refresh())},e.prototype.setBackgroundColor=function(t){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=sYe(t))},e.prototype.getBackgroundColor=function(){return this._backgroundColor},e.prototype.setDarkMode=function(t){this._darkMode=t},e.prototype.isDarkMode=function(){return this._darkMode},e.prototype.refreshImmediately=function(t){this._disposed||(t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},e.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},e.prototype.flush=function(){this._disposed||this._flush(!1)},e.prototype._flush=function(t){var n,r=Pg();this._needsRefresh&&(n=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(n=!0,this.refreshHoverImmediately());var i=Pg();n?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-r})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},e.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},e.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},e.prototype.refreshHover=function(){this._needsRefreshHover=!0},e.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},e.prototype.resize=function(t){this._disposed||(t=t||{},this.painter.resize(t.width,t.height),this.handler.resize())},e.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},e.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},e.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},e.prototype.setCursorStyle=function(t){this._disposed||this.handler.setCursorStyle(t)},e.prototype.findHover=function(t,n){if(!this._disposed)return this.handler.findHover(t,n)},e.prototype.on=function(t,n,r){return this._disposed||this.handler.on(t,n,r),this},e.prototype.off=function(t,n){this._disposed||this.handler.off(t,n)},e.prototype.trigger=function(t,n){this._disposed||this.handler.trigger(t,n)},e.prototype.clear=function(){if(!this._disposed){for(var t=this.storage.getRoots(),n=0;n<t.length;n++)t[n]instanceof ws&&t[n].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},e.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,oYe(this.id))},e}();function IV(e,t){var n=new lYe(CQ(),e,t);return qQ[n.id]=n,n}function uYe(e,t){mS[e]=t}var kV=1e-4,KQ=20;function cYe(e){return e.replace(/^\s+|\s+$/g,"")}function PV(e,t,n,r){var i=t[0],o=t[1],s=n[0],u=n[1],a=o-i,h=u-s;if(a===0)return h===0?s:(s+u)/2;if(r)if(a>0){if(e<=i)return s;if(e>=o)return u}else{if(e>=i)return s;if(e<=o)return u}else{if(e===i)return s;if(e===o)return u}return(e-i)/a*h+s}function $s(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%";break}return Zr(e)?cYe(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):e==null?NaN:+e}function wo(e,t,n){return t==null&&(t=10),t=Math.min(Math.max(0,t),KQ),e=(+e).toFixed(t),n?e:+e}function eh(e){if(e=+e,isNaN(e))return 0;if(e>1e-14){for(var t=1,n=0;n<15;n++,t*=10)if(Math.round(e*t)/t===e)return n}return dYe(e)}function dYe(e){var t=e.toString().toLowerCase(),n=t.indexOf("e"),r=n>0?+t.slice(n+1):0,i=n>0?n:t.length,o=t.indexOf("."),s=o<0?0:i-1-o;return Math.max(0,s-r)}function hYe(e,t){var n=Math.log,r=Math.LN10,i=Math.floor(n(e[1]-e[0])/r),o=Math.round(n(Math.abs(t[1]-t[0]))/r),s=Math.min(Math.max(-i+o,0),20);return isFinite(s)?s:20}function fYe(e,t){var n=Math.max(eh(e),eh(t)),r=e+t;return n>KQ?r:wo(r,n)}function YQ(e){var t=Math.PI*2;return(e%t+t)%t}function bC(e){return e>-kV&&e<kV}var pYe=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function fh(e){if(e instanceof Date)return e;if(Zr(e)){var t=pYe.exec(e);if(!t)return new Date(NaN);if(t[8]){var n=+t[4]||0;return t[8].toUpperCase()!=="Z"&&(n-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,n,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}else return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}else if(e==null)return new Date(NaN);return new Date(Math.round(e))}function mYe(e){return Math.pow(10,lD(e))}function lD(e){if(e===0)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,t)>=10&&t++,t}function ZQ(e,t){var n=lD(e),r=Math.pow(10,n),i=e/r,o;return i<1.5?o=1:i<2.5?o=2:i<4?o=3:i<7?o=5:o=10,e=o*r,n>=-20?+e.toFixed(n<0?-n:0):e}function xC(e){var t=parseFloat(e);return t==e&&(t!==0||!Zr(e)||e.indexOf("x")<=0)?t:NaN}function vYe(e){return!isNaN(xC(e))}function XQ(){return Math.round(Math.random()*9)}function JQ(e,t){return t===0?e:JQ(t,e%t)}function LV(e,t){return e==null?t:t==null?e:e*t/JQ(e,t)}function al(e){throw new Error(e)}function RV(e,t,n){return(t-e)*n+e}var QQ="series\0",gYe="\0_ec_\0";function Us(e){return e instanceof Array?e:e==null?[]:[e]}function DV(e,t,n){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var r=0,i=n.length;r<i;r++){var o=n[r];!e.emphasis[t].hasOwnProperty(o)&&e[t].hasOwnProperty(o)&&(e.emphasis[t][o]=e[t][o])}}}var OV=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Tw(e){return oi(e)&&!zr(e)&&!(e instanceof Date)?e.value:e}function _Ye(e){return oi(e)&&!(e instanceof Array)}function yYe(e,t,n){var r=n==="normalMerge",i=n==="replaceMerge",o=n==="replaceAll";e=e||[],t=(t||[]).slice();var s=$i();Gt(t,function(a,h){if(!oi(a)){t[h]=null;return}});var u=bYe(e,s,n);return(r||i)&&xYe(u,e,s,t),r&&wYe(u,t),r||i?SYe(u,t,i):o&&CYe(u,t),TYe(u),u}function bYe(e,t,n){var r=[];if(n==="replaceAll")return r;for(var i=0;i<e.length;i++){var o=e[i];o&&o.id!=null&&t.set(o.id,i),r.push({existing:n==="replaceMerge"||Ux(o)?null:o,newOption:null,keyInfo:null,brandNew:null})}return r}function xYe(e,t,n,r){Gt(r,function(i,o){if(!(!i||i.id==null)){var s=W2(i.id),u=n.get(s);if(u!=null){var a=e[u];hh(!a.newOption,'Duplicated option on id "'+s+'".'),a.newOption=i,a.existing=t[u],r[o]=null}}})}function wYe(e,t){Gt(t,function(n,r){if(!(!n||n.name==null))for(var i=0;i<e.length;i++){var o=e[i].existing;if(!e[i].newOption&&o&&(o.id==null||n.id==null)&&!Ux(n)&&!Ux(o)&&eee("name",o,n)){e[i].newOption=n,t[r]=null;return}}})}function SYe(e,t,n){Gt(t,function(r){if(r){for(var i,o=0;(i=e[o])&&(i.newOption||Ux(i.existing)||i.existing&&r.id!=null&&!eee("id",r,i.existing));)o++;i?(i.newOption=r,i.brandNew=n):e.push({newOption:r,brandNew:n,existing:null,keyInfo:null}),o++}})}function CYe(e,t){Gt(t,function(n){e.push({newOption:n,brandNew:!0,existing:null,keyInfo:null})})}function TYe(e){var t=$i();Gt(e,function(n){var r=n.existing;r&&t.set(r.id,n)}),Gt(e,function(n){var r=n.newOption;hh(!r||r.id==null||!t.get(r.id)||t.get(r.id)===n,"id duplicates: "+(r&&r.id)),r&&r.id!=null&&t.set(r.id,n),!n.keyInfo&&(n.keyInfo={})}),Gt(e,function(n,r){var i=n.existing,o=n.newOption,s=n.keyInfo;if(oi(o)){if(s.name=o.name!=null?W2(o.name):i?i.name:QQ+r,i)s.id=W2(i.id);else if(o.id!=null)s.id=W2(o.id);else{var u=0;do s.id="\0"+s.name+"\0"+u++;while(t.get(s.id))}t.set(s.id,n)}})}function eee(e,t,n){var r=td(t[e],null),i=td(n[e],null);return r!=null&&i!=null&&r===i}function W2(e){return td(e,"")}function td(e,t){return e==null?t:Zr(e)?e:Ja(e)||wk(e)?e+"":t}function uD(e){var t=e.name;return!!(t&&t.indexOf(QQ))}function Ux(e){return e&&e.id!=null&&W2(e.id).indexOf(gYe)===0}function MYe(e,t,n){Gt(e,function(r){var i=r.newOption;oi(i)&&(r.keyInfo.mainType=t,r.keyInfo.subType=EYe(t,i,r.existing,n))})}function EYe(e,t,n,r){var i=t.type?t.type:n?n.subType:r.determineSubType(e,t);return i}function T0(e,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return zr(t.dataIndex)?xi(t.dataIndex,function(n){return e.indexOfRawIndex(n)}):e.indexOfRawIndex(t.dataIndex);if(t.name!=null)return zr(t.name)?xi(t.name,function(n){return e.indexOfName(n)}):e.indexOfName(t.name)}function Do(){var e="__ec_inner_"+AYe++;return function(t){return t[e]||(t[e]={})}}var AYe=XQ();function AE(e,t,n){var r=cD(t,n),i=r.mainTypeSpecified,o=r.queryOptionMap,s=r.others,u=s,a=n?n.defaultMainType:null;return!i&&a&&o.set(a,{}),o.each(function(h,m){var v=Mw(e,m,h,{useDefault:a===m,enableAll:n&&n.enableAll!=null?n.enableAll:!0,enableNone:n&&n.enableNone!=null?n.enableNone:!0});u[m+"Models"]=v.models,u[m+"Model"]=v.models[0]}),u}function cD(e,t){var n;if(Zr(e)){var r={};r[e+"Index"]=0,n=r}else n=e;var i=$i(),o={},s=!1;return Gt(n,function(u,a){if(a==="dataIndex"||a==="dataIndexInside"){o[a]=u;return}var h=a.match(/^(\w+)(Index|Id|Name)$/)||[],m=h[1],v=(h[2]||"").toLowerCase();if(!(!m||!v||t&&t.includeMainTypes&&Ta(t.includeMainTypes,m)<0)){s=s||!!m;var _=i.get(m)||i.set(m,{});_[v]=u}}),{mainTypeSpecified:s,queryOptionMap:i,others:o}}var uc={useDefault:!0,enableAll:!1,enableNone:!1};function Mw(e,t,n,r){r=r||uc;var i=n.index,o=n.id,s=n.name,u={models:null,specified:i!=null||o!=null||s!=null};if(!u.specified){var a=void 0;return u.models=r.useDefault&&(a=e.getComponent(t))?[a]:[],u}return i==="none"||i===!1?(hh(r.enableNone,'`"none"` or `false` is not a valid value on index option.'),u.models=[],u):(i==="all"&&(hh(r.enableAll,'`"all"` is not a valid value on index option.'),i=o=s=null),u.models=e.queryComponents({mainType:t,index:i,id:o,name:s}),u)}function tee(e,t,n){e.setAttribute?e.setAttribute(t,n):e[t]=n}function IYe(e,t){return e.getAttribute?e.getAttribute(t):e[t]}function kYe(e){return e==="auto"?Si.domSupported?"html":"richText":e||"html"}function PYe(e,t,n,r,i){var o=t==null||t==="auto";if(r==null)return r;if(Ja(r)){var s=RV(n||0,r,i);return wo(s,o?Math.max(eh(n||0),eh(r)):t)}else{if(Zr(r))return i<1?n:r;for(var u=[],a=n,h=r,m=Math.max(a?a.length:0,h.length),v=0;v<m;++v){var _=e.getDimensionInfo(v);if(_&&_.type==="ordinal")u[v]=(i<1&&a?a:h)[v];else{var b=a&&a[v]?a[v]:0,T=h[v],s=RV(b,T,i);u[v]=wo(s,o?Math.max(eh(b),eh(T)):t)}}return u}}var LYe=".",wm="___EC__COMPONENT__CONTAINER___",nee="___EC__EXTENDED_CLASS___";function Jc(e){var t={main:"",sub:""};if(e){var n=e.split(LYe);t.main=n[0]||"",t.sub=n[1]||""}return t}function RYe(e){hh(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function DYe(e){return!!(e&&e[nee])}function dD(e,t){e.$constructor=e,e.extend=function(n){var r=this,i;return OYe(r)?i=function(o){Pr(s,o);function s(){return o.apply(this,arguments)||this}return s}(r):(i=function(){(n.$constructor||r).apply(this,arguments)},Hqe(i,this)),vr(i.prototype,n),i[nee]=!0,i.extend=this.extend,i.superCall=FYe,i.superApply=NYe,i.superClass=r,i}}function OYe(e){return Ai(e)&&/^class\s/.test(Function.prototype.toString.call(e))}function ree(e,t){e.extend=t.extend}var zYe=Math.round(Math.random()*10);function BYe(e){var t=["__\0is_clz",zYe++].join("_");e.prototype[t]=!0,e.isInstance=function(n){return!!(n&&n[t])}}function FYe(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return this.superClass.prototype[t].apply(e,n)}function NYe(e,t,n){return this.superClass.prototype[t].apply(e,n)}function j8(e){var t={};e.registerClass=function(r){var i=r.type||r.prototype.type;if(i){RYe(i),r.prototype.type=i;var o=Jc(i);if(!o.sub)t[o.main]=r;else if(o.sub!==wm){var s=n(o);s[o.sub]=r}}return r},e.getClass=function(r,i,o){var s=t[r];if(s&&s[wm]&&(s=i?s[i]:null),o&&!s)throw new Error(i?"Component "+r+"."+(i||"")+" is used but not imported.":r+".type should be specified.");return s},e.getClassesByMainType=function(r){var i=Jc(r),o=[],s=t[i.main];return s&&s[wm]?Gt(s,function(u,a){a!==wm&&o.push(u)}):o.push(s),o},e.hasClass=function(r){var i=Jc(r);return!!t[i.main]},e.getAllClassMainTypes=function(){var r=[];return Gt(t,function(i,o){r.push(o)}),r},e.hasSubTypes=function(r){var i=Jc(r),o=t[i.main];return o&&o[wm]};function n(r){var i=t[r.main];return(!i||!i[wm])&&(i=t[r.main]={},i[wm]=!0),i}}function jx(e,t){for(var n=0;n<e.length;n++)e[n][1]||(e[n][1]=e[n][0]);return t=t||!1,function(r,i,o){for(var s={},u=0;u<e.length;u++){var a=e[u][1];if(!(i&&Ta(i,a)>=0||o&&Ta(o,a)<0)){var h=r.getShallow(a,t);h!=null&&(s[e[u][0]]=h)}}return s}}var $Ye=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],VYe=jx($Ye),HYe=function(){function e(){}return e.prototype.getAreaStyle=function(t,n){return VYe(this,t,n)},e}(),Nk=new Cw(50);function UYe(e){if(typeof e=="string"){var t=Nk.get(e);return t&&t.image}else return e}function iee(e,t,n,r,i){if(e)if(typeof e=="string"){if(t&&t.__zrImageSrc===e||!n)return t;var o=Nk.get(e),s={hostEl:n,cb:r,cbPayload:i};return o?(t=o.image,!G8(t)&&o.pending.push(s)):(t=j_.loadImage(e,zV,zV),t.__zrImageSrc=e,Nk.put(e,t.__cachedImgObj={image:t,pending:[s]})),t}else return e;else return t}function zV(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var n=e.pending[t],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}e.pending.length=0}function G8(e){return e&&e.width&&e.height}var IE=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function jYe(e,t,n,r,i){if(!t)return"";var o=(e+"").split(`
`);i=aee(t,n,r,i);for(var s=0,u=o.length;s<u;s++)o[s]=oee(o[s],i);return o.join(`
`)}function aee(e,t,n,r){r=r||{};var i=vr({},r);i.font=t,n=Qi(n,"..."),i.maxIterations=Qi(r.maxIterations,2);var o=i.minChar=Qi(r.minChar,0);i.cnCharWidth=Vl("",t);var s=i.ascCharWidth=Vl("a",t);i.placeholder=Qi(r.placeholder,"");for(var u=e=Math.max(0,e-1),a=0;a<o&&u>=s;a++)u-=s;var h=Vl(n,t);return h>u&&(n="",h=0),u=e-h,i.ellipsis=n,i.ellipsisWidth=h,i.contentWidth=u,i.containerWidth=e,i}function oee(e,t){var n=t.containerWidth,r=t.font,i=t.contentWidth;if(!n)return"";var o=Vl(e,r);if(o<=n)return e;for(var s=0;;s++){if(o<=i||s>=t.maxIterations){e+=t.ellipsis;break}var u=s===0?GYe(e,i,t.ascCharWidth,t.cnCharWidth):o>0?Math.floor(e.length*i/o):0;e=e.substr(0,u),o=Vl(e,r)}return e===""&&(e=t.placeholder),e}function GYe(e,t,n,r){for(var i=0,o=0,s=e.length;o<s&&i<t;o++){var u=e.charCodeAt(o);i+=0<=u&&u<=127?n:r}return o}function WYe(e,t){e!=null&&(e+="");var n=t.overflow,r=t.padding,i=t.font,o=n==="truncate",s=sD(i),u=Qi(t.lineHeight,s),a=!!t.backgroundColor,h=t.lineOverflow==="truncate",m=t.width,v;m!=null&&(n==="break"||n==="breakAll")?v=e?see(e,t.font,m,n==="breakAll",0).lines:[]:v=e?e.split(`
`):[];var _=v.length*u,b=Qi(t.height,_);if(_>b&&h){var T=Math.floor(b/u);v=v.slice(0,T)}if(e&&o&&m!=null)for(var M=aee(m,i,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),E=0;E<v.length;E++)v[E]=oee(v[E],M);for(var k=b,z=0,E=0;E<v.length;E++)z=Math.max(Vl(v[E],i),z);m==null&&(m=z);var B=z;return r&&(k+=r[0]+r[2],B+=r[1]+r[3],m+=r[1]+r[3]),a&&(B=m),{lines:v,height:b,outerWidth:B,outerHeight:k,lineHeight:u,calculatedLineHeight:s,contentWidth:z,contentHeight:_,width:m}}var qYe=function(){function e(){}return e}(),BV=function(){function e(t){this.tokens=[],t&&(this.tokens=t)}return e}(),KYe=function(){function e(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return e}();function YYe(e,t){var n=new KYe;if(e!=null&&(e+=""),!e)return n;for(var r=t.width,i=t.height,o=t.overflow,s=(o==="break"||o==="breakAll")&&r!=null?{width:r,accumWidth:0,breakAll:o==="breakAll"}:null,u=IE.lastIndex=0,a;(a=IE.exec(e))!=null;){var h=a.index;h>u&&kE(n,e.substring(u,h),t,s),kE(n,a[2],t,s,a[1]),u=IE.lastIndex}u<e.length&&kE(n,e.substring(u,e.length),t,s);var m=[],v=0,_=0,b=t.padding,T=o==="truncate",M=t.lineOverflow==="truncate";function E(Ee,_e,xe){Ee.width=_e,Ee.lineHeight=xe,v+=xe,_=Math.max(_,_e)}e:for(var k=0;k<n.lines.length;k++){for(var z=n.lines[k],B=0,U=0,W=0;W<z.tokens.length;W++){var q=z.tokens[W],Q=q.styleName&&t.rich[q.styleName]||{},te=q.textPadding=Q.padding,ie=te?te[1]+te[3]:0,ae=q.font=Q.font||t.font;q.contentHeight=sD(ae);var re=Qi(Q.height,q.contentHeight);if(q.innerHeight=re,te&&(re+=te[0]+te[2]),q.height=re,q.lineHeight=uS(Q.lineHeight,t.lineHeight,re),q.align=Q&&Q.align||t.align,q.verticalAlign=Q&&Q.verticalAlign||"middle",M&&i!=null&&v+q.lineHeight>i){W>0?(z.tokens=z.tokens.slice(0,W),E(z,U,B),n.lines=n.lines.slice(0,k+1)):n.lines=n.lines.slice(0,k);break e}var se=Q.width,be=se==null||se==="auto";if(typeof se=="string"&&se.charAt(se.length-1)==="%")q.percentWidth=se,m.push(q),q.contentWidth=Vl(q.text,ae);else{if(be){var Ie=Q.backgroundColor,Se=Ie&&Ie.image;Se&&(Se=UYe(Se),G8(Se)&&(q.width=Math.max(q.width,Se.width*re/Se.height)))}var me=T&&r!=null?r-U:null;me!=null&&me<q.width?!be||me<ie?(q.text="",q.width=q.contentWidth=0):(q.text=jYe(q.text,me-ie,ae,t.ellipsis,{minChar:t.truncateMinChar}),q.width=q.contentWidth=Vl(q.text,ae)):q.contentWidth=Vl(q.text,ae)}q.width+=ie,U+=q.width,Q&&(B=Math.max(B,q.lineHeight))}E(z,U,B)}n.outerWidth=n.width=Qi(r,_),n.outerHeight=n.height=Qi(i,v),n.contentHeight=v,n.contentWidth=_,b&&(n.outerWidth+=b[1]+b[3],n.outerHeight+=b[0]+b[2]);for(var k=0;k<m.length;k++){var q=m[k],Le=q.percentWidth;q.width=parseInt(Le,10)/100*n.width}return n}function kE(e,t,n,r,i){var o=t==="",s=i&&n.rich[i]||{},u=e.lines,a=s.font||n.font,h=!1,m,v;if(r){var _=s.padding,b=_?_[1]+_[3]:0;if(s.width!=null&&s.width!=="auto"){var T=C0(s.width,r.width)+b;u.length>0&&T+r.accumWidth>r.width&&(m=t.split(`
`),h=!0),r.accumWidth=T}else{var M=see(t,a,r.width,r.breakAll,r.accumWidth);r.accumWidth=M.accumWidth+b,v=M.linesWidths,m=M.lines}}else m=t.split(`
`);for(var E=0;E<m.length;E++){var k=m[E],z=new qYe;if(z.styleName=i,z.text=k,z.isLineHolder=!k&&!o,typeof s.width=="number"?z.width=s.width:z.width=v?v[E]:Vl(k,a),!E&&!h){var B=(u[u.length-1]||(u[0]=new BV)).tokens,U=B.length;U===1&&B[0].isLineHolder?B[0]=z:(k||!U||o)&&B.push(z)}else u.push(new BV([z]))}}function ZYe(e){var t=e.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}var XYe=G_(",&?/;] ".split(""),function(e,t){return e[t]=!0,e},{});function JYe(e){return ZYe(e)?!!XYe[e]:!0}function see(e,t,n,r,i){for(var o=[],s=[],u="",a="",h=0,m=0,v=0;v<e.length;v++){var _=e.charAt(v);if(_===`
`){a&&(u+=a,m+=h),o.push(u),s.push(m),u="",a="",h=0,m=0;continue}var b=Vl(_,t),T=r?!1:!JYe(_);if(o.length?m+b>n:i+m+b>n){m?(u||a)&&(T?(u||(u=a,a="",h=0,m=h),o.push(u),s.push(m-h),a+=_,h+=b,u="",m=h):(a&&(u+=a,a="",h=0),o.push(u),s.push(m),u=_,m=b)):T?(o.push(a),s.push(h),a=_,h=b):(o.push(_),s.push(b));continue}m+=b,T?(a+=_,h+=b):(a&&(u+=a,a="",h=0),u+=_)}return!o.length&&!u&&(u=e,a="",h=0),a&&(u+=a),u&&(o.push(u),s.push(m)),o.length===1&&(m+=i),{accumWidth:m,lines:o,linesWidths:s}}var $k="__zr_style_"+Math.round(Math.random()*10),o0={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},W8={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};o0[$k]=!0;var FV=["z","z2","invisible"],QYe=["invisible"],Ew=function(e){Pr(t,e);function t(n){return e.call(this,n)||this}return t.prototype._init=function(n){for(var r=Xa(n),i=0;i<r.length;i++){var o=r[i];o==="style"?this.useStyle(n[o]):e.prototype.attrKV.call(this,o,n[o])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(n,r,i,o){var s=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&eZe(this,n,r)||s&&!s[0]&&!s[3])return!1;if(i&&this.__clipPaths){for(var u=0;u<this.__clipPaths.length;++u)if(this.__clipPaths[u].isZeroArea())return!1}if(o&&this.parent)for(var a=this.parent;a;){if(a.ignore)return!1;a=a.parent}return!0},t.prototype.contain=function(n,r){return this.rectContain(n,r)},t.prototype.traverse=function(n,r){n.call(r,this)},t.prototype.rectContain=function(n,r){var i=this.transformCoordToLocal(n,r),o=this.getBoundingRect();return o.contain(i[0],i[1])},t.prototype.getPaintRect=function(){var n=this._paintRect;if(!this._paintRect||this.__dirty){var r=this.transform,i=this.getBoundingRect(),o=this.style,s=o.shadowBlur||0,u=o.shadowOffsetX||0,a=o.shadowOffsetY||0;n=this._paintRect||(this._paintRect=new ha(0,0,0,0)),r?ha.applyTransform(n,i,r):n.copy(i),(s||u||a)&&(n.width+=s*2+Math.abs(u),n.height+=s*2+Math.abs(a),n.x=Math.min(n.x,n.x+u-s),n.y=Math.min(n.y,n.y+a-s));var h=this.dirtyRectTolerance;n.isZero()||(n.x=Math.floor(n.x-h),n.y=Math.floor(n.y-h),n.width=Math.ceil(n.width+1+h*2),n.height=Math.ceil(n.height+1+h*2))}return n},t.prototype.setPrevPaintRect=function(n){n?(this._prevPaintRect=this._prevPaintRect||new ha(0,0,0,0),this._prevPaintRect.copy(n)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(n){return this.animate("style",n)},t.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(n,r){n!=="style"?e.prototype.attrKV.call(this,n,r):this.style?this.setStyle(r):this.useStyle(r)},t.prototype.setStyle=function(n,r){return typeof n=="string"?this.style[n]=r:vr(this.style,n),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(n){n||this.markRedraw(),this.__dirty|=Sb,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&Sb)},t.prototype.styleUpdated=function(){this.__dirty&=~Sb},t.prototype.createStyle=function(n){return V8(o0,n)},t.prototype.useStyle=function(n){n[$k]||(n=this.createStyle(n)),this.__inHover?this.__hoverStyle=n:this.style=n,this.dirtyStyle()},t.prototype.isStyleObject=function(n){return n[$k]},t.prototype._innerSaveToNormal=function(n){e.prototype._innerSaveToNormal.call(this,n);var r=this._normalState;n.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(n,r,FV)},t.prototype._applyStateObj=function(n,r,i,o,s,u){e.prototype._applyStateObj.call(this,n,r,i,o,s,u);var a=!(r&&o),h;if(r&&r.style?s?o?h=r.style:(h=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(h,r.style)):(h=this._mergeStyle(this.createStyle(),o?this.style:i.style),this._mergeStyle(h,r.style)):a&&(h=i.style),h)if(s){var m=this.style;if(this.style=this.createStyle(a?{}:m),a)for(var v=Xa(m),_=0;_<v.length;_++){var b=v[_];b in h&&(h[b]=h[b],this.style[b]=m[b])}for(var T=Xa(h),_=0;_<T.length;_++){var b=T[_];this.style[b]=this.style[b]}this._transitionState(n,{style:h},u,this.getAnimationStyleProps())}else this.useStyle(h);for(var M=this.__inHover?QYe:FV,_=0;_<M.length;_++){var b=M[_];r&&r[b]!=null?this[b]=r[b]:a&&i[b]!=null&&(this[b]=i[b])}},t.prototype._mergeStates=function(n){for(var r=e.prototype._mergeStates.call(this,n),i,o=0;o<n.length;o++){var s=n[o];s.style&&(i=i||{},this._mergeStyle(i,s.style))}return i&&(r.style=i),r},t.prototype._mergeStyle=function(n,r){return vr(n,r),n},t.prototype.getAnimationStyleProps=function(){return W8},t.initDefaultProps=function(){var n=t.prototype;n.type="displayable",n.invisible=!1,n.z=0,n.z2=0,n.zlevel=0,n.culling=!1,n.cursor="pointer",n.rectHover=!1,n.incremental=!1,n._rect=null,n.dirtyRectTolerance=0,n.__dirty=Ol|Sb}(),t}(U8),PE=new ha(0,0,0,0),LE=new ha(0,0,0,0);function eZe(e,t,n){return PE.copy(e.getBoundingRect()),e.transform&&PE.applyTransform(e.transform),LE.width=t,LE.height=n,!PE.intersect(LE)}var gu=Math.min,_u=Math.max,RE=Math.sin,DE=Math.cos,Sm=Math.PI*2,t3=W_(),n3=W_(),r3=W_();function NV(e,t,n,r,i,o){i[0]=gu(e,n),i[1]=gu(t,r),o[0]=_u(e,n),o[1]=_u(t,r)}var $V=[],VV=[];function tZe(e,t,n,r,i,o,s,u,a,h){var m=BQ,v=Jo,_=m(e,n,i,s,$V);a[0]=1/0,a[1]=1/0,h[0]=-1/0,h[1]=-1/0;for(var b=0;b<_;b++){var T=v(e,n,i,s,$V[b]);a[0]=gu(T,a[0]),h[0]=_u(T,h[0])}_=m(t,r,o,u,VV);for(var b=0;b<_;b++){var M=v(t,r,o,u,VV[b]);a[1]=gu(M,a[1]),h[1]=_u(M,h[1])}a[0]=gu(e,a[0]),h[0]=_u(e,h[0]),a[0]=gu(s,a[0]),h[0]=_u(s,h[0]),a[1]=gu(t,a[1]),h[1]=_u(t,h[1]),a[1]=gu(u,a[1]),h[1]=_u(u,h[1])}function nZe(e,t,n,r,i,o,s,u){var a=FQ,h=il,m=_u(gu(a(e,n,i),1),0),v=_u(gu(a(t,r,o),1),0),_=h(e,n,i,m),b=h(t,r,o,v);s[0]=gu(e,i,_),s[1]=gu(t,o,b),u[0]=_u(e,i,_),u[1]=_u(t,o,b)}function rZe(e,t,n,r,i,o,s,u,a){var h=Ig,m=kg,v=Math.abs(i-o);if(v%Sm<1e-4&&v>1e-4){u[0]=e-n,u[1]=t-r,a[0]=e+n,a[1]=t+r;return}if(t3[0]=DE(i)*n+e,t3[1]=RE(i)*r+t,n3[0]=DE(o)*n+e,n3[1]=RE(o)*r+t,h(u,t3,n3),m(a,t3,n3),i=i%Sm,i<0&&(i=i+Sm),o=o%Sm,o<0&&(o=o+Sm),i>o&&!s?o+=Sm:i<o&&s&&(i+=Sm),s){var _=o;o=i,i=_}for(var b=0;b<o;b+=Math.PI/2)b>i&&(r3[0]=DE(b)*n+e,r3[1]=RE(b)*r+t,h(u,r3,u),m(a,r3,a))}var ca={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Cm=[],Tm=[],Vc=[],wf=[],Hc=[],Uc=[],OE=Math.min,zE=Math.max,Mm=Math.cos,Em=Math.sin,Vd=Math.abs,Vk=Math.PI,Of=Vk*2,BE=typeof Float32Array<"u",tb=[];function FE(e){var t=Math.round(e/Vk*1e8)/1e8;return t%2*Vk}function iZe(e,t){var n=FE(e[0]);n<0&&(n+=Of);var r=n-e[0],i=e[1];i+=r,!t&&i-n>=Of?i=n+Of:t&&n-i>=Of?i=n-Of:!t&&n>i?i=n+(Of-FE(n-i)):t&&n<i&&(i=n-(Of-FE(i-n))),e[0]=n,e[1]=i}var M0=function(){function e(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return e.prototype.increaseVersion=function(){this._version++},e.prototype.getVersion=function(){return this._version},e.prototype.setScale=function(t,n,r){r=r||0,r>0&&(this._ux=Vd(r/yC/t)||0,this._uy=Vd(r/yC/n)||0)},e.prototype.setDPR=function(t){this.dpr=t},e.prototype.setContext=function(t){this._ctx=t},e.prototype.getContext=function(){return this._ctx},e.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},e.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},e.prototype.moveTo=function(t,n){return this._drawPendingPt(),this.addData(ca.M,t,n),this._ctx&&this._ctx.moveTo(t,n),this._x0=t,this._y0=n,this._xi=t,this._yi=n,this},e.prototype.lineTo=function(t,n){var r=Vd(t-this._xi),i=Vd(n-this._yi),o=r>this._ux||i>this._uy;if(this.addData(ca.L,t,n),this._ctx&&o&&this._ctx.lineTo(t,n),o)this._xi=t,this._yi=n,this._pendingPtDist=0;else{var s=r*r+i*i;s>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=n,this._pendingPtDist=s)}return this},e.prototype.bezierCurveTo=function(t,n,r,i,o,s){return this._drawPendingPt(),this.addData(ca.C,t,n,r,i,o,s),this._ctx&&this._ctx.bezierCurveTo(t,n,r,i,o,s),this._xi=o,this._yi=s,this},e.prototype.quadraticCurveTo=function(t,n,r,i){return this._drawPendingPt(),this.addData(ca.Q,t,n,r,i),this._ctx&&this._ctx.quadraticCurveTo(t,n,r,i),this._xi=r,this._yi=i,this},e.prototype.arc=function(t,n,r,i,o,s){this._drawPendingPt(),tb[0]=i,tb[1]=o,iZe(tb,s),i=tb[0],o=tb[1];var u=o-i;return this.addData(ca.A,t,n,r,r,i,u,0,s?0:1),this._ctx&&this._ctx.arc(t,n,r,i,o,s),this._xi=Mm(o)*r+t,this._yi=Em(o)*r+n,this},e.prototype.arcTo=function(t,n,r,i,o){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,n,r,i,o),this},e.prototype.rect=function(t,n,r,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,n,r,i),this.addData(ca.R,t,n,r,i),this},e.prototype.closePath=function(){this._drawPendingPt(),this.addData(ca.Z);var t=this._ctx,n=this._x0,r=this._y0;return t&&t.closePath(),this._xi=n,this._yi=r,this},e.prototype.fill=function(t){t&&t.fill(),this.toStatic()},e.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},e.prototype.len=function(){return this._len},e.prototype.setData=function(t){var n=t.length;!(this.data&&this.data.length===n)&&BE&&(this.data=new Float32Array(n));for(var r=0;r<n;r++)this.data[r]=t[r];this._len=n},e.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var n=t.length,r=0,i=this._len,o=0;o<n;o++)r+=t[o].len();BE&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+r));for(var o=0;o<n;o++)for(var s=t[o].data,u=0;u<s.length;u++)this.data[i++]=s[u];this._len=i},e.prototype.addData=function(t,n,r,i,o,s,u,a,h){if(this._saveData){var m=this.data;this._len+arguments.length>m.length&&(this._expandData(),m=this.data);for(var v=0;v<arguments.length;v++)m[this._len++]=arguments[v]}},e.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},e.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],n=0;n<this._len;n++)t[n]=this.data[n];this.data=t}},e.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,BE&&this._len>11&&(this.data=new Float32Array(t)))}},e.prototype.getBoundingRect=function(){Vc[0]=Vc[1]=Hc[0]=Hc[1]=Number.MAX_VALUE,wf[0]=wf[1]=Uc[0]=Uc[1]=-Number.MAX_VALUE;var t=this.data,n=0,r=0,i=0,o=0,s;for(s=0;s<this._len;){var u=t[s++],a=s===1;switch(a&&(n=t[s],r=t[s+1],i=n,o=r),u){case ca.M:n=i=t[s++],r=o=t[s++],Hc[0]=i,Hc[1]=o,Uc[0]=i,Uc[1]=o;break;case ca.L:NV(n,r,t[s],t[s+1],Hc,Uc),n=t[s++],r=t[s++];break;case ca.C:tZe(n,r,t[s++],t[s++],t[s++],t[s++],t[s],t[s+1],Hc,Uc),n=t[s++],r=t[s++];break;case ca.Q:nZe(n,r,t[s++],t[s++],t[s],t[s+1],Hc,Uc),n=t[s++],r=t[s++];break;case ca.A:var h=t[s++],m=t[s++],v=t[s++],_=t[s++],b=t[s++],T=t[s++]+b;s+=1;var M=!t[s++];a&&(i=Mm(b)*v+h,o=Em(b)*_+m),rZe(h,m,v,_,b,T,M,Hc,Uc),n=Mm(T)*v+h,r=Em(T)*_+m;break;case ca.R:i=n=t[s++],o=r=t[s++];var E=t[s++],k=t[s++];NV(i,o,i+E,o+k,Hc,Uc);break;case ca.Z:n=i,r=o;break}Ig(Vc,Vc,Hc),kg(wf,wf,Uc)}return s===0&&(Vc[0]=Vc[1]=wf[0]=wf[1]=0),new ha(Vc[0],Vc[1],wf[0]-Vc[0],wf[1]-Vc[1])},e.prototype._calculateLength=function(){var t=this.data,n=this._len,r=this._ux,i=this._uy,o=0,s=0,u=0,a=0;this._pathSegLen||(this._pathSegLen=[]);for(var h=this._pathSegLen,m=0,v=0,_=0;_<n;){var b=t[_++],T=_===1;T&&(o=t[_],s=t[_+1],u=o,a=s);var M=-1;switch(b){case ca.M:o=u=t[_++],s=a=t[_++];break;case ca.L:{var E=t[_++],k=t[_++],z=E-o,B=k-s;(Vd(z)>r||Vd(B)>i||_===n-1)&&(M=Math.sqrt(z*z+B*B),o=E,s=k);break}case ca.C:{var U=t[_++],W=t[_++],E=t[_++],k=t[_++],q=t[_++],Q=t[_++];M=IKe(o,s,U,W,E,k,q,Q,10),o=q,s=Q;break}case ca.Q:{var U=t[_++],W=t[_++],E=t[_++],k=t[_++];M=LKe(o,s,U,W,E,k,10),o=E,s=k;break}case ca.A:var te=t[_++],ie=t[_++],ae=t[_++],re=t[_++],se=t[_++],be=t[_++],Ie=be+se;_+=1,T&&(u=Mm(se)*ae+te,a=Em(se)*re+ie),M=zE(ae,re)*OE(Of,Math.abs(be)),o=Mm(Ie)*ae+te,s=Em(Ie)*re+ie;break;case ca.R:{u=o=t[_++],a=s=t[_++];var Se=t[_++],me=t[_++];M=Se*2+me*2;break}case ca.Z:{var z=u-o,B=a-s;M=Math.sqrt(z*z+B*B),o=u,s=a;break}}M>=0&&(h[v++]=M,m+=M)}return this._pathLen=m,m},e.prototype.rebuildPath=function(t,n){var r=this.data,i=this._ux,o=this._uy,s=this._len,u,a,h,m,v,_,b=n<1,T,M,E=0,k=0,z,B=0,U,W;if(!(b&&(this._pathSegLen||this._calculateLength(),T=this._pathSegLen,M=this._pathLen,z=n*M,!z)))e:for(var q=0;q<s;){var Q=r[q++],te=q===1;switch(te&&(h=r[q],m=r[q+1],u=h,a=m),Q!==ca.L&&B>0&&(t.lineTo(U,W),B=0),Q){case ca.M:u=h=r[q++],a=m=r[q++],t.moveTo(h,m);break;case ca.L:{v=r[q++],_=r[q++];var ie=Vd(v-h),ae=Vd(_-m);if(ie>i||ae>o){if(b){var re=T[k++];if(E+re>z){var se=(z-E)/re;t.lineTo(h*(1-se)+v*se,m*(1-se)+_*se);break e}E+=re}t.lineTo(v,_),h=v,m=_,B=0}else{var be=ie*ie+ae*ae;be>B&&(U=v,W=_,B=be)}break}case ca.C:{var Ie=r[q++],Se=r[q++],me=r[q++],Le=r[q++],Ee=r[q++],_e=r[q++];if(b){var re=T[k++];if(E+re>z){var se=(z-E)/re;vC(h,Ie,me,Ee,se,Cm),vC(m,Se,Le,_e,se,Tm),t.bezierCurveTo(Cm[1],Tm[1],Cm[2],Tm[2],Cm[3],Tm[3]);break e}E+=re}t.bezierCurveTo(Ie,Se,me,Le,Ee,_e),h=Ee,m=_e;break}case ca.Q:{var Ie=r[q++],Se=r[q++],me=r[q++],Le=r[q++];if(b){var re=T[k++];if(E+re>z){var se=(z-E)/re;gC(h,Ie,me,se,Cm),gC(m,Se,Le,se,Tm),t.quadraticCurveTo(Cm[1],Tm[1],Cm[2],Tm[2]);break e}E+=re}t.quadraticCurveTo(Ie,Se,me,Le),h=me,m=Le;break}case ca.A:var xe=r[q++],Be=r[q++],Je=r[q++],Ye=r[q++],lt=r[q++],Nt=r[q++],Dt=r[q++],je=!r[q++],Ct=Je>Ye?Je:Ye,vt=Vd(Je-Ye)>.001,Vt=lt+Nt,Re=!1;if(b){var re=T[k++];E+re>z&&(Vt=lt+Nt*(z-E)/re,Re=!0),E+=re}if(vt&&t.ellipse?t.ellipse(xe,Be,Je,Ye,Dt,lt,Vt,je):t.arc(xe,Be,Ct,lt,Vt,je),Re)break e;te&&(u=Mm(lt)*Je+xe,a=Em(lt)*Ye+Be),h=Mm(Vt)*Je+xe,m=Em(Vt)*Ye+Be;break;case ca.R:u=h=r[q],a=m=r[q+1],v=r[q++],_=r[q++];var pt=r[q++],Ne=r[q++];if(b){var re=T[k++];if(E+re>z){var et=z-E;t.moveTo(v,_),t.lineTo(v+OE(et,pt),_),et-=pt,et>0&&t.lineTo(v+pt,_+OE(et,Ne)),et-=Ne,et>0&&t.lineTo(v+zE(pt-et,0),_+Ne),et-=pt,et>0&&t.lineTo(v,_+zE(Ne-et,0));break e}E+=re}t.rect(v,_,pt,Ne);break;case ca.Z:if(b){var re=T[k++];if(E+re>z){var se=(z-E)/re;t.lineTo(h*(1-se)+u*se,m*(1-se)+a*se);break e}E+=re}t.closePath(),h=u,m=a}}},e.prototype.clone=function(){var t=new e,n=this.data;return t.data=n.slice?n.slice():Array.prototype.slice.call(n),t._len=this._len,t},e.CMD=ca,e.initDefaultProps=function(){var t=e.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0}(),e}();function og(e,t,n,r,i,o,s){if(i===0)return!1;var u=i,a=0,h=e;if(s>t+u&&s>r+u||s<t-u&&s<r-u||o>e+u&&o>n+u||o<e-u&&o<n-u)return!1;if(e!==n)a=(t-r)/(e-n),h=(e*r-n*t)/(e-n);else return Math.abs(o-e)<=u/2;var m=a*o-s+h,v=m*m/(a*a+1);return v<=u/2*u/2}function aZe(e,t,n,r,i,o,s,u,a,h,m){if(a===0)return!1;var v=a;if(m>t+v&&m>r+v&&m>o+v&&m>u+v||m<t-v&&m<r-v&&m<o-v&&m<u-v||h>e+v&&h>n+v&&h>i+v&&h>s+v||h<e-v&&h<n-v&&h<i-v&&h<s-v)return!1;var _=AKe(e,t,n,r,i,o,s,u,h,m);return _<=v/2}function oZe(e,t,n,r,i,o,s,u,a){if(s===0)return!1;var h=s;if(a>t+h&&a>r+h&&a>o+h||a<t-h&&a<r-h&&a<o-h||u>e+h&&u>n+h&&u>i+h||u<e-h&&u<n-h&&u<i-h)return!1;var m=PKe(e,t,n,r,i,o,u,a);return m<=h/2}var HV=Math.PI*2;function i3(e){return e%=HV,e<0&&(e+=HV),e}var nb=Math.PI*2;function sZe(e,t,n,r,i,o,s,u,a){if(s===0)return!1;var h=s;u-=e,a-=t;var m=Math.sqrt(u*u+a*a);if(m-h>n||m+h<n)return!1;if(Math.abs(r-i)%nb<1e-4)return!0;if(o){var v=r;r=i3(i),i=i3(v)}else r=i3(r),i=i3(i);r>i&&(i+=nb);var _=Math.atan2(a,u);return _<0&&(_+=nb),_>=r&&_<=i||_+nb>=r&&_+nb<=i}function Am(e,t,n,r,i,o){if(o>t&&o>r||o<t&&o<r||r===t)return 0;var s=(o-t)/(r-t),u=r<t?1:-1;(s===1||s===0)&&(u=r<t?.5:-.5);var a=s*(n-e)+e;return a===i?1/0:a>i?u:0}var Sf=M0.CMD,Im=Math.PI*2,lZe=1e-4;function uZe(e,t){return Math.abs(e-t)<lZe}var Bs=[-1,-1,-1],pu=[-1,-1];function cZe(){var e=pu[0];pu[0]=pu[1],pu[1]=e}function dZe(e,t,n,r,i,o,s,u,a,h){if(h>t&&h>r&&h>o&&h>u||h<t&&h<r&&h<o&&h<u)return 0;var m=mC(t,r,o,u,h,Bs);if(m===0)return 0;for(var v=0,_=-1,b=void 0,T=void 0,M=0;M<m;M++){var E=Bs[M],k=E===0||E===1?.5:1,z=Jo(e,n,i,s,E);z<a||(_<0&&(_=BQ(t,r,o,u,pu),pu[1]<pu[0]&&_>1&&cZe(),b=Jo(t,r,o,u,pu[0]),_>1&&(T=Jo(t,r,o,u,pu[1]))),_===2?E<pu[0]?v+=b<t?k:-k:E<pu[1]?v+=T<b?k:-k:v+=u<T?k:-k:E<pu[0]?v+=b<t?k:-k:v+=u<b?k:-k)}return v}function hZe(e,t,n,r,i,o,s,u){if(u>t&&u>r&&u>o||u<t&&u<r&&u<o)return 0;var a=kKe(t,r,o,u,Bs);if(a===0)return 0;var h=FQ(t,r,o);if(h>=0&&h<=1){for(var m=0,v=il(t,r,o,h),_=0;_<a;_++){var b=Bs[_]===0||Bs[_]===1?.5:1,T=il(e,n,i,Bs[_]);T<s||(Bs[_]<h?m+=v<t?b:-b:m+=o<v?b:-b)}return m}else{var b=Bs[0]===0||Bs[0]===1?.5:1,T=il(e,n,i,Bs[0]);return T<s?0:o<t?b:-b}}function fZe(e,t,n,r,i,o,s,u){if(u-=t,u>n||u<-n)return 0;var a=Math.sqrt(n*n-u*u);Bs[0]=-a,Bs[1]=a;var h=Math.abs(r-i);if(h<1e-4)return 0;if(h>=Im-1e-4){r=0,i=Im;var m=o?1:-1;return s>=Bs[0]+e&&s<=Bs[1]+e?m:0}if(r>i){var v=r;r=i,i=v}r<0&&(r+=Im,i+=Im);for(var _=0,b=0;b<2;b++){var T=Bs[b];if(T+e>s){var M=Math.atan2(u,T),m=o?1:-1;M<0&&(M=Im+M),(M>=r&&M<=i||M+Im>=r&&M+Im<=i)&&(M>Math.PI/2&&M<Math.PI*1.5&&(m=-m),_+=m)}}return _}function lee(e,t,n,r,i){for(var o=e.data,s=e.len(),u=0,a=0,h=0,m=0,v=0,_,b,T=0;T<s;){var M=o[T++],E=T===1;switch(M===Sf.M&&T>1&&(n||(u+=Am(a,h,m,v,r,i))),E&&(a=o[T],h=o[T+1],m=a,v=h),M){case Sf.M:m=o[T++],v=o[T++],a=m,h=v;break;case Sf.L:if(n){if(og(a,h,o[T],o[T+1],t,r,i))return!0}else u+=Am(a,h,o[T],o[T+1],r,i)||0;a=o[T++],h=o[T++];break;case Sf.C:if(n){if(aZe(a,h,o[T++],o[T++],o[T++],o[T++],o[T],o[T+1],t,r,i))return!0}else u+=dZe(a,h,o[T++],o[T++],o[T++],o[T++],o[T],o[T+1],r,i)||0;a=o[T++],h=o[T++];break;case Sf.Q:if(n){if(oZe(a,h,o[T++],o[T++],o[T],o[T+1],t,r,i))return!0}else u+=hZe(a,h,o[T++],o[T++],o[T],o[T+1],r,i)||0;a=o[T++],h=o[T++];break;case Sf.A:var k=o[T++],z=o[T++],B=o[T++],U=o[T++],W=o[T++],q=o[T++];T+=1;var Q=!!(1-o[T++]);_=Math.cos(W)*B+k,b=Math.sin(W)*U+z,E?(m=_,v=b):u+=Am(a,h,_,b,r,i);var te=(r-k)*U/B+k;if(n){if(sZe(k,z,U,W,W+q,Q,t,te,i))return!0}else u+=fZe(k,z,U,W,W+q,Q,te,i);a=Math.cos(W+q)*B+k,h=Math.sin(W+q)*U+z;break;case Sf.R:m=a=o[T++],v=h=o[T++];var ie=o[T++],ae=o[T++];if(_=m+ie,b=v+ae,n){if(og(m,v,_,v,t,r,i)||og(_,v,_,b,t,r,i)||og(_,b,m,b,t,r,i)||og(m,b,m,v,t,r,i))return!0}else u+=Am(_,v,_,b,r,i),u+=Am(m,b,m,v,r,i);break;case Sf.Z:if(n){if(og(a,h,m,v,t,r,i))return!0}else u+=Am(a,h,m,v,r,i);a=m,h=v;break}}return!n&&!uZe(h,v)&&(u+=Am(a,h,m,v,r,i)||0),u!==0}function pZe(e,t,n){return lee(e,0,!1,t,n)}function mZe(e,t,n,r){return lee(e,t,!0,n,r)}var uee=_a({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},o0),vZe={style:_a({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},W8.style)},NE=Hx.concat(["invisible","culling","z","z2","zlevel","parent"]),Ba=function(e){Pr(t,e);function t(n){return e.call(this,n)||this}return t.prototype.update=function(){var n=this;e.prototype.update.call(this);var r=this.style;if(r.decal){var i=this._decalEl=this._decalEl||new t;i.buildPath===t.prototype.buildPath&&(i.buildPath=function(a){n.buildPath(a,n.shape)}),i.silent=!0;var o=i.style;for(var s in r)o[s]!==r[s]&&(o[s]=r[s]);o.fill=r.fill?r.decal:null,o.decal=null,o.shadowColor=null,r.strokeFirst&&(o.stroke=null);for(var u=0;u<NE.length;++u)i[NE[u]]=this[NE[u]];i.__dirty|=Ol}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(n){var r=Xa(n);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var o=0;o<r.length;o++){var s=r[o],u=n[s];s==="style"?this.style?vr(this.style,u):this.useStyle(u):s==="shape"?vr(this.shape,u):e.prototype.attrKV.call(this,s,u)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var n=this.style.fill;if(n!=="none"){if(Zr(n)){var r=_C(n,0);return r>.5?Bk:r>.2?JKe:Fk}else if(n)return Fk}return Bk},t.prototype.getInsideTextStroke=function(n){var r=this.style.fill;if(Zr(r)){var i=this.__zr,o=!!(i&&i.isDarkMode()),s=_C(n,0)<zk;if(o===s)return r}},t.prototype.buildPath=function(n,r,i){},t.prototype.pathUpdated=function(){this.__dirty&=~wg},t.prototype.getUpdatedPathProxy=function(n){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,n),this.path},t.prototype.createPathProxy=function(){this.path=new M0(!1)},t.prototype.hasStroke=function(){var n=this.style,r=n.stroke;return!(r==null||r==="none"||!(n.lineWidth>0))},t.prototype.hasFill=function(){var n=this.style,r=n.fill;return r!=null&&r!=="none"},t.prototype.getBoundingRect=function(){var n=this._rect,r=this.style,i=!n;if(i){var o=!1;this.path||(o=!0,this.createPathProxy());var s=this.path;(o||this.__dirty&wg)&&(s.beginPath(),this.buildPath(s,this.shape,!1),this.pathUpdated()),n=s.getBoundingRect()}if(this._rect=n,this.hasStroke()&&this.path&&this.path.len()>0){var u=this._rectStroke||(this._rectStroke=n.clone());if(this.__dirty||i){u.copy(n);var a=r.strokeNoScale?this.getLineScale():1,h=r.lineWidth;if(!this.hasFill()){var m=this.strokeContainThreshold;h=Math.max(h,m??4)}a>1e-10&&(u.width+=h/a,u.height+=h/a,u.x-=h/a/2,u.y-=h/a/2)}return u}return n},t.prototype.contain=function(n,r){var i=this.transformCoordToLocal(n,r),o=this.getBoundingRect(),s=this.style;if(n=i[0],r=i[1],o.contain(n,r)){var u=this.path;if(this.hasStroke()){var a=s.lineWidth,h=s.strokeNoScale?this.getLineScale():1;if(h>1e-10&&(this.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),mZe(u,a/h,n,r)))return!0}if(this.hasFill())return pZe(u,n,r)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=wg,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(n){return this.animate("shape",n)},t.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():n==="shape"?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(n,r){n==="shape"?this.setShape(r):e.prototype.attrKV.call(this,n,r)},t.prototype.setShape=function(n,r){var i=this.shape;return i||(i=this.shape={}),typeof n=="string"?i[n]=r:vr(i,n),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&wg)},t.prototype.createStyle=function(n){return V8(uee,n)},t.prototype._innerSaveToNormal=function(n){e.prototype._innerSaveToNormal.call(this,n);var r=this._normalState;n.shape&&!r.shape&&(r.shape=vr({},this.shape))},t.prototype._applyStateObj=function(n,r,i,o,s,u){e.prototype._applyStateObj.call(this,n,r,i,o,s,u);var a=!(r&&o),h;if(r&&r.shape?s?o?h=r.shape:(h=vr({},i.shape),vr(h,r.shape)):(h=vr({},o?this.shape:i.shape),vr(h,r.shape)):a&&(h=i.shape),h)if(s){this.shape=vr({},this.shape);for(var m={},v=Xa(h),_=0;_<v.length;_++){var b=v[_];typeof h[b]=="object"?this.shape[b]=h[b]:m[b]=h[b]}this._transitionState(n,{shape:m},u)}else this.shape=h,this.dirtyShape()},t.prototype._mergeStates=function(n){for(var r=e.prototype._mergeStates.call(this,n),i,o=0;o<n.length;o++){var s=n[o];s.shape&&(i=i||{},this._mergeStyle(i,s.shape))}return i&&(r.shape=i),r},t.prototype.getAnimationStyleProps=function(){return vZe},t.prototype.isZeroArea=function(){return!1},t.extend=function(n){var r=function(o){Pr(s,o);function s(u){var a=o.call(this,u)||this;return n.init&&n.init.call(a,u),a}return s.prototype.getDefaultStyle=function(){return na(n.style)},s.prototype.getDefaultShape=function(){return na(n.shape)},s}(t);for(var i in n)typeof n[i]=="function"&&(r.prototype[i]=n[i]);return r},t.initDefaultProps=function(){var n=t.prototype;n.type="path",n.strokeContainThreshold=5,n.segmentIgnoreThreshold=0,n.subPixelOptimize=!1,n.autoBatch=!1,n.__dirty=Ol|Sb|wg}(),t}(Ew),gZe=_a({strokeFirst:!0,font:S0,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},uee),wC=function(e){Pr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.hasStroke=function(){var n=this.style,r=n.stroke;return r!=null&&r!=="none"&&n.lineWidth>0},t.prototype.hasFill=function(){var n=this.style,r=n.fill;return r!=null&&r!=="none"},t.prototype.createStyle=function(n){return V8(gZe,n)},t.prototype.setBoundingRect=function(n){this._rect=n},t.prototype.getBoundingRect=function(){var n=this.style;if(!this._rect){var r=n.text;r!=null?r+="":r="";var i=oD(r,n.font,n.textAlign,n.textBaseline);if(i.x+=n.x||0,i.y+=n.y||0,this.hasStroke()){var o=n.lineWidth;i.x-=o/2,i.y-=o/2,i.width+=o,i.height+=o}this._rect=i}return this._rect},t.initDefaultProps=function(){var n=t.prototype;n.dirtyRectTolerance=10}(),t}(Ew);wC.prototype.type="tspan";var _Ze=_a({x:0,y:0},o0),yZe={style:_a({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},W8.style)};function bZe(e){return!!(e&&typeof e!="string"&&e.width&&e.height)}var wp=function(e){Pr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.createStyle=function(n){return V8(_Ze,n)},t.prototype._getSize=function(n){var r=this.style,i=r[n];if(i!=null)return i;var o=bZe(r.image)?r.image:this.__image;if(!o)return 0;var s=n==="width"?"height":"width",u=r[s];return u==null?o[n]:o[n]/o[s]*u},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return yZe},t.prototype.getBoundingRect=function(){var n=this.style;return this._rect||(this._rect=new ha(n.x||0,n.y||0,this.getWidth(),this.getHeight())),this._rect},t}(Ew);wp.prototype.type="image";function xZe(e,t){var n=t.x,r=t.y,i=t.width,o=t.height,s=t.r,u,a,h,m;i<0&&(n=n+i,i=-i),o<0&&(r=r+o,o=-o),typeof s=="number"?u=a=h=m=s:s instanceof Array?s.length===1?u=a=h=m=s[0]:s.length===2?(u=h=s[0],a=m=s[1]):s.length===3?(u=s[0],a=m=s[1],h=s[2]):(u=s[0],a=s[1],h=s[2],m=s[3]):u=a=h=m=0;var v;u+a>i&&(v=u+a,u*=i/v,a*=i/v),h+m>i&&(v=h+m,h*=i/v,m*=i/v),a+h>o&&(v=a+h,a*=o/v,h*=o/v),u+m>o&&(v=u+m,u*=o/v,m*=o/v),e.moveTo(n+u,r),e.lineTo(n+i-a,r),a!==0&&e.arc(n+i-a,r+a,a,-Math.PI/2,0),e.lineTo(n+i,r+o-h),h!==0&&e.arc(n+i-h,r+o-h,h,0,Math.PI/2),e.lineTo(n+m,r+o),m!==0&&e.arc(n+m,r+o-m,m,Math.PI/2,Math.PI),e.lineTo(n,r+u),u!==0&&e.arc(n+u,r+u,u,Math.PI,Math.PI*1.5)}var Lg=Math.round;function cee(e,t,n){if(t){var r=t.x1,i=t.x2,o=t.y1,s=t.y2;e.x1=r,e.x2=i,e.y1=o,e.y2=s;var u=n&&n.lineWidth;return u&&(Lg(r*2)===Lg(i*2)&&(e.x1=e.x2=Zm(r,u,!0)),Lg(o*2)===Lg(s*2)&&(e.y1=e.y2=Zm(o,u,!0))),e}}function dee(e,t,n){if(t){var r=t.x,i=t.y,o=t.width,s=t.height;e.x=r,e.y=i,e.width=o,e.height=s;var u=n&&n.lineWidth;return u&&(e.x=Zm(r,u,!0),e.y=Zm(i,u,!0),e.width=Math.max(Zm(r+o,u,!1)-e.x,o===0?0:1),e.height=Math.max(Zm(i+s,u,!1)-e.y,s===0?0:1)),e}}function Zm(e,t,n){if(!t)return e;var r=Lg(e*2);return(r+Lg(t))%2===0?r/2:(r+(n?1:-1))/2}var wZe=function(){function e(){this.x=0,this.y=0,this.width=0,this.height=0}return e}(),SZe={},ts=function(e){Pr(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new wZe},t.prototype.buildPath=function(n,r){var i,o,s,u;if(this.subPixelOptimize){var a=dee(SZe,r,this.style);i=a.x,o=a.y,s=a.width,u=a.height,a.r=r.r,r=a}else i=r.x,o=r.y,s=r.width,u=r.height;r.r?xZe(n,r):n.rect(i,o,s,u)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(Ba);ts.prototype.type="rect";var UV={fill:"#000"},jV=2,CZe={style:_a({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},W8.style)},gl=function(e){Pr(t,e);function t(n){var r=e.call(this)||this;return r.type="text",r._children=[],r._defaultStyle=UV,r.attr(n),r}return t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){e.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var n=0;n<this._children.length;n++){var r=this._children[n];r.zlevel=this.zlevel,r.z=this.z,r.z2=this.z2,r.culling=this.culling,r.cursor=this.cursor,r.invisible=this.invisible}},t.prototype.updateTransform=function(){var n=this.innerTransformable;n?(n.updateTransform(),n.transform&&(this.transform=n.transform)):e.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(n){var r=this.innerTransformable;return r?r.getLocalTransform(n):e.prototype.getLocalTransform.call(this,n)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),e.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,IZe(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(n){e.prototype.addSelfToZr.call(this,n);for(var r=0;r<this._children.length;r++)this._children[r].__zr=n},t.prototype.removeSelfFromZr=function(n){e.prototype.removeSelfFromZr.call(this,n);for(var r=0;r<this._children.length;r++)this._children[r].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var n=new ha(0,0,0,0),r=this._children,i=[],o=null,s=0;s<r.length;s++){var u=r[s],a=u.getBoundingRect(),h=u.getLocalTransform(i);h?(n.copy(a),n.applyTransform(h),o=o||n.clone(),o.union(n)):(o=o||a.clone(),o.union(a))}this._rect=o||n}return this._rect},t.prototype.setDefaultTextStyle=function(n){this._defaultStyle=n||UV},t.prototype.setTextContent=function(n){},t.prototype._mergeStyle=function(n,r){if(!r)return n;var i=r.rich,o=n.rich||i&&{};return vr(n,r),i&&o?(this._mergeRich(o,i),n.rich=o):o&&(n.rich=o),n},t.prototype._mergeRich=function(n,r){for(var i=Xa(r),o=0;o<i.length;o++){var s=i[o];n[s]=n[s]||{},vr(n[s],r[s])}},t.prototype.getAnimationStyleProps=function(){return CZe},t.prototype._getOrCreateChild=function(n){var r=this._children[this._childCursor];return(!r||!(r instanceof n))&&(r=new n),this._children[this._childCursor++]=r,r.__zr=this.__zr,r.parent=this,r},t.prototype._updatePlainTexts=function(){var n=this.style,r=n.font||S0,i=n.padding,o=XV(n),s=WYe(o,n),u=$E(n),a=!!n.backgroundColor,h=s.outerHeight,m=s.outerWidth,v=s.contentWidth,_=s.lines,b=s.lineHeight,T=this._defaultStyle,M=n.x||0,E=n.y||0,k=n.align||T.align||"left",z=n.verticalAlign||T.verticalAlign||"top",B=M,U=Sg(E,s.contentHeight,z);if(u||i){var W=Tb(M,m,k),q=Sg(E,h,z);u&&this._renderBackground(n,n,W,q,m,h)}U+=b/2,i&&(B=ZV(M,k,i),z==="top"?U+=i[0]:z==="bottom"&&(U-=i[2]));for(var Q=0,te=!1,ie=YV("fill"in n?n.fill:(te=!0,T.fill)),ae=KV("stroke"in n?n.stroke:!a&&(!T.autoStroke||te)?(Q=jV,T.stroke):null),re=n.textShadowBlur>0,se=n.width!=null&&(n.overflow==="truncate"||n.overflow==="break"||n.overflow==="breakAll"),be=s.calculatedLineHeight,Ie=0;Ie<_.length;Ie++){var Se=this._getOrCreateChild(wC),me=Se.createStyle();Se.useStyle(me),me.text=_[Ie],me.x=B,me.y=U,k&&(me.textAlign=k),me.textBaseline="middle",me.opacity=n.opacity,me.strokeFirst=!0,re&&(me.shadowBlur=n.textShadowBlur||0,me.shadowColor=n.textShadowColor||"transparent",me.shadowOffsetX=n.textShadowOffsetX||0,me.shadowOffsetY=n.textShadowOffsetY||0),me.stroke=ae,me.fill=ie,ae&&(me.lineWidth=n.lineWidth||Q,me.lineDash=n.lineDash,me.lineDashOffset=n.lineDashOffset||0),me.font=r,WV(me,n),U+=b,se&&Se.setBoundingRect(new ha(Tb(me.x,n.width,me.textAlign),Sg(me.y,be,me.textBaseline),v,be))}},t.prototype._updateRichTexts=function(){var n=this.style,r=XV(n),i=YYe(r,n),o=i.width,s=i.outerWidth,u=i.outerHeight,a=n.padding,h=n.x||0,m=n.y||0,v=this._defaultStyle,_=n.align||v.align,b=n.verticalAlign||v.verticalAlign,T=Tb(h,s,_),M=Sg(m,u,b),E=T,k=M;a&&(E+=a[3],k+=a[0]);var z=E+o;$E(n)&&this._renderBackground(n,n,T,M,s,u);for(var B=!!n.backgroundColor,U=0;U<i.lines.length;U++){for(var W=i.lines[U],q=W.tokens,Q=q.length,te=W.lineHeight,ie=W.width,ae=0,re=E,se=z,be=Q-1,Ie=void 0;ae<Q&&(Ie=q[ae],!Ie.align||Ie.align==="left");)this._placeToken(Ie,n,te,k,re,"left",B),ie-=Ie.width,re+=Ie.width,ae++;for(;be>=0&&(Ie=q[be],Ie.align==="right");)this._placeToken(Ie,n,te,k,se,"right",B),ie-=Ie.width,se-=Ie.width,be--;for(re+=(o-(re-E)-(z-se)-ie)/2;ae<=be;)Ie=q[ae],this._placeToken(Ie,n,te,k,re+Ie.width/2,"center",B),re+=Ie.width,ae++;k+=te}},t.prototype._placeToken=function(n,r,i,o,s,u,a){var h=r.rich[n.styleName]||{};h.text=n.text;var m=n.verticalAlign,v=o+i/2;m==="top"?v=o+n.height/2:m==="bottom"&&(v=o+i-n.height/2);var _=!n.isLineHolder&&$E(h);_&&this._renderBackground(h,r,u==="right"?s-n.width:u==="center"?s-n.width/2:s,v-n.height/2,n.width,n.height);var b=!!h.backgroundColor,T=n.textPadding;T&&(s=ZV(s,u,T),v-=n.height/2-T[0]-n.innerHeight/2);var M=this._getOrCreateChild(wC),E=M.createStyle();M.useStyle(E);var k=this._defaultStyle,z=!1,B=0,U=YV("fill"in h?h.fill:"fill"in r?r.fill:(z=!0,k.fill)),W=KV("stroke"in h?h.stroke:"stroke"in r?r.stroke:!b&&!a&&(!k.autoStroke||z)?(B=jV,k.stroke):null),q=h.textShadowBlur>0||r.textShadowBlur>0;E.text=n.text,E.x=s,E.y=v,q&&(E.shadowBlur=h.textShadowBlur||r.textShadowBlur||0,E.shadowColor=h.textShadowColor||r.textShadowColor||"transparent",E.shadowOffsetX=h.textShadowOffsetX||r.textShadowOffsetX||0,E.shadowOffsetY=h.textShadowOffsetY||r.textShadowOffsetY||0),E.textAlign=u,E.textBaseline="middle",E.font=n.font||S0,E.opacity=uS(h.opacity,r.opacity,1),WV(E,h),W&&(E.lineWidth=uS(h.lineWidth,r.lineWidth,B),E.lineDash=Qi(h.lineDash,r.lineDash),E.lineDashOffset=r.lineDashOffset||0,E.stroke=W),U&&(E.fill=U);var Q=n.contentWidth,te=n.contentHeight;M.setBoundingRect(new ha(Tb(E.x,Q,E.textAlign),Sg(E.y,te,E.textBaseline),Q,te))},t.prototype._renderBackground=function(n,r,i,o,s,u){var a=n.backgroundColor,h=n.borderWidth,m=n.borderColor,v=a&&a.image,_=a&&!v,b=n.borderRadius,T=this,M,E;if(_||n.lineHeight||h&&m){M=this._getOrCreateChild(ts),M.useStyle(M.createStyle()),M.style.fill=null;var k=M.shape;k.x=i,k.y=o,k.width=s,k.height=u,k.r=b,M.dirtyShape()}if(_){var z=M.style;z.fill=a||null,z.fillOpacity=Qi(n.fillOpacity,1)}else if(v){E=this._getOrCreateChild(wp),E.onload=function(){T.dirtyStyle()};var B=E.style;B.image=a.image,B.x=i,B.y=o,B.width=s,B.height=u}if(h&&m){var z=M.style;z.lineWidth=h,z.stroke=m,z.strokeOpacity=Qi(n.strokeOpacity,1),z.lineDash=n.borderDash,z.lineDashOffset=n.borderDashOffset||0,M.strokeContainThreshold=0,M.hasFill()&&M.hasStroke()&&(z.strokeFirst=!0,z.lineWidth*=2)}var U=(M||E).style;U.shadowBlur=n.shadowBlur||0,U.shadowColor=n.shadowColor||"transparent",U.shadowOffsetX=n.shadowOffsetX||0,U.shadowOffsetY=n.shadowOffsetY||0,U.opacity=uS(n.opacity,r.opacity,1)},t.makeFont=function(n){var r="";return AZe(n)&&(r=[n.fontStyle,n.fontWeight,EZe(n.fontSize),n.fontFamily||"sans-serif"].join(" ")),r&&Xc(r)||n.textFont||n.font},t}(Ew),TZe={left:!0,right:1,center:1},MZe={top:1,bottom:1,middle:1},GV=["fontStyle","fontWeight","fontSize","fontFamily"];function EZe(e){return typeof e=="string"&&(e.indexOf("px")!==-1||e.indexOf("rem")!==-1||e.indexOf("em")!==-1)?e:isNaN(+e)?YR+"px":e+"px"}function WV(e,t){for(var n=0;n<GV.length;n++){var r=GV[n],i=t[r];i!=null&&(e[r]=i)}}function AZe(e){return e.fontSize!=null||e.fontFamily||e.fontWeight}function IZe(e){return qV(e),Gt(e.rich,qV),e}function qV(e){if(e){e.font=gl.makeFont(e);var t=e.align;t==="middle"&&(t="center"),e.align=t==null||TZe[t]?t:"left";var n=e.verticalAlign;n==="center"&&(n="middle"),e.verticalAlign=n==null||MZe[n]?n:"top";var r=e.padding;r&&(e.padding=TQ(e.padding))}}function KV(e,t){return e==null||t<=0||e==="transparent"||e==="none"?null:e.image||e.colorStops?"#000":e}function YV(e){return e==null||e==="none"?null:e.image||e.colorStops?"#000":e}function ZV(e,t,n){return t==="right"?e-n[1]:t==="center"?e+n[3]/2-n[1]/2:e+n[3]}function XV(e){var t=e.text;return t!=null&&(t+=""),t}function $E(e){return!!(e.backgroundColor||e.lineHeight||e.borderWidth&&e.borderColor)}var Da=Do(),kZe=function(e,t,n,r){if(r){var i=Da(r);i.dataIndex=n,i.dataType=t,i.seriesIndex=e,i.ssrType="chart",r.type==="group"&&r.traverse(function(o){var s=Da(o);s.seriesIndex=e,s.dataIndex=n,s.dataType=t,s.ssrType="chart"})}},JV=1,QV={},hee=Do(),hD=Do(),fD=0,q8=1,K8=2,sd=["emphasis","blur","select"],eH=["normal","emphasis","blur","select"],PZe=10,LZe=9,s0="highlight",vS="downplay",q2="select",gS="unselect",K2="toggleSelect";function sg(e){return e!=null&&e!=="none"}function Y8(e,t,n){e.onHoverStateChange&&(e.hoverState||0)!==n&&e.onHoverStateChange(t),e.hoverState=n}function fee(e){Y8(e,"emphasis",K8)}function pee(e){e.hoverState===K8&&Y8(e,"normal",fD)}function pD(e){Y8(e,"blur",q8)}function mee(e){e.hoverState===q8&&Y8(e,"normal",fD)}function RZe(e){e.selected=!0}function DZe(e){e.selected=!1}function tH(e,t,n){t(e,n)}function xh(e,t,n){tH(e,t,n),e.isGroup&&e.traverse(function(r){tH(r,t,n)})}function nH(e,t){switch(t){case"emphasis":e.hoverState=K8;break;case"normal":e.hoverState=fD;break;case"blur":e.hoverState=q8;break;case"select":e.selected=!0}}function OZe(e,t,n,r){for(var i=e.style,o={},s=0;s<t.length;s++){var u=t[s],a=i[u];o[u]=a??(r&&r[u])}for(var s=0;s<e.animators.length;s++){var h=e.animators[s];h.__fromStateTransition&&h.__fromStateTransition.indexOf(n)<0&&h.targetName==="style"&&h.saveTo(o,t)}return o}function zZe(e,t,n,r){var i=n&&Ta(n,"select")>=0,o=!1;if(e instanceof Ba){var s=hee(e),u=i&&s.selectFill||s.normalFill,a=i&&s.selectStroke||s.normalStroke;if(sg(u)||sg(a)){r=r||{};var h=r.style||{};h.fill==="inherit"?(o=!0,r=vr({},r),h=vr({},h),h.fill=u):!sg(h.fill)&&sg(u)?(o=!0,r=vr({},r),h=vr({},h),h.fill=_V(u)):!sg(h.stroke)&&sg(a)&&(o||(r=vr({},r),h=vr({},h)),h.stroke=_V(a)),r.style=h}}if(r&&r.z2==null){o||(r=vr({},r));var m=e.z2EmphasisLift;r.z2=e.z2+(m??PZe)}return r}function BZe(e,t,n){if(n&&n.z2==null){n=vr({},n);var r=e.z2SelectLift;n.z2=e.z2+(r??LZe)}return n}function FZe(e,t,n){var r=Ta(e.currentStates,t)>=0,i=e.style.opacity,o=r?null:OZe(e,["opacity"],t,{opacity:1});n=n||{};var s=n.style||{};return s.opacity==null&&(n=vr({},n),s=vr({opacity:r?i:o.opacity*.1},s),n.style=s),n}function VE(e,t){var n=this.states[e];if(this.style){if(e==="emphasis")return zZe(this,e,t,n);if(e==="blur")return FZe(this,e,n);if(e==="select")return BZe(this,e,n)}return n}function NZe(e){e.stateProxy=VE;var t=e.getTextContent(),n=e.getTextGuideLine();t&&(t.stateProxy=VE),n&&(n.stateProxy=VE)}function rH(e,t){!yee(e,t)&&!e.__highByOuter&&xh(e,fee)}function iH(e,t){!yee(e,t)&&!e.__highByOuter&&xh(e,pee)}function SC(e,t){e.__highByOuter|=1<<(t||0),xh(e,fee)}function CC(e,t){!(e.__highByOuter&=~(1<<(t||0)))&&xh(e,pee)}function $Ze(e){xh(e,pD)}function vee(e){xh(e,mee)}function gee(e){xh(e,RZe)}function _ee(e){xh(e,DZe)}function yee(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function bee(e){var t=e.getModel(),n=[],r=[];t.eachComponent(function(i,o){var s=hD(o),u=i==="series",a=u?e.getViewOfSeriesModel(o):e.getViewOfComponentModel(o);!u&&r.push(a),s.isBlured&&(a.group.traverse(function(h){mee(h)}),u&&n.push(o)),s.isBlured=!1}),Gt(r,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(n,!1,t)})}function Hk(e,t,n,r){var i=r.getModel();n=n||"coordinateSystem";function o(h,m){for(var v=0;v<m.length;v++){var _=h.getItemGraphicEl(m[v]);_&&vee(_)}}if(e!=null&&!(!t||t==="none")){var s=i.getSeriesByIndex(e),u=s.coordinateSystem;u&&u.master&&(u=u.master);var a=[];i.eachSeries(function(h){var m=s===h,v=h.coordinateSystem;v&&v.master&&(v=v.master);var _=v&&u?v===u:m;if(!(n==="series"&&!m||n==="coordinateSystem"&&!_||t==="series"&&m)){var b=r.getViewOfSeriesModel(h);if(b.group.traverse(function(E){E.__highByOuter&&m&&t==="self"||pD(E)}),ml(t))o(h.getData(),t);else if(oi(t))for(var T=Xa(t),M=0;M<T.length;M++)o(h.getData(T[M]),t[T[M]]);a.push(h),hD(h).isBlured=!0}}),i.eachComponent(function(h,m){if(h!=="series"){var v=r.getViewOfComponentModel(m);v&&v.toggleBlurSeries&&v.toggleBlurSeries(a,!0,i)}})}}function Uk(e,t,n){if(!(e==null||t==null)){var r=n.getModel().getComponent(e,t);if(r){hD(r).isBlured=!0;var i=n.getViewOfComponentModel(r);!i||!i.focusBlurEnabled||i.group.traverse(function(o){pD(o)})}}}function VZe(e,t,n){var r=e.seriesIndex,i=e.getData(t.dataType);if(i){var o=T0(i,t);o=(zr(o)?o[0]:o)||0;var s=i.getItemGraphicEl(o);if(!s)for(var u=i.count(),a=0;!s&&a<u;)s=i.getItemGraphicEl(a++);if(s){var h=Da(s);Hk(r,h.focus,h.blurScope,n)}else{var m=e.get(["emphasis","focus"]),v=e.get(["emphasis","blurScope"]);m!=null&&Hk(r,m,v,n)}}}function mD(e,t,n,r){var i={focusSelf:!1,dispatchers:null};if(e==null||e==="series"||t==null||n==null)return i;var o=r.getModel().getComponent(e,t);if(!o)return i;var s=r.getViewOfComponentModel(o);if(!s||!s.findHighDownDispatchers)return i;for(var u=s.findHighDownDispatchers(n),a,h=0;h<u.length;h++)if(Da(u[h]).focus==="self"){a=!0;break}return{focusSelf:a,dispatchers:u}}function HZe(e,t,n){var r=Da(e),i=mD(r.componentMainType,r.componentIndex,r.componentHighDownName,n),o=i.dispatchers,s=i.focusSelf;o?(s&&Uk(r.componentMainType,r.componentIndex,n),Gt(o,function(u){return rH(u,t)})):(Hk(r.seriesIndex,r.focus,r.blurScope,n),r.focus==="self"&&Uk(r.componentMainType,r.componentIndex,n),rH(e,t))}function UZe(e,t,n){bee(n);var r=Da(e),i=mD(r.componentMainType,r.componentIndex,r.componentHighDownName,n).dispatchers;i?Gt(i,function(o){return iH(o,t)}):iH(e,t)}function jZe(e,t,n){if(qk(t)){var r=t.dataType,i=e.getData(r),o=T0(i,t);zr(o)||(o=[o]),e[t.type===K2?"toggleSelect":t.type===q2?"select":"unselect"](o,r)}}function aH(e){var t=e.getAllData();Gt(t,function(n){var r=n.data,i=n.type;r.eachItemGraphicEl(function(o,s){e.isSelected(s,i)?gee(o):_ee(o)})})}function GZe(e){var t=[];return e.eachSeries(function(n){var r=n.getAllData();Gt(r,function(i){i.data;var o=i.type,s=n.getSelectedDataIndices();if(s.length>0){var u={dataIndex:s,seriesIndex:n.seriesIndex};o!=null&&(u.dataType=o),t.push(u)}})}),t}function jk(e,t,n){xee(e,!0),xh(e,NZe),qZe(e,t,n)}function WZe(e){xee(e,!1)}function Gk(e,t,n,r){r?WZe(e):jk(e,t,n)}function qZe(e,t,n){var r=Da(e);t!=null?(r.focus=t,r.blurScope=n):r.focus&&(r.focus=null)}var oH=["emphasis","blur","select"],KZe={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function sH(e,t,n,r){n=n||"itemStyle";for(var i=0;i<oH.length;i++){var o=oH[i],s=t.getModel([o,n]),u=e.ensureState(o);u.style=s[KZe[n]]()}}function xee(e,t){var n=t===!1,r=e;e.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=e.highDownSilentOnTouch),(!n||r.__highDownDispatcher)&&(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!n)}function Wk(e){return!!(e&&e.__highDownDispatcher)}function YZe(e){var t=QV[e];return t==null&&JV<=32&&(t=QV[e]=JV++),t}function qk(e){var t=e.type;return t===q2||t===gS||t===K2}function lH(e){var t=e.type;return t===s0||t===vS}function ZZe(e){var t=hee(e);t.normalFill=e.style.fill,t.normalStroke=e.style.stroke;var n=e.states.select||{};t.selectFill=n.style&&n.style.fill||null,t.selectStroke=n.style&&n.style.stroke||null}var lg=M0.CMD,XZe=[[],[],[]],uH=Math.sqrt,JZe=Math.atan2;function QZe(e,t){if(t){var n=e.data,r=e.len(),i,o,s,u,a,h,m=lg.M,v=lg.C,_=lg.L,b=lg.R,T=lg.A,M=lg.Q;for(s=0,u=0;s<r;){switch(i=n[s++],u=s,o=0,i){case m:o=1;break;case _:o=1;break;case v:o=3;break;case M:o=2;break;case T:var E=t[4],k=t[5],z=uH(t[0]*t[0]+t[1]*t[1]),B=uH(t[2]*t[2]+t[3]*t[3]),U=JZe(-t[1]/B,t[0]/z);n[s]*=z,n[s++]+=E,n[s]*=B,n[s++]+=k,n[s++]*=z,n[s++]*=B,n[s++]+=U,n[s++]+=U,s+=2,u=s;break;case b:h[0]=n[s++],h[1]=n[s++],Tu(h,h,t),n[u++]=h[0],n[u++]=h[1],h[0]+=n[s++],h[1]+=n[s++],Tu(h,h,t),n[u++]=h[0],n[u++]=h[1]}for(a=0;a<o;a++){var W=XZe[a];W[0]=n[s++],W[1]=n[s++],Tu(W,W,t),n[u++]=W[0],n[u++]=W[1]}}e.increaseVersion()}}var HE=Math.sqrt,a3=Math.sin,o3=Math.cos,rb=Math.PI;function cH(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Kk(e,t){return(e[0]*t[0]+e[1]*t[1])/(cH(e)*cH(t))}function dH(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(Kk(e,t))}function hH(e,t,n,r,i,o,s,u,a,h,m){var v=a*(rb/180),_=o3(v)*(e-n)/2+a3(v)*(t-r)/2,b=-1*a3(v)*(e-n)/2+o3(v)*(t-r)/2,T=_*_/(s*s)+b*b/(u*u);T>1&&(s*=HE(T),u*=HE(T));var M=(i===o?-1:1)*HE((s*s*(u*u)-s*s*(b*b)-u*u*(_*_))/(s*s*(b*b)+u*u*(_*_)))||0,E=M*s*b/u,k=M*-u*_/s,z=(e+n)/2+o3(v)*E-a3(v)*k,B=(t+r)/2+a3(v)*E+o3(v)*k,U=dH([1,0],[(_-E)/s,(b-k)/u]),W=[(_-E)/s,(b-k)/u],q=[(-1*_-E)/s,(-1*b-k)/u],Q=dH(W,q);if(Kk(W,q)<=-1&&(Q=rb),Kk(W,q)>=1&&(Q=0),Q<0){var te=Math.round(Q/rb*1e6)/1e6;Q=rb*2+te%2*rb}m.addData(h,z,B,s,u,U,Q,v,o)}var eXe=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,tXe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function nXe(e){var t=new M0;if(!e)return t;var n=0,r=0,i=n,o=r,s,u=M0.CMD,a=e.match(eXe);if(!a)return t;for(var h=0;h<a.length;h++){for(var m=a[h],v=m.charAt(0),_=void 0,b=m.match(tXe)||[],T=b.length,M=0;M<T;M++)b[M]=parseFloat(b[M]);for(var E=0;E<T;){var k=void 0,z=void 0,B=void 0,U=void 0,W=void 0,q=void 0,Q=void 0,te=n,ie=r,ae=void 0,re=void 0;switch(v){case"l":n+=b[E++],r+=b[E++],_=u.L,t.addData(_,n,r);break;case"L":n=b[E++],r=b[E++],_=u.L,t.addData(_,n,r);break;case"m":n+=b[E++],r+=b[E++],_=u.M,t.addData(_,n,r),i=n,o=r,v="l";break;case"M":n=b[E++],r=b[E++],_=u.M,t.addData(_,n,r),i=n,o=r,v="L";break;case"h":n+=b[E++],_=u.L,t.addData(_,n,r);break;case"H":n=b[E++],_=u.L,t.addData(_,n,r);break;case"v":r+=b[E++],_=u.L,t.addData(_,n,r);break;case"V":r=b[E++],_=u.L,t.addData(_,n,r);break;case"C":_=u.C,t.addData(_,b[E++],b[E++],b[E++],b[E++],b[E++],b[E++]),n=b[E-2],r=b[E-1];break;case"c":_=u.C,t.addData(_,b[E++]+n,b[E++]+r,b[E++]+n,b[E++]+r,b[E++]+n,b[E++]+r),n+=b[E-2],r+=b[E-1];break;case"S":k=n,z=r,ae=t.len(),re=t.data,s===u.C&&(k+=n-re[ae-4],z+=r-re[ae-3]),_=u.C,te=b[E++],ie=b[E++],n=b[E++],r=b[E++],t.addData(_,k,z,te,ie,n,r);break;case"s":k=n,z=r,ae=t.len(),re=t.data,s===u.C&&(k+=n-re[ae-4],z+=r-re[ae-3]),_=u.C,te=n+b[E++],ie=r+b[E++],n+=b[E++],r+=b[E++],t.addData(_,k,z,te,ie,n,r);break;case"Q":te=b[E++],ie=b[E++],n=b[E++],r=b[E++],_=u.Q,t.addData(_,te,ie,n,r);break;case"q":te=b[E++]+n,ie=b[E++]+r,n+=b[E++],r+=b[E++],_=u.Q,t.addData(_,te,ie,n,r);break;case"T":k=n,z=r,ae=t.len(),re=t.data,s===u.Q&&(k+=n-re[ae-4],z+=r-re[ae-3]),n=b[E++],r=b[E++],_=u.Q,t.addData(_,k,z,n,r);break;case"t":k=n,z=r,ae=t.len(),re=t.data,s===u.Q&&(k+=n-re[ae-4],z+=r-re[ae-3]),n+=b[E++],r+=b[E++],_=u.Q,t.addData(_,k,z,n,r);break;case"A":B=b[E++],U=b[E++],W=b[E++],q=b[E++],Q=b[E++],te=n,ie=r,n=b[E++],r=b[E++],_=u.A,hH(te,ie,n,r,q,Q,B,U,W,_,t);break;case"a":B=b[E++],U=b[E++],W=b[E++],q=b[E++],Q=b[E++],te=n,ie=r,n+=b[E++],r+=b[E++],_=u.A,hH(te,ie,n,r,q,Q,B,U,W,_,t);break}}(v==="z"||v==="Z")&&(_=u.Z,t.addData(_),n=i,r=o),s=_}return t.toStatic(),t}var wee=function(e){Pr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.applyTransform=function(n){},t}(Ba);function See(e){return e.setData!=null}function Cee(e,t){var n=nXe(e),r=vr({},t);return r.buildPath=function(i){if(See(i)){i.setData(n.data);var o=i.getContext();o&&i.rebuildPath(o,1)}else{var o=i;n.rebuildPath(o,1)}},r.applyTransform=function(i){QZe(n,i),this.dirtyShape()},r}function rXe(e,t){return new wee(Cee(e,t))}function iXe(e,t){var n=Cee(e,t),r=function(i){Pr(o,i);function o(s){var u=i.call(this,s)||this;return u.applyTransform=n.applyTransform,u.buildPath=n.buildPath,u}return o}(wee);return r}function aXe(e,t){for(var n=[],r=e.length,i=0;i<r;i++){var o=e[i];n.push(o.getUpdatedPathProxy(!0))}var s=new Ba(t);return s.createPathProxy(),s.buildPath=function(u){if(See(u)){u.appendPath(n);var a=u.getContext();a&&u.rebuildPath(a,1)}},s}var oXe=function(){function e(){this.cx=0,this.cy=0,this.r=0}return e}(),Z8=function(e){Pr(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new oXe},t.prototype.buildPath=function(n,r){n.moveTo(r.cx+r.r,r.cy),n.arc(r.cx,r.cy,r.r,0,Math.PI*2)},t}(Ba);Z8.prototype.type="circle";var sXe=function(){function e(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return e}(),vD=function(e){Pr(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new sXe},t.prototype.buildPath=function(n,r){var i=.5522848,o=r.cx,s=r.cy,u=r.rx,a=r.ry,h=u*i,m=a*i;n.moveTo(o-u,s),n.bezierCurveTo(o-u,s-m,o-h,s-a,o,s-a),n.bezierCurveTo(o+h,s-a,o+u,s-m,o+u,s),n.bezierCurveTo(o+u,s+m,o+h,s+a,o,s+a),n.bezierCurveTo(o-h,s+a,o-u,s+m,o-u,s),n.closePath()},t}(Ba);vD.prototype.type="ellipse";var Tee=Math.PI,UE=Tee*2,km=Math.sin,ug=Math.cos,lXe=Math.acos,cs=Math.atan2,fH=Math.abs,Y2=Math.sqrt,Mb=Math.max,jc=Math.min,ec=1e-4;function uXe(e,t,n,r,i,o,s,u){var a=n-e,h=r-t,m=s-i,v=u-o,_=v*a-m*h;if(!(_*_<ec))return _=(m*(t-o)-v*(e-i))/_,[e+_*a,t+_*h]}function s3(e,t,n,r,i,o,s){var u=e-n,a=t-r,h=(s?o:-o)/Y2(u*u+a*a),m=h*a,v=-h*u,_=e+m,b=t+v,T=n+m,M=r+v,E=(_+T)/2,k=(b+M)/2,z=T-_,B=M-b,U=z*z+B*B,W=i-o,q=_*M-T*b,Q=(B<0?-1:1)*Y2(Mb(0,W*W*U-q*q)),te=(q*B-z*Q)/U,ie=(-q*z-B*Q)/U,ae=(q*B+z*Q)/U,re=(-q*z+B*Q)/U,se=te-E,be=ie-k,Ie=ae-E,Se=re-k;return se*se+be*be>Ie*Ie+Se*Se&&(te=ae,ie=re),{cx:te,cy:ie,x0:-m,y0:-v,x1:te*(i/W-1),y1:ie*(i/W-1)}}function cXe(e){var t;if(zr(e)){var n=e.length;if(!n)return e;n===1?t=[e[0],e[0],0,0]:n===2?t=[e[0],e[0],e[1],e[1]]:n===3?t=e.concat(e[2]):t=e}else t=[e,e,e,e];return t}function dXe(e,t){var n,r=Mb(t.r,0),i=Mb(t.r0||0,0),o=r>0,s=i>0;if(!(!o&&!s)){if(o||(r=i,i=0),i>r){var u=r;r=i,i=u}var a=t.startAngle,h=t.endAngle;if(!(isNaN(a)||isNaN(h))){var m=t.cx,v=t.cy,_=!!t.clockwise,b=fH(h-a),T=b>UE&&b%UE;if(T>ec&&(b=T),!(r>ec))e.moveTo(m,v);else if(b>UE-ec)e.moveTo(m+r*ug(a),v+r*km(a)),e.arc(m,v,r,a,h,!_),i>ec&&(e.moveTo(m+i*ug(h),v+i*km(h)),e.arc(m,v,i,h,a,_));else{var M=void 0,E=void 0,k=void 0,z=void 0,B=void 0,U=void 0,W=void 0,q=void 0,Q=void 0,te=void 0,ie=void 0,ae=void 0,re=void 0,se=void 0,be=void 0,Ie=void 0,Se=r*ug(a),me=r*km(a),Le=i*ug(h),Ee=i*km(h),_e=b>ec;if(_e){var xe=t.cornerRadius;xe&&(n=cXe(xe),M=n[0],E=n[1],k=n[2],z=n[3]);var Be=fH(r-i)/2;if(B=jc(Be,k),U=jc(Be,z),W=jc(Be,M),q=jc(Be,E),ie=Q=Mb(B,U),ae=te=Mb(W,q),(Q>ec||te>ec)&&(re=r*ug(h),se=r*km(h),be=i*ug(a),Ie=i*km(a),b<Tee)){var Je=uXe(Se,me,be,Ie,re,se,Le,Ee);if(Je){var Ye=Se-Je[0],lt=me-Je[1],Nt=re-Je[0],Dt=se-Je[1],je=1/km(lXe((Ye*Nt+lt*Dt)/(Y2(Ye*Ye+lt*lt)*Y2(Nt*Nt+Dt*Dt)))/2),Ct=Y2(Je[0]*Je[0]+Je[1]*Je[1]);ie=jc(Q,(r-Ct)/(je+1)),ae=jc(te,(i-Ct)/(je-1))}}}if(!_e)e.moveTo(m+Se,v+me);else if(ie>ec){var vt=jc(k,ie),Vt=jc(z,ie),Re=s3(be,Ie,Se,me,r,vt,_),pt=s3(re,se,Le,Ee,r,Vt,_);e.moveTo(m+Re.cx+Re.x0,v+Re.cy+Re.y0),ie<Q&&vt===Vt?e.arc(m+Re.cx,v+Re.cy,ie,cs(Re.y0,Re.x0),cs(pt.y0,pt.x0),!_):(vt>0&&e.arc(m+Re.cx,v+Re.cy,vt,cs(Re.y0,Re.x0),cs(Re.y1,Re.x1),!_),e.arc(m,v,r,cs(Re.cy+Re.y1,Re.cx+Re.x1),cs(pt.cy+pt.y1,pt.cx+pt.x1),!_),Vt>0&&e.arc(m+pt.cx,v+pt.cy,Vt,cs(pt.y1,pt.x1),cs(pt.y0,pt.x0),!_))}else e.moveTo(m+Se,v+me),e.arc(m,v,r,a,h,!_);if(!(i>ec)||!_e)e.lineTo(m+Le,v+Ee);else if(ae>ec){var vt=jc(M,ae),Vt=jc(E,ae),Re=s3(Le,Ee,re,se,i,-Vt,_),pt=s3(Se,me,be,Ie,i,-vt,_);e.lineTo(m+Re.cx+Re.x0,v+Re.cy+Re.y0),ae<te&&vt===Vt?e.arc(m+Re.cx,v+Re.cy,ae,cs(Re.y0,Re.x0),cs(pt.y0,pt.x0),!_):(Vt>0&&e.arc(m+Re.cx,v+Re.cy,Vt,cs(Re.y0,Re.x0),cs(Re.y1,Re.x1),!_),e.arc(m,v,i,cs(Re.cy+Re.y1,Re.cx+Re.x1),cs(pt.cy+pt.y1,pt.cx+pt.x1),_),vt>0&&e.arc(m+pt.cx,v+pt.cy,vt,cs(pt.y1,pt.x1),cs(pt.y0,pt.x0),!_))}else e.lineTo(m+Le,v+Ee),e.arc(m,v,i,h,a,_)}e.closePath()}}}var hXe=function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return e}(),X8=function(e){Pr(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new hXe},t.prototype.buildPath=function(n,r){dXe(n,r)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(Ba);X8.prototype.type="sector";var fXe=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return e}(),gD=function(e){Pr(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new fXe},t.prototype.buildPath=function(n,r){var i=r.cx,o=r.cy,s=Math.PI*2;n.moveTo(i+r.r,o),n.arc(i,o,r.r,0,s,!1),n.moveTo(i+r.r0,o),n.arc(i,o,r.r0,0,s,!0)},t}(Ba);gD.prototype.type="ring";function pXe(e,t,n,r){var i=[],o=[],s=[],u=[],a,h,m,v;if(r){m=[1/0,1/0],v=[-1/0,-1/0];for(var _=0,b=e.length;_<b;_++)Ig(m,m,e[_]),kg(v,v,e[_]);Ig(m,m,r[0]),kg(v,v,r[1])}for(var _=0,b=e.length;_<b;_++){var T=e[_];if(n)a=e[_?_-1:b-1],h=e[(_+1)%b];else if(_===0||_===b-1){i.push(Zqe(e[_]));continue}else a=e[_-1],h=e[_+1];Xqe(o,h,a),sE(o,o,t);var M=Ck(T,a),E=Ck(T,h),k=M+E;k!==0&&(M/=k,E/=k),sE(s,o,-M),sE(u,o,E);var z=tV([],T,s),B=tV([],T,u);r&&(kg(z,z,m),Ig(z,z,v),kg(B,B,m),Ig(B,B,v)),i.push(z),i.push(B)}return n&&i.push(i.shift()),i}function Mee(e,t,n){var r=t.smooth,i=t.points;if(i&&i.length>=2){if(r){var o=pXe(i,r,n,t.smoothConstraint);e.moveTo(i[0][0],i[0][1]);for(var s=i.length,u=0;u<(n?s:s-1);u++){var a=o[u*2],h=o[u*2+1],m=i[(u+1)%s];e.bezierCurveTo(a[0],a[1],h[0],h[1],m[0],m[1])}}else{e.moveTo(i[0][0],i[0][1]);for(var u=1,v=i.length;u<v;u++)e.lineTo(i[u][0],i[u][1])}n&&e.closePath()}}var mXe=function(){function e(){this.points=null,this.smooth=0,this.smoothConstraint=null}return e}(),_D=function(e){Pr(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new mXe},t.prototype.buildPath=function(n,r){Mee(n,r,!0)},t}(Ba);_D.prototype.type="polygon";var vXe=function(){function e(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return e}(),yD=function(e){Pr(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new vXe},t.prototype.buildPath=function(n,r){Mee(n,r,!1)},t}(Ba);yD.prototype.type="polyline";var gXe={},_Xe=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e}(),fp=function(e){Pr(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new _Xe},t.prototype.buildPath=function(n,r){var i,o,s,u;if(this.subPixelOptimize){var a=cee(gXe,r,this.style);i=a.x1,o=a.y1,s=a.x2,u=a.y2}else i=r.x1,o=r.y1,s=r.x2,u=r.y2;var h=r.percent;h!==0&&(n.moveTo(i,o),h<1&&(s=i*(1-h)+s*h,u=o*(1-h)+u*h),n.lineTo(s,u))},t.prototype.pointAt=function(n){var r=this.shape;return[r.x1*(1-n)+r.x2*n,r.y1*(1-n)+r.y2*n]},t}(Ba);fp.prototype.type="line";var tl=[],yXe=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return e}();function pH(e,t,n){var r=e.cpx2,i=e.cpy2;return r!=null||i!=null?[(n?hV:Jo)(e.x1,e.cpx1,e.cpx2,e.x2,t),(n?hV:Jo)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(n?fV:il)(e.x1,e.cpx1,e.x2,t),(n?fV:il)(e.y1,e.cpy1,e.y2,t)]}var bD=function(e){Pr(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new yXe},t.prototype.buildPath=function(n,r){var i=r.x1,o=r.y1,s=r.x2,u=r.y2,a=r.cpx1,h=r.cpy1,m=r.cpx2,v=r.cpy2,_=r.percent;_!==0&&(n.moveTo(i,o),m==null||v==null?(_<1&&(gC(i,a,s,_,tl),a=tl[1],s=tl[2],gC(o,h,u,_,tl),h=tl[1],u=tl[2]),n.quadraticCurveTo(a,h,s,u)):(_<1&&(vC(i,a,m,s,_,tl),a=tl[1],m=tl[2],s=tl[3],vC(o,h,v,u,_,tl),h=tl[1],v=tl[2],u=tl[3]),n.bezierCurveTo(a,h,m,v,s,u)))},t.prototype.pointAt=function(n){return pH(this.shape,n,!1)},t.prototype.tangentAt=function(n){var r=pH(this.shape,n,!0);return eKe(r,r)},t}(Ba);bD.prototype.type="bezier-curve";var bXe=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return e}(),J8=function(e){Pr(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new bXe},t.prototype.buildPath=function(n,r){var i=r.cx,o=r.cy,s=Math.max(r.r,0),u=r.startAngle,a=r.endAngle,h=r.clockwise,m=Math.cos(u),v=Math.sin(u);n.moveTo(m*s+i,v*s+o),n.arc(i,o,s,u,a,!h)},t}(Ba);J8.prototype.type="arc";var xXe=function(e){Pr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="compound",n}return t.prototype._updatePathDirty=function(){for(var n=this.shape.paths,r=this.shapeChanged(),i=0;i<n.length;i++)r=r||n[i].shapeChanged();r&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var n=this.shape.paths||[],r=this.getGlobalScale(),i=0;i<n.length;i++)n[i].path||n[i].createPathProxy(),n[i].path.setScale(r[0],r[1],n[i].segmentIgnoreThreshold)},t.prototype.buildPath=function(n,r){for(var i=r.paths||[],o=0;o<i.length;o++)i[o].buildPath(n,i[o].shape,!0)},t.prototype.afterBrush=function(){for(var n=this.shape.paths||[],r=0;r<n.length;r++)n[r].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Ba.prototype.getBoundingRect.call(this)},t}(Ba),Eee=function(){function e(t){this.colorStops=t||[]}return e.prototype.addColorStop=function(t,n){this.colorStops.push({offset:t,color:n})},e}(),Aee=function(e){Pr(t,e);function t(n,r,i,o,s,u){var a=e.call(this,s)||this;return a.x=n??0,a.y=r??0,a.x2=i??1,a.y2=o??0,a.type="linear",a.global=u||!1,a}return t}(Eee),wXe=function(e){Pr(t,e);function t(n,r,i,o,s){var u=e.call(this,o)||this;return u.x=n??.5,u.y=r??.5,u.r=i??.5,u.type="radial",u.global=s||!1,u}return t}(Eee),Pm=[0,0],Lm=[0,0],l3=new La,u3=new La,TC=function(){function e(t,n){this._corners=[],this._axes=[],this._origin=[0,0];for(var r=0;r<4;r++)this._corners[r]=new La;for(var r=0;r<2;r++)this._axes[r]=new La;t&&this.fromBoundingRect(t,n)}return e.prototype.fromBoundingRect=function(t,n){var r=this._corners,i=this._axes,o=t.x,s=t.y,u=o+t.width,a=s+t.height;if(r[0].set(o,s),r[1].set(u,s),r[2].set(u,a),r[3].set(o,a),n)for(var h=0;h<4;h++)r[h].transform(n);La.sub(i[0],r[1],r[0]),La.sub(i[1],r[3],r[0]),i[0].normalize(),i[1].normalize();for(var h=0;h<2;h++)this._origin[h]=i[h].dot(r[0])},e.prototype.intersect=function(t,n){var r=!0,i=!n;return l3.set(1/0,1/0),u3.set(0,0),!this._intersectCheckOneSide(this,t,l3,u3,i,1)&&(r=!1,i)||!this._intersectCheckOneSide(t,this,l3,u3,i,-1)&&(r=!1,i)||i||La.copy(n,r?l3:u3),r},e.prototype._intersectCheckOneSide=function(t,n,r,i,o,s){for(var u=!0,a=0;a<2;a++){var h=this._axes[a];if(this._getProjMinMaxOnAxis(a,t._corners,Pm),this._getProjMinMaxOnAxis(a,n._corners,Lm),Pm[1]<Lm[0]||Pm[0]>Lm[1]){if(u=!1,o)return u;var m=Math.abs(Lm[0]-Pm[1]),v=Math.abs(Pm[0]-Lm[1]);Math.min(m,v)>i.len()&&(m<v?La.scale(i,h,-m*s):La.scale(i,h,v*s))}else if(r){var m=Math.abs(Lm[0]-Pm[1]),v=Math.abs(Pm[0]-Lm[1]);Math.min(m,v)<r.len()&&(m<v?La.scale(r,h,m*s):La.scale(r,h,-v*s))}}return u},e.prototype._getProjMinMaxOnAxis=function(t,n,r){for(var i=this._axes[t],o=this._origin,s=n[0].dot(i)+o[t],u=s,a=s,h=1;h<n.length;h++){var m=n[h].dot(i)+o[t];u=Math.min(m,u),a=Math.max(m,a)}r[0]=u,r[1]=a},e}(),SXe=[],CXe=function(e){Pr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.notClear=!0,n.incremental=!0,n._displayables=[],n._temporaryDisplayables=[],n._cursor=0,n}return t.prototype.traverse=function(n,r){n.call(r,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(n,r){r?this._temporaryDisplayables.push(n):this._displayables.push(n),this.markRedraw()},t.prototype.addDisplayables=function(n,r){r=r||!1;for(var i=0;i<n.length;i++)this.addDisplayable(n[i],r)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(n){for(var r=this._cursor;r<this._displayables.length;r++)n&&n(this._displayables[r]);for(var r=0;r<this._temporaryDisplayables.length;r++)n&&n(this._temporaryDisplayables[r])},t.prototype.update=function(){this.updateTransform();for(var n=this._cursor;n<this._displayables.length;n++){var r=this._displayables[n];r.parent=this,r.update(),r.parent=null}for(var n=0;n<this._temporaryDisplayables.length;n++){var r=this._temporaryDisplayables[n];r.parent=this,r.update(),r.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var n=new ha(1/0,1/0,-1/0,-1/0),r=0;r<this._displayables.length;r++){var i=this._displayables[r],o=i.getBoundingRect().clone();i.needLocalTransform()&&o.applyTransform(i.getLocalTransform(SXe)),n.union(o)}this._rect=n}return this._rect},t.prototype.contain=function(n,r){var i=this.transformCoordToLocal(n,r),o=this.getBoundingRect();if(o.contain(i[0],i[1]))for(var s=0;s<this._displayables.length;s++){var u=this._displayables[s];if(u.contain(n,r))return!0}return!1},t}(Ew),TXe=Do();function MXe(e,t,n,r,i){var o;if(t&&t.ecModel){var s=t.ecModel.getUpdatePayload();o=s&&s.animation}var u=t&&t.isAnimationEnabled(),a=e==="update";if(u){var h=void 0,m=void 0,v=void 0;r?(h=Qi(r.duration,200),m=Qi(r.easing,"cubicOut"),v=0):(h=t.getShallow(a?"animationDurationUpdate":"animationDuration"),m=t.getShallow(a?"animationEasingUpdate":"animationEasing"),v=t.getShallow(a?"animationDelayUpdate":"animationDelay")),o&&(o.duration!=null&&(h=o.duration),o.easing!=null&&(m=o.easing),o.delay!=null&&(v=o.delay)),Ai(v)&&(v=v(n,i)),Ai(h)&&(h=h(n));var _={duration:h||0,delay:v,easing:m};return _}else return null}function xD(e,t,n,r,i,o,s){var u=!1,a;Ai(i)?(s=o,o=i,i=null):oi(i)&&(o=i.cb,s=i.during,u=i.isFrom,a=i.removeOpt,i=i.dataIndex);var h=e==="leave";h||t.stopAnimation("leave");var m=MXe(e,r,i,h?a||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(t,i):null);if(m&&m.duration>0){var v=m.duration,_=m.delay,b=m.easing,T={duration:v,delay:_||0,easing:b,done:o,force:!!o||!!s,setToFinal:!h,scope:e,during:s};u?t.animateFrom(n,T):t.animateTo(n,T)}else t.stopAnimation(),!u&&t.attr(n),s&&s(1),o&&o()}function pp(e,t,n,r,i,o){xD("update",e,t,n,r,i,o)}function Aw(e,t,n,r,i,o){xD("enter",e,t,n,r,i,o)}function Z2(e){if(!e.__zr)return!0;for(var t=0;t<e.animators.length;t++){var n=e.animators[t];if(n.scope==="leave")return!0}return!1}function MC(e,t,n,r,i,o){Z2(e)||xD("leave",e,t,n,r,i,o)}function mH(e,t,n,r){e.removeTextContent(),e.removeTextGuideLine(),MC(e,{style:{opacity:0}},t,n,r)}function EXe(e,t,n){function r(){e.parent&&e.parent.remove(e)}e.isGroup?e.traverse(function(i){i.isGroup||mH(i,t,n,r)}):mH(e,t,n,r)}function AXe(e){TXe(e).oldStyle=e.style}var EC=Math.max,AC=Math.min,Yk={};function IXe(e){return Ba.extend(e)}var kXe=iXe;function PXe(e,t){return kXe(e,t)}function Sc(e,t){Yk[e]=t}function LXe(e){if(Yk.hasOwnProperty(e))return Yk[e]}function wD(e,t,n,r){var i=rXe(e,t);return n&&(r==="center"&&(n=kee(n,i.getBoundingRect())),Pee(i,n)),i}function Iee(e,t,n){var r=new wp({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(i){if(n==="center"){var o={width:i.width,height:i.height};r.setStyle(kee(t,o))}}});return r}function kee(e,t){var n=t.width/t.height,r=e.height*n,i;r<=e.width?i=e.height:(r=e.width,i=r/n);var o=e.x+e.width/2,s=e.y+e.height/2;return{x:o-r/2,y:s-i/2,width:r,height:i}}var RXe=aXe;function Pee(e,t){if(e.applyTransform){var n=e.getBoundingRect(),r=n.calculateTransform(t);e.applyTransform(r)}}function Gx(e,t){return cee(e,e,{lineWidth:t}),e}function DXe(e){return dee(e.shape,e.shape,e.style),e}var OXe=Zm;function zXe(e,t){for(var n=tD([]);e&&e!==t;)Kg(n,e.getLocalTransform(),n),e=e.parent;return n}function SD(e,t,n){return t&&!ml(t)&&(t=aD.getLocalTransform(t)),n&&(t=rD([],t)),Tu([],e,t)}function BXe(e,t,n){var r=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),i=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),o=[e==="left"?-r:e==="right"?r:0,e==="top"?-i:e==="bottom"?i:0];return o=SD(o,t,n),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function vH(e){return!e.isGroup}function FXe(e){return e.shape!=null}function Lee(e,t,n){if(!e||!t)return;function r(s){var u={};return s.traverse(function(a){vH(a)&&a.anid&&(u[a.anid]=a)}),u}function i(s){var u={x:s.x,y:s.y,rotation:s.rotation};return FXe(s)&&(u.shape=vr({},s.shape)),u}var o=r(e);t.traverse(function(s){if(vH(s)&&s.anid){var u=o[s.anid];if(u){var a=i(s);s.attr(i(u)),pp(s,a,n,Da(s).dataIndex)}}})}function NXe(e,t){return xi(e,function(n){var r=n[0];r=EC(r,t.x),r=AC(r,t.x+t.width);var i=n[1];return i=EC(i,t.y),i=AC(i,t.y+t.height),[r,i]})}function $Xe(e,t){var n=EC(e.x,t.x),r=AC(e.x+e.width,t.x+t.width),i=EC(e.y,t.y),o=AC(e.y+e.height,t.y+t.height);if(r>=n&&o>=i)return{x:n,y:i,width:r-n,height:o-i}}function CD(e,t,n){var r=vr({rectHover:!0},t),i=r.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},e)return e.indexOf("image://")===0?(i.image=e.slice(8),_a(i,n),new wp(r)):wD(e.replace("path://",""),r,n,"center")}function VXe(e,t,n,r,i){for(var o=0,s=i[i.length-1];o<i.length;o++){var u=i[o];if(Ree(e,t,n,r,u[0],u[1],s[0],s[1]))return!0;s=u}}function Ree(e,t,n,r,i,o,s,u){var a=n-e,h=r-t,m=s-i,v=u-o,_=jE(m,v,a,h);if(HXe(_))return!1;var b=e-i,T=t-o,M=jE(b,T,a,h)/_;if(M<0||M>1)return!1;var E=jE(b,T,m,v)/_;return!(E<0||E>1)}function jE(e,t,n,r){return e*r-n*t}function HXe(e){return e<=1e-6&&e>=-1e-6}function TD(e){var t=e.itemTooltipOption,n=e.componentModel,r=e.itemName,i=Zr(t)?{formatter:t}:t,o=n.mainType,s=n.componentIndex,u={componentType:o,name:r,$vars:["name"]};u[o+"Index"]=s;var a=e.formatterParamsExtra;a&&Gt(Xa(a),function(m){b_(u,m)||(u[m]=a[m],u.$vars.push(m))});var h=Da(e.el);h.componentMainType=o,h.componentIndex=s,h.tooltipConfig={name:r,option:_a({content:r,encodeHTMLContent:!0,formatterParams:u},i)}}function gH(e,t){var n;e.isGroup&&(n=t(e)),n||e.traverse(t)}function MD(e,t){if(e)if(zr(e))for(var n=0;n<e.length;n++)gH(e[n],t);else gH(e,t)}Sc("circle",Z8);Sc("ellipse",vD);Sc("sector",X8);Sc("ring",gD);Sc("polygon",_D);Sc("polyline",yD);Sc("rect",ts);Sc("line",fp);Sc("bezierCurve",bD);Sc("arc",J8);const UXe=Object.freeze(Object.defineProperty({__proto__:null,Arc:J8,BezierCurve:bD,BoundingRect:ha,Circle:Z8,CompoundPath:xXe,Ellipse:vD,Group:ws,Image:wp,IncrementalDisplayable:CXe,Line:fp,LinearGradient:Aee,OrientedBoundingRect:TC,Path:Ba,Point:La,Polygon:_D,Polyline:yD,RadialGradient:wXe,Rect:ts,Ring:gD,Sector:X8,Text:gl,applyTransform:SD,clipPointsByRect:NXe,clipRectByRect:$Xe,createIcon:CD,extendPath:PXe,extendShape:IXe,getShapeClass:LXe,getTransform:zXe,groupTransition:Lee,initProps:Aw,isElementRemoved:Z2,lineLineIntersect:Ree,linePolygonIntersect:VXe,makeImage:Iee,makePath:wD,mergePath:RXe,registerShape:Sc,removeElement:MC,removeElementWithFadeOut:EXe,resizePath:Pee,setTooltipConfig:TD,subPixelOptimize:OXe,subPixelOptimizeLine:Gx,subPixelOptimizeRect:DXe,transformDirection:BXe,traverseElements:MD,updateProps:pp},Symbol.toStringTag,{value:"Module"}));var Q8={};function jXe(e,t){for(var n=0;n<sd.length;n++){var r=sd[n],i=t[r],o=e.ensureState(r);o.style=o.style||{},o.style.text=i}var s=e.currentStates.slice();e.clearStates(!0),e.setStyle({text:t.normal}),e.useStates(s,!0)}function _H(e,t,n){var r=e.labelFetcher,i=e.labelDataIndex,o=e.labelDimIndex,s=t.normal,u;r&&(u=r.getFormattedLabel(i,"normal",null,o,s&&s.get("formatter"),n!=null?{interpolatedValue:n}:null)),u==null&&(u=Ai(e.defaultText)?e.defaultText(i,e,n):e.defaultText);for(var a={normal:u},h=0;h<sd.length;h++){var m=sd[h],v=t[m];a[m]=Qi(r?r.getFormattedLabel(i,m,null,o,v&&v.get("formatter")):null,u)}return a}function ED(e,t,n,r){n=n||Q8;for(var i=e instanceof gl,o=!1,s=0;s<eH.length;s++){var u=t[eH[s]];if(u&&u.getShallow("show")){o=!0;break}}var a=i?e:e.getTextContent();if(o){i||(a||(a=new gl,e.setTextContent(a)),e.stateProxy&&(a.stateProxy=e.stateProxy));var h=_H(n,t),m=t.normal,v=!!m.getShallow("show"),_=x_(m,r&&r.normal,n,!1,!i);_.text=h.normal,i||e.setTextConfig(yH(m,n,!1));for(var s=0;s<sd.length;s++){var b=sd[s],u=t[b];if(u){var T=a.ensureState(b),M=!!Qi(u.getShallow("show"),v);if(M!==v&&(T.ignore=!M),T.style=x_(u,r&&r[b],n,!0,!i),T.style.text=h[b],!i){var E=e.ensureState(b);E.textConfig=yH(u,n,!0)}}}a.silent=!!m.getShallow("silent"),a.style.x!=null&&(_.x=a.style.x),a.style.y!=null&&(_.y=a.style.y),a.ignore=!v,a.useStyle(_),a.dirty(),n.enableTextSetter&&(Dee(a).setLabelText=function(k){var z=_H(n,t,k);jXe(a,z)})}else a&&(a.ignore=!0);e.dirty()}function AD(e,t){t=t||"label";for(var n={normal:e.getModel(t)},r=0;r<sd.length;r++){var i=sd[r];n[i]=e.getModel([i,t])}return n}function x_(e,t,n,r,i){var o={};return GXe(o,e,n,r,i),t&&vr(o,t),o}function yH(e,t,n){t=t||{};var r={},i,o=e.getShallow("rotate"),s=Qi(e.getShallow("distance"),n?null:5),u=e.getShallow("offset");return i=e.getShallow("position")||(n?null:"inside"),i==="outside"&&(i=t.defaultOutsidePosition||"top"),i!=null&&(r.position=i),u!=null&&(r.offset=u),o!=null&&(o*=Math.PI/180,r.rotation=o),s!=null&&(r.distance=s),r.outsideFill=e.get("color")==="inherit"?t.inheritColor||null:"auto",r}function GXe(e,t,n,r,i){n=n||Q8;var o=t.ecModel,s=o&&o.option.textStyle,u=WXe(t),a;if(u){a={};for(var h in u)if(u.hasOwnProperty(h)){var m=t.getModel(["rich",h]);SH(a[h]={},m,s,n,r,i,!1,!0)}}a&&(e.rich=a);var v=t.get("overflow");v&&(e.overflow=v);var _=t.get("minMargin");_!=null&&(e.margin=_),SH(e,t,s,n,r,i,!0,!1)}function WXe(e){for(var t;e&&e!==e.ecModel;){var n=(e.option||Q8).rich;if(n){t=t||{};for(var r=Xa(n),i=0;i<r.length;i++){var o=r[i];t[o]=1}}e=e.parentModel}return t}var bH=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],xH=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],wH=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function SH(e,t,n,r,i,o,s,u){n=!i&&n||Q8;var a=r&&r.inheritColor,h=t.getShallow("color"),m=t.getShallow("textBorderColor"),v=Qi(t.getShallow("opacity"),n.opacity);(h==="inherit"||h==="auto")&&(a?h=a:h=null),(m==="inherit"||m==="auto")&&(a?m=a:m=null),o||(h=h||n.color,m=m||n.textBorderColor),h!=null&&(e.fill=h),m!=null&&(e.stroke=m);var _=Qi(t.getShallow("textBorderWidth"),n.textBorderWidth);_!=null&&(e.lineWidth=_);var b=Qi(t.getShallow("textBorderType"),n.textBorderType);b!=null&&(e.lineDash=b);var T=Qi(t.getShallow("textBorderDashOffset"),n.textBorderDashOffset);T!=null&&(e.lineDashOffset=T),!i&&v==null&&!u&&(v=r&&r.defaultOpacity),v!=null&&(e.opacity=v),!i&&!o&&e.fill==null&&r.inheritColor&&(e.fill=r.inheritColor);for(var M=0;M<bH.length;M++){var E=bH[M],k=Qi(t.getShallow(E),n[E]);k!=null&&(e[E]=k)}for(var M=0;M<xH.length;M++){var E=xH[M],k=t.getShallow(E);k!=null&&(e[E]=k)}if(e.verticalAlign==null){var z=t.getShallow("baseline");z!=null&&(e.verticalAlign=z)}if(!s||!r.disableBox){for(var M=0;M<wH.length;M++){var E=wH[M],k=t.getShallow(E);k!=null&&(e[E]=k)}var B=t.getShallow("borderType");B!=null&&(e.borderDash=B),(e.backgroundColor==="auto"||e.backgroundColor==="inherit")&&a&&(e.backgroundColor=a),(e.borderColor==="auto"||e.borderColor==="inherit")&&a&&(e.borderColor=a)}}function qXe(e,t){var n=t&&t.getModel("textStyle");return Xc([e.fontStyle||n&&n.getShallow("fontStyle")||"",e.fontWeight||n&&n.getShallow("fontWeight")||"",(e.fontSize||n&&n.getShallow("fontSize")||12)+"px",e.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var Dee=Do(),KXe=["textStyle","color"],GE=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],WE=new gl,YXe=function(){function e(){}return e.prototype.getTextColor=function(t){var n=this.ecModel;return this.getShallow("color")||(!t&&n?n.get(KXe):null)},e.prototype.getFont=function(){return qXe({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},e.prototype.getTextRect=function(t){for(var n={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},r=0;r<GE.length;r++)n[GE[r]]=this.getShallow(GE[r]);return WE.useStyle(n),WE.update(),WE.getBoundingRect()},e}(),Oee=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],ZXe=jx(Oee),XXe=function(){function e(){}return e.prototype.getLineStyle=function(t){return ZXe(this,t)},e}(),zee=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],JXe=jx(zee),QXe=function(){function e(){}return e.prototype.getItemStyle=function(t,n){return JXe(this,t,n)},e}(),so=function(){function e(t,n,r){this.parentModel=n,this.ecModel=r,this.option=t}return e.prototype.init=function(t,n,r){},e.prototype.mergeOption=function(t,n){da(this.option,t,!0)},e.prototype.get=function(t,n){return t==null?this.option:this._doGet(this.parsePath(t),!n&&this.parentModel)},e.prototype.getShallow=function(t,n){var r=this.option,i=r==null?r:r[t];if(i==null&&!n){var o=this.parentModel;o&&(i=o.getShallow(t))}return i},e.prototype.getModel=function(t,n){var r=t!=null,i=r?this.parsePath(t):null,o=r?this._doGet(i):this.option;return n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new e(o,n,this.ecModel)},e.prototype.isEmpty=function(){return this.option==null},e.prototype.restoreData=function(){},e.prototype.clone=function(){var t=this.constructor;return new t(na(this.option))},e.prototype.parsePath=function(t){return typeof t=="string"?t.split("."):t},e.prototype.resolveParentPath=function(t){return t},e.prototype.isAnimationEnabled=function(){if(!Si.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},e.prototype._doGet=function(t,n){var r=this.option;if(!t)return r;for(var i=0;i<t.length&&!(t[i]&&(r=r&&typeof r=="object"?r[t[i]]:null,r==null));i++);return r==null&&n&&(r=n._doGet(this.resolveParentPath(t),n.parentModel)),r},e}();dD(so);BYe(so);gd(so,XXe);gd(so,QXe);gd(so,HYe);gd(so,YXe);var eJe=Math.round(Math.random()*10);function eT(e){return[e||"",eJe++].join("_")}function tJe(e){var t={};e.registerSubTypeDefaulter=function(n,r){var i=Jc(n);t[i.main]=r},e.determineSubType=function(n,r){var i=r.type;if(!i){var o=Jc(n).main;e.hasSubTypes(n)&&t[o]&&(i=t[o](r))}return i}}function nJe(e,t){e.topologicalTravel=function(o,s,u,a){if(!o.length)return;var h=n(s),m=h.graph,v=h.noEntryList,_={};for(Gt(o,function(z){_[z]=!0});v.length;){var b=v.pop(),T=m[b],M=!!_[b];M&&(u.call(a,b,T.originalDeps.slice()),delete _[b]),Gt(T.successor,M?k:E)}Gt(_,function(){var z="";throw new Error(z)});function E(z){m[z].entryCount--,m[z].entryCount===0&&v.push(z)}function k(z){_[z]=!0,E(z)}};function n(o){var s={},u=[];return Gt(o,function(a){var h=r(s,a),m=h.originalDeps=t(a),v=i(m,o);h.entryCount=v.length,h.entryCount===0&&u.push(a),Gt(v,function(_){Ta(h.predecessor,_)<0&&h.predecessor.push(_);var b=r(s,_);Ta(b.successor,_)<0&&b.successor.push(a)})}),{graph:s,noEntryList:u}}function r(o,s){return o[s]||(o[s]={predecessor:[],successor:[]}),o[s]}function i(o,s){var u=[];return Gt(o,function(a){Ta(s,a)>=0&&u.push(a)}),u}}function rJe(e,t){return da(da({},e,!0),t,!0)}const iJe={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},aJe={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var IC="ZH",ID="EN",Zg=ID,_S={},kD={},Bee=Si.domSupported?function(){var e=(document.documentElement.lang||navigator.language||navigator.browserLanguage||Zg).toUpperCase();return e.indexOf(IC)>-1?IC:Zg}():Zg;function Fee(e,t){e=e.toUpperCase(),kD[e]=new so(t),_S[e]=t}function oJe(e){if(Zr(e)){var t=_S[e.toUpperCase()]||{};return e===IC||e===ID?na(t):da(na(t),na(_S[Zg]),!1)}else return da(na(e),na(_S[Zg]),!1)}function sJe(e){return kD[e]}function lJe(){return kD[Zg]}Fee(ID,iJe);Fee(IC,aJe);var PD=1e3,LD=PD*60,X2=LD*60,yu=X2*24,CH=yu*365,Eb={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},c3="{yyyy}-{MM}-{dd}",TH={year:"{yyyy}",month:"{yyyy}-{MM}",day:c3,hour:c3+" "+Eb.hour,minute:c3+" "+Eb.minute,second:c3+" "+Eb.second,millisecond:Eb.none},qE=["year","month","day","hour","minute","second","millisecond"],Nee=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Cf(e,t){return e+="","0000".substr(0,t-e.length)+e}function Xg(e){switch(e){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return e}}function uJe(e){return e===Xg(e)}function cJe(e){switch(e){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function tT(e,t,n,r){var i=fh(e),o=i[RD(n)](),s=i[Jg(n)]()+1,u=Math.floor((s-1)/3)+1,a=i[nT(n)](),h=i["get"+(n?"UTC":"")+"Day"](),m=i[Wx(n)](),v=(m-1)%12+1,_=i[rT(n)](),b=i[iT(n)](),T=i[aT(n)](),M=m>=12?"pm":"am",E=M.toUpperCase(),k=r instanceof so?r:sJe(r||Bee)||lJe(),z=k.getModel("time"),B=z.get("month"),U=z.get("monthAbbr"),W=z.get("dayOfWeek"),q=z.get("dayOfWeekAbbr");return(t||"").replace(/{a}/g,M+"").replace(/{A}/g,E+"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,Cf(o%100+"",2)).replace(/{Q}/g,u+"").replace(/{MMMM}/g,B[s-1]).replace(/{MMM}/g,U[s-1]).replace(/{MM}/g,Cf(s,2)).replace(/{M}/g,s+"").replace(/{dd}/g,Cf(a,2)).replace(/{d}/g,a+"").replace(/{eeee}/g,W[h]).replace(/{ee}/g,q[h]).replace(/{e}/g,h+"").replace(/{HH}/g,Cf(m,2)).replace(/{H}/g,m+"").replace(/{hh}/g,Cf(v+"",2)).replace(/{h}/g,v+"").replace(/{mm}/g,Cf(_,2)).replace(/{m}/g,_+"").replace(/{ss}/g,Cf(b,2)).replace(/{s}/g,b+"").replace(/{SSS}/g,Cf(T,3)).replace(/{S}/g,T+"")}function dJe(e,t,n,r,i){var o=null;if(Zr(n))o=n;else if(Ai(n))o=n(e.value,t,{level:e.level});else{var s=vr({},Eb);if(e.level>0)for(var u=0;u<qE.length;++u)s[qE[u]]="{primary|"+s[qE[u]]+"}";var a=n?n.inherit===!1?n:_a(n,s):s,h=$ee(e.value,i);if(a[h])o=a[h];else if(a.inherit){for(var m=Nee.indexOf(h),u=m-1;u>=0;--u)if(a[h]){o=a[h];break}o=o||s.none}if(zr(o)){var v=e.level==null?0:e.level>=0?e.level:o.length+e.level;v=Math.min(v,o.length-1),o=o[v]}}return tT(new Date(e.value),o,i,r)}function $ee(e,t){var n=fh(e),r=n[Jg(t)]()+1,i=n[nT(t)](),o=n[Wx(t)](),s=n[rT(t)](),u=n[iT(t)](),a=n[aT(t)](),h=a===0,m=h&&u===0,v=m&&s===0,_=v&&o===0,b=_&&i===1,T=b&&r===1;return T?"year":b?"month":_?"day":v?"hour":m?"minute":h?"second":"millisecond"}function MH(e,t,n){var r=Ja(e)?fh(e):e;switch(t=t||$ee(e,n),t){case"year":return r[RD(n)]();case"half-year":return r[Jg(n)]()>=6?1:0;case"quarter":return Math.floor((r[Jg(n)]()+1)/4);case"month":return r[Jg(n)]();case"day":return r[nT(n)]();case"half-day":return r[Wx(n)]()/24;case"hour":return r[Wx(n)]();case"minute":return r[rT(n)]();case"second":return r[iT(n)]();case"millisecond":return r[aT(n)]()}}function RD(e){return e?"getUTCFullYear":"getFullYear"}function Jg(e){return e?"getUTCMonth":"getMonth"}function nT(e){return e?"getUTCDate":"getDate"}function Wx(e){return e?"getUTCHours":"getHours"}function rT(e){return e?"getUTCMinutes":"getMinutes"}function iT(e){return e?"getUTCSeconds":"getSeconds"}function aT(e){return e?"getUTCMilliseconds":"getMilliseconds"}function hJe(e){return e?"setUTCFullYear":"setFullYear"}function Vee(e){return e?"setUTCMonth":"setMonth"}function Hee(e){return e?"setUTCDate":"setDate"}function Uee(e){return e?"setUTCHours":"setHours"}function jee(e){return e?"setUTCMinutes":"setMinutes"}function Gee(e){return e?"setUTCSeconds":"setSeconds"}function Wee(e){return e?"setUTCMilliseconds":"setMilliseconds"}function qee(e){if(!vYe(e))return Zr(e)?e:"-";var t=(e+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function Kee(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,function(n,r){return r.toUpperCase()}),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}var oT=TQ;function Zk(e,t,n){var r="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(m){return m&&Xc(m)?m:"-"}function o(m){return!!(m!=null&&!isNaN(m)&&isFinite(m))}var s=t==="time",u=e instanceof Date;if(s||u){var a=s?fh(e):e;if(isNaN(+a)){if(u)return"-"}else return tT(a,r,n)}if(t==="ordinal")return wk(e)?i(e):Ja(e)&&o(e)?e+"":"-";var h=xC(e);return o(h)?qee(h):wk(e)?i(e):typeof e=="boolean"?e+"":"-"}var EH=["a","b","c","d","e","f","g"],KE=function(e,t){return"{"+e+(t??"")+"}"};function Yee(e,t,n){zr(t)||(t=[t]);var r=t.length;if(!r)return"";for(var i=t[0].$vars||[],o=0;o<i.length;o++){var s=EH[o];e=e.replace(KE(s),KE(s,0))}for(var u=0;u<r;u++)for(var a=0;a<i.length;a++){var h=t[u][i[a]];e=e.replace(KE(EH[a],u),n?Rl(h):h)}return e}function fJe(e,t){var n=Zr(e)?{color:e,extraCssText:t}:e||{},r=n.color,i=n.type;t=n.extraCssText;var o=n.renderMode||"html";if(!r)return"";if(o==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Rl(r)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Rl(r)+";"+(t||"")+'"></span>';var s=n.markerId||"markerX";return{renderMode:o,content:"{"+s+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}}function E0(e,t){return t=t||"transparent",Zr(e)?e:oi(e)&&e.colorStops&&(e.colorStops[0]||{}).color||t}var yS=Gt,pJe=["left","right","top","bottom","width","height"],d3=[["width","left","right"],["height","top","bottom"]];function DD(e,t,n,r,i){var o=0,s=0;r==null&&(r=1/0),i==null&&(i=1/0);var u=0;t.eachChild(function(a,h){var m=a.getBoundingRect(),v=t.childAt(h+1),_=v&&v.getBoundingRect(),b,T;if(e==="horizontal"){var M=m.width+(_?-_.x+m.x:0);b=o+M,b>r||a.newline?(o=0,b=M,s+=u+n,u=m.height):u=Math.max(u,m.height)}else{var E=m.height+(_?-_.y+m.y:0);T=s+E,T>i||a.newline?(o+=u+n,s=0,T=E,u=m.width):u=Math.max(u,m.width)}a.newline||(a.x=o,a.y=s,a.markRedraw(),e==="horizontal"?o=b+n:s=T+n)})}var J2=DD;$o(DD,"vertical");$o(DD,"horizontal");function kC(e,t,n){n=oT(n||0);var r=t.width,i=t.height,o=$s(e.left,r),s=$s(e.top,i),u=$s(e.right,r),a=$s(e.bottom,i),h=$s(e.width,r),m=$s(e.height,i),v=n[2]+n[0],_=n[1]+n[3],b=e.aspect;switch(isNaN(h)&&(h=r-u-_-o),isNaN(m)&&(m=i-a-v-s),b!=null&&(isNaN(h)&&isNaN(m)&&(b>r/i?h=r*.8:m=i*.8),isNaN(h)&&(h=b*m),isNaN(m)&&(m=h/b)),isNaN(o)&&(o=r-u-h-_),isNaN(s)&&(s=i-a-m-v),e.left||e.right){case"center":o=r/2-h/2-n[3];break;case"right":o=r-h-_;break}switch(e.top||e.bottom){case"middle":case"center":s=i/2-m/2-n[0];break;case"bottom":s=i-m-v;break}o=o||0,s=s||0,isNaN(h)&&(h=r-_-o-(u||0)),isNaN(m)&&(m=i-v-s-(a||0));var T=new ha(o+n[3],s+n[0],h,m);return T.margin=n,T}function qx(e){var t=e.layoutMode||e.constructor.layoutMode;return oi(t)?t:t?{type:t}:null}function w_(e,t,n){var r=n&&n.ignoreSize;!zr(r)&&(r=[r,r]);var i=s(d3[0],0),o=s(d3[1],1);h(d3[0],e,i),h(d3[1],e,o);function s(m,v){var _={},b=0,T={},M=0,E=2;if(yS(m,function(B){T[B]=e[B]}),yS(m,function(B){u(t,B)&&(_[B]=T[B]=t[B]),a(_,B)&&b++,a(T,B)&&M++}),r[v])return a(t,m[1])?T[m[2]]=null:a(t,m[2])&&(T[m[1]]=null),T;if(M===E||!b)return T;if(b>=E)return _;for(var k=0;k<m.length;k++){var z=m[k];if(!u(_,z)&&u(e,z)){_[z]=e[z];break}}return _}function u(m,v){return m.hasOwnProperty(v)}function a(m,v){return m[v]!=null&&m[v]!=="auto"}function h(m,v,_){yS(m,function(b){v[b]=_[b]})}}function sT(e){return mJe({},e)}function mJe(e,t){return t&&e&&yS(pJe,function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e}var vJe=Do(),Sa=function(e){Pr(t,e);function t(n,r,i){var o=e.call(this,n,r,i)||this;return o.uid=eT("ec_cpt_model"),o}return t.prototype.init=function(n,r,i){this.mergeDefaultAndTheme(n,i)},t.prototype.mergeDefaultAndTheme=function(n,r){var i=qx(this),o=i?sT(n):{},s=r.getTheme();da(n,s.get(this.mainType)),da(n,this.getDefaultOption()),i&&w_(n,o,i)},t.prototype.mergeOption=function(n,r){da(this.option,n,!0);var i=qx(this);i&&w_(this.option,n,i)},t.prototype.optionUpdated=function(n,r){},t.prototype.getDefaultOption=function(){var n=this.constructor;if(!DYe(n))return n.defaultOption;var r=vJe(this);if(!r.defaultOption){for(var i=[],o=n;o;){var s=o.prototype.defaultOption;s&&i.push(s),o=o.superClass}for(var u={},a=i.length-1;a>=0;a--)u=da(u,i[a],!0);r.defaultOption=u}return r.defaultOption},t.prototype.getReferringComponents=function(n,r){var i=n+"Index",o=n+"Id";return Mw(this.ecModel,n,{index:this.get(i,!0),id:this.get(o,!0)},r)},t.prototype.getBoxLayoutParams=function(){var n=this;return{left:n.get("left"),top:n.get("top"),right:n.get("right"),bottom:n.get("bottom"),width:n.get("width"),height:n.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(n){this.option.zlevel=n},t.protoInitialize=function(){var n=t.prototype;n.type="component",n.id="",n.name="",n.mainType="",n.subType="",n.componentIndex=0}(),t}(so);ree(Sa,so);j8(Sa);tJe(Sa);nJe(Sa,gJe);function gJe(e){var t=[];return Gt(Sa.getClassesByMainType(e),function(n){t=t.concat(n.dependencies||n.prototype.dependencies||[])}),t=xi(t,function(n){return Jc(n).main}),e!=="dataset"&&Ta(t,"dataset")<=0&&t.unshift("dataset"),t}var Zee="";typeof navigator<"u"&&(Zee=navigator.platform||"");var cg="rgba(0, 0, 0, 0.2)";const _Je={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:cg,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:cg,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:cg,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:cg,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:cg,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:cg,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Zee.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var Xee=$i(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),Du="original",_l="arrayRows",yd="objectRows",wh="keyedColumns",np="typedArray",Jee="unknown",ah="column",q_="row",Pl={Must:1,Might:2,Not:3},Qee=Do();function yJe(e){Qee(e).datasetMap=$i()}function bJe(e,t,n){var r={},i=ete(t);if(!i||!e)return r;var o=[],s=[],u=t.ecModel,a=Qee(u).datasetMap,h=i.uid+"_"+n.seriesLayoutBy,m,v;e=e.slice(),Gt(e,function(M,E){var k=oi(M)?M:e[E]={name:M};k.type==="ordinal"&&m==null&&(m=E,v=T(k)),r[k.name]=[]});var _=a.get(h)||a.set(h,{categoryWayDim:v,valueWayDim:0});Gt(e,function(M,E){var k=M.name,z=T(M);if(m==null){var B=_.valueWayDim;b(r[k],B,z),b(s,B,z),_.valueWayDim+=z}else if(m===E)b(r[k],0,z),b(o,0,z);else{var B=_.categoryWayDim;b(r[k],B,z),b(s,B,z),_.categoryWayDim+=z}});function b(M,E,k){for(var z=0;z<k;z++)M.push(E+z)}function T(M){var E=M.dimsDef;return E?E.length:1}return o.length&&(r.itemName=o),s.length&&(r.seriesName=s),r}function ete(e){var t=e.get("data",!0);if(!t)return Mw(e.ecModel,"dataset",{index:e.get("datasetIndex",!0),id:e.get("datasetId",!0)},uc).models[0]}function xJe(e){return!e.get("transform",!0)&&!e.get("fromTransformResult",!0)?[]:Mw(e.ecModel,"dataset",{index:e.get("fromDatasetIndex",!0),id:e.get("fromDatasetId",!0)},uc).models}function tte(e,t){return wJe(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function wJe(e,t,n,r,i,o){var s,u=5;if(vl(e))return Pl.Not;var a,h;if(r){var m=r[o];oi(m)?(a=m.name,h=m.type):Zr(m)&&(a=m)}if(h!=null)return h==="ordinal"?Pl.Must:Pl.Not;if(t===_l){var v=e;if(n===q_){for(var _=v[o],b=0;b<(_||[]).length&&b<u;b++)if((s=U(_[i+b]))!=null)return s}else for(var b=0;b<v.length&&b<u;b++){var T=v[i+b];if(T&&(s=U(T[o]))!=null)return s}}else if(t===yd){var M=e;if(!a)return Pl.Not;for(var b=0;b<M.length&&b<u;b++){var E=M[b];if(E&&(s=U(E[a]))!=null)return s}}else if(t===wh){var k=e;if(!a)return Pl.Not;var _=k[a];if(!_||vl(_))return Pl.Not;for(var b=0;b<_.length&&b<u;b++)if((s=U(_[b]))!=null)return s}else if(t===Du)for(var z=e,b=0;b<z.length&&b<u;b++){var E=z[b],B=Tw(E);if(!zr(B))return Pl.Not;if((s=U(B[o]))!=null)return s}function U(W){var q=Zr(W);if(W!=null&&Number.isFinite(Number(W))&&W!=="")return q?Pl.Might:Pl.Not;if(q&&W!=="-")return Pl.Must}return Pl.Not}var SJe=$i();function CJe(e,t,n){var r=SJe.get(t);if(!r)return n;var i=r(e);return i?n.concat(i):n}var AH=Do();Do();var OD=function(){function e(){}return e.prototype.getColorFromPalette=function(t,n,r){var i=Us(this.get("color",!0)),o=this.get("colorLayer",!0);return MJe(this,AH,i,o,t,n,r)},e.prototype.clearColorPalette=function(){EJe(this,AH)},e}();function TJe(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r].length>t)return e[r];return e[n-1]}function MJe(e,t,n,r,i,o,s){o=o||e;var u=t(o),a=u.paletteIdx||0,h=u.paletteNameMap=u.paletteNameMap||{};if(h.hasOwnProperty(i))return h[i];var m=s==null||!r?n:TJe(r,s);if(m=m||n,!(!m||!m.length)){var v=m[a];return i&&(h[i]=v),u.paletteIdx=(a+1)%m.length,v}}function EJe(e,t){t(e).paletteIdx=0,t(e).paletteNameMap={}}var h3,ib,IH,kH="\0_ec_inner",AJe=1,zD=function(e){Pr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(n,r,i,o,s,u){o=o||{},this.option=null,this._theme=new so(o),this._locale=new so(s),this._optionManager=u},t.prototype.setOption=function(n,r,i){var o=RH(r);this._optionManager.setOption(n,i,o),this._resetOption(null,o)},t.prototype.resetOption=function(n,r){return this._resetOption(n,RH(r))},t.prototype._resetOption=function(n,r){var i=!1,o=this._optionManager;if(!n||n==="recreate"){var s=o.mountOption(n==="recreate");!this.option||n==="recreate"?IH(this,s):(this.restoreData(),this._mergeOption(s,r)),i=!0}if((n==="timeline"||n==="media")&&this.restoreData(),!n||n==="recreate"||n==="timeline"){var u=o.getTimelineOption(this);u&&(i=!0,this._mergeOption(u,r))}if(!n||n==="recreate"||n==="media"){var a=o.getMediaOption(this);a.length&&Gt(a,function(h){i=!0,this._mergeOption(h,r)},this)}return i},t.prototype.mergeOption=function(n){this._mergeOption(n,null)},t.prototype._mergeOption=function(n,r){var i=this.option,o=this._componentsMap,s=this._componentsCount,u=[],a=$i(),h=r&&r.replaceMergeMainTypeMap;yJe(this),Gt(n,function(v,_){v!=null&&(Sa.hasClass(_)?_&&(u.push(_),a.set(_,!0)):i[_]=i[_]==null?na(v):da(i[_],v,!0))}),h&&h.each(function(v,_){Sa.hasClass(_)&&!a.get(_)&&(u.push(_),a.set(_,!0))}),Sa.topologicalTravel(u,Sa.getAllClassMainTypes(),m,this);function m(v){var _=CJe(this,v,Us(n[v])),b=o.get(v),T=b?h&&h.get(v)?"replaceMerge":"normalMerge":"replaceAll",M=yYe(b,_,T);MYe(M,v,Sa),i[v]=null,o.set(v,null),s.set(v,0);var E=[],k=[],z=0,B;Gt(M,function(U,W){var q=U.existing,Q=U.newOption;if(!Q)q&&(q.mergeOption({},this),q.optionUpdated({},!1));else{var te=v==="series",ie=Sa.getClass(v,U.keyInfo.subType,!te);if(!ie)return;if(v==="tooltip"){if(B)return;B=!0}if(q&&q.constructor===ie)q.name=U.keyInfo.name,q.mergeOption(Q,this),q.optionUpdated(Q,!1);else{var ae=vr({componentIndex:W},U.keyInfo);q=new ie(Q,this,this,ae),vr(q,ae),U.brandNew&&(q.__requireNewView=!0),q.init(Q,this,this),q.optionUpdated(null,!0)}}q?(E.push(q.option),k.push(q),z++):(E.push(void 0),k.push(void 0))},this),i[v]=E,o.set(v,k),s.set(v,z),v==="series"&&h3(this)}this._seriesIndices||h3(this)},t.prototype.getOption=function(){var n=na(this.option);return Gt(n,function(r,i){if(Sa.hasClass(i)){for(var o=Us(r),s=o.length,u=!1,a=s-1;a>=0;a--)o[a]&&!Ux(o[a])?u=!0:(o[a]=null,!u&&s--);o.length=s,n[i]=o}}),delete n[kH],n},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(n){this._payload=n},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(n,r){var i=this._componentsMap.get(n);if(i){var o=i[r||0];if(o)return o;if(r==null){for(var s=0;s<i.length;s++)if(i[s])return i[s]}}},t.prototype.queryComponents=function(n){var r=n.mainType;if(!r)return[];var i=n.index,o=n.id,s=n.name,u=this._componentsMap.get(r);if(!u||!u.length)return[];var a;return i!=null?(a=[],Gt(Us(i),function(h){u[h]&&a.push(u[h])})):o!=null?a=PH("id",o,u):s!=null?a=PH("name",s,u):a=Ns(u,function(h){return!!h}),LH(a,n)},t.prototype.findComponents=function(n){var r=n.query,i=n.mainType,o=u(r),s=o?this.queryComponents(o):Ns(this._componentsMap.get(i),function(h){return!!h});return a(LH(s,n));function u(h){var m=i+"Index",v=i+"Id",_=i+"Name";return h&&(h[m]!=null||h[v]!=null||h[_]!=null)?{mainType:i,index:h[m],id:h[v],name:h[_]}:null}function a(h){return n.filter?Ns(h,n.filter):h}},t.prototype.eachComponent=function(n,r,i){var o=this._componentsMap;if(Ai(n)){var s=r,u=n;o.each(function(v,_){for(var b=0;v&&b<v.length;b++){var T=v[b];T&&u.call(s,_,T,T.componentIndex)}})}else for(var a=Zr(n)?o.get(n):oi(n)?this.findComponents(n):null,h=0;a&&h<a.length;h++){var m=a[h];m&&r.call(i,m,m.componentIndex)}},t.prototype.getSeriesByName=function(n){var r=td(n,null);return Ns(this._componentsMap.get("series"),function(i){return!!i&&r!=null&&i.name===r})},t.prototype.getSeriesByIndex=function(n){return this._componentsMap.get("series")[n]},t.prototype.getSeriesByType=function(n){return Ns(this._componentsMap.get("series"),function(r){return!!r&&r.subType===n})},t.prototype.getSeries=function(){return Ns(this._componentsMap.get("series"),function(n){return!!n})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(n,r){ib(this),Gt(this._seriesIndices,function(i){var o=this._componentsMap.get("series")[i];n.call(r,o,i)},this)},t.prototype.eachRawSeries=function(n,r){Gt(this._componentsMap.get("series"),function(i){i&&n.call(r,i,i.componentIndex)})},t.prototype.eachSeriesByType=function(n,r,i){ib(this),Gt(this._seriesIndices,function(o){var s=this._componentsMap.get("series")[o];s.subType===n&&r.call(i,s,o)},this)},t.prototype.eachRawSeriesByType=function(n,r,i){return Gt(this.getSeriesByType(n),r,i)},t.prototype.isSeriesFiltered=function(n){return ib(this),this._seriesIndicesMap.get(n.componentIndex)==null},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(n,r){ib(this);var i=[];Gt(this._seriesIndices,function(o){var s=this._componentsMap.get("series")[o];n.call(r,s,o)&&i.push(o)},this),this._seriesIndices=i,this._seriesIndicesMap=$i(i)},t.prototype.restoreData=function(n){h3(this);var r=this._componentsMap,i=[];r.each(function(o,s){Sa.hasClass(s)&&i.push(s)}),Sa.topologicalTravel(i,Sa.getAllClassMainTypes(),function(o){Gt(r.get(o),function(s){s&&(o!=="series"||!IJe(s,n))&&s.restoreData()})})},t.internalField=function(){h3=function(n){var r=n._seriesIndices=[];Gt(n._componentsMap.get("series"),function(i){i&&r.push(i.componentIndex)}),n._seriesIndicesMap=$i(r)},ib=function(n){},IH=function(n,r){n.option={},n.option[kH]=AJe,n._componentsMap=$i({series:[]}),n._componentsCount=$i();var i=r.aria;oi(i)&&i.enabled==null&&(i.enabled=!0),kJe(r,n._theme.option),da(r,_Je,!1),n._mergeOption(r,null)}}(),t}(so);function IJe(e,t){if(t){var n=t.seriesIndex,r=t.seriesId,i=t.seriesName;return n!=null&&e.componentIndex!==n||r!=null&&e.id!==r||i!=null&&e.name!==i}}function kJe(e,t){var n=e.color&&!e.colorLayer;Gt(t,function(r,i){i==="colorLayer"&&n||Sa.hasClass(i)||(typeof r=="object"?e[i]=e[i]?da(e[i],r,!1):na(r):e[i]==null&&(e[i]=r))})}function PH(e,t,n){if(zr(t)){var r=$i();return Gt(t,function(o){if(o!=null){var s=td(o,null);s!=null&&r.set(o,!0)}}),Ns(n,function(o){return o&&r.get(o[e])})}else{var i=td(t,null);return Ns(n,function(o){return o&&i!=null&&o[e]===i})}}function LH(e,t){return t.hasOwnProperty("subType")?Ns(e,function(n){return n&&n.subType===t.subType}):e}function RH(e){var t=$i();return e&&Gt(Us(e.replaceMerge),function(n){t.set(n,!0)}),{replaceMergeMainTypeMap:t}}gd(zD,OD);var PJe=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],nte=function(){function e(t){Gt(PJe,function(n){this[n]=io(t[n],t)},this)}return e}(),YE={},BD=function(){function e(){this._coordinateSystems=[]}return e.prototype.create=function(t,n){var r=[];Gt(YE,function(i,o){var s=i.create(t,n);r=r.concat(s||[])}),this._coordinateSystems=r},e.prototype.update=function(t,n){Gt(this._coordinateSystems,function(r){r.update&&r.update(t,n)})},e.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},e.register=function(t,n){YE[t]=n},e.get=function(t){return YE[t]},e}(),LJe=/^(min|max)?(.+)$/,RJe=function(){function e(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return e.prototype.setOption=function(t,n,r){t&&(Gt(Us(t.series),function(s){s&&s.data&&vl(s.data)&&Sk(s.data)}),Gt(Us(t.dataset),function(s){s&&s.source&&vl(s.source)&&Sk(s.source)})),t=na(t);var i=this._optionBackup,o=DJe(t,n,!i);this._newBaseOption=o.baseOption,i?(o.timelineOptions.length&&(i.timelineOptions=o.timelineOptions),o.mediaList.length&&(i.mediaList=o.mediaList),o.mediaDefault&&(i.mediaDefault=o.mediaDefault)):this._optionBackup=o},e.prototype.mountOption=function(t){var n=this._optionBackup;return this._timelineOptions=n.timelineOptions,this._mediaList=n.mediaList,this._mediaDefault=n.mediaDefault,this._currentMediaIndices=[],na(t?n.baseOption:this._newBaseOption)},e.prototype.getTimelineOption=function(t){var n,r=this._timelineOptions;if(r.length){var i=t.getComponent("timeline");i&&(n=na(r[i.getCurrentIndex()]))}return n},e.prototype.getMediaOption=function(t){var n=this._api.getWidth(),r=this._api.getHeight(),i=this._mediaList,o=this._mediaDefault,s=[],u=[];if(!i.length&&!o)return u;for(var a=0,h=i.length;a<h;a++)OJe(i[a].query,n,r)&&s.push(a);return!s.length&&o&&(s=[-1]),s.length&&!BJe(s,this._currentMediaIndices)&&(u=xi(s,function(m){return na(m===-1?o.option:i[m].option)})),this._currentMediaIndices=s,u},e}();function DJe(e,t,n){var r=[],i,o,s=e.baseOption,u=e.timeline,a=e.options,h=e.media,m=!!e.media,v=!!(a||u||s&&s.timeline);s?(o=s,o.timeline||(o.timeline=u)):((v||m)&&(e.options=e.media=null),o=e),m&&zr(h)&&Gt(h,function(b){b&&b.option&&(b.query?r.push(b):i||(i=b))}),_(o),Gt(a,function(b){return _(b)}),Gt(r,function(b){return _(b.option)});function _(b){Gt(t,function(T){T(b,n)})}return{baseOption:o,timelineOptions:a||[],mediaDefault:i,mediaList:r}}function OJe(e,t,n){var r={width:t,height:n,aspectratio:t/n},i=!0;return Gt(e,function(o,s){var u=s.match(LJe);if(!(!u||!u[1]||!u[2])){var a=u[1],h=u[2].toLowerCase();zJe(r[h],o,a)||(i=!1)}}),i}function zJe(e,t,n){return n==="min"?e>=t:n==="max"?e<=t:e===t}function BJe(e,t){return e.join(",")===t.join(",")}var Xu=Gt,Kx=oi,DH=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function ZE(e){var t=e&&e.itemStyle;if(t)for(var n=0,r=DH.length;n<r;n++){var i=DH[n],o=t.normal,s=t.emphasis;o&&o[i]&&(e[i]=e[i]||{},e[i].normal?da(e[i].normal,o[i]):e[i].normal=o[i],o[i]=null),s&&s[i]&&(e[i]=e[i]||{},e[i].emphasis?da(e[i].emphasis,s[i]):e[i].emphasis=s[i],s[i]=null)}}function fs(e,t,n){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var r=e[t].normal,i=e[t].emphasis;r&&(n?(e[t].normal=e[t].emphasis=null,_a(e[t],r)):e[t]=r),i&&(e.emphasis=e.emphasis||{},e.emphasis[t]=i,i.focus&&(e.emphasis.focus=i.focus),i.blurScope&&(e.emphasis.blurScope=i.blurScope))}}function Ab(e){fs(e,"itemStyle"),fs(e,"lineStyle"),fs(e,"areaStyle"),fs(e,"label"),fs(e,"labelLine"),fs(e,"upperLabel"),fs(e,"edgeLabel")}function ho(e,t){var n=Kx(e)&&e[t],r=Kx(n)&&n.textStyle;if(r)for(var i=0,o=OV.length;i<o;i++){var s=OV[i];r.hasOwnProperty(s)&&(n[s]=r[s])}}function hu(e){e&&(Ab(e),ho(e,"label"),e.emphasis&&ho(e.emphasis,"label"))}function FJe(e){if(Kx(e)){ZE(e),Ab(e),ho(e,"label"),ho(e,"upperLabel"),ho(e,"edgeLabel"),e.emphasis&&(ho(e.emphasis,"label"),ho(e.emphasis,"upperLabel"),ho(e.emphasis,"edgeLabel"));var t=e.markPoint;t&&(ZE(t),hu(t));var n=e.markLine;n&&(ZE(n),hu(n));var r=e.markArea;r&&hu(r);var i=e.data;if(e.type==="graph"){i=i||e.nodes;var o=e.links||e.edges;if(o&&!vl(o))for(var s=0;s<o.length;s++)hu(o[s]);Gt(e.categories,function(h){Ab(h)})}if(i&&!vl(i))for(var s=0;s<i.length;s++)hu(i[s]);if(t=e.markPoint,t&&t.data)for(var u=t.data,s=0;s<u.length;s++)hu(u[s]);if(n=e.markLine,n&&n.data)for(var a=n.data,s=0;s<a.length;s++)zr(a[s])?(hu(a[s][0]),hu(a[s][1])):hu(a[s]);e.type==="gauge"?(ho(e,"axisLabel"),ho(e,"title"),ho(e,"detail")):e.type==="treemap"?(fs(e.breadcrumb,"itemStyle"),Gt(e.levels,function(h){Ab(h)})):e.type==="tree"&&Ab(e.leaves)}}function Hd(e){return zr(e)?e:e?[e]:[]}function OH(e){return(zr(e)?e[0]:e)||{}}function NJe(e,t){Xu(Hd(e.series),function(r){Kx(r)&&FJe(r)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),Xu(n,function(r){Xu(Hd(e[r]),function(i){i&&(ho(i,"axisLabel"),ho(i.axisPointer,"label"))})}),Xu(Hd(e.parallel),function(r){var i=r&&r.parallelAxisDefault;ho(i,"axisLabel"),ho(i&&i.axisPointer,"label")}),Xu(Hd(e.calendar),function(r){fs(r,"itemStyle"),ho(r,"dayLabel"),ho(r,"monthLabel"),ho(r,"yearLabel")}),Xu(Hd(e.radar),function(r){ho(r,"name"),r.name&&r.axisName==null&&(r.axisName=r.name,delete r.name),r.nameGap!=null&&r.axisNameGap==null&&(r.axisNameGap=r.nameGap,delete r.nameGap)}),Xu(Hd(e.geo),function(r){Kx(r)&&(hu(r),Xu(Hd(r.regions),function(i){hu(i)}))}),Xu(Hd(e.timeline),function(r){hu(r),fs(r,"label"),fs(r,"itemStyle"),fs(r,"controlStyle",!0);var i=r.data;zr(i)&&Gt(i,function(o){oi(o)&&(fs(o,"label"),fs(o,"itemStyle"))})}),Xu(Hd(e.toolbox),function(r){fs(r,"iconStyle"),Xu(r.feature,function(i){fs(i,"iconStyle")})}),ho(OH(e.axisPointer),"label"),ho(OH(e.tooltip).axisPointer,"label")}function $Je(e,t){for(var n=t.split(","),r=e,i=0;i<n.length&&(r=r&&r[n[i]],r!=null);i++);return r}function VJe(e,t,n,r){for(var i=t.split(","),o=e,s,u=0;u<i.length-1;u++)s=i[u],o[s]==null&&(o[s]={}),o=o[s];o[i[u]]==null&&(o[i[u]]=n)}function zH(e){e&&Gt(HJe,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var HJe=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],UJe=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],XE=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function ab(e){var t=e&&e.itemStyle;if(t)for(var n=0;n<XE.length;n++){var r=XE[n][1],i=XE[n][0];t[r]!=null&&(t[i]=t[r])}}function BH(e){e&&e.alignTo==="edge"&&e.margin!=null&&e.edgeDistance==null&&(e.edgeDistance=e.margin)}function FH(e){e&&e.downplay&&!e.blur&&(e.blur=e.downplay)}function jJe(e){e&&e.focusNodeAdjacency!=null&&(e.emphasis=e.emphasis||{},e.emphasis.focus==null&&(e.emphasis.focus="adjacency"))}function rte(e,t){if(e)for(var n=0;n<e.length;n++)t(e[n]),e[n]&&rte(e[n].children,t)}function ite(e,t){NJe(e,t),e.series=Us(e.series),Gt(e.series,function(n){if(oi(n)){var r=n.type;if(r==="line")n.clipOverflow!=null&&(n.clip=n.clipOverflow);else if(r==="pie"||r==="gauge"){n.clockWise!=null&&(n.clockwise=n.clockWise),BH(n.label);var i=n.data;if(i&&!vl(i))for(var o=0;o<i.length;o++)BH(i[o]);n.hoverOffset!=null&&(n.emphasis=n.emphasis||{},(n.emphasis.scaleSize=null)&&(n.emphasis.scaleSize=n.hoverOffset))}else if(r==="gauge"){var s=$Je(n,"pointer.color");s!=null&&VJe(n,"itemStyle.color",s)}else if(r==="bar"){ab(n),ab(n.backgroundStyle),ab(n.emphasis);var i=n.data;if(i&&!vl(i))for(var o=0;o<i.length;o++)typeof i[o]=="object"&&(ab(i[o]),ab(i[o]&&i[o].emphasis))}else if(r==="sunburst"){var u=n.highlightPolicy;u&&(n.emphasis=n.emphasis||{},n.emphasis.focus||(n.emphasis.focus=u)),FH(n),rte(n.data,FH)}else r==="graph"||r==="sankey"?jJe(n):r==="map"&&(n.mapType&&!n.map&&(n.map=n.mapType),n.mapLocation&&_a(n,n.mapLocation));n.hoverAnimation!=null&&(n.emphasis=n.emphasis||{},n.emphasis&&n.emphasis.scale==null&&(n.emphasis.scale=n.hoverAnimation)),zH(n)}}),e.dataRange&&(e.visualMap=e.dataRange),Gt(UJe,function(n){var r=e[n];r&&(zr(r)||(r=[r]),Gt(r,function(i){zH(i)}))})}function GJe(e){var t=$i();e.eachSeries(function(n){var r=n.get("stack");if(r){var i=t.get(r)||t.set(r,[]),o=n.getData(),s={stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:n};if(!s.stackedDimension||!(s.isStackedByIndex||s.stackedByDimension))return;i.length&&o.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(s)}}),t.each(WJe)}function WJe(e){Gt(e,function(t,n){var r=[],i=[NaN,NaN],o=[t.stackResultDimension,t.stackedOverDimension],s=t.data,u=t.isStackedByIndex,a=t.seriesModel.get("stackStrategy")||"samesign";s.modify(o,function(h,m,v){var _=s.get(t.stackedDimension,v);if(isNaN(_))return i;var b,T;u?T=s.getRawIndex(v):b=s.get(t.stackedByDimension,v);for(var M=NaN,E=n-1;E>=0;E--){var k=e[E];if(u||(T=k.data.rawIndexOf(k.stackedByDimension,b)),T>=0){var z=k.data.getByRawIndex(k.stackResultDimension,T);if(a==="all"||a==="positive"&&z>0||a==="negative"&&z<0||a==="samesign"&&_>=0&&z>0||a==="samesign"&&_<=0&&z<0){_=fYe(_,z),M=z;break}}}return r[0]=_,r[1]=M,r})})}var lT=function(){function e(t){this.data=t.data||(t.sourceFormat===wh?{}:[]),this.sourceFormat=t.sourceFormat||Jee,this.seriesLayoutBy=t.seriesLayoutBy||ah,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var n=this.dimensionsDefine=t.dimensionsDefine;if(n)for(var r=0;r<n.length;r++){var i=n[r];i.type==null&&tte(this,r)===Pl.Must&&(i.type="ordinal")}}return e}();function FD(e){return e instanceof lT}function Xk(e,t,n){n=n||ote(e);var r=t.seriesLayoutBy,i=KJe(e,n,r,t.sourceHeader,t.dimensions),o=new lT({data:e,sourceFormat:n,seriesLayoutBy:r,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:na(t)});return o}function ate(e){return new lT({data:e,sourceFormat:vl(e)?np:Du})}function qJe(e){return new lT({data:e.data,sourceFormat:e.sourceFormat,seriesLayoutBy:e.seriesLayoutBy,dimensionsDefine:na(e.dimensionsDefine),startIndex:e.startIndex,dimensionsDetectedCount:e.dimensionsDetectedCount})}function ote(e){var t=Jee;if(vl(e))t=np;else if(zr(e)){e.length===0&&(t=_l);for(var n=0,r=e.length;n<r;n++){var i=e[n];if(i!=null){if(zr(i)||vl(i)){t=_l;break}else if(oi(i)){t=yd;break}}}}else if(oi(e)){for(var o in e)if(b_(e,o)&&ml(e[o])){t=wh;break}}return t}function KJe(e,t,n,r,i){var o,s;if(!e)return{dimensionsDefine:NH(i),startIndex:s,dimensionsDetectedCount:o};if(t===_l){var u=e;r==="auto"||r==null?$H(function(h){h!=null&&h!=="-"&&(Zr(h)?s==null&&(s=1):s=0)},n,u,10):s=Ja(r)?r:r?1:0,!i&&s===1&&(i=[],$H(function(h,m){i[m]=h!=null?h+"":""},n,u,1/0)),o=i?i.length:n===q_?u.length:u[0]?u[0].length:null}else if(t===yd)i||(i=YJe(e));else if(t===wh)i||(i=[],Gt(e,function(h,m){i.push(m)}));else if(t===Du){var a=Tw(e[0]);o=zr(a)&&a.length||1}return{startIndex:s,dimensionsDefine:NH(i),dimensionsDetectedCount:o}}function YJe(e){for(var t=0,n;t<e.length&&!(n=e[t++]););if(n)return Xa(n)}function NH(e){if(e){var t=$i();return xi(e,function(n,r){n=oi(n)?n:{name:n};var i={name:n.name,displayName:n.displayName,type:n.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var o=t.get(i.name);return o?i.name+="-"+o.count++:t.set(i.name,{count:1}),i})}}function $H(e,t,n,r){if(t===q_)for(var i=0;i<n.length&&i<r;i++)e(n[i]?n[i][0]:null,i);else for(var o=n[0]||[],i=0;i<o.length&&i<r;i++)e(o[i],i)}function ste(e){var t=e.sourceFormat;return t===yd||t===wh}var Rm,Dm,Om,VH,HH,lte=function(){function e(t,n){var r=FD(t)?t:ate(t);this._source=r;var i=this._data=r.data;r.sourceFormat===np&&(this._offset=0,this._dimSize=n,this._data=i),HH(this,i,r)}return e.prototype.getSource=function(){return this._source},e.prototype.count=function(){return 0},e.prototype.getItem=function(t,n){},e.prototype.appendData=function(t){},e.prototype.clean=function(){},e.protoInitialize=function(){var t=e.prototype;t.pure=!1,t.persistent=!0}(),e.internalField=function(){var t;HH=function(s,u,a){var h=a.sourceFormat,m=a.seriesLayoutBy,v=a.startIndex,_=a.dimensionsDefine,b=VH[ND(h,m)];if(vr(s,b),h===np)s.getItem=n,s.count=i,s.fillStorage=r;else{var T=ute(h,m);s.getItem=io(T,null,u,v,_);var M=cte(h,m);s.count=io(M,null,u,v,_)}};var n=function(s,u){s=s-this._offset,u=u||[];for(var a=this._data,h=this._dimSize,m=h*s,v=0;v<h;v++)u[v]=a[m+v];return u},r=function(s,u,a,h){for(var m=this._data,v=this._dimSize,_=0;_<v;_++){for(var b=h[_],T=b[0]==null?1/0:b[0],M=b[1]==null?-1/0:b[1],E=u-s,k=a[_],z=0;z<E;z++){var B=m[z*v+_];k[s+z]=B,B<T&&(T=B),B>M&&(M=B)}b[0]=T,b[1]=M}},i=function(){return this._data?this._data.length/this._dimSize:0};VH=(t={},t[_l+"_"+ah]={pure:!0,appendData:o},t[_l+"_"+q_]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[yd]={pure:!0,appendData:o},t[wh]={pure:!0,appendData:function(s){var u=this._data;Gt(s,function(a,h){for(var m=u[h]||(u[h]=[]),v=0;v<(a||[]).length;v++)m.push(a[v])})}},t[Du]={appendData:o},t[np]={persistent:!1,pure:!0,appendData:function(s){this._data=s},clean:function(){this._offset+=this.count(),this._data=null}},t);function o(s){for(var u=0;u<s.length;u++)this._data.push(s[u])}}(),e}(),UH=function(e,t,n,r){return e[r]},ZJe=(Rm={},Rm[_l+"_"+ah]=function(e,t,n,r){return e[r+t]},Rm[_l+"_"+q_]=function(e,t,n,r,i){r+=t;for(var o=i||[],s=e,u=0;u<s.length;u++){var a=s[u];o[u]=a?a[r]:null}return o},Rm[yd]=UH,Rm[wh]=function(e,t,n,r,i){for(var o=i||[],s=0;s<n.length;s++){var u=n[s].name,a=e[u];o[s]=a?a[r]:null}return o},Rm[Du]=UH,Rm);function ute(e,t){var n=ZJe[ND(e,t)];return n}var jH=function(e,t,n){return e.length},XJe=(Dm={},Dm[_l+"_"+ah]=function(e,t,n){return Math.max(0,e.length-t)},Dm[_l+"_"+q_]=function(e,t,n){var r=e[0];return r?Math.max(0,r.length-t):0},Dm[yd]=jH,Dm[wh]=function(e,t,n){var r=n[0].name,i=e[r];return i?i.length:0},Dm[Du]=jH,Dm);function cte(e,t){var n=XJe[ND(e,t)];return n}var JE=function(e,t,n){return e[t]},JJe=(Om={},Om[_l]=JE,Om[yd]=function(e,t,n){return e[n]},Om[wh]=JE,Om[Du]=function(e,t,n){var r=Tw(e);return r instanceof Array?r[t]:r},Om[np]=JE,Om);function dte(e){var t=JJe[e];return t}function ND(e,t){return e===_l?e+"_"+t:e}function S_(e,t,n){if(e){var r=e.getRawDataItem(t);if(r!=null){var i=e.getStore(),o=i.getSource().sourceFormat;if(n!=null){var s=e.getDimensionIndex(n),u=i.getDimensionProperty(s);return dte(o)(r,s,u)}else{var a=r;return o===Du&&(a=Tw(r)),a}}}}var QJe=/\{@(.+?)\}/g,eQe=function(){function e(){}return e.prototype.getDataParams=function(t,n){var r=this.getData(n),i=this.getRawValue(t,n),o=r.getRawIndex(t),s=r.getName(t),u=r.getRawDataItem(t),a=r.getItemVisual(t,"style"),h=a&&a[r.getItemVisual(t,"drawType")||"fill"],m=a&&a.stroke,v=this.mainType,_=v==="series",b=r.userOutput&&r.userOutput.get();return{componentType:v,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:_?this.subType:null,seriesIndex:this.seriesIndex,seriesId:_?this.id:null,seriesName:_?this.name:null,name:s,dataIndex:o,data:u,dataType:n,value:i,color:h,borderColor:m,dimensionNames:b?b.fullDimensions:null,encode:b?b.encode:null,$vars:["seriesName","name","value"]}},e.prototype.getFormattedLabel=function(t,n,r,i,o,s){n=n||"normal";var u=this.getData(r),a=this.getDataParams(t,r);if(s&&(a.value=s.interpolatedValue),i!=null&&zr(a.value)&&(a.value=a.value[i]),!o){var h=u.getItemModel(t);o=h.get(n==="normal"?["label","formatter"]:[n,"label","formatter"])}if(Ai(o))return a.status=n,a.dimensionIndex=i,o(a);if(Zr(o)){var m=Yee(o,a);return m.replace(QJe,function(v,_){var b=_.length,T=_;T.charAt(0)==="["&&T.charAt(b-1)==="]"&&(T=+T.slice(1,b-1));var M=S_(u,t,T);if(s&&zr(s.interpolatedValue)){var E=u.getDimensionIndex(T);E>=0&&(M=s.interpolatedValue[E])}return M!=null?M+"":""})}},e.prototype.getRawValue=function(t,n){return S_(this.getData(n),t)},e.prototype.formatTooltip=function(t,n,r){},e}();function GH(e){var t,n;return oi(e)?e.type&&(n=e):t=e,{text:t,frag:n}}function Q2(e){return new tQe(e)}var tQe=function(){function e(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return e.prototype.perform=function(t){var n=this._upstream,r=t&&t.skip;if(this._dirty&&n){var i=this.context;i.data=i.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var o;this._plan&&!r&&(o=this._plan(this.context));var s=m(this._modBy),u=this._modDataCount||0,a=m(t&&t.modBy),h=t&&t.modDataCount||0;(s!==a||u!==h)&&(o="reset");function m(z){return!(z>=1)&&(z=1),z}var v;(this._dirty||o==="reset")&&(this._dirty=!1,v=this._doReset(r)),this._modBy=a,this._modDataCount=h;var _=t&&t.step;if(n?this._dueEnd=n._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var b=this._dueIndex,T=Math.min(_!=null?this._dueIndex+_:1/0,this._dueEnd);if(!r&&(v||b<T)){var M=this._progress;if(zr(M))for(var E=0;E<M.length;E++)this._doProgress(M[E],b,T,a,h);else this._doProgress(M,b,T,a,h)}this._dueIndex=T;var k=this._settedOutputEnd!=null?this._settedOutputEnd:T;this._outputDueEnd=k}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},e.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},e.prototype._doProgress=function(t,n,r,i,o){WH.reset(n,r,i,o),this._callingProgress=t,this._callingProgress({start:n,end:r,count:r-n,next:WH.next},this.context)},e.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var n,r;!t&&this._reset&&(n=this._reset(this.context),n&&n.progress&&(r=n.forceFirstProgress,n=n.progress),zr(n)&&!n.length&&(n=null)),this._progress=n,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),r},e.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},e.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},e.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},e.prototype.getUpstream=function(){return this._upstream},e.prototype.getDownstream=function(){return this._downstream},e.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},e}(),WH=function(){var e,t,n,r,i,o={reset:function(a,h,m,v){t=a,e=h,n=m,r=v,i=Math.ceil(r/n),o.next=n>1&&r>0?u:s}};return o;function s(){return t<e?t++:null}function u(){var a=t%i*n+Math.ceil(t/i),h=t>=e?null:a<r?a:t;return t++,h}}();function bS(e,t){var n=t&&t.type;return n==="ordinal"?e:(n==="time"&&!Ja(e)&&e!=null&&e!=="-"&&(e=+fh(e)),e==null||e===""?NaN:Number(e))}$i({number:function(e){return parseFloat(e)},time:function(e){return+fh(e)},trim:function(e){return Zr(e)?Xc(e):e}});var nQe=function(){function e(t,n){var r=t==="desc";this._resultLT=r?1:-1,n==null&&(n=r?"min":"max"),this._incomparable=n==="min"?-1/0:1/0}return e.prototype.evaluate=function(t,n){var r=Ja(t)?t:xC(t),i=Ja(n)?n:xC(n),o=isNaN(r),s=isNaN(i);if(o&&(r=this._incomparable),s&&(i=this._incomparable),o&&s){var u=Zr(t),a=Zr(n);u&&(r=a?t:0),a&&(i=u?n:0)}return r<i?this._resultLT:r>i?-this._resultLT:0},e}(),rQe=function(){function e(){}return e.prototype.getRawData=function(){throw new Error("not supported")},e.prototype.getRawDataItem=function(t){throw new Error("not supported")},e.prototype.cloneRawData=function(){},e.prototype.getDimensionInfo=function(t){},e.prototype.cloneAllDimensionInfo=function(){},e.prototype.count=function(){},e.prototype.retrieveValue=function(t,n){},e.prototype.retrieveValueFromItem=function(t,n){},e.prototype.convertValue=function(t,n){return bS(t,n)},e}();function iQe(e,t){var n=new rQe,r=e.data,i=n.sourceFormat=e.sourceFormat,o=e.startIndex,s="";e.seriesLayoutBy!==ah&&al(s);var u=[],a={},h=e.dimensionsDefine;if(h)Gt(h,function(M,E){var k=M.name,z={index:E,name:k,displayName:M.displayName};if(u.push(z),k!=null){var B="";b_(a,k)&&al(B),a[k]=z}});else for(var m=0;m<e.dimensionsDetectedCount;m++)u.push({index:m});var v=ute(i,ah);t.__isBuiltIn&&(n.getRawDataItem=function(M){return v(r,o,u,M)},n.getRawData=io(aQe,null,e)),n.cloneRawData=io(oQe,null,e);var _=cte(i,ah);n.count=io(_,null,r,o,u);var b=dte(i);n.retrieveValue=function(M,E){var k=v(r,o,u,M);return T(k,E)};var T=n.retrieveValueFromItem=function(M,E){if(M!=null){var k=u[E];if(k)return b(M,E,k.name)}};return n.getDimensionInfo=io(sQe,null,u,a),n.cloneAllDimensionInfo=io(lQe,null,u),n}function aQe(e){var t=e.sourceFormat;if(!$D(t)){var n="";al(n)}return e.data}function oQe(e){var t=e.sourceFormat,n=e.data;if(!$D(t)){var r="";al(r)}if(t===_l){for(var i=[],o=0,s=n.length;o<s;o++)i.push(n[o].slice());return i}else if(t===yd){for(var i=[],o=0,s=n.length;o<s;o++)i.push(vr({},n[o]));return i}}function sQe(e,t,n){if(n!=null){if(Ja(n)||!isNaN(n)&&!b_(t,n))return e[n];if(b_(t,n))return t[n]}}function lQe(e){return na(e)}var hte=$i();function uQe(e){e=na(e);var t=e.type,n="";t||al(n);var r=t.split(":");r.length!==2&&al(n);var i=!1;r[0]==="echarts"&&(t=r[1],i=!0),e.__isBuiltIn=i,hte.set(t,e)}function cQe(e,t,n){var r=Us(e),i=r.length,o="";i||al(o);for(var s=0,u=i;s<u;s++){var a=r[s];t=dQe(a,t),s!==u-1&&(t.length=Math.max(t.length,1))}return t}function dQe(e,t,n,r){var i="";t.length||al(i),oi(e)||al(i);var o=e.type,s=hte.get(o);s||al(i);var u=xi(t,function(h){return iQe(h,s)}),a=Us(s.transform({upstream:u[0],upstreamList:u,config:na(e.config)}));return xi(a,function(h,m){var v="";oi(h)||al(v),h.data||al(v);var _=ote(h.data);$D(_)||al(v);var b,T=t[0];if(T&&m===0&&!h.dimensions){var M=T.startIndex;M&&(h.data=T.data.slice(0,M).concat(h.data)),b={seriesLayoutBy:ah,sourceHeader:M,dimensions:T.metaRawOption.dimensions}}else b={seriesLayoutBy:ah,sourceHeader:0,dimensions:h.dimensions};return Xk(h.data,b,null)})}function $D(e){return e===_l||e===yd}var uT="undefined",hQe=typeof Uint32Array===uT?Array:Uint32Array,fQe=typeof Uint16Array===uT?Array:Uint16Array,fte=typeof Int32Array===uT?Array:Int32Array,qH=typeof Float64Array===uT?Array:Float64Array,pte={float:qH,int:fte,ordinal:Array,number:Array,time:qH},QE;function ob(e){return e>65535?hQe:fQe}function dg(){return[1/0,-1/0]}function pQe(e){var t=e.constructor;return t===Array?e.slice():new t(e)}function KH(e,t,n,r,i){var o=pte[n||"float"];if(i){var s=e[t],u=s&&s.length;if(u!==r){for(var a=new o(r),h=0;h<u;h++)a[h]=s[h];e[t]=a}}else e[t]=new o(r)}var Jk=function(){function e(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=$i()}return e.prototype.initData=function(t,n,r){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=t.getSource(),o=this.defaultDimValueGetter=QE[i.sourceFormat];this._dimValueGetter=r||o,this._rawExtent=[],ste(i),this._dimensions=xi(n,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,t.count())},e.prototype.getProvider=function(){return this._provider},e.prototype.getSource=function(){return this._provider.getSource()},e.prototype.ensureCalculationDimension=function(t,n){var r=this._calcDimNameToIdx,i=this._dimensions,o=r.get(t);if(o!=null){if(i[o].type===n)return o}else o=i.length;return i[o]={type:n},r.set(t,o),this._chunks[o]=new pte[n||"float"](this._rawCount),this._rawExtent[o]=dg(),o},e.prototype.collectOrdinalMeta=function(t,n){var r=this._chunks[t],i=this._dimensions[t],o=this._rawExtent,s=i.ordinalOffset||0,u=r.length;s===0&&(o[t]=dg());for(var a=o[t],h=s;h<u;h++){var m=r[h]=n.parseAndCollect(r[h]);isNaN(m)||(a[0]=Math.min(m,a[0]),a[1]=Math.max(m,a[1]))}i.ordinalMeta=n,i.ordinalOffset=u,i.type="ordinal"},e.prototype.getOrdinalMeta=function(t){var n=this._dimensions[t],r=n.ordinalMeta;return r},e.prototype.getDimensionProperty=function(t){var n=this._dimensions[t];return n&&n.property},e.prototype.appendData=function(t){var n=this._provider,r=this.count();n.appendData(t);var i=n.count();return n.persistent||(i+=r),r<i&&this._initDataFromProvider(r,i,!0),[r,i]},e.prototype.appendValues=function(t,n){for(var r=this._chunks,i=this._dimensions,o=i.length,s=this._rawExtent,u=this.count(),a=u+Math.max(t.length,n||0),h=0;h<o;h++){var m=i[h];KH(r,h,m.type,a,!0)}for(var v=[],_=u;_<a;_++)for(var b=_-u,T=0;T<o;T++){var m=i[T],M=QE.arrayRows.call(this,t[b]||v,m.property,b,T);r[T][_]=M;var E=s[T];M<E[0]&&(E[0]=M),M>E[1]&&(E[1]=M)}return this._rawCount=this._count=a,{start:u,end:a}},e.prototype._initDataFromProvider=function(t,n,r){for(var i=this._provider,o=this._chunks,s=this._dimensions,u=s.length,a=this._rawExtent,h=xi(s,function(z){return z.property}),m=0;m<u;m++){var v=s[m];a[m]||(a[m]=dg()),KH(o,m,v.type,n,r)}if(i.fillStorage)i.fillStorage(t,n,o,a);else for(var _=[],b=t;b<n;b++){_=i.getItem(b,_);for(var T=0;T<u;T++){var M=o[T],E=this._dimValueGetter(_,h[T],b,T);M[b]=E;var k=a[T];E<k[0]&&(k[0]=E),E>k[1]&&(k[1]=E)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=n,this._extent=[]},e.prototype.count=function(){return this._count},e.prototype.get=function(t,n){if(!(n>=0&&n<this._count))return NaN;var r=this._chunks[t];return r?r[this.getRawIndex(n)]:NaN},e.prototype.getValues=function(t,n){var r=[],i=[];if(n==null){n=t,t=[];for(var o=0;o<this._dimensions.length;o++)i.push(o)}else i=t;for(var o=0,s=i.length;o<s;o++)r.push(this.get(i[o],n));return r},e.prototype.getByRawIndex=function(t,n){if(!(n>=0&&n<this._rawCount))return NaN;var r=this._chunks[t];return r?r[n]:NaN},e.prototype.getSum=function(t){var n=this._chunks[t],r=0;if(n)for(var i=0,o=this.count();i<o;i++){var s=this.get(t,i);isNaN(s)||(r+=s)}return r},e.prototype.getMedian=function(t){var n=[];this.each([t],function(o){isNaN(o)||n.push(o)});var r=n.sort(function(o,s){return o-s}),i=this.count();return i===0?0:i%2===1?r[(i-1)/2]:(r[i/2]+r[i/2-1])/2},e.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var n=this._indices,r=n[t];if(r!=null&&r<this._count&&r===t)return t;for(var i=0,o=this._count-1;i<=o;){var s=(i+o)/2|0;if(n[s]<t)i=s+1;else if(n[s]>t)o=s-1;else return s}return-1},e.prototype.indicesOfNearest=function(t,n,r){var i=this._chunks,o=i[t],s=[];if(!o)return s;r==null&&(r=1/0);for(var u=1/0,a=-1,h=0,m=0,v=this.count();m<v;m++){var _=this.getRawIndex(m),b=n-o[_],T=Math.abs(b);T<=r&&((T<u||T===u&&b>=0&&a<0)&&(u=T,a=b,h=0),b===a&&(s[h++]=m))}return s.length=h,s},e.prototype.getIndices=function(){var t,n=this._indices;if(n){var r=n.constructor,i=this._count;if(r===Array){t=new r(i);for(var o=0;o<i;o++)t[o]=n[o]}else t=new r(n.buffer,0,i)}else{var r=ob(this._rawCount);t=new r(this.count());for(var o=0;o<t.length;o++)t[o]=o}return t},e.prototype.filter=function(t,n){if(!this._count)return this;for(var r=this.clone(),i=r.count(),o=ob(r._rawCount),s=new o(i),u=[],a=t.length,h=0,m=t[0],v=r._chunks,_=0;_<i;_++){var b=void 0,T=r.getRawIndex(_);if(a===0)b=n(_);else if(a===1){var M=v[m][T];b=n(M,_)}else{for(var E=0;E<a;E++)u[E]=v[t[E]][T];u[E]=_,b=n.apply(null,u)}b&&(s[h++]=T)}return h<i&&(r._indices=s),r._count=h,r._extent=[],r._updateGetRawIdx(),r},e.prototype.selectRange=function(t){var n=this.clone(),r=n._count;if(!r)return this;var i=Xa(t),o=i.length;if(!o)return this;var s=n.count(),u=ob(n._rawCount),a=new u(s),h=0,m=i[0],v=t[m][0],_=t[m][1],b=n._chunks,T=!1;if(!n._indices){var M=0;if(o===1){for(var E=b[i[0]],k=0;k<r;k++){var z=E[k];(z>=v&&z<=_||isNaN(z))&&(a[h++]=M),M++}T=!0}else if(o===2){for(var E=b[i[0]],B=b[i[1]],U=t[i[1]][0],W=t[i[1]][1],k=0;k<r;k++){var z=E[k],q=B[k];(z>=v&&z<=_||isNaN(z))&&(q>=U&&q<=W||isNaN(q))&&(a[h++]=M),M++}T=!0}}if(!T)if(o===1)for(var k=0;k<s;k++){var Q=n.getRawIndex(k),z=b[i[0]][Q];(z>=v&&z<=_||isNaN(z))&&(a[h++]=Q)}else for(var k=0;k<s;k++){for(var te=!0,Q=n.getRawIndex(k),ie=0;ie<o;ie++){var ae=i[ie],z=b[ae][Q];(z<t[ae][0]||z>t[ae][1])&&(te=!1)}te&&(a[h++]=n.getRawIndex(k))}return h<s&&(n._indices=a),n._count=h,n._extent=[],n._updateGetRawIdx(),n},e.prototype.map=function(t,n){var r=this.clone(t);return this._updateDims(r,t,n),r},e.prototype.modify=function(t,n){this._updateDims(this,t,n)},e.prototype._updateDims=function(t,n,r){for(var i=t._chunks,o=[],s=n.length,u=t.count(),a=[],h=t._rawExtent,m=0;m<n.length;m++)h[n[m]]=dg();for(var v=0;v<u;v++){for(var _=t.getRawIndex(v),b=0;b<s;b++)a[b]=i[n[b]][_];a[s]=v;var T=r&&r.apply(null,a);if(T!=null){typeof T!="object"&&(o[0]=T,T=o);for(var m=0;m<T.length;m++){var M=n[m],E=T[m],k=h[M],z=i[M];z&&(z[_]=E),E<k[0]&&(k[0]=E),E>k[1]&&(k[1]=E)}}}},e.prototype.lttbDownSample=function(t,n){var r=this.clone([t],!0),i=r._chunks,o=i[t],s=this.count(),u=0,a=Math.floor(1/n),h=this.getRawIndex(0),m,v,_,b=new(ob(this._rawCount))(Math.min((Math.ceil(s/a)+2)*2,s));b[u++]=h;for(var T=1;T<s-1;T+=a){for(var M=Math.min(T+a,s-1),E=Math.min(T+a*2,s),k=(E+M)/2,z=0,B=M;B<E;B++){var U=this.getRawIndex(B),W=o[U];isNaN(W)||(z+=W)}z/=E-M;var q=T,Q=Math.min(T+a,s),te=T-1,ie=o[h];m=-1,_=q;for(var ae=-1,re=0,B=q;B<Q;B++){var U=this.getRawIndex(B),W=o[U];if(isNaN(W)){re++,ae<0&&(ae=U);continue}v=Math.abs((te-k)*(W-ie)-(te-B)*(z-ie)),v>m&&(m=v,_=U)}re>0&&re<Q-q&&(b[u++]=Math.min(ae,_),_=Math.max(ae,_)),b[u++]=_,h=_}return b[u++]=this.getRawIndex(s-1),r._count=u,r._indices=b,r.getRawIndex=this._getRawIdx,r},e.prototype.downSample=function(t,n,r,i){for(var o=this.clone([t],!0),s=o._chunks,u=[],a=Math.floor(1/n),h=s[t],m=this.count(),v=o._rawExtent[t]=dg(),_=new(ob(this._rawCount))(Math.ceil(m/a)),b=0,T=0;T<m;T+=a){a>m-T&&(a=m-T,u.length=a);for(var M=0;M<a;M++){var E=this.getRawIndex(T+M);u[M]=h[E]}var k=r(u),z=this.getRawIndex(Math.min(T+i(u,k)||0,m-1));h[z]=k,k<v[0]&&(v[0]=k),k>v[1]&&(v[1]=k),_[b++]=z}return o._count=b,o._indices=_,o._updateGetRawIdx(),o},e.prototype.each=function(t,n){if(this._count)for(var r=t.length,i=this._chunks,o=0,s=this.count();o<s;o++){var u=this.getRawIndex(o);switch(r){case 0:n(o);break;case 1:n(i[t[0]][u],o);break;case 2:n(i[t[0]][u],i[t[1]][u],o);break;default:for(var a=0,h=[];a<r;a++)h[a]=i[t[a]][u];h[a]=o,n.apply(null,h)}}},e.prototype.getDataExtent=function(t){var n=this._chunks[t],r=dg();if(!n)return r;var i=this.count(),o=!this._indices,s;if(o)return this._rawExtent[t].slice();if(s=this._extent[t],s)return s.slice();s=r;for(var u=s[0],a=s[1],h=0;h<i;h++){var m=this.getRawIndex(h),v=n[m];v<u&&(u=v),v>a&&(a=v)}return s=[u,a],this._extent[t]=s,s},e.prototype.getRawDataItem=function(t){var n=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(n);for(var r=[],i=this._chunks,o=0;o<i.length;o++)r.push(i[o][n]);return r},e.prototype.clone=function(t,n){var r=new e,i=this._chunks,o=t&&G_(t,function(u,a){return u[a]=!0,u},{});if(o)for(var s=0;s<i.length;s++)r._chunks[s]=o[s]?pQe(i[s]):i[s];else r._chunks=i;return this._copyCommonProps(r),n||(r._indices=this._cloneIndices()),r._updateGetRawIdx(),r},e.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=na(this._extent),t._rawExtent=na(this._rawExtent)},e.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,n=void 0;if(t===Array){var r=this._indices.length;n=new t(r);for(var i=0;i<r;i++)n[i]=this._indices[i]}else n=new t(this._indices);return n}return null},e.prototype._getRawIdxIdentity=function(t){return t},e.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},e.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},e.internalField=function(){function t(n,r,i,o){return bS(n[o],this._dimensions[o])}QE={arrayRows:t,objectRows:function(n,r,i,o){return bS(n[r],this._dimensions[o])},keyedColumns:t,original:function(n,r,i,o){var s=n&&(n.value==null?n:n.value);return bS(s instanceof Array?s[o]:s,this._dimensions[o])},typedArray:function(n,r,i,o){return n[o]}}}(),e}(),mQe=function(){function e(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return e.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},e.prototype._setLocalSource=function(t,n){this._sourceList=t,this._upstreamSignList=n,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},e.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},e.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},e.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost,n=this._getUpstreamSourceManagers(),r=!!n.length,i,o;if(f3(t)){var s=t,u=void 0,a=void 0,h=void 0;if(r){var m=n[0];m.prepareSource(),h=m.getSource(),u=h.data,a=h.sourceFormat,o=[m._getVersionSign()]}else u=s.get("data",!0),a=vl(u)?np:Du,o=[];var v=this._getSourceMetaRawOption()||{},_=h&&h.metaRawOption||{},b=Qi(v.seriesLayoutBy,_.seriesLayoutBy)||null,T=Qi(v.sourceHeader,_.sourceHeader),M=Qi(v.dimensions,_.dimensions),E=b!==_.seriesLayoutBy||!!T!=!!_.sourceHeader||M;i=E?[Xk(u,{seriesLayoutBy:b,sourceHeader:T,dimensions:M},a)]:[]}else{var k=t;if(r){var z=this._applyTransform(n);i=z.sourceList,o=z.upstreamSignList}else{var B=k.get("source",!0);i=[Xk(B,this._getSourceMetaRawOption(),null)],o=[]}}this._setLocalSource(i,o)},e.prototype._applyTransform=function(t){var n=this._sourceHost,r=n.get("transform",!0),i=n.get("fromTransformResult",!0);if(i!=null){var o="";t.length!==1&&YH(o)}var s,u=[],a=[];return Gt(t,function(h){h.prepareSource();var m=h.getSource(i||0),v="";i!=null&&!m&&YH(v),u.push(m),a.push(h._getVersionSign())}),r?s=cQe(r,u,{datasetIndex:n.componentIndex}):i!=null&&(s=[qJe(u[0])]),{sourceList:s,upstreamSignList:a}},e.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),n=0;n<t.length;n++){var r=t[n];if(r._isDirty()||this._upstreamSignList[n]!==r._getVersionSign())return!0}},e.prototype.getSource=function(t){t=t||0;var n=this._sourceList[t];if(!n){var r=this._getUpstreamSourceManagers();return r[0]&&r[0].getSource(t)}return n},e.prototype.getSharedDataStore=function(t){var n=t.makeStoreSchema();return this._innerGetDataStore(n.dimensions,t.source,n.hash)},e.prototype._innerGetDataStore=function(t,n,r){var i=0,o=this._storeList,s=o[i];s||(s=o[i]={});var u=s[r];if(!u){var a=this._getUpstreamSourceManagers()[0];f3(this._sourceHost)&&a?u=a._innerGetDataStore(t,n,r):(u=new Jk,u.initData(new lte(n,t.length),t)),s[r]=u}return u},e.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(f3(t)){var n=ete(t);return n?[n.getSourceManager()]:[]}else return xi(xJe(t),function(r){return r.getSourceManager()})},e.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost,n,r,i;if(f3(t))n=t.get("seriesLayoutBy",!0),r=t.get("sourceHeader",!0),i=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var o=t;n=o.get("seriesLayoutBy",!0),r=o.get("sourceHeader",!0),i=o.get("dimensions",!0)}return{seriesLayoutBy:n,sourceHeader:r,dimensions:i}},e}();function f3(e){return e.mainType==="series"}function YH(e){throw new Error(e)}var mte="line-height:1";function vte(e,t){var n=e.color||"#6e7079",r=e.fontSize||12,i=e.fontWeight||"400",o=e.color||"#464646",s=e.fontSize||14,u=e.fontWeight||"900";return t==="html"?{nameStyle:"font-size:"+Rl(r+"")+"px;color:"+Rl(n)+";font-weight:"+Rl(i+""),valueStyle:"font-size:"+Rl(s+"")+"px;color:"+Rl(o)+";font-weight:"+Rl(u+"")}:{nameStyle:{fontSize:r,fill:n,fontWeight:i},valueStyle:{fontSize:s,fill:o,fontWeight:u}}}var vQe=[0,10,20,30],gQe=["",`
`,`

`,`


`];function Yx(e,t){return t.type=e,t}function Qk(e){return e.type==="section"}function gte(e){return Qk(e)?_Qe:yQe}function _te(e){if(Qk(e)){var t=0,n=e.blocks.length,r=n>1||n>0&&!e.noHeader;return Gt(e.blocks,function(i){var o=_te(i);o>=t&&(t=o+ +(r&&(!o||Qk(i)&&!i.noHeader)))}),t}return 0}function _Qe(e,t,n,r){var i=t.noHeader,o=bQe(_te(t)),s=[],u=t.blocks||[];hh(!u||zr(u)),u=u||[];var a=e.orderMode;if(t.sortBlocks&&a){u=u.slice();var h={valueAsc:"asc",valueDesc:"desc"};if(b_(h,a)){var m=new nQe(h[a],null);u.sort(function(T,M){return m.evaluate(T.sortParam,M.sortParam)})}else a==="seriesDesc"&&u.reverse()}Gt(u,function(T,M){var E=t.valueFormatter,k=gte(T)(E?vr(vr({},e),{valueFormatter:E}):e,T,M>0?o.html:0,r);k!=null&&s.push(k)});var v=e.renderMode==="richText"?s.join(o.richText):eP(s.join(""),i?n:o.html);if(i)return v;var _=Zk(t.header,"ordinal",e.useUTC),b=vte(r,e.renderMode).nameStyle;return e.renderMode==="richText"?yte(e,_,b)+o.richText+v:eP('<div style="'+b+";"+mte+';">'+Rl(_)+"</div>"+v,n)}function yQe(e,t,n,r){var i=e.renderMode,o=t.noName,s=t.noValue,u=!t.markerType,a=t.name,h=e.useUTC,m=t.valueFormatter||e.valueFormatter||function(U){return U=zr(U)?U:[U],xi(U,function(W,q){return Zk(W,zr(b)?b[q]:b,h)})};if(!(o&&s)){var v=u?"":e.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",i),_=o?"":Zk(a,"ordinal",h),b=t.valueType,T=s?[]:m(t.value,t.dataIndex),M=!u||!o,E=!u&&o,k=vte(r,i),z=k.nameStyle,B=k.valueStyle;return i==="richText"?(u?"":v)+(o?"":yte(e,_,z))+(s?"":SQe(e,T,M,E,B)):eP((u?"":v)+(o?"":xQe(_,!u,z))+(s?"":wQe(T,M,E,B)),n)}}function ZH(e,t,n,r,i,o){if(e){var s=gte(e),u={useUTC:i,renderMode:n,orderMode:r,markupStyleCreator:t,valueFormatter:e.valueFormatter};return s(u,e,0,o)}}function bQe(e){return{html:vQe[e],richText:gQe[e]}}function eP(e,t){var n='<div style="clear:both"></div>',r="margin: "+t+"px 0 0";return'<div style="'+r+";"+mte+';">'+e+n+"</div>"}function xQe(e,t,n){var r=t?"margin-left:2px":"";return'<span style="'+n+";"+r+'">'+Rl(e)+"</span>"}function wQe(e,t,n,r){var i=n?"10px":"20px",o=t?"float:right;margin-left:"+i:"";return e=zr(e)?e:[e],'<span style="'+o+";"+r+'">'+xi(e,function(s){return Rl(s)}).join("&nbsp;&nbsp;")+"</span>"}function yte(e,t,n){return e.markupStyleCreator.wrapRichTextStyle(t,n)}function SQe(e,t,n,r,i){var o=[i],s=r?10:20;return n&&o.push({padding:[0,0,0,s],align:"right"}),e.markupStyleCreator.wrapRichTextStyle(zr(t)?t.join("  "):t,o)}function CQe(e,t){var n=e.getData().getItemVisual(t,"style"),r=n[e.visualDrawType];return E0(r)}function bte(e,t){var n=e.get("padding");return n??(t==="richText"?[8,10]:10)}var eA=function(){function e(){this.richTextStyles={},this._nextStyleNameId=XQ()}return e.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},e.prototype.makeTooltipMarker=function(t,n,r){var i=r==="richText"?this._generateStyleName():null,o=fJe({color:n,type:t,renderMode:r,markerId:i});return Zr(o)?o:(this.richTextStyles[i]=o.style,o.content)},e.prototype.wrapRichTextStyle=function(t,n){var r={};zr(n)?Gt(n,function(o){return vr(r,o)}):vr(r,n);var i=this._generateStyleName();return this.richTextStyles[i]=r,"{"+i+"|"+t+"}"},e}();function TQe(e){var t=e.series,n=e.dataIndex,r=e.multipleSeries,i=t.getData(),o=i.mapDimensionsAll("defaultedTooltip"),s=o.length,u=t.getRawValue(n),a=zr(u),h=CQe(t,n),m,v,_,b;if(s>1||a&&!s){var T=MQe(u,t,n,o,h);m=T.inlineValues,v=T.inlineValueTypes,_=T.blocks,b=T.inlineValues[0]}else if(s){var M=i.getDimensionInfo(o[0]);b=m=S_(i,n,o[0]),v=M.type}else b=m=a?u[0]:u;var E=uD(t),k=E&&t.name||"",z=i.getName(n),B=r?k:z;return Yx("section",{header:k,noHeader:r||!E,sortParam:b,blocks:[Yx("nameValue",{markerType:"item",markerColor:h,name:B,noName:!Xc(B),value:m,valueType:v,dataIndex:n})].concat(_||[])})}function MQe(e,t,n,r,i){var o=t.getData(),s=G_(e,function(v,_,b){var T=o.getDimensionInfo(b);return v=v||T&&T.tooltip!==!1&&T.displayName!=null},!1),u=[],a=[],h=[];r.length?Gt(r,function(v){m(S_(o,n,v),v)}):Gt(e,m);function m(v,_){var b=o.getDimensionInfo(_);!b||b.otherDims.tooltip===!1||(s?h.push(Yx("nameValue",{markerType:"subItem",markerColor:i,name:b.displayName,value:v,valueType:b.type})):(u.push(v),a.push(b.type)))}return{inlineValues:u,inlineValueTypes:a,blocks:h}}var Tf=Do();function p3(e,t){return e.getName(t)||e.getId(t)}var EQe="__universalTransitionEnabled",mp=function(e){Pr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n._selectedDataIndicesMap={},n}return t.prototype.init=function(n,r,i){this.seriesIndex=this.componentIndex,this.dataTask=Q2({count:IQe,reset:kQe}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(n,i);var o=Tf(this).sourceManager=new mQe(this);o.prepareSource();var s=this.getInitialData(n,i);JH(s,this),this.dataTask.context.data=s,Tf(this).dataBeforeProcessed=s,XH(this),this._initSelectedMapFromData(s)},t.prototype.mergeDefaultAndTheme=function(n,r){var i=qx(this),o=i?sT(n):{},s=this.subType;Sa.hasClass(s)&&(s+="Series"),da(n,r.getTheme().get(this.subType)),da(n,this.getDefaultOption()),DV(n,"label",["show"]),this.fillDataTextStyle(n.data),i&&w_(n,o,i)},t.prototype.mergeOption=function(n,r){n=da(this.option,n,!0),this.fillDataTextStyle(n.data);var i=qx(this);i&&w_(this.option,n,i);var o=Tf(this).sourceManager;o.dirty(),o.prepareSource();var s=this.getInitialData(n,r);JH(s,this),this.dataTask.dirty(),this.dataTask.context.data=s,Tf(this).dataBeforeProcessed=s,XH(this),this._initSelectedMapFromData(s)},t.prototype.fillDataTextStyle=function(n){if(n&&!vl(n))for(var r=["show"],i=0;i<n.length;i++)n[i]&&n[i].label&&DV(n[i],"label",r)},t.prototype.getInitialData=function(n,r){},t.prototype.appendData=function(n){var r=this.getRawData();r.appendData(n.data)},t.prototype.getData=function(n){var r=tP(this);if(r){var i=r.context.data;return n==null||!i.getLinkedData?i:i.getLinkedData(n)}else return Tf(this).data},t.prototype.getAllData=function(){var n=this.getData();return n&&n.getLinkedDataAll?n.getLinkedDataAll():[{data:n}]},t.prototype.setData=function(n){var r=tP(this);if(r){var i=r.context;i.outputData=n,r!==this.dataTask&&(i.data=n)}Tf(this).data=n},t.prototype.getEncode=function(){var n=this.get("encode",!0);if(n)return $i(n)},t.prototype.getSourceManager=function(){return Tf(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return Tf(this).dataBeforeProcessed},t.prototype.getColorBy=function(){var n=this.get("colorBy");return n||"series"},t.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},t.prototype.getBaseAxis=function(){var n=this.coordinateSystem;return n&&n.getBaseAxis&&n.getBaseAxis()},t.prototype.formatTooltip=function(n,r,i){return TQe({series:this,dataIndex:n,multipleSeries:r})},t.prototype.isAnimationEnabled=function(){var n=this.ecModel;if(Si.node&&!(n&&n.ssr))return!1;var r=this.getShallow("animation");return r&&this.getData().count()>this.getShallow("animationThreshold")&&(r=!1),!!r},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(n,r,i){var o=this.ecModel,s=OD.prototype.getColorFromPalette.call(this,n,r,i);return s||(s=o.getColorFromPalette(n,r,i)),s},t.prototype.coordDimToDataDim=function(n){return this.getRawData().mapDimensionsAll(n)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(n,r){this._innerSelect(this.getData(r),n)},t.prototype.unselect=function(n,r){var i=this.option.selectedMap;if(i){var o=this.option.selectedMode,s=this.getData(r);if(o==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var u=0;u<n.length;u++){var a=n[u],h=p3(s,a);i[h]=!1,this._selectedDataIndicesMap[h]=-1}}},t.prototype.toggleSelect=function(n,r){for(var i=[],o=0;o<n.length;o++)i[0]=n[o],this.isSelected(n[o],r)?this.unselect(i,r):this.select(i,r)},t.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var n=this._selectedDataIndicesMap,r=Xa(n),i=[],o=0;o<r.length;o++){var s=n[r[o]];s>=0&&i.push(s)}return i},t.prototype.isSelected=function(n,r){var i=this.option.selectedMap;if(!i)return!1;var o=this.getData(r);return(i==="all"||i[p3(o,n)])&&!o.getItemModel(n).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[EQe])return!0;var n=this.option.universalTransition;return n?n===!0?!0:n&&n.enabled:!1},t.prototype._innerSelect=function(n,r){var i,o,s=this.option,u=s.selectedMode,a=r.length;if(!(!u||!a)){if(u==="series")s.selectedMap="all";else if(u==="multiple"){oi(s.selectedMap)||(s.selectedMap={});for(var h=s.selectedMap,m=0;m<a;m++){var v=r[m],_=p3(n,v);h[_]=!0,this._selectedDataIndicesMap[_]=n.getRawIndex(v)}}else if(u==="single"||u===!0){var b=r[a-1],_=p3(n,b);s.selectedMap=(i={},i[_]=!0,i),this._selectedDataIndicesMap=(o={},o[_]=n.getRawIndex(b),o)}}},t.prototype._initSelectedMapFromData=function(n){if(!this.option.selectedMap){var r=[];n.hasItemOption&&n.each(function(i){var o=n.getRawDataItem(i);o&&o.selected&&r.push(i)}),r.length>0&&this._innerSelect(n,r)}},t.registerClass=function(n){return Sa.registerClass(n)},t.protoInitialize=function(){var n=t.prototype;n.type="series.__base__",n.seriesIndex=0,n.ignoreStyleOnData=!1,n.hasSymbolVisual=!1,n.defaultSymbol="circle",n.visualStyleAccessPath="itemStyle",n.visualDrawType="fill"}(),t}(Sa);gd(mp,eQe);gd(mp,OD);ree(mp,Sa);function XH(e){var t=e.name;uD(e)||(e.name=AQe(e)||t)}function AQe(e){var t=e.getRawData(),n=t.mapDimensionsAll("seriesName"),r=[];return Gt(n,function(i){var o=t.getDimensionInfo(i);o.displayName&&r.push(o.displayName)}),r.join(" ")}function IQe(e){return e.model.getRawData().count()}function kQe(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),PQe}function PQe(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function JH(e,t){Gt(Kqe(e.CHANGABLE_METHODS,e.DOWNSAMPLE_METHODS),function(n){e.wrapMethod(n,$o(LQe,t))})}function LQe(e,t){var n=tP(e);return n&&n.setOutputEnd((t||this).count()),t}function tP(e){var t=(e.ecModel||{}).scheduler,n=t&&t.getPipeline(e.uid);if(n){var r=n.currentTask;if(r){var i=r.agentStubMap;i&&(r=i.get(e.uid))}return r}}var ld=function(){function e(){this.group=new ws,this.uid=eT("viewComponent")}return e.prototype.init=function(t,n){},e.prototype.render=function(t,n,r,i){},e.prototype.dispose=function(t,n){},e.prototype.updateView=function(t,n,r,i){},e.prototype.updateLayout=function(t,n,r,i){},e.prototype.updateVisual=function(t,n,r,i){},e.prototype.toggleBlurSeries=function(t,n,r){},e.prototype.eachRendered=function(t){var n=this.group;n&&n.traverse(t)},e}();dD(ld);j8(ld);function xte(){var e=Do();return function(t){var n=e(t),r=t.pipelineContext,i=!!n.large,o=!!n.progressiveRender,s=n.large=!!(r&&r.large),u=n.progressiveRender=!!(r&&r.progressiveRender);return(i!==s||o!==u)&&"reset"}}var wte=Do(),RQe=xte(),nd=function(){function e(){this.group=new ws,this.uid=eT("viewChart"),this.renderTask=Q2({plan:DQe,reset:OQe}),this.renderTask.context={view:this}}return e.prototype.init=function(t,n){},e.prototype.render=function(t,n,r,i){},e.prototype.highlight=function(t,n,r,i){var o=t.getData(i&&i.dataType);o&&eU(o,i,"emphasis")},e.prototype.downplay=function(t,n,r,i){var o=t.getData(i&&i.dataType);o&&eU(o,i,"normal")},e.prototype.remove=function(t,n){this.group.removeAll()},e.prototype.dispose=function(t,n){},e.prototype.updateView=function(t,n,r,i){this.render(t,n,r,i)},e.prototype.updateLayout=function(t,n,r,i){this.render(t,n,r,i)},e.prototype.updateVisual=function(t,n,r,i){this.render(t,n,r,i)},e.prototype.eachRendered=function(t){MD(this.group,t)},e.markUpdateMethod=function(t,n){wte(t).updateMethod=n},e.protoInitialize=function(){var t=e.prototype;t.type="chart"}(),e}();function QH(e,t,n){e&&Wk(e)&&(t==="emphasis"?SC:CC)(e,n)}function eU(e,t,n){var r=T0(e,t),i=t&&t.highlightKey!=null?YZe(t.highlightKey):null;r!=null?Gt(Us(r),function(o){QH(e.getItemGraphicEl(o),n,i)}):e.eachItemGraphicEl(function(o){QH(o,n,i)})}dD(nd);j8(nd);function DQe(e){return RQe(e.model)}function OQe(e){var t=e.model,n=e.ecModel,r=e.api,i=e.payload,o=t.pipelineContext.progressiveRender,s=e.view,u=i&&wte(i).updateMethod,a=o?"incrementalPrepareRender":u&&s[u]?u:"render";return a!=="render"&&s[a](t,n,r,i),zQe[a]}var zQe={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},PC="\0__throttleOriginMethod",tU="\0__throttleRate",nU="\0__throttleType";function VD(e,t,n){var r,i=0,o=0,s=null,u,a,h,m;t=t||0;function v(){o=new Date().getTime(),s=null,e.apply(a,h||[])}var _=function(){for(var b=[],T=0;T<arguments.length;T++)b[T]=arguments[T];r=new Date().getTime(),a=this,h=b;var M=m||t,E=m||n;m=null,u=r-(E?i:o)-M,clearTimeout(s),E?s=setTimeout(v,M):u>=0?v():s=setTimeout(v,-u),i=r};return _.clear=function(){s&&(clearTimeout(s),s=null)},_.debounceNextCall=function(b){m=b},_}function Ste(e,t,n,r){var i=e[t];if(i){var o=i[PC]||i,s=i[nU],u=i[tU];if(u!==n||s!==r){if(n==null||!r)return e[t]=o;i=e[t]=VD(o,n,r==="debounce"),i[PC]=o,i[nU]=r,i[tU]=n}return i}}function nP(e,t){var n=e[t];n&&n[PC]&&(n.clear&&n.clear(),e[t]=n[PC])}var rU=Do(),iU={itemStyle:jx(zee,!0),lineStyle:jx(Oee,!0)},BQe={lineStyle:"stroke",itemStyle:"fill"};function Cte(e,t){var n=e.visualStyleMapper||iU[t];return n||(console.warn("Unknown style type '"+t+"'."),iU.itemStyle)}function Tte(e,t){var n=e.visualDrawType||BQe[t];return n||(console.warn("Unknown style type '"+t+"'."),"fill")}var FQe={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData(),r=e.visualStyleAccessPath||"itemStyle",i=e.getModel(r),o=Cte(e,r),s=o(i),u=i.getShallow("decal");u&&(n.setVisual("decal",u),u.dirty=!0);var a=Tte(e,r),h=s[a],m=Ai(h)?h:null,v=s.fill==="auto"||s.stroke==="auto";if(!s[a]||m||v){var _=e.getColorFromPalette(e.name,null,t.getSeriesCount());s[a]||(s[a]=_,n.setVisual("colorFromPalette",!0)),s.fill=s.fill==="auto"||Ai(s.fill)?_:s.fill,s.stroke=s.stroke==="auto"||Ai(s.stroke)?_:s.stroke}if(n.setVisual("style",s),n.setVisual("drawType",a),!t.isSeriesFiltered(e)&&m)return n.setVisual("colorFromPalette",!1),{dataEach:function(b,T){var M=e.getDataParams(T),E=vr({},s);E[a]=m(M),b.setItemVisual(T,"style",E)}}}},sb=new so,NQe={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!(e.ignoreStyleOnData||t.isSeriesFiltered(e))){var n=e.getData(),r=e.visualStyleAccessPath||"itemStyle",i=Cte(e,r),o=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(s,u){var a=s.getRawDataItem(u);if(a&&a[r]){sb.option=a[r];var h=i(sb),m=s.ensureUniqueItemVisual(u,"style");vr(m,h),sb.option.decal&&(s.setItemVisual(u,"decal",sb.option.decal),sb.option.decal.dirty=!0),o in h&&s.setItemVisual(u,"colorFromPalette",!1)}}:null}}}},$Qe={performRawSeries:!0,overallReset:function(e){var t=$i();e.eachSeries(function(n){var r=n.getColorBy();if(!n.isColorBySeries()){var i=n.type+"-"+r,o=t.get(i);o||(o={},t.set(i,o)),rU(n).scope=o}}),e.eachSeries(function(n){if(!(n.isColorBySeries()||e.isSeriesFiltered(n))){var r=n.getRawData(),i={},o=n.getData(),s=rU(n).scope,u=n.visualStyleAccessPath||"itemStyle",a=Tte(n,u);o.each(function(h){var m=o.getRawIndex(h);i[m]=h}),r.each(function(h){var m=i[h],v=o.getItemVisual(m,"colorFromPalette");if(v){var _=o.ensureUniqueItemVisual(m,"style"),b=r.getName(h)||h+"",T=r.count();_[a]=n.getColorFromPalette(b,s,T)}})}})}},m3=Math.PI;function VQe(e,t){t=t||{},_a(t,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new ws,r=new ts({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});n.add(r);var i=new gl({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),o=new ts({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});n.add(o);var s;return t.showSpinner&&(s=new J8({shape:{startAngle:-m3/2,endAngle:-m3/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),s.animateShape(!0).when(1e3,{endAngle:m3*3/2}).start("circularInOut"),s.animateShape(!0).when(1e3,{startAngle:m3*3/2}).delay(300).start("circularInOut"),n.add(s)),n.resize=function(){var u=i.getBoundingRect().width,a=t.showSpinner?t.spinnerRadius:0,h=(e.getWidth()-a*2-(t.showSpinner&&u?10:0)-u)/2-(t.showSpinner&&u?0:5+u/2)+(t.showSpinner?0:u/2)+(u?0:a),m=e.getHeight()/2;t.showSpinner&&s.setShape({cx:h,cy:m}),o.setShape({x:h-a,y:m-a,width:a*2,height:a*2}),r.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},n.resize(),n}var Mte=function(){function e(t,n,r,i){this._stageTaskMap=$i(),this.ecInstance=t,this.api=n,r=this._dataProcessorHandlers=r.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=r.concat(i)}return e.prototype.restoreData=function(t,n){t.restoreData(n),this._stageTaskMap.each(function(r){var i=r.overallTask;i&&i.dirty()})},e.prototype.getPerformArgs=function(t,n){if(t.__pipeline){var r=this._pipelineMap.get(t.__pipeline.id),i=r.context,o=!n&&r.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>r.blockIndex,s=o?r.step:null,u=i&&i.modDataCount,a=u!=null?Math.ceil(u/s):null;return{step:s,modBy:a,modDataCount:u}}},e.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},e.prototype.updateStreamModes=function(t,n){var r=this._pipelineMap.get(t.uid),i=t.getData(),o=i.count(),s=r.progressiveEnabled&&n.incrementalPrepareRender&&o>=r.threshold,u=t.get("large")&&o>=t.get("largeThreshold"),a=t.get("progressiveChunkMode")==="mod"?o:null;t.pipelineContext=r.context={progressiveRender:s,modDataCount:a,large:u}},e.prototype.restorePipelines=function(t){var n=this,r=n._pipelineMap=$i();t.eachSeries(function(i){var o=i.getProgressive(),s=i.uid;r.set(s,{id:s,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:o&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(o||700),count:0}),n._pipe(i,i.dataTask)})},e.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,n=this.api.getModel(),r=this.api;Gt(this._allHandlers,function(i){var o=t.get(i.uid)||t.set(i.uid,{}),s="";hh(!(i.reset&&i.overallReset),s),i.reset&&this._createSeriesStageTask(i,o,n,r),i.overallReset&&this._createOverallStageTask(i,o,n,r)},this)},e.prototype.prepareView=function(t,n,r,i){var o=t.renderTask,s=o.context;s.model=n,s.ecModel=r,s.api=i,o.__block=!t.incrementalPrepareRender,this._pipe(n,o)},e.prototype.performDataProcessorTasks=function(t,n){this._performStageTasks(this._dataProcessorHandlers,t,n,{block:!0})},e.prototype.performVisualTasks=function(t,n,r){this._performStageTasks(this._visualHandlers,t,n,r)},e.prototype._performStageTasks=function(t,n,r,i){i=i||{};var o=!1,s=this;Gt(t,function(a,h){if(!(i.visualType&&i.visualType!==a.visualType)){var m=s._stageTaskMap.get(a.uid),v=m.seriesTaskMap,_=m.overallTask;if(_){var b,T=_.agentStubMap;T.each(function(E){u(i,E)&&(E.dirty(),b=!0)}),b&&_.dirty(),s.updatePayload(_,r);var M=s.getPerformArgs(_,i.block);T.each(function(E){E.perform(M)}),_.perform(M)&&(o=!0)}else v&&v.each(function(E,k){u(i,E)&&E.dirty();var z=s.getPerformArgs(E,i.block);z.skip=!a.performRawSeries&&n.isSeriesFiltered(E.context.model),s.updatePayload(E,r),E.perform(z)&&(o=!0)})}});function u(a,h){return a.setDirty&&(!a.dirtyMap||a.dirtyMap.get(h.__pipeline.id))}this.unfinished=o||this.unfinished},e.prototype.performSeriesTasks=function(t){var n;t.eachSeries(function(r){n=r.dataTask.perform()||n}),this.unfinished=n||this.unfinished},e.prototype.plan=function(){this._pipelineMap.each(function(t){var n=t.tail;do{if(n.__block){t.blockIndex=n.__idxInPipeline;break}n=n.getUpstream()}while(n)})},e.prototype.updatePayload=function(t,n){n!=="remain"&&(t.context.payload=n)},e.prototype._createSeriesStageTask=function(t,n,r,i){var o=this,s=n.seriesTaskMap,u=n.seriesTaskMap=$i(),a=t.seriesType,h=t.getTargetSeries;t.createOnAllSeries?r.eachRawSeries(m):a?r.eachRawSeriesByType(a,m):h&&h(r,i).each(m);function m(v){var _=v.uid,b=u.set(_,s&&s.get(_)||Q2({plan:WQe,reset:qQe,count:YQe}));b.context={model:v,ecModel:r,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:o},o._pipe(v,b)}},e.prototype._createOverallStageTask=function(t,n,r,i){var o=this,s=n.overallTask=n.overallTask||Q2({reset:HQe});s.context={ecModel:r,api:i,overallReset:t.overallReset,scheduler:o};var u=s.agentStubMap,a=s.agentStubMap=$i(),h=t.seriesType,m=t.getTargetSeries,v=!0,_=!1,b="";hh(!t.createOnAllSeries,b),h?r.eachRawSeriesByType(h,T):m?m(r,i).each(T):(v=!1,Gt(r.getSeries(),T));function T(M){var E=M.uid,k=a.set(E,u&&u.get(E)||(_=!0,Q2({reset:UQe,onDirty:GQe})));k.context={model:M,overallProgress:v},k.agent=s,k.__block=v,o._pipe(M,k)}_&&s.dirty()},e.prototype._pipe=function(t,n){var r=t.uid,i=this._pipelineMap.get(r);!i.head&&(i.head=n),i.tail&&i.tail.pipe(n),i.tail=n,n.__idxInPipeline=i.count++,n.__pipeline=i},e.wrapStageHandler=function(t,n){return Ai(t)&&(t={overallReset:t,seriesType:ZQe(t)}),t.uid=eT("stageHandler"),n&&(t.visualType=n),t},e}();function HQe(e){e.overallReset(e.ecModel,e.api,e.payload)}function UQe(e){return e.overallProgress&&jQe}function jQe(){this.agent.dirty(),this.getDownstream().dirty()}function GQe(){this.agent&&this.agent.dirty()}function WQe(e){return e.plan?e.plan(e.model,e.ecModel,e.api,e.payload):null}function qQe(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=Us(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?xi(t,function(n,r){return Ete(r)}):KQe}var KQe=Ete(0);function Ete(e){return function(t,n){var r=n.data,i=n.resetDefines[e];if(i&&i.dataEach)for(var o=t.start;o<t.end;o++)i.dataEach(r,o);else i&&i.progress&&i.progress(t,r)}}function YQe(e){return e.data.count()}function ZQe(e){LC=null;try{e(Zx,Ate)}catch{}return LC}var Zx={},Ate={},LC;Ite(Zx,zD);Ite(Ate,nte);Zx.eachSeriesByType=Zx.eachRawSeriesByType=function(e){LC=e};Zx.eachComponent=function(e){e.mainType==="series"&&e.subType&&(LC=e.subType)};function Ite(e,t){for(var n in t.prototype)e[n]=fl}var aU=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const XQe={color:aU,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],aU]};var Os="#B9B8CE",oU="#100C2A",v3=function(){return{axisLine:{lineStyle:{color:Os}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},sU=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],kte={darkMode:!0,color:sU,backgroundColor:oU,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Os}},textStyle:{color:Os},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Os}},dataZoom:{borderColor:"#71708A",textStyle:{color:Os},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Os}},timeline:{lineStyle:{color:Os},label:{color:Os},controlStyle:{color:Os,borderColor:Os}},calendar:{itemStyle:{color:oU},dayLabel:{color:Os},monthLabel:{color:Os},yearLabel:{color:Os}},timeAxis:v3(),logAxis:v3(),valueAxis:v3(),categoryAxis:v3(),line:{symbol:"circle"},graph:{color:sU},gauge:{title:{color:Os},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Os},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};kte.categoryAxis.splitLine.show=!1;var JQe=function(){function e(){}return e.prototype.normalizeQuery=function(t){var n={},r={},i={};if(Zr(t)){var o=Jc(t);n.mainType=o.main||null,n.subType=o.sub||null}else{var s=["Index","Name","Id"],u={name:1,dataIndex:1,dataType:1};Gt(t,function(a,h){for(var m=!1,v=0;v<s.length;v++){var _=s[v],b=h.lastIndexOf(_);if(b>0&&b===h.length-_.length){var T=h.slice(0,b);T!=="data"&&(n.mainType=T,n[_.toLowerCase()]=a,m=!0)}}u.hasOwnProperty(h)&&(r[h]=a,m=!0),m||(i[h]=a)})}return{cptQuery:n,dataQuery:r,otherQuery:i}},e.prototype.filter=function(t,n){var r=this.eventInfo;if(!r)return!0;var i=r.targetEl,o=r.packedEvent,s=r.model,u=r.view;if(!s||!u)return!0;var a=n.cptQuery,h=n.dataQuery;return m(a,s,"mainType")&&m(a,s,"subType")&&m(a,s,"index","componentIndex")&&m(a,s,"name")&&m(a,s,"id")&&m(h,o,"name")&&m(h,o,"dataIndex")&&m(h,o,"dataType")&&(!u.filterForExposedEvent||u.filterForExposedEvent(t,n.otherQuery,i,o));function m(v,_,b,T){return v[b]==null||_[T||b]===v[b]}},e.prototype.afterTrigger=function(){this.eventInfo=null},e}(),rP=["symbol","symbolSize","symbolRotate","symbolOffset"],lU=rP.concat(["symbolKeepAspect"]),QQe={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData();if(e.legendIcon&&n.setVisual("legendIcon",e.legendIcon),!e.hasSymbolVisual)return;for(var r={},i={},o=!1,s=0;s<rP.length;s++){var u=rP[s],a=e.get(u);Ai(a)?(o=!0,i[u]=a):r[u]=a}if(r.symbol=r.symbol||e.defaultSymbol,n.setVisual(vr({legendIcon:e.legendIcon||r.symbol,symbolKeepAspect:e.get("symbolKeepAspect")},r)),t.isSeriesFiltered(e))return;var h=Xa(i);function m(v,_){for(var b=e.getRawValue(_),T=e.getDataParams(_),M=0;M<h.length;M++){var E=h[M];v.setItemVisual(_,E,i[E](b,T))}}return{dataEach:o?m:null}}},eet={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!e.hasSymbolVisual||t.isSeriesFiltered(e))return;var n=e.getData();function r(i,o){for(var s=i.getItemModel(o),u=0;u<lU.length;u++){var a=lU[u],h=s.getShallow(a,!0);h!=null&&i.setItemVisual(o,a,h)}}return{dataEach:n.hasItemOption?r:null}}};function tet(e,t,n){switch(n){case"color":var r=e.getItemVisual(t,"style");return r[e.getVisual("drawType")];case"opacity":return e.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getItemVisual(t,n)}}function net(e,t){switch(t){case"color":var n=e.getVisual("style");return n[e.getVisual("drawType")];case"opacity":return e.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getVisual(t)}}function hg(e,t,n,r,i){var o=e+t;n.isSilent(o)||r.eachComponent({mainType:"series",subType:"pie"},function(s){for(var u=s.seriesIndex,a=s.option.selectedMap,h=i.selected,m=0;m<h.length;m++)if(h[m].seriesIndex===u){var v=s.getData(),_=T0(v,i.fromActionPayload);n.trigger(o,{type:o,seriesId:s.id,name:zr(_)?v.getName(_[0]):v.getName(_),selected:Zr(a)?a:vr({},a)})}})}function ret(e,t,n){e.on("selectchanged",function(r){var i=n.getModel();r.isFromClick?(hg("map","selectchanged",t,i,r),hg("pie","selectchanged",t,i,r)):r.fromAction==="select"?(hg("map","selected",t,i,r),hg("pie","selected",t,i,r)):r.fromAction==="unselect"&&(hg("map","unselected",t,i,r),hg("pie","unselected",t,i,r))})}function kb(e,t,n){for(var r;e&&!(t(e)&&(r=e,n));)e=e.__hostTarget||e.parent;return r}var iet=Math.round(Math.random()*9),aet=typeof Object.defineProperty=="function",oet=function(){function e(){this._id="__ec_inner_"+iet++}return e.prototype.get=function(t){return this._guard(t)[this._id]},e.prototype.set=function(t,n){var r=this._guard(t);return aet?Object.defineProperty(r,this._id,{value:n,enumerable:!1,configurable:!0}):r[this._id]=n,this},e.prototype.delete=function(t){return this.has(t)?(delete this._guard(t)[this._id],!0):!1},e.prototype.has=function(t){return!!this._guard(t)[this._id]},e.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},e}(),set=Ba.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,r=t.cy,i=t.width/2,o=t.height/2;e.moveTo(n,r-o),e.lineTo(n+i,r+o),e.lineTo(n-i,r+o),e.closePath()}}),uet=Ba.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,r=t.cy,i=t.width/2,o=t.height/2;e.moveTo(n,r-o),e.lineTo(n+i,r),e.lineTo(n,r+o),e.lineTo(n-i,r),e.closePath()}}),cet=Ba.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,r=t.y,i=t.width/5*3,o=Math.max(i,t.height),s=i/2,u=s*s/(o-s),a=r-o+s+u,h=Math.asin(u/s),m=Math.cos(h)*s,v=Math.sin(h),_=Math.cos(h),b=s*.6,T=s*.7;e.moveTo(n-m,a+u),e.arc(n,a,s,Math.PI-h,Math.PI*2+h),e.bezierCurveTo(n+m-v*b,a+u+_*b,n,r-T,n,r),e.bezierCurveTo(n,r-T,n-m+v*b,a+u+_*b,n-m,a+u),e.closePath()}}),det=Ba.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.height,r=t.width,i=t.x,o=t.y,s=r/3*2;e.moveTo(i,o),e.lineTo(i+s,o+n),e.lineTo(i,o+n/4*3),e.lineTo(i-s,o+n),e.lineTo(i,o),e.closePath()}}),het={line:fp,rect:ts,roundRect:ts,square:ts,circle:Z8,diamond:uet,pin:cet,arrow:det,triangle:set},fet={line:function(e,t,n,r,i){i.x1=e,i.y1=t+r/2,i.x2=e+n,i.y2=t+r/2},rect:function(e,t,n,r,i){i.x=e,i.y=t,i.width=n,i.height=r},roundRect:function(e,t,n,r,i){i.x=e,i.y=t,i.width=n,i.height=r,i.r=Math.min(n,r)/4},square:function(e,t,n,r,i){var o=Math.min(n,r);i.x=e,i.y=t,i.width=o,i.height=o},circle:function(e,t,n,r,i){i.cx=e+n/2,i.cy=t+r/2,i.r=Math.min(n,r)/2},diamond:function(e,t,n,r,i){i.cx=e+n/2,i.cy=t+r/2,i.width=n,i.height=r},pin:function(e,t,n,r,i){i.x=e+n/2,i.y=t+r/2,i.width=n,i.height=r},arrow:function(e,t,n,r,i){i.x=e+n/2,i.y=t+r/2,i.width=n,i.height=r},triangle:function(e,t,n,r,i){i.cx=e+n/2,i.cy=t+r/2,i.width=n,i.height=r}},iP={};Gt(het,function(e,t){iP[t]=new e});var pet=Ba.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,n){var r=GQ(e,t,n),i=this.shape;return i&&i.symbolType==="pin"&&t.position==="inside"&&(r.y=n.y+n.height*.4),r},buildPath:function(e,t,n){var r=t.symbolType;if(r!=="none"){var i=iP[r];i||(r="rect",i=iP[r]),fet[r](t.x,t.y,t.width,t.height,i.shape),i.buildPath(e,i.shape,n)}}});function met(e,t){if(this.type!=="image"){var n=this.style;this.__isEmptyBrush?(n.stroke=e,n.fill=t||"#fff",n.lineWidth=2):this.shape.symbolType==="line"?n.stroke=e:n.fill=e,this.markRedraw()}}function C_(e,t,n,r,i,o,s){var u=e.indexOf("empty")===0;u&&(e=e.substr(5,1).toLowerCase()+e.substr(6));var a;return e.indexOf("image://")===0?a=Iee(e.slice(8),new ha(t,n,r,i),s?"center":"cover"):e.indexOf("path://")===0?a=wD(e.slice(7),{},new ha(t,n,r,i),s?"center":"cover"):a=new pet({shape:{symbolType:e,x:t,y:n,width:r,height:i}}),a.__isEmptyBrush=u,a.setColor=met,o&&a.setColor(o),a}function vet(e){return zr(e)||(e=[+e,+e]),[e[0]||0,e[1]||0]}function Pte(e,t){if(e!=null)return zr(e)||(e=[e,e]),[$s(e[0],t[0])||0,$s(Qi(e[1],e[0]),t[1])||0]}function Xm(e){return isFinite(e)}function get(e,t,n){var r=t.x==null?0:t.x,i=t.x2==null?1:t.x2,o=t.y==null?0:t.y,s=t.y2==null?0:t.y2;t.global||(r=r*n.width+n.x,i=i*n.width+n.x,o=o*n.height+n.y,s=s*n.height+n.y),r=Xm(r)?r:0,i=Xm(i)?i:1,o=Xm(o)?o:0,s=Xm(s)?s:0;var u=e.createLinearGradient(r,o,i,s);return u}function _et(e,t,n){var r=n.width,i=n.height,o=Math.min(r,i),s=t.x==null?.5:t.x,u=t.y==null?.5:t.y,a=t.r==null?.5:t.r;t.global||(s=s*r+n.x,u=u*i+n.y,a=a*o),s=Xm(s)?s:.5,u=Xm(u)?u:.5,a=a>=0&&Xm(a)?a:.5;var h=e.createRadialGradient(s,u,0,s,u,a);return h}function aP(e,t,n){for(var r=t.type==="radial"?_et(e,t,n):get(e,t,n),i=t.colorStops,o=0;o<i.length;o++)r.addColorStop(i[o].offset,i[o].color);return r}function yet(e,t){if(e===t||!e&&!t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!0;return!1}function g3(e){return parseInt(e,10)}function _3(e,t,n){var r=["width","height"][t],i=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],s=["paddingRight","paddingBottom"][t];if(n[r]!=null&&n[r]!=="auto")return parseFloat(n[r]);var u=document.defaultView.getComputedStyle(e);return(e[i]||g3(u[r])||g3(e.style[r]))-(g3(u[o])||0)-(g3(u[s])||0)|0}function bet(e,t){return!e||e==="solid"||!(t>0)?null:e==="dashed"?[4*t,2*t]:e==="dotted"?[t]:Ja(e)?[e]:zr(e)?e:null}function Lte(e){var t=e.style,n=t.lineDash&&t.lineWidth>0&&bet(t.lineDash,t.lineWidth),r=t.lineDashOffset;if(n){var i=t.strokeNoScale&&e.getLineScale?e.getLineScale():1;i&&i!==1&&(n=xi(n,function(o){return o/i}),r/=i)}return[n,r]}var xet=new M0(!0);function RC(e){var t=e.stroke;return!(t==null||t==="none"||!(e.lineWidth>0))}function uU(e){return typeof e=="string"&&e!=="none"}function DC(e){var t=e.fill;return t!=null&&t!=="none"}function cU(e,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var n=e.globalAlpha;e.globalAlpha=t.fillOpacity*t.opacity,e.fill(),e.globalAlpha=n}else e.fill()}function dU(e,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var n=e.globalAlpha;e.globalAlpha=t.strokeOpacity*t.opacity,e.stroke(),e.globalAlpha=n}else e.stroke()}function oP(e,t,n){var r=iee(t.image,t.__image,n);if(G8(r)){var i=e.createPattern(r,t.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var o=new DOMMatrix;o.translateSelf(t.x||0,t.y||0),o.rotateSelf(0,0,(t.rotation||0)*Yqe),o.scaleSelf(t.scaleX||1,t.scaleY||1),i.setTransform(o)}return i}}function wet(e,t,n,r){var i,o=RC(n),s=DC(n),u=n.strokePercent,a=u<1,h=!t.path;(!t.silent||a)&&h&&t.createPathProxy();var m=t.path||xet,v=t.__dirty;if(!r){var _=n.fill,b=n.stroke,T=s&&!!_.colorStops,M=o&&!!b.colorStops,E=s&&!!_.image,k=o&&!!b.image,z=void 0,B=void 0,U=void 0,W=void 0,q=void 0;(T||M)&&(q=t.getBoundingRect()),T&&(z=v?aP(e,_,q):t.__canvasFillGradient,t.__canvasFillGradient=z),M&&(B=v?aP(e,b,q):t.__canvasStrokeGradient,t.__canvasStrokeGradient=B),E&&(U=v||!t.__canvasFillPattern?oP(e,_,t):t.__canvasFillPattern,t.__canvasFillPattern=U),k&&(W=v||!t.__canvasStrokePattern?oP(e,b,t):t.__canvasStrokePattern,t.__canvasStrokePattern=U),T?e.fillStyle=z:E&&(U?e.fillStyle=U:s=!1),M?e.strokeStyle=B:k&&(W?e.strokeStyle=W:o=!1)}var Q=t.getGlobalScale();m.setScale(Q[0],Q[1],t.segmentIgnoreThreshold);var te,ie;e.setLineDash&&n.lineDash&&(i=Lte(t),te=i[0],ie=i[1]);var ae=!0;(h||v&wg)&&(m.setDPR(e.dpr),a?m.setContext(null):(m.setContext(e),ae=!1),m.reset(),t.buildPath(m,t.shape,r),m.toStatic(),t.pathUpdated()),ae&&m.rebuildPath(e,a?u:1),te&&(e.setLineDash(te),e.lineDashOffset=ie),r||(n.strokeFirst?(o&&dU(e,n),s&&cU(e,n)):(s&&cU(e,n),o&&dU(e,n))),te&&e.setLineDash([])}function Cet(e,t,n){var r=t.__image=iee(n.image,t.__image,t,t.onload);if(!(!r||!G8(r))){var i=n.x||0,o=n.y||0,s=t.getWidth(),u=t.getHeight(),a=r.width/r.height;if(s==null&&u!=null?s=u*a:u==null&&s!=null?u=s/a:s==null&&u==null&&(s=r.width,u=r.height),n.sWidth&&n.sHeight){var h=n.sx||0,m=n.sy||0;e.drawImage(r,h,m,n.sWidth,n.sHeight,i,o,s,u)}else if(n.sx&&n.sy){var h=n.sx,m=n.sy,v=s-h,_=u-m;e.drawImage(r,h,m,v,_,i,o,s,u)}else e.drawImage(r,i,o,s,u)}}function Tet(e,t,n){var r,i=n.text;if(i!=null&&(i+=""),i){e.font=n.font||S0,e.textAlign=n.textAlign,e.textBaseline=n.textBaseline;var o=void 0,s=void 0;e.setLineDash&&n.lineDash&&(r=Lte(t),o=r[0],s=r[1]),o&&(e.setLineDash(o),e.lineDashOffset=s),n.strokeFirst?(RC(n)&&e.strokeText(i,n.x,n.y),DC(n)&&e.fillText(i,n.x,n.y)):(DC(n)&&e.fillText(i,n.x,n.y),RC(n)&&e.strokeText(i,n.x,n.y)),o&&e.setLineDash([])}}var hU=["shadowBlur","shadowOffsetX","shadowOffsetY"],fU=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function Rte(e,t,n,r,i){var o=!1;if(!r&&(n=n||{},t===n))return!1;if(r||t.opacity!==n.opacity){ol(e,i),o=!0;var s=Math.max(Math.min(t.opacity,1),0);e.globalAlpha=isNaN(s)?o0.opacity:s}(r||t.blend!==n.blend)&&(o||(ol(e,i),o=!0),e.globalCompositeOperation=t.blend||o0.blend);for(var u=0;u<hU.length;u++){var a=hU[u];(r||t[a]!==n[a])&&(o||(ol(e,i),o=!0),e[a]=e.dpr*(t[a]||0))}return(r||t.shadowColor!==n.shadowColor)&&(o||(ol(e,i),o=!0),e.shadowColor=t.shadowColor||o0.shadowColor),o}function pU(e,t,n,r,i){var o=Xx(t,i.inHover),s=r?null:n&&Xx(n,i.inHover)||{};if(o===s)return!1;var u=Rte(e,o,s,r,i);if((r||o.fill!==s.fill)&&(u||(ol(e,i),u=!0),uU(o.fill)&&(e.fillStyle=o.fill)),(r||o.stroke!==s.stroke)&&(u||(ol(e,i),u=!0),uU(o.stroke)&&(e.strokeStyle=o.stroke)),(r||o.opacity!==s.opacity)&&(u||(ol(e,i),u=!0),e.globalAlpha=o.opacity==null?1:o.opacity),t.hasStroke()){var a=o.lineWidth,h=a/(o.strokeNoScale&&t.getLineScale?t.getLineScale():1);e.lineWidth!==h&&(u||(ol(e,i),u=!0),e.lineWidth=h)}for(var m=0;m<fU.length;m++){var v=fU[m],_=v[0];(r||o[_]!==s[_])&&(u||(ol(e,i),u=!0),e[_]=o[_]||v[1])}return u}function Met(e,t,n,r,i){return Rte(e,Xx(t,i.inHover),n&&Xx(n,i.inHover),r,i)}function Dte(e,t){var n=t.transform,r=e.dpr||1;n?e.setTransform(r*n[0],r*n[1],r*n[2],r*n[3],r*n[4],r*n[5]):e.setTransform(r,0,0,r,0,0)}function Eet(e,t,n){for(var r=!1,i=0;i<e.length;i++){var o=e[i];r=r||o.isZeroArea(),Dte(t,o),t.beginPath(),o.buildPath(t,o.shape),t.clip()}n.allClipped=r}function Aet(e,t){return e&&t?e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||e[4]!==t[4]||e[5]!==t[5]:!(!e&&!t)}var mU=1,vU=2,gU=3,_U=4;function Iet(e){var t=DC(e),n=RC(e);return!(e.lineDash||!(+t^+n)||t&&typeof e.fill!="string"||n&&typeof e.stroke!="string"||e.strokePercent<1||e.strokeOpacity<1||e.fillOpacity<1)}function ol(e,t){t.batchFill&&e.fill(),t.batchStroke&&e.stroke(),t.batchFill="",t.batchStroke=""}function Xx(e,t){return t&&e.__hoverStyle||e.style}function Ote(e,t){Jm(e,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Jm(e,t,n,r){var i=t.transform;if(!t.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1)){t.__dirty&=~Ol,t.__isRendered=!1;return}var o=t.__clipPaths,s=n.prevElClipPaths,u=!1,a=!1;if((!s||yet(o,s))&&(s&&s.length&&(ol(e,n),e.restore(),a=u=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),o&&o.length&&(ol(e,n),e.save(),Eet(o,e,n),u=!0),n.prevElClipPaths=o),n.allClipped){t.__isRendered=!1;return}t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var h=n.prevEl;h||(a=u=!0);var m=t instanceof Ba&&t.autoBatch&&Iet(t.style);u||Aet(i,h.transform)?(ol(e,n),Dte(e,t)):m||ol(e,n);var v=Xx(t,n.inHover);t instanceof Ba?(n.lastDrawType!==mU&&(a=!0,n.lastDrawType=mU),pU(e,t,h,a,n),(!m||!n.batchFill&&!n.batchStroke)&&e.beginPath(),wet(e,t,v,m),m&&(n.batchFill=v.fill||"",n.batchStroke=v.stroke||"")):t instanceof wC?(n.lastDrawType!==gU&&(a=!0,n.lastDrawType=gU),pU(e,t,h,a,n),Tet(e,t,v)):t instanceof wp?(n.lastDrawType!==vU&&(a=!0,n.lastDrawType=vU),Met(e,t,h,a,n),Cet(e,t,v)):t.getTemporalDisplayables&&(n.lastDrawType!==_U&&(a=!0,n.lastDrawType=_U),ket(e,t,n)),m&&r&&ol(e,n),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),n.prevEl=t,t.__dirty=0,t.__isRendered=!0}function ket(e,t,n){var r=t.getDisplayables(),i=t.getTemporalDisplayables();e.save();var o={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover},s,u;for(s=t.getCursor(),u=r.length;s<u;s++){var a=r[s];a.beforeBrush&&a.beforeBrush(),a.innerBeforeBrush(),Jm(e,a,o,s===u-1),a.innerAfterBrush(),a.afterBrush&&a.afterBrush(),o.prevEl=a}for(var h=0,m=i.length;h<m;h++){var a=i[h];a.beforeBrush&&a.beforeBrush(),a.innerBeforeBrush(),Jm(e,a,o,h===m-1),a.innerAfterBrush(),a.afterBrush&&a.afterBrush(),o.prevEl=a}t.clearTemporalDisplayables(),t.notClear=!0,e.restore()}var tA=new oet,yU=new Cw(100),bU=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function sP(e,t){if(e==="none")return null;var n=t.getDevicePixelRatio(),r=t.getZr(),i=r.painter.type==="svg";e.dirty&&tA.delete(e);var o=tA.get(e);if(o)return o;var s=_a(e,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});s.backgroundColor==="none"&&(s.backgroundColor=null);var u={repeat:"repeat"};return a(u),u.rotation=s.rotation,u.scaleX=u.scaleY=i?1:1/n,tA.set(e,u),e.dirty=!1,u;function a(h){for(var m=[n],v=!0,_=0;_<bU.length;++_){var b=s[bU[_]];if(b!=null&&!zr(b)&&!Zr(b)&&!Ja(b)&&typeof b!="boolean"){v=!1;break}m.push(b)}var T;if(v){T=m.join(",")+(i?"-svg":"");var M=yU.get(T);M&&(i?h.svgElement=M:h.image=M)}var E=Bte(s.dashArrayX),k=Pet(s.dashArrayY),z=zte(s.symbol),B=Let(E),U=Fte(k),W=!i&&j_.createCanvas(),q=i&&{tag:"g",attrs:{},key:"dcl",children:[]},Q=ie(),te;W&&(W.width=Q.width*n,W.height=Q.height*n,te=W.getContext("2d")),ae(),v&&yU.put(T,W||q),h.image=W,h.svgElement=q,h.svgWidth=Q.width,h.svgHeight=Q.height;function ie(){for(var re=1,se=0,be=B.length;se<be;++se)re=LV(re,B[se]);for(var Ie=1,se=0,be=z.length;se<be;++se)Ie=LV(Ie,z[se].length);re*=Ie;var Se=U*B.length*z.length;return{width:Math.max(1,Math.min(re,s.maxTileWidth)),height:Math.max(1,Math.min(Se,s.maxTileHeight))}}function ae(){te&&(te.clearRect(0,0,W.width,W.height),s.backgroundColor&&(te.fillStyle=s.backgroundColor,te.fillRect(0,0,W.width,W.height)));for(var re=0,se=0;se<k.length;++se)re+=k[se];if(re<=0)return;for(var be=-U,Ie=0,Se=0,me=0;be<Q.height;){if(Ie%2===0){for(var Le=Se/2%z.length,Ee=0,_e=0,xe=0;Ee<Q.width*2;){for(var Be=0,se=0;se<E[me].length;++se)Be+=E[me][se];if(Be<=0)break;if(_e%2===0){var Je=(1-s.symbolSize)*.5,Ye=Ee+E[me][_e]*Je,lt=be+k[Ie]*Je,Nt=E[me][_e]*s.symbolSize,Dt=k[Ie]*s.symbolSize,je=xe/2%z[Le].length;Ct(Ye,lt,Nt,Dt,z[Le][je])}Ee+=E[me][_e],++xe,++_e,_e===E[me].length&&(_e=0)}++me,me===E.length&&(me=0)}be+=k[Ie],++Se,++Ie,Ie===k.length&&(Ie=0)}function Ct(vt,Vt,Re,pt,Ne){var et=i?1:n,Ze=C_(Ne,vt*et,Vt*et,Re*et,pt*et,s.color,s.symbolKeepAspect);if(i){var nn=r.painter.renderOneToVNode(Ze);nn&&q.children.push(nn)}else Ote(te,Ze)}}}}function zte(e){if(!e||e.length===0)return[["rect"]];if(Zr(e))return[[e]];for(var t=!0,n=0;n<e.length;++n)if(!Zr(e[n])){t=!1;break}if(t)return zte([e]);for(var r=[],n=0;n<e.length;++n)Zr(e[n])?r.push([e[n]]):r.push(e[n]);return r}function Bte(e){if(!e||e.length===0)return[[0,0]];if(Ja(e)){var t=Math.ceil(e);return[[t,t]]}for(var n=!0,r=0;r<e.length;++r)if(!Ja(e[r])){n=!1;break}if(n)return Bte([e]);for(var i=[],r=0;r<e.length;++r)if(Ja(e[r])){var t=Math.ceil(e[r]);i.push([t,t])}else{var t=xi(e[r],function(u){return Math.ceil(u)});t.length%2===1?i.push(t.concat(t)):i.push(t)}return i}function Pet(e){if(!e||typeof e=="object"&&e.length===0)return[0,0];if(Ja(e)){var t=Math.ceil(e);return[t,t]}var n=xi(e,function(r){return Math.ceil(r)});return e.length%2?n.concat(n):n}function Let(e){return xi(e,function(t){return Fte(t)})}function Fte(e){for(var t=0,n=0;n<e.length;++n)t+=e[n];return e.length%2===1?t*2:t}function Ret(e,t){e.eachRawSeries(function(n){if(!e.isSeriesFiltered(n)){var r=n.getData();r.hasItemVisual()&&r.each(function(s){var u=r.getItemVisual(s,"decal");if(u){var a=r.ensureUniqueItemVisual(s,"style");a.decal=sP(u,t)}});var i=r.getVisual("decal");if(i){var o=r.getVisual("style");o.decal=sP(i,t)}}})}var nc=new _d,Nte={};function Det(e,t){Nte[e]=t}function Oet(e){return Nte[e]}var zet=1,Bet=800,Fet=900,Net=1e3,$et=2e3,Vet=5e3,$te=1e3,Het=1100,HD=2e3,Vte=3e3,Uet=4e3,cT=4500,jet=4600,Get=5e3,Wet=6e3,Hte=7e3,qet={PROCESSOR:{FILTER:Net,SERIES_FILTER:Bet,STATISTIC:Vet},VISUAL:{LAYOUT:$te,PROGRESSIVE_LAYOUT:Het,GLOBAL:HD,CHART:Vte,POST_CHART_LAYOUT:jet,COMPONENT:Uet,BRUSH:Get,CHART_ITEM:cT,ARIA:Wet,DECAL:Hte}},ds="__flagInMainProcess",nl="__pendingUpdate",nA="__needsUpdateStatus",xU=/^[a-zA-Z0-9_]+$/,rA="__connectUpdateStatus",wU=0,Ket=1,Yet=2;function Ute(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this.isDisposed()){this.id;return}return Gte(this,e,t)}}function jte(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Gte(this,e,t)}}function Gte(e,t,n){return n[0]=n[0]&&n[0].toLowerCase(),_d.prototype[t].apply(e,n)}var Wte=function(e){Pr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(_d),qte=Wte.prototype;qte.on=jte("on");qte.off=jte("off");var fg,iA,y3,Mf,aA,oA,sA,lb,ub,SU,CU,lA,TU,b3,MU,Kte,ou,EU,Yte=function(e){Pr(t,e);function t(n,r,i){var o=e.call(this,new JQe)||this;o._chartsViews=[],o._chartsMap={},o._componentsViews=[],o._componentsMap={},o._pendingActions=[],i=i||{},Zr(r)&&(r=Zte[r]),o._dom=n;var s="canvas",u="auto",a=!1;i.ssr;var h=o._zr=IV(n,{renderer:i.renderer||s,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:Qi(i.useDirtyRect,a),useCoarsePointer:Qi(i.useCoarsePointer,u),pointerSize:i.pointerSize});o._ssr=i.ssr,o._throttledZrFlush=VD(io(h.flush,h),17),r=na(r),r&&ite(r,!0),o._theme=r,o._locale=oJe(i.locale||Bee),o._coordSysMgr=new BD;var m=o._api=MU(o);function v(_,b){return _.__prio-b.__prio}return cS(zC,v),cS(lP,v),o._scheduler=new Mte(o,m,lP,zC),o._messageCenter=new Wte,o._initEvents(),o.resize=io(o.resize,o),h.animation.on("frame",o._onframe,o),SU(h,o),CU(h,o),Sk(o),o}return t.prototype._onframe=function(){if(!this._disposed){EU(this);var n=this._scheduler;if(this[nl]){var r=this[nl].silent;this[ds]=!0;try{fg(this),Mf.update.call(this,null,this[nl].updateParams)}catch(a){throw this[ds]=!1,this[nl]=null,a}this._zr.flush(),this[ds]=!1,this[nl]=null,lb.call(this,r),ub.call(this,r)}else if(n.unfinished){var i=zet,o=this._model,s=this._api;n.unfinished=!1;do{var u=+new Date;n.performSeriesTasks(o),n.performDataProcessorTasks(o),oA(this,o),n.performVisualTasks(o),b3(this,this._model,s,"remain",{}),i-=+new Date-u}while(i>0&&n.unfinished);n.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(n,r,i){if(!this[ds]){if(this._disposed){this.id;return}var o,s,u;if(oi(r)&&(i=r.lazyUpdate,o=r.silent,s=r.replaceMerge,u=r.transition,r=r.notMerge),this[ds]=!0,!this._model||r){var a=new RJe(this._api),h=this._theme,m=this._model=new zD;m.scheduler=this._scheduler,m.ssr=this._ssr,m.init(null,null,null,h,this._locale,a)}this._model.setOption(n,{replaceMerge:s},uP);var v={seriesTransition:u,optionChanged:!0};if(i)this[nl]={silent:o,updateParams:v},this[ds]=!1,this.getZr().wakeUp();else{try{fg(this),Mf.update.call(this,null,v)}catch(_){throw this[nl]=null,this[ds]=!1,_}this._ssr||this._zr.flush(),this[nl]=null,this[ds]=!1,lb.call(this,o),ub.call(this,o)}}},t.prototype.setTheme=function(){},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Si.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(n){return this.renderToCanvas(n)},t.prototype.renderToCanvas=function(n){n=n||{};var r=this._zr.painter;return r.getRenderedCanvas({backgroundColor:n.backgroundColor||this._model.get("backgroundColor"),pixelRatio:n.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(n){n=n||{};var r=this._zr.painter;return r.renderToString({useViewBox:n.useViewBox})},t.prototype.getSvgDataURL=function(){if(Si.svgSupported){var n=this._zr,r=n.storage.getDisplayList();return Gt(r,function(i){i.stopAnimation(null,!0)}),n.painter.toDataURL()}},t.prototype.getDataURL=function(n){if(this._disposed){this.id;return}n=n||{};var r=n.excludeComponents,i=this._model,o=[],s=this;Gt(r,function(a){i.eachComponent({mainType:a},function(h){var m=s._componentsMap[h.__viewId];m.group.ignore||(o.push(m),m.group.ignore=!0)})});var u=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(n).toDataURL("image/"+(n&&n.type||"png"));return Gt(o,function(a){a.group.ignore=!1}),u},t.prototype.getConnectedDataURL=function(n){if(this._disposed){this.id;return}var r=n.type==="svg",i=this.group,o=Math.min,s=Math.max,u=1/0;if(AU[i]){var a=u,h=u,m=-u,v=-u,_=[],b=n&&n.pixelRatio||this.getDevicePixelRatio();Gt(tx,function(B,U){if(B.group===i){var W=r?B.getZr().painter.getSvgDom().innerHTML:B.renderToCanvas(na(n)),q=B.getDom().getBoundingClientRect();a=o(q.left,a),h=o(q.top,h),m=s(q.right,m),v=s(q.bottom,v),_.push({dom:W,left:q.left,top:q.top})}}),a*=b,h*=b,m*=b,v*=b;var T=m-a,M=v-h,E=j_.createCanvas(),k=IV(E,{renderer:r?"svg":"canvas"});if(k.resize({width:T,height:M}),r){var z="";return Gt(_,function(B){var U=B.left-a,W=B.top-h;z+='<g transform="translate('+U+","+W+')">'+B.dom+"</g>"}),k.painter.getSvgRoot().innerHTML=z,n.connectedBackgroundColor&&k.painter.setBackgroundColor(n.connectedBackgroundColor),k.refreshImmediately(),k.painter.toDataURL()}else return n.connectedBackgroundColor&&k.add(new ts({shape:{x:0,y:0,width:T,height:M},style:{fill:n.connectedBackgroundColor}})),Gt(_,function(B){var U=new wp({style:{x:B.left*b-a,y:B.top*b-h,image:B.dom}});k.add(U)}),k.refreshImmediately(),E.toDataURL("image/"+(n&&n.type||"png"))}else return this.getDataURL(n)},t.prototype.convertToPixel=function(n,r){return aA(this,"convertToPixel",n,r)},t.prototype.convertFromPixel=function(n,r){return aA(this,"convertFromPixel",n,r)},t.prototype.containPixel=function(n,r){if(this._disposed){this.id;return}var i=this._model,o,s=AE(i,n);return Gt(s,function(u,a){a.indexOf("Models")>=0&&Gt(u,function(h){var m=h.coordinateSystem;if(m&&m.containPoint)o=o||!!m.containPoint(r);else if(a==="seriesModels"){var v=this._chartsMap[h.__viewId];v&&v.containPoint&&(o=o||v.containPoint(r,h))}},this)},this),!!o},t.prototype.getVisual=function(n,r){var i=this._model,o=AE(i,n,{defaultMainType:"series"}),s=o.seriesModel,u=s.getData(),a=o.hasOwnProperty("dataIndexInside")?o.dataIndexInside:o.hasOwnProperty("dataIndex")?u.indexOfRawIndex(o.dataIndex):null;return a!=null?tet(u,a,r):net(u,r)},t.prototype.getViewOfComponentModel=function(n){return this._componentsMap[n.__viewId]},t.prototype.getViewOfSeriesModel=function(n){return this._chartsMap[n.__viewId]},t.prototype._initEvents=function(){var n=this;Gt(Zet,function(r){var i=function(o){var s=n.getModel(),u=o.target,a,h=r==="globalout";if(h?a={}:u&&kb(u,function(T){var M=Da(T);if(M&&M.dataIndex!=null){var E=M.dataModel||s.getSeriesByIndex(M.seriesIndex);return a=E&&E.getDataParams(M.dataIndex,M.dataType,u)||{},!0}else if(M.eventData)return a=vr({},M.eventData),!0},!0),a){var m=a.componentType,v=a.componentIndex;(m==="markLine"||m==="markPoint"||m==="markArea")&&(m="series",v=a.seriesIndex);var _=m&&v!=null&&s.getComponent(m,v),b=_&&n[_.mainType==="series"?"_chartsMap":"_componentsMap"][_.__viewId];a.event=o,a.type=r,n._$eventProcessor.eventInfo={targetEl:u,packedEvent:a,model:_,view:b},n.trigger(r,a)}};i.zrEventfulCallAtLast=!0,n._zr.on(r,i,n)}),Gt(ex,function(r,i){n._messageCenter.on(i,function(o){this.trigger(i,o)},n)}),Gt(["selectchanged"],function(r){n._messageCenter.on(r,function(i){this.trigger(r,i)},n)}),ret(this._messageCenter,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var n=this.getDom();n&&tee(this.getDom(),jD,"");var r=this,i=r._api,o=r._model;Gt(r._componentsViews,function(s){s.dispose(o,i)}),Gt(r._chartsViews,function(s){s.dispose(o,i)}),r._zr.dispose(),r._dom=r._model=r._chartsMap=r._componentsMap=r._chartsViews=r._componentsViews=r._scheduler=r._api=r._zr=r._throttledZrFlush=r._theme=r._coordSysMgr=r._messageCenter=null,delete tx[r.id]},t.prototype.resize=function(n){if(!this[ds]){if(this._disposed){this.id;return}this._zr.resize(n);var r=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!r){var i=r.resetOption("media"),o=n&&n.silent;this[nl]&&(o==null&&(o=this[nl].silent),i=!0,this[nl]=null),this[ds]=!0;try{i&&fg(this),Mf.update.call(this,{type:"resize",animation:vr({duration:0},n&&n.animation)})}catch(s){throw this[ds]=!1,s}this[ds]=!1,lb.call(this,o),ub.call(this,o)}}},t.prototype.showLoading=function(n,r){if(this._disposed){this.id;return}if(oi(n)&&(r=n,n=""),n=n||"default",this.hideLoading(),!!cP[n]){var i=cP[n](this._api,r),o=this._zr;this._loadingFX=i,o.add(i)}},t.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},t.prototype.makeActionFromEvent=function(n){var r=vr({},n);return r.type=ex[n.type],r},t.prototype.dispatchAction=function(n,r){if(this._disposed){this.id;return}if(oi(r)||(r={silent:!!r}),!!OC[n.type]&&this._model){if(this[ds]){this._pendingActions.push(n);return}var i=r.silent;sA.call(this,n,i);var o=r.flush;o?this._zr.flush():o!==!1&&Si.browser.weChat&&this._throttledZrFlush(),lb.call(this,i),ub.call(this,i)}},t.prototype.updateLabelLayout=function(){nc.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(n){if(this._disposed){this.id;return}var r=n.seriesIndex,i=this.getModel(),o=i.getSeriesByIndex(r);o.appendData(n),this._scheduler.unfinished=!0,this.getZr().wakeUp()},t.internalField=function(){fg=function(v){var _=v._scheduler;_.restorePipelines(v._model),_.prepareStageTasks(),iA(v,!0),iA(v,!1),_.plan()},iA=function(v,_){for(var b=v._model,T=v._scheduler,M=_?v._componentsViews:v._chartsViews,E=_?v._componentsMap:v._chartsMap,k=v._zr,z=v._api,B=0;B<M.length;B++)M[B].__alive=!1;_?b.eachComponent(function(q,Q){q!=="series"&&U(Q)}):b.eachSeries(U);function U(q){var Q=q.__requireNewView;q.__requireNewView=!1;var te="_ec_"+q.id+"_"+q.type,ie=!Q&&E[te];if(!ie){var ae=Jc(q.type),re=_?ld.getClass(ae.main,ae.sub):nd.getClass(ae.sub);ie=new re,ie.init(b,z),E[te]=ie,M.push(ie),k.add(ie.group)}q.__viewId=ie.__id=te,ie.__alive=!0,ie.__model=q,ie.group.__ecComponentInfo={mainType:q.mainType,index:q.componentIndex},!_&&T.prepareView(ie,q,b,z)}for(var B=0;B<M.length;){var W=M[B];W.__alive?B++:(!_&&W.renderTask.dispose(),k.remove(W.group),W.dispose(b,z),M.splice(B,1),E[W.__id]===W&&delete E[W.__id],W.__id=W.group.__ecComponentInfo=null)}},y3=function(v,_,b,T,M){var E=v._model;if(E.setUpdatePayload(b),!T){Gt([].concat(v._componentsViews).concat(v._chartsViews),W);return}var k={};k[T+"Id"]=b[T+"Id"],k[T+"Index"]=b[T+"Index"],k[T+"Name"]=b[T+"Name"];var z={mainType:T,query:k};M&&(z.subType=M);var B=b.excludeSeriesId,U;B!=null&&(U=$i(),Gt(Us(B),function(q){var Q=td(q,null);Q!=null&&U.set(Q,!0)})),E&&E.eachComponent(z,function(q){var Q=U&&U.get(q.id)!=null;if(!Q)if(lH(b))if(q instanceof mp)b.type===s0&&!b.notBlur&&!q.get(["emphasis","disabled"])&&VZe(q,b,v._api);else{var te=mD(q.mainType,q.componentIndex,b.name,v._api),ie=te.focusSelf,ae=te.dispatchers;b.type===s0&&ie&&!b.notBlur&&Uk(q.mainType,q.componentIndex,v._api),ae&&Gt(ae,function(re){b.type===s0?SC(re):CC(re)})}else qk(b)&&q instanceof mp&&(jZe(q,b,v._api),aH(q),ou(v))},v),E&&E.eachComponent(z,function(q){var Q=U&&U.get(q.id)!=null;Q||W(v[T==="series"?"_chartsMap":"_componentsMap"][q.__viewId])},v);function W(q){q&&q.__alive&&q[_]&&q[_](q.__model,E,v._api,b)}},Mf={prepareAndUpdate:function(v){fg(this),Mf.update.call(this,v,{optionChanged:v.newOption!=null})},update:function(v,_){var b=this._model,T=this._api,M=this._zr,E=this._coordSysMgr,k=this._scheduler;if(b){b.setUpdatePayload(v),k.restoreData(b,v),k.performSeriesTasks(b),E.create(b,T),k.performDataProcessorTasks(b,v),oA(this,b),E.update(b,T),n(b),k.performVisualTasks(b,v),lA(this,b,T,v,_);var z=b.get("backgroundColor")||"transparent",B=b.get("darkMode");M.setBackgroundColor(z),B!=null&&B!=="auto"&&M.setDarkMode(B),nc.trigger("afterupdate",b,T)}},updateTransform:function(v){var _=this,b=this._model,T=this._api;if(b){b.setUpdatePayload(v);var M=[];b.eachComponent(function(k,z){if(k!=="series"){var B=_.getViewOfComponentModel(z);if(B&&B.__alive)if(B.updateTransform){var U=B.updateTransform(z,b,T,v);U&&U.update&&M.push(B)}else M.push(B)}});var E=$i();b.eachSeries(function(k){var z=_._chartsMap[k.__viewId];if(z.updateTransform){var B=z.updateTransform(k,b,T,v);B&&B.update&&E.set(k.uid,1)}else E.set(k.uid,1)}),n(b),this._scheduler.performVisualTasks(b,v,{setDirty:!0,dirtyMap:E}),b3(this,b,T,v,{},E),nc.trigger("afterupdate",b,T)}},updateView:function(v){var _=this._model;_&&(_.setUpdatePayload(v),nd.markUpdateMethod(v,"updateView"),n(_),this._scheduler.performVisualTasks(_,v,{setDirty:!0}),lA(this,_,this._api,v,{}),nc.trigger("afterupdate",_,this._api))},updateVisual:function(v){var _=this,b=this._model;b&&(b.setUpdatePayload(v),b.eachSeries(function(T){T.getData().clearAllVisual()}),nd.markUpdateMethod(v,"updateVisual"),n(b),this._scheduler.performVisualTasks(b,v,{visualType:"visual",setDirty:!0}),b.eachComponent(function(T,M){if(T!=="series"){var E=_.getViewOfComponentModel(M);E&&E.__alive&&E.updateVisual(M,b,_._api,v)}}),b.eachSeries(function(T){var M=_._chartsMap[T.__viewId];M.updateVisual(T,b,_._api,v)}),nc.trigger("afterupdate",b,this._api))},updateLayout:function(v){Mf.update.call(this,v)}},aA=function(v,_,b,T){if(v._disposed){v.id;return}for(var M=v._model,E=v._coordSysMgr.getCoordinateSystems(),k,z=AE(M,b),B=0;B<E.length;B++){var U=E[B];if(U[_]&&(k=U[_](M,z,T))!=null)return k}},oA=function(v,_){var b=v._chartsMap,T=v._scheduler;_.eachSeries(function(M){T.updateStreamModes(M,b[M.__viewId])})},sA=function(v,_){var b=this,T=this.getModel(),M=v.type,E=v.escapeConnect,k=OC[M],z=k.actionInfo,B=(z.update||"update").split(":"),U=B.pop(),W=B[0]!=null&&Jc(B[0]);this[ds]=!0;var q=[v],Q=!1;v.batch&&(Q=!0,q=xi(v.batch,function(Ie){return Ie=_a(vr({},Ie),v),Ie.batch=null,Ie}));var te=[],ie,ae=qk(v),re=lH(v);if(re&&bee(this._api),Gt(q,function(Ie){if(ie=k.action(Ie,b._model,b._api),ie=ie||vr({},Ie),ie.type=z.event||ie.type,te.push(ie),re){var Se=cD(v),me=Se.queryOptionMap,Le=Se.mainTypeSpecified,Ee=Le?me.keys()[0]:"series";y3(b,U,Ie,Ee),ou(b)}else ae?(y3(b,U,Ie,"series"),ou(b)):W&&y3(b,U,Ie,W.main,W.sub)}),U!=="none"&&!re&&!ae&&!W)try{this[nl]?(fg(this),Mf.update.call(this,v),this[nl]=null):Mf[U].call(this,v)}catch(Ie){throw this[ds]=!1,Ie}if(Q?ie={type:z.event||M,escapeConnect:E,batch:te}:ie=te[0],this[ds]=!1,!_){var se=this._messageCenter;if(se.trigger(ie.type,ie),ae){var be={type:"selectchanged",escapeConnect:E,selected:GZe(T),isFromClick:v.isFromClick||!1,fromAction:v.type,fromActionPayload:v};se.trigger(be.type,be)}}},lb=function(v){for(var _=this._pendingActions;_.length;){var b=_.shift();sA.call(this,b,v)}},ub=function(v){!v&&this.trigger("updated")},SU=function(v,_){v.on("rendered",function(b){_.trigger("rendered",b),v.animation.isFinished()&&!_[nl]&&!_._scheduler.unfinished&&!_._pendingActions.length&&_.trigger("finished")})},CU=function(v,_){v.on("mouseover",function(b){var T=b.target,M=kb(T,Wk);M&&(HZe(M,b,_._api),ou(_))}).on("mouseout",function(b){var T=b.target,M=kb(T,Wk);M&&(UZe(M,b,_._api),ou(_))}).on("click",function(b){var T=b.target,M=kb(T,function(z){return Da(z).dataIndex!=null},!0);if(M){var E=M.selected?"unselect":"select",k=Da(M);_._api.dispatchAction({type:E,dataType:k.dataType,dataIndexInside:k.dataIndex,seriesIndex:k.seriesIndex,isFromClick:!0})}})};function n(v){v.clearColorPalette(),v.eachSeries(function(_){_.clearColorPalette()})}function r(v){var _=[],b=[],T=!1;if(v.eachComponent(function(z,B){var U=B.get("zlevel")||0,W=B.get("z")||0,q=B.getZLevelKey();T=T||!!q,(z==="series"?b:_).push({zlevel:U,z:W,idx:B.componentIndex,type:z,key:q})}),T){var M=_.concat(b),E,k;cS(M,function(z,B){return z.zlevel===B.zlevel?z.z-B.z:z.zlevel-B.zlevel}),Gt(M,function(z){var B=v.getComponent(z.type,z.idx),U=z.zlevel,W=z.key;E!=null&&(U=Math.max(E,U)),W?(U===E&&W!==k&&U++,k=W):k&&(U===E&&U++,k=""),E=U,B.setZLevel(U)})}}lA=function(v,_,b,T,M){r(_),TU(v,_,b,T,M),Gt(v._chartsViews,function(E){E.__alive=!1}),b3(v,_,b,T,M),Gt(v._chartsViews,function(E){E.__alive||E.remove(_,b)})},TU=function(v,_,b,T,M,E){Gt(E||v._componentsViews,function(k){var z=k.__model;h(z,k),k.render(z,_,b,T),u(z,k),m(z,k)})},b3=function(v,_,b,T,M,E){var k=v._scheduler;M=vr(M||{},{updatedSeries:_.getSeries()}),nc.trigger("series:beforeupdate",_,b,M);var z=!1;_.eachSeries(function(B){var U=v._chartsMap[B.__viewId];U.__alive=!0;var W=U.renderTask;k.updatePayload(W,T),h(B,U),E&&E.get(B.uid)&&W.dirty(),W.perform(k.getPerformArgs(W))&&(z=!0),U.group.silent=!!B.get("silent"),s(B,U),aH(B)}),k.unfinished=z||k.unfinished,nc.trigger("series:layoutlabels",_,b,M),nc.trigger("series:transition",_,b,M),_.eachSeries(function(B){var U=v._chartsMap[B.__viewId];u(B,U),m(B,U)}),o(v,_),nc.trigger("series:afterupdate",_,b,M)},ou=function(v){v[nA]=!0,v.getZr().wakeUp()},EU=function(v){v[nA]&&(v.getZr().storage.traverse(function(_){Z2(_)||i(_)}),v[nA]=!1)};function i(v){for(var _=[],b=v.currentStates,T=0;T<b.length;T++){var M=b[T];M==="emphasis"||M==="blur"||M==="select"||_.push(M)}v.selected&&v.states.select&&_.push("select"),v.hoverState===K8&&v.states.emphasis?_.push("emphasis"):v.hoverState===q8&&v.states.blur&&_.push("blur"),v.useStates(_)}function o(v,_){var b=v._zr,T=b.storage,M=0;T.traverse(function(E){E.isGroup||M++}),M>_.get("hoverLayerThreshold")&&!Si.node&&!Si.worker&&_.eachSeries(function(E){if(!E.preventUsingHoverLayer){var k=v._chartsMap[E.__viewId];k.__alive&&k.eachRendered(function(z){z.states.emphasis&&(z.states.emphasis.hoverLayer=!0)})}})}function s(v,_){var b=v.get("blendMode")||null;_.eachRendered(function(T){T.isGroup||(T.style.blend=b)})}function u(v,_){if(!v.preventAutoZ){var b=v.get("z")||0,T=v.get("zlevel")||0;_.eachRendered(function(M){return a(M,b,T,-1/0),!0})}}function a(v,_,b,T){var M=v.getTextContent(),E=v.getTextGuideLine(),k=v.isGroup;if(k)for(var z=v.childrenRef(),B=0;B<z.length;B++)T=Math.max(a(z[B],_,b,T),T);else v.z=_,v.zlevel=b,T=Math.max(v.z2,T);if(M&&(M.z=_,M.zlevel=b,isFinite(T)&&(M.z2=T+2)),E){var U=v.textGuideLineConfig;E.z=_,E.zlevel=b,isFinite(T)&&(E.z2=T+(U&&U.showAbove?1:-1))}return T}function h(v,_){_.eachRendered(function(b){if(!Z2(b)){var T=b.getTextContent(),M=b.getTextGuideLine();b.stateTransition&&(b.stateTransition=null),T&&T.stateTransition&&(T.stateTransition=null),M&&M.stateTransition&&(M.stateTransition=null),b.hasState()?(b.prevStates=b.currentStates,b.clearStates()):b.prevStates&&(b.prevStates=null)}})}function m(v,_){var b=v.getModel("stateAnimation"),T=v.isAnimationEnabled(),M=b.get("duration"),E=M>0?{duration:M,delay:b.get("delay"),easing:b.get("easing")}:null;_.eachRendered(function(k){if(k.states&&k.states.emphasis){if(Z2(k))return;if(k instanceof Ba&&ZZe(k),k.__dirty){var z=k.prevStates;z&&k.useStates(z)}if(T){k.stateTransition=E;var B=k.getTextContent(),U=k.getTextGuideLine();B&&(B.stateTransition=E),U&&(U.stateTransition=E)}k.__dirty&&i(k)}})}MU=function(v){return new(function(_){Pr(b,_);function b(){return _!==null&&_.apply(this,arguments)||this}return b.prototype.getCoordinateSystems=function(){return v._coordSysMgr.getCoordinateSystems()},b.prototype.getComponentByElement=function(T){for(;T;){var M=T.__ecComponentInfo;if(M!=null)return v._model.getComponent(M.mainType,M.index);T=T.parent}},b.prototype.enterEmphasis=function(T,M){SC(T,M),ou(v)},b.prototype.leaveEmphasis=function(T,M){CC(T,M),ou(v)},b.prototype.enterBlur=function(T){$Ze(T),ou(v)},b.prototype.leaveBlur=function(T){vee(T),ou(v)},b.prototype.enterSelect=function(T){gee(T),ou(v)},b.prototype.leaveSelect=function(T){_ee(T),ou(v)},b.prototype.getModel=function(){return v.getModel()},b.prototype.getViewOfComponentModel=function(T){return v.getViewOfComponentModel(T)},b.prototype.getViewOfSeriesModel=function(T){return v.getViewOfSeriesModel(T)},b}(nte))(v)},Kte=function(v){function _(b,T){for(var M=0;M<b.length;M++){var E=b[M];E[rA]=T}}Gt(ex,function(b,T){v._messageCenter.on(T,function(M){if(AU[v.group]&&v[rA]!==wU){if(M&&M.escapeConnect)return;var E=v.makeActionFromEvent(M),k=[];Gt(tx,function(z){z!==v&&z.group===v.group&&k.push(z)}),_(k,wU),Gt(k,function(z){z[rA]!==Ket&&z.dispatchAction(E)}),_(k,Yet)}})})}}(),t}(_d),UD=Yte.prototype;UD.on=Ute("on");UD.off=Ute("off");UD.one=function(e,t,n){var r=this;function i(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];t&&t.apply&&t.apply(this,o),r.off(e,i)}this.on.call(this,e,i,n)};var Zet=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var OC={},ex={},lP=[],uP=[],zC=[],Zte={},cP={},tx={},AU={},Xet=+new Date-0,jD="_echarts_instance_";function Jet(e,t,n){var r=!(n&&n.ssr);if(r){var i=Qet(e);if(i)return i}var o=new Yte(e,t,n);return o.id="ec_"+Xet++,tx[o.id]=o,r&&tee(e,jD,o.id),Kte(o),nc.trigger("afterinit",o),o}function Qet(e){return tx[IYe(e,jD)]}function Xte(e,t){Zte[e]=t}function Jte(e){Ta(uP,e)<0&&uP.push(e)}function Qte(e,t){WD(lP,e,t,$et)}function ett(e){GD("afterinit",e)}function ttt(e){GD("afterupdate",e)}function GD(e,t){nc.on(e,t)}function K_(e,t,n){Ai(t)&&(n=t,t="");var r=oi(e)?e.type:[e,e={event:t}][0];e.event=(e.event||r).toLowerCase(),t=e.event,!ex[t]&&(hh(xU.test(r)&&xU.test(t)),OC[r]||(OC[r]={action:n,actionInfo:e}),ex[t]=r)}function ntt(e,t){BD.register(e,t)}function rtt(e,t){WD(zC,e,t,$te,"layout")}function L0(e,t){WD(zC,e,t,Vte,"visual")}var IU=[];function WD(e,t,n,r,i){if((Ai(t)||oi(t))&&(n=t,t=r),!(Ta(IU,n)>=0)){IU.push(n);var o=Mte.wrapStageHandler(n,i);o.__prio=t,o.__raw=n,e.push(o)}}function ene(e,t){cP[e]=t}function itt(e,t,n){var r=Oet("registerMap");r&&r(e,t,n)}var att=uQe;L0(HD,FQe);L0(cT,NQe);L0(cT,$Qe);L0(HD,QQe);L0(cT,eet);L0(Hte,Ret);Jte(ite);Qte(Fet,GJe);ene("default",VQe);K_({type:s0,event:s0,update:s0},fl);K_({type:vS,event:vS,update:vS},fl);K_({type:q2,event:q2,update:q2},fl);K_({type:gS,event:gS,update:gS},fl);K_({type:K2,event:K2,update:K2},fl);Xte("light",XQe);Xte("dark",kte);function cb(e){return e==null?0:e.length||1}function kU(e){return e}var ott=function(){function e(t,n,r,i,o,s){this._old=t,this._new=n,this._oldKeyGetter=r||kU,this._newKeyGetter=i||kU,this.context=o,this._diffModeMultiple=s==="multiple"}return e.prototype.add=function(t){return this._add=t,this},e.prototype.update=function(t){return this._update=t,this},e.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},e.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},e.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},e.prototype.remove=function(t){return this._remove=t,this},e.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},e.prototype._executeOneToOne=function(){var t=this._old,n=this._new,r={},i=new Array(t.length),o=new Array(n.length);this._initIndexMap(t,null,i,"_oldKeyGetter"),this._initIndexMap(n,r,o,"_newKeyGetter");for(var s=0;s<t.length;s++){var u=i[s],a=r[u],h=cb(a);if(h>1){var m=a.shift();a.length===1&&(r[u]=a[0]),this._update&&this._update(m,s)}else h===1?(r[u]=null,this._update&&this._update(a,s)):this._remove&&this._remove(s)}this._performRestAdd(o,r)},e.prototype._executeMultiple=function(){var t=this._old,n=this._new,r={},i={},o=[],s=[];this._initIndexMap(t,r,o,"_oldKeyGetter"),this._initIndexMap(n,i,s,"_newKeyGetter");for(var u=0;u<o.length;u++){var a=o[u],h=r[a],m=i[a],v=cb(h),_=cb(m);if(v>1&&_===1)this._updateManyToOne&&this._updateManyToOne(m,h),i[a]=null;else if(v===1&&_>1)this._updateOneToMany&&this._updateOneToMany(m,h),i[a]=null;else if(v===1&&_===1)this._update&&this._update(m,h),i[a]=null;else if(v>1&&_>1)this._updateManyToMany&&this._updateManyToMany(m,h),i[a]=null;else if(v>1)for(var b=0;b<v;b++)this._remove&&this._remove(h[b]);else this._remove&&this._remove(h)}this._performRestAdd(s,i)},e.prototype._performRestAdd=function(t,n){for(var r=0;r<t.length;r++){var i=t[r],o=n[i],s=cb(o);if(s>1)for(var u=0;u<s;u++)this._add&&this._add(o[u]);else s===1&&this._add&&this._add(o);n[i]=null}},e.prototype._initIndexMap=function(t,n,r,i){for(var o=this._diffModeMultiple,s=0;s<t.length;s++){var u="_ec_"+this[i](t[s],s);if(o||(r[s]=u),!!n){var a=n[u],h=cb(a);h===0?(n[u]=s,o&&r.push(u)):h===1?n[u]=[a,s]:a.push(s)}}},e}(),stt=function(){function e(t,n){this._encode=t,this._schema=n}return e.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},e.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},e}();function ltt(e,t){var n={},r=n.encode={},i=$i(),o=[],s=[],u={};Gt(e.dimensions,function(_){var b=e.getDimensionInfo(_),T=b.coordDim;if(T){var M=b.coordDimIndex;uA(r,T)[M]=_,b.isExtraCoord||(i.set(T,1),ctt(b.type)&&(o[0]=_),uA(u,T)[M]=e.getDimensionIndex(b.name)),b.defaultTooltip&&s.push(_)}Xee.each(function(E,k){var z=uA(r,k),B=b.otherDims[k];B!=null&&B!==!1&&(z[B]=b.name)})});var a=[],h={};i.each(function(_,b){var T=r[b];h[b]=T[0],a=a.concat(T)}),n.dataDimsOnCoord=a,n.dataDimIndicesOnCoord=xi(a,function(_){return e.getDimensionInfo(_).storeDimIndex}),n.encodeFirstDimNotExtra=h;var m=r.label;m&&m.length&&(o=m.slice());var v=r.tooltip;return v&&v.length?s=v.slice():s.length||(s=o.slice()),r.defaultedLabel=o,r.defaultedTooltip=s,n.userOutput=new stt(u,t),n}function uA(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}function utt(e){return e==="category"?"ordinal":e==="time"?"time":"float"}function ctt(e){return!(e==="ordinal"||e==="time")}var xS=function(){function e(t){this.otherDims={},t!=null&&vr(this,t)}return e}(),dtt=Do(),htt={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},tne=function(){function e(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return e.prototype.isDimensionOmitted=function(){return this._dimOmitted},e.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=ine(this.source)))},e.prototype.getSourceDimensionIndex=function(t){return Qi(this._dimNameMap.get(t),-1)},e.prototype.getSourceDimension=function(t){var n=this.source.dimensionsDefine;if(n)return n[t]},e.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,n=ste(this.source),r=!ane(t),i="",o=[],s=0,u=0;s<t;s++){var a=void 0,h=void 0,m=void 0,v=this.dimensions[u];if(v&&v.storeDimIndex===s)a=n?v.name:null,h=v.type,m=v.ordinalMeta,u++;else{var _=this.getSourceDimension(s);_&&(a=n?_.name:null,h=_.type)}o.push({property:a,type:h,ordinalMeta:m}),n&&a!=null&&(!v||!v.isCalculationCoord)&&(i+=r?a.replace(/\`/g,"`1").replace(/\$/g,"`2"):a),i+="$",i+=htt[h]||"f",m&&(i+=m.uid),i+="$"}var b=this.source,T=[b.seriesLayoutBy,b.startIndex,i].join("$$");return{dimensions:o,hash:T}},e.prototype.makeOutputDimensionNames=function(){for(var t=[],n=0,r=0;n<this._fullDimCount;n++){var i=void 0,o=this.dimensions[r];if(o&&o.storeDimIndex===n)o.isCalculationCoord||(i=o.name),r++;else{var s=this.getSourceDimension(n);s&&(i=s.name)}t.push(i)}return t},e.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},e}();function nne(e){return e instanceof tne}function rne(e){for(var t=$i(),n=0;n<(e||[]).length;n++){var r=e[n],i=oi(r)?r.name:r;i!=null&&t.get(i)==null&&t.set(i,n)}return t}function ine(e){var t=dtt(e);return t.dimNameMap||(t.dimNameMap=rne(e.dimensionsDefine))}function ane(e){return e>30}var db=oi,Ef=xi,ftt=typeof Int32Array>"u"?Array:Int32Array,ptt="e\0\0",PU=-1,mtt=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],vtt=["_approximateExtent"],LU,x3,hb,fb,cA,w3,dA,gtt=function(){function e(t,n){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r,i=!1;nne(t)?(r=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(i=!0,r=t),r=r||["x","y"];for(var o={},s=[],u={},a=!1,h={},m=0;m<r.length;m++){var v=r[m],_=Zr(v)?new xS({name:v}):v instanceof xS?v:new xS(v),b=_.name;_.type=_.type||"float",_.coordDim||(_.coordDim=b,_.coordDimIndex=0);var T=_.otherDims=_.otherDims||{};s.push(b),o[b]=_,h[b]!=null&&(a=!0),_.createInvertedIndices&&(u[b]=[]),T.itemName===0&&(this._nameDimIdx=m),T.itemId===0&&(this._idDimIdx=m),i&&(_.storeDimIndex=m)}if(this.dimensions=s,this._dimInfos=o,this._initGetDimensionInfo(a),this.hostModel=n,this._invertedIndicesMap=u,this._dimOmitted){var M=this._dimIdxToName=$i();Gt(s,function(E){M.set(o[E].storeDimIndex,E)})}}return e.prototype.getDimension=function(t){var n=this._recognizeDimIndex(t);if(n==null)return t;if(n=t,!this._dimOmitted)return this.dimensions[n];var r=this._dimIdxToName.get(n);if(r!=null)return r;var i=this._schema.getSourceDimension(n);if(i)return i.name},e.prototype.getDimensionIndex=function(t){var n=this._recognizeDimIndex(t);if(n!=null)return n;if(t==null)return-1;var r=this._getDimInfo(t);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},e.prototype._recognizeDimIndex=function(t){if(Ja(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},e.prototype._getStoreDimIndex=function(t){var n=this.getDimensionIndex(t);return n},e.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},e.prototype._initGetDimensionInfo=function(t){var n=this._dimInfos;this._getDimInfo=t?function(r){return n.hasOwnProperty(r)?n[r]:void 0}:function(r){return n[r]}},e.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},e.prototype.mapDimension=function(t,n){var r=this._dimSummary;if(n==null)return r.encodeFirstDimNotExtra[t];var i=r.encode[t];return i?i[n]:null},e.prototype.mapDimensionsAll=function(t){var n=this._dimSummary,r=n.encode[t];return(r||[]).slice()},e.prototype.getStore=function(){return this._store},e.prototype.initData=function(t,n,r){var i=this,o;if(t instanceof Jk&&(o=t),!o){var s=this.dimensions,u=FD(t)||ml(t)?new lte(t,s.length):t;o=new Jk;var a=Ef(s,function(h){return{type:i._dimInfos[h].type,property:h}});o.initData(u,a,r)}this._store=o,this._nameList=(n||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,o.count()),this._dimSummary=ltt(this,this._schema),this.userOutput=this._dimSummary.userOutput},e.prototype.appendData=function(t){var n=this._store.appendData(t);this._doInit(n[0],n[1])},e.prototype.appendValues=function(t,n){var r=this._store.appendValues(t,n.length),i=r.start,o=r.end,s=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),n)for(var u=i;u<o;u++){var a=u-i;this._nameList[u]=n[a],s&&dA(this,u)}},e.prototype._updateOrdinalMeta=function(){for(var t=this._store,n=this.dimensions,r=0;r<n.length;r++){var i=this._dimInfos[n[r]];i.ordinalMeta&&t.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},e.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==np&&!t.fillStorage},e.prototype._doInit=function(t,n){if(!(t>=n)){var r=this._store,i=r.getProvider();this._updateOrdinalMeta();var o=this._nameList,s=this._idList,u=i.getSource().sourceFormat,a=u===Du;if(a&&!i.pure)for(var h=[],m=t;m<n;m++){var v=i.getItem(m,h);if(!this.hasItemOption&&_Ye(v)&&(this.hasItemOption=!0),v){var _=v.name;o[m]==null&&_!=null&&(o[m]=td(_,null));var b=v.id;s[m]==null&&b!=null&&(s[m]=td(b,null))}}if(this._shouldMakeIdFromName())for(var m=t;m<n;m++)dA(this,m);LU(this)}},e.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},e.prototype.setApproximateExtent=function(t,n){n=this.getDimension(n),this._approximateExtent[n]=t.slice()},e.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},e.prototype.setCalculationInfo=function(t,n){db(t)?vr(this._calculationInfo,t):this._calculationInfo[t]=n},e.prototype.getName=function(t){var n=this.getRawIndex(t),r=this._nameList[n];return r==null&&this._nameDimIdx!=null&&(r=hb(this,this._nameDimIdx,n)),r==null&&(r=""),r},e.prototype._getCategory=function(t,n){var r=this._store.get(t,n),i=this._store.getOrdinalMeta(t);return i?i.categories[r]:r},e.prototype.getId=function(t){return x3(this,this.getRawIndex(t))},e.prototype.count=function(){return this._store.count()},e.prototype.get=function(t,n){var r=this._store,i=this._dimInfos[t];if(i)return r.get(i.storeDimIndex,n)},e.prototype.getByRawIndex=function(t,n){var r=this._store,i=this._dimInfos[t];if(i)return r.getByRawIndex(i.storeDimIndex,n)},e.prototype.getIndices=function(){return this._store.getIndices()},e.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},e.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},e.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},e.prototype.getValues=function(t,n){var r=this,i=this._store;return zr(t)?i.getValues(Ef(t,function(o){return r._getStoreDimIndex(o)}),n):i.getValues(t)},e.prototype.hasValue=function(t){for(var n=this._dimSummary.dataDimIndicesOnCoord,r=0,i=n.length;r<i;r++)if(isNaN(this._store.get(n[r],t)))return!1;return!0},e.prototype.indexOfName=function(t){for(var n=0,r=this._store.count();n<r;n++)if(this.getName(n)===t)return n;return-1},e.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},e.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},e.prototype.rawIndexOf=function(t,n){var r=t&&this._invertedIndicesMap[t],i=r[n];return i==null||isNaN(i)?PU:i},e.prototype.indicesOfNearest=function(t,n,r){return this._store.indicesOfNearest(this._getStoreDimIndex(t),n,r)},e.prototype.each=function(t,n,r){Ai(t)&&(r=n,n=t,t=[]);var i=r||this,o=Ef(fb(t),this._getStoreDimIndex,this);this._store.each(o,i?io(n,i):n)},e.prototype.filterSelf=function(t,n,r){Ai(t)&&(r=n,n=t,t=[]);var i=r||this,o=Ef(fb(t),this._getStoreDimIndex,this);return this._store=this._store.filter(o,i?io(n,i):n),this},e.prototype.selectRange=function(t){var n=this,r={},i=Xa(t);return Gt(i,function(o){var s=n._getStoreDimIndex(o);r[s]=t[o]}),this._store=this._store.selectRange(r),this},e.prototype.mapArray=function(t,n,r){Ai(t)&&(r=n,n=t,t=[]),r=r||this;var i=[];return this.each(t,function(){i.push(n&&n.apply(this,arguments))},r),i},e.prototype.map=function(t,n,r,i){var o=r||i||this,s=Ef(fb(t),this._getStoreDimIndex,this),u=w3(this);return u._store=this._store.map(s,o?io(n,o):n),u},e.prototype.modify=function(t,n,r,i){var o=r||i||this,s=Ef(fb(t),this._getStoreDimIndex,this);this._store.modify(s,o?io(n,o):n)},e.prototype.downSample=function(t,n,r,i){var o=w3(this);return o._store=this._store.downSample(this._getStoreDimIndex(t),n,r,i),o},e.prototype.lttbDownSample=function(t,n){var r=w3(this);return r._store=this._store.lttbDownSample(this._getStoreDimIndex(t),n),r},e.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},e.prototype.getItemModel=function(t){var n=this.hostModel,r=this.getRawDataItem(t);return new so(r,n,n&&n.ecModel)},e.prototype.diff=function(t){var n=this;return new ott(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(r){return x3(t,r)},function(r){return x3(n,r)})},e.prototype.getVisual=function(t){var n=this._visual;return n&&n[t]},e.prototype.setVisual=function(t,n){this._visual=this._visual||{},db(t)?vr(this._visual,t):this._visual[t]=n},e.prototype.getItemVisual=function(t,n){var r=this._itemVisuals[t],i=r&&r[n];return i??this.getVisual(n)},e.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},e.prototype.ensureUniqueItemVisual=function(t,n){var r=this._itemVisuals,i=r[t];i||(i=r[t]={});var o=i[n];return o==null&&(o=this.getVisual(n),zr(o)?o=o.slice():db(o)&&(o=vr({},o)),i[n]=o),o},e.prototype.setItemVisual=function(t,n,r){var i=this._itemVisuals[t]||{};this._itemVisuals[t]=i,db(n)?vr(i,n):i[n]=r},e.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},e.prototype.setLayout=function(t,n){db(t)?vr(this._layout,t):this._layout[t]=n},e.prototype.getLayout=function(t){return this._layout[t]},e.prototype.getItemLayout=function(t){return this._itemLayouts[t]},e.prototype.setItemLayout=function(t,n,r){this._itemLayouts[t]=r?vr(this._itemLayouts[t]||{},n):n},e.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},e.prototype.setItemGraphicEl=function(t,n){var r=this.hostModel&&this.hostModel.seriesIndex;kZe(r,this.dataType,t,n),this._graphicEls[t]=n},e.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},e.prototype.eachItemGraphicEl=function(t,n){Gt(this._graphicEls,function(r,i){r&&t&&t.call(n,r,i)})},e.prototype.cloneShallow=function(t){return t||(t=new e(this._schema?this._schema:Ef(this.dimensions,this._getDimInfo,this),this.hostModel)),cA(t,this),t._store=this._store,t},e.prototype.wrapMethod=function(t,n){var r=this[t];Ai(r)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var i=r.apply(this,arguments);return n.apply(this,[i].concat(QR(arguments)))})},e.internalField=function(){LU=function(t){var n=t._invertedIndicesMap;Gt(n,function(r,i){var o=t._dimInfos[i],s=o.ordinalMeta,u=t._store;if(s){r=n[i]=new ftt(s.categories.length);for(var a=0;a<r.length;a++)r[a]=PU;for(var a=0;a<u.count();a++)r[u.get(o.storeDimIndex,a)]=a}})},hb=function(t,n,r){return td(t._getCategory(n,r),null)},x3=function(t,n){var r=t._idList[n];return r==null&&t._idDimIdx!=null&&(r=hb(t,t._idDimIdx,n)),r==null&&(r=ptt+n),r},fb=function(t){return zr(t)||(t=t!=null?[t]:[]),t},w3=function(t){var n=new e(t._schema?t._schema:Ef(t.dimensions,t._getDimInfo,t),t.hostModel);return cA(n,t),n},cA=function(t,n){Gt(mtt.concat(n.__wrappedMethods||[]),function(r){n.hasOwnProperty(r)&&(t[r]=n[r])}),t.__wrappedMethods=n.__wrappedMethods,Gt(vtt,function(r){t[r]=na(n[r])}),t._calculationInfo=vr({},n._calculationInfo)},dA=function(t,n){var r=t._nameList,i=t._idList,o=t._nameDimIdx,s=t._idDimIdx,u=r[n],a=i[n];if(u==null&&o!=null&&(r[n]=u=hb(t,o,n)),a==null&&s!=null&&(i[n]=a=hb(t,s,n)),a==null&&u!=null){var h=t._nameRepeatCount,m=h[u]=(h[u]||0)+1;a=u,m>1&&(a+="__ec__"+m),i[n]=a}}}(),e}();function _tt(e,t){FD(e)||(e=ate(e)),t=t||{};var n=t.coordDimensions||[],r=t.dimensionsDefine||e.dimensionsDefine||[],i=$i(),o=[],s=btt(e,n,r,t.dimensionsCount),u=t.canOmitUnusedDimensions&&ane(s),a=r===e.dimensionsDefine,h=a?ine(e):rne(r),m=t.encodeDefine;!m&&t.encodeDefaulter&&(m=t.encodeDefaulter(e,s));for(var v=$i(m),_=new fte(s),b=0;b<_.length;b++)_[b]=-1;function T(ie){var ae=_[ie];if(ae<0){var re=r[ie],se=oi(re)?re:{name:re},be=new xS,Ie=se.name;Ie!=null&&h.get(Ie)!=null&&(be.name=be.displayName=Ie),se.type!=null&&(be.type=se.type),se.displayName!=null&&(be.displayName=se.displayName);var Se=o.length;return _[ie]=Se,be.storeDimIndex=ie,o.push(be),be}return o[ae]}if(!u)for(var b=0;b<s;b++)T(b);v.each(function(ie,ae){var re=Us(ie).slice();if(re.length===1&&!Zr(re[0])&&re[0]<0){v.set(ae,!1);return}var se=v.set(ae,[]);Gt(re,function(be,Ie){var Se=Zr(be)?h.get(be):be;Se!=null&&Se<s&&(se[Ie]=Se,E(T(Se),ae,Ie))})});var M=0;Gt(n,function(ie){var ae,re,se,be;if(Zr(ie))ae=ie,be={};else{be=ie,ae=be.name;var Ie=be.ordinalMeta;be.ordinalMeta=null,be=vr({},be),be.ordinalMeta=Ie,re=be.dimsDef,se=be.otherDims,be.name=be.coordDim=be.coordDimIndex=be.dimsDef=be.otherDims=null}var Se=v.get(ae);if(Se!==!1){if(Se=Us(Se),!Se.length)for(var me=0;me<(re&&re.length||1);me++){for(;M<s&&T(M).coordDim!=null;)M++;M<s&&Se.push(M++)}Gt(Se,function(Le,Ee){var _e=T(Le);if(a&&be.type!=null&&(_e.type=be.type),E(_a(_e,be),ae,Ee),_e.name==null&&re){var xe=re[Ee];!oi(xe)&&(xe={name:xe}),_e.name=_e.displayName=xe.name,_e.defaultTooltip=xe.defaultTooltip}se&&_a(_e.otherDims,se)})}});function E(ie,ae,re){Xee.get(ae)!=null?ie.otherDims[ae]=re:(ie.coordDim=ae,ie.coordDimIndex=re,i.set(ae,!0))}var k=t.generateCoord,z=t.generateCoordCount,B=z!=null;z=k?z||1:0;var U=k||"value";function W(ie){ie.name==null&&(ie.name=ie.coordDim)}if(u)Gt(o,function(ie){W(ie)}),o.sort(function(ie,ae){return ie.storeDimIndex-ae.storeDimIndex});else for(var q=0;q<s;q++){var Q=T(q),te=Q.coordDim;te==null&&(Q.coordDim=xtt(U,i,B),Q.coordDimIndex=0,(!k||z<=0)&&(Q.isExtraCoord=!0),z--),W(Q),Q.type==null&&(tte(e,q)===Pl.Must||Q.isExtraCoord&&(Q.otherDims.itemName!=null||Q.otherDims.seriesName!=null))&&(Q.type="ordinal")}return ytt(o),new tne({source:e,dimensions:o,fullDimensionCount:s,dimensionOmitted:u})}function ytt(e){for(var t=$i(),n=0;n<e.length;n++){var r=e[n],i=r.name,o=t.get(i)||0;o>0&&(r.name=i+(o-1)),o++,t.set(i,o)}}function btt(e,t,n,r){var i=Math.max(e.dimensionsDetectedCount||1,t.length,n.length,r||0);return Gt(t,function(o){var s;oi(o)&&(s=o.dimsDef)&&(i=Math.max(i,s.length))}),i}function xtt(e,t,n){if(n||t.hasKey(e)){for(var r=0;t.hasKey(e+r);)r++;e+=r}return t.set(e,!0),e}var wtt=function(){function e(t){this.coordSysDims=[],this.axisMap=$i(),this.categoryAxisMap=$i(),this.coordSysName=t}return e}();function Stt(e){var t=e.get("coordinateSystem"),n=new wtt(t),r=Ctt[t];if(r)return r(e,n,n.axisMap,n.categoryAxisMap),n}var Ctt={cartesian2d:function(e,t,n,r){var i=e.getReferringComponents("xAxis",uc).models[0],o=e.getReferringComponents("yAxis",uc).models[0];t.coordSysDims=["x","y"],n.set("x",i),n.set("y",o),pg(i)&&(r.set("x",i),t.firstCategoryDimIndex=0),pg(o)&&(r.set("y",o),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,n,r){var i=e.getReferringComponents("singleAxis",uc).models[0];t.coordSysDims=["single"],n.set("single",i),pg(i)&&(r.set("single",i),t.firstCategoryDimIndex=0)},polar:function(e,t,n,r){var i=e.getReferringComponents("polar",uc).models[0],o=i.findAxisModel("radiusAxis"),s=i.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],n.set("radius",o),n.set("angle",s),pg(o)&&(r.set("radius",o),t.firstCategoryDimIndex=0),pg(s)&&(r.set("angle",s),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(e,t,n,r){t.coordSysDims=["lng","lat"]},parallel:function(e,t,n,r){var i=e.ecModel,o=i.getComponent("parallel",e.get("parallelIndex")),s=t.coordSysDims=o.dimensions.slice();Gt(o.parallelAxisIndex,function(u,a){var h=i.getComponent("parallelAxis",u),m=s[a];n.set(m,h),pg(h)&&(r.set(m,h),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=a))})}};function pg(e){return e.get("type")==="category"}function Ttt(e,t,n){n=n||{};var r=n.byIndex,i=n.stackedCoordDimension,o,s,u;Mtt(t)?o=t:(s=t.schema,o=s.dimensions,u=t.store);var a=!!(e&&e.get("stack")),h,m,v,_;if(Gt(o,function(z,B){Zr(z)&&(o[B]=z={name:z}),a&&!z.isExtraCoord&&(!r&&!h&&z.ordinalMeta&&(h=z),!m&&z.type!=="ordinal"&&z.type!=="time"&&(!i||i===z.coordDim)&&(m=z))}),m&&!r&&!h&&(r=!0),m){v="__\0ecstackresult_"+e.id,_="__\0ecstackedover_"+e.id,h&&(h.createInvertedIndices=!0);var b=m.coordDim,T=m.type,M=0;Gt(o,function(z){z.coordDim===b&&M++});var E={name:v,coordDim:b,coordDimIndex:M,type:T,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length},k={name:_,coordDim:_,coordDimIndex:M+1,type:T,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length+1};s?(u&&(E.storeDimIndex=u.ensureCalculationDimension(_,T),k.storeDimIndex=u.ensureCalculationDimension(v,T)),s.appendCalculationDimension(E),s.appendCalculationDimension(k)):(o.push(E),o.push(k))}return{stackedDimension:m&&m.name,stackedByDimension:h&&h.name,isStackedByIndex:r,stackedOverDimension:_,stackResultDimension:v}}function Mtt(e){return!nne(e.schema)}function Jx(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}function Ett(e,t){return Jx(e,t)?e.getCalculationInfo("stackResultDimension"):t}function Att(e,t){var n=e.get("coordinateSystem"),r=BD.get(n),i;return t&&t.coordSysDims&&(i=xi(t.coordSysDims,function(o){var s={name:o},u=t.axisMap.get(o);if(u){var a=u.get("type");s.type=utt(a)}return s})),i||(i=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),i}function Itt(e,t,n){var r,i;return n&&Gt(e,function(o,s){var u=o.coordDim,a=n.categoryAxisMap.get(u);a&&(r==null&&(r=s),o.ordinalMeta=a.getOrdinalMeta(),t&&(o.createInvertedIndices=!0)),o.otherDims.itemName!=null&&(i=!0)}),!i&&r!=null&&(e[r].otherDims.itemName=0),r}function ktt(e,t,n){n=n||{};var r=t.getSourceManager(),i,o=!1;i=r.getSource(),o=i.sourceFormat===Du;var s=Stt(t),u=Att(t,s),a=n.useEncodeDefaulter,h=Ai(a)?a:a?$o(bJe,u,t):null,m={coordDimensions:u,generateCoord:n.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:h,canOmitUnusedDimensions:!o},v=_tt(i,m),_=Itt(v.dimensions,n.createInvertedIndices,s),b=o?null:r.getSharedDataStore(v),T=Ttt(t,{schema:v,store:b}),M=new gtt(v,t);M.setCalculationInfo(T);var E=_!=null&&Ptt(i)?function(k,z,B,U){return U===_?B:this.defaultDimValueGetter(k,z,B,U)}:null;return M.hasItemOption=!1,M.initData(o?i:b,null,E),M}function Ptt(e){if(e.sourceFormat===Du){var t=Ltt(e.data||[]);return!zr(Tw(t))}}function Ltt(e){for(var t=0;t<e.length&&e[t]==null;)t++;return e[t]}var bd=function(){function e(t){this._setting=t||{},this._extent=[1/0,-1/0]}return e.prototype.getSetting=function(t){return this._setting[t]},e.prototype.unionExtent=function(t){var n=this._extent;t[0]<n[0]&&(n[0]=t[0]),t[1]>n[1]&&(n[1]=t[1])},e.prototype.unionExtentFromData=function(t,n){this.unionExtent(t.getApproximateExtent(n))},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.setExtent=function(t,n){var r=this._extent;isNaN(t)||(r[0]=t),isNaN(n)||(r[1]=n)},e.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},e.prototype.isBlank=function(){return this._isBlank},e.prototype.setBlank=function(t){this._isBlank=t},e}();j8(bd);var Rtt=0,dP=function(){function e(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++Rtt}return e.createByAxisModel=function(t){var n=t.option,r=n.data,i=r&&xi(r,Dtt);return new e({categories:i,needCollect:!i,deduplication:n.dedplication!==!1})},e.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},e.prototype.parseAndCollect=function(t){var n,r=this._needCollect;if(!Zr(t)&&!r)return t;if(r&&!this._deduplication)return n=this.categories.length,this.categories[n]=t,n;var i=this._getOrCreateMap();return n=i.get(t),n==null&&(r?(n=this.categories.length,this.categories[n]=t,i.set(t,n)):n=NaN),n},e.prototype._getOrCreateMap=function(){return this._map||(this._map=$i(this.categories))},e}();function Dtt(e){return oi(e)&&e.value!=null?e.value:e+""}function hP(e){return e.type==="interval"||e.type==="log"}function Ott(e,t,n,r){var i={},o=e[1]-e[0],s=i.interval=ZQ(o/t);n!=null&&s<n&&(s=i.interval=n),r!=null&&s>r&&(s=i.interval=r);var u=i.intervalPrecision=one(s),a=i.niceTickExtent=[wo(Math.ceil(e[0]/s)*s,u),wo(Math.floor(e[1]/s)*s,u)];return ztt(a,e),i}function hA(e){var t=Math.pow(10,lD(e)),n=e/t;return n?n===2?n=3:n===3?n=5:n*=2:n=1,wo(n*t)}function one(e){return eh(e)+2}function RU(e,t,n){e[t]=Math.max(Math.min(e[t],n[1]),n[0])}function ztt(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),RU(e,0,t),RU(e,1,t),e[0]>e[1]&&(e[0]=e[1])}function dT(e,t){return e>=t[0]&&e<=t[1]}function hT(e,t){return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])}function fT(e,t){return e*(t[1]-t[0])+t[0]}var qD=function(e){Pr(t,e);function t(n){var r=e.call(this,n)||this;r.type="ordinal";var i=r.getSetting("ordinalMeta");return i||(i=new dP({})),zr(i)&&(i=new dP({categories:xi(i,function(o){return oi(o)?o.value:o})})),r._ordinalMeta=i,r._extent=r.getSetting("extent")||[0,i.categories.length-1],r}return t.prototype.parse=function(n){return n==null?NaN:Zr(n)?this._ordinalMeta.getOrdinal(n):Math.round(n)},t.prototype.contain=function(n){return n=this.parse(n),dT(n,this._extent)&&this._ordinalMeta.categories[n]!=null},t.prototype.normalize=function(n){return n=this._getTickNumber(this.parse(n)),hT(n,this._extent)},t.prototype.scale=function(n){return n=Math.round(fT(n,this._extent)),this.getRawOrdinalNumber(n)},t.prototype.getTicks=function(){for(var n=[],r=this._extent,i=r[0];i<=r[1];)n.push({value:i}),i++;return n},t.prototype.getMinorTicks=function(n){},t.prototype.setSortInfo=function(n){if(n==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var r=n.ordinalNumbers,i=this._ordinalNumbersByTick=[],o=this._ticksByOrdinalNumber=[],s=0,u=this._ordinalMeta.categories.length,a=Math.min(u,r.length);s<a;++s){var h=r[s];i[s]=h,o[h]=s}for(var m=0;s<u;++s){for(;o[m]!=null;)m++;i.push(m),o[m]=s}},t.prototype._getTickNumber=function(n){var r=this._ticksByOrdinalNumber;return r&&n>=0&&n<r.length?r[n]:n},t.prototype.getRawOrdinalNumber=function(n){var r=this._ordinalNumbersByTick;return r&&n>=0&&n<r.length?r[n]:n},t.prototype.getLabel=function(n){if(!this.isBlank()){var r=this.getRawOrdinalNumber(n.value),i=this._ordinalMeta.categories[r];return i==null?"":i+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(n,r){this.unionExtent(n.getApproximateExtent(r))},t.prototype.isInExtentRange=function(n){return n=this._getTickNumber(n),this._extent[0]<=n&&this._extent[1]>=n},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(bd);bd.registerClass(qD);var zm=wo,Y_=function(e){Pr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="interval",n._interval=0,n._intervalPrecision=2,n}return t.prototype.parse=function(n){return n},t.prototype.contain=function(n){return dT(n,this._extent)},t.prototype.normalize=function(n){return hT(n,this._extent)},t.prototype.scale=function(n){return fT(n,this._extent)},t.prototype.setExtent=function(n,r){var i=this._extent;isNaN(n)||(i[0]=parseFloat(n)),isNaN(r)||(i[1]=parseFloat(r))},t.prototype.unionExtent=function(n){var r=this._extent;n[0]<r[0]&&(r[0]=n[0]),n[1]>r[1]&&(r[1]=n[1]),this.setExtent(r[0],r[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(n){this._interval=n,this._niceExtent=this._extent.slice(),this._intervalPrecision=one(n)},t.prototype.getTicks=function(n){var r=this._interval,i=this._extent,o=this._niceExtent,s=this._intervalPrecision,u=[];if(!r)return u;var a=1e4;i[0]<o[0]&&(n?u.push({value:zm(o[0]-r,s)}):u.push({value:i[0]}));for(var h=o[0];h<=o[1]&&(u.push({value:h}),h=zm(h+r,s),h!==u[u.length-1].value);)if(u.length>a)return[];var m=u.length?u[u.length-1].value:o[1];return i[1]>m&&(n?u.push({value:zm(m+r,s)}):u.push({value:i[1]})),u},t.prototype.getMinorTicks=function(n){for(var r=this.getTicks(!0),i=[],o=this.getExtent(),s=1;s<r.length;s++){for(var u=r[s],a=r[s-1],h=0,m=[],v=u.value-a.value,_=v/n;h<n-1;){var b=zm(a.value+(h+1)*_);b>o[0]&&b<o[1]&&m.push(b),h++}i.push(m)}return i},t.prototype.getLabel=function(n,r){if(n==null)return"";var i=r&&r.precision;i==null?i=eh(n.value)||0:i==="auto"&&(i=this._intervalPrecision);var o=zm(n.value,i,!0);return qee(o)},t.prototype.calcNiceTicks=function(n,r,i){n=n||5;var o=this._extent,s=o[1]-o[0];if(isFinite(s)){s<0&&(s=-s,o.reverse());var u=Ott(o,n,r,i);this._intervalPrecision=u.intervalPrecision,this._interval=u.interval,this._niceExtent=u.niceTickExtent}},t.prototype.calcNiceExtent=function(n){var r=this._extent;if(r[0]===r[1])if(r[0]!==0){var i=Math.abs(r[0]);n.fixMax||(r[1]+=i/2),r[0]-=i/2}else r[1]=1;var o=r[1]-r[0];isFinite(o)||(r[0]=0,r[1]=1),this.calcNiceTicks(n.splitNumber,n.minInterval,n.maxInterval);var s=this._interval;n.fixMin||(r[0]=zm(Math.floor(r[0]/s)*s)),n.fixMax||(r[1]=zm(Math.ceil(r[1]/s)*s))},t.prototype.setNiceExtent=function(n,r){this._niceExtent=[n,r]},t.type="interval",t}(bd);bd.registerClass(Y_);var sne=typeof Float32Array<"u",Btt=sne?Float32Array:Array;function Rg(e){return zr(e)?sne?new Float32Array(e):e:new Btt(e)}var Ftt="__ec_stack_";function lne(e){return e.get("stack")||Ftt+e.seriesIndex}function une(e){return e.dim+e.index}function Ntt(e,t){var n=[];return t.eachSeriesByType(e,function(r){jtt(r)&&n.push(r)}),n}function $tt(e){var t={};Gt(e,function(a){var h=a.coordinateSystem,m=h.getBaseAxis();if(!(m.type!=="time"&&m.type!=="value"))for(var v=a.getData(),_=m.dim+"_"+m.index,b=v.getDimensionIndex(v.mapDimension(m.dim)),T=v.getStore(),M=0,E=T.count();M<E;++M){var k=T.get(b,M);t[_]?t[_].push(k):t[_]=[k]}});var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];if(i){i.sort(function(a,h){return a-h});for(var o=null,s=1;s<i.length;++s){var u=i[s]-i[s-1];u>0&&(o=o===null?u:Math.min(o,u))}n[r]=o}}return n}function Vtt(e){var t=$tt(e),n=[];return Gt(e,function(r){var i=r.coordinateSystem,o=i.getBaseAxis(),s=o.getExtent(),u;if(o.type==="category")u=o.getBandWidth();else if(o.type==="value"||o.type==="time"){var a=o.dim+"_"+o.index,h=t[a],m=Math.abs(s[1]-s[0]),v=o.scale.getExtent(),_=Math.abs(v[1]-v[0]);u=h?m/_*h:m}else{var b=r.getData();u=Math.abs(s[1]-s[0])/b.count()}var T=$s(r.get("barWidth"),u),M=$s(r.get("barMaxWidth"),u),E=$s(r.get("barMinWidth")||(Gtt(r)?.5:1),u),k=r.get("barGap"),z=r.get("barCategoryGap");n.push({bandWidth:u,barWidth:T,barMaxWidth:M,barMinWidth:E,barGap:k,barCategoryGap:z,axisKey:une(o),stackId:lne(r)})}),Htt(n)}function Htt(e){var t={};Gt(e,function(r,i){var o=r.axisKey,s=r.bandWidth,u=t[o]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},a=u.stacks;t[o]=u;var h=r.stackId;a[h]||u.autoWidthCount++,a[h]=a[h]||{width:0,maxWidth:0};var m=r.barWidth;m&&!a[h].width&&(a[h].width=m,m=Math.min(u.remainedWidth,m),u.remainedWidth-=m);var v=r.barMaxWidth;v&&(a[h].maxWidth=v);var _=r.barMinWidth;_&&(a[h].minWidth=_);var b=r.barGap;b!=null&&(u.gap=b);var T=r.barCategoryGap;T!=null&&(u.categoryGap=T)});var n={};return Gt(t,function(r,i){n[i]={};var o=r.stacks,s=r.bandWidth,u=r.categoryGap;if(u==null){var a=Xa(o).length;u=Math.max(35-a*4,15)+"%"}var h=$s(u,s),m=$s(r.gap,1),v=r.remainedWidth,_=r.autoWidthCount,b=(v-h)/(_+(_-1)*m);b=Math.max(b,0),Gt(o,function(k){var z=k.maxWidth,B=k.minWidth;if(k.width){var U=k.width;z&&(U=Math.min(U,z)),B&&(U=Math.max(U,B)),k.width=U,v-=U+m*U,_--}else{var U=b;z&&z<U&&(U=Math.min(z,v)),B&&B>U&&(U=B),U!==b&&(k.width=U,v-=U+m*U,_--)}}),b=(v-h)/(_+(_-1)*m),b=Math.max(b,0);var T=0,M;Gt(o,function(k,z){k.width||(k.width=b),M=k,T+=k.width*(1+m)}),M&&(T-=M.width*m);var E=-T/2;Gt(o,function(k,z){n[i][z]=n[i][z]||{bandWidth:s,offset:E,width:k.width},E+=k.width*(1+m)})}),n}function Utt(e,t,n){if(e&&t){var r=e[une(t)];return r!=null&&n!=null?r[lne(n)]:r}}function jtt(e){return e.coordinateSystem&&e.coordinateSystem.type==="cartesian2d"}function Gtt(e){return e.pipelineContext&&e.pipelineContext.large}var Wtt=function(e,t,n,r){for(;n<r;){var i=n+r>>>1;e[i][1]<t?n=i+1:r=i}return n},cne=function(e){Pr(t,e);function t(n){var r=e.call(this,n)||this;return r.type="time",r}return t.prototype.getLabel=function(n){var r=this.getSetting("useUTC");return tT(n.value,TH[cJe(Xg(this._minLevelUnit))]||TH.second,r,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(n,r,i){var o=this.getSetting("useUTC"),s=this.getSetting("locale");return dJe(n,r,i,s,o)},t.prototype.getTicks=function(){var n=this._interval,r=this._extent,i=[];if(!n)return i;i.push({value:r[0],level:0});var o=this.getSetting("useUTC"),s=Qtt(this._minLevelUnit,this._approxInterval,o,r);return i=i.concat(s),i.push({value:r[1],level:0}),i},t.prototype.calcNiceExtent=function(n){var r=this._extent;if(r[0]===r[1]&&(r[0]-=yu,r[1]+=yu),r[1]===-1/0&&r[0]===1/0){var i=new Date;r[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),r[0]=r[1]-yu}this.calcNiceTicks(n.splitNumber,n.minInterval,n.maxInterval)},t.prototype.calcNiceTicks=function(n,r,i){n=n||10;var o=this._extent,s=o[1]-o[0];this._approxInterval=s/n,r!=null&&this._approxInterval<r&&(this._approxInterval=r),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var u=S3.length,a=Math.min(Wtt(S3,this._approxInterval,0,u),u-1);this._interval=S3[a][1],this._minLevelUnit=S3[Math.max(a-1,0)][0]},t.prototype.parse=function(n){return Ja(n)?n:+fh(n)},t.prototype.contain=function(n){return dT(this.parse(n),this._extent)},t.prototype.normalize=function(n){return hT(this.parse(n),this._extent)},t.prototype.scale=function(n){return fT(n,this._extent)},t.type="time",t}(Y_),S3=[["second",PD],["minute",LD],["hour",X2],["quarter-day",X2*6],["half-day",X2*12],["day",yu*1.2],["half-week",yu*3.5],["week",yu*7],["month",yu*31],["quarter",yu*95],["half-year",CH/2],["year",CH]];function qtt(e,t,n,r){var i=fh(t),o=fh(n),s=function(T){return MH(i,T,r)===MH(o,T,r)},u=function(){return s("year")},a=function(){return u()&&s("month")},h=function(){return a()&&s("day")},m=function(){return h()&&s("hour")},v=function(){return m()&&s("minute")},_=function(){return v()&&s("second")},b=function(){return _()&&s("millisecond")};switch(e){case"year":return u();case"month":return a();case"day":return h();case"hour":return m();case"minute":return v();case"second":return _();case"millisecond":return b()}}function Ktt(e,t){return e/=yu,e>16?16:e>7.5?7:e>3.5?4:e>1.5?2:1}function Ytt(e){var t=30*yu;return e/=t,e>6?6:e>3?3:e>2?2:1}function Ztt(e){return e/=X2,e>12?12:e>6?6:e>3.5?4:e>2?2:1}function DU(e,t){return e/=t?LD:PD,e>30?30:e>20?20:e>15?15:e>10?10:e>5?5:e>2?2:1}function Xtt(e){return ZQ(e)}function Jtt(e,t,n){var r=new Date(e);switch(Xg(t)){case"year":case"month":r[Vee(n)](0);case"day":r[Hee(n)](1);case"hour":r[Uee(n)](0);case"minute":r[jee(n)](0);case"second":r[Gee(n)](0),r[Wee(n)](0)}return r.getTime()}function Qtt(e,t,n,r){var i=1e4,o=Nee,s=0;function u(ae,re,se,be,Ie,Se,me){for(var Le=new Date(re),Ee=re,_e=Le[be]();Ee<se&&Ee<=r[1];)me.push({value:Ee}),_e+=ae,Le[Ie](_e),Ee=Le.getTime();me.push({value:Ee,notAdd:!0})}function a(ae,re,se){var be=[],Ie=!re.length;if(!qtt(Xg(ae),r[0],r[1],n)){Ie&&(re=[{value:Jtt(new Date(r[0]),ae,n)},{value:r[1]}]);for(var Se=0;Se<re.length-1;Se++){var me=re[Se].value,Le=re[Se+1].value;if(me!==Le){var Ee=void 0,_e=void 0,xe=void 0,Be=!1;switch(ae){case"year":Ee=Math.max(1,Math.round(t/yu/365)),_e=RD(n),xe=hJe(n);break;case"half-year":case"quarter":case"month":Ee=Ytt(t),_e=Jg(n),xe=Vee(n);break;case"week":case"half-week":case"day":Ee=Ktt(t),_e=nT(n),xe=Hee(n),Be=!0;break;case"half-day":case"quarter-day":case"hour":Ee=Ztt(t),_e=Wx(n),xe=Uee(n);break;case"minute":Ee=DU(t,!0),_e=rT(n),xe=jee(n);break;case"second":Ee=DU(t,!1),_e=iT(n),xe=Gee(n);break;case"millisecond":Ee=Xtt(t),_e=aT(n),xe=Wee(n);break}u(Ee,me,Le,_e,xe,Be,be),ae==="year"&&se.length>1&&Se===0&&se.unshift({value:se[0].value-Ee})}}for(var Se=0;Se<be.length;Se++)se.push(be[Se]);return be}}for(var h=[],m=[],v=0,_=0,b=0;b<o.length&&s++<i;++b){var T=Xg(o[b]);if(uJe(o[b])){a(o[b],h[h.length-1]||[],m);var M=o[b+1]?Xg(o[b+1]):null;if(T!==M){if(m.length){_=v,m.sort(function(ae,re){return ae.value-re.value});for(var E=[],k=0;k<m.length;++k){var z=m[k].value;(k===0||m[k-1].value!==z)&&(E.push(m[k]),z>=r[0]&&z<=r[1]&&v++)}var B=(r[1]-r[0])/t;if(v>B*1.5&&_>B/1.5||(h.push(E),v>B||e===o[b]))break}m=[]}}}for(var U=Ns(xi(h,function(ae){return Ns(ae,function(re){return re.value>=r[0]&&re.value<=r[1]&&!re.notAdd})}),function(ae){return ae.length>0}),W=[],q=U.length-1,b=0;b<U.length;++b)for(var Q=U[b],te=0;te<Q.length;++te)W.push({value:Q[te].value,level:q-b});W.sort(function(ae,re){return ae.value-re.value});for(var ie=[],b=0;b<W.length;++b)(b===0||W[b].value!==W[b-1].value)&&ie.push(W[b]);return ie}bd.registerClass(cne);var OU=bd.prototype,nx=Y_.prototype,ent=wo,tnt=Math.floor,nnt=Math.ceil,C3=Math.pow,Ju=Math.log,KD=function(e){Pr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="log",n.base=10,n._originalScale=new Y_,n._interval=0,n}return t.prototype.getTicks=function(n){var r=this._originalScale,i=this._extent,o=r.getExtent(),s=nx.getTicks.call(this,n);return xi(s,function(u){var a=u.value,h=wo(C3(this.base,a));return h=a===i[0]&&this._fixMin?T3(h,o[0]):h,h=a===i[1]&&this._fixMax?T3(h,o[1]):h,{value:h}},this)},t.prototype.setExtent=function(n,r){var i=Ju(this.base);n=Ju(Math.max(0,n))/i,r=Ju(Math.max(0,r))/i,nx.setExtent.call(this,n,r)},t.prototype.getExtent=function(){var n=this.base,r=OU.getExtent.call(this);r[0]=C3(n,r[0]),r[1]=C3(n,r[1]);var i=this._originalScale,o=i.getExtent();return this._fixMin&&(r[0]=T3(r[0],o[0])),this._fixMax&&(r[1]=T3(r[1],o[1])),r},t.prototype.unionExtent=function(n){this._originalScale.unionExtent(n);var r=this.base;n[0]=Ju(n[0])/Ju(r),n[1]=Ju(n[1])/Ju(r),OU.unionExtent.call(this,n)},t.prototype.unionExtentFromData=function(n,r){this.unionExtent(n.getApproximateExtent(r))},t.prototype.calcNiceTicks=function(n){n=n||10;var r=this._extent,i=r[1]-r[0];if(!(i===1/0||i<=0)){var o=mYe(i),s=n/i*o;for(s<=.5&&(o*=10);!isNaN(o)&&Math.abs(o)<1&&Math.abs(o)>0;)o*=10;var u=[wo(nnt(r[0]/o)*o),wo(tnt(r[1]/o)*o)];this._interval=o,this._niceExtent=u}},t.prototype.calcNiceExtent=function(n){nx.calcNiceExtent.call(this,n),this._fixMin=n.fixMin,this._fixMax=n.fixMax},t.prototype.parse=function(n){return n},t.prototype.contain=function(n){return n=Ju(n)/Ju(this.base),dT(n,this._extent)},t.prototype.normalize=function(n){return n=Ju(n)/Ju(this.base),hT(n,this._extent)},t.prototype.scale=function(n){return n=fT(n,this._extent),C3(this.base,n)},t.type="log",t}(bd),dne=KD.prototype;dne.getMinorTicks=nx.getMinorTicks;dne.getLabel=nx.getLabel;function T3(e,t){return ent(e,eh(t))}bd.registerClass(KD);var rnt=function(){function e(t,n,r){this._prepareParams(t,n,r)}return e.prototype._prepareParams=function(t,n,r){r[1]<r[0]&&(r=[NaN,NaN]),this._dataMin=r[0],this._dataMax=r[1];var i=this._isOrdinal=t.type==="ordinal";this._needCrossZero=t.type==="interval"&&n.getNeedCrossZero&&n.getNeedCrossZero();var o=n.get("min",!0);o==null&&(o=n.get("startValue",!0));var s=this._modelMinRaw=o;Ai(s)?this._modelMinNum=M3(t,s({min:r[0],max:r[1]})):s!=="dataMin"&&(this._modelMinNum=M3(t,s));var u=this._modelMaxRaw=n.get("max",!0);if(Ai(u)?this._modelMaxNum=M3(t,u({min:r[0],max:r[1]})):u!=="dataMax"&&(this._modelMaxNum=M3(t,u)),i)this._axisDataLen=n.getCategories().length;else{var a=n.get("boundaryGap"),h=zr(a)?a:[a||0,a||0];typeof h[0]=="boolean"||typeof h[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[C0(h[0],1),C0(h[1],1)]}},e.prototype.calculate=function(){var t=this._isOrdinal,n=this._dataMin,r=this._dataMax,i=this._axisDataLen,o=this._boundaryGapInner,s=t?null:r-n||Math.abs(n),u=this._modelMinRaw==="dataMin"?n:this._modelMinNum,a=this._modelMaxRaw==="dataMax"?r:this._modelMaxNum,h=u!=null,m=a!=null;u==null&&(u=t?i?0:NaN:n-o[0]*s),a==null&&(a=t?i?i-1:NaN:r+o[1]*s),(u==null||!isFinite(u))&&(u=NaN),(a==null||!isFinite(a))&&(a=NaN);var v=hC(u)||hC(a)||t&&!i;this._needCrossZero&&(u>0&&a>0&&!h&&(u=0),u<0&&a<0&&!m&&(a=0));var _=this._determinedMin,b=this._determinedMax;return _!=null&&(u=_,h=!0),b!=null&&(a=b,m=!0),{min:u,max:a,minFixed:h,maxFixed:m,isBlank:v}},e.prototype.modifyDataMinMax=function(t,n){this[ant[t]]=n},e.prototype.setDeterminedMinMax=function(t,n){var r=int[t];this[r]=n},e.prototype.freeze=function(){this.frozen=!0},e}(),int={min:"_determinedMin",max:"_determinedMax"},ant={min:"_dataMin",max:"_dataMax"};function ont(e,t,n){var r=e.rawExtentInfo;return r||(r=new rnt(e,t,n),e.rawExtentInfo=r,r)}function M3(e,t){return t==null?null:hC(t)?NaN:e.parse(t)}function hne(e,t){var n=e.type,r=ont(e,t,e.getExtent()).calculate();e.setBlank(r.isBlank);var i=r.min,o=r.max,s=t.ecModel;if(s&&n==="time"){var u=Ntt("bar",s),a=!1;if(Gt(u,function(v){a=a||v.getBaseAxis()===t.axis}),a){var h=Vtt(u),m=snt(i,o,t,h);i=m.min,o=m.max}}return{extent:[i,o],fixMin:r.minFixed,fixMax:r.maxFixed}}function snt(e,t,n,r){var i=n.axis.getExtent(),o=i[1]-i[0],s=Utt(r,n.axis);if(s===void 0)return{min:e,max:t};var u=1/0;Gt(s,function(b){u=Math.min(b.offset,u)});var a=-1/0;Gt(s,function(b){a=Math.max(b.offset+b.width,a)}),u=Math.abs(u),a=Math.abs(a);var h=u+a,m=t-e,v=1-(u+a)/o,_=m/v-m;return t+=_*(a/h),e-=_*(u/h),{min:e,max:t}}function zU(e,t){var n=t,r=hne(e,n),i=r.extent,o=n.get("splitNumber");e instanceof KD&&(e.base=n.get("logBase"));var s=e.type,u=n.get("interval"),a=s==="interval"||s==="time";e.setExtent(i[0],i[1]),e.calcNiceExtent({splitNumber:o,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:a?n.get("minInterval"):null,maxInterval:a?n.get("maxInterval"):null}),u!=null&&e.setInterval&&e.setInterval(u)}function lnt(e,t){if(t=t||e.get("type"),t)switch(t){case"category":return new qD({ordinalMeta:e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),extent:[1/0,-1/0]});case"time":return new cne({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new(bd.getClass(t)||Y_)}}function unt(e){var t=e.scale.getExtent(),n=t[0],r=t[1];return!(n>0&&r>0||n<0&&r<0)}function Z_(e){var t=e.getLabelModel().get("formatter"),n=e.type==="category"?e.scale.getExtent()[0]:null;return e.scale.type==="time"?function(r){return function(i,o){return e.scale.getFormattedLabel(i,o,r)}}(t):Zr(t)?function(r){return function(i){var o=e.scale.getLabel(i),s=r.replace("{value}",o??"");return s}}(t):Ai(t)?function(r){return function(i,o){return n!=null&&(o=i.value-n),r(YD(e,i),o,i.level!=null?{level:i.level}:null)}}(t):function(r){return e.scale.getLabel(r)}}function YD(e,t){return e.type==="category"?e.scale.getLabel(t):t.value}function cnt(e){var t=e.model,n=e.scale;if(!(!t.get(["axisLabel","show"])||n.isBlank())){var r,i,o=n.getExtent();n instanceof qD?i=n.count():(r=n.getTicks(),i=r.length);var s=e.getLabelModel(),u=Z_(e),a,h=1;i>40&&(h=Math.ceil(i/40));for(var m=0;m<i;m+=h){var v=r?r[m]:{value:o[0]+m},_=u(v,m),b=s.getTextRect(_),T=dnt(b,s.get("rotate")||0);a?a.union(T):a=T}return a}}function dnt(e,t){var n=t*Math.PI/180,r=e.width,i=e.height,o=r*Math.abs(Math.cos(n))+Math.abs(i*Math.sin(n)),s=r*Math.abs(Math.sin(n))+Math.abs(i*Math.cos(n)),u=new ha(e.x,e.y,o,s);return u}function ZD(e){var t=e.get("interval");return t??"auto"}function fne(e){return e.type==="category"&&ZD(e.getLabelModel())===0}function hnt(e,t){var n={};return Gt(e.mapDimensionsAll(t),function(r){n[Ett(e,r)]=!0}),Xa(n)}var fnt=function(){function e(){}return e.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},e.prototype.getCoordSysModel=function(){},e}(),BU=[],pnt={registerPreprocessor:Jte,registerProcessor:Qte,registerPostInit:ett,registerPostUpdate:ttt,registerUpdateLifecycle:GD,registerAction:K_,registerCoordinateSystem:ntt,registerLayout:rtt,registerVisual:L0,registerTransform:att,registerLoading:ene,registerMap:itt,registerImpl:Det,PRIORITY:qet,ComponentModel:Sa,ComponentView:ld,SeriesModel:mp,ChartView:nd,registerComponentModel:function(e){Sa.registerClass(e)},registerComponentView:function(e){ld.registerClass(e)},registerSeriesModel:function(e){mp.registerClass(e)},registerChartView:function(e){nd.registerClass(e)},registerSubTypeDefaulter:function(e,t){Sa.registerSubTypeDefaulter(e,t)},registerPainter:function(e,t){uYe(e,t)}};function vp(e){if(zr(e)){Gt(e,function(t){vp(t)});return}Ta(BU,e)>=0||(BU.push(e),Ai(e)&&(e={install:e}),e.install(pnt))}var Qx=Do();function pne(e,t){var n=xi(t,function(r){return e.scale.parse(r)});return e.type==="time"&&n.length>0&&(n.sort(),n.unshift(n[0]),n.push(n[n.length-1])),n}function mnt(e){var t=e.getLabelModel().get("customValues");if(t){var n=Z_(e);return{labels:pne(e,t).map(function(r){var i={value:r};return{formattedLabel:n(i),rawLabel:e.scale.getLabel(i),tickValue:r}})}}return e.type==="category"?gnt(e):ynt(e)}function vnt(e,t){var n=e.getTickModel().get("customValues");return n?{ticks:pne(e,n)}:e.type==="category"?_nt(e,t):{ticks:xi(e.scale.getTicks(),function(r){return r.value})}}function gnt(e){var t=e.getLabelModel(),n=mne(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}function mne(e,t){var n=vne(e,"labels"),r=ZD(t),i=gne(n,r);if(i)return i;var o,s;return Ai(r)?o=bne(e,r):(s=r==="auto"?bnt(e):r,o=yne(e,s)),_ne(n,r,{labels:o,labelCategoryInterval:s})}function _nt(e,t){var n=vne(e,"ticks"),r=ZD(t),i=gne(n,r);if(i)return i;var o,s;if((!t.get("show")||e.scale.isBlank())&&(o=[]),Ai(r))o=bne(e,r,!0);else if(r==="auto"){var u=mne(e,e.getLabelModel());s=u.labelCategoryInterval,o=xi(u.labels,function(a){return a.tickValue})}else s=r,o=yne(e,s,!0);return _ne(n,r,{ticks:o,tickCategoryInterval:s})}function ynt(e){var t=e.scale.getTicks(),n=Z_(e);return{labels:xi(t,function(r,i){return{level:r.level,formattedLabel:n(r,i),rawLabel:e.scale.getLabel(r),tickValue:r.value}})}}function vne(e,t){return Qx(e)[t]||(Qx(e)[t]=[])}function gne(e,t){for(var n=0;n<e.length;n++)if(e[n].key===t)return e[n].value}function _ne(e,t,n){return e.push({key:t,value:n}),n}function bnt(e){var t=Qx(e).autoInterval;return t??(Qx(e).autoInterval=e.calculateCategoryInterval())}function xnt(e){var t=wnt(e),n=Z_(e),r=(t.axisRotate-t.labelRotate)/180*Math.PI,i=e.scale,o=i.getExtent(),s=i.count();if(o[1]-o[0]<1)return 0;var u=1;s>40&&(u=Math.max(1,Math.floor(s/40)));for(var a=o[0],h=e.dataToCoord(a+1)-e.dataToCoord(a),m=Math.abs(h*Math.cos(r)),v=Math.abs(h*Math.sin(r)),_=0,b=0;a<=o[1];a+=u){var T=0,M=0,E=oD(n({value:a}),t.font,"center","top");T=E.width*1.3,M=E.height*1.3,_=Math.max(_,T,7),b=Math.max(b,M,7)}var k=_/m,z=b/v;isNaN(k)&&(k=1/0),isNaN(z)&&(z=1/0);var B=Math.max(0,Math.floor(Math.min(k,z))),U=Qx(e.model),W=e.getExtent(),q=U.lastAutoInterval,Q=U.lastTickCount;return q!=null&&Q!=null&&Math.abs(q-B)<=1&&Math.abs(Q-s)<=1&&q>B&&U.axisExtent0===W[0]&&U.axisExtent1===W[1]?B=q:(U.lastTickCount=s,U.lastAutoInterval=B,U.axisExtent0=W[0],U.axisExtent1=W[1]),B}function wnt(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function yne(e,t,n){var r=Z_(e),i=e.scale,o=i.getExtent(),s=e.getLabelModel(),u=[],a=Math.max((t||0)+1,1),h=o[0],m=i.count();h!==0&&a>1&&m/a>2&&(h=Math.round(Math.ceil(h/a)*a));var v=fne(e),_=s.get("showMinLabel")||v,b=s.get("showMaxLabel")||v;_&&h!==o[0]&&M(o[0]);for(var T=h;T<=o[1];T+=a)M(T);b&&T-a!==o[1]&&M(o[1]);function M(E){var k={value:E};u.push(n?E:{formattedLabel:r(k),rawLabel:i.getLabel(k),tickValue:E})}return u}function bne(e,t,n){var r=e.scale,i=Z_(e),o=[];return Gt(r.getTicks(),function(s){var u=r.getLabel(s),a=s.value;t(s.value,u)&&o.push(n?a:{formattedLabel:i(s),rawLabel:u,tickValue:a})}),o}var FU=[0,1],Snt=function(){function e(t,n,r){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=n,this._extent=r||[0,0]}return e.prototype.contain=function(t){var n=this._extent,r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return t>=r&&t<=i},e.prototype.containData=function(t){return this.scale.contain(t)},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.getPixelPrecision=function(t){return hYe(t||this.scale.getExtent(),this._extent)},e.prototype.setExtent=function(t,n){var r=this._extent;r[0]=t,r[1]=n},e.prototype.dataToCoord=function(t,n){var r=this._extent,i=this.scale;return t=i.normalize(t),this.onBand&&i.type==="ordinal"&&(r=r.slice(),NU(r,i.count())),PV(t,FU,r,n)},e.prototype.coordToData=function(t,n){var r=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(r=r.slice(),NU(r,i.count()));var o=PV(t,r,FU,n);return this.scale.scale(o)},e.prototype.pointToData=function(t,n){},e.prototype.getTicksCoords=function(t){t=t||{};var n=t.tickModel||this.getTickModel(),r=vnt(this,n),i=r.ticks,o=xi(i,function(u){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(u):u),tickValue:u}},this),s=n.get("alignWithLabel");return Cnt(this,o,s,t.clamp),o},e.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),n=t.get("splitNumber");n>0&&n<100||(n=5);var r=this.scale.getMinorTicks(n),i=xi(r,function(o){return xi(o,function(s){return{coord:this.dataToCoord(s),tickValue:s}},this)},this);return i},e.prototype.getViewLabels=function(){return mnt(this).labels},e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},e.prototype.getTickModel=function(){return this.model.getModel("axisTick")},e.prototype.getBandWidth=function(){var t=this._extent,n=this.scale.getExtent(),r=n[1]-n[0]+(this.onBand?1:0);r===0&&(r=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/r},e.prototype.calculateCategoryInterval=function(){return xnt(this)},e}();function NU(e,t){var n=e[1]-e[0],r=t,i=n/r/2;e[0]+=i,e[1]-=i}function Cnt(e,t,n,r){var i=t.length;if(!e.onBand||n||!i)return;var o=e.getExtent(),s,u;if(i===1)t[0].coord=o[0],s=t[1]={coord:o[1]};else{var a=t[i-1].tickValue-t[0].tickValue,h=(t[i-1].coord-t[0].coord)/a;Gt(t,function(b){b.coord-=h/2});var m=e.scale.getExtent();u=1+m[1]-t[i-1].tickValue,s={coord:t[i-1].coord+h*u},t.push(s)}var v=o[0]>o[1];_(t[0].coord,o[0])&&(r?t[0].coord=o[0]:t.shift()),r&&_(o[0],t[0].coord)&&t.unshift({coord:o[0]}),_(o[1],s.coord)&&(r?s.coord=o[1]:t.pop()),r&&_(s.coord,o[1])&&t.push({coord:o[1]});function _(b,T){return b=wo(b),T=wo(T),v?b>T:b<T}}function Tnt(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(!r.defaultAttr.ignore){var i=r.label,o=i.getComputedTransform(),s=i.getBoundingRect(),u=!o||o[1]<1e-5&&o[2]<1e-5,a=i.style.margin||0,h=s.clone();h.applyTransform(o),h.x-=a/2,h.y-=a/2,h.width+=a,h.height+=a;var m=u?new TC(s,o):null;t.push({label:i,labelLine:r.labelLine,rect:h,localRect:s,obb:m,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:u,transform:o})}}return t}function Mnt(e){var t=[];e.sort(function(M,E){return E.priority-M.priority});var n=new ha(0,0,0,0);function r(M){if(!M.ignore){var E=M.ensureState("emphasis");E.ignore==null&&(E.ignore=!1)}M.ignore=!0}for(var i=0;i<e.length;i++){var o=e[i],s=o.axisAligned,u=o.localRect,a=o.transform,h=o.label,m=o.labelLine;n.copy(o.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var v=o.obb,_=!1,b=0;b<t.length;b++){var T=t[b];if(n.intersect(T.rect)){if(s&&T.axisAligned){_=!0;break}if(T.obb||(T.obb=new TC(T.localRect,T.transform)),v||(v=new TC(u,a)),v.intersect(T.obb)){_=!0;break}}}_?(r(h),m&&r(m)):(h.attr("ignore",o.defaultAttr.ignore),m&&m.attr("ignore",o.defaultAttr.labelGuideIgnore),t.push(o))}}function $U(e,t,n){var r=j_.createCanvas(),i=t.getWidth(),o=t.getHeight(),s=r.style;return s&&(s.position="absolute",s.left="0",s.top="0",s.width=i+"px",s.height=o+"px",r.setAttribute("data-zr-dom-id",e)),r.width=i*n,r.height=o*n,r}var fA=function(e){Pr(t,e);function t(n,r,i){var o=e.call(this)||this;o.motionBlur=!1,o.lastFrameAlpha=.7,o.dpr=1,o.virtual=!1,o.config={},o.incremental=!1,o.zlevel=0,o.maxRepaintRectCount=5,o.__dirty=!0,o.__firstTimePaint=!0,o.__used=!1,o.__drawIndex=0,o.__startIndex=0,o.__endIndex=0,o.__prevStartIndex=null,o.__prevEndIndex=null;var s;i=i||yC,typeof n=="string"?s=$U(n,r,i):oi(n)&&(s=n,n=s.id),o.id=n,o.dom=s;var u=s.style;return u&&(AQ(s),s.onselectstart=function(){return!1},u.padding="0",u.margin="0",u.borderWidth="0"),o.painter=r,o.dpr=i,o}return t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var n=this.dpr;this.domBack=$U("back-"+this.id,this.painter,n),this.ctxBack=this.domBack.getContext("2d"),n!==1&&this.ctxBack.scale(n,n)},t.prototype.createRepaintRects=function(n,r,i,o){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var s=[],u=this.maxRepaintRectCount,a=!1,h=new ha(0,0,0,0);function m(z){if(!(!z.isFinite()||z.isZero()))if(s.length===0){var B=new ha(0,0,0,0);B.copy(z),s.push(B)}else{for(var U=!1,W=1/0,q=0,Q=0;Q<s.length;++Q){var te=s[Q];if(te.intersect(z)){var ie=new ha(0,0,0,0);ie.copy(te),ie.union(z),s[Q]=ie,U=!0;break}else if(a){h.copy(z),h.union(te);var ae=z.width*z.height,re=te.width*te.height,se=h.width*h.height,be=se-ae-re;be<W&&(W=be,q=Q)}}if(a&&(s[q].union(z),U=!0),!U){var B=new ha(0,0,0,0);B.copy(z),s.push(B)}a||(a=s.length>=u)}}for(var v=this.__startIndex;v<this.__endIndex;++v){var _=n[v];if(_){var b=_.shouldBePainted(i,o,!0,!0),T=_.__isRendered&&(_.__dirty&Ol||!b)?_.getPrevPaintRect():null;T&&m(T);var M=b&&(_.__dirty&Ol||!_.__isRendered)?_.getPaintRect():null;M&&m(M)}}for(var v=this.__prevStartIndex;v<this.__prevEndIndex;++v){var _=r[v],b=_&&_.shouldBePainted(i,o,!0,!0);if(_&&(!b||!_.__zr)&&_.__isRendered){var T=_.getPrevPaintRect();T&&m(T)}}var E;do{E=!1;for(var v=0;v<s.length;){if(s[v].isZero()){s.splice(v,1);continue}for(var k=v+1;k<s.length;)s[v].intersect(s[k])?(E=!0,s[v].union(s[k]),s.splice(k,1)):k++;v++}}while(E);return this._paintRects=s,s},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(n,r){var i=this.dpr,o=this.dom,s=o.style,u=this.domBack;s&&(s.width=n+"px",s.height=r+"px"),o.width=n*i,o.height=r*i,u&&(u.width=n*i,u.height=r*i,i!==1&&this.ctxBack.scale(i,i))},t.prototype.clear=function(n,r,i){var o=this.dom,s=this.ctx,u=o.width,a=o.height;r=r||this.clearColor;var h=this.motionBlur&&!n,m=this.lastFrameAlpha,v=this.dpr,_=this;h&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(o,0,0,u/v,a/v));var b=this.domBack;function T(M,E,k,z){if(s.clearRect(M,E,k,z),r&&r!=="transparent"){var B=void 0;if($8(r)){var U=r.global||r.__width===k&&r.__height===z;B=U&&r.__canvasGradient||aP(s,r,{x:0,y:0,width:k,height:z}),r.__canvasGradient=B,r.__width=k,r.__height=z}else jqe(r)&&(r.scaleX=r.scaleX||v,r.scaleY=r.scaleY||v,B=oP(s,r,{dirty:function(){_.setUnpainted(),_.painter.refresh()}}));s.save(),s.fillStyle=B||r,s.fillRect(M,E,k,z),s.restore()}h&&(s.save(),s.globalAlpha=m,s.drawImage(b,M,E,k,z),s.restore())}!i||h?T(0,0,u,a):i.length&&Gt(i,function(M){T(M.x*v,M.y*v,M.width*v,M.height*v)})},t}(_d),VU=1e5,Bm=314159,E3=.01,Ent=.001;function Ant(e){return e?e.__builtin__?!0:!(typeof e.resize!="function"||typeof e.refresh!="function"):!1}function Int(e,t){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}var knt=function(){function e(t,n,r,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var o=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=r=vr({},r||{}),this.dpr=r.devicePixelRatio||yC,this._singleCanvas=o,this.root=t;var s=t.style;s&&(AQ(t),t.innerHTML=""),this.storage=n;var u=this._zlevelList;this._prevDisplayList=[];var a=this._layers;if(o){var m=t,v=m.width,_=m.height;r.width!=null&&(v=r.width),r.height!=null&&(_=r.height),this.dpr=r.devicePixelRatio||1,m.width=v*this.dpr,m.height=_*this.dpr,this._width=v,this._height=_;var b=new fA(m,this,this.dpr);b.__builtin__=!0,b.initContext(),a[Bm]=b,b.zlevel=Bm,u.push(Bm),this._domRoot=t}else{this._width=_3(t,0,r),this._height=_3(t,1,r);var h=this._domRoot=Int(this._width,this._height);t.appendChild(h)}}return e.prototype.getType=function(){return"canvas"},e.prototype.isSingleCanvas=function(){return this._singleCanvas},e.prototype.getViewportRoot=function(){return this._domRoot},e.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},e.prototype.refresh=function(t){var n=this.storage.getDisplayList(!0),r=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(n,r,t,this._redrawId);for(var o=0;o<i.length;o++){var s=i[o],u=this._layers[s];if(!u.__builtin__&&u.refresh){var a=o===0?this._backgroundColor:null;u.refresh(a)}}return this._opts.useDirtyRect&&(this._prevDisplayList=n.slice()),this},e.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},e.prototype._paintHoverList=function(t){var n=t.length,r=this._hoverlayer;if(r&&r.clear(),!!n){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},o,s=0;s<n;s++){var u=t[s];u.__inHover&&(r||(r=this._hoverlayer=this.getLayer(VU)),o||(o=r.ctx,o.save()),Jm(o,u,i,s===n-1))}o&&o.restore()}},e.prototype.getHoverLayer=function(){return this.getLayer(VU)},e.prototype.paintOne=function(t,n){Ote(t,n)},e.prototype._paintList=function(t,n,r,i){if(this._redrawId===i){r=r||!1,this._updateLayerStatus(t);var o=this._doPaintList(t,n,r),s=o.finished,u=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),u&&this._paintHoverList(t),s)this.eachLayer(function(h){h.afterBrush&&h.afterBrush()});else{var a=this;fC(function(){a._paintList(t,n,r,i)})}}},e.prototype._compositeManually=function(){var t=this.getLayer(Bm).ctx,n=this._domRoot.width,r=this._domRoot.height;t.clearRect(0,0,n,r),this.eachBuiltinLayer(function(i){i.virtual&&t.drawImage(i.dom,0,0,n,r)})},e.prototype._doPaintList=function(t,n,r){for(var i=this,o=[],s=this._opts.useDirtyRect,u=0;u<this._zlevelList.length;u++){var a=this._zlevelList[u],h=this._layers[a];h.__builtin__&&h!==this._hoverlayer&&(h.__dirty||r)&&o.push(h)}for(var m=!0,v=!1,_=function(M){var E=o[M],k=E.ctx,z=s&&E.createRepaintRects(t,n,b._width,b._height),B=r?E.__startIndex:E.__drawIndex,U=!r&&E.incremental&&Date.now,W=U&&Date.now(),q=E.zlevel===b._zlevelList[0]?b._backgroundColor:null;if(E.__startIndex===E.__endIndex)E.clear(!1,q,z);else if(B===E.__startIndex){var Q=t[B];(!Q.incremental||!Q.notClear||r)&&E.clear(!1,q,z)}B===-1&&(console.error("For some unknown reason. drawIndex is -1"),B=E.__startIndex);var te,ie=function(be){var Ie={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(te=B;te<E.__endIndex;te++){var Se=t[te];if(Se.__inHover&&(v=!0),i._doPaintEl(Se,E,s,be,Ie,te===E.__endIndex-1),U){var me=Date.now()-W;if(me>15)break}}Ie.prevElClipPaths&&k.restore()};if(z)if(z.length===0)te=E.__endIndex;else for(var ae=b.dpr,re=0;re<z.length;++re){var se=z[re];k.save(),k.beginPath(),k.rect(se.x*ae,se.y*ae,se.width*ae,se.height*ae),k.clip(),ie(se),k.restore()}else k.save(),ie(),k.restore();E.__drawIndex=te,E.__drawIndex<E.__endIndex&&(m=!1)},b=this,T=0;T<o.length;T++)_(T);return Si.wxa&&Gt(this._layers,function(M){M&&M.ctx&&M.ctx.draw&&M.ctx.draw()}),{finished:m,needsRefreshHover:v}},e.prototype._doPaintEl=function(t,n,r,i,o,s){var u=n.ctx;if(r){var a=t.getPaintRect();(!i||a&&a.intersect(i))&&(Jm(u,t,o,s),t.setPrevPaintRect(a))}else Jm(u,t,o,s)},e.prototype.getLayer=function(t,n){this._singleCanvas&&!this._needsManuallyCompositing&&(t=Bm);var r=this._layers[t];return r||(r=new fA("zr_"+t,this,this.dpr),r.zlevel=t,r.__builtin__=!0,this._layerConfig[t]?da(r,this._layerConfig[t],!0):this._layerConfig[t-E3]&&da(r,this._layerConfig[t-E3],!0),n&&(r.virtual=n),this.insertLayer(t,r),r.initContext()),r},e.prototype.insertLayer=function(t,n){var r=this._layers,i=this._zlevelList,o=i.length,s=this._domRoot,u=null,a=-1;if(!r[t]&&Ant(n)){if(o>0&&t>i[0]){for(a=0;a<o-1&&!(i[a]<t&&i[a+1]>t);a++);u=r[i[a]]}if(i.splice(a+1,0,t),r[t]=n,!n.virtual)if(u){var h=u.dom;h.nextSibling?s.insertBefore(n.dom,h.nextSibling):s.appendChild(n.dom)}else s.firstChild?s.insertBefore(n.dom,s.firstChild):s.appendChild(n.dom);n.painter||(n.painter=this)}},e.prototype.eachLayer=function(t,n){for(var r=this._zlevelList,i=0;i<r.length;i++){var o=r[i];t.call(n,this._layers[o],o)}},e.prototype.eachBuiltinLayer=function(t,n){for(var r=this._zlevelList,i=0;i<r.length;i++){var o=r[i],s=this._layers[o];s.__builtin__&&t.call(n,s,o)}},e.prototype.eachOtherLayer=function(t,n){for(var r=this._zlevelList,i=0;i<r.length;i++){var o=r[i],s=this._layers[o];s.__builtin__||t.call(n,s,o)}},e.prototype.getLayers=function(){return this._layers},e.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(v,_){v.__dirty=v.__used=!1});function n(v){o&&(o.__endIndex!==v&&(o.__dirty=!0),o.__endIndex=v)}if(this._singleCanvas)for(var r=1;r<t.length;r++){var i=t[r];if(i.zlevel!==t[r-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var o=null,s=0,u,a;for(a=0;a<t.length;a++){var i=t[a],h=i.zlevel,m=void 0;u!==h&&(u=h,s=0),i.incremental?(m=this.getLayer(h+Ent,this._needsManuallyCompositing),m.incremental=!0,s=1):m=this.getLayer(h+(s>0?E3:0),this._needsManuallyCompositing),m.__builtin__||JR("ZLevel "+h+" has been used by unkown layer "+m.id),m!==o&&(m.__used=!0,m.__startIndex!==a&&(m.__dirty=!0),m.__startIndex=a,m.incremental?m.__drawIndex=-1:m.__drawIndex=a,n(a),o=m),i.__dirty&Ol&&!i.__inHover&&(m.__dirty=!0,m.incremental&&m.__drawIndex<0&&(m.__drawIndex=a))}n(a),this.eachBuiltinLayer(function(v,_){!v.__used&&v.getElementCount()>0&&(v.__dirty=!0,v.__startIndex=v.__endIndex=v.__drawIndex=0),v.__dirty&&v.__drawIndex<0&&(v.__drawIndex=v.__startIndex)})},e.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},e.prototype._clearLayer=function(t){t.clear()},e.prototype.setBackgroundColor=function(t){this._backgroundColor=t,Gt(this._layers,function(n){n.setUnpainted()})},e.prototype.configLayer=function(t,n){if(n){var r=this._layerConfig;r[t]?da(r[t],n,!0):r[t]=n;for(var i=0;i<this._zlevelList.length;i++){var o=this._zlevelList[i];if(o===t||o===t+E3){var s=this._layers[o];da(s,r[t],!0)}}}},e.prototype.delLayer=function(t){var n=this._layers,r=this._zlevelList,i=n[t];i&&(i.dom.parentNode.removeChild(i.dom),delete n[t],r.splice(Ta(r,t),1))},e.prototype.resize=function(t,n){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var i=this._opts,o=this.root;if(t!=null&&(i.width=t),n!=null&&(i.height=n),t=_3(o,0,i),n=_3(o,1,i),r.style.display="",this._width!==t||n!==this._height){r.style.width=t+"px",r.style.height=n+"px";for(var s in this._layers)this._layers.hasOwnProperty(s)&&this._layers[s].resize(t,n);this.refresh(!0)}this._width=t,this._height=n}else{if(t==null||n==null)return;this._width=t,this._height=n,this.getLayer(Bm).resize(t,n)}return this},e.prototype.clearLayer=function(t){var n=this._layers[t];n&&n.clear()},e.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},e.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[Bm].dom;var n=new fA("image",this,t.pixelRatio||this.dpr);n.initContext(),n.clear(!1,t.backgroundColor||this._backgroundColor);var r=n.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var i=n.dom.width,o=n.dom.height;this.eachLayer(function(v){v.__builtin__?r.drawImage(v.dom,0,0,i,o):v.renderToCanvas&&(r.save(),v.renderToCanvas(r),r.restore())})}else for(var s={inHover:!1,viewWidth:this._width,viewHeight:this._height},u=this.storage.getDisplayList(!0),a=0,h=u.length;a<h;a++){var m=u[a];Jm(r,m,s,a===h-1)}return n.dom},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e}();function Pnt(e){e.registerPainter("canvas",knt)}var Lnt=function(e){Pr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(Sa),fP=function(e){Pr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",uc).models[0]},t.type="cartesian2dAxis",t}(Sa);gd(fP,fnt);var xne={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Rnt=da({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},xne),XD=da({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},xne),Dnt=da({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},XD),Ont=_a({logBase:10},XD);const znt={category:Rnt,value:XD,time:Dnt,log:Ont};var Bnt={value:1,category:1,time:1,log:1};function HU(e,t,n,r){Gt(Bnt,function(i,o){var s=da(da({},znt[o],!0),r,!0),u=function(a){Pr(h,a);function h(){var m=a!==null&&a.apply(this,arguments)||this;return m.type=t+"Axis."+o,m}return h.prototype.mergeDefaultAndTheme=function(m,v){var _=qx(this),b=_?sT(m):{},T=v.getTheme();da(m,T.get(o+"Axis")),da(m,this.getDefaultOption()),m.type=UU(m),_&&w_(m,b,_)},h.prototype.optionUpdated=function(){var m=this.option;m.type==="category"&&(this.__ordinalMeta=dP.createByAxisModel(this))},h.prototype.getCategories=function(m){var v=this.option;if(v.type==="category")return m?v.data:this.__ordinalMeta.categories},h.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},h.type=t+"Axis."+o,h.defaultOption=s,h}(n);e.registerComponentModel(u)}),e.registerSubTypeDefaulter(t+"Axis",UU)}function UU(e){return e.type||(e.data?"category":"value")}var Fnt=function(){function e(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return e.prototype.getAxis=function(t){return this._axes[t]},e.prototype.getAxes=function(){return xi(this._dimList,function(t){return this._axes[t]},this)},e.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),Ns(this.getAxes(),function(n){return n.scale.type===t})},e.prototype.addAxis=function(t){var n=t.dim;this._axes[n]=t,this._dimList.push(n)},e}(),pP=["x","y"];function jU(e){return e.type==="interval"||e.type==="time"}var Nnt=function(e){Pr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="cartesian2d",n.dimensions=pP,n}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var n=this.getAxis("x").scale,r=this.getAxis("y").scale;if(!(!jU(n)||!jU(r))){var i=n.getExtent(),o=r.getExtent(),s=this.dataToPoint([i[0],o[0]]),u=this.dataToPoint([i[1],o[1]]),a=i[1]-i[0],h=o[1]-o[0];if(!(!a||!h)){var m=(u[0]-s[0])/a,v=(u[1]-s[1])/h,_=s[0]-i[0]*m,b=s[1]-o[0]*v,T=this._transform=[m,0,0,v,_,b];this._invTransform=rD([],T)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(n){var r=this.getAxis("x"),i=this.getAxis("y");return r.contain(r.toLocalCoord(n[0]))&&i.contain(i.toLocalCoord(n[1]))},t.prototype.containData=function(n){return this.getAxis("x").containData(n[0])&&this.getAxis("y").containData(n[1])},t.prototype.containZone=function(n,r){var i=this.dataToPoint(n),o=this.dataToPoint(r),s=this.getArea(),u=new ha(i[0],i[1],o[0]-i[0],o[1]-i[1]);return s.intersect(u)},t.prototype.dataToPoint=function(n,r,i){i=i||[];var o=n[0],s=n[1];if(this._transform&&o!=null&&isFinite(o)&&s!=null&&isFinite(s))return Tu(i,n,this._transform);var u=this.getAxis("x"),a=this.getAxis("y");return i[0]=u.toGlobalCoord(u.dataToCoord(o,r)),i[1]=a.toGlobalCoord(a.dataToCoord(s,r)),i},t.prototype.clampData=function(n,r){var i=this.getAxis("x").scale,o=this.getAxis("y").scale,s=i.getExtent(),u=o.getExtent(),a=i.parse(n[0]),h=o.parse(n[1]);return r=r||[],r[0]=Math.min(Math.max(Math.min(s[0],s[1]),a),Math.max(s[0],s[1])),r[1]=Math.min(Math.max(Math.min(u[0],u[1]),h),Math.max(u[0],u[1])),r},t.prototype.pointToData=function(n,r){var i=[];if(this._invTransform)return Tu(i,n,this._invTransform);var o=this.getAxis("x"),s=this.getAxis("y");return i[0]=o.coordToData(o.toLocalCoord(n[0]),r),i[1]=s.coordToData(s.toLocalCoord(n[1]),r),i},t.prototype.getOtherAxis=function(n){return this.getAxis(n.dim==="x"?"y":"x")},t.prototype.getArea=function(n){n=n||0;var r=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),o=Math.min(r[0],r[1])-n,s=Math.min(i[0],i[1])-n,u=Math.max(r[0],r[1])-o+n,a=Math.max(i[0],i[1])-s+n;return new ha(o,s,u,a)},t}(Fnt),$nt=function(e){Pr(t,e);function t(n,r,i,o,s){var u=e.call(this,n,r,i)||this;return u.index=0,u.type=o||"value",u.position=s||"bottom",u}return t.prototype.isHorizontal=function(){var n=this.position;return n==="top"||n==="bottom"},t.prototype.getGlobalExtent=function(n){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),n&&r[0]>r[1]&&r.reverse(),r},t.prototype.pointToData=function(n,r){return this.coordToData(this.toLocalCoord(n[this.dim==="x"?0:1]),r)},t.prototype.setCategorySortInfo=function(n){if(this.type!=="category")return!1;this.model.option.categorySortInfo=n,this.scale.setSortInfo(n)},t}(Snt);function mP(e,t,n){n=n||{};var r=e.coordinateSystem,i=t.axis,o={},s=i.getAxesOnZeroOf()[0],u=i.position,a=s?"onZero":u,h=i.dim,m=r.getRect(),v=[m.x,m.x+m.width,m.y,m.y+m.height],_={left:0,right:1,top:0,bottom:1,onZero:2},b=t.get("offset")||0,T=h==="x"?[v[2]-b,v[3]+b]:[v[0]-b,v[1]+b];if(s){var M=s.toGlobalCoord(s.dataToCoord(0));T[_.onZero]=Math.max(Math.min(M,T[1]),T[0])}o.position=[h==="y"?T[_[a]]:v[0],h==="x"?T[_[a]]:v[3]],o.rotation=Math.PI/2*(h==="x"?0:1);var E={top:-1,bottom:1,left:-1,right:1};o.labelDirection=o.tickDirection=o.nameDirection=E[u],o.labelOffset=s?T[_[u]]-T[_.onZero]:0,t.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),Vx(n.labelInside,t.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var k=t.get(["axisLabel","rotate"]);return o.labelRotate=a==="top"?-k:k,o.z2=1,o}function GU(e){return e.get("coordinateSystem")==="cartesian2d"}function WU(e){var t={xAxisModel:null,yAxisModel:null};return Gt(t,function(n,r){var i=r.replace(/Model$/,""),o=e.getReferringComponents(i,uc).models[0];t[r]=o}),t}var pA=Math.log;function Vnt(e,t,n){var r=Y_.prototype,i=r.getTicks.call(n),o=r.getTicks.call(n,!0),s=i.length-1,u=r.getInterval.call(n),a=hne(e,t),h=a.extent,m=a.fixMin,v=a.fixMax;if(e.type==="log"){var _=pA(e.base);h=[pA(h[0])/_,pA(h[1])/_]}e.setExtent(h[0],h[1]),e.calcNiceExtent({splitNumber:s,fixMin:m,fixMax:v});var b=r.getExtent.call(e);m&&(h[0]=b[0]),v&&(h[1]=b[1]);var T=r.getInterval.call(e),M=h[0],E=h[1];if(m&&v)T=(E-M)/s;else if(m)for(E=h[0]+T*s;E<h[1]&&isFinite(E)&&isFinite(h[1]);)T=hA(T),E=h[0]+T*s;else if(v)for(M=h[1]-T*s;M>h[0]&&isFinite(M)&&isFinite(h[0]);)T=hA(T),M=h[1]-T*s;else{var k=e.getTicks().length-1;k>s&&(T=hA(T));var z=T*s;E=Math.ceil(h[1]/T)*T,M=wo(E-z),M<0&&h[0]>=0?(M=0,E=wo(z)):E>0&&h[1]<=0&&(E=0,M=-wo(z))}var B=(i[0].value-o[0].value)/u,U=(i[s].value-o[s].value)/u;r.setExtent.call(e,M+T*B,E+T*U),r.setInterval.call(e,T),(B||U)&&r.setNiceExtent.call(e,M+T,E-T)}var Hnt=function(){function e(t,n,r){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=pP,this._initCartesian(t,n,r),this.model=t}return e.prototype.getRect=function(){return this._rect},e.prototype.update=function(t,n){var r=this._axesMap;this._updateScale(t,this.model);function i(s){var u,a=Xa(s),h=a.length;if(h){for(var m=[],v=h-1;v>=0;v--){var _=+a[v],b=s[_],T=b.model,M=b.scale;hP(M)&&T.get("alignTicks")&&T.get("interval")==null?m.push(b):(zU(M,T),hP(M)&&(u=b))}m.length&&(u||(u=m.pop(),zU(u.scale,u.model)),Gt(m,function(E){Vnt(E.scale,E.model,u.scale)}))}}i(r.x),i(r.y);var o={};Gt(r.x,function(s){qU(r,"y",s,o)}),Gt(r.y,function(s){qU(r,"x",s,o)}),this.resize(this.model,n)},e.prototype.resize=function(t,n,r){var i=t.getBoxLayoutParams(),o=!r&&t.get("containLabel"),s=kC(i,{width:n.getWidth(),height:n.getHeight()});this._rect=s;var u=this._axesList;a(),o&&(Gt(u,function(h){if(!h.model.get(["axisLabel","inside"])){var m=cnt(h);if(m){var v=h.isHorizontal()?"height":"width",_=h.model.get(["axisLabel","margin"]);s[v]-=m[v]+_,h.position==="top"?s.y+=m.height+_:h.position==="left"&&(s.x+=m.width+_)}}}),a()),Gt(this._coordsList,function(h){h.calcAffineTransform()});function a(){Gt(u,function(h){var m=h.isHorizontal(),v=m?[0,s.width]:[0,s.height],_=h.inverse?1:0;h.setExtent(v[_],v[1-_]),Unt(h,m?s.x:s.y)})}},e.prototype.getAxis=function(t,n){var r=this._axesMap[t];if(r!=null)return r[n||0]},e.prototype.getAxes=function(){return this._axesList.slice()},e.prototype.getCartesian=function(t,n){if(t!=null&&n!=null){var r="x"+t+"y"+n;return this._coordsMap[r]}oi(t)&&(n=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,o=this._coordsList;i<o.length;i++)if(o[i].getAxis("x").index===t||o[i].getAxis("y").index===n)return o[i]},e.prototype.getCartesians=function(){return this._coordsList.slice()},e.prototype.convertToPixel=function(t,n,r){var i=this._findConvertTarget(n);return i.cartesian?i.cartesian.dataToPoint(r):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(r)):null},e.prototype.convertFromPixel=function(t,n,r){var i=this._findConvertTarget(n);return i.cartesian?i.cartesian.pointToData(r):i.axis?i.axis.coordToData(i.axis.toLocalCoord(r)):null},e.prototype._findConvertTarget=function(t){var n=t.seriesModel,r=t.xAxisModel||n&&n.getReferringComponents("xAxis",uc).models[0],i=t.yAxisModel||n&&n.getReferringComponents("yAxis",uc).models[0],o=t.gridModel,s=this._coordsList,u,a;if(n)u=n.coordinateSystem,Ta(s,u)<0&&(u=null);else if(r&&i)u=this.getCartesian(r.componentIndex,i.componentIndex);else if(r)a=this.getAxis("x",r.componentIndex);else if(i)a=this.getAxis("y",i.componentIndex);else if(o){var h=o.coordinateSystem;h===this&&(u=this._coordsList[0])}return{cartesian:u,axis:a}},e.prototype.containPoint=function(t){var n=this._coordsList[0];if(n)return n.containPoint(t)},e.prototype._initCartesian=function(t,n,r){var i=this,o=this,s={left:!1,right:!1,top:!1,bottom:!1},u={x:{},y:{}},a={x:0,y:0};if(n.eachComponent("xAxis",h("x"),this),n.eachComponent("yAxis",h("y"),this),!a.x||!a.y){this._axesMap={},this._axesList=[];return}this._axesMap=u,Gt(u.x,function(m,v){Gt(u.y,function(_,b){var T="x"+v+"y"+b,M=new Nnt(T);M.master=i,M.model=t,i._coordsMap[T]=M,i._coordsList.push(M),M.addAxis(m),M.addAxis(_)})});function h(m){return function(v,_){if(mA(v,t)){var b=v.get("position");m==="x"?b!=="top"&&b!=="bottom"&&(b=s.bottom?"top":"bottom"):b!=="left"&&b!=="right"&&(b=s.left?"right":"left"),s[b]=!0;var T=new $nt(m,lnt(v),[0,0],v.get("type"),b),M=T.type==="category";T.onBand=M&&v.get("boundaryGap"),T.inverse=v.get("inverse"),v.axis=T,T.model=v,T.grid=o,T.index=_,o._axesList.push(T),u[m][_]=T,a[m]++}}}},e.prototype._updateScale=function(t,n){Gt(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var o=i.model.get("categorySortInfo");i.scale.setSortInfo(o)}}),t.eachSeries(function(i){if(GU(i)){var o=WU(i),s=o.xAxisModel,u=o.yAxisModel;if(!mA(s,n)||!mA(u,n))return;var a=this.getCartesian(s.componentIndex,u.componentIndex),h=i.getData(),m=a.getAxis("x"),v=a.getAxis("y");r(h,m),r(h,v)}},this);function r(i,o){Gt(hnt(i,o.dim),function(s){o.scale.unionExtentFromData(i,s)})}},e.prototype.getTooltipAxes=function(t){var n=[],r=[];return Gt(this.getCartesians(),function(i){var o=t!=null&&t!=="auto"?i.getAxis(t):i.getBaseAxis(),s=i.getOtherAxis(o);Ta(n,o)<0&&n.push(o),Ta(r,s)<0&&r.push(s)}),{baseAxes:n,otherAxes:r}},e.create=function(t,n){var r=[];return t.eachComponent("grid",function(i,o){var s=new e(i,t,n);s.name="grid_"+o,s.resize(i,n,!0),i.coordinateSystem=s,r.push(s)}),t.eachSeries(function(i){if(GU(i)){var o=WU(i),s=o.xAxisModel,u=o.yAxisModel,a=s.getCoordSysModel(),h=a.coordinateSystem;i.coordinateSystem=h.getCartesian(s.componentIndex,u.componentIndex)}}),r},e.dimensions=pP,e}();function mA(e,t){return e.getCoordSysModel()===t}function qU(e,t,n,r){n.getAxesOnZeroOf=function(){return o?[o]:[]};var i=e[t],o,s=n.model,u=s.get(["axisLine","onZero"]),a=s.get(["axisLine","onZeroAxisIndex"]);if(!u)return;if(a!=null)KU(i[a])&&(o=i[a]);else for(var h in i)if(i.hasOwnProperty(h)&&KU(i[h])&&!r[m(i[h])]){o=i[h];break}o&&(r[m(o)]=!0);function m(v){return v.dim+"_"+v.index}}function KU(e){return e&&e.type!=="category"&&e.type!=="time"&&unt(e)}function Unt(e,t){var n=e.getExtent(),r=n[0]+n[1];e.toGlobalCoord=e.dim==="x"?function(i){return i+t}:function(i){return r-i+t},e.toLocalCoord=e.dim==="x"?function(i){return i-t}:function(i){return r-i+t}}var Kf=Math.PI,rp=function(){function e(t,n){this.group=new ws,this.opt=n,this.axisModel=t,_a(n,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var r=new ws({x:n.position[0],y:n.position[1],rotation:n.rotation});r.updateTransform(),this._transformGroup=r}return e.prototype.hasBuilder=function(t){return!!YU[t]},e.prototype.add=function(t){YU[t](this.opt,this.axisModel,this.group,this._transformGroup)},e.prototype.getGroup=function(){return this.group},e.innerTextLayout=function(t,n,r){var i=YQ(n-t),o,s;return bC(i)?(s=r>0?"top":"bottom",o="center"):bC(i-Kf)?(s=r>0?"bottom":"top",o="center"):(s="middle",i>0&&i<Kf?o=r>0?"right":"left":o=r>0?"left":"right"),{rotation:i,textAlign:o,textVerticalAlign:s}},e.makeAxisEventDataBase=function(t){var n={componentType:t.mainType,componentIndex:t.componentIndex};return n[t.mainType+"Index"]=t.componentIndex,n},e.isLabelSilent=function(t){var n=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||n&&n.show)},e}(),YU={axisLine:function(e,t,n,r){var i=t.get(["axisLine","show"]);if(i==="auto"&&e.handleAutoShown&&(i=e.handleAutoShown("axisLine")),!!i){var o=t.axis.getExtent(),s=r.transform,u=[o[0],0],a=[o[1],0],h=u[0]>a[0];s&&(Tu(u,u,s),Tu(a,a,s));var m=vr({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),v=new fp({shape:{x1:u[0],y1:u[1],x2:a[0],y2:a[1]},style:m,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1});Gx(v.shape,v.style.lineWidth),v.anid="line",n.add(v);var _=t.get(["axisLine","symbol"]);if(_!=null){var b=t.get(["axisLine","symbolSize"]);Zr(_)&&(_=[_,_]),(Zr(b)||Ja(b))&&(b=[b,b]);var T=Pte(t.get(["axisLine","symbolOffset"])||0,b),M=b[0],E=b[1];Gt([{rotate:e.rotation+Math.PI/2,offset:T[0],r:0},{rotate:e.rotation-Math.PI/2,offset:T[1],r:Math.sqrt((u[0]-a[0])*(u[0]-a[0])+(u[1]-a[1])*(u[1]-a[1]))}],function(k,z){if(_[z]!=="none"&&_[z]!=null){var B=C_(_[z],-M/2,-E/2,M,E,m.stroke,!0),U=k.r+k.offset,W=h?a:u;B.attr({rotation:k.rotate,x:W[0]+U*Math.cos(e.rotation),y:W[1]-U*Math.sin(e.rotation),silent:!0,z2:11}),n.add(B)}})}}},axisTickLabel:function(e,t,n,r){var i=Wnt(n,r,t,e),o=Knt(n,r,t,e);if(Gnt(t,o,i),qnt(n,r,t,e.tickDirection),t.get(["axisLabel","hideOverlap"])){var s=Tnt(xi(o,function(u){return{label:u,priority:u.z2,defaultAttr:{ignore:u.ignore}}}));Mnt(s)}},axisName:function(e,t,n,r){var i=Vx(e.axisName,t.get("name"));if(i){var o=t.get("nameLocation"),s=e.nameDirection,u=t.getModel("nameTextStyle"),a=t.get("nameGap")||0,h=t.axis.getExtent(),m=h[0]>h[1]?-1:1,v=[o==="start"?h[0]-m*a:o==="end"?h[1]+m*a:(h[0]+h[1])/2,XU(o)?e.labelOffset+s*a:0],_,b=t.get("nameRotate");b!=null&&(b=b*Kf/180);var T;XU(o)?_=rp.innerTextLayout(e.rotation,b??e.rotation,s):(_=jnt(e.rotation,o,b||0,h),T=e.axisNameAvailableWidth,T!=null&&(T=Math.abs(T/Math.sin(_.rotation)),!isFinite(T)&&(T=null)));var M=u.getFont(),E=t.get("nameTruncate",!0)||{},k=E.ellipsis,z=Vx(e.nameTruncateMaxWidth,E.maxWidth,T),B=new gl({x:v[0],y:v[1],rotation:_.rotation,silent:rp.isLabelSilent(t),style:x_(u,{text:i,font:M,overflow:"truncate",width:z,ellipsis:k,fill:u.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:u.get("align")||_.textAlign,verticalAlign:u.get("verticalAlign")||_.textVerticalAlign}),z2:1});if(TD({el:B,componentModel:t,itemName:i}),B.__fullText=i,B.anid="name",t.get("triggerEvent")){var U=rp.makeAxisEventDataBase(t);U.targetType="axisName",U.name=i,Da(B).eventData=U}r.add(B),B.updateTransform(),n.add(B),B.decomposeTransform()}}};function jnt(e,t,n,r){var i=YQ(n-e),o,s,u=r[0]>r[1],a=t==="start"&&!u||t!=="start"&&u;return bC(i-Kf/2)?(s=a?"bottom":"top",o="center"):bC(i-Kf*1.5)?(s=a?"top":"bottom",o="center"):(s="middle",i<Kf*1.5&&i>Kf/2?o=a?"left":"right":o=a?"right":"left"),{rotation:i,textAlign:o,textVerticalAlign:s}}function Gnt(e,t,n){if(!fne(e.axis)){var r=e.get(["axisLabel","showMinLabel"]),i=e.get(["axisLabel","showMaxLabel"]);t=t||[],n=n||[];var o=t[0],s=t[1],u=t[t.length-1],a=t[t.length-2],h=n[0],m=n[1],v=n[n.length-1],_=n[n.length-2];r===!1?(su(o),su(h)):ZU(o,s)&&(r?(su(s),su(m)):(su(o),su(h))),i===!1?(su(u),su(v)):ZU(a,u)&&(i?(su(a),su(_)):(su(u),su(v)))}}function su(e){e&&(e.ignore=!0)}function ZU(e,t){var n=e&&e.getBoundingRect().clone(),r=t&&t.getBoundingRect().clone();if(!(!n||!r)){var i=tD([]);return nD(i,i,-e.rotation),n.applyTransform(Kg([],i,e.getLocalTransform())),r.applyTransform(Kg([],i,t.getLocalTransform())),n.intersect(r)}}function XU(e){return e==="middle"||e==="center"}function wne(e,t,n,r,i){for(var o=[],s=[],u=[],a=0;a<e.length;a++){var h=e[a].coord;s[0]=h,s[1]=0,u[0]=h,u[1]=n,t&&(Tu(s,s,t),Tu(u,u,t));var m=new fp({shape:{x1:s[0],y1:s[1],x2:u[0],y2:u[1]},style:r,z2:2,autoBatch:!0,silent:!0});Gx(m.shape,m.style.lineWidth),m.anid=i+"_"+e[a].tickValue,o.push(m)}return o}function Wnt(e,t,n,r){var i=n.axis,o=n.getModel("axisTick"),s=o.get("show");if(s==="auto"&&r.handleAutoShown&&(s=r.handleAutoShown("axisTick")),!(!s||i.scale.isBlank())){for(var u=o.getModel("lineStyle"),a=r.tickDirection*o.get("length"),h=i.getTicksCoords(),m=wne(h,t.transform,a,_a(u.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),v=0;v<m.length;v++)e.add(m[v]);return m}}function qnt(e,t,n,r){var i=n.axis,o=n.getModel("minorTick");if(!(!o.get("show")||i.scale.isBlank())){var s=i.getMinorTicksCoords();if(s.length)for(var u=o.getModel("lineStyle"),a=r*o.get("length"),h=_a(u.getLineStyle(),_a(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),m=0;m<s.length;m++)for(var v=wne(s[m],t.transform,a,h,"minorticks_"+m),_=0;_<v.length;_++)e.add(v[_])}}function Knt(e,t,n,r){var i=n.axis,o=Vx(r.axisLabelShow,n.get(["axisLabel","show"]));if(!(!o||i.scale.isBlank())){var s=n.getModel("axisLabel"),u=s.get("margin"),a=i.getViewLabels(),h=(Vx(r.labelRotate,s.get("rotate"))||0)*Kf/180,m=rp.innerTextLayout(r.rotation,h,r.labelDirection),v=n.getCategories&&n.getCategories(!0),_=[],b=rp.isLabelSilent(n),T=n.get("triggerEvent");return Gt(a,function(M,E){var k=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(M.tickValue):M.tickValue,z=M.formattedLabel,B=M.rawLabel,U=s;if(v&&v[k]){var W=v[k];oi(W)&&W.textStyle&&(U=new so(W.textStyle,s,n.ecModel))}var q=U.getTextColor()||n.get(["axisLine","lineStyle","color"]),Q=i.dataToCoord(k),te=U.getShallow("align",!0)||m.textAlign,ie=Qi(U.getShallow("alignMinLabel",!0),te),ae=Qi(U.getShallow("alignMaxLabel",!0),te),re=U.getShallow("verticalAlign",!0)||U.getShallow("baseline",!0)||m.textVerticalAlign,se=Qi(U.getShallow("verticalAlignMinLabel",!0),re),be=Qi(U.getShallow("verticalAlignMaxLabel",!0),re),Ie=new gl({x:Q,y:r.labelOffset+r.labelDirection*u,rotation:m.rotation,silent:b,z2:10+(M.level||0),style:x_(U,{text:z,align:E===0?ie:E===a.length-1?ae:te,verticalAlign:E===0?se:E===a.length-1?be:re,fill:Ai(q)?q(i.type==="category"?B:i.type==="value"?k+"":k,E):q})});if(Ie.anid="label_"+k,T){var Se=rp.makeAxisEventDataBase(n);Se.targetType="axisLabel",Se.value=B,Se.tickIndex=E,i.type==="category"&&(Se.dataIndex=k),Da(Ie).eventData=Se}t.add(Ie),Ie.updateTransform(),_.push(Ie),e.add(Ie),Ie.decomposeTransform()}),_}}function Ynt(e,t){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return Znt(n,e,t),n.seriesInvolved&&Jnt(n,e),n}function Znt(e,t,n){var r=t.getComponent("tooltip"),i=t.getComponent("axisPointer"),o=i.get("link",!0)||[],s=[];Gt(n.getCoordinateSystems(),function(u){if(!u.axisPointerEnabled)return;var a=ew(u.model),h=e.coordSysAxesInfo[a]={};e.coordSysMap[a]=u;var m=u.model,v=m.getModel("tooltip",r);if(Gt(u.getAxes(),$o(M,!1,null)),u.getTooltipAxes&&r&&v.get("show")){var _=v.get("trigger")==="axis",b=v.get(["axisPointer","type"])==="cross",T=u.getTooltipAxes(v.get(["axisPointer","axis"]));(_||b)&&Gt(T.baseAxes,$o(M,b?"cross":!0,_)),b&&Gt(T.otherAxes,$o(M,"cross",!1))}function M(E,k,z){var B=z.model.getModel("axisPointer",i),U=B.get("show");if(!(!U||U==="auto"&&!E&&!vP(B))){k==null&&(k=B.get("triggerTooltip")),B=E?Xnt(z,v,i,t,E,k):B;var W=B.get("snap"),q=B.get("triggerEmphasis"),Q=ew(z.model),te=k||W||z.type==="category",ie=e.axesInfo[Q]={key:Q,axis:z,coordSys:u,axisPointerModel:B,triggerTooltip:k,triggerEmphasis:q,involveSeries:te,snap:W,useHandle:vP(B),seriesModels:[],linkGroup:null};h[Q]=ie,e.seriesInvolved=e.seriesInvolved||te;var ae=Qnt(o,z);if(ae!=null){var re=s[ae]||(s[ae]={axesInfo:{}});re.axesInfo[Q]=ie,re.mapper=o[ae].mapper,ie.linkGroup=re}}}})}function Xnt(e,t,n,r,i,o){var s=t.getModel("axisPointer"),u=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],a={};Gt(u,function(_){a[_]=na(s.get(_))}),a.snap=e.type!=="category"&&!!o,s.get("type")==="cross"&&(a.type="line");var h=a.label||(a.label={});if(h.show==null&&(h.show=!1),i==="cross"){var m=s.get(["label","show"]);if(h.show=m??!0,!o){var v=a.lineStyle=s.get("crossStyle");v&&_a(h,v.textStyle)}}return e.model.getModel("axisPointer",new so(a,n,r))}function Jnt(e,t){t.eachSeries(function(n){var r=n.coordinateSystem,i=n.get(["tooltip","trigger"],!0),o=n.get(["tooltip","show"],!0);!r||i==="none"||i===!1||i==="item"||o===!1||n.get(["axisPointer","show"],!0)===!1||Gt(e.coordSysAxesInfo[ew(r.model)],function(s){var u=s.axis;r.getAxis(u.dim)===u&&(s.seriesModels.push(n),s.seriesDataCount==null&&(s.seriesDataCount=0),s.seriesDataCount+=n.getData().count())})})}function Qnt(e,t){for(var n=t.model,r=t.dim,i=0;i<e.length;i++){var o=e[i]||{};if(vA(o[r+"AxisId"],n.id)||vA(o[r+"AxisIndex"],n.componentIndex)||vA(o[r+"AxisName"],n.name))return i}}function vA(e,t){return e==="all"||zr(e)&&Ta(e,t)>=0||e===t}function ert(e){var t=JD(e);if(t){var n=t.axisPointerModel,r=t.axis.scale,i=n.option,o=n.get("status"),s=n.get("value");s!=null&&(s=r.parse(s));var u=vP(n);o==null&&(i.status=u?"show":"hide");var a=r.getExtent().slice();a[0]>a[1]&&a.reverse(),(s==null||s>a[1])&&(s=a[1]),s<a[0]&&(s=a[0]),i.value=s,u&&(i.status=t.axis.scale.isBlank()?"hide":"show")}}function JD(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[ew(e)]}function trt(e){var t=JD(e);return t&&t.axisPointerModel}function vP(e){return!!e.get(["handle","show"])}function ew(e){return e.type+"||"+e.id}var JU={},Sne=function(e){Pr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,i,o){this.axisPointerClass&&ert(n),e.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(n,i,!0)},t.prototype.updateAxisPointer=function(n,r,i,o){this._doUpdateAxisPointerClass(n,i,!1)},t.prototype.remove=function(n,r){var i=this._axisPointer;i&&i.remove(r)},t.prototype.dispose=function(n,r){this._disposeAxisPointer(r),e.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(n,r,i){var o=t.getAxisPointerClass(this.axisPointerClass);if(o){var s=trt(n);s?(this._axisPointer||(this._axisPointer=new o)).render(n,s,r,i):this._disposeAxisPointer(r)}},t.prototype._disposeAxisPointer=function(n){this._axisPointer&&this._axisPointer.dispose(n),this._axisPointer=null},t.registerAxisPointerClass=function(n,r){JU[n]=r},t.getAxisPointerClass=function(n){return n&&JU[n]},t.type="axis",t}(ld),gP=Do();function nrt(e,t,n,r){var i=n.axis;if(!i.scale.isBlank()){var o=n.getModel("splitArea"),s=o.getModel("areaStyle"),u=s.get("color"),a=r.coordinateSystem.getRect(),h=i.getTicksCoords({tickModel:o,clamp:!0});if(h.length){var m=u.length,v=gP(e).splitAreaColors,_=$i(),b=0;if(v)for(var T=0;T<h.length;T++){var M=v.get(h[T].tickValue);if(M!=null){b=(M+(m-1)*T)%m;break}}var E=i.toGlobalCoord(h[0].coord),k=s.getAreaStyle();u=zr(u)?u:[u];for(var T=1;T<h.length;T++){var z=i.toGlobalCoord(h[T].coord),B=void 0,U=void 0,W=void 0,q=void 0;i.isHorizontal()?(B=E,U=a.y,W=z-B,q=a.height,E=B+W):(B=a.x,U=E,W=a.width,q=z-U,E=U+q);var Q=h[T-1].tickValue;Q!=null&&_.set(Q,b),t.add(new ts({anid:Q!=null?"area_"+Q:null,shape:{x:B,y:U,width:W,height:q},style:_a({fill:u[b]},k),autoBatch:!0,silent:!0})),b=(b+1)%m}gP(e).splitAreaColors=_}}}function rrt(e){gP(e).splitAreaColors=null}var irt=["axisLine","axisTickLabel","axisName"],art=["splitArea","splitLine","minorSplitLine"],Cne=function(e){Pr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="CartesianAxisPointer",n}return t.prototype.render=function(n,r,i,o){this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new ws,this.group.add(this._axisGroup),!!n.get("show")){var u=n.getCoordSysModel(),a=mP(u,n),h=new rp(n,vr({handleAutoShown:function(v){for(var _=u.coordinateSystem.getCartesians(),b=0;b<_.length;b++)if(hP(_[b].getOtherAxis(n.axis).scale))return!0;return!1}},a));Gt(irt,h.add,h),this._axisGroup.add(h.getGroup()),Gt(art,function(v){n.get([v,"show"])&&ort[v](this,this._axisGroup,n,u)},this);var m=o&&o.type==="changeAxisOrder"&&o.isInitSort;m||Lee(s,this._axisGroup,n),e.prototype.render.call(this,n,r,i,o)}},t.prototype.remove=function(){rrt(this)},t.type="cartesianAxis",t}(Sne),ort={splitLine:function(e,t,n,r){var i=n.axis;if(!i.scale.isBlank()){var o=n.getModel("splitLine"),s=o.getModel("lineStyle"),u=s.get("color");u=zr(u)?u:[u];for(var a=r.coordinateSystem.getRect(),h=i.isHorizontal(),m=0,v=i.getTicksCoords({tickModel:o}),_=[],b=[],T=s.getLineStyle(),M=0;M<v.length;M++){var E=i.toGlobalCoord(v[M].coord);h?(_[0]=E,_[1]=a.y,b[0]=E,b[1]=a.y+a.height):(_[0]=a.x,_[1]=E,b[0]=a.x+a.width,b[1]=E);var k=m++%u.length,z=v[M].tickValue,B=new fp({anid:z!=null?"line_"+v[M].tickValue:null,autoBatch:!0,shape:{x1:_[0],y1:_[1],x2:b[0],y2:b[1]},style:_a({stroke:u[k]},T),silent:!0});Gx(B.shape,T.lineWidth),t.add(B)}}},minorSplitLine:function(e,t,n,r){var i=n.axis,o=n.getModel("minorSplitLine"),s=o.getModel("lineStyle"),u=r.coordinateSystem.getRect(),a=i.isHorizontal(),h=i.getMinorTicksCoords();if(h.length)for(var m=[],v=[],_=s.getLineStyle(),b=0;b<h.length;b++)for(var T=0;T<h[b].length;T++){var M=i.toGlobalCoord(h[b][T].coord);a?(m[0]=M,m[1]=u.y,v[0]=M,v[1]=u.y+u.height):(m[0]=u.x,m[1]=M,v[0]=u.x+u.width,v[1]=M);var E=new fp({anid:"minor_line_"+h[b][T].tickValue,autoBatch:!0,shape:{x1:m[0],y1:m[1],x2:v[0],y2:v[1]},style:_,silent:!0});Gx(E.shape,_.lineWidth),t.add(E)}},splitArea:function(e,t,n,r){nrt(e,t,n,r)}},Tne=function(e){Pr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="xAxis",t}(Cne),srt=function(e){Pr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Tne.type,n}return t.type="yAxis",t}(Cne),lrt=function(e){Pr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="grid",n}return t.prototype.render=function(n,r){this.group.removeAll(),n.get("show")&&this.group.add(new ts({shape:n.coordinateSystem.getRect(),style:_a({fill:n.get("backgroundColor")},n.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(ld),QU={offset:0};function urt(e){e.registerComponentView(lrt),e.registerComponentModel(Lnt),e.registerCoordinateSystem("cartesian2d",Hnt),HU(e,"x",fP,QU),HU(e,"y",fP,QU),e.registerComponentView(Tne),e.registerComponentView(srt),e.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}var Hm=Do(),ej=na,gA=io,crt=function(){function e(){this._dragging=!1,this.animationThreshold=15}return e.prototype.render=function(t,n,r,i){var o=n.get("value"),s=n.get("status");if(this._axisModel=t,this._axisPointerModel=n,this._api=r,!(!i&&this._lastValue===o&&this._lastStatus===s)){this._lastValue=o,this._lastStatus=s;var u=this._group,a=this._handle;if(!s||s==="hide"){u&&u.hide(),a&&a.hide();return}u&&u.show(),a&&a.show();var h={};this.makeElOption(h,o,t,n,r);var m=h.graphicKey;m!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=m;var v=this._moveAnimation=this.determineAnimation(t,n);if(!u)u=this._group=new ws,this.createPointerEl(u,h,t,n),this.createLabelEl(u,h,t,n),r.getZr().add(u);else{var _=$o(tj,n,v);this.updatePointerEl(u,h,_),this.updateLabelEl(u,h,_,n)}rj(u,n,!0),this._renderHandle(o)}},e.prototype.remove=function(t){this.clear(t)},e.prototype.dispose=function(t){this.clear(t)},e.prototype.determineAnimation=function(t,n){var r=n.get("animation"),i=t.axis,o=i.type==="category",s=n.get("snap");if(!s&&!o)return!1;if(r==="auto"||r==null){var u=this.animationThreshold;if(o&&i.getBandWidth()>u)return!0;if(s){var a=JD(t).seriesDataCount,h=i.getExtent();return Math.abs(h[0]-h[1])/a>u}return!1}return r===!0},e.prototype.makeElOption=function(t,n,r,i,o){},e.prototype.createPointerEl=function(t,n,r,i){var o=n.pointer;if(o){var s=Hm(t).pointerEl=new UXe[o.type](ej(n.pointer));t.add(s)}},e.prototype.createLabelEl=function(t,n,r,i){if(n.label){var o=Hm(t).labelEl=new gl(ej(n.label));t.add(o),nj(o,i)}},e.prototype.updatePointerEl=function(t,n,r){var i=Hm(t).pointerEl;i&&n.pointer&&(i.setStyle(n.pointer.style),r(i,{shape:n.pointer.shape}))},e.prototype.updateLabelEl=function(t,n,r,i){var o=Hm(t).labelEl;o&&(o.setStyle(n.label.style),r(o,{x:n.label.x,y:n.label.y}),nj(o,i))},e.prototype._renderHandle=function(t){if(!(this._dragging||!this.updateHandleTransform)){var n=this._axisPointerModel,r=this._api.getZr(),i=this._handle,o=n.getModel("handle"),s=n.get("status");if(!o.get("show")||!s||s==="hide"){i&&r.remove(i),this._handle=null;return}var u;this._handle||(u=!0,i=this._handle=CD(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(h){kQ(h.event)},onmousedown:gA(this._onHandleDragMove,this,0,0),drift:gA(this._onHandleDragMove,this),ondragend:gA(this._onHandleDragEnd,this)}),r.add(i)),rj(i,n,!1),i.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var a=o.get("size");zr(a)||(a=[a,a]),i.scaleX=a[0]/2,i.scaleY=a[1]/2,Ste(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,u)}},e.prototype._moveHandleToValue=function(t,n){tj(this._axisPointerModel,!n&&this._moveAnimation,this._handle,_A(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},e.prototype._onHandleDragMove=function(t,n){var r=this._handle;if(r){this._dragging=!0;var i=this.updateHandleTransform(_A(r),[t,n],this._axisModel,this._axisPointerModel);this._payloadInfo=i,r.stopAnimation(),r.attr(_A(i)),Hm(r).lastProp=null,this._doDispatchAxisPointer()}},e.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var n=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:n.cursorPoint[0],y:n.cursorPoint[1],tooltipOption:n.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},e.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var n=this._axisPointerModel.get("value");this._moveHandleToValue(n),this._api.dispatchAction({type:"hideTip"})}},e.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var n=t.getZr(),r=this._group,i=this._handle;n&&r&&(this._lastGraphicKey=null,r&&n.remove(r),i&&n.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),nP(this,"_doDispatchAxisPointer")},e.prototype.doClear=function(){},e.prototype.buildLabel=function(t,n,r){return r=r||0,{x:t[r],y:t[1-r],width:n[r],height:n[1-r]}},e}();function tj(e,t,n,r){Mne(Hm(n).lastProp,r)||(Hm(n).lastProp=r,t?pp(n,r,e):(n.stopAnimation(),n.attr(r)))}function Mne(e,t){if(oi(e)&&oi(t)){var n=!0;return Gt(t,function(r,i){n=n&&Mne(e[i],r)}),!!n}else return e===t}function nj(e,t){e[t.get(["label","show"])?"show":"hide"]()}function _A(e){return{x:e.x||0,y:e.y||0,rotation:e.rotation||0}}function rj(e,t,n){var r=t.get("z"),i=t.get("zlevel");e&&e.traverse(function(o){o.type!=="group"&&(r!=null&&(o.z=r),i!=null&&(o.zlevel=i),o.silent=n)})}function drt(e){var t=e.get("type"),n=e.getModel(t+"Style"),r;return t==="line"?(r=n.getLineStyle(),r.fill=null):t==="shadow"&&(r=n.getAreaStyle(),r.stroke=null),r}function hrt(e,t,n,r,i){var o=n.get("value"),s=Ene(o,t.axis,t.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),u=n.getModel("label"),a=oT(u.get("padding")||0),h=u.getFont(),m=oD(s,h),v=i.position,_=m.width+a[1]+a[3],b=m.height+a[0]+a[2],T=i.align;T==="right"&&(v[0]-=_),T==="center"&&(v[0]-=_/2);var M=i.verticalAlign;M==="bottom"&&(v[1]-=b),M==="middle"&&(v[1]-=b/2),frt(v,_,b,r);var E=u.get("backgroundColor");(!E||E==="auto")&&(E=t.get(["axisLine","lineStyle","color"])),e.label={x:v[0],y:v[1],style:x_(u,{text:s,font:h,fill:u.getTextColor(),padding:a,backgroundColor:E}),z2:10}}function frt(e,t,n,r){var i=r.getWidth(),o=r.getHeight();e[0]=Math.min(e[0]+t,i)-t,e[1]=Math.min(e[1]+n,o)-n,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}function Ene(e,t,n,r,i){e=t.scale.parse(e);var o=t.scale.getLabel({value:e},{precision:i.precision}),s=i.formatter;if(s){var u={value:YD(t,{value:e}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};Gt(r,function(a){var h=n.getSeriesByIndex(a.seriesIndex),m=a.dataIndexInside,v=h&&h.getDataParams(m);v&&u.seriesData.push(v)}),Zr(s)?o=s.replace("{value}",o):Ai(s)&&(o=s(u))}return o}function Ane(e,t,n){var r=qg();return nD(r,r,n.rotation),Ak(r,r,n.position),SD([e.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],r)}function prt(e,t,n,r,i,o){var s=rp.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=i.get(["label","margin"]),hrt(t,r,i,o,{position:Ane(r.axis,e,n),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function mrt(e,t,n){return n=n||0,{x1:e[n],y1:e[1-n],x2:t[n],y2:t[1-n]}}function vrt(e,t,n){return n=n||0,{x:e[n],y:e[1-n],width:t[n],height:t[1-n]}}var grt=function(e){Pr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.makeElOption=function(n,r,i,o,s){var u=i.axis,a=u.grid,h=o.get("type"),m=ij(a,u).getOtherAxis(u).getGlobalExtent(),v=u.toGlobalCoord(u.dataToCoord(r,!0));if(h&&h!=="none"){var _=drt(o),b=_rt[h](u,v,m);b.style=_,n.graphicKey=b.type,n.pointer=b}var T=mP(a.model,i);prt(r,n,T,i,o,s)},t.prototype.getHandleTransform=function(n,r,i){var o=mP(r.axis.grid.model,r,{labelInside:!1});o.labelMargin=i.get(["handle","margin"]);var s=Ane(r.axis,n,o);return{x:s[0],y:s[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(n,r,i,o){var s=i.axis,u=s.grid,a=s.getGlobalExtent(!0),h=ij(u,s).getOtherAxis(s).getGlobalExtent(),m=s.dim==="x"?0:1,v=[n.x,n.y];v[m]+=r[m],v[m]=Math.min(a[1],v[m]),v[m]=Math.max(a[0],v[m]);var _=(h[1]+h[0])/2,b=[_,_];b[m]=v[m];var T=[{verticalAlign:"middle"},{align:"center"}];return{x:v[0],y:v[1],rotation:n.rotation,cursorPoint:b,tooltipOption:T[m]}},t}(crt);function ij(e,t){var n={};return n[t.dim+"AxisIndex"]=t.index,e.getCartesian(n)}var _rt={line:function(e,t,n){var r=mrt([t,n[0]],[t,n[1]],aj(e));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(e,t,n){var r=Math.max(1,e.getBandWidth()),i=n[1]-n[0];return{type:"Rect",shape:vrt([t-r/2,n[0]],[r,i],aj(e))}}};function aj(e){return e.dim==="x"?0:1}var yrt=function(e){Pr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(Sa),th=Do(),brt=Gt;function Ine(e,t,n){if(!Si.node){var r=t.getZr();th(r).records||(th(r).records={}),xrt(r,t);var i=th(r).records[e]||(th(r).records[e]={});i.handler=n}}function xrt(e,t){if(th(e).initialized)return;th(e).initialized=!0,n("click",$o(oj,"click")),n("mousemove",$o(oj,"mousemove")),n("globalout",Srt);function n(r,i){e.on(r,function(o){var s=Crt(t);brt(th(e).records,function(u){u&&i(u,o,s.dispatchAction)}),wrt(s.pendings,t)})}}function wrt(e,t){var n=e.showTip.length,r=e.hideTip.length,i;n?i=e.showTip[n-1]:r&&(i=e.hideTip[r-1]),i&&(i.dispatchAction=null,t.dispatchAction(i))}function Srt(e,t,n){e.handler("leave",null,n)}function oj(e,t,n,r){t.handler(e,n,r)}function Crt(e){var t={showTip:[],hideTip:[]},n=function(r){var i=t[r.type];i?i.push(r):(r.dispatchAction=n,e.dispatchAction(r))};return{dispatchAction:n,pendings:t}}function _P(e,t){if(!Si.node){var n=t.getZr(),r=(th(n).records||{})[e];r&&(th(n).records[e]=null)}}var Trt=function(e){Pr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,i){var o=r.getComponent("tooltip"),s=n.get("triggerOn")||o&&o.get("triggerOn")||"mousemove|click";Ine("axisPointer",i,function(u,a,h){s!=="none"&&(u==="leave"||s.indexOf(u)>=0)&&h({type:"updateAxisPointer",currTrigger:u,x:a&&a.offsetX,y:a&&a.offsetY})})},t.prototype.remove=function(n,r){_P("axisPointer",r)},t.prototype.dispose=function(n,r){_P("axisPointer",r)},t.type="axisPointer",t}(ld);function kne(e,t){var n=[],r=e.seriesIndex,i;if(r==null||!(i=t.getSeriesByIndex(r)))return{point:[]};var o=i.getData(),s=T0(o,e);if(s==null||s<0||zr(s))return{point:[]};var u=o.getItemGraphicEl(s),a=i.coordinateSystem;if(i.getTooltipPosition)n=i.getTooltipPosition(s)||[];else if(a&&a.dataToPoint)if(e.isStacked){var h=a.getBaseAxis(),m=a.getOtherAxis(h),v=m.dim,_=h.dim,b=v==="x"||v==="radius"?1:0,T=o.mapDimension(_),M=[];M[b]=o.get(T,s),M[1-b]=o.get(o.getCalculationInfo("stackResultDimension"),s),n=a.dataToPoint(M)||[]}else n=a.dataToPoint(o.getValues(xi(a.dimensions,function(k){return o.mapDimension(k)}),s))||[];else if(u){var E=u.getBoundingRect().clone();E.applyTransform(u.transform),n=[E.x+E.width/2,E.y+E.height/2]}return{point:n,el:u}}var sj=Do();function Mrt(e,t,n){var r=e.currTrigger,i=[e.x,e.y],o=e,s=e.dispatchAction||io(n.dispatchAction,n),u=t.getComponent("axisPointer").coordSysAxesInfo;if(u){wS(i)&&(i=kne({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},t).point);var a=wS(i),h=o.axesInfo,m=u.axesInfo,v=r==="leave"||wS(i),_={},b={},T={list:[],map:{}},M={showPointer:$o(Art,b),showTooltip:$o(Irt,T)};Gt(u.coordSysMap,function(k,z){var B=a||k.containPoint(i);Gt(u.coordSysAxesInfo[z],function(U,W){var q=U.axis,Q=Rrt(h,U);if(!v&&B&&(!h||Q)){var te=Q&&Q.value;te==null&&!a&&(te=q.pointToData(i)),te!=null&&lj(U,te,M,!1,_)}})});var E={};return Gt(m,function(k,z){var B=k.linkGroup;B&&!b[z]&&Gt(B.axesInfo,function(U,W){var q=b[W];if(U!==k&&q){var Q=q.value;B.mapper&&(Q=k.axis.scale.parse(B.mapper(Q,uj(U),uj(k)))),E[k.key]=Q}})}),Gt(E,function(k,z){lj(m[z],k,M,!0,_)}),krt(b,m,_),Prt(T,i,e,s),Lrt(m,s,n),_}}function lj(e,t,n,r,i){var o=e.axis;if(!(o.scale.isBlank()||!o.containData(t))){if(!e.involveSeries){n.showPointer(e,t);return}var s=Ert(t,e),u=s.payloadBatch,a=s.snapToValue;u[0]&&i.seriesIndex==null&&vr(i,u[0]),!r&&e.snap&&o.containData(a)&&a!=null&&(t=a),n.showPointer(e,t,u),n.showTooltip(e,s,a)}}function Ert(e,t){var n=t.axis,r=n.dim,i=e,o=[],s=Number.MAX_VALUE,u=-1;return Gt(t.seriesModels,function(a,h){var m=a.getData().mapDimensionsAll(r),v,_;if(a.getAxisTooltipData){var b=a.getAxisTooltipData(m,e,n);_=b.dataIndices,v=b.nestestValue}else{if(_=a.getData().indicesOfNearest(m[0],e,n.type==="category"?.5:null),!_.length)return;v=a.getData().get(m[0],_[0])}if(!(v==null||!isFinite(v))){var T=e-v,M=Math.abs(T);M<=s&&((M<s||T>=0&&u<0)&&(s=M,u=T,i=v,o.length=0),Gt(_,function(E){o.push({seriesIndex:a.seriesIndex,dataIndexInside:E,dataIndex:a.getData().getRawIndex(E)})}))}}),{payloadBatch:o,snapToValue:i}}function Art(e,t,n,r){e[t.key]={value:n,payloadBatch:r}}function Irt(e,t,n,r){var i=n.payloadBatch,o=t.axis,s=o.model,u=t.axisPointerModel;if(!(!t.triggerTooltip||!i.length)){var a=t.coordSys.model,h=ew(a),m=e.map[h];m||(m=e.map[h]={coordSysId:a.id,coordSysIndex:a.componentIndex,coordSysType:a.type,coordSysMainType:a.mainType,dataByAxis:[]},e.list.push(m)),m.dataByAxis.push({axisDim:o.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:r,valueLabelOpt:{precision:u.get(["label","precision"]),formatter:u.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function krt(e,t,n){var r=n.axesInfo=[];Gt(t,function(i,o){var s=i.axisPointerModel.option,u=e[o];u?(!i.useHandle&&(s.status="show"),s.value=u.value,s.seriesDataIndices=(u.payloadBatch||[]).slice()):!i.useHandle&&(s.status="hide"),s.status==="show"&&r.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:s.value})})}function Prt(e,t,n,r){if(wS(t)||!e.list.length){r({type:"hideTip"});return}var i=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:e.list})}function Lrt(e,t,n){var r=n.getZr(),i="axisPointerLastHighlights",o=sj(r)[i]||{},s=sj(r)[i]={};Gt(e,function(h,m){var v=h.axisPointerModel.option;v.status==="show"&&h.triggerEmphasis&&Gt(v.seriesDataIndices,function(_){var b=_.seriesIndex+" | "+_.dataIndex;s[b]=_})});var u=[],a=[];Gt(o,function(h,m){!s[m]&&a.push(h)}),Gt(s,function(h,m){!o[m]&&u.push(h)}),a.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:a}),u.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:u})}function Rrt(e,t){for(var n=0;n<(e||[]).length;n++){var r=e[n];if(t.axis.dim===r.axisDim&&t.axis.model.componentIndex===r.axisIndex)return r}}function uj(e){var t=e.axis.model,n={},r=n.axisDim=e.axis.dim;return n.axisIndex=n[r+"AxisIndex"]=t.componentIndex,n.axisName=n[r+"AxisName"]=t.name,n.axisId=n[r+"AxisId"]=t.id,n}function wS(e){return!e||e[0]==null||isNaN(e[0])||e[1]==null||isNaN(e[1])}function Pne(e){Sne.registerAxisPointerClass("CartesianAxisPointer",grt),e.registerComponentModel(yrt),e.registerComponentView(Trt),e.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var n=t.axisPointer.link;n&&!zr(n)&&(t.axisPointer.link=[n])}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,function(t,n){t.getComponent("axisPointer").coordSysAxesInfo=Ynt(t,n)}),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Mrt)}function Drt(e){vp(urt),vp(Pne)}function Ort(e,t){var n=oT(t.get("padding")),r=t.getItemStyle(["color","opacity"]);return r.fill=t.get("backgroundColor"),e=new ts({shape:{x:e.x-n[3],y:e.y-n[0],width:e.width+n[1]+n[3],height:e.height+n[0]+n[2],r:t.get("borderRadius")},style:r,silent:!0,z2:-1}),e}var zrt=function(e){Pr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(Sa);function Lne(e){var t=e.get("confine");return t!=null?!!t:e.get("renderMode")==="richText"}function Rne(e){if(Si.domSupported){for(var t=document.documentElement.style,n=0,r=e.length;n<r;n++)if(e[n]in t)return e[n]}}var Dne=Rne(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Brt=Rne(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function One(e,t){if(!e)return t;t=Kee(t,!0);var n=e.indexOf(t);return e=n===-1?t:"-"+e.slice(0,n)+"-"+t,e.toLowerCase()}function Frt(e,t){var n=e.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e);return n?n[t]:null}var Nrt=One(Brt,"transition"),QD=One(Dne,"transform"),$rt="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Si.transform3dSupported?"will-change:transform;":"");function Vrt(e){return e=e==="left"?"right":e==="right"?"left":e==="top"?"bottom":"top",e}function Hrt(e,t,n){if(!Zr(n)||n==="inside")return"";var r=e.get("backgroundColor"),i=e.get("borderWidth");t=E0(t);var o=Vrt(n),s=Math.max(Math.round(i)*1.5,6),u="",a=QD+":",h;Ta(["left","right"],o)>-1?(u+="top:50%",a+="translateY(-50%) rotate("+(h=o==="left"?-225:-45)+"deg)"):(u+="left:50%",a+="translateX(-50%) rotate("+(h=o==="top"?225:45)+"deg)");var m=h*Math.PI/180,v=s+i,_=v*Math.abs(Math.cos(m))+v*Math.abs(Math.sin(m)),b=Math.round(((_-Math.SQRT2*i)/2+Math.SQRT2*i-(_-v)/2)*100)/100;u+=";"+o+":-"+b+"px";var T=t+" solid "+i+"px;",M=["position:absolute;width:"+s+"px;height:"+s+"px;z-index:-1;",u+";"+a+";","border-bottom:"+T,"border-right:"+T,"background-color:"+r+";"];return'<div style="'+M.join("")+'"></div>'}function Urt(e,t){var n="cubic-bezier(0.23,1,0.32,1)",r=" "+e/2+"s "+n,i="opacity"+r+",visibility"+r;return t||(r=" "+e+"s "+n,i+=Si.transformSupported?","+QD+r:",left"+r+",top"+r),Nrt+":"+i}function cj(e,t,n){var r=e.toFixed(0)+"px",i=t.toFixed(0)+"px";if(!Si.transformSupported)return n?"top:"+i+";left:"+r+";":[["top",i],["left",r]];var o=Si.transform3dSupported,s="translate"+(o?"3d":"")+"("+r+","+i+(o?",0":"")+")";return n?"top:0;left:0;"+QD+":"+s+";":[["top",0],["left",0],[Dne,s]]}function jrt(e){var t=[],n=e.get("fontSize"),r=e.getTextColor();r&&t.push("color:"+r),t.push("font:"+e.getFont()),n&&t.push("line-height:"+Math.round(n*3/2)+"px");var i=e.get("textShadowColor"),o=e.get("textShadowBlur")||0,s=e.get("textShadowOffsetX")||0,u=e.get("textShadowOffsetY")||0;return i&&o&&t.push("text-shadow:"+s+"px "+u+"px "+o+"px "+i),Gt(["decoration","align"],function(a){var h=e.get(a);h&&t.push("text-"+a+":"+h)}),t.join(";")}function Grt(e,t,n){var r=[],i=e.get("transitionDuration"),o=e.get("backgroundColor"),s=e.get("shadowBlur"),u=e.get("shadowColor"),a=e.get("shadowOffsetX"),h=e.get("shadowOffsetY"),m=e.getModel("textStyle"),v=bte(e,"html"),_=a+"px "+h+"px "+s+"px "+u;return r.push("box-shadow:"+_),t&&i&&r.push(Urt(i,n)),o&&r.push("background-color:"+o),Gt(["width","color","radius"],function(b){var T="border-"+b,M=Kee(T),E=e.get(M);E!=null&&r.push(T+":"+E+(b==="color"?"":"px"))}),r.push(jrt(m)),v!=null&&r.push("padding:"+oT(v).join("px ")+"px"),r.join(";")+";"}function dj(e,t,n,r,i){var o=t&&t.painter;if(n){var s=o&&o.getViewportRoot();s&&aKe(e,s,n,r,i)}else{e[0]=r,e[1]=i;var u=o&&o.getViewportRootOffset();u&&(e[0]+=u.offsetLeft,e[1]+=u.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var Wrt=function(){function e(t,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Si.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var i=this._zr=t.getZr(),o=n.appendTo,s=o&&(Zr(o)?document.querySelector(o):$x(o)?o:Ai(o)&&o(t.getDom()));dj(this._styleCoord,i,s,t.getWidth()/2,t.getHeight()/2),(s||t.getDom()).appendChild(r),this._api=t,this._container=s;var u=this;r.onmouseenter=function(){u._enterable&&(clearTimeout(u._hideTimeout),u._show=!0),u._inContent=!0},r.onmousemove=function(a){if(a=a||window.event,!u._enterable){var h=i.handler,m=i.painter.getViewportRoot();du(m,a,!0),h.dispatch("mousemove",a)}},r.onmouseleave=function(){u._inContent=!1,u._enterable&&u._show&&u.hideLater(u._hideDelay)}}return e.prototype.update=function(t){if(!this._container){var n=this._api.getDom(),r=Frt(n,"position"),i=n.style;i.position!=="absolute"&&r!=="absolute"&&(i.position="relative")}var o=t.get("alwaysShowContent");o&&this._moveIfResized(),this._alwaysShowContent=o,this.el.className=t.get("className")||""},e.prototype.show=function(t,n){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,i=r.style,o=this._styleCoord;r.innerHTML?i.cssText=$rt+Grt(t,!this._firstShow,this._longHide)+cj(o[0],o[1],!0)+("border-color:"+E0(n)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},e.prototype.setContent=function(t,n,r,i,o){var s=this.el;if(t==null){s.innerHTML="";return}var u="";if(Zr(o)&&r.get("trigger")==="item"&&!Lne(r)&&(u=Hrt(r,i,o)),Zr(t))s.innerHTML=t+u;else if(t){s.innerHTML="",zr(t)||(t=[t]);for(var a=0;a<t.length;a++)$x(t[a])&&t[a].parentNode!==s&&s.appendChild(t[a]);if(u&&s.childNodes.length){var h=document.createElement("div");h.innerHTML=u,s.appendChild(h)}}},e.prototype.setEnterable=function(t){this._enterable=t},e.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},e.prototype.moveTo=function(t,n){var r=this._styleCoord;if(dj(r,this._zr,this._container,t,n),r[0]!=null&&r[1]!=null){var i=this.el.style,o=cj(r[0],r[1]);Gt(o,function(s){i[s[0]]=s[1]})}},e.prototype._moveIfResized=function(){var t=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),n*this._zr.getHeight())},e.prototype.hide=function(){var t=this,n=this.el.style;n.visibility="hidden",n.opacity="0",Si.transform3dSupported&&(n.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},e.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(io(this.hide,this),t)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var t=this.el.parentNode;t&&t.removeChild(this.el),this.el=this._container=null},e}(),qrt=function(){function e(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),fj(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return e.prototype.update=function(t){var n=t.get("alwaysShowContent");n&&this._moveIfResized(),this._alwaysShowContent=n},e.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},e.prototype.setContent=function(t,n,r,i,o){var s=this;oi(t)&&al(""),this.el&&this._zr.remove(this.el);var u=r.getModel("textStyle");this.el=new gl({style:{rich:n.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:u.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:bte(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),Gt(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(h){s.el.style[h]=r.get(h)}),Gt(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(h){s.el.style[h]=u.get(h)||0}),this._zr.add(this.el);var a=this;this.el.on("mouseover",function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0}),this.el.on("mouseout",function(){a._enterable&&a._show&&a.hideLater(a._hideDelay),a._inContent=!1})},e.prototype.setEnterable=function(t){this._enterable=t},e.prototype.getSize=function(){var t=this.el,n=this.el.getBoundingRect(),r=hj(t.style);return[n.width+r.left+r.right,n.height+r.top+r.bottom]},e.prototype.moveTo=function(t,n){var r=this.el;if(r){var i=this._styleCoord;fj(i,this._zr,t,n),t=i[0],n=i[1];var o=r.style,s=zf(o.borderWidth||0),u=hj(o);r.x=t+s+u.left,r.y=n+s+u.top,r.markRedraw()}},e.prototype._moveIfResized=function(){var t=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),n*this._zr.getHeight())},e.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},e.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(io(this.hide,this),t)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this._zr.remove(this.el)},e}();function zf(e){return Math.max(0,e)}function hj(e){var t=zf(e.shadowBlur||0),n=zf(e.shadowOffsetX||0),r=zf(e.shadowOffsetY||0);return{left:zf(t-n),right:zf(t+n),top:zf(t-r),bottom:zf(t+r)}}function fj(e,t,n,r){e[0]=n,e[1]=r,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var Krt=new ts({shape:{x:-1,y:-1,width:2,height:2}}),Yrt=function(e){Pr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,r){if(!(Si.node||!r.getDom())){var i=n.getComponent("tooltip"),o=this._renderMode=kYe(i.get("renderMode"));this._tooltipContent=o==="richText"?new qrt(r):new Wrt(r,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},t.prototype.render=function(n,r,i){if(!(Si.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=n,this._ecModel=r,this._api=i;var o=this._tooltipContent;o.update(n),o.setEnterable(n.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&n.get("transitionDuration")?Ste(this,"_updatePosition",50,"fixRate"):nP(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var n=this._tooltipModel,r=n.get("triggerOn");Ine("itemTooltip",this._api,io(function(i,o,s){r!=="none"&&(r.indexOf(i)>=0?this._tryShow(o,s):i==="leave"&&this._hide(s))},this))},t.prototype._keepShow=function(){var n=this._tooltipModel,r=this._ecModel,i=this._api,o=n.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&o!=="none"&&o!=="click"){var s=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&s.manuallyShowTip(n,r,i,{x:s._lastX,y:s._lastY,dataByCoordSys:s._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(n,r,i,o){if(!(o.from===this.uid||Si.node||!i.getDom())){var s=pj(o,i);this._ticket="";var u=o.dataByCoordSys,a=Qrt(o,r,i);if(a){var h=a.el.getBoundingRect().clone();h.applyTransform(a.el.transform),this._tryShow({offsetX:h.x+h.width/2,offsetY:h.y+h.height/2,target:a.el,position:o.position,positionDefault:"bottom"},s)}else if(o.tooltip&&o.x!=null&&o.y!=null){var m=Krt;m.x=o.x,m.y=o.y,m.update(),Da(m).tooltipConfig={name:null,option:o.tooltip},this._tryShow({offsetX:o.x,offsetY:o.y,target:m},s)}else if(u)this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,dataByCoordSys:u,tooltipOption:o.tooltipOption},s);else if(o.seriesIndex!=null){if(this._manuallyAxisShowTip(n,r,i,o))return;var v=kne(o,r),_=v.point[0],b=v.point[1];_!=null&&b!=null&&this._tryShow({offsetX:_,offsetY:b,target:v.el,position:o.position,positionDefault:"bottom"},s)}else o.x!=null&&o.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:o.x,y:o.y}),this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,target:i.getZr().findHover(o.x,o.y).target},s))}},t.prototype.manuallyHideTip=function(n,r,i,o){var s=this._tooltipContent;this._tooltipModel&&s.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,o.from!==this.uid&&this._hide(pj(o,i))},t.prototype._manuallyAxisShowTip=function(n,r,i,o){var s=o.seriesIndex,u=o.dataIndex,a=r.getComponent("axisPointer").coordSysAxesInfo;if(!(s==null||u==null||a==null)){var h=r.getSeriesByIndex(s);if(h){var m=h.getData(),v=pb([m.getItemModel(u),h,(h.coordinateSystem||{}).model],this._tooltipModel);if(v.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:s,dataIndex:u,position:o.position}),!0}}},t.prototype._tryShow=function(n,r){var i=n.target,o=this._tooltipModel;if(o){this._lastX=n.offsetX,this._lastY=n.offsetY;var s=n.dataByCoordSys;if(s&&s.length)this._showAxisTooltip(s,n);else if(i){var u=Da(i);if(u.ssrType==="legend")return;this._lastDataByCoordSys=null;var a,h;kb(i,function(m){if(Da(m).dataIndex!=null)return a=m,!0;if(Da(m).tooltipConfig!=null)return h=m,!0},!0),a?this._showSeriesItemTooltip(n,a,r):h?this._showComponentItemTooltip(n,h,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},t.prototype._showOrMove=function(n,r){var i=n.get("showDelay");r=io(r,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(r,i):r()},t.prototype._showAxisTooltip=function(n,r){var i=this._ecModel,o=this._tooltipModel,s=[r.offsetX,r.offsetY],u=pb([r.tooltipOption],o),a=this._renderMode,h=[],m=Yx("section",{blocks:[],noHeader:!0}),v=[],_=new eA;Gt(n,function(z){Gt(z.dataByAxis,function(B){var U=i.getComponent(B.axisDim+"Axis",B.axisIndex),W=B.value;if(!(!U||W==null)){var q=Ene(W,U.axis,i,B.seriesDataIndices,B.valueLabelOpt),Q=Yx("section",{header:q,noHeader:!Xc(q),sortBlocks:!0,blocks:[]});m.blocks.push(Q),Gt(B.seriesDataIndices,function(te){var ie=i.getSeriesByIndex(te.seriesIndex),ae=te.dataIndexInside,re=ie.getDataParams(ae);if(!(re.dataIndex<0)){re.axisDim=B.axisDim,re.axisIndex=B.axisIndex,re.axisType=B.axisType,re.axisId=B.axisId,re.axisValue=YD(U.axis,{value:W}),re.axisValueLabel=q,re.marker=_.makeTooltipMarker("item",E0(re.color),a);var se=GH(ie.formatTooltip(ae,!0,null)),be=se.frag;if(be){var Ie=pb([ie],o).get("valueFormatter");Q.blocks.push(Ie?vr({valueFormatter:Ie},be):be)}se.text&&v.push(se.text),h.push(re)}})}})}),m.blocks.reverse(),v.reverse();var b=r.position,T=u.get("order"),M=ZH(m,_,a,T,i.get("useUTC"),u.get("textStyle"));M&&v.unshift(M);var E=a==="richText"?`

`:"<br/>",k=v.join(E);this._showOrMove(u,function(){this._updateContentNotChangedOnAxis(n,h)?this._updatePosition(u,b,s[0],s[1],this._tooltipContent,h):this._showTooltipContent(u,k,h,Math.random()+"",s[0],s[1],b,null,_)})},t.prototype._showSeriesItemTooltip=function(n,r,i){var o=this._ecModel,s=Da(r),u=s.seriesIndex,a=o.getSeriesByIndex(u),h=s.dataModel||a,m=s.dataIndex,v=s.dataType,_=h.getData(v),b=this._renderMode,T=n.positionDefault,M=pb([_.getItemModel(m),h,a&&(a.coordinateSystem||{}).model],this._tooltipModel,T?{position:T}:null),E=M.get("trigger");if(!(E!=null&&E!=="item")){var k=h.getDataParams(m,v),z=new eA;k.marker=z.makeTooltipMarker("item",E0(k.color),b);var B=GH(h.formatTooltip(m,!1,v)),U=M.get("order"),W=M.get("valueFormatter"),q=B.frag,Q=q?ZH(W?vr({valueFormatter:W},q):q,z,b,U,o.get("useUTC"),M.get("textStyle")):B.text,te="item_"+h.name+"_"+m;this._showOrMove(M,function(){this._showTooltipContent(M,Q,k,te,n.offsetX,n.offsetY,n.position,n.target,z)}),i({type:"showTip",dataIndexInside:m,dataIndex:_.getRawIndex(m),seriesIndex:u,from:this.uid})}},t.prototype._showComponentItemTooltip=function(n,r,i){var o=this._renderMode==="html",s=Da(r),u=s.tooltipConfig,a=u.option||{},h=a.encodeHTMLContent;if(Zr(a)){var m=a;a={content:m,formatter:m},h=!0}h&&o&&a.content&&(a=na(a),a.content=Rl(a.content));var v=[a],_=this._ecModel.getComponent(s.componentMainType,s.componentIndex);_&&v.push(_),v.push({formatter:a.content});var b=n.positionDefault,T=pb(v,this._tooltipModel,b?{position:b}:null),M=T.get("content"),E=Math.random()+"",k=new eA;this._showOrMove(T,function(){var z=na(T.get("formatterParams")||{});this._showTooltipContent(T,M,z,E,n.offsetX,n.offsetY,n.position,r,k)}),i({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(n,r,i,o,s,u,a,h,m){if(this._ticket="",!(!n.get("showContent")||!n.get("show"))){var v=this._tooltipContent;v.setEnterable(n.get("enterable"));var _=n.get("formatter");a=a||n.get("position");var b=r,T=this._getNearestPoint([s,u],i,n.get("trigger"),n.get("borderColor")),M=T.color;if(_)if(Zr(_)){var E=n.ecModel.get("useUTC"),k=zr(i)?i[0]:i,z=k&&k.axisType&&k.axisType.indexOf("time")>=0;b=_,z&&(b=tT(k.axisValue,b,E)),b=Yee(b,i,!0)}else if(Ai(_)){var B=io(function(U,W){U===this._ticket&&(v.setContent(W,m,n,M,a),this._updatePosition(n,a,s,u,v,i,h))},this);this._ticket=o,b=_(i,o,B)}else b=_;v.setContent(b,m,n,M,a),v.show(n,M),this._updatePosition(n,a,s,u,v,i,h)}},t.prototype._getNearestPoint=function(n,r,i,o){if(i==="axis"||zr(r))return{color:o||(this._renderMode==="html"?"#fff":"none")};if(!zr(r))return{color:o||r.color||r.borderColor}},t.prototype._updatePosition=function(n,r,i,o,s,u,a){var h=this._api.getWidth(),m=this._api.getHeight();r=r||n.get("position");var v=s.getSize(),_=n.get("align"),b=n.get("verticalAlign"),T=a&&a.getBoundingRect().clone();if(a&&T.applyTransform(a.transform),Ai(r)&&(r=r([i,o],u,s.el,T,{viewSize:[h,m],contentSize:v.slice()})),zr(r))i=$s(r[0],h),o=$s(r[1],m);else if(oi(r)){var M=r;M.width=v[0],M.height=v[1];var E=kC(M,{width:h,height:m});i=E.x,o=E.y,_=null,b=null}else if(Zr(r)&&a){var k=Jrt(r,T,v,n.get("borderWidth"));i=k[0],o=k[1]}else{var k=Zrt(i,o,s,h,m,_?null:20,b?null:20);i=k[0],o=k[1]}if(_&&(i-=mj(_)?v[0]/2:_==="right"?v[0]:0),b&&(o-=mj(b)?v[1]/2:b==="bottom"?v[1]:0),Lne(n)){var k=Xrt(i,o,s,h,m);i=k[0],o=k[1]}s.moveTo(i,o)},t.prototype._updateContentNotChangedOnAxis=function(n,r){var i=this._lastDataByCoordSys,o=this._cbParamsList,s=!!i&&i.length===n.length;return s&&Gt(i,function(u,a){var h=u.dataByAxis||[],m=n[a]||{},v=m.dataByAxis||[];s=s&&h.length===v.length,s&&Gt(h,function(_,b){var T=v[b]||{},M=_.seriesDataIndices||[],E=T.seriesDataIndices||[];s=s&&_.value===T.value&&_.axisType===T.axisType&&_.axisId===T.axisId&&M.length===E.length,s&&Gt(M,function(k,z){var B=E[z];s=s&&k.seriesIndex===B.seriesIndex&&k.dataIndex===B.dataIndex}),o&&Gt(_.seriesDataIndices,function(k){var z=k.seriesIndex,B=r[z],U=o[z];B&&U&&U.data!==B.data&&(s=!1)})})}),this._lastDataByCoordSys=n,this._cbParamsList=r,!!s},t.prototype._hide=function(n){this._lastDataByCoordSys=null,n({type:"hideTip",from:this.uid})},t.prototype.dispose=function(n,r){Si.node||!r.getDom()||(nP(this,"_updatePosition"),this._tooltipContent.dispose(),_P("itemTooltip",r))},t.type="tooltip",t}(ld);function pb(e,t,n){var r=t.ecModel,i;n?(i=new so(n,r,r),i=new so(t.option,i,r)):i=t;for(var o=e.length-1;o>=0;o--){var s=e[o];s&&(s instanceof so&&(s=s.get("tooltip",!0)),Zr(s)&&(s={formatter:s}),s&&(i=new so(s,i,r)))}return i}function pj(e,t){return e.dispatchAction||io(t.dispatchAction,t)}function Zrt(e,t,n,r,i,o,s){var u=n.getSize(),a=u[0],h=u[1];return o!=null&&(e+a+o+2>r?e-=a+o:e+=o),s!=null&&(t+h+s>i?t-=h+s:t+=s),[e,t]}function Xrt(e,t,n,r,i){var o=n.getSize(),s=o[0],u=o[1];return e=Math.min(e+s,r)-s,t=Math.min(t+u,i)-u,e=Math.max(e,0),t=Math.max(t,0),[e,t]}function Jrt(e,t,n,r){var i=n[0],o=n[1],s=Math.ceil(Math.SQRT2*r)+8,u=0,a=0,h=t.width,m=t.height;switch(e){case"inside":u=t.x+h/2-i/2,a=t.y+m/2-o/2;break;case"top":u=t.x+h/2-i/2,a=t.y-o-s;break;case"bottom":u=t.x+h/2-i/2,a=t.y+m+s;break;case"left":u=t.x-i-s,a=t.y+m/2-o/2;break;case"right":u=t.x+h+s,a=t.y+m/2-o/2}return[u,a]}function mj(e){return e==="center"||e==="middle"}function Qrt(e,t,n){var r=cD(e).queryOptionMap,i=r.keys()[0];if(!(!i||i==="series")){var o=Mw(t,i,r.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),s=o.models[0];if(s){var u=n.getViewOfComponentModel(s),a;if(u.group.traverse(function(h){var m=Da(h).tooltipConfig;if(m&&m.name===e.name)return a=h,!0}),a)return{componentMainType:i,componentIndex:s.componentIndex,el:a}}}}function eit(e){vp(Pne),e.registerComponentModel(zrt),e.registerComponentView(Yrt),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},fl),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},fl)}function zne(e,t){var n=e.mapDimensionsAll("defaultedLabel"),r=n.length;if(r===1){var i=S_(e,t,n[0]);return i!=null?i+"":null}else if(r){for(var o=[],s=0;s<n.length;s++)o.push(S_(e,t,n[s]));return o.join(" ")}}function tit(e,t){var n=e.mapDimensionsAll("defaultedLabel");if(!zr(t))return t+"";for(var r=[],i=0;i<n.length;i++){var o=e.getDimensionIndex(n[i]);o>=0&&r.push(t[o])}return r.join(" ")}var eO=function(e){Pr(t,e);function t(n,r,i,o){var s=e.call(this)||this;return s.updateData(n,r,i,o),s}return t.prototype._createSymbol=function(n,r,i,o,s){this.removeAll();var u=C_(n,-1,-1,2,2,null,s);u.attr({z2:100,culling:!0,scaleX:o[0]/2,scaleY:o[1]/2}),u.drift=nit,this._symbolType=n,this.add(u)},t.prototype.stopSymbolAnimation=function(n){this.childAt(0).stopAnimation(null,n)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){SC(this.childAt(0))},t.prototype.downplay=function(){CC(this.childAt(0))},t.prototype.setZ=function(n,r){var i=this.childAt(0);i.zlevel=n,i.z=r},t.prototype.setDraggable=function(n,r){var i=this.childAt(0);i.draggable=n,i.cursor=!r&&n?"move":i.cursor},t.prototype.updateData=function(n,r,i,o){this.silent=!1;var s=n.getItemVisual(r,"symbol")||"circle",u=n.hostModel,a=t.getSymbolSize(n,r),h=s!==this._symbolType,m=o&&o.disableAnimation;if(h){var v=n.getItemVisual(r,"symbolKeepAspect");this._createSymbol(s,n,r,a,v)}else{var _=this.childAt(0);_.silent=!1;var b={scaleX:a[0]/2,scaleY:a[1]/2};m?_.attr(b):pp(_,b,u,r),AXe(_)}if(this._updateCommon(n,r,a,i,o),h){var _=this.childAt(0);if(!m){var b={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:_.style.opacity}};_.scaleX=_.scaleY=0,_.style.opacity=0,Aw(_,b,u,r)}}m&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(n,r,i,o,s){var u=this.childAt(0),a=n.hostModel,h,m,v,_,b,T,M,E,k;if(o&&(h=o.emphasisItemStyle,m=o.blurItemStyle,v=o.selectItemStyle,_=o.focus,b=o.blurScope,M=o.labelStatesModels,E=o.hoverScale,k=o.cursorStyle,T=o.emphasisDisabled),!o||n.hasItemOption){var z=o&&o.itemModel?o.itemModel:n.getItemModel(r),B=z.getModel("emphasis");h=B.getModel("itemStyle").getItemStyle(),v=z.getModel(["select","itemStyle"]).getItemStyle(),m=z.getModel(["blur","itemStyle"]).getItemStyle(),_=B.get("focus"),b=B.get("blurScope"),T=B.get("disabled"),M=AD(z),E=B.getShallow("scale"),k=z.getShallow("cursor")}var U=n.getItemVisual(r,"symbolRotate");u.attr("rotation",(U||0)*Math.PI/180||0);var W=Pte(n.getItemVisual(r,"symbolOffset"),i);W&&(u.x=W[0],u.y=W[1]),k&&u.attr("cursor",k);var q=n.getItemVisual(r,"style"),Q=q.fill;if(u instanceof wp){var te=u.style;u.useStyle(vr({image:te.image,x:te.x,y:te.y,width:te.width,height:te.height},q))}else u.__isEmptyBrush?u.useStyle(vr({},q)):u.useStyle(q),u.style.decal=null,u.setColor(Q,s&&s.symbolInnerColor),u.style.strokeNoScale=!0;var ie=n.getItemVisual(r,"liftZ"),ae=this._z2;ie!=null?ae==null&&(this._z2=u.z2,u.z2+=ie):ae!=null&&(u.z2=ae,this._z2=null);var re=s&&s.useNameLabel;ED(u,M,{labelFetcher:a,labelDataIndex:r,defaultText:se,inheritColor:Q,defaultOpacity:q.opacity});function se(Se){return re?n.getName(Se):zne(n,Se)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var be=u.ensureState("emphasis");be.style=h,u.ensureState("select").style=v,u.ensureState("blur").style=m;var Ie=E==null||E===!0?Math.max(1.1,3/this._sizeY):isFinite(E)&&E>0?+E:1;be.scaleX=this._sizeX*Ie,be.scaleY=this._sizeY*Ie,this.setSymbolScale(1),Gk(this,_,b,T)},t.prototype.setSymbolScale=function(n){this.scaleX=this.scaleY=n},t.prototype.fadeOut=function(n,r,i){var o=this.childAt(0),s=Da(this).dataIndex,u=i&&i.animation;if(this.silent=o.silent=!0,i&&i.fadeLabel){var a=o.getTextContent();a&&MC(a,{style:{opacity:0}},r,{dataIndex:s,removeOpt:u,cb:function(){o.removeTextContent()}})}else o.removeTextContent();MC(o,{style:{opacity:0},scaleX:0,scaleY:0},r,{dataIndex:s,cb:n,removeOpt:u})},t.getSymbolSize=function(n,r){return vet(n.getItemVisual(r,"symbolSize"))},t}(ws);function nit(e,t){this.parent.drift(e,t)}function yA(e,t,n,r){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(r.isIgnore&&r.isIgnore(n))&&!(r.clipShape&&!r.clipShape.contain(t[0],t[1]))&&e.getItemVisual(n,"symbol")!=="none"}function vj(e){return e!=null&&!oi(e)&&(e={isIgnore:e}),e||{}}function gj(e){var t=e.hostModel,n=t.getModel("emphasis");return{emphasisItemStyle:n.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:n.get("focus"),blurScope:n.get("blurScope"),emphasisDisabled:n.get("disabled"),hoverScale:n.get("scale"),labelStatesModels:AD(t),cursorStyle:t.get("cursor")}}var rit=function(){function e(t){this.group=new ws,this._SymbolCtor=t||eO}return e.prototype.updateData=function(t,n){this._progressiveEls=null,n=vj(n);var r=this.group,i=t.hostModel,o=this._data,s=this._SymbolCtor,u=n.disableAnimation,a=gj(t),h={disableAnimation:u},m=n.getSymbolPoint||function(v){return t.getItemLayout(v)};o||r.removeAll(),t.diff(o).add(function(v){var _=m(v);if(yA(t,_,v,n)){var b=new s(t,v,a,h);b.setPosition(_),t.setItemGraphicEl(v,b),r.add(b)}}).update(function(v,_){var b=o.getItemGraphicEl(_),T=m(v);if(!yA(t,T,v,n)){r.remove(b);return}var M=t.getItemVisual(v,"symbol")||"circle",E=b&&b.getSymbolType&&b.getSymbolType();if(!b||E&&E!==M)r.remove(b),b=new s(t,v,a,h),b.setPosition(T);else{b.updateData(t,v,a,h);var k={x:T[0],y:T[1]};u?b.attr(k):pp(b,k,i)}r.add(b),t.setItemGraphicEl(v,b)}).remove(function(v){var _=o.getItemGraphicEl(v);_&&_.fadeOut(function(){r.remove(_)},i)}).execute(),this._getSymbolPoint=m,this._data=t},e.prototype.updateLayout=function(){var t=this,n=this._data;n&&n.eachItemGraphicEl(function(r,i){var o=t._getSymbolPoint(i);r.setPosition(o),r.markRedraw()})},e.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=gj(t),this._data=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(t,n,r){this._progressiveEls=[],r=vj(r);function i(a){a.isGroup||(a.incremental=!0,a.ensureState("emphasis").hoverLayer=!0)}for(var o=t.start;o<t.end;o++){var s=n.getItemLayout(o);if(yA(n,s,o,r)){var u=new this._SymbolCtor(n,o,this._seriesScope);u.traverse(i),u.setPosition(s),this.group.add(u),n.setItemGraphicEl(o,u),this._progressiveEls.push(u)}}},e.prototype.eachRendered=function(t){MD(this._progressiveEls||this.group,t)},e.prototype.remove=function(t){var n=this.group,r=this._data;r&&t?r.eachItemGraphicEl(function(i){i.fadeOut(function(){n.remove(i)},r.hostModel)}):n.removeAll()},e}();function iit(e,t){return e.type===t}var ait=function(e,t){if(t==="all")return{type:"all",title:e.getLocaleModel().get(["legend","selector","all"])};if(t==="inverse")return{type:"inverse",title:e.getLocaleModel().get(["legend","selector","inverse"])}},yP=function(e){Pr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.layoutMode={type:"box",ignoreSize:!0},n}return t.prototype.init=function(n,r,i){this.mergeDefaultAndTheme(n,i),n.selected=n.selected||{},this._updateSelector(n)},t.prototype.mergeOption=function(n,r){e.prototype.mergeOption.call(this,n,r),this._updateSelector(n)},t.prototype._updateSelector=function(n){var r=n.selector,i=this.ecModel;r===!0&&(r=n.selector=["all","inverse"]),zr(r)&&Gt(r,function(o,s){Zr(o)&&(o={type:o}),r[s]=da(o,ait(i,o.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var n=this._data;if(n[0]&&this.get("selectedMode")==="single"){for(var r=!1,i=0;i<n.length;i++){var o=n[i].get("name");if(this.isSelected(o)){this.select(o),r=!0;break}}!r&&this.select(n[0].get("name"))}},t.prototype._updateData=function(n){var r=[],i=[];n.eachRawSeries(function(a){var h=a.name;i.push(h);var m;if(a.legendVisualProvider){var v=a.legendVisualProvider,_=v.getAllNames();n.isSeriesFiltered(a)||(i=i.concat(_)),_.length?r=r.concat(_):m=!0}else m=!0;m&&uD(a)&&r.push(a.name)}),this._availableNames=i;var o=this.get("data")||r,s=$i(),u=xi(o,function(a){return(Zr(a)||Ja(a))&&(a={name:a}),s.get(a.name)?null:(s.set(a.name,!0),new so(a,this,this.ecModel))},this);this._data=Ns(u,function(a){return!!a})},t.prototype.getData=function(){return this._data},t.prototype.select=function(n){var r=this.option.selected,i=this.get("selectedMode");if(i==="single"){var o=this._data;Gt(o,function(s){r[s.get("name")]=!1})}r[n]=!0},t.prototype.unSelect=function(n){this.get("selectedMode")!=="single"&&(this.option.selected[n]=!1)},t.prototype.toggleSelected=function(n){var r=this.option.selected;r.hasOwnProperty(n)||(r[n]=!0),this[r[n]?"unSelect":"select"](n)},t.prototype.allSelect=function(){var n=this._data,r=this.option.selected;Gt(n,function(i){r[i.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var n=this._data,r=this.option.selected;Gt(n,function(i){var o=i.get("name",!0);r.hasOwnProperty(o)||(r[o]=!0),r[o]=!r[o]})},t.prototype.isSelected=function(n){var r=this.option.selected;return!(r.hasOwnProperty(n)&&!r[n])&&Ta(this._availableNames,n)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(Sa),mg=$o,bP=Gt,A3=ws,Bne=function(e){Pr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.newlineDisabled=!1,n}return t.prototype.init=function(){this.group.add(this._contentGroup=new A3),this.group.add(this._selectorGroup=new A3),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(n,r,i){var o=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!n.get("show",!0)){var s=n.get("align"),u=n.get("orient");(!s||s==="auto")&&(s=n.get("left")==="right"&&u==="vertical"?"right":"left");var a=n.get("selector",!0),h=n.get("selectorPosition",!0);a&&(!h||h==="auto")&&(h=u==="horizontal"?"end":"start"),this.renderInner(s,n,r,i,a,u,h);var m=n.getBoxLayoutParams(),v={width:i.getWidth(),height:i.getHeight()},_=n.get("padding"),b=kC(m,v,_),T=this.layoutInner(n,s,b,o,a,h),M=kC(_a({width:T.width,height:T.height},m),v,_);this.group.x=M.x-T.x,this.group.y=M.y-T.y,this.group.markRedraw(),this.group.add(this._backgroundEl=Ort(T,n))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(n,r,i,o,s,u,a){var h=this.getContentGroup(),m=$i(),v=r.get("selectedMode"),_=[];i.eachRawSeries(function(b){!b.get("legendHoverLink")&&_.push(b.id)}),bP(r.getData(),function(b,T){var M=b.get("name");if(!this.newlineDisabled&&(M===""||M===`
`)){var E=new A3;E.newline=!0,h.add(E);return}var k=i.getSeriesByName(M)[0];if(!m.get(M))if(k){var z=k.getData(),B=z.getVisual("legendLineStyle")||{},U=z.getVisual("legendIcon"),W=z.getVisual("style"),q=this._createItem(k,M,T,b,r,n,B,W,U,v,o);q.on("click",mg(_j,M,null,o,_)).on("mouseover",mg(xP,k.name,null,o,_)).on("mouseout",mg(wP,k.name,null,o,_)),i.ssr&&q.eachChild(function(Q){var te=Da(Q);te.seriesIndex=k.seriesIndex,te.dataIndex=T,te.ssrType="legend"}),m.set(M,!0)}else i.eachRawSeries(function(Q){if(!m.get(M)&&Q.legendVisualProvider){var te=Q.legendVisualProvider;if(!te.containName(M))return;var ie=te.indexOfName(M),ae=te.getItemVisual(ie,"style"),re=te.getItemVisual(ie,"legendIcon"),se=ih(ae.fill);se&&se[3]===0&&(se[3]=.2,ae=vr(vr({},ae),{fill:H8(se,"rgba")}));var be=this._createItem(Q,M,T,b,r,n,{},ae,re,v,o);be.on("click",mg(_j,null,M,o,_)).on("mouseover",mg(xP,null,M,o,_)).on("mouseout",mg(wP,null,M,o,_)),i.ssr&&be.eachChild(function(Ie){var Se=Da(Ie);Se.seriesIndex=Q.seriesIndex,Se.dataIndex=T,Se.ssrType="legend"}),m.set(M,!0)}},this)},this),s&&this._createSelector(s,r,o,u,a)},t.prototype._createSelector=function(n,r,i,o,s){var u=this.getSelectorGroup();bP(n,function(h){var m=h.type,v=new gl({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:m==="all"?"legendAllSelect":"legendInverseSelect"})}});u.add(v);var _=r.getModel("selectorLabel"),b=r.getModel(["emphasis","selectorLabel"]);ED(v,{normal:_,emphasis:b},{defaultText:h.title}),jk(v)})},t.prototype._createItem=function(n,r,i,o,s,u,a,h,m,v,_){var b=n.visualDrawType,T=s.get("itemWidth"),M=s.get("itemHeight"),E=s.isSelected(r),k=o.get("symbolRotate"),z=o.get("symbolKeepAspect"),B=o.get("icon");m=B||m||"roundRect";var U=oit(m,o,a,h,b,E,_),W=new A3,q=o.getModel("textStyle");if(Ai(n.getLegendIcon)&&(!B||B==="inherit"))W.add(n.getLegendIcon({itemWidth:T,itemHeight:M,icon:m,iconRotate:k,itemStyle:U.itemStyle,lineStyle:U.lineStyle,symbolKeepAspect:z}));else{var Q=B==="inherit"&&n.getData().getVisual("symbol")?k==="inherit"?n.getData().getVisual("symbolRotate"):k:0;W.add(sit({itemWidth:T,itemHeight:M,icon:m,iconRotate:Q,itemStyle:U.itemStyle,lineStyle:U.lineStyle,symbolKeepAspect:z}))}var te=u==="left"?T+5:-5,ie=u,ae=s.get("formatter"),re=r;Zr(ae)&&ae?re=ae.replace("{name}",r??""):Ai(ae)&&(re=ae(r));var se=E?q.getTextColor():o.get("inactiveColor");W.add(new gl({style:x_(q,{text:re,x:te,y:M/2,fill:se,align:ie,verticalAlign:"middle"},{inheritColor:se})}));var be=new ts({shape:W.getBoundingRect(),style:{fill:"transparent"}}),Ie=o.getModel("tooltip");return Ie.get("show")&&TD({el:be,componentModel:s,itemName:r,itemTooltipOption:Ie.option}),W.add(be),W.eachChild(function(Se){Se.silent=!0}),be.silent=!v,this.getContentGroup().add(W),jk(W),W.__legendDataIndex=i,W},t.prototype.layoutInner=function(n,r,i,o,s,u){var a=this.getContentGroup(),h=this.getSelectorGroup();J2(n.get("orient"),a,n.get("itemGap"),i.width,i.height);var m=a.getBoundingRect(),v=[-m.x,-m.y];if(h.markRedraw(),a.markRedraw(),s){J2("horizontal",h,n.get("selectorItemGap",!0));var _=h.getBoundingRect(),b=[-_.x,-_.y],T=n.get("selectorButtonGap",!0),M=n.getOrient().index,E=M===0?"width":"height",k=M===0?"height":"width",z=M===0?"y":"x";u==="end"?b[M]+=m[E]+T:v[M]+=_[E]+T,b[1-M]+=m[k]/2-_[k]/2,h.x=b[0],h.y=b[1],a.x=v[0],a.y=v[1];var B={x:0,y:0};return B[E]=m[E]+T+_[E],B[k]=Math.max(m[k],_[k]),B[z]=Math.min(0,_[z]+b[1-M]),B}else return a.x=v[0],a.y=v[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(ld);function oit(e,t,n,r,i,o,s){function u(E,k){E.lineWidth==="auto"&&(E.lineWidth=k.lineWidth>0?2:0),bP(E,function(z,B){E[B]==="inherit"&&(E[B]=k[B])})}var a=t.getModel("itemStyle"),h=a.getItemStyle(),m=e.lastIndexOf("empty",0)===0?"fill":"stroke",v=a.getShallow("decal");h.decal=!v||v==="inherit"?r.decal:sP(v,s),h.fill==="inherit"&&(h.fill=r[i]),h.stroke==="inherit"&&(h.stroke=r[m]),h.opacity==="inherit"&&(h.opacity=(i==="fill"?r:n).opacity),u(h,r);var _=t.getModel("lineStyle"),b=_.getLineStyle();if(u(b,n),h.fill==="auto"&&(h.fill=r.fill),h.stroke==="auto"&&(h.stroke=r.fill),b.stroke==="auto"&&(b.stroke=r.fill),!o){var T=t.get("inactiveBorderWidth"),M=h[m];h.lineWidth=T==="auto"?r.lineWidth>0&&M?2:0:h.lineWidth,h.fill=t.get("inactiveColor"),h.stroke=t.get("inactiveBorderColor"),b.stroke=_.get("inactiveColor"),b.lineWidth=_.get("inactiveWidth")}return{itemStyle:h,lineStyle:b}}function sit(e){var t=e.icon||"roundRect",n=C_(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill,e.symbolKeepAspect);return n.setStyle(e.itemStyle),n.rotation=(e.iconRotate||0)*Math.PI/180,n.setOrigin([e.itemWidth/2,e.itemHeight/2]),t.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n}function _j(e,t,n,r){wP(e,t,n,r),n.dispatchAction({type:"legendToggleSelect",name:e??t}),xP(e,t,n,r)}function Fne(e){for(var t=e.getZr().storage.getDisplayList(),n,r=0,i=t.length;r<i&&!(n=t[r].states.emphasis);)r++;return n&&n.hoverLayer}function xP(e,t,n,r){Fne(n)||n.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:r})}function wP(e,t,n,r){Fne(n)||n.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:r})}function lit(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries(function(n){for(var r=0;r<t.length;r++)if(!t[r].isSelected(n.name))return!1;return!0})}function mb(e,t,n){var r={},i=e==="toggleSelected",o;return n.eachComponent("legend",function(s){i&&o!=null?s[o?"select":"unSelect"](t.name):e==="allSelect"||e==="inverseSelect"?s[e]():(s[e](t.name),o=s.isSelected(t.name));var u=s.getData();Gt(u,function(a){var h=a.get("name");if(!(h===`
`||h==="")){var m=s.isSelected(h);r.hasOwnProperty(h)?r[h]=r[h]&&m:r[h]=m}})}),e==="allSelect"||e==="inverseSelect"?{selected:r}:{name:t.name,selected:r}}function uit(e){e.registerAction("legendToggleSelect","legendselectchanged",$o(mb,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",$o(mb,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",$o(mb,"inverseSelect")),e.registerAction("legendSelect","legendselected",$o(mb,"select")),e.registerAction("legendUnSelect","legendunselected",$o(mb,"unSelect"))}function Nne(e){e.registerComponentModel(yP),e.registerComponentView(Bne),e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,lit),e.registerSubTypeDefaulter("legend",function(){return"plain"}),uit(e)}var cit=function(e){Pr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.setScrollDataIndex=function(n){this.option.scrollDataIndex=n},t.prototype.init=function(n,r,i){var o=sT(n);e.prototype.init.call(this,n,r,i),yj(this,n,o)},t.prototype.mergeOption=function(n,r){e.prototype.mergeOption.call(this,n,r),yj(this,this.option,n)},t.type="legend.scroll",t.defaultOption=rJe(yP.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(yP);function yj(e,t,n){var r=e.getOrient(),i=[1,1];i[r.index]=0,w_(t,n,{type:"box",ignoreSize:!!i})}var bj=ws,bA=["width","height"],xA=["x","y"],dit=function(e){Pr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.newlineDisabled=!0,n._currentIndex=0,n}return t.prototype.init=function(){e.prototype.init.call(this),this.group.add(this._containerGroup=new bj),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new bj)},t.prototype.resetInner=function(){e.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(n,r,i,o,s,u,a){var h=this;e.prototype.renderInner.call(this,n,r,i,o,s,u,a);var m=this._controllerGroup,v=r.get("pageIconSize",!0),_=zr(v)?v:[v,v];T("pagePrev",0);var b=r.getModel("pageTextStyle");m.add(new gl({name:"pageText",style:{text:"xx/xx",fill:b.getTextColor(),font:b.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),T("pageNext",1);function T(M,E){var k=M+"DataIndex",z=CD(r.get("pageIcons",!0)[r.getOrient().name][E],{onclick:io(h._pageGo,h,k,r,o)},{x:-_[0]/2,y:-_[1]/2,width:_[0],height:_[1]});z.name=M,m.add(z)}},t.prototype.layoutInner=function(n,r,i,o,s,u){var a=this.getSelectorGroup(),h=n.getOrient().index,m=bA[h],v=xA[h],_=bA[1-h],b=xA[1-h];s&&J2("horizontal",a,n.get("selectorItemGap",!0));var T=n.get("selectorButtonGap",!0),M=a.getBoundingRect(),E=[-M.x,-M.y],k=na(i);s&&(k[m]=i[m]-M[m]-T);var z=this._layoutContentAndController(n,o,k,h,m,_,b,v);if(s){if(u==="end")E[h]+=z[m]+T;else{var B=M[m]+T;E[h]-=B,z[v]-=B}z[m]+=M[m]+T,E[1-h]+=z[b]+z[_]/2-M[_]/2,z[_]=Math.max(z[_],M[_]),z[b]=Math.min(z[b],M[b]+E[1-h]),a.x=E[0],a.y=E[1],a.markRedraw()}return z},t.prototype._layoutContentAndController=function(n,r,i,o,s,u,a,h){var m=this.getContentGroup(),v=this._containerGroup,_=this._controllerGroup;J2(n.get("orient"),m,n.get("itemGap"),o?i.width:null,o?null:i.height),J2("horizontal",_,n.get("pageButtonItemGap",!0));var b=m.getBoundingRect(),T=_.getBoundingRect(),M=this._showController=b[s]>i[s],E=[-b.x,-b.y];r||(E[o]=m[h]);var k=[0,0],z=[-T.x,-T.y],B=Qi(n.get("pageButtonGap",!0),n.get("itemGap",!0));if(M){var U=n.get("pageButtonPosition",!0);U==="end"?z[o]+=i[s]-T[s]:k[o]+=T[s]+B}z[1-o]+=b[u]/2-T[u]/2,m.setPosition(E),v.setPosition(k),_.setPosition(z);var W={x:0,y:0};if(W[s]=M?i[s]:b[s],W[u]=Math.max(b[u],T[u]),W[a]=Math.min(0,T[a]+z[1-o]),v.__rectSize=i[s],M){var q={x:0,y:0};q[s]=Math.max(i[s]-T[s]-B,0),q[u]=W[u],v.setClipPath(new ts({shape:q})),v.__rectSize=q[s]}else _.eachChild(function(te){te.attr({invisible:!0,silent:!0})});var Q=this._getPageInfo(n);return Q.pageIndex!=null&&pp(m,{x:Q.contentPosition[0],y:Q.contentPosition[1]},M?n:null),this._updatePageInfoView(n,Q),W},t.prototype._pageGo=function(n,r,i){var o=this._getPageInfo(r)[n];o!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:o,legendId:r.id})},t.prototype._updatePageInfoView=function(n,r){var i=this._controllerGroup;Gt(["pagePrev","pageNext"],function(m){var v=m+"DataIndex",_=r[v]!=null,b=i.childOfName(m);b&&(b.setStyle("fill",_?n.get("pageIconColor",!0):n.get("pageIconInactiveColor",!0)),b.cursor=_?"pointer":"default")});var o=i.childOfName("pageText"),s=n.get("pageFormatter"),u=r.pageIndex,a=u!=null?u+1:0,h=r.pageCount;o&&s&&o.setStyle("text",Zr(s)?s.replace("{current}",a==null?"":a+"").replace("{total}",h==null?"":h+""):s({current:a,total:h}))},t.prototype._getPageInfo=function(n){var r=n.get("scrollDataIndex",!0),i=this.getContentGroup(),o=this._containerGroup.__rectSize,s=n.getOrient().index,u=bA[s],a=xA[s],h=this._findTargetItemIndex(r),m=i.children(),v=m[h],_=m.length,b=_?1:0,T={contentPosition:[i.x,i.y],pageCount:b,pageIndex:b-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!v)return T;var M=U(v);T.contentPosition[s]=-M.s;for(var E=h+1,k=M,z=M,B=null;E<=_;++E)B=U(m[E]),(!B&&z.e>k.s+o||B&&!W(B,k.s))&&(z.i>k.i?k=z:k=B,k&&(T.pageNextDataIndex==null&&(T.pageNextDataIndex=k.i),++T.pageCount)),z=B;for(var E=h-1,k=M,z=M,B=null;E>=-1;--E)B=U(m[E]),(!B||!W(z,B.s))&&k.i<z.i&&(z=k,T.pagePrevDataIndex==null&&(T.pagePrevDataIndex=k.i),++T.pageCount,++T.pageIndex),k=B;return T;function U(q){if(q){var Q=q.getBoundingRect(),te=Q[a]+q[a];return{s:te,e:te+Q[u],i:q.__legendDataIndex}}}function W(q,Q){return q.e>=Q&&q.s<=Q+o}},t.prototype._findTargetItemIndex=function(n){if(!this._showController)return 0;var r,i=this.getContentGroup(),o;return i.eachChild(function(s,u){var a=s.__legendDataIndex;o==null&&a!=null&&(o=u),a===n&&(r=u)}),r??o},t.type="legend.scroll",t}(Bne);function hit(e){e.registerAction("legendScroll","legendscroll",function(t,n){var r=t.scrollDataIndex;r!=null&&n.eachComponent({mainType:"legend",subType:"scroll",query:t},function(i){i.setScrollDataIndex(r)})})}function fit(e){vp(Nne),e.registerComponentModel(cit),e.registerComponentView(dit),hit(e)}function pit(e){vp(Nne),vp(fit)}var mit=function(e){Pr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return t.prototype.getInitialData=function(n){return ktt(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(n){var r=new ws,i=C_("line",0,n.itemHeight/2,n.itemWidth,0,n.lineStyle.stroke,!1);r.add(i),i.setStyle(n.lineStyle);var o=this.getData().getVisual("symbol"),s=this.getData().getVisual("symbolRotate"),u=o==="none"?"circle":o,a=n.itemHeight*.8,h=C_(u,(n.itemWidth-a)/2,(n.itemHeight-a)/2,a,a,n.itemStyle.fill);r.add(h),h.setStyle(n.itemStyle);var m=n.iconRotate==="inherit"?s:n.iconRotate||0;return h.rotation=m*Math.PI/180,h.setOrigin([n.itemWidth/2,n.itemHeight/2]),u.indexOf("empty")>-1&&(h.style.stroke=h.style.fill,h.style.fill="#fff",h.style.lineWidth=2),r},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(mp);function $ne(e,t,n){var r=e.getBaseAxis(),i=e.getOtherAxis(r),o=vit(i,n),s=r.dim,u=i.dim,a=t.mapDimension(u),h=t.mapDimension(s),m=u==="x"||u==="radius"?1:0,v=xi(e.dimensions,function(T){return t.mapDimension(T)}),_=!1,b=t.getCalculationInfo("stackResultDimension");return Jx(t,v[0])&&(_=!0,v[0]=b),Jx(t,v[1])&&(_=!0,v[1]=b),{dataDimsForPoint:v,valueStart:o,valueAxisDim:u,baseAxisDim:s,stacked:!!_,valueDim:a,baseDim:h,baseDataOffset:m,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function vit(e,t){var n=0,r=e.scale.getExtent();return t==="start"?n=r[0]:t==="end"?n=r[1]:Ja(t)&&!isNaN(t)?n=t:r[0]>0?n=r[0]:r[1]<0&&(n=r[1]),n}function Vne(e,t,n,r){var i=NaN;e.stacked&&(i=n.get(n.getCalculationInfo("stackedOverDimension"),r)),isNaN(i)&&(i=e.valueStart);var o=e.baseDataOffset,s=[];return s[o]=n.get(e.baseDim,r),s[1-o]=i,t.dataToPoint(s)}function git(e,t){var n=[];return t.diff(e).add(function(r){n.push({cmd:"+",idx:r})}).update(function(r,i){n.push({cmd:"=",idx:i,idx1:r})}).remove(function(r){n.push({cmd:"-",idx:r})}).execute(),n}function _it(e,t,n,r,i,o,s,u){for(var a=git(e,t),h=[],m=[],v=[],_=[],b=[],T=[],M=[],E=$ne(i,t,s),k=e.getLayout("points")||[],z=t.getLayout("points")||[],B=0;B<a.length;B++){var U=a[B],W=!0,q=void 0,Q=void 0;switch(U.cmd){case"=":q=U.idx*2,Q=U.idx1*2;var te=k[q],ie=k[q+1],ae=z[Q],re=z[Q+1];(isNaN(te)||isNaN(ie))&&(te=ae,ie=re),h.push(te,ie),m.push(ae,re),v.push(n[q],n[q+1]),_.push(r[Q],r[Q+1]),M.push(t.getRawIndex(U.idx1));break;case"+":var se=U.idx,be=E.dataDimsForPoint,Ie=i.dataToPoint([t.get(be[0],se),t.get(be[1],se)]);Q=se*2,h.push(Ie[0],Ie[1]),m.push(z[Q],z[Q+1]);var Se=Vne(E,i,t,se);v.push(Se[0],Se[1]),_.push(r[Q],r[Q+1]),M.push(t.getRawIndex(se));break;case"-":W=!1}W&&(b.push(U),T.push(T.length))}T.sort(function(Nt,Dt){return M[Nt]-M[Dt]});for(var me=h.length,Le=Rg(me),Ee=Rg(me),_e=Rg(me),xe=Rg(me),Be=[],B=0;B<T.length;B++){var Je=T[B],Ye=B*2,lt=Je*2;Le[Ye]=h[lt],Le[Ye+1]=h[lt+1],Ee[Ye]=m[lt],Ee[Ye+1]=m[lt+1],_e[Ye]=v[lt],_e[Ye+1]=v[lt+1],xe[Ye]=_[lt],xe[Ye+1]=_[lt+1],Be[B]=b[Je]}return{current:Le,next:Ee,stackedOnCurrent:_e,stackedOnNext:xe,status:Be}}var Af=Math.min,If=Math.max;function l0(e,t){return isNaN(e)||isNaN(t)}function SP(e,t,n,r,i,o,s,u,a){for(var h,m,v,_,b,T,M=n,E=0;E<r;E++){var k=t[M*2],z=t[M*2+1];if(M>=i||M<0)break;if(l0(k,z)){if(a){M+=o;continue}break}if(M===n)e[o>0?"moveTo":"lineTo"](k,z),v=k,_=z;else{var B=k-h,U=z-m;if(B*B+U*U<.5){M+=o;continue}if(s>0){for(var W=M+o,q=t[W*2],Q=t[W*2+1];q===k&&Q===z&&E<r;)E++,W+=o,M+=o,q=t[W*2],Q=t[W*2+1],k=t[M*2],z=t[M*2+1],B=k-h,U=z-m;var te=E+1;if(a)for(;l0(q,Q)&&te<r;)te++,W+=o,q=t[W*2],Q=t[W*2+1];var ie=.5,ae=0,re=0,se=void 0,be=void 0;if(te>=r||l0(q,Q))b=k,T=z;else{ae=q-h,re=Q-m;var Ie=k-h,Se=q-k,me=z-m,Le=Q-z,Ee=void 0,_e=void 0;if(u==="x"){Ee=Math.abs(Ie),_e=Math.abs(Se);var xe=ae>0?1:-1;b=k-xe*Ee*s,T=z,se=k+xe*_e*s,be=z}else if(u==="y"){Ee=Math.abs(me),_e=Math.abs(Le);var Be=re>0?1:-1;b=k,T=z-Be*Ee*s,se=k,be=z+Be*_e*s}else Ee=Math.sqrt(Ie*Ie+me*me),_e=Math.sqrt(Se*Se+Le*Le),ie=_e/(_e+Ee),b=k-ae*s*(1-ie),T=z-re*s*(1-ie),se=k+ae*s*ie,be=z+re*s*ie,se=Af(se,If(q,k)),be=Af(be,If(Q,z)),se=If(se,Af(q,k)),be=If(be,Af(Q,z)),ae=se-k,re=be-z,b=k-ae*Ee/_e,T=z-re*Ee/_e,b=Af(b,If(h,k)),T=Af(T,If(m,z)),b=If(b,Af(h,k)),T=If(T,Af(m,z)),ae=k-b,re=z-T,se=k+ae*_e/Ee,be=z+re*_e/Ee}e.bezierCurveTo(v,_,b,T,k,z),v=se,_=be}else e.lineTo(k,z)}h=k,m=z,M+=o}return E}var Hne=function(){function e(){this.smooth=0,this.smoothConstraint=!0}return e}(),yit=function(e){Pr(t,e);function t(n){var r=e.call(this,n)||this;return r.type="ec-polyline",r}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Hne},t.prototype.buildPath=function(n,r){var i=r.points,o=0,s=i.length/2;if(r.connectNulls){for(;s>0&&l0(i[s*2-2],i[s*2-1]);s--);for(;o<s&&l0(i[o*2],i[o*2+1]);o++);}for(;o<s;)o+=SP(n,i,o,s,s,1,r.smooth,r.smoothMonotone,r.connectNulls)+1},t.prototype.getPointOn=function(n,r){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,o=i.data,s=M0.CMD,u,a,h=r==="x",m=[],v=0;v<o.length;){var _=o[v++],b=void 0,T=void 0,M=void 0,E=void 0,k=void 0,z=void 0,B=void 0;switch(_){case s.M:u=o[v++],a=o[v++];break;case s.L:if(b=o[v++],T=o[v++],B=h?(n-u)/(b-u):(n-a)/(T-a),B<=1&&B>=0){var U=h?(T-a)*B+a:(b-u)*B+u;return h?[n,U]:[U,n]}u=b,a=T;break;case s.C:b=o[v++],T=o[v++],M=o[v++],E=o[v++],k=o[v++],z=o[v++];var W=h?mC(u,b,M,k,n,m):mC(a,T,E,z,n,m);if(W>0)for(var q=0;q<W;q++){var Q=m[q];if(Q<=1&&Q>=0){var U=h?Jo(a,T,E,z,Q):Jo(u,b,M,k,Q);return h?[n,U]:[U,n]}}u=k,a=z;break}}},t}(Ba),bit=function(e){Pr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Hne),xit=function(e){Pr(t,e);function t(n){var r=e.call(this,n)||this;return r.type="ec-polygon",r}return t.prototype.getDefaultShape=function(){return new bit},t.prototype.buildPath=function(n,r){var i=r.points,o=r.stackedOnPoints,s=0,u=i.length/2,a=r.smoothMonotone;if(r.connectNulls){for(;u>0&&l0(i[u*2-2],i[u*2-1]);u--);for(;s<u&&l0(i[s*2],i[s*2+1]);s++);}for(;s<u;){var h=SP(n,i,s,u,u,1,r.smooth,a,r.connectNulls);SP(n,o,s+h-1,h,u,-1,r.stackedOnSmooth,a,r.connectNulls),s+=h+1,n.closePath()}},t}(Ba);function wit(e,t,n,r,i){var o=e.getArea(),s=o.x,u=o.y,a=o.width,h=o.height,m=n.get(["lineStyle","width"])||2;s-=m/2,u-=m/2,a+=m,h+=m,a=Math.ceil(a),s!==Math.floor(s)&&(s=Math.floor(s),a++);var v=new ts({shape:{x:s,y:u,width:a,height:h}});if(t){var _=e.getBaseAxis(),b=_.isHorizontal(),T=_.inverse;b?(T&&(v.shape.x+=a),v.shape.width=0):(T||(v.shape.y+=h),v.shape.height=0);var M=Ai(i)?function(E){i(E,v)}:null;Aw(v,{shape:{width:a,height:h,x:s,y:u}},n,null,r,M)}return v}function Sit(e,t,n){var r=e.getArea(),i=wo(r.r0,1),o=wo(r.r,1),s=new X8({shape:{cx:wo(e.cx,1),cy:wo(e.cy,1),r0:i,r:o,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});if(t){var u=e.getBaseAxis().dim==="angle";u?s.shape.endAngle=r.startAngle:s.shape.r=i,Aw(s,{shape:{endAngle:r.endAngle,r:o}},n)}return s}function xj(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return;return!0}}function wj(e){for(var t=1/0,n=1/0,r=-1/0,i=-1/0,o=0;o<e.length;){var s=e[o++],u=e[o++];isNaN(s)||(t=Math.min(s,t),r=Math.max(s,r)),isNaN(u)||(n=Math.min(u,n),i=Math.max(u,i))}return[[t,n],[r,i]]}function Sj(e,t){var n=wj(e),r=n[0],i=n[1],o=wj(t),s=o[0],u=o[1];return Math.max(Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]),Math.abs(i[0]-u[0]),Math.abs(i[1]-u[1]))}function Cj(e){return Ja(e)?e:e?.5:0}function Cit(e,t,n){if(!n.valueDim)return[];for(var r=t.count(),i=Rg(r*2),o=0;o<r;o++){var s=Vne(n,e,t,o);i[o*2]=s[0],i[o*2+1]=s[1]}return i}function kf(e,t,n,r){var i=t.getBaseAxis(),o=i.dim==="x"||i.dim==="radius"?0:1,s=[],u=0,a=[],h=[],m=[],v=[];if(r){for(u=0;u<e.length;u+=2)!isNaN(e[u])&&!isNaN(e[u+1])&&v.push(e[u],e[u+1]);e=v}for(u=0;u<e.length-2;u+=2)switch(m[0]=e[u+2],m[1]=e[u+3],h[0]=e[u],h[1]=e[u+1],s.push(h[0],h[1]),n){case"end":a[o]=m[o],a[1-o]=h[1-o],s.push(a[0],a[1]);break;case"middle":var _=(h[o]+m[o])/2,b=[];a[o]=b[o]=_,a[1-o]=h[1-o],b[1-o]=m[1-o],s.push(a[0],a[1]),s.push(b[0],b[1]);break;default:a[o]=h[o],a[1-o]=m[1-o],s.push(a[0],a[1])}return s.push(e[u++],e[u++]),s}function Tit(e,t){var n=[],r=e.length,i,o;function s(m,v,_){var b=m.coord,T=(_-b)/(v.coord-b),M=zKe(T,[m.color,v.color]);return{coord:_,color:M}}for(var u=0;u<r;u++){var a=e[u],h=a.coord;if(h<0)i=a;else if(h>t){o?n.push(s(o,a,t)):i&&n.push(s(i,a,0),s(i,a,t));break}else i&&(n.push(s(i,a,0)),i=null),n.push(a),o=a}return n}function Mit(e,t,n){var r=e.getVisual("visualMeta");if(!(!r||!r.length||!e.count())&&t.type==="cartesian2d"){for(var i,o,s=r.length-1;s>=0;s--){var u=e.getDimensionInfo(r[s].dimension);if(i=u&&u.coordDim,i==="x"||i==="y"){o=r[s];break}}if(o){var a=t.getAxis(i),h=xi(o.stops,function(B){return{coord:a.toGlobalCoord(a.dataToCoord(B.value)),color:B.color}}),m=h.length,v=o.outerColors.slice();m&&h[0].coord>h[m-1].coord&&(h.reverse(),v.reverse());var _=Tit(h,i==="x"?n.getWidth():n.getHeight()),b=_.length;if(!b&&m)return h[0].coord<0?v[1]?v[1]:h[m-1].color:v[0]?v[0]:h[0].color;var T=10,M=_[0].coord-T,E=_[b-1].coord+T,k=E-M;if(k<.001)return"transparent";Gt(_,function(B){B.offset=(B.coord-M)/k}),_.push({offset:b?_[b-1].offset:.5,color:v[1]||"transparent"}),_.unshift({offset:b?_[0].offset:.5,color:v[0]||"transparent"});var z=new Aee(0,0,0,0,_,!0);return z[i]=M,z[i+"2"]=E,z}}}function Eit(e,t,n){var r=e.get("showAllSymbol"),i=r==="auto";if(!(r&&!i)){var o=n.getAxesByScale("ordinal")[0];if(o&&!(i&&Ait(o,t))){var s=t.mapDimension(o.dim),u={};return Gt(o.getViewLabels(),function(a){var h=o.scale.getRawOrdinalNumber(a.tickValue);u[h]=1}),function(a){return!u.hasOwnProperty(t.get(s,a))}}}}function Ait(e,t){var n=e.getExtent(),r=Math.abs(n[1]-n[0])/e.scale.count();isNaN(r)&&(r=0);for(var i=t.count(),o=Math.max(1,Math.round(i/5)),s=0;s<i;s+=o)if(eO.getSymbolSize(t,s)[e.isHorizontal()?1:0]*1.5>r)return!1;return!0}function Iit(e,t){return isNaN(e)||isNaN(t)}function kit(e){for(var t=e.length/2;t>0&&Iit(e[t*2-2],e[t*2-1]);t--);return t-1}function Tj(e,t){return[e[t*2],e[t*2+1]]}function Pit(e,t,n){for(var r=e.length/2,i=n==="x"?0:1,o,s,u=0,a=-1,h=0;h<r;h++)if(s=e[h*2+i],!(isNaN(s)||isNaN(e[h*2+1-i]))){if(h===0){o=s;continue}if(o<=t&&s>=t||o>=t&&s<=t){a=h;break}u=h,o=s}return{range:[u,a],t:(t-o)/(s-o)}}function Une(e){if(e.get(["endLabel","show"]))return!0;for(var t=0;t<sd.length;t++)if(e.get([sd[t],"endLabel","show"]))return!0;return!1}function wA(e,t,n,r){if(iit(t,"cartesian2d")){var i=r.getModel("endLabel"),o=i.get("valueAnimation"),s=r.getData(),u={lastFrameIndex:0},a=Une(r)?function(b,T){e._endLabelOnDuring(b,T,s,u,o,i,t)}:null,h=t.getBaseAxis().isHorizontal(),m=wit(t,n,r,function(){var b=e._endLabel;b&&n&&u.originalX!=null&&b.attr({x:u.originalX,y:u.originalY})},a);if(!r.get("clip",!0)){var v=m.shape,_=Math.max(v.width,v.height);h?(v.y-=_,v.height+=_*2):(v.x-=_,v.width+=_*2)}return a&&a(1,m),m}else return Sit(t,n,r)}function Lit(e,t){var n=t.getBaseAxis(),r=n.isHorizontal(),i=n.inverse,o=r?i?"right":"left":"center",s=r?"middle":i?"top":"bottom";return{normal:{align:e.get("align")||o,verticalAlign:e.get("verticalAlign")||s}}}var Rit=function(e){Pr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(){var n=new ws,r=new rit;this.group.add(r.group),this._symbolDraw=r,this._lineGroup=n},t.prototype.render=function(n,r,i){var o=this,s=n.coordinateSystem,u=this.group,a=n.getData(),h=n.getModel("lineStyle"),m=n.getModel("areaStyle"),v=a.getLayout("points")||[],_=s.type==="polar",b=this._coordSys,T=this._symbolDraw,M=this._polyline,E=this._polygon,k=this._lineGroup,z=!r.ssr&&n.get("animation"),B=!m.isEmpty(),U=m.get("origin"),W=$ne(s,a,U),q=B&&Cit(s,a,W),Q=n.get("showSymbol"),te=n.get("connectNulls"),ie=Q&&!_&&Eit(n,a,s),ae=this._data;ae&&ae.eachItemGraphicEl(function(Dt,je){Dt.__temp&&(u.remove(Dt),ae.setItemGraphicEl(je,null))}),Q||T.remove(),u.add(k);var re=_?!1:n.get("step"),se;s&&s.getArea&&n.get("clip",!0)&&(se=s.getArea(),se.width!=null?(se.x-=.1,se.y-=.1,se.width+=.2,se.height+=.2):se.r0&&(se.r0-=.5,se.r+=.5)),this._clipShapeForSymbol=se;var be=Mit(a,s,i)||a.getVisual("style")[a.getVisual("drawType")];if(!(M&&b.type===s.type&&re===this._step))Q&&T.updateData(a,{isIgnore:ie,clipShape:se,disableAnimation:!0,getSymbolPoint:function(Dt){return[v[Dt*2],v[Dt*2+1]]}}),z&&this._initSymbolLabelAnimation(a,s,se),re&&(v=kf(v,s,re,te),q&&(q=kf(q,s,re,te))),M=this._newPolyline(v),B?E=this._newPolygon(v,q):E&&(k.remove(E),E=this._polygon=null),_||this._initOrUpdateEndLabel(n,s,E0(be)),k.setClipPath(wA(this,s,!0,n));else{B&&!E?E=this._newPolygon(v,q):E&&!B&&(k.remove(E),E=this._polygon=null),_||this._initOrUpdateEndLabel(n,s,E0(be));var Ie=k.getClipPath();if(Ie){var Se=wA(this,s,!1,n);Aw(Ie,{shape:Se.shape},n)}else k.setClipPath(wA(this,s,!0,n));Q&&T.updateData(a,{isIgnore:ie,clipShape:se,disableAnimation:!0,getSymbolPoint:function(Dt){return[v[Dt*2],v[Dt*2+1]]}}),(!xj(this._stackedOnPoints,q)||!xj(this._points,v))&&(z?this._doUpdateAnimation(a,q,s,i,re,U,te):(re&&(v=kf(v,s,re,te),q&&(q=kf(q,s,re,te))),M.setShape({points:v}),E&&E.setShape({points:v,stackedOnPoints:q})))}var me=n.getModel("emphasis"),Le=me.get("focus"),Ee=me.get("blurScope"),_e=me.get("disabled");if(M.useStyle(_a(h.getLineStyle(),{fill:"none",stroke:be,lineJoin:"bevel"})),sH(M,n,"lineStyle"),M.style.lineWidth>0&&n.get(["emphasis","lineStyle","width"])==="bolder"){var xe=M.getState("emphasis").style;xe.lineWidth=+M.style.lineWidth+1}Da(M).seriesIndex=n.seriesIndex,Gk(M,Le,Ee,_e);var Be=Cj(n.get("smooth")),Je=n.get("smoothMonotone");if(M.setShape({smooth:Be,smoothMonotone:Je,connectNulls:te}),E){var Ye=a.getCalculationInfo("stackedOnSeries"),lt=0;E.useStyle(_a(m.getAreaStyle(),{fill:be,opacity:.7,lineJoin:"bevel",decal:a.getVisual("style").decal})),Ye&&(lt=Cj(Ye.get("smooth"))),E.setShape({smooth:Be,stackedOnSmooth:lt,smoothMonotone:Je,connectNulls:te}),sH(E,n,"areaStyle"),Da(E).seriesIndex=n.seriesIndex,Gk(E,Le,Ee,_e)}var Nt=function(Dt){o._changePolyState(Dt)};a.eachItemGraphicEl(function(Dt){Dt&&(Dt.onHoverStateChange=Nt)}),this._polyline.onHoverStateChange=Nt,this._data=a,this._coordSys=s,this._stackedOnPoints=q,this._points=v,this._step=re,this._valueOrigin=U,n.get("triggerLineEvent")&&(this.packEventData(n,M),E&&this.packEventData(n,E))},t.prototype.packEventData=function(n,r){Da(r).eventData={componentType:"series",componentSubType:"line",componentIndex:n.componentIndex,seriesIndex:n.seriesIndex,seriesName:n.name,seriesType:"line"}},t.prototype.highlight=function(n,r,i,o){var s=n.getData(),u=T0(s,o);if(this._changePolyState("emphasis"),!(u instanceof Array)&&u!=null&&u>=0){var a=s.getLayout("points"),h=s.getItemGraphicEl(u);if(!h){var m=a[u*2],v=a[u*2+1];if(isNaN(m)||isNaN(v)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(m,v))return;var _=n.get("zlevel")||0,b=n.get("z")||0;h=new eO(s,u),h.x=m,h.y=v,h.setZ(_,b);var T=h.getSymbolPath().getTextContent();T&&(T.zlevel=_,T.z=b,T.z2=this._polyline.z2+1),h.__temp=!0,s.setItemGraphicEl(u,h),h.stopSymbolAnimation(!0),this.group.add(h)}h.highlight()}else nd.prototype.highlight.call(this,n,r,i,o)},t.prototype.downplay=function(n,r,i,o){var s=n.getData(),u=T0(s,o);if(this._changePolyState("normal"),u!=null&&u>=0){var a=s.getItemGraphicEl(u);a&&(a.__temp?(s.setItemGraphicEl(u,null),this.group.remove(a)):a.downplay())}else nd.prototype.downplay.call(this,n,r,i,o)},t.prototype._changePolyState=function(n){var r=this._polygon;nH(this._polyline,n),r&&nH(r,n)},t.prototype._newPolyline=function(n){var r=this._polyline;return r&&this._lineGroup.remove(r),r=new yit({shape:{points:n},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(r),this._polyline=r,r},t.prototype._newPolygon=function(n,r){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new xit({shape:{points:n,stackedOnPoints:r},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},t.prototype._initSymbolLabelAnimation=function(n,r,i){var o,s,u=r.getBaseAxis(),a=u.inverse;r.type==="cartesian2d"?(o=u.isHorizontal(),s=!1):r.type==="polar"&&(o=u.dim==="angle",s=!0);var h=n.hostModel,m=h.get("animationDuration");Ai(m)&&(m=m(null));var v=h.get("animationDelay")||0,_=Ai(v)?v(null):v;n.eachItemGraphicEl(function(b,T){var M=b;if(M){var E=[b.x,b.y],k=void 0,z=void 0,B=void 0;if(i)if(s){var U=i,W=r.pointToCoord(E);o?(k=U.startAngle,z=U.endAngle,B=-W[1]/180*Math.PI):(k=U.r0,z=U.r,B=W[0])}else{var q=i;o?(k=q.x,z=q.x+q.width,B=b.x):(k=q.y+q.height,z=q.y,B=b.y)}var Q=z===k?0:(B-k)/(z-k);a&&(Q=1-Q);var te=Ai(v)?v(T):m*Q+_,ie=M.getSymbolPath(),ae=ie.getTextContent();M.attr({scaleX:0,scaleY:0}),M.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:te}),ae&&ae.animateFrom({style:{opacity:0}},{duration:300,delay:te}),ie.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(n,r,i){var o=n.getModel("endLabel");if(Une(n)){var s=n.getData(),u=this._polyline,a=s.getLayout("points");if(!a){u.removeTextContent(),this._endLabel=null;return}var h=this._endLabel;h||(h=this._endLabel=new gl({z2:200}),h.ignoreClip=!0,u.setTextContent(this._endLabel),u.disableLabelAnimation=!0);var m=kit(a);m>=0&&(ED(u,AD(n,"endLabel"),{inheritColor:i,labelFetcher:n,labelDataIndex:m,defaultText:function(v,_,b){return b!=null?tit(s,b):zne(s,v)},enableTextSetter:!0},Lit(o,r)),u.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(n,r,i,o,s,u,a){var h=this._endLabel,m=this._polyline;if(h){n<1&&o.originalX==null&&(o.originalX=h.x,o.originalY=h.y);var v=i.getLayout("points"),_=i.hostModel,b=_.get("connectNulls"),T=u.get("precision"),M=u.get("distance")||0,E=a.getBaseAxis(),k=E.isHorizontal(),z=E.inverse,B=r.shape,U=z?k?B.x:B.y+B.height:k?B.x+B.width:B.y,W=(k?M:0)*(z?-1:1),q=(k?0:-M)*(z?-1:1),Q=k?"x":"y",te=Pit(v,U,Q),ie=te.range,ae=ie[1]-ie[0],re=void 0;if(ae>=1){if(ae>1&&!b){var se=Tj(v,ie[0]);h.attr({x:se[0]+W,y:se[1]+q}),s&&(re=_.getRawValue(ie[0]))}else{var se=m.getPointOn(U,Q);se&&h.attr({x:se[0]+W,y:se[1]+q});var be=_.getRawValue(ie[0]),Ie=_.getRawValue(ie[1]);s&&(re=PYe(i,T,be,Ie,te.t))}o.lastFrameIndex=ie[0]}else{var Se=n===1||o.lastFrameIndex>0?ie[0]:0,se=Tj(v,Se);s&&(re=_.getRawValue(Se)),h.attr({x:se[0]+W,y:se[1]+q})}if(s){var me=Dee(h);typeof me.setLabelText=="function"&&me.setLabelText(re)}}},t.prototype._doUpdateAnimation=function(n,r,i,o,s,u,a){var h=this._polyline,m=this._polygon,v=n.hostModel,_=_it(this._data,n,this._stackedOnPoints,r,this._coordSys,i,this._valueOrigin),b=_.current,T=_.stackedOnCurrent,M=_.next,E=_.stackedOnNext;if(s&&(b=kf(_.current,i,s,a),T=kf(_.stackedOnCurrent,i,s,a),M=kf(_.next,i,s,a),E=kf(_.stackedOnNext,i,s,a)),Sj(b,M)>3e3||m&&Sj(T,E)>3e3){h.stopAnimation(),h.setShape({points:M}),m&&(m.stopAnimation(),m.setShape({points:M,stackedOnPoints:E}));return}h.shape.__points=_.current,h.shape.points=b;var k={shape:{points:M}};_.current!==b&&(k.shape.__points=_.next),h.stopAnimation(),pp(h,k,v),m&&(m.setShape({points:b,stackedOnPoints:T}),m.stopAnimation(),pp(m,{shape:{stackedOnPoints:E}},v),h.shape.points!==m.shape.points&&(m.shape.points=h.shape.points));for(var z=[],B=_.status,U=0;U<B.length;U++){var W=B[U].cmd;if(W==="="){var q=n.getItemGraphicEl(B[U].idx1);q&&z.push({el:q,ptIdx:U})}}h.animators&&h.animators.length&&h.animators[0].during(function(){m&&m.dirtyShape();for(var Q=h.shape.__points,te=0;te<z.length;te++){var ie=z[te].el,ae=z[te].ptIdx*2;ie.x=Q[ae],ie.y=Q[ae+1],ie.markRedraw()}})},t.prototype.remove=function(n){var r=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(o,s){o.__temp&&(r.remove(o),i.setItemGraphicEl(s,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(nd);function Dit(e,t){return{seriesType:e,plan:xte(),reset:function(n){var r=n.getData(),i=n.coordinateSystem;if(n.pipelineContext,!!i){var o=xi(i.dimensions,function(v){return r.mapDimension(v)}).slice(0,2),s=o.length,u=r.getCalculationInfo("stackResultDimension");Jx(r,o[0])&&(o[0]=u),Jx(r,o[1])&&(o[1]=u);var a=r.getStore(),h=r.getDimensionIndex(o[0]),m=r.getDimensionIndex(o[1]);return s&&{progress:function(v,_){for(var b=v.end-v.start,T=Rg(b*s),M=[],E=[],k=v.start,z=0;k<v.end;k++){var B=void 0;if(s===1){var U=a.get(h,k);B=i.dataToPoint(U,null,E)}else M[0]=a.get(h,k),M[1]=a.get(m,k),B=i.dataToPoint(M,null,E);T[z++]=B[0],T[z++]=B[1]}_.setLayout("points",T)}}}}}}var Oit={average:function(e){for(var t=0,n=0,r=0;r<e.length;r++)isNaN(e[r])||(t+=e[r],n++);return n===0?NaN:t/n},sum:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n]||0;return t},max:function(e){for(var t=-1/0,n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,n=0;n<e.length;n++)e[n]<t&&(t=e[n]);return isFinite(t)?t:NaN},minmax:function(e){for(var t=-1/0,n=-1/0,r=0;r<e.length;r++){var i=e[r],o=Math.abs(i);o>t&&(t=o,n=i)}return isFinite(n)?n:NaN},nearest:function(e){return e[0]}},zit=function(e){return Math.round(e.length/2)};function Bit(e){return{seriesType:e,reset:function(t,n,r){var i=t.getData(),o=t.get("sampling"),s=t.coordinateSystem,u=i.count();if(u>10&&s.type==="cartesian2d"&&o){var a=s.getBaseAxis(),h=s.getOtherAxis(a),m=a.getExtent(),v=r.getDevicePixelRatio(),_=Math.abs(m[1]-m[0])*(v||1),b=Math.round(u/_);if(isFinite(b)&&b>1){o==="lttb"&&t.setData(i.lttbDownSample(i.mapDimension(h.dim),1/b));var T=void 0;Zr(o)?T=Oit[o]:Ai(o)&&(T=o),T&&t.setData(i.downSample(i.mapDimension(h.dim),1/b,T,zit))}}}}}function Fit(e){e.registerChartView(Rit),e.registerSeriesModel(mit),e.registerLayout(Dit("line")),e.registerVisual({seriesType:"line",reset:function(t){var n=t.getData(),r=t.getModel("lineStyle").getLineStyle();r&&!r.stroke&&(r.stroke=n.getVisual("style").fill),n.setVisual("legendLineStyle",r)}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,Bit("line"))}const Nit=ge({__name:"MultiLineChart",props:{data:{type:Object,default:()=>({date:[],data:[]})},unit:{type:String,default:""},colors:{type:Array,default:()=>["#FF4A6F","#04BD9A"]}},setup(e){vp([Pnt,Drt,pit,eit,Fit]);const t=e,n=Te(null),r=Te({tooltip:{show:!0},grid:{top:20,left:40,right:16},legend:{right:0,bottom:10,itemWidth:8,itemHeight:8,textStyle:{color:"#fff",fontSize:12}},xAxis:{type:"time",boundaryGap:!1,axisLine:{lineStyle:{color:"rgb(121.3, 187.1, 255)"}},axisLabel:{color:"#E4EBF9",fontSize:12,lineHeight:16,fontFamily:"OPPOSans, OPPOSans"},axisTick:{show:!1},splitLine:{show:!1}},yAxis:{type:"value",name:"",axisLine:{lineStyle:{color:"rgb(121.3, 187.1, 255)"},show:!0},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},series:[{data:[],type:"line",color:"#3DE4FC"}]});return Wt(()=>t.data,i=>{if(n.value){r.value.yAxis.unit=t.unit;const o=[...i==null?void 0:i.data];r.value.series=o,console.log(r.value)}},{deep:!0}),(i,o)=>{const s=Zn("v-chart");return X(),pe("div",null,[Fe(s,{option:r.value,ref_key:"chartInstance",ref:n,class:"chart",autoresize:""},null,8,["option"])])}}}),jne=xp(Nit,[["__scopeId","data-v-e1b2d6be"]]),$it={class:"content"},Vit={class:"map-page-container"},Hit={class:"map-toolbar"},Uit={class:"position-row"},jit={__name:"Home",setup(e){const t=Te(null),n=Te("t2m@C"),r=Te(""),i=Te(""),o=Te(new Date().toLocaleDateString("en-CA")),s=Te([]),u=Te([]),a=Te(!1),h=Te({data:[]}),m=Te(null),v={"t2m@C":"","t2m@F":"","rh2m@%":"%",ws10m:"km/h","windspd10m@mph":"mph","winddir10m@":"","vis@km":"km","vis@mi":"mi","precip1h@mm":"mm","precip1h@in":"in","cloud@%":"%"};M_(()=>{Jd.then(()=>{xQ({enableHighAccuracy:!0,needAddress:!0}).then(k=>{const{getCurrentPosition:z,getCityInfo:B}=k;z().then(U=>{t.value=U.position.toArray(),console.log("currentPosition: ",U);const{lng:W,lat:q}=U.position;r.value=W,i.value=q}),B().then(U=>{console.log("cityResult: ",U)})})}),E()});const _=Te(!1),b=()=>{_.value=!_.value},T=k=>{const{lng:z,lat:B}=k.lnglat;r.value=z,i.value=B},M=async()=>{if(!r.value||!i.value){Qd.error(".");return}if(s.value.length===0){Qd.error(".");return}a.value=!0;let k=[];for(const U of s.value)k.push(await nJ(`/api/${U}/point`,{lon:r.value,lat:i.value,setting:{utc:8},time:`${o.value} 00:00:00`,mete_vars:[n.value]}));const z=await Promise.all(k);if(z.length===0)return;let B={data:[]};for(const U in z){const W=z[U].timestamp,q=z[U].data[0].values,Q=[];for(const ie in W)Q.push([W[ie],q[ie][0]]);let te={name:z[U].data[0].name,type:"line",symbol:"circle",connectNulls:!0,showAllSymbol:!0,lineStyle:{width:1},data:Q};B.data.push(te)}h.value=B,console.log(B)},E=async()=>{const k=await tJ("/api/models",{});u.value=k.map(z=>({value:z.id,label:z.name}))};return(k,z)=>{const B=Zn("el-amap-layer-satellite"),U=Zn("el-button"),W=Zn("el-input"),q=Zn("el-date-picker"),Q=Zn("el-radio-button"),te=Zn("el-radio-group"),ie=Zn("el-checkbox"),ae=Zn("el-checkbox-group"),re=Zn("el-space"),se=Zn("el-empty");return X(),pe("div",null,[z[9]||(z[9]=ue("div",{class:"description"},[ue("div",{class:"detail-wrapper"},[ue("div",{class:"weather-img"},[ue("div",{class:"detail"},[ue("div",null,"Collect meteorological information"),ue("div",null,"Scientific analysis and forecast"),ue("div",null,"Serve multiple industries")])])])],-1)),ue("div",$it,[ue("div",Vit,[Fe(A(HR),{center:t.value,zoom:18,onClick:T},{default:tt(()=>[Fe(B,{visible:_.value},null,8,["visible"])]),_:1},8,["center"])]),ue("div",Hit,[Fe(U,{class:"switch-button",onClick:z[0]||(z[0]=be=>b())},{default:tt(()=>[Br(pn(_.value?"Map":"Satellite"),1)]),_:1})]),Fe(re,{direction:"vertical",alignment:"start",size:16},{default:tt(()=>[ue("div",Uit,[Fe(W,{modelValue:r.value,"onUpdate:modelValue":z[1]||(z[1]=be=>r.value=be),type:"number",style:{"max-width":"200px","border-top-left-radius":"0px"}},null,8,["modelValue"]),Fe(W,{modelValue:i.value,"onUpdate:modelValue":z[2]||(z[2]=be=>i.value=be),type:"number",style:{"max-width":"200px"}},null,8,["modelValue"]),Fe(q,{modelValue:o.value,"onUpdate:modelValue":z[3]||(z[3]=be=>o.value=be),type:"date",placeholder:"Choose Date","value-format":"YYYY-MM-DD",style:{"margin-left":"16px"}},null,8,["modelValue"]),Fe(U,{type:"primary",onClick:M,class:"query-button"},{default:tt(()=>z[6]||(z[6]=[Br("Search")])),_:1})]),z[7]||(z[7]=ue("h2",null,"Meteorological Elements",-1)),Fe(te,{modelValue:n.value,"onUpdate:modelValue":z[4]||(z[4]=be=>n.value=be)},{default:tt(()=>[Fe(Q,{label:"Temperature",value:"t2m@C"}),Fe(Q,{label:"Wind Speed",value:"ws10m"}),Fe(Q,{label:"Irradiation",value:"dswrf"}),Fe(Q,{label:"Rainfall",value:"tp"}),Fe(Q,{label:"Air Humidity",value:"rh@%"})]),_:1},8,["modelValue"]),z[8]||(z[8]=ue("h2",null,"Meteorological Models",-1)),Fe(ae,{modelValue:s.value,"onUpdate:modelValue":z[5]||(z[5]=be=>s.value=be)},{default:tt(()=>[(X(!0),pe(Nn,null,Ur(u.value,be=>(X(),Rt(ie,{key:be.label,label:be.label,value:be.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a.value?(X(),Rt(jne,{key:1,data:h.value,ref_key:"chart",ref:m,unit:v[n.value.value]},null,8,["data","unit"])):(X(),Rt(se,{key:0,description:"Please select position and models"}))])])}}},I3=xp(jit,[["__scopeId","data-v-6c4cc80e"]]),Git={__name:"LeafLet",setup(e){return(t,n)=>(X(),pe("div",null,n[0]||(n[0]=[ue("iframe",{class:"terriaMap",src:"http://localhost:3001"},null,-1)])))}},Mj=xp(Git,[["__scopeId","data-v-679a11c1"]]),Wit={class:"content"},qit={class:"map-page-container"},Kit={class:"map-toolbar"},Yit={class:"position-row"},Zit={__name:"TerriaMap",setup(e){const t=Te(null),n=Te("t2m@C"),r=Te(""),i=Te(""),o=Te(new Date().toLocaleDateString("en-CA")),s=Te([]),u=Te([]),a=Te(!1),h=Te({data:[]}),m=Te(null),v={"t2m@C":"","t2m@F":"","rh2m@%":"%",ws10m:"km/h","windspd10m@mph":"mph","winddir10m@":"","vis@km":"km","vis@mi":"mi","precip1h@mm":"mm","precip1h@in":"in","cloud@%":"%"};M_(()=>{Jd.then(()=>{xQ({enableHighAccuracy:!0,needAddress:!0}).then(k=>{const{getCurrentPosition:z,getCityInfo:B}=k;z().then(U=>{t.value=U.position.toArray(),console.log("currentPosition: ",U);const{lng:W,lat:q}=U.position;r.value=W,i.value=q}),B().then(U=>{console.log("cityResult: ",U)})})}),E()});const _=Te(!1),b=()=>{_.value=!_.value},T=k=>{const{lng:z,lat:B}=k.lnglat;r.value=z,i.value=B},M=async()=>{if(!r.value||!i.value){Qd.error(".");return}if(s.value.length===0){Qd.error(".");return}a.value=!0;let k=[];for(const U of s.value)k.push(await nJ(`/api/${U}/point`,{lon:r.value,lat:i.value,setting:{utc:8},time:`${o.value} 00:00:00`,mete_vars:[n.value]}));const z=await Promise.all(k);if(z.length===0)return;let B={data:[]};for(const U in z){const W=z[U].timestamp,q=z[U].data[0].values,Q=[];for(const ie in W)Q.push([W[ie],q[ie][0]]);let te={name:z[U].data[0].name,type:"line",symbol:"circle",connectNulls:!0,showAllSymbol:!0,lineStyle:{width:1},data:Q};B.data.push(te)}h.value=B,console.log(B)},E=async()=>{const k=await tJ("/api/models",{});u.value=k.map(z=>({value:z.id,label:z.name}))};return(k,z)=>{const B=Zn("el-amap-layer-satellite"),U=Zn("el-button"),W=Zn("el-input"),q=Zn("el-date-picker"),Q=Zn("el-radio-button"),te=Zn("el-radio-group"),ie=Zn("el-checkbox"),ae=Zn("el-checkbox-group"),re=Zn("el-space"),se=Zn("el-empty");return X(),pe("div",null,[z[9]||(z[9]=ue("div",{class:"description"},[ue("div",{class:"detail-wrapper"},[ue("div",{class:"weather-img"},[ue("div",{class:"detail"},[ue("div",null,"Collect meteorological information"),ue("div",null,"Scientific analysis and forecast"),ue("div",null,"Serve multiple industries")])])])],-1)),ue("div",Wit,[ue("div",qit,[Fe(A(HR),{center:t.value,zoom:18,onClick:T},{default:tt(()=>[Fe(B,{visible:_.value},null,8,["visible"])]),_:1},8,["center"])]),ue("div",Kit,[Fe(U,{class:"switch-button",onClick:z[0]||(z[0]=be=>b())},{default:tt(()=>[Br(pn(_.value?"Map":"Satellite"),1)]),_:1})]),Fe(re,{direction:"vertical",alignment:"start",size:16},{default:tt(()=>[ue("div",Yit,[Fe(W,{modelValue:r.value,"onUpdate:modelValue":z[1]||(z[1]=be=>r.value=be),type:"number",style:{"max-width":"200px","border-top-left-radius":"0px"}},null,8,["modelValue"]),Fe(W,{modelValue:i.value,"onUpdate:modelValue":z[2]||(z[2]=be=>i.value=be),type:"number",style:{"max-width":"200px"}},null,8,["modelValue"]),Fe(q,{modelValue:o.value,"onUpdate:modelValue":z[3]||(z[3]=be=>o.value=be),type:"date",placeholder:"Choose Date","value-format":"YYYY-MM-DD",style:{"margin-left":"16px"}},null,8,["modelValue"]),Fe(U,{type:"primary",onClick:M,class:"query-button"},{default:tt(()=>z[6]||(z[6]=[Br("Search")])),_:1})]),z[7]||(z[7]=ue("h2",null,"Meteorological Elements",-1)),Fe(te,{modelValue:n.value,"onUpdate:modelValue":z[4]||(z[4]=be=>n.value=be)},{default:tt(()=>[Fe(Q,{label:"Temperature",value:"t2m@C"}),Fe(Q,{label:"Wind Speed",value:"ws10m"}),Fe(Q,{label:"Irradiation",value:"dswrf"}),Fe(Q,{label:"Rainfall",value:"tp"}),Fe(Q,{label:"Air Humidity",value:"rh@%"})]),_:1},8,["modelValue"]),z[8]||(z[8]=ue("h2",null,"Meteorological Models",-1)),Fe(ae,{modelValue:s.value,"onUpdate:modelValue":z[5]||(z[5]=be=>s.value=be)},{default:tt(()=>[(X(!0),pe(Nn,null,Ur(u.value,be=>(X(),Rt(ie,{key:be.label,label:be.label,value:be.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a.value?(X(),Rt(jne,{key:1,data:h.value,ref_key:"chart",ref:m,unit:v[n.value.value]},null,8,["data","unit"])):(X(),Rt(se,{key:0,description:"Please select position and models"}))])])}}},Ej=xp(Zit,[["__scopeId","data-v-8c37415c"]]);var Gne={exports:{}};(function(e,t){var n={};(function(r,i){e.exports=i()})(pd,function(){var r,i,o;function s(a,h){if(!r)r=h;else if(!i)i=h;else{var m="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+r+")(sharedChunk); ("+i+")(sharedChunk); self.onerror = null;",v={};r(v),o=h(v),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&(o.workerUrl=window.URL.createObjectURL(new Blob([m],{type:"text/javascript"})))}}s(["exports"],function(a){function h(p){return p&&p.__esModule&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p}var m,v={},_={};function b(){if(m)return _;m=1,Object.defineProperty(_,"__esModule",{value:!0}),_.setMatrixArrayType=function(S){_.ARRAY_TYPE=l=S},_.toRadian=function(S){return S*g},_.equals=function(S,y){return Math.abs(S-y)<=p*Math.max(1,Math.abs(S),Math.abs(y))},_.RANDOM=_.ARRAY_TYPE=_.EPSILON=void 0;var p=1e-6;_.EPSILON=p;var l=typeof Float32Array<"u"?Float32Array:Array;_.ARRAY_TYPE=l;var d=Math.random;_.RANDOM=d;var g=Math.PI/180;return Math.hypot||(Math.hypot=function(){for(var S=0,y=arguments.length;y--;)S+=arguments[y]*arguments[y];return Math.sqrt(S)}),_}var T,M={};function E(){if(T)return M;function p(y){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},p(y)}T=1,Object.defineProperty(M,"__esModule",{value:!0}),M.create=function(){var y=new l.ARRAY_TYPE(4);return l.ARRAY_TYPE!=Float32Array&&(y[1]=0,y[2]=0),y[0]=1,y[3]=1,y},M.clone=function(y){var C=new l.ARRAY_TYPE(4);return C[0]=y[0],C[1]=y[1],C[2]=y[2],C[3]=y[3],C},M.copy=function(y,C){return y[0]=C[0],y[1]=C[1],y[2]=C[2],y[3]=C[3],y},M.identity=function(y){return y[0]=1,y[1]=0,y[2]=0,y[3]=1,y},M.fromValues=function(y,C,R,N){var H=new l.ARRAY_TYPE(4);return H[0]=y,H[1]=C,H[2]=R,H[3]=N,H},M.set=function(y,C,R,N,H){return y[0]=C,y[1]=R,y[2]=N,y[3]=H,y},M.transpose=function(y,C){if(y===C){var R=C[1];y[1]=C[2],y[2]=R}else y[0]=C[0],y[1]=C[2],y[2]=C[1],y[3]=C[3];return y},M.invert=function(y,C){var R=C[0],N=C[1],H=C[2],P=C[3],O=R*P-H*N;return O?(y[0]=P*(O=1/O),y[1]=-N*O,y[2]=-H*O,y[3]=R*O,y):null},M.adjoint=function(y,C){var R=C[0];return y[0]=C[3],y[1]=-C[1],y[2]=-C[2],y[3]=R,y},M.determinant=function(y){return y[0]*y[3]-y[2]*y[1]},M.multiply=g,M.rotate=function(y,C,R){var N=C[0],H=C[1],P=C[2],O=C[3],V=Math.sin(R),F=Math.cos(R);return y[0]=N*F+P*V,y[1]=H*F+O*V,y[2]=N*-V+P*F,y[3]=H*-V+O*F,y},M.scale=function(y,C,R){var N=C[1],H=C[2],P=C[3],O=R[0],V=R[1];return y[0]=C[0]*O,y[1]=N*O,y[2]=H*V,y[3]=P*V,y},M.fromRotation=function(y,C){var R=Math.sin(C),N=Math.cos(C);return y[0]=N,y[1]=R,y[2]=-R,y[3]=N,y},M.fromScaling=function(y,C){return y[0]=C[0],y[1]=0,y[2]=0,y[3]=C[1],y},M.str=function(y){return"mat2("+y[0]+", "+y[1]+", "+y[2]+", "+y[3]+")"},M.frob=function(y){return Math.hypot(y[0],y[1],y[2],y[3])},M.LDU=function(y,C,R,N){return y[2]=N[2]/N[0],R[0]=N[0],R[1]=N[1],R[3]=N[3]-y[2]*R[1],[y,C,R]},M.add=function(y,C,R){return y[0]=C[0]+R[0],y[1]=C[1]+R[1],y[2]=C[2]+R[2],y[3]=C[3]+R[3],y},M.subtract=S,M.exactEquals=function(y,C){return y[0]===C[0]&&y[1]===C[1]&&y[2]===C[2]&&y[3]===C[3]},M.equals=function(y,C){var R=y[0],N=y[1],H=y[2],P=y[3],O=C[0],V=C[1],F=C[2],$=C[3];return Math.abs(R-O)<=l.EPSILON*Math.max(1,Math.abs(R),Math.abs(O))&&Math.abs(N-V)<=l.EPSILON*Math.max(1,Math.abs(N),Math.abs(V))&&Math.abs(H-F)<=l.EPSILON*Math.max(1,Math.abs(H),Math.abs(F))&&Math.abs(P-$)<=l.EPSILON*Math.max(1,Math.abs(P),Math.abs($))},M.multiplyScalar=function(y,C,R){return y[0]=C[0]*R,y[1]=C[1]*R,y[2]=C[2]*R,y[3]=C[3]*R,y},M.multiplyScalarAndAdd=function(y,C,R,N){return y[0]=C[0]+R[0]*N,y[1]=C[1]+R[1]*N,y[2]=C[2]+R[2]*N,y[3]=C[3]+R[3]*N,y},M.sub=M.mul=void 0;var l=function(y,C){if(y&&y.__esModule)return y;if(y===null||p(y)!=="object"&&typeof y!="function")return{default:y};var R=d(void 0);if(R&&R.has(y))return R.get(y);var N={},H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in y)if(P!=="default"&&Object.prototype.hasOwnProperty.call(y,P)){var O=H?Object.getOwnPropertyDescriptor(y,P):null;O&&(O.get||O.set)?Object.defineProperty(N,P,O):N[P]=y[P]}return N.default=y,R&&R.set(y,N),N}(b());function d(y){if(typeof WeakMap!="function")return null;var C=new WeakMap,R=new WeakMap;return(d=function(N){return N?R:C})(y)}function g(y,C,R){var N=C[0],H=C[1],P=C[2],O=C[3],V=R[0],F=R[1],$=R[2],G=R[3];return y[0]=N*V+P*F,y[1]=H*V+O*F,y[2]=N*$+P*G,y[3]=H*$+O*G,y}function S(y,C,R){return y[0]=C[0]-R[0],y[1]=C[1]-R[1],y[2]=C[2]-R[2],y[3]=C[3]-R[3],y}return M.mul=g,M.sub=S,M}var k,z={};function B(){if(k)return z;function p(y){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},p(y)}k=1,Object.defineProperty(z,"__esModule",{value:!0}),z.create=function(){var y=new l.ARRAY_TYPE(6);return l.ARRAY_TYPE!=Float32Array&&(y[1]=0,y[2]=0,y[4]=0,y[5]=0),y[0]=1,y[3]=1,y},z.clone=function(y){var C=new l.ARRAY_TYPE(6);return C[0]=y[0],C[1]=y[1],C[2]=y[2],C[3]=y[3],C[4]=y[4],C[5]=y[5],C},z.copy=function(y,C){return y[0]=C[0],y[1]=C[1],y[2]=C[2],y[3]=C[3],y[4]=C[4],y[5]=C[5],y},z.identity=function(y){return y[0]=1,y[1]=0,y[2]=0,y[3]=1,y[4]=0,y[5]=0,y},z.fromValues=function(y,C,R,N,H,P){var O=new l.ARRAY_TYPE(6);return O[0]=y,O[1]=C,O[2]=R,O[3]=N,O[4]=H,O[5]=P,O},z.set=function(y,C,R,N,H,P,O){return y[0]=C,y[1]=R,y[2]=N,y[3]=H,y[4]=P,y[5]=O,y},z.invert=function(y,C){var R=C[0],N=C[1],H=C[2],P=C[3],O=C[4],V=C[5],F=R*P-N*H;return F?(y[0]=P*(F=1/F),y[1]=-N*F,y[2]=-H*F,y[3]=R*F,y[4]=(H*V-P*O)*F,y[5]=(N*O-R*V)*F,y):null},z.determinant=function(y){return y[0]*y[3]-y[1]*y[2]},z.multiply=g,z.rotate=function(y,C,R){var N=C[0],H=C[1],P=C[2],O=C[3],V=C[4],F=C[5],$=Math.sin(R),G=Math.cos(R);return y[0]=N*G+P*$,y[1]=H*G+O*$,y[2]=N*-$+P*G,y[3]=H*-$+O*G,y[4]=V,y[5]=F,y},z.scale=function(y,C,R){var N=C[1],H=C[2],P=C[3],O=C[4],V=C[5],F=R[0],$=R[1];return y[0]=C[0]*F,y[1]=N*F,y[2]=H*$,y[3]=P*$,y[4]=O,y[5]=V,y},z.translate=function(y,C,R){var N=C[0],H=C[1],P=C[2],O=C[3],V=C[4],F=C[5],$=R[0],G=R[1];return y[0]=N,y[1]=H,y[2]=P,y[3]=O,y[4]=N*$+P*G+V,y[5]=H*$+O*G+F,y},z.fromRotation=function(y,C){var R=Math.sin(C),N=Math.cos(C);return y[0]=N,y[1]=R,y[2]=-R,y[3]=N,y[4]=0,y[5]=0,y},z.fromScaling=function(y,C){return y[0]=C[0],y[1]=0,y[2]=0,y[3]=C[1],y[4]=0,y[5]=0,y},z.fromTranslation=function(y,C){return y[0]=1,y[1]=0,y[2]=0,y[3]=1,y[4]=C[0],y[5]=C[1],y},z.str=function(y){return"mat2d("+y[0]+", "+y[1]+", "+y[2]+", "+y[3]+", "+y[4]+", "+y[5]+")"},z.frob=function(y){return Math.hypot(y[0],y[1],y[2],y[3],y[4],y[5],1)},z.add=function(y,C,R){return y[0]=C[0]+R[0],y[1]=C[1]+R[1],y[2]=C[2]+R[2],y[3]=C[3]+R[3],y[4]=C[4]+R[4],y[5]=C[5]+R[5],y},z.subtract=S,z.multiplyScalar=function(y,C,R){return y[0]=C[0]*R,y[1]=C[1]*R,y[2]=C[2]*R,y[3]=C[3]*R,y[4]=C[4]*R,y[5]=C[5]*R,y},z.multiplyScalarAndAdd=function(y,C,R,N){return y[0]=C[0]+R[0]*N,y[1]=C[1]+R[1]*N,y[2]=C[2]+R[2]*N,y[3]=C[3]+R[3]*N,y[4]=C[4]+R[4]*N,y[5]=C[5]+R[5]*N,y},z.exactEquals=function(y,C){return y[0]===C[0]&&y[1]===C[1]&&y[2]===C[2]&&y[3]===C[3]&&y[4]===C[4]&&y[5]===C[5]},z.equals=function(y,C){var R=y[0],N=y[1],H=y[2],P=y[3],O=y[4],V=y[5],F=C[0],$=C[1],G=C[2],Y=C[3],ee=C[4],de=C[5];return Math.abs(R-F)<=l.EPSILON*Math.max(1,Math.abs(R),Math.abs(F))&&Math.abs(N-$)<=l.EPSILON*Math.max(1,Math.abs(N),Math.abs($))&&Math.abs(H-G)<=l.EPSILON*Math.max(1,Math.abs(H),Math.abs(G))&&Math.abs(P-Y)<=l.EPSILON*Math.max(1,Math.abs(P),Math.abs(Y))&&Math.abs(O-ee)<=l.EPSILON*Math.max(1,Math.abs(O),Math.abs(ee))&&Math.abs(V-de)<=l.EPSILON*Math.max(1,Math.abs(V),Math.abs(de))},z.sub=z.mul=void 0;var l=function(y,C){if(y&&y.__esModule)return y;if(y===null||p(y)!=="object"&&typeof y!="function")return{default:y};var R=d(void 0);if(R&&R.has(y))return R.get(y);var N={},H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in y)if(P!=="default"&&Object.prototype.hasOwnProperty.call(y,P)){var O=H?Object.getOwnPropertyDescriptor(y,P):null;O&&(O.get||O.set)?Object.defineProperty(N,P,O):N[P]=y[P]}return N.default=y,R&&R.set(y,N),N}(b());function d(y){if(typeof WeakMap!="function")return null;var C=new WeakMap,R=new WeakMap;return(d=function(N){return N?R:C})(y)}function g(y,C,R){var N=C[0],H=C[1],P=C[2],O=C[3],V=C[4],F=C[5],$=R[0],G=R[1],Y=R[2],ee=R[3],de=R[4],fe=R[5];return y[0]=N*$+P*G,y[1]=H*$+O*G,y[2]=N*Y+P*ee,y[3]=H*Y+O*ee,y[4]=N*de+P*fe+V,y[5]=H*de+O*fe+F,y}function S(y,C,R){return y[0]=C[0]-R[0],y[1]=C[1]-R[1],y[2]=C[2]-R[2],y[3]=C[3]-R[3],y[4]=C[4]-R[4],y[5]=C[5]-R[5],y}return z.mul=g,z.sub=S,z}var U,W={};function q(){if(U)return W;function p(y){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},p(y)}U=1,Object.defineProperty(W,"__esModule",{value:!0}),W.create=function(){var y=new l.ARRAY_TYPE(9);return l.ARRAY_TYPE!=Float32Array&&(y[1]=0,y[2]=0,y[3]=0,y[5]=0,y[6]=0,y[7]=0),y[0]=1,y[4]=1,y[8]=1,y},W.fromMat4=function(y,C){return y[0]=C[0],y[1]=C[1],y[2]=C[2],y[3]=C[4],y[4]=C[5],y[5]=C[6],y[6]=C[8],y[7]=C[9],y[8]=C[10],y},W.clone=function(y){var C=new l.ARRAY_TYPE(9);return C[0]=y[0],C[1]=y[1],C[2]=y[2],C[3]=y[3],C[4]=y[4],C[5]=y[5],C[6]=y[6],C[7]=y[7],C[8]=y[8],C},W.copy=function(y,C){return y[0]=C[0],y[1]=C[1],y[2]=C[2],y[3]=C[3],y[4]=C[4],y[5]=C[5],y[6]=C[6],y[7]=C[7],y[8]=C[8],y},W.fromValues=function(y,C,R,N,H,P,O,V,F){var $=new l.ARRAY_TYPE(9);return $[0]=y,$[1]=C,$[2]=R,$[3]=N,$[4]=H,$[5]=P,$[6]=O,$[7]=V,$[8]=F,$},W.set=function(y,C,R,N,H,P,O,V,F,$){return y[0]=C,y[1]=R,y[2]=N,y[3]=H,y[4]=P,y[5]=O,y[6]=V,y[7]=F,y[8]=$,y},W.identity=function(y){return y[0]=1,y[1]=0,y[2]=0,y[3]=0,y[4]=1,y[5]=0,y[6]=0,y[7]=0,y[8]=1,y},W.transpose=function(y,C){if(y===C){var R=C[1],N=C[2],H=C[5];y[1]=C[3],y[2]=C[6],y[3]=R,y[5]=C[7],y[6]=N,y[7]=H}else y[0]=C[0],y[1]=C[3],y[2]=C[6],y[3]=C[1],y[4]=C[4],y[5]=C[7],y[6]=C[2],y[7]=C[5],y[8]=C[8];return y},W.invert=function(y,C){var R=C[0],N=C[1],H=C[2],P=C[3],O=C[4],V=C[5],F=C[6],$=C[7],G=C[8],Y=G*O-V*$,ee=-G*P+V*F,de=$*P-O*F,fe=R*Y+N*ee+H*de;return fe?(y[0]=Y*(fe=1/fe),y[1]=(-G*N+H*$)*fe,y[2]=(V*N-H*O)*fe,y[3]=ee*fe,y[4]=(G*R-H*F)*fe,y[5]=(-V*R+H*P)*fe,y[6]=de*fe,y[7]=(-$*R+N*F)*fe,y[8]=(O*R-N*P)*fe,y):null},W.adjoint=function(y,C){var R=C[0],N=C[1],H=C[2],P=C[3],O=C[4],V=C[5],F=C[6],$=C[7],G=C[8];return y[0]=O*G-V*$,y[1]=H*$-N*G,y[2]=N*V-H*O,y[3]=V*F-P*G,y[4]=R*G-H*F,y[5]=H*P-R*V,y[6]=P*$-O*F,y[7]=N*F-R*$,y[8]=R*O-N*P,y},W.determinant=function(y){var C=y[3],R=y[4],N=y[5],H=y[6],P=y[7],O=y[8];return y[0]*(O*R-N*P)+y[1]*(-O*C+N*H)+y[2]*(P*C-R*H)},W.multiply=g,W.translate=function(y,C,R){var N=C[0],H=C[1],P=C[2],O=C[3],V=C[4],F=C[5],$=C[6],G=C[7],Y=C[8],ee=R[0],de=R[1];return y[0]=N,y[1]=H,y[2]=P,y[3]=O,y[4]=V,y[5]=F,y[6]=ee*N+de*O+$,y[7]=ee*H+de*V+G,y[8]=ee*P+de*F+Y,y},W.rotate=function(y,C,R){var N=C[0],H=C[1],P=C[2],O=C[3],V=C[4],F=C[5],$=C[6],G=C[7],Y=C[8],ee=Math.sin(R),de=Math.cos(R);return y[0]=de*N+ee*O,y[1]=de*H+ee*V,y[2]=de*P+ee*F,y[3]=de*O-ee*N,y[4]=de*V-ee*H,y[5]=de*F-ee*P,y[6]=$,y[7]=G,y[8]=Y,y},W.scale=function(y,C,R){var N=R[0],H=R[1];return y[0]=N*C[0],y[1]=N*C[1],y[2]=N*C[2],y[3]=H*C[3],y[4]=H*C[4],y[5]=H*C[5],y[6]=C[6],y[7]=C[7],y[8]=C[8],y},W.fromTranslation=function(y,C){return y[0]=1,y[1]=0,y[2]=0,y[3]=0,y[4]=1,y[5]=0,y[6]=C[0],y[7]=C[1],y[8]=1,y},W.fromRotation=function(y,C){var R=Math.sin(C),N=Math.cos(C);return y[0]=N,y[1]=R,y[2]=0,y[3]=-R,y[4]=N,y[5]=0,y[6]=0,y[7]=0,y[8]=1,y},W.fromScaling=function(y,C){return y[0]=C[0],y[1]=0,y[2]=0,y[3]=0,y[4]=C[1],y[5]=0,y[6]=0,y[7]=0,y[8]=1,y},W.fromMat2d=function(y,C){return y[0]=C[0],y[1]=C[1],y[2]=0,y[3]=C[2],y[4]=C[3],y[5]=0,y[6]=C[4],y[7]=C[5],y[8]=1,y},W.fromQuat=function(y,C){var R=C[0],N=C[1],H=C[2],P=C[3],O=R+R,V=N+N,F=H+H,$=R*O,G=N*O,Y=N*V,ee=H*O,de=H*V,fe=H*F,ne=P*O,ve=P*V,we=P*F;return y[0]=1-Y-fe,y[3]=G-we,y[6]=ee+ve,y[1]=G+we,y[4]=1-$-fe,y[7]=de-ne,y[2]=ee-ve,y[5]=de+ne,y[8]=1-$-Y,y},W.normalFromMat4=function(y,C){var R=C[0],N=C[1],H=C[2],P=C[3],O=C[4],V=C[5],F=C[6],$=C[7],G=C[8],Y=C[9],ee=C[10],de=C[11],fe=C[12],ne=C[13],ve=C[14],we=C[15],De=R*V-N*O,Ve=R*F-H*O,Ue=R*$-P*O,ze=N*F-H*V,Qe=N*$-P*V,We=H*$-P*F,it=G*ne-Y*fe,mt=G*ve-ee*fe,yt=G*we-de*fe,xt=Y*ve-ee*ne,Et=Y*we-de*ne,$t=ee*we-de*ve,At=De*$t-Ve*Et+Ue*xt+ze*yt-Qe*mt+We*it;return At?(y[0]=(V*$t-F*Et+$*xt)*(At=1/At),y[1]=(F*yt-O*$t-$*mt)*At,y[2]=(O*Et-V*yt+$*it)*At,y[3]=(H*Et-N*$t-P*xt)*At,y[4]=(R*$t-H*yt+P*mt)*At,y[5]=(N*yt-R*Et-P*it)*At,y[6]=(ne*We-ve*Qe+we*ze)*At,y[7]=(ve*Ue-fe*We-we*Ve)*At,y[8]=(fe*Qe-ne*Ue+we*De)*At,y):null},W.projection=function(y,C,R){return y[0]=2/C,y[1]=0,y[2]=0,y[3]=0,y[4]=-2/R,y[5]=0,y[6]=-1,y[7]=1,y[8]=1,y},W.str=function(y){return"mat3("+y[0]+", "+y[1]+", "+y[2]+", "+y[3]+", "+y[4]+", "+y[5]+", "+y[6]+", "+y[7]+", "+y[8]+")"},W.frob=function(y){return Math.hypot(y[0],y[1],y[2],y[3],y[4],y[5],y[6],y[7],y[8])},W.add=function(y,C,R){return y[0]=C[0]+R[0],y[1]=C[1]+R[1],y[2]=C[2]+R[2],y[3]=C[3]+R[3],y[4]=C[4]+R[4],y[5]=C[5]+R[5],y[6]=C[6]+R[6],y[7]=C[7]+R[7],y[8]=C[8]+R[8],y},W.subtract=S,W.multiplyScalar=function(y,C,R){return y[0]=C[0]*R,y[1]=C[1]*R,y[2]=C[2]*R,y[3]=C[3]*R,y[4]=C[4]*R,y[5]=C[5]*R,y[6]=C[6]*R,y[7]=C[7]*R,y[8]=C[8]*R,y},W.multiplyScalarAndAdd=function(y,C,R,N){return y[0]=C[0]+R[0]*N,y[1]=C[1]+R[1]*N,y[2]=C[2]+R[2]*N,y[3]=C[3]+R[3]*N,y[4]=C[4]+R[4]*N,y[5]=C[5]+R[5]*N,y[6]=C[6]+R[6]*N,y[7]=C[7]+R[7]*N,y[8]=C[8]+R[8]*N,y},W.exactEquals=function(y,C){return y[0]===C[0]&&y[1]===C[1]&&y[2]===C[2]&&y[3]===C[3]&&y[4]===C[4]&&y[5]===C[5]&&y[6]===C[6]&&y[7]===C[7]&&y[8]===C[8]},W.equals=function(y,C){var R=y[0],N=y[1],H=y[2],P=y[3],O=y[4],V=y[5],F=y[6],$=y[7],G=y[8],Y=C[0],ee=C[1],de=C[2],fe=C[3],ne=C[4],ve=C[5],we=C[6],De=C[7],Ve=C[8];return Math.abs(R-Y)<=l.EPSILON*Math.max(1,Math.abs(R),Math.abs(Y))&&Math.abs(N-ee)<=l.EPSILON*Math.max(1,Math.abs(N),Math.abs(ee))&&Math.abs(H-de)<=l.EPSILON*Math.max(1,Math.abs(H),Math.abs(de))&&Math.abs(P-fe)<=l.EPSILON*Math.max(1,Math.abs(P),Math.abs(fe))&&Math.abs(O-ne)<=l.EPSILON*Math.max(1,Math.abs(O),Math.abs(ne))&&Math.abs(V-ve)<=l.EPSILON*Math.max(1,Math.abs(V),Math.abs(ve))&&Math.abs(F-we)<=l.EPSILON*Math.max(1,Math.abs(F),Math.abs(we))&&Math.abs($-De)<=l.EPSILON*Math.max(1,Math.abs($),Math.abs(De))&&Math.abs(G-Ve)<=l.EPSILON*Math.max(1,Math.abs(G),Math.abs(Ve))},W.sub=W.mul=void 0;var l=function(y,C){if(y&&y.__esModule)return y;if(y===null||p(y)!=="object"&&typeof y!="function")return{default:y};var R=d(void 0);if(R&&R.has(y))return R.get(y);var N={},H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in y)if(P!=="default"&&Object.prototype.hasOwnProperty.call(y,P)){var O=H?Object.getOwnPropertyDescriptor(y,P):null;O&&(O.get||O.set)?Object.defineProperty(N,P,O):N[P]=y[P]}return N.default=y,R&&R.set(y,N),N}(b());function d(y){if(typeof WeakMap!="function")return null;var C=new WeakMap,R=new WeakMap;return(d=function(N){return N?R:C})(y)}function g(y,C,R){var N=C[0],H=C[1],P=C[2],O=C[3],V=C[4],F=C[5],$=C[6],G=C[7],Y=C[8],ee=R[0],de=R[1],fe=R[2],ne=R[3],ve=R[4],we=R[5],De=R[6],Ve=R[7],Ue=R[8];return y[0]=ee*N+de*O+fe*$,y[1]=ee*H+de*V+fe*G,y[2]=ee*P+de*F+fe*Y,y[3]=ne*N+ve*O+we*$,y[4]=ne*H+ve*V+we*G,y[5]=ne*P+ve*F+we*Y,y[6]=De*N+Ve*O+Ue*$,y[7]=De*H+Ve*V+Ue*G,y[8]=De*P+Ve*F+Ue*Y,y}function S(y,C,R){return y[0]=C[0]-R[0],y[1]=C[1]-R[1],y[2]=C[2]-R[2],y[3]=C[3]-R[3],y[4]=C[4]-R[4],y[5]=C[5]-R[5],y[6]=C[6]-R[6],y[7]=C[7]-R[7],y[8]=C[8]-R[8],y}return W.mul=g,W.sub=S,W}var Q,te={};function ie(){if(Q)return te;function p(P){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},p(P)}Q=1,Object.defineProperty(te,"__esModule",{value:!0}),te.create=function(){var P=new l.ARRAY_TYPE(16);return l.ARRAY_TYPE!=Float32Array&&(P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[6]=0,P[7]=0,P[8]=0,P[9]=0,P[11]=0,P[12]=0,P[13]=0,P[14]=0),P[0]=1,P[5]=1,P[10]=1,P[15]=1,P},te.clone=function(P){var O=new l.ARRAY_TYPE(16);return O[0]=P[0],O[1]=P[1],O[2]=P[2],O[3]=P[3],O[4]=P[4],O[5]=P[5],O[6]=P[6],O[7]=P[7],O[8]=P[8],O[9]=P[9],O[10]=P[10],O[11]=P[11],O[12]=P[12],O[13]=P[13],O[14]=P[14],O[15]=P[15],O},te.copy=function(P,O){return P[0]=O[0],P[1]=O[1],P[2]=O[2],P[3]=O[3],P[4]=O[4],P[5]=O[5],P[6]=O[6],P[7]=O[7],P[8]=O[8],P[9]=O[9],P[10]=O[10],P[11]=O[11],P[12]=O[12],P[13]=O[13],P[14]=O[14],P[15]=O[15],P},te.fromValues=function(P,O,V,F,$,G,Y,ee,de,fe,ne,ve,we,De,Ve,Ue){var ze=new l.ARRAY_TYPE(16);return ze[0]=P,ze[1]=O,ze[2]=V,ze[3]=F,ze[4]=$,ze[5]=G,ze[6]=Y,ze[7]=ee,ze[8]=de,ze[9]=fe,ze[10]=ne,ze[11]=ve,ze[12]=we,ze[13]=De,ze[14]=Ve,ze[15]=Ue,ze},te.set=function(P,O,V,F,$,G,Y,ee,de,fe,ne,ve,we,De,Ve,Ue,ze){return P[0]=O,P[1]=V,P[2]=F,P[3]=$,P[4]=G,P[5]=Y,P[6]=ee,P[7]=de,P[8]=fe,P[9]=ne,P[10]=ve,P[11]=we,P[12]=De,P[13]=Ve,P[14]=Ue,P[15]=ze,P},te.identity=g,te.transpose=function(P,O){if(P===O){var V=O[1],F=O[2],$=O[3],G=O[6],Y=O[7],ee=O[11];P[1]=O[4],P[2]=O[8],P[3]=O[12],P[4]=V,P[6]=O[9],P[7]=O[13],P[8]=F,P[9]=G,P[11]=O[14],P[12]=$,P[13]=Y,P[14]=ee}else P[0]=O[0],P[1]=O[4],P[2]=O[8],P[3]=O[12],P[4]=O[1],P[5]=O[5],P[6]=O[9],P[7]=O[13],P[8]=O[2],P[9]=O[6],P[10]=O[10],P[11]=O[14],P[12]=O[3],P[13]=O[7],P[14]=O[11],P[15]=O[15];return P},te.invert=function(P,O){var V=O[0],F=O[1],$=O[2],G=O[3],Y=O[4],ee=O[5],de=O[6],fe=O[7],ne=O[8],ve=O[9],we=O[10],De=O[11],Ve=O[12],Ue=O[13],ze=O[14],Qe=O[15],We=V*ee-F*Y,it=V*de-$*Y,mt=V*fe-G*Y,yt=F*de-$*ee,xt=F*fe-G*ee,Et=$*fe-G*de,$t=ne*Ue-ve*Ve,At=ne*ze-we*Ve,Jt=ne*Qe-De*Ve,dn=ve*ze-we*Ue,qt=ve*Qe-De*Ue,Bn=we*Qe-De*ze,kn=We*Bn-it*qt+mt*dn+yt*Jt-xt*At+Et*$t;return kn?(P[0]=(ee*Bn-de*qt+fe*dn)*(kn=1/kn),P[1]=($*qt-F*Bn-G*dn)*kn,P[2]=(Ue*Et-ze*xt+Qe*yt)*kn,P[3]=(we*xt-ve*Et-De*yt)*kn,P[4]=(de*Jt-Y*Bn-fe*At)*kn,P[5]=(V*Bn-$*Jt+G*At)*kn,P[6]=(ze*mt-Ve*Et-Qe*it)*kn,P[7]=(ne*Et-we*mt+De*it)*kn,P[8]=(Y*qt-ee*Jt+fe*$t)*kn,P[9]=(F*Jt-V*qt-G*$t)*kn,P[10]=(Ve*xt-Ue*mt+Qe*We)*kn,P[11]=(ve*mt-ne*xt-De*We)*kn,P[12]=(ee*At-Y*dn-de*$t)*kn,P[13]=(V*dn-F*At+$*$t)*kn,P[14]=(Ue*it-Ve*yt-ze*We)*kn,P[15]=(ne*yt-ve*it+we*We)*kn,P):null},te.adjoint=function(P,O){var V=O[0],F=O[1],$=O[2],G=O[3],Y=O[4],ee=O[5],de=O[6],fe=O[7],ne=O[8],ve=O[9],we=O[10],De=O[11],Ve=O[12],Ue=O[13],ze=O[14],Qe=O[15];return P[0]=ee*(we*Qe-De*ze)-ve*(de*Qe-fe*ze)+Ue*(de*De-fe*we),P[1]=-(F*(we*Qe-De*ze)-ve*($*Qe-G*ze)+Ue*($*De-G*we)),P[2]=F*(de*Qe-fe*ze)-ee*($*Qe-G*ze)+Ue*($*fe-G*de),P[3]=-(F*(de*De-fe*we)-ee*($*De-G*we)+ve*($*fe-G*de)),P[4]=-(Y*(we*Qe-De*ze)-ne*(de*Qe-fe*ze)+Ve*(de*De-fe*we)),P[5]=V*(we*Qe-De*ze)-ne*($*Qe-G*ze)+Ve*($*De-G*we),P[6]=-(V*(de*Qe-fe*ze)-Y*($*Qe-G*ze)+Ve*($*fe-G*de)),P[7]=V*(de*De-fe*we)-Y*($*De-G*we)+ne*($*fe-G*de),P[8]=Y*(ve*Qe-De*Ue)-ne*(ee*Qe-fe*Ue)+Ve*(ee*De-fe*ve),P[9]=-(V*(ve*Qe-De*Ue)-ne*(F*Qe-G*Ue)+Ve*(F*De-G*ve)),P[10]=V*(ee*Qe-fe*Ue)-Y*(F*Qe-G*Ue)+Ve*(F*fe-G*ee),P[11]=-(V*(ee*De-fe*ve)-Y*(F*De-G*ve)+ne*(F*fe-G*ee)),P[12]=-(Y*(ve*ze-we*Ue)-ne*(ee*ze-de*Ue)+Ve*(ee*we-de*ve)),P[13]=V*(ve*ze-we*Ue)-ne*(F*ze-$*Ue)+Ve*(F*we-$*ve),P[14]=-(V*(ee*ze-de*Ue)-Y*(F*ze-$*Ue)+Ve*(F*de-$*ee)),P[15]=V*(ee*we-de*ve)-Y*(F*we-$*ve)+ne*(F*de-$*ee),P},te.determinant=function(P){var O=P[0],V=P[1],F=P[2],$=P[3],G=P[4],Y=P[5],ee=P[6],de=P[7],fe=P[8],ne=P[9],ve=P[10],we=P[11],De=P[12],Ve=P[13],Ue=P[14],ze=P[15];return(O*Y-V*G)*(ve*ze-we*Ue)-(O*ee-F*G)*(ne*ze-we*Ve)+(O*de-$*G)*(ne*Ue-ve*Ve)+(V*ee-F*Y)*(fe*ze-we*De)-(V*de-$*Y)*(fe*Ue-ve*De)+(F*de-$*ee)*(fe*Ve-ne*De)},te.multiply=S,te.translate=function(P,O,V){var F,$,G,Y,ee,de,fe,ne,ve,we,De,Ve,Ue=V[0],ze=V[1],Qe=V[2];return O===P?(P[12]=O[0]*Ue+O[4]*ze+O[8]*Qe+O[12],P[13]=O[1]*Ue+O[5]*ze+O[9]*Qe+O[13],P[14]=O[2]*Ue+O[6]*ze+O[10]*Qe+O[14],P[15]=O[3]*Ue+O[7]*ze+O[11]*Qe+O[15]):($=O[1],G=O[2],Y=O[3],ee=O[4],de=O[5],fe=O[6],ne=O[7],ve=O[8],we=O[9],De=O[10],Ve=O[11],P[0]=F=O[0],P[1]=$,P[2]=G,P[3]=Y,P[4]=ee,P[5]=de,P[6]=fe,P[7]=ne,P[8]=ve,P[9]=we,P[10]=De,P[11]=Ve,P[12]=F*Ue+ee*ze+ve*Qe+O[12],P[13]=$*Ue+de*ze+we*Qe+O[13],P[14]=G*Ue+fe*ze+De*Qe+O[14],P[15]=Y*Ue+ne*ze+Ve*Qe+O[15]),P},te.scale=function(P,O,V){var F=V[0],$=V[1],G=V[2];return P[0]=O[0]*F,P[1]=O[1]*F,P[2]=O[2]*F,P[3]=O[3]*F,P[4]=O[4]*$,P[5]=O[5]*$,P[6]=O[6]*$,P[7]=O[7]*$,P[8]=O[8]*G,P[9]=O[9]*G,P[10]=O[10]*G,P[11]=O[11]*G,P[12]=O[12],P[13]=O[13],P[14]=O[14],P[15]=O[15],P},te.rotate=function(P,O,V,F){var $,G,Y,ee,de,fe,ne,ve,we,De,Ve,Ue,ze,Qe,We,it,mt,yt,xt,Et,$t,At,Jt,dn,qt=F[0],Bn=F[1],kn=F[2],wn=Math.hypot(qt,Bn,kn);return wn<l.EPSILON?null:(qt*=wn=1/wn,Bn*=wn,kn*=wn,$=Math.sin(V),G=Math.cos(V),de=O[1],fe=O[2],ne=O[3],we=O[5],De=O[6],Ve=O[7],ze=O[9],Qe=O[10],We=O[11],it=qt*qt*(Y=1-G)+G,xt=qt*Bn*Y-kn*$,Et=Bn*Bn*Y+G,$t=kn*Bn*Y+qt*$,At=qt*kn*Y+Bn*$,Jt=Bn*kn*Y-qt*$,dn=kn*kn*Y+G,P[0]=(ee=O[0])*it+(ve=O[4])*(mt=Bn*qt*Y+kn*$)+(Ue=O[8])*(yt=kn*qt*Y-Bn*$),P[1]=de*it+we*mt+ze*yt,P[2]=fe*it+De*mt+Qe*yt,P[3]=ne*it+Ve*mt+We*yt,P[4]=ee*xt+ve*Et+Ue*$t,P[5]=de*xt+we*Et+ze*$t,P[6]=fe*xt+De*Et+Qe*$t,P[7]=ne*xt+Ve*Et+We*$t,P[8]=ee*At+ve*Jt+Ue*dn,P[9]=de*At+we*Jt+ze*dn,P[10]=fe*At+De*Jt+Qe*dn,P[11]=ne*At+Ve*Jt+We*dn,O!==P&&(P[12]=O[12],P[13]=O[13],P[14]=O[14],P[15]=O[15]),P)},te.rotateX=function(P,O,V){var F=Math.sin(V),$=Math.cos(V),G=O[4],Y=O[5],ee=O[6],de=O[7],fe=O[8],ne=O[9],ve=O[10],we=O[11];return O!==P&&(P[0]=O[0],P[1]=O[1],P[2]=O[2],P[3]=O[3],P[12]=O[12],P[13]=O[13],P[14]=O[14],P[15]=O[15]),P[4]=G*$+fe*F,P[5]=Y*$+ne*F,P[6]=ee*$+ve*F,P[7]=de*$+we*F,P[8]=fe*$-G*F,P[9]=ne*$-Y*F,P[10]=ve*$-ee*F,P[11]=we*$-de*F,P},te.rotateY=function(P,O,V){var F=Math.sin(V),$=Math.cos(V),G=O[0],Y=O[1],ee=O[2],de=O[3],fe=O[8],ne=O[9],ve=O[10],we=O[11];return O!==P&&(P[4]=O[4],P[5]=O[5],P[6]=O[6],P[7]=O[7],P[12]=O[12],P[13]=O[13],P[14]=O[14],P[15]=O[15]),P[0]=G*$-fe*F,P[1]=Y*$-ne*F,P[2]=ee*$-ve*F,P[3]=de*$-we*F,P[8]=G*F+fe*$,P[9]=Y*F+ne*$,P[10]=ee*F+ve*$,P[11]=de*F+we*$,P},te.rotateZ=function(P,O,V){var F=Math.sin(V),$=Math.cos(V),G=O[0],Y=O[1],ee=O[2],de=O[3],fe=O[4],ne=O[5],ve=O[6],we=O[7];return O!==P&&(P[8]=O[8],P[9]=O[9],P[10]=O[10],P[11]=O[11],P[12]=O[12],P[13]=O[13],P[14]=O[14],P[15]=O[15]),P[0]=G*$+fe*F,P[1]=Y*$+ne*F,P[2]=ee*$+ve*F,P[3]=de*$+we*F,P[4]=fe*$-G*F,P[5]=ne*$-Y*F,P[6]=ve*$-ee*F,P[7]=we*$-de*F,P},te.fromTranslation=function(P,O){return P[0]=1,P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[5]=1,P[6]=0,P[7]=0,P[8]=0,P[9]=0,P[10]=1,P[11]=0,P[12]=O[0],P[13]=O[1],P[14]=O[2],P[15]=1,P},te.fromScaling=function(P,O){return P[0]=O[0],P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[5]=O[1],P[6]=0,P[7]=0,P[8]=0,P[9]=0,P[10]=O[2],P[11]=0,P[12]=0,P[13]=0,P[14]=0,P[15]=1,P},te.fromRotation=function(P,O,V){var F,$,G,Y=V[0],ee=V[1],de=V[2],fe=Math.hypot(Y,ee,de);return fe<l.EPSILON?null:(Y*=fe=1/fe,ee*=fe,de*=fe,F=Math.sin(O),$=Math.cos(O),P[0]=Y*Y*(G=1-$)+$,P[1]=ee*Y*G+de*F,P[2]=de*Y*G-ee*F,P[3]=0,P[4]=Y*ee*G-de*F,P[5]=ee*ee*G+$,P[6]=de*ee*G+Y*F,P[7]=0,P[8]=Y*de*G+ee*F,P[9]=ee*de*G-Y*F,P[10]=de*de*G+$,P[11]=0,P[12]=0,P[13]=0,P[14]=0,P[15]=1,P)},te.fromXRotation=function(P,O){var V=Math.sin(O),F=Math.cos(O);return P[0]=1,P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[5]=F,P[6]=V,P[7]=0,P[8]=0,P[9]=-V,P[10]=F,P[11]=0,P[12]=0,P[13]=0,P[14]=0,P[15]=1,P},te.fromYRotation=function(P,O){var V=Math.sin(O),F=Math.cos(O);return P[0]=F,P[1]=0,P[2]=-V,P[3]=0,P[4]=0,P[5]=1,P[6]=0,P[7]=0,P[8]=V,P[9]=0,P[10]=F,P[11]=0,P[12]=0,P[13]=0,P[14]=0,P[15]=1,P},te.fromZRotation=function(P,O){var V=Math.sin(O),F=Math.cos(O);return P[0]=F,P[1]=V,P[2]=0,P[3]=0,P[4]=-V,P[5]=F,P[6]=0,P[7]=0,P[8]=0,P[9]=0,P[10]=1,P[11]=0,P[12]=0,P[13]=0,P[14]=0,P[15]=1,P},te.fromRotationTranslation=y,te.fromQuat2=function(P,O){var V=new l.ARRAY_TYPE(3),F=-O[0],$=-O[1],G=-O[2],Y=O[3],ee=O[4],de=O[5],fe=O[6],ne=O[7],ve=F*F+$*$+G*G+Y*Y;return ve>0?(V[0]=2*(ee*Y+ne*F+de*G-fe*$)/ve,V[1]=2*(de*Y+ne*$+fe*F-ee*G)/ve,V[2]=2*(fe*Y+ne*G+ee*$-de*F)/ve):(V[0]=2*(ee*Y+ne*F+de*G-fe*$),V[1]=2*(de*Y+ne*$+fe*F-ee*G),V[2]=2*(fe*Y+ne*G+ee*$-de*F)),y(P,O,V),P},te.getTranslation=function(P,O){return P[0]=O[12],P[1]=O[13],P[2]=O[14],P},te.getScaling=C,te.getRotation=function(P,O){var V=new l.ARRAY_TYPE(3);C(V,O);var F=1/V[0],$=1/V[1],G=1/V[2],Y=O[0]*F,ee=O[1]*$,de=O[2]*G,fe=O[4]*F,ne=O[5]*$,ve=O[6]*G,we=O[8]*F,De=O[9]*$,Ve=O[10]*G,Ue=Y+ne+Ve,ze=0;return Ue>0?(ze=2*Math.sqrt(Ue+1),P[3]=.25*ze,P[0]=(ve-De)/ze,P[1]=(we-de)/ze,P[2]=(ee-fe)/ze):Y>ne&&Y>Ve?(ze=2*Math.sqrt(1+Y-ne-Ve),P[3]=(ve-De)/ze,P[0]=.25*ze,P[1]=(ee+fe)/ze,P[2]=(we+de)/ze):ne>Ve?(ze=2*Math.sqrt(1+ne-Y-Ve),P[3]=(we-de)/ze,P[0]=(ee+fe)/ze,P[1]=.25*ze,P[2]=(ve+De)/ze):(ze=2*Math.sqrt(1+Ve-Y-ne),P[3]=(ee-fe)/ze,P[0]=(we+de)/ze,P[1]=(ve+De)/ze,P[2]=.25*ze),P},te.fromRotationTranslationScale=function(P,O,V,F){var $=O[0],G=O[1],Y=O[2],ee=O[3],de=$+$,fe=G+G,ne=Y+Y,ve=$*de,we=$*fe,De=$*ne,Ve=G*fe,Ue=G*ne,ze=Y*ne,Qe=ee*de,We=ee*fe,it=ee*ne,mt=F[0],yt=F[1],xt=F[2];return P[0]=(1-(Ve+ze))*mt,P[1]=(we+it)*mt,P[2]=(De-We)*mt,P[3]=0,P[4]=(we-it)*yt,P[5]=(1-(ve+ze))*yt,P[6]=(Ue+Qe)*yt,P[7]=0,P[8]=(De+We)*xt,P[9]=(Ue-Qe)*xt,P[10]=(1-(ve+Ve))*xt,P[11]=0,P[12]=V[0],P[13]=V[1],P[14]=V[2],P[15]=1,P},te.fromRotationTranslationScaleOrigin=function(P,O,V,F,$){var G=O[0],Y=O[1],ee=O[2],de=O[3],fe=G+G,ne=Y+Y,ve=ee+ee,we=G*fe,De=G*ne,Ve=G*ve,Ue=Y*ne,ze=Y*ve,Qe=ee*ve,We=de*fe,it=de*ne,mt=de*ve,yt=F[0],xt=F[1],Et=F[2],$t=$[0],At=$[1],Jt=$[2],dn=(1-(Ue+Qe))*yt,qt=(De+mt)*yt,Bn=(Ve-it)*yt,kn=(De-mt)*xt,wn=(1-(we+Qe))*xt,gn=(ze+We)*xt,or=(Ve+it)*Et,zn=(ze-We)*Et,Hn=(1-(we+Ue))*Et;return P[0]=dn,P[1]=qt,P[2]=Bn,P[3]=0,P[4]=kn,P[5]=wn,P[6]=gn,P[7]=0,P[8]=or,P[9]=zn,P[10]=Hn,P[11]=0,P[12]=V[0]+$t-(dn*$t+kn*At+or*Jt),P[13]=V[1]+At-(qt*$t+wn*At+zn*Jt),P[14]=V[2]+Jt-(Bn*$t+gn*At+Hn*Jt),P[15]=1,P},te.fromQuat=function(P,O){var V=O[0],F=O[1],$=O[2],G=O[3],Y=V+V,ee=F+F,de=$+$,fe=V*Y,ne=F*Y,ve=F*ee,we=$*Y,De=$*ee,Ve=$*de,Ue=G*Y,ze=G*ee,Qe=G*de;return P[0]=1-ve-Ve,P[1]=ne+Qe,P[2]=we-ze,P[3]=0,P[4]=ne-Qe,P[5]=1-fe-Ve,P[6]=De+Ue,P[7]=0,P[8]=we+ze,P[9]=De-Ue,P[10]=1-fe-ve,P[11]=0,P[12]=0,P[13]=0,P[14]=0,P[15]=1,P},te.frustum=function(P,O,V,F,$,G,Y){var ee=1/(V-O),de=1/($-F),fe=1/(G-Y);return P[0]=2*G*ee,P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[5]=2*G*de,P[6]=0,P[7]=0,P[8]=(V+O)*ee,P[9]=($+F)*de,P[10]=(Y+G)*fe,P[11]=-1,P[12]=0,P[13]=0,P[14]=Y*G*2*fe,P[15]=0,P},te.perspectiveNO=R,te.perspectiveZO=function(P,O,V,F,$){var G,Y=1/Math.tan(O/2);return P[0]=Y/V,P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[5]=Y,P[6]=0,P[7]=0,P[8]=0,P[9]=0,P[11]=-1,P[12]=0,P[13]=0,P[15]=0,$!=null&&$!==1/0?(P[10]=$*(G=1/(F-$)),P[14]=$*F*G):(P[10]=-1,P[14]=-F),P},te.perspectiveFromFieldOfView=function(P,O,V,F){var $=Math.tan(O.upDegrees*Math.PI/180),G=Math.tan(O.downDegrees*Math.PI/180),Y=Math.tan(O.leftDegrees*Math.PI/180),ee=Math.tan(O.rightDegrees*Math.PI/180),de=2/(Y+ee),fe=2/($+G);return P[0]=de,P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[5]=fe,P[6]=0,P[7]=0,P[8]=-(Y-ee)*de*.5,P[9]=($-G)*fe*.5,P[10]=F/(V-F),P[11]=-1,P[12]=0,P[13]=0,P[14]=F*V/(V-F),P[15]=0,P},te.orthoNO=N,te.orthoZO=function(P,O,V,F,$,G,Y){var ee=1/(O-V),de=1/(F-$),fe=1/(G-Y);return P[0]=-2*ee,P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[5]=-2*de,P[6]=0,P[7]=0,P[8]=0,P[9]=0,P[10]=fe,P[11]=0,P[12]=(O+V)*ee,P[13]=($+F)*de,P[14]=G*fe,P[15]=1,P},te.lookAt=function(P,O,V,F){var $,G,Y,ee,de,fe,ne,ve,we,De,Ve=O[0],Ue=O[1],ze=O[2],Qe=F[0],We=F[1],it=F[2],mt=V[0],yt=V[1],xt=V[2];return Math.abs(Ve-mt)<l.EPSILON&&Math.abs(Ue-yt)<l.EPSILON&&Math.abs(ze-xt)<l.EPSILON?g(P):(ne=Ve-mt,ve=Ue-yt,we=ze-xt,$=We*(we*=De=1/Math.hypot(ne,ve,we))-it*(ve*=De),G=it*(ne*=De)-Qe*we,Y=Qe*ve-We*ne,(De=Math.hypot($,G,Y))?($*=De=1/De,G*=De,Y*=De):($=0,G=0,Y=0),ee=ve*Y-we*G,de=we*$-ne*Y,fe=ne*G-ve*$,(De=Math.hypot(ee,de,fe))?(ee*=De=1/De,de*=De,fe*=De):(ee=0,de=0,fe=0),P[0]=$,P[1]=ee,P[2]=ne,P[3]=0,P[4]=G,P[5]=de,P[6]=ve,P[7]=0,P[8]=Y,P[9]=fe,P[10]=we,P[11]=0,P[12]=-($*Ve+G*Ue+Y*ze),P[13]=-(ee*Ve+de*Ue+fe*ze),P[14]=-(ne*Ve+ve*Ue+we*ze),P[15]=1,P)},te.targetTo=function(P,O,V,F){var $=O[0],G=O[1],Y=O[2],ee=F[0],de=F[1],fe=F[2],ne=$-V[0],ve=G-V[1],we=Y-V[2],De=ne*ne+ve*ve+we*we;De>0&&(ne*=De=1/Math.sqrt(De),ve*=De,we*=De);var Ve=de*we-fe*ve,Ue=fe*ne-ee*we,ze=ee*ve-de*ne;return(De=Ve*Ve+Ue*Ue+ze*ze)>0&&(Ve*=De=1/Math.sqrt(De),Ue*=De,ze*=De),P[0]=Ve,P[1]=Ue,P[2]=ze,P[3]=0,P[4]=ve*ze-we*Ue,P[5]=we*Ve-ne*ze,P[6]=ne*Ue-ve*Ve,P[7]=0,P[8]=ne,P[9]=ve,P[10]=we,P[11]=0,P[12]=$,P[13]=G,P[14]=Y,P[15]=1,P},te.str=function(P){return"mat4("+P[0]+", "+P[1]+", "+P[2]+", "+P[3]+", "+P[4]+", "+P[5]+", "+P[6]+", "+P[7]+", "+P[8]+", "+P[9]+", "+P[10]+", "+P[11]+", "+P[12]+", "+P[13]+", "+P[14]+", "+P[15]+")"},te.frob=function(P){return Math.hypot(P[0],P[1],P[2],P[3],P[4],P[5],P[6],P[7],P[8],P[9],P[10],P[11],P[12],P[13],P[14],P[15])},te.add=function(P,O,V){return P[0]=O[0]+V[0],P[1]=O[1]+V[1],P[2]=O[2]+V[2],P[3]=O[3]+V[3],P[4]=O[4]+V[4],P[5]=O[5]+V[5],P[6]=O[6]+V[6],P[7]=O[7]+V[7],P[8]=O[8]+V[8],P[9]=O[9]+V[9],P[10]=O[10]+V[10],P[11]=O[11]+V[11],P[12]=O[12]+V[12],P[13]=O[13]+V[13],P[14]=O[14]+V[14],P[15]=O[15]+V[15],P},te.subtract=H,te.multiplyScalar=function(P,O,V){return P[0]=O[0]*V,P[1]=O[1]*V,P[2]=O[2]*V,P[3]=O[3]*V,P[4]=O[4]*V,P[5]=O[5]*V,P[6]=O[6]*V,P[7]=O[7]*V,P[8]=O[8]*V,P[9]=O[9]*V,P[10]=O[10]*V,P[11]=O[11]*V,P[12]=O[12]*V,P[13]=O[13]*V,P[14]=O[14]*V,P[15]=O[15]*V,P},te.multiplyScalarAndAdd=function(P,O,V,F){return P[0]=O[0]+V[0]*F,P[1]=O[1]+V[1]*F,P[2]=O[2]+V[2]*F,P[3]=O[3]+V[3]*F,P[4]=O[4]+V[4]*F,P[5]=O[5]+V[5]*F,P[6]=O[6]+V[6]*F,P[7]=O[7]+V[7]*F,P[8]=O[8]+V[8]*F,P[9]=O[9]+V[9]*F,P[10]=O[10]+V[10]*F,P[11]=O[11]+V[11]*F,P[12]=O[12]+V[12]*F,P[13]=O[13]+V[13]*F,P[14]=O[14]+V[14]*F,P[15]=O[15]+V[15]*F,P},te.exactEquals=function(P,O){return P[0]===O[0]&&P[1]===O[1]&&P[2]===O[2]&&P[3]===O[3]&&P[4]===O[4]&&P[5]===O[5]&&P[6]===O[6]&&P[7]===O[7]&&P[8]===O[8]&&P[9]===O[9]&&P[10]===O[10]&&P[11]===O[11]&&P[12]===O[12]&&P[13]===O[13]&&P[14]===O[14]&&P[15]===O[15]},te.equals=function(P,O){var V=P[0],F=P[1],$=P[2],G=P[3],Y=P[4],ee=P[5],de=P[6],fe=P[7],ne=P[8],ve=P[9],we=P[10],De=P[11],Ve=P[12],Ue=P[13],ze=P[14],Qe=P[15],We=O[0],it=O[1],mt=O[2],yt=O[3],xt=O[4],Et=O[5],$t=O[6],At=O[7],Jt=O[8],dn=O[9],qt=O[10],Bn=O[11],kn=O[12],wn=O[13],gn=O[14],or=O[15];return Math.abs(V-We)<=l.EPSILON*Math.max(1,Math.abs(V),Math.abs(We))&&Math.abs(F-it)<=l.EPSILON*Math.max(1,Math.abs(F),Math.abs(it))&&Math.abs($-mt)<=l.EPSILON*Math.max(1,Math.abs($),Math.abs(mt))&&Math.abs(G-yt)<=l.EPSILON*Math.max(1,Math.abs(G),Math.abs(yt))&&Math.abs(Y-xt)<=l.EPSILON*Math.max(1,Math.abs(Y),Math.abs(xt))&&Math.abs(ee-Et)<=l.EPSILON*Math.max(1,Math.abs(ee),Math.abs(Et))&&Math.abs(de-$t)<=l.EPSILON*Math.max(1,Math.abs(de),Math.abs($t))&&Math.abs(fe-At)<=l.EPSILON*Math.max(1,Math.abs(fe),Math.abs(At))&&Math.abs(ne-Jt)<=l.EPSILON*Math.max(1,Math.abs(ne),Math.abs(Jt))&&Math.abs(ve-dn)<=l.EPSILON*Math.max(1,Math.abs(ve),Math.abs(dn))&&Math.abs(we-qt)<=l.EPSILON*Math.max(1,Math.abs(we),Math.abs(qt))&&Math.abs(De-Bn)<=l.EPSILON*Math.max(1,Math.abs(De),Math.abs(Bn))&&Math.abs(Ve-kn)<=l.EPSILON*Math.max(1,Math.abs(Ve),Math.abs(kn))&&Math.abs(Ue-wn)<=l.EPSILON*Math.max(1,Math.abs(Ue),Math.abs(wn))&&Math.abs(ze-gn)<=l.EPSILON*Math.max(1,Math.abs(ze),Math.abs(gn))&&Math.abs(Qe-or)<=l.EPSILON*Math.max(1,Math.abs(Qe),Math.abs(or))},te.sub=te.mul=te.ortho=te.perspective=void 0;var l=function(P,O){if(P&&P.__esModule)return P;if(P===null||p(P)!=="object"&&typeof P!="function")return{default:P};var V=d(void 0);if(V&&V.has(P))return V.get(P);var F={},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var G in P)if(G!=="default"&&Object.prototype.hasOwnProperty.call(P,G)){var Y=$?Object.getOwnPropertyDescriptor(P,G):null;Y&&(Y.get||Y.set)?Object.defineProperty(F,G,Y):F[G]=P[G]}return F.default=P,V&&V.set(P,F),F}(b());function d(P){if(typeof WeakMap!="function")return null;var O=new WeakMap,V=new WeakMap;return(d=function(F){return F?V:O})(P)}function g(P){return P[0]=1,P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[5]=1,P[6]=0,P[7]=0,P[8]=0,P[9]=0,P[10]=1,P[11]=0,P[12]=0,P[13]=0,P[14]=0,P[15]=1,P}function S(P,O,V){var F=O[0],$=O[1],G=O[2],Y=O[3],ee=O[4],de=O[5],fe=O[6],ne=O[7],ve=O[8],we=O[9],De=O[10],Ve=O[11],Ue=O[12],ze=O[13],Qe=O[14],We=O[15],it=V[0],mt=V[1],yt=V[2],xt=V[3];return P[0]=it*F+mt*ee+yt*ve+xt*Ue,P[1]=it*$+mt*de+yt*we+xt*ze,P[2]=it*G+mt*fe+yt*De+xt*Qe,P[3]=it*Y+mt*ne+yt*Ve+xt*We,P[4]=(it=V[4])*F+(mt=V[5])*ee+(yt=V[6])*ve+(xt=V[7])*Ue,P[5]=it*$+mt*de+yt*we+xt*ze,P[6]=it*G+mt*fe+yt*De+xt*Qe,P[7]=it*Y+mt*ne+yt*Ve+xt*We,P[8]=(it=V[8])*F+(mt=V[9])*ee+(yt=V[10])*ve+(xt=V[11])*Ue,P[9]=it*$+mt*de+yt*we+xt*ze,P[10]=it*G+mt*fe+yt*De+xt*Qe,P[11]=it*Y+mt*ne+yt*Ve+xt*We,P[12]=(it=V[12])*F+(mt=V[13])*ee+(yt=V[14])*ve+(xt=V[15])*Ue,P[13]=it*$+mt*de+yt*we+xt*ze,P[14]=it*G+mt*fe+yt*De+xt*Qe,P[15]=it*Y+mt*ne+yt*Ve+xt*We,P}function y(P,O,V){var F=O[0],$=O[1],G=O[2],Y=O[3],ee=F+F,de=$+$,fe=G+G,ne=F*ee,ve=F*de,we=F*fe,De=$*de,Ve=$*fe,Ue=G*fe,ze=Y*ee,Qe=Y*de,We=Y*fe;return P[0]=1-(De+Ue),P[1]=ve+We,P[2]=we-Qe,P[3]=0,P[4]=ve-We,P[5]=1-(ne+Ue),P[6]=Ve+ze,P[7]=0,P[8]=we+Qe,P[9]=Ve-ze,P[10]=1-(ne+De),P[11]=0,P[12]=V[0],P[13]=V[1],P[14]=V[2],P[15]=1,P}function C(P,O){var V=O[4],F=O[5],$=O[6],G=O[8],Y=O[9],ee=O[10];return P[0]=Math.hypot(O[0],O[1],O[2]),P[1]=Math.hypot(V,F,$),P[2]=Math.hypot(G,Y,ee),P}function R(P,O,V,F,$){var G,Y=1/Math.tan(O/2);return P[0]=Y/V,P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[5]=Y,P[6]=0,P[7]=0,P[8]=0,P[9]=0,P[11]=-1,P[12]=0,P[13]=0,P[15]=0,$!=null&&$!==1/0?(P[10]=($+F)*(G=1/(F-$)),P[14]=2*$*F*G):(P[10]=-1,P[14]=-2*F),P}function N(P,O,V,F,$,G,Y){var ee=1/(O-V),de=1/(F-$),fe=1/(G-Y);return P[0]=-2*ee,P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[5]=-2*de,P[6]=0,P[7]=0,P[8]=0,P[9]=0,P[10]=2*fe,P[11]=0,P[12]=(O+V)*ee,P[13]=($+F)*de,P[14]=(Y+G)*fe,P[15]=1,P}function H(P,O,V){return P[0]=O[0]-V[0],P[1]=O[1]-V[1],P[2]=O[2]-V[2],P[3]=O[3]-V[3],P[4]=O[4]-V[4],P[5]=O[5]-V[5],P[6]=O[6]-V[6],P[7]=O[7]-V[7],P[8]=O[8]-V[8],P[9]=O[9]-V[9],P[10]=O[10]-V[10],P[11]=O[11]-V[11],P[12]=O[12]-V[12],P[13]=O[13]-V[13],P[14]=O[14]-V[14],P[15]=O[15]-V[15],P}return te.perspective=R,te.ortho=N,te.mul=S,te.sub=H,te}var ae,re={},se={};function be(){if(ae)return se;function p($){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},p($)}ae=1,Object.defineProperty(se,"__esModule",{value:!0}),se.create=g,se.clone=function($){var G=new l.ARRAY_TYPE(3);return G[0]=$[0],G[1]=$[1],G[2]=$[2],G},se.length=S,se.fromValues=function($,G,Y){var ee=new l.ARRAY_TYPE(3);return ee[0]=$,ee[1]=G,ee[2]=Y,ee},se.copy=function($,G){return $[0]=G[0],$[1]=G[1],$[2]=G[2],$},se.set=function($,G,Y,ee){return $[0]=G,$[1]=Y,$[2]=ee,$},se.add=function($,G,Y){return $[0]=G[0]+Y[0],$[1]=G[1]+Y[1],$[2]=G[2]+Y[2],$},se.subtract=y,se.multiply=C,se.divide=R,se.ceil=function($,G){return $[0]=Math.ceil(G[0]),$[1]=Math.ceil(G[1]),$[2]=Math.ceil(G[2]),$},se.floor=function($,G){return $[0]=Math.floor(G[0]),$[1]=Math.floor(G[1]),$[2]=Math.floor(G[2]),$},se.min=function($,G,Y){return $[0]=Math.min(G[0],Y[0]),$[1]=Math.min(G[1],Y[1]),$[2]=Math.min(G[2],Y[2]),$},se.max=function($,G,Y){return $[0]=Math.max(G[0],Y[0]),$[1]=Math.max(G[1],Y[1]),$[2]=Math.max(G[2],Y[2]),$},se.round=function($,G){return $[0]=Math.round(G[0]),$[1]=Math.round(G[1]),$[2]=Math.round(G[2]),$},se.scale=function($,G,Y){return $[0]=G[0]*Y,$[1]=G[1]*Y,$[2]=G[2]*Y,$},se.scaleAndAdd=function($,G,Y,ee){return $[0]=G[0]+Y[0]*ee,$[1]=G[1]+Y[1]*ee,$[2]=G[2]+Y[2]*ee,$},se.distance=N,se.squaredDistance=H,se.squaredLength=P,se.negate=function($,G){return $[0]=-G[0],$[1]=-G[1],$[2]=-G[2],$},se.inverse=function($,G){return $[0]=1/G[0],$[1]=1/G[1],$[2]=1/G[2],$},se.normalize=function($,G){var Y=G[0],ee=G[1],de=G[2],fe=Y*Y+ee*ee+de*de;return fe>0&&(fe=1/Math.sqrt(fe)),$[0]=G[0]*fe,$[1]=G[1]*fe,$[2]=G[2]*fe,$},se.dot=O,se.cross=function($,G,Y){var ee=G[0],de=G[1],fe=G[2],ne=Y[0],ve=Y[1],we=Y[2];return $[0]=de*we-fe*ve,$[1]=fe*ne-ee*we,$[2]=ee*ve-de*ne,$},se.lerp=function($,G,Y,ee){var de=G[0],fe=G[1],ne=G[2];return $[0]=de+ee*(Y[0]-de),$[1]=fe+ee*(Y[1]-fe),$[2]=ne+ee*(Y[2]-ne),$},se.hermite=function($,G,Y,ee,de,fe){var ne=fe*fe,ve=ne*(2*fe-3)+1,we=ne*(fe-2)+fe,De=ne*(fe-1),Ve=ne*(3-2*fe);return $[0]=G[0]*ve+Y[0]*we+ee[0]*De+de[0]*Ve,$[1]=G[1]*ve+Y[1]*we+ee[1]*De+de[1]*Ve,$[2]=G[2]*ve+Y[2]*we+ee[2]*De+de[2]*Ve,$},se.bezier=function($,G,Y,ee,de,fe){var ne=1-fe,ve=ne*ne,we=fe*fe,De=ve*ne,Ve=3*fe*ve,Ue=3*we*ne,ze=we*fe;return $[0]=G[0]*De+Y[0]*Ve+ee[0]*Ue+de[0]*ze,$[1]=G[1]*De+Y[1]*Ve+ee[1]*Ue+de[1]*ze,$[2]=G[2]*De+Y[2]*Ve+ee[2]*Ue+de[2]*ze,$},se.random=function($,G){G=G||1;var Y=2*l.RANDOM()*Math.PI,ee=2*l.RANDOM()-1,de=Math.sqrt(1-ee*ee)*G;return $[0]=Math.cos(Y)*de,$[1]=Math.sin(Y)*de,$[2]=ee*G,$},se.transformMat4=function($,G,Y){var ee=G[0],de=G[1],fe=G[2],ne=Y[3]*ee+Y[7]*de+Y[11]*fe+Y[15];return $[0]=(Y[0]*ee+Y[4]*de+Y[8]*fe+Y[12])/(ne=ne||1),$[1]=(Y[1]*ee+Y[5]*de+Y[9]*fe+Y[13])/ne,$[2]=(Y[2]*ee+Y[6]*de+Y[10]*fe+Y[14])/ne,$},se.transformMat3=function($,G,Y){var ee=G[0],de=G[1],fe=G[2];return $[0]=ee*Y[0]+de*Y[3]+fe*Y[6],$[1]=ee*Y[1]+de*Y[4]+fe*Y[7],$[2]=ee*Y[2]+de*Y[5]+fe*Y[8],$},se.transformQuat=function($,G,Y){var ee=Y[0],de=Y[1],fe=Y[2],ne=G[0],ve=G[1],we=G[2],De=de*we-fe*ve,Ve=fe*ne-ee*we,Ue=ee*ve-de*ne,ze=de*Ue-fe*Ve,Qe=fe*De-ee*Ue,We=ee*Ve-de*De,it=2*Y[3];return Ve*=it,Ue*=it,Qe*=2,We*=2,$[0]=ne+(De*=it)+(ze*=2),$[1]=ve+Ve+Qe,$[2]=we+Ue+We,$},se.rotateX=function($,G,Y,ee){var de=[],fe=[];return de[0]=G[0]-Y[0],de[1]=G[1]-Y[1],de[2]=G[2]-Y[2],fe[0]=de[0],fe[1]=de[1]*Math.cos(ee)-de[2]*Math.sin(ee),fe[2]=de[1]*Math.sin(ee)+de[2]*Math.cos(ee),$[0]=fe[0]+Y[0],$[1]=fe[1]+Y[1],$[2]=fe[2]+Y[2],$},se.rotateY=function($,G,Y,ee){var de=[],fe=[];return de[0]=G[0]-Y[0],de[1]=G[1]-Y[1],de[2]=G[2]-Y[2],fe[0]=de[2]*Math.sin(ee)+de[0]*Math.cos(ee),fe[1]=de[1],fe[2]=de[2]*Math.cos(ee)-de[0]*Math.sin(ee),$[0]=fe[0]+Y[0],$[1]=fe[1]+Y[1],$[2]=fe[2]+Y[2],$},se.rotateZ=function($,G,Y,ee){var de=[],fe=[];return de[0]=G[0]-Y[0],de[1]=G[1]-Y[1],de[2]=G[2]-Y[2],fe[0]=de[0]*Math.cos(ee)-de[1]*Math.sin(ee),fe[1]=de[0]*Math.sin(ee)+de[1]*Math.cos(ee),fe[2]=de[2],$[0]=fe[0]+Y[0],$[1]=fe[1]+Y[1],$[2]=fe[2]+Y[2],$},se.angle=function($,G){var Y=$[0],ee=$[1],de=$[2],fe=G[0],ne=G[1],ve=G[2],we=Math.sqrt(Y*Y+ee*ee+de*de)*Math.sqrt(fe*fe+ne*ne+ve*ve),De=we&&O($,G)/we;return Math.acos(Math.min(Math.max(De,-1),1))},se.zero=function($){return $[0]=0,$[1]=0,$[2]=0,$},se.str=function($){return"vec3("+$[0]+", "+$[1]+", "+$[2]+")"},se.exactEquals=function($,G){return $[0]===G[0]&&$[1]===G[1]&&$[2]===G[2]},se.equals=function($,G){var Y=$[0],ee=$[1],de=$[2],fe=G[0],ne=G[1],ve=G[2];return Math.abs(Y-fe)<=l.EPSILON*Math.max(1,Math.abs(Y),Math.abs(fe))&&Math.abs(ee-ne)<=l.EPSILON*Math.max(1,Math.abs(ee),Math.abs(ne))&&Math.abs(de-ve)<=l.EPSILON*Math.max(1,Math.abs(de),Math.abs(ve))},se.forEach=se.sqrLen=se.len=se.sqrDist=se.dist=se.div=se.mul=se.sub=void 0;var l=function($,G){if($&&$.__esModule)return $;if($===null||p($)!=="object"&&typeof $!="function")return{default:$};var Y=d(void 0);if(Y&&Y.has($))return Y.get($);var ee={},de=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var fe in $)if(fe!=="default"&&Object.prototype.hasOwnProperty.call($,fe)){var ne=de?Object.getOwnPropertyDescriptor($,fe):null;ne&&(ne.get||ne.set)?Object.defineProperty(ee,fe,ne):ee[fe]=$[fe]}return ee.default=$,Y&&Y.set($,ee),ee}(b());function d($){if(typeof WeakMap!="function")return null;var G=new WeakMap,Y=new WeakMap;return(d=function(ee){return ee?Y:G})($)}function g(){var $=new l.ARRAY_TYPE(3);return l.ARRAY_TYPE!=Float32Array&&($[0]=0,$[1]=0,$[2]=0),$}function S($){return Math.hypot($[0],$[1],$[2])}function y($,G,Y){return $[0]=G[0]-Y[0],$[1]=G[1]-Y[1],$[2]=G[2]-Y[2],$}function C($,G,Y){return $[0]=G[0]*Y[0],$[1]=G[1]*Y[1],$[2]=G[2]*Y[2],$}function R($,G,Y){return $[0]=G[0]/Y[0],$[1]=G[1]/Y[1],$[2]=G[2]/Y[2],$}function N($,G){return Math.hypot(G[0]-$[0],G[1]-$[1],G[2]-$[2])}function H($,G){var Y=G[0]-$[0],ee=G[1]-$[1],de=G[2]-$[2];return Y*Y+ee*ee+de*de}function P($){var G=$[0],Y=$[1],ee=$[2];return G*G+Y*Y+ee*ee}function O($,G){return $[0]*G[0]+$[1]*G[1]+$[2]*G[2]}se.sub=y,se.mul=C,se.div=R,se.dist=N,se.sqrDist=H,se.len=S,se.sqrLen=P;var V,F=(V=g(),function($,G,Y,ee,de,fe){var ne,ve;for(G||(G=3),Y||(Y=0),ve=ee?Math.min(ee*G+Y,$.length):$.length,ne=Y;ne<ve;ne+=G)V[0]=$[ne],V[1]=$[ne+1],V[2]=$[ne+2],de(V,V,fe),$[ne]=V[0],$[ne+1]=V[1],$[ne+2]=V[2];return $});return se.forEach=F,se}var Ie,Se,me={};function Le(){if(Ie)return me;function p(F){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},p(F)}Ie=1,Object.defineProperty(me,"__esModule",{value:!0}),me.create=g,me.clone=function(F){var $=new l.ARRAY_TYPE(4);return $[0]=F[0],$[1]=F[1],$[2]=F[2],$[3]=F[3],$},me.fromValues=function(F,$,G,Y){var ee=new l.ARRAY_TYPE(4);return ee[0]=F,ee[1]=$,ee[2]=G,ee[3]=Y,ee},me.copy=function(F,$){return F[0]=$[0],F[1]=$[1],F[2]=$[2],F[3]=$[3],F},me.set=function(F,$,G,Y,ee){return F[0]=$,F[1]=G,F[2]=Y,F[3]=ee,F},me.add=function(F,$,G){return F[0]=$[0]+G[0],F[1]=$[1]+G[1],F[2]=$[2]+G[2],F[3]=$[3]+G[3],F},me.subtract=S,me.multiply=y,me.divide=C,me.ceil=function(F,$){return F[0]=Math.ceil($[0]),F[1]=Math.ceil($[1]),F[2]=Math.ceil($[2]),F[3]=Math.ceil($[3]),F},me.floor=function(F,$){return F[0]=Math.floor($[0]),F[1]=Math.floor($[1]),F[2]=Math.floor($[2]),F[3]=Math.floor($[3]),F},me.min=function(F,$,G){return F[0]=Math.min($[0],G[0]),F[1]=Math.min($[1],G[1]),F[2]=Math.min($[2],G[2]),F[3]=Math.min($[3],G[3]),F},me.max=function(F,$,G){return F[0]=Math.max($[0],G[0]),F[1]=Math.max($[1],G[1]),F[2]=Math.max($[2],G[2]),F[3]=Math.max($[3],G[3]),F},me.round=function(F,$){return F[0]=Math.round($[0]),F[1]=Math.round($[1]),F[2]=Math.round($[2]),F[3]=Math.round($[3]),F},me.scale=function(F,$,G){return F[0]=$[0]*G,F[1]=$[1]*G,F[2]=$[2]*G,F[3]=$[3]*G,F},me.scaleAndAdd=function(F,$,G,Y){return F[0]=$[0]+G[0]*Y,F[1]=$[1]+G[1]*Y,F[2]=$[2]+G[2]*Y,F[3]=$[3]+G[3]*Y,F},me.distance=R,me.squaredDistance=N,me.length=H,me.squaredLength=P,me.negate=function(F,$){return F[0]=-$[0],F[1]=-$[1],F[2]=-$[2],F[3]=-$[3],F},me.inverse=function(F,$){return F[0]=1/$[0],F[1]=1/$[1],F[2]=1/$[2],F[3]=1/$[3],F},me.normalize=function(F,$){var G=$[0],Y=$[1],ee=$[2],de=$[3],fe=G*G+Y*Y+ee*ee+de*de;return fe>0&&(fe=1/Math.sqrt(fe)),F[0]=G*fe,F[1]=Y*fe,F[2]=ee*fe,F[3]=de*fe,F},me.dot=function(F,$){return F[0]*$[0]+F[1]*$[1]+F[2]*$[2]+F[3]*$[3]},me.cross=function(F,$,G,Y){var ee=G[0]*Y[1]-G[1]*Y[0],de=G[0]*Y[2]-G[2]*Y[0],fe=G[0]*Y[3]-G[3]*Y[0],ne=G[1]*Y[2]-G[2]*Y[1],ve=G[1]*Y[3]-G[3]*Y[1],we=G[2]*Y[3]-G[3]*Y[2],De=$[0],Ve=$[1],Ue=$[2],ze=$[3];return F[0]=Ve*we-Ue*ve+ze*ne,F[1]=-De*we+Ue*fe-ze*de,F[2]=De*ve-Ve*fe+ze*ee,F[3]=-De*ne+Ve*de-Ue*ee,F},me.lerp=function(F,$,G,Y){var ee=$[0],de=$[1],fe=$[2],ne=$[3];return F[0]=ee+Y*(G[0]-ee),F[1]=de+Y*(G[1]-de),F[2]=fe+Y*(G[2]-fe),F[3]=ne+Y*(G[3]-ne),F},me.random=function(F,$){var G,Y,ee,de,fe,ne;$=$||1;do fe=(G=2*l.RANDOM()-1)*G+(Y=2*l.RANDOM()-1)*Y;while(fe>=1);do ne=(ee=2*l.RANDOM()-1)*ee+(de=2*l.RANDOM()-1)*de;while(ne>=1);var ve=Math.sqrt((1-fe)/ne);return F[0]=$*G,F[1]=$*Y,F[2]=$*ee*ve,F[3]=$*de*ve,F},me.transformMat4=function(F,$,G){var Y=$[0],ee=$[1],de=$[2],fe=$[3];return F[0]=G[0]*Y+G[4]*ee+G[8]*de+G[12]*fe,F[1]=G[1]*Y+G[5]*ee+G[9]*de+G[13]*fe,F[2]=G[2]*Y+G[6]*ee+G[10]*de+G[14]*fe,F[3]=G[3]*Y+G[7]*ee+G[11]*de+G[15]*fe,F},me.transformQuat=function(F,$,G){var Y=$[0],ee=$[1],de=$[2],fe=G[0],ne=G[1],ve=G[2],we=G[3],De=we*Y+ne*de-ve*ee,Ve=we*ee+ve*Y-fe*de,Ue=we*de+fe*ee-ne*Y,ze=-fe*Y-ne*ee-ve*de;return F[0]=De*we+ze*-fe+Ve*-ve-Ue*-ne,F[1]=Ve*we+ze*-ne+Ue*-fe-De*-ve,F[2]=Ue*we+ze*-ve+De*-ne-Ve*-fe,F[3]=$[3],F},me.zero=function(F){return F[0]=0,F[1]=0,F[2]=0,F[3]=0,F},me.str=function(F){return"vec4("+F[0]+", "+F[1]+", "+F[2]+", "+F[3]+")"},me.exactEquals=function(F,$){return F[0]===$[0]&&F[1]===$[1]&&F[2]===$[2]&&F[3]===$[3]},me.equals=function(F,$){var G=F[0],Y=F[1],ee=F[2],de=F[3],fe=$[0],ne=$[1],ve=$[2],we=$[3];return Math.abs(G-fe)<=l.EPSILON*Math.max(1,Math.abs(G),Math.abs(fe))&&Math.abs(Y-ne)<=l.EPSILON*Math.max(1,Math.abs(Y),Math.abs(ne))&&Math.abs(ee-ve)<=l.EPSILON*Math.max(1,Math.abs(ee),Math.abs(ve))&&Math.abs(de-we)<=l.EPSILON*Math.max(1,Math.abs(de),Math.abs(we))},me.forEach=me.sqrLen=me.len=me.sqrDist=me.dist=me.div=me.mul=me.sub=void 0;var l=function(F,$){if(F&&F.__esModule)return F;if(F===null||p(F)!=="object"&&typeof F!="function")return{default:F};var G=d(void 0);if(G&&G.has(F))return G.get(F);var Y={},ee=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var de in F)if(de!=="default"&&Object.prototype.hasOwnProperty.call(F,de)){var fe=ee?Object.getOwnPropertyDescriptor(F,de):null;fe&&(fe.get||fe.set)?Object.defineProperty(Y,de,fe):Y[de]=F[de]}return Y.default=F,G&&G.set(F,Y),Y}(b());function d(F){if(typeof WeakMap!="function")return null;var $=new WeakMap,G=new WeakMap;return(d=function(Y){return Y?G:$})(F)}function g(){var F=new l.ARRAY_TYPE(4);return l.ARRAY_TYPE!=Float32Array&&(F[0]=0,F[1]=0,F[2]=0,F[3]=0),F}function S(F,$,G){return F[0]=$[0]-G[0],F[1]=$[1]-G[1],F[2]=$[2]-G[2],F[3]=$[3]-G[3],F}function y(F,$,G){return F[0]=$[0]*G[0],F[1]=$[1]*G[1],F[2]=$[2]*G[2],F[3]=$[3]*G[3],F}function C(F,$,G){return F[0]=$[0]/G[0],F[1]=$[1]/G[1],F[2]=$[2]/G[2],F[3]=$[3]/G[3],F}function R(F,$){return Math.hypot($[0]-F[0],$[1]-F[1],$[2]-F[2],$[3]-F[3])}function N(F,$){var G=$[0]-F[0],Y=$[1]-F[1],ee=$[2]-F[2],de=$[3]-F[3];return G*G+Y*Y+ee*ee+de*de}function H(F){return Math.hypot(F[0],F[1],F[2],F[3])}function P(F){var $=F[0],G=F[1],Y=F[2],ee=F[3];return $*$+G*G+Y*Y+ee*ee}me.sub=S,me.mul=y,me.div=C,me.dist=R,me.sqrDist=N,me.len=H,me.sqrLen=P;var O,V=(O=g(),function(F,$,G,Y,ee,de){var fe,ne;for($||($=4),G||(G=0),ne=Y?Math.min(Y*$+G,F.length):F.length,fe=G;fe<ne;fe+=$)O[0]=F[fe],O[1]=F[fe+1],O[2]=F[fe+2],O[3]=F[fe+3],ee(O,O,de),F[fe]=O[0],F[fe+1]=O[1],F[fe+2]=O[2],F[fe+3]=O[3];return F});return me.forEach=V,me}function Ee(){if(Se)return re;function p(We){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(it){return typeof it}:function(it){return it&&typeof Symbol=="function"&&it.constructor===Symbol&&it!==Symbol.prototype?"symbol":typeof it},p(We)}Se=1,Object.defineProperty(re,"__esModule",{value:!0}),re.create=R,re.identity=function(We){return We[0]=0,We[1]=0,We[2]=0,We[3]=1,We},re.setAxisAngle=N,re.getAxisAngle=function(We,it){var mt=2*Math.acos(it[3]),yt=Math.sin(mt/2);return yt>l.EPSILON?(We[0]=it[0]/yt,We[1]=it[1]/yt,We[2]=it[2]/yt):(We[0]=1,We[1]=0,We[2]=0),mt},re.getAngle=function(We,it){var mt=G(We,it);return Math.acos(2*mt*mt-1)},re.multiply=H,re.rotateX=function(We,it,mt){mt*=.5;var yt=it[0],xt=it[1],Et=it[2],$t=it[3],At=Math.sin(mt),Jt=Math.cos(mt);return We[0]=yt*Jt+$t*At,We[1]=xt*Jt+Et*At,We[2]=Et*Jt-xt*At,We[3]=$t*Jt-yt*At,We},re.rotateY=function(We,it,mt){mt*=.5;var yt=it[0],xt=it[1],Et=it[2],$t=it[3],At=Math.sin(mt),Jt=Math.cos(mt);return We[0]=yt*Jt-Et*At,We[1]=xt*Jt+$t*At,We[2]=Et*Jt+yt*At,We[3]=$t*Jt-xt*At,We},re.rotateZ=function(We,it,mt){mt*=.5;var yt=it[0],xt=it[1],Et=it[2],$t=it[3],At=Math.sin(mt),Jt=Math.cos(mt);return We[0]=yt*Jt+xt*At,We[1]=xt*Jt-yt*At,We[2]=Et*Jt+$t*At,We[3]=$t*Jt-Et*At,We},re.calculateW=function(We,it){var mt=it[0],yt=it[1],xt=it[2];return We[0]=mt,We[1]=yt,We[2]=xt,We[3]=Math.sqrt(Math.abs(1-mt*mt-yt*yt-xt*xt)),We},re.exp=P,re.ln=O,re.pow=function(We,it,mt){return O(We,it),$(We,We,mt),P(We,We),We},re.slerp=V,re.random=function(We){var it=l.RANDOM(),mt=l.RANDOM(),yt=l.RANDOM(),xt=Math.sqrt(1-it),Et=Math.sqrt(it);return We[0]=xt*Math.sin(2*Math.PI*mt),We[1]=xt*Math.cos(2*Math.PI*mt),We[2]=Et*Math.sin(2*Math.PI*yt),We[3]=Et*Math.cos(2*Math.PI*yt),We},re.invert=function(We,it){var mt=it[0],yt=it[1],xt=it[2],Et=it[3],$t=mt*mt+yt*yt+xt*xt+Et*Et,At=$t?1/$t:0;return We[0]=-mt*At,We[1]=-yt*At,We[2]=-xt*At,We[3]=Et*At,We},re.conjugate=function(We,it){return We[0]=-it[0],We[1]=-it[1],We[2]=-it[2],We[3]=it[3],We},re.fromMat3=F,re.fromEuler=function(We,it,mt,yt){var xt=.5*Math.PI/180;it*=xt,mt*=xt,yt*=xt;var Et=Math.sin(it),$t=Math.cos(it),At=Math.sin(mt),Jt=Math.cos(mt),dn=Math.sin(yt),qt=Math.cos(yt);return We[0]=Et*Jt*qt-$t*At*dn,We[1]=$t*At*qt+Et*Jt*dn,We[2]=$t*Jt*dn-Et*At*qt,We[3]=$t*Jt*qt+Et*At*dn,We},re.str=function(We){return"quat("+We[0]+", "+We[1]+", "+We[2]+", "+We[3]+")"},re.setAxes=re.sqlerp=re.rotationTo=re.equals=re.exactEquals=re.normalize=re.sqrLen=re.squaredLength=re.len=re.length=re.lerp=re.dot=re.scale=re.mul=re.add=re.set=re.copy=re.fromValues=re.clone=void 0;var l=C(b()),d=C(q()),g=C(be()),S=C(Le());function y(We){if(typeof WeakMap!="function")return null;var it=new WeakMap,mt=new WeakMap;return(y=function(yt){return yt?mt:it})(We)}function C(We,it){if(We&&We.__esModule)return We;if(We===null||p(We)!=="object"&&typeof We!="function")return{default:We};var mt=y(it);if(mt&&mt.has(We))return mt.get(We);var yt={},xt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Et in We)if(Et!=="default"&&Object.prototype.hasOwnProperty.call(We,Et)){var $t=xt?Object.getOwnPropertyDescriptor(We,Et):null;$t&&($t.get||$t.set)?Object.defineProperty(yt,Et,$t):yt[Et]=We[Et]}return yt.default=We,mt&&mt.set(We,yt),yt}function R(){var We=new l.ARRAY_TYPE(4);return l.ARRAY_TYPE!=Float32Array&&(We[0]=0,We[1]=0,We[2]=0),We[3]=1,We}function N(We,it,mt){mt*=.5;var yt=Math.sin(mt);return We[0]=yt*it[0],We[1]=yt*it[1],We[2]=yt*it[2],We[3]=Math.cos(mt),We}function H(We,it,mt){var yt=it[0],xt=it[1],Et=it[2],$t=it[3],At=mt[0],Jt=mt[1],dn=mt[2],qt=mt[3];return We[0]=yt*qt+$t*At+xt*dn-Et*Jt,We[1]=xt*qt+$t*Jt+Et*At-yt*dn,We[2]=Et*qt+$t*dn+yt*Jt-xt*At,We[3]=$t*qt-yt*At-xt*Jt-Et*dn,We}function P(We,it){var mt=it[0],yt=it[1],xt=it[2],Et=it[3],$t=Math.sqrt(mt*mt+yt*yt+xt*xt),At=Math.exp(Et),Jt=$t>0?At*Math.sin($t)/$t:0;return We[0]=mt*Jt,We[1]=yt*Jt,We[2]=xt*Jt,We[3]=At*Math.cos($t),We}function O(We,it){var mt=it[0],yt=it[1],xt=it[2],Et=it[3],$t=Math.sqrt(mt*mt+yt*yt+xt*xt),At=$t>0?Math.atan2($t,Et)/$t:0;return We[0]=mt*At,We[1]=yt*At,We[2]=xt*At,We[3]=.5*Math.log(mt*mt+yt*yt+xt*xt+Et*Et),We}function V(We,it,mt,yt){var xt,Et,$t,At,Jt,dn=it[0],qt=it[1],Bn=it[2],kn=it[3],wn=mt[0],gn=mt[1],or=mt[2],zn=mt[3];return(Et=dn*wn+qt*gn+Bn*or+kn*zn)<0&&(Et=-Et,wn=-wn,gn=-gn,or=-or,zn=-zn),1-Et>l.EPSILON?(xt=Math.acos(Et),$t=Math.sin(xt),At=Math.sin((1-yt)*xt)/$t,Jt=Math.sin(yt*xt)/$t):(At=1-yt,Jt=yt),We[0]=At*dn+Jt*wn,We[1]=At*qt+Jt*gn,We[2]=At*Bn+Jt*or,We[3]=At*kn+Jt*zn,We}function F(We,it){var mt,yt=it[0]+it[4]+it[8];if(yt>0)mt=Math.sqrt(yt+1),We[3]=.5*mt,We[0]=(it[5]-it[7])*(mt=.5/mt),We[1]=(it[6]-it[2])*mt,We[2]=(it[1]-it[3])*mt;else{var xt=0;it[4]>it[0]&&(xt=1),it[8]>it[3*xt+xt]&&(xt=2);var Et=(xt+1)%3,$t=(xt+2)%3;mt=Math.sqrt(it[3*xt+xt]-it[3*Et+Et]-it[3*$t+$t]+1),We[xt]=.5*mt,We[3]=(it[3*Et+$t]-it[3*$t+Et])*(mt=.5/mt),We[Et]=(it[3*Et+xt]+it[3*xt+Et])*mt,We[$t]=(it[3*$t+xt]+it[3*xt+$t])*mt}return We}re.clone=S.clone,re.fromValues=S.fromValues,re.copy=S.copy,re.set=S.set,re.add=S.add,re.mul=H;var $=S.scale;re.scale=$;var G=S.dot;re.dot=G,re.lerp=S.lerp;var Y=S.length;re.length=Y,re.len=Y;var ee=S.squaredLength;re.squaredLength=ee,re.sqrLen=ee;var de=S.normalize;re.normalize=de,re.exactEquals=S.exactEquals,re.equals=S.equals;var fe,ne,ve,we=(fe=g.create(),ne=g.fromValues(1,0,0),ve=g.fromValues(0,1,0),function(We,it,mt){var yt=g.dot(it,mt);return yt<-.999999?(g.cross(fe,ne,it),g.len(fe)<1e-6&&g.cross(fe,ve,it),g.normalize(fe,fe),N(We,fe,Math.PI),We):yt>.999999?(We[0]=0,We[1]=0,We[2]=0,We[3]=1,We):(g.cross(fe,it,mt),We[0]=fe[0],We[1]=fe[1],We[2]=fe[2],We[3]=1+yt,de(We,We))});re.rotationTo=we;var De,Ve,Ue=(De=R(),Ve=R(),function(We,it,mt,yt,xt,Et){return V(De,it,xt,Et),V(Ve,mt,yt,Et),V(We,De,Ve,2*Et*(1-Et)),We});re.sqlerp=Ue;var ze,Qe=(ze=d.create(),function(We,it,mt,yt){return ze[0]=mt[0],ze[3]=mt[1],ze[6]=mt[2],ze[1]=yt[0],ze[4]=yt[1],ze[7]=yt[2],ze[2]=-it[0],ze[5]=-it[1],ze[8]=-it[2],de(We,F(We,ze))});return re.setAxes=Qe,re}var _e,xe={};function Be(){if(_e)return xe;function p(V){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},p(V)}_e=1,Object.defineProperty(xe,"__esModule",{value:!0}),xe.create=function(){var V=new l.ARRAY_TYPE(8);return l.ARRAY_TYPE!=Float32Array&&(V[0]=0,V[1]=0,V[2]=0,V[4]=0,V[5]=0,V[6]=0,V[7]=0),V[3]=1,V},xe.clone=function(V){var F=new l.ARRAY_TYPE(8);return F[0]=V[0],F[1]=V[1],F[2]=V[2],F[3]=V[3],F[4]=V[4],F[5]=V[5],F[6]=V[6],F[7]=V[7],F},xe.fromValues=function(V,F,$,G,Y,ee,de,fe){var ne=new l.ARRAY_TYPE(8);return ne[0]=V,ne[1]=F,ne[2]=$,ne[3]=G,ne[4]=Y,ne[5]=ee,ne[6]=de,ne[7]=fe,ne},xe.fromRotationTranslationValues=function(V,F,$,G,Y,ee,de){var fe=new l.ARRAY_TYPE(8);fe[0]=V,fe[1]=F,fe[2]=$,fe[3]=G;var ne=.5*Y,ve=.5*ee,we=.5*de;return fe[4]=ne*G+ve*$-we*F,fe[5]=ve*G+we*V-ne*$,fe[6]=we*G+ne*F-ve*V,fe[7]=-ne*V-ve*F-we*$,fe},xe.fromRotationTranslation=C,xe.fromTranslation=function(V,F){return V[0]=0,V[1]=0,V[2]=0,V[3]=1,V[4]=.5*F[0],V[5]=.5*F[1],V[6]=.5*F[2],V[7]=0,V},xe.fromRotation=function(V,F){return V[0]=F[0],V[1]=F[1],V[2]=F[2],V[3]=F[3],V[4]=0,V[5]=0,V[6]=0,V[7]=0,V},xe.fromMat4=function(V,F){var $=d.create();g.getRotation($,F);var G=new l.ARRAY_TYPE(3);return g.getTranslation(G,F),C(V,$,G),V},xe.copy=R,xe.identity=function(V){return V[0]=0,V[1]=0,V[2]=0,V[3]=1,V[4]=0,V[5]=0,V[6]=0,V[7]=0,V},xe.set=function(V,F,$,G,Y,ee,de,fe,ne){return V[0]=F,V[1]=$,V[2]=G,V[3]=Y,V[4]=ee,V[5]=de,V[6]=fe,V[7]=ne,V},xe.getDual=function(V,F){return V[0]=F[4],V[1]=F[5],V[2]=F[6],V[3]=F[7],V},xe.setDual=function(V,F){return V[4]=F[0],V[5]=F[1],V[6]=F[2],V[7]=F[3],V},xe.getTranslation=function(V,F){var $=F[4],G=F[5],Y=F[6],ee=F[7],de=-F[0],fe=-F[1],ne=-F[2],ve=F[3];return V[0]=2*($*ve+ee*de+G*ne-Y*fe),V[1]=2*(G*ve+ee*fe+Y*de-$*ne),V[2]=2*(Y*ve+ee*ne+$*fe-G*de),V},xe.translate=function(V,F,$){var G=F[0],Y=F[1],ee=F[2],de=F[3],fe=.5*$[0],ne=.5*$[1],ve=.5*$[2],we=F[4],De=F[5],Ve=F[6],Ue=F[7];return V[0]=G,V[1]=Y,V[2]=ee,V[3]=de,V[4]=de*fe+Y*ve-ee*ne+we,V[5]=de*ne+ee*fe-G*ve+De,V[6]=de*ve+G*ne-Y*fe+Ve,V[7]=-G*fe-Y*ne-ee*ve+Ue,V},xe.rotateX=function(V,F,$){var G=-F[0],Y=-F[1],ee=-F[2],de=F[3],fe=F[4],ne=F[5],ve=F[6],we=F[7],De=fe*de+we*G+ne*ee-ve*Y,Ve=ne*de+we*Y+ve*G-fe*ee,Ue=ve*de+we*ee+fe*Y-ne*G,ze=we*de-fe*G-ne*Y-ve*ee;return d.rotateX(V,F,$),V[4]=De*(de=V[3])+ze*(G=V[0])+Ve*(ee=V[2])-Ue*(Y=V[1]),V[5]=Ve*de+ze*Y+Ue*G-De*ee,V[6]=Ue*de+ze*ee+De*Y-Ve*G,V[7]=ze*de-De*G-Ve*Y-Ue*ee,V},xe.rotateY=function(V,F,$){var G=-F[0],Y=-F[1],ee=-F[2],de=F[3],fe=F[4],ne=F[5],ve=F[6],we=F[7],De=fe*de+we*G+ne*ee-ve*Y,Ve=ne*de+we*Y+ve*G-fe*ee,Ue=ve*de+we*ee+fe*Y-ne*G,ze=we*de-fe*G-ne*Y-ve*ee;return d.rotateY(V,F,$),V[4]=De*(de=V[3])+ze*(G=V[0])+Ve*(ee=V[2])-Ue*(Y=V[1]),V[5]=Ve*de+ze*Y+Ue*G-De*ee,V[6]=Ue*de+ze*ee+De*Y-Ve*G,V[7]=ze*de-De*G-Ve*Y-Ue*ee,V},xe.rotateZ=function(V,F,$){var G=-F[0],Y=-F[1],ee=-F[2],de=F[3],fe=F[4],ne=F[5],ve=F[6],we=F[7],De=fe*de+we*G+ne*ee-ve*Y,Ve=ne*de+we*Y+ve*G-fe*ee,Ue=ve*de+we*ee+fe*Y-ne*G,ze=we*de-fe*G-ne*Y-ve*ee;return d.rotateZ(V,F,$),V[4]=De*(de=V[3])+ze*(G=V[0])+Ve*(ee=V[2])-Ue*(Y=V[1]),V[5]=Ve*de+ze*Y+Ue*G-De*ee,V[6]=Ue*de+ze*ee+De*Y-Ve*G,V[7]=ze*de-De*G-Ve*Y-Ue*ee,V},xe.rotateByQuatAppend=function(V,F,$){var G=$[0],Y=$[1],ee=$[2],de=$[3],fe=F[0],ne=F[1],ve=F[2],we=F[3];return V[0]=fe*de+we*G+ne*ee-ve*Y,V[1]=ne*de+we*Y+ve*G-fe*ee,V[2]=ve*de+we*ee+fe*Y-ne*G,V[3]=we*de-fe*G-ne*Y-ve*ee,V[4]=(fe=F[4])*de+(we=F[7])*G+(ne=F[5])*ee-(ve=F[6])*Y,V[5]=ne*de+we*Y+ve*G-fe*ee,V[6]=ve*de+we*ee+fe*Y-ne*G,V[7]=we*de-fe*G-ne*Y-ve*ee,V},xe.rotateByQuatPrepend=function(V,F,$){var G=F[0],Y=F[1],ee=F[2],de=F[3],fe=$[0],ne=$[1],ve=$[2],we=$[3];return V[0]=G*we+de*fe+Y*ve-ee*ne,V[1]=Y*we+de*ne+ee*fe-G*ve,V[2]=ee*we+de*ve+G*ne-Y*fe,V[3]=de*we-G*fe-Y*ne-ee*ve,V[4]=G*(we=$[7])+de*(fe=$[4])+Y*(ve=$[6])-ee*(ne=$[5]),V[5]=Y*we+de*ne+ee*fe-G*ve,V[6]=ee*we+de*ve+G*ne-Y*fe,V[7]=de*we-G*fe-Y*ne-ee*ve,V},xe.rotateAroundAxis=function(V,F,$,G){if(Math.abs(G)<l.EPSILON)return R(V,F);var Y=Math.hypot($[0],$[1],$[2]);G*=.5;var ee=Math.sin(G),de=ee*$[0]/Y,fe=ee*$[1]/Y,ne=ee*$[2]/Y,ve=Math.cos(G),we=F[0],De=F[1],Ve=F[2],Ue=F[3];V[0]=we*ve+Ue*de+De*ne-Ve*fe,V[1]=De*ve+Ue*fe+Ve*de-we*ne,V[2]=Ve*ve+Ue*ne+we*fe-De*de,V[3]=Ue*ve-we*de-De*fe-Ve*ne;var ze=F[4],Qe=F[5],We=F[6],it=F[7];return V[4]=ze*ve+it*de+Qe*ne-We*fe,V[5]=Qe*ve+it*fe+We*de-ze*ne,V[6]=We*ve+it*ne+ze*fe-Qe*de,V[7]=it*ve-ze*de-Qe*fe-We*ne,V},xe.add=function(V,F,$){return V[0]=F[0]+$[0],V[1]=F[1]+$[1],V[2]=F[2]+$[2],V[3]=F[3]+$[3],V[4]=F[4]+$[4],V[5]=F[5]+$[5],V[6]=F[6]+$[6],V[7]=F[7]+$[7],V},xe.multiply=N,xe.scale=function(V,F,$){return V[0]=F[0]*$,V[1]=F[1]*$,V[2]=F[2]*$,V[3]=F[3]*$,V[4]=F[4]*$,V[5]=F[5]*$,V[6]=F[6]*$,V[7]=F[7]*$,V},xe.lerp=function(V,F,$,G){var Y=1-G;return H(F,$)<0&&(G=-G),V[0]=F[0]*Y+$[0]*G,V[1]=F[1]*Y+$[1]*G,V[2]=F[2]*Y+$[2]*G,V[3]=F[3]*Y+$[3]*G,V[4]=F[4]*Y+$[4]*G,V[5]=F[5]*Y+$[5]*G,V[6]=F[6]*Y+$[6]*G,V[7]=F[7]*Y+$[7]*G,V},xe.invert=function(V,F){var $=O(F);return V[0]=-F[0]/$,V[1]=-F[1]/$,V[2]=-F[2]/$,V[3]=F[3]/$,V[4]=-F[4]/$,V[5]=-F[5]/$,V[6]=-F[6]/$,V[7]=F[7]/$,V},xe.conjugate=function(V,F){return V[0]=-F[0],V[1]=-F[1],V[2]=-F[2],V[3]=F[3],V[4]=-F[4],V[5]=-F[5],V[6]=-F[6],V[7]=F[7],V},xe.normalize=function(V,F){var $=O(F);if($>0){$=Math.sqrt($);var G=F[0]/$,Y=F[1]/$,ee=F[2]/$,de=F[3]/$,fe=F[4],ne=F[5],ve=F[6],we=F[7],De=G*fe+Y*ne+ee*ve+de*we;V[0]=G,V[1]=Y,V[2]=ee,V[3]=de,V[4]=(fe-G*De)/$,V[5]=(ne-Y*De)/$,V[6]=(ve-ee*De)/$,V[7]=(we-de*De)/$}return V},xe.str=function(V){return"quat2("+V[0]+", "+V[1]+", "+V[2]+", "+V[3]+", "+V[4]+", "+V[5]+", "+V[6]+", "+V[7]+")"},xe.exactEquals=function(V,F){return V[0]===F[0]&&V[1]===F[1]&&V[2]===F[2]&&V[3]===F[3]&&V[4]===F[4]&&V[5]===F[5]&&V[6]===F[6]&&V[7]===F[7]},xe.equals=function(V,F){var $=V[0],G=V[1],Y=V[2],ee=V[3],de=V[4],fe=V[5],ne=V[6],ve=V[7],we=F[0],De=F[1],Ve=F[2],Ue=F[3],ze=F[4],Qe=F[5],We=F[6],it=F[7];return Math.abs($-we)<=l.EPSILON*Math.max(1,Math.abs($),Math.abs(we))&&Math.abs(G-De)<=l.EPSILON*Math.max(1,Math.abs(G),Math.abs(De))&&Math.abs(Y-Ve)<=l.EPSILON*Math.max(1,Math.abs(Y),Math.abs(Ve))&&Math.abs(ee-Ue)<=l.EPSILON*Math.max(1,Math.abs(ee),Math.abs(Ue))&&Math.abs(de-ze)<=l.EPSILON*Math.max(1,Math.abs(de),Math.abs(ze))&&Math.abs(fe-Qe)<=l.EPSILON*Math.max(1,Math.abs(fe),Math.abs(Qe))&&Math.abs(ne-We)<=l.EPSILON*Math.max(1,Math.abs(ne),Math.abs(We))&&Math.abs(ve-it)<=l.EPSILON*Math.max(1,Math.abs(ve),Math.abs(it))},xe.sqrLen=xe.squaredLength=xe.len=xe.length=xe.dot=xe.mul=xe.setReal=xe.getReal=void 0;var l=y(b()),d=y(Ee()),g=y(ie());function S(V){if(typeof WeakMap!="function")return null;var F=new WeakMap,$=new WeakMap;return(S=function(G){return G?$:F})(V)}function y(V,F){if(V&&V.__esModule)return V;if(V===null||p(V)!=="object"&&typeof V!="function")return{default:V};var $=S(F);if($&&$.has(V))return $.get(V);var G={},Y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ee in V)if(ee!=="default"&&Object.prototype.hasOwnProperty.call(V,ee)){var de=Y?Object.getOwnPropertyDescriptor(V,ee):null;de&&(de.get||de.set)?Object.defineProperty(G,ee,de):G[ee]=V[ee]}return G.default=V,$&&$.set(V,G),G}function C(V,F,$){var G=.5*$[0],Y=.5*$[1],ee=.5*$[2],de=F[0],fe=F[1],ne=F[2],ve=F[3];return V[0]=de,V[1]=fe,V[2]=ne,V[3]=ve,V[4]=G*ve+Y*ne-ee*fe,V[5]=Y*ve+ee*de-G*ne,V[6]=ee*ve+G*fe-Y*de,V[7]=-G*de-Y*fe-ee*ne,V}function R(V,F){return V[0]=F[0],V[1]=F[1],V[2]=F[2],V[3]=F[3],V[4]=F[4],V[5]=F[5],V[6]=F[6],V[7]=F[7],V}function N(V,F,$){var G=F[0],Y=F[1],ee=F[2],de=F[3],fe=$[4],ne=$[5],ve=$[6],we=$[7],De=F[4],Ve=F[5],Ue=F[6],ze=F[7],Qe=$[0],We=$[1],it=$[2],mt=$[3];return V[0]=G*mt+de*Qe+Y*it-ee*We,V[1]=Y*mt+de*We+ee*Qe-G*it,V[2]=ee*mt+de*it+G*We-Y*Qe,V[3]=de*mt-G*Qe-Y*We-ee*it,V[4]=G*we+de*fe+Y*ve-ee*ne+De*mt+ze*Qe+Ve*it-Ue*We,V[5]=Y*we+de*ne+ee*fe-G*ve+Ve*mt+ze*We+Ue*Qe-De*it,V[6]=ee*we+de*ve+G*ne-Y*fe+Ue*mt+ze*it+De*We-Ve*Qe,V[7]=de*we-G*fe-Y*ne-ee*ve+ze*mt-De*Qe-Ve*We-Ue*it,V}xe.getReal=d.copy,xe.setReal=d.copy,xe.mul=N;var H=d.dot;xe.dot=H;var P=d.length;xe.length=P,xe.len=P;var O=d.squaredLength;return xe.squaredLength=O,xe.sqrLen=O,xe}var Je,Ye,lt={};function Nt(){if(Je)return lt;function p(F){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},p(F)}Je=1,Object.defineProperty(lt,"__esModule",{value:!0}),lt.create=g,lt.clone=function(F){var $=new l.ARRAY_TYPE(2);return $[0]=F[0],$[1]=F[1],$},lt.fromValues=function(F,$){var G=new l.ARRAY_TYPE(2);return G[0]=F,G[1]=$,G},lt.copy=function(F,$){return F[0]=$[0],F[1]=$[1],F},lt.set=function(F,$,G){return F[0]=$,F[1]=G,F},lt.add=function(F,$,G){return F[0]=$[0]+G[0],F[1]=$[1]+G[1],F},lt.subtract=S,lt.multiply=y,lt.divide=C,lt.ceil=function(F,$){return F[0]=Math.ceil($[0]),F[1]=Math.ceil($[1]),F},lt.floor=function(F,$){return F[0]=Math.floor($[0]),F[1]=Math.floor($[1]),F},lt.min=function(F,$,G){return F[0]=Math.min($[0],G[0]),F[1]=Math.min($[1],G[1]),F},lt.max=function(F,$,G){return F[0]=Math.max($[0],G[0]),F[1]=Math.max($[1],G[1]),F},lt.round=function(F,$){return F[0]=Math.round($[0]),F[1]=Math.round($[1]),F},lt.scale=function(F,$,G){return F[0]=$[0]*G,F[1]=$[1]*G,F},lt.scaleAndAdd=function(F,$,G,Y){return F[0]=$[0]+G[0]*Y,F[1]=$[1]+G[1]*Y,F},lt.distance=R,lt.squaredDistance=N,lt.length=H,lt.squaredLength=P,lt.negate=function(F,$){return F[0]=-$[0],F[1]=-$[1],F},lt.inverse=function(F,$){return F[0]=1/$[0],F[1]=1/$[1],F},lt.normalize=function(F,$){var G=$[0],Y=$[1],ee=G*G+Y*Y;return ee>0&&(ee=1/Math.sqrt(ee)),F[0]=$[0]*ee,F[1]=$[1]*ee,F},lt.dot=function(F,$){return F[0]*$[0]+F[1]*$[1]},lt.cross=function(F,$,G){var Y=$[0]*G[1]-$[1]*G[0];return F[0]=F[1]=0,F[2]=Y,F},lt.lerp=function(F,$,G,Y){var ee=$[0],de=$[1];return F[0]=ee+Y*(G[0]-ee),F[1]=de+Y*(G[1]-de),F},lt.random=function(F,$){$=$||1;var G=2*l.RANDOM()*Math.PI;return F[0]=Math.cos(G)*$,F[1]=Math.sin(G)*$,F},lt.transformMat2=function(F,$,G){var Y=$[0],ee=$[1];return F[0]=G[0]*Y+G[2]*ee,F[1]=G[1]*Y+G[3]*ee,F},lt.transformMat2d=function(F,$,G){var Y=$[0],ee=$[1];return F[0]=G[0]*Y+G[2]*ee+G[4],F[1]=G[1]*Y+G[3]*ee+G[5],F},lt.transformMat3=function(F,$,G){var Y=$[0],ee=$[1];return F[0]=G[0]*Y+G[3]*ee+G[6],F[1]=G[1]*Y+G[4]*ee+G[7],F},lt.transformMat4=function(F,$,G){var Y=$[0],ee=$[1];return F[0]=G[0]*Y+G[4]*ee+G[12],F[1]=G[1]*Y+G[5]*ee+G[13],F},lt.rotate=function(F,$,G,Y){var ee=$[0]-G[0],de=$[1]-G[1],fe=Math.sin(Y),ne=Math.cos(Y);return F[0]=ee*ne-de*fe+G[0],F[1]=ee*fe+de*ne+G[1],F},lt.angle=function(F,$){var G=F[0],Y=F[1],ee=$[0],de=$[1],fe=Math.sqrt(G*G+Y*Y)*Math.sqrt(ee*ee+de*de);return Math.acos(Math.min(Math.max(fe&&(G*ee+Y*de)/fe,-1),1))},lt.zero=function(F){return F[0]=0,F[1]=0,F},lt.str=function(F){return"vec2("+F[0]+", "+F[1]+")"},lt.exactEquals=function(F,$){return F[0]===$[0]&&F[1]===$[1]},lt.equals=function(F,$){var G=F[0],Y=F[1],ee=$[0],de=$[1];return Math.abs(G-ee)<=l.EPSILON*Math.max(1,Math.abs(G),Math.abs(ee))&&Math.abs(Y-de)<=l.EPSILON*Math.max(1,Math.abs(Y),Math.abs(de))},lt.forEach=lt.sqrLen=lt.sqrDist=lt.dist=lt.div=lt.mul=lt.sub=lt.len=void 0;var l=function(F,$){if(F&&F.__esModule)return F;if(F===null||p(F)!=="object"&&typeof F!="function")return{default:F};var G=d(void 0);if(G&&G.has(F))return G.get(F);var Y={},ee=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var de in F)if(de!=="default"&&Object.prototype.hasOwnProperty.call(F,de)){var fe=ee?Object.getOwnPropertyDescriptor(F,de):null;fe&&(fe.get||fe.set)?Object.defineProperty(Y,de,fe):Y[de]=F[de]}return Y.default=F,G&&G.set(F,Y),Y}(b());function d(F){if(typeof WeakMap!="function")return null;var $=new WeakMap,G=new WeakMap;return(d=function(Y){return Y?G:$})(F)}function g(){var F=new l.ARRAY_TYPE(2);return l.ARRAY_TYPE!=Float32Array&&(F[0]=0,F[1]=0),F}function S(F,$,G){return F[0]=$[0]-G[0],F[1]=$[1]-G[1],F}function y(F,$,G){return F[0]=$[0]*G[0],F[1]=$[1]*G[1],F}function C(F,$,G){return F[0]=$[0]/G[0],F[1]=$[1]/G[1],F}function R(F,$){return Math.hypot($[0]-F[0],$[1]-F[1])}function N(F,$){var G=$[0]-F[0],Y=$[1]-F[1];return G*G+Y*Y}function H(F){return Math.hypot(F[0],F[1])}function P(F){var $=F[0],G=F[1];return $*$+G*G}lt.len=H,lt.sub=S,lt.mul=y,lt.div=C,lt.dist=R,lt.sqrDist=N,lt.sqrLen=P;var O,V=(O=g(),function(F,$,G,Y,ee,de){var fe,ne;for($||($=2),G||(G=0),ne=Y?Math.min(Y*$+G,F.length):F.length,fe=G;fe<ne;fe+=$)O[0]=F[fe],O[1]=F[fe+1],ee(O,O,de),F[fe]=O[0],F[fe+1]=O[1];return F});return lt.forEach=V,lt}function Dt(){if(Ye)return v;function p(F){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},p(F)}Ye=1,Object.defineProperty(v,"__esModule",{value:!0}),v.vec4=v.vec3=v.vec2=v.quat2=v.quat=v.mat4=v.mat3=v.mat2d=v.mat2=v.glMatrix=void 0;var l=V(b());v.glMatrix=l;var d=V(E());v.mat2=d;var g=V(B());v.mat2d=g;var S=V(q());v.mat3=S;var y=V(ie());v.mat4=y;var C=V(Ee());v.quat=C;var R=V(Be());v.quat2=R;var N=V(Nt());v.vec2=N;var H=V(be());v.vec3=H;var P=V(Le());function O(F){if(typeof WeakMap!="function")return null;var $=new WeakMap,G=new WeakMap;return(O=function(Y){return Y?G:$})(F)}function V(F,$){if(F&&F.__esModule)return F;if(F===null||p(F)!=="object"&&typeof F!="function")return{default:F};var G=O($);if(G&&G.has(F))return G.get(F);var Y={},ee=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var de in F)if(de!=="default"&&Object.prototype.hasOwnProperty.call(F,de)){var fe=ee?Object.getOwnPropertyDescriptor(F,de):null;fe&&(fe.get||fe.set)?Object.defineProperty(Y,de,fe):Y[de]=F[de]}return Y.default=F,G&&G.set(F,Y),Y}return v.vec4=P,v}var je,Ct,vt,Vt,Re=Dt(),pt=function(){if(Ct)return je;function p(l,d,g,S){this.cx=3*l,this.bx=3*(g-l)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*d,this.by=3*(S-d)-this.cy,this.ay=1-this.cy-this.by,this.p1x=l,this.p1y=d,this.p2x=g,this.p2y=S}return Ct=1,je=p,p.prototype={sampleCurveX:function(l){return((this.ax*l+this.bx)*l+this.cx)*l},sampleCurveY:function(l){return((this.ay*l+this.by)*l+this.cy)*l},sampleCurveDerivativeX:function(l){return(3*this.ax*l+2*this.bx)*l+this.cx},solveCurveX:function(l,d){if(d===void 0&&(d=1e-6),l<0)return 0;if(l>1)return 1;for(var g=l,S=0;S<8;S++){var y=this.sampleCurveX(g)-l;if(Math.abs(y)<d)return g;var C=this.sampleCurveDerivativeX(g);if(Math.abs(C)<1e-6)break;g-=y/C}var R=0,N=1;for(g=l,S=0;S<20&&(y=this.sampleCurveX(g),!(Math.abs(y-l)<d));S++)l>y?R=g:N=g,g=.5*(N-R)+R;return g},solve:function(l,d){return this.sampleCurveY(this.solveCurveX(l,d))}},je}(),Ne=h(pt);function et(){if(Vt)return vt;function p(l,d){this.x=l,this.y=d}return Vt=1,vt=p,p.prototype={clone:function(){return new p(this.x,this.y)},add:function(l){return this.clone()._add(l)},sub:function(l){return this.clone()._sub(l)},multByPoint:function(l){return this.clone()._multByPoint(l)},divByPoint:function(l){return this.clone()._divByPoint(l)},mult:function(l){return this.clone()._mult(l)},div:function(l){return this.clone()._div(l)},rotate:function(l){return this.clone()._rotate(l)},rotateAround:function(l,d){return this.clone()._rotateAround(l,d)},matMult:function(l){return this.clone()._matMult(l)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(l){return this.x===l.x&&this.y===l.y},dist:function(l){return Math.sqrt(this.distSqr(l))},distSqr:function(l){var d=l.x-this.x,g=l.y-this.y;return d*d+g*g},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(l){return Math.atan2(this.y-l.y,this.x-l.x)},angleWith:function(l){return this.angleWithSep(l.x,l.y)},angleWithSep:function(l,d){return Math.atan2(this.x*d-this.y*l,this.x*l+this.y*d)},_matMult:function(l){var d=l[2]*this.x+l[3]*this.y;return this.x=l[0]*this.x+l[1]*this.y,this.y=d,this},_add:function(l){return this.x+=l.x,this.y+=l.y,this},_sub:function(l){return this.x-=l.x,this.y-=l.y,this},_mult:function(l){return this.x*=l,this.y*=l,this},_div:function(l){return this.x/=l,this.y/=l,this},_multByPoint:function(l){return this.x*=l.x,this.y*=l.y,this},_divByPoint:function(l){return this.x/=l.x,this.y/=l.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var l=this.y;return this.y=this.x,this.x=-l,this},_rotate:function(l){var d=Math.cos(l),g=Math.sin(l),S=g*this.x+d*this.y;return this.x=d*this.x-g*this.y,this.y=S,this},_rotateAround:function(l,d){var g=Math.cos(l),S=Math.sin(l),y=d.y+S*(this.x-d.x)+g*(this.y-d.y);return this.x=d.x+g*(this.x-d.x)-S*(this.y-d.y),this.y=y,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},p.convert=function(l){return l instanceof p?l:Array.isArray(l)?new p(l[0],l[1]):l},vt}var Ze=h(et());function nn(p,l){if(Array.isArray(p)){if(!Array.isArray(l)||p.length!==l.length)return!1;for(let d=0;d<p.length;d++)if(!nn(p[d],l[d]))return!1;return!0}if(typeof p=="object"&&p!==null&&l!==null){if(typeof l!="object"||Object.keys(p).length!==Object.keys(l).length)return!1;for(const d in p)if(!nn(p[d],l[d]))return!1;return!0}return p===l}const It=Math.PI/180,Ft=180/Math.PI;function zt(p){return p*It}function tn(p){return p*Ft}const fn=[[0,0],[1,0],[1,1],[0,1]];function hn(p){if(p<=0)return 0;if(p>=1)return 1;const l=p*p,d=l*p;return 4*(p<.5?d:3*(p-l)+d-.75)}function Dn(p,l,d,g){const S=new Ne(p,l,d,g);return function(y){return S.solve(y)}}const ln=Dn(.25,.1,.25,1);function St(p,l,d){return Math.min(d,Math.max(l,p))}function Pn(p,l,d){return(d=St((d-p)/(l-p),0,1))*d*(3-2*d)}function rr(p,l,d){const g=d-l,S=((p-l)%g+g)%g+l;return S===l?d:S}function cr(p,l,d){if(!p.length)return d(null,[]);let g=p.length;const S=new Array(p.length);let y=null;p.forEach((C,R)=>{l(C,(N,H)=>{N&&(y=N),S[R]=H,--g==0&&d(y,S)})})}function sr(p,...l){for(const d of l)for(const g in d)p[g]=d[g];return p}let Xr=1;function wi(){return Xr++}function Bt(p){return p<=1?1:Math.pow(2,Math.ceil(Math.log(p)/Math.LN2))}function yn(p,l){p.forEach(d=>{l[d]&&(l[d]=l[d].bind(l))})}function ht(p,l){return p.indexOf(l,p.length-l.length)!==-1}function Zt(p,l,d){const g={};for(const S in p)g[S]=l.call(this,p[S],S,p);return g}function Xt(p,l,d){const g={};for(const S in p)l.call(this,p[S],S,p)&&(g[S]=p[S]);return g}function qn(p){return Array.isArray(p)?p.map(qn):typeof p=="object"&&p?Zt(p,qn):p}const Qr={};function Mt(p){Qr[p]||(typeof console<"u"&&console.warn(p),Qr[p]=!0)}function Gn(p,l,d){return(d.y-p.y)*(l.x-p.x)>(l.y-p.y)*(d.x-p.x)}function Wr(p){let l=0;for(let d,g,S=0,y=p.length,C=y-1;S<y;C=S++)d=p[S],g=p[C],l+=(g.x-d.x)*(d.y+g.y);return l}function Nr([p,l,d]){const g=zt(l+90),S=zt(d);return{x:p*Math.cos(g)*Math.sin(S),y:p*Math.sin(g)*Math.sin(S),z:p*Math.cos(S),azimuthal:l,polar:d}}function qr(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function si(p){const l={};if(p.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(d,g,S,y)=>{const C=S||y;return l[g]=!C||C.toLowerCase(),""}),l["max-age"]){const d=parseInt(l["max-age"],10);isNaN(d)?delete l["max-age"]:l["max-age"]=d}return l}let Ya,Wl=null;function qs(p,l){return[p[4*l],p[4*l+1],p[4*l+2],p[4*l+3]]}function Ht(p,l,d,g){for(;l<d;){const S=l+d>>1;p[S]<g?l=S+1:d=S}return l}function Pe(p,l,d,g){for(;l<d;){const S=l+d>>1;p[S]<=g?l=S+1:d=S}return l}function Oe(p){return p>0?1/(1.001-p):1+p}function Xe(p){return p>0?1-1/(1.001-p):-p}const ut={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(Ya==null){const p=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{Ya=n.API_URL_REGEX!=null?new RegExp(n.API_URL_REGEX):p}catch{Ya=p}}return Ya},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){if(!ut.API_URL)return null;try{const p=new URL(ut.API_URL);return p.hostname==="api.mapbox.cn"?"https://events.mapbox.cn/events/v2":p.hostname==="api.mapbox.com"?"https://events.mapbox.com/events/v2":null}catch{return null}},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",RASTERARRAYS_URL_PREFIX:"rasterarrays/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,DEFAULT_STYLE:"mapbox://styles/mapbox/standard",MAX_PARALLEL_IMAGE_REQUESTS:16,DRACO_URL:"https://api.mapbox.com/mapbox-gl-js/draco_decoder_gltf_v1.5.6.wasm",MESHOPT_URL:"https://api.mapbox.com/mapbox-gl-js/meshopt_base_v0.20.wasm",MESHOPT_SIMD_URL:"https://api.mapbox.com/mapbox-gl-js/meshopt_simd_v0.20.wasm",GLYPHS_URL:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf",TILES3D_URL_PREFIX:"3dtiles/v1"};function ot(p){return ut.API_URL_REGEX.test(p)}function Tt(p){return ut.API_SPRITE_REGEX.test(p)}let Ut,kt,jt,rt,_t,rn;function bn(){return Ut==null&&(Ut=self.OffscreenCanvas&&new OffscreenCanvas(1,1).getContext("2d")&&typeof self.createImageBitmap=="function"),Ut}const Rn={now:()=>rt!==void 0?rt:performance.now(),setNow(p){rt=p},restoreNow(){rt=void 0},frame(p){const l=requestAnimationFrame(p);return{cancel:()=>cancelAnimationFrame(l)}},getImageData(p,l=0){const{width:d,height:g}=p;_t||(_t=document.createElement("canvas"));const S=_t.getContext("2d",{willReadFrequently:!0});if(!S)throw new Error("failed to create canvas 2d context");return(d>_t.width||g>_t.height)&&(_t.width=d,_t.height=g),S.clearRect(-l,-l,d+2*l,g+2*l),S.drawImage(p,0,0,d,g),S.getImageData(-l,-l,d+2*l,g+2*l)},resolveURL:p=>(kt||(kt=document.createElement("a")),kt.href=p,kt.href),get devicePixelRatio(){return window.devicePixelRatio},get prefersReducedMotion(){return!!window.matchMedia&&(jt==null&&(jt=window.matchMedia("(prefers-reduced-motion: reduce)")),jt.matches)},hasCanvasFingerprintNoise(){if(rn!==void 0)return rn;if(!bn())return rn=!1,!1;const p=new OffscreenCanvas(85,1),l=p.getContext("2d",{willReadFrequently:!0});let d=0;for(let S=0;S<p.width;++S)l.fillStyle=`rgba(${d++},${d++},${d++}, 255)`,l.fillRect(S,0,1,1);const g=l.getImageData(0,0,p.width,p.height);d=0;for(let S=0;S<g.data.length;++S)if(S%4!=3&&d++!==g.data[S])return rn=!0,!0;return rn=!1,!1}};function mr(p,l){const d=p.indexOf("?");if(d<0)return`${p}?${new URLSearchParams(l).toString()}`;const g=new URLSearchParams(p.slice(d));for(const S in l)g.set(S,l[S]);return`${p.slice(0,d)}?${g.toString()}`}function gr(p,l={persistentParams:[]}){const d=p.indexOf("?");if(d<0)return p;const g=new URLSearchParams,S=new URLSearchParams(p.slice(d));for(const C of l.persistentParams){const R=S.get(C);R&&g.set(C,R)}const y=g.toString();return`${p.slice(0,d)}${y.length>0?`?${y}`:""}`}const hr="mapbox-tiles";let dr=500,li=50;const an=["language","worldview","jobid"];let Cn,Yn;function xr(){try{return caches}catch{}}function Oi(){const p=xr();p&&Cn==null&&(Cn=p.open(hr))}let ia=1/0;const bo={supported:!1,testSupport:function(p){!R0&&Ou&&(Sp?D0(p):yl=p)}};let yl,Ou,R0=!1,Sp=!1;const Sh=typeof self<"u"?self:{};function D0(p){const l=p.createTexture();p.bindTexture(p.TEXTURE_2D,l);try{if(p.texImage2D(p.TEXTURE_2D,0,p.RGBA,p.RGBA,p.UNSIGNED_BYTE,Ou),p.isContextLost())return;bo.supported=!0}catch{}p.deleteTexture(l),R0=!0}Sh.document&&(Ou=Sh.document.createElement("img"),Ou.onload=function(){yl&&D0(yl),yl=null,Sp=!0},Ou.onerror=function(){R0=!0,yl=null},Ou.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const Ch={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image",Model:"Model"};typeof Object.freeze=="function"&&Object.freeze(Ch);class X_ extends Error{constructor(l,d,g){d===401&&ot(g)&&(l+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(l),this.status=d,this.url=g}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const J_=qr()?()=>self.worker&&self.worker.referrer:()=>(location.protocol==="blob:"?parent:self).location.href,Cp=function(p,l){if(!(/^file:/.test(d=p.url)||/^file:/.test(J_())&&!/^\w+:/.test(d))){if(self.fetch&&self.Request&&self.AbortController&&Request.prototype.hasOwnProperty("signal"))return function(g,S){const y=new AbortController,C=new Request(g.url,{method:g.method||"GET",body:g.body,credentials:g.credentials,headers:g.headers,referrer:J_(),referrerPolicy:g.referrerPolicy,signal:y.signal});let R=!1,N=!1;const H=(P=C.url).indexOf("sku=")>0&&ot(P);var P;g.type==="json"&&C.headers.set("Accept","application/json");const O=(F,$,G)=>{if(N)return;if(F&&F.message!=="SecurityError"&&Mt(F.toString()),$&&G)return V($);const Y=Date.now();fetch(C).then(ee=>{if(ee.ok){const de=H?ee.clone():null;return V(ee,de,Y)}return S(new X_(ee.statusText,ee.status,g.url))}).catch(ee=>{ee.name!=="AbortError"&&S(new Error(`${ee.message} ${g.url}`))})},V=(F,$,G)=>{(g.type==="arrayBuffer"?F.arrayBuffer():g.type==="json"?F.json():F.text()).then(Y=>{N||($&&G&&function(ee,de,fe){if(Oi(),Cn==null)return;const ne=si(de.headers.get("Cache-Control")||"");if(ne["no-store"])return;const ve={status:de.status,statusText:de.statusText,headers:new Headers};de.headers.forEach((Ve,Ue)=>ve.headers.set(Ue,Ve)),ne["max-age"]&&ve.headers.set("Expires",new Date(fe+1e3*ne["max-age"]).toUTCString());const we=ve.headers.get("Expires");if(!we||new Date(we).getTime()-fe<42e4)return;let De=gr(ee.url,{persistentParams:an});if(de.status===206){const Ve=ee.headers.get("Range");if(!Ve)return;ve.status=200,De=mr(De,{range:Ve})}(function(Ve,Ue){if(Yn===void 0)try{new Response(new ReadableStream),Yn=!0}catch{Yn=!1}Yn?Ue(Ve.body):Ve.blob().then(Ue)})(de,Ve=>{const Ue=new Response((ze=de.status)!==200&&ze!==404&&[101,103,204,205,304].includes(ze)?null:Ve,ve);var ze;Oi(),Cn!=null&&Cn.then(Qe=>Qe.put(De,Ue)).catch(Qe=>Mt(Qe.message))})}(C,$,G),R=!0,S(null,Y,F.headers.get("Cache-Control"),F.headers.get("Expires")))}).catch(Y=>{N||S(new Error(Y.message))})};return H?function(F,$){if(Oi(),Cn==null)return $(null);Cn.then(G=>{let Y=gr(F.url,{persistentParams:an});const ee=F.headers.get("Range");ee&&(Y=mr(Y,{range:ee})),G.match(Y).then(de=>{const fe=function(ne){if(!ne)return!1;const ve=new Date(ne.headers.get("Expires")||0),we=si(ne.headers.get("Cache-Control")||"");return ve>Date.now()&&!we["no-cache"]}(de);G.delete(Y),fe&&G.put(Y,de.clone()),$(null,de,fe)}).catch($)}).catch($)}(C,O):O(null,null),{cancel:()=>{N=!0,R||y.abort()}}}(p,l);if(qr()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",p,l,void 0,!0)}var d;return function(g,S){const y=new XMLHttpRequest;y.open(g.method||"GET",g.url,!0),g.type==="arrayBuffer"&&(y.responseType="arraybuffer");for(const C in g.headers)y.setRequestHeader(C,g.headers[C]);return g.type==="json"&&(y.responseType="text",y.setRequestHeader("Accept","application/json")),y.withCredentials=g.credentials==="include",y.onerror=()=>{S(new Error(y.statusText))},y.onload=()=>{if((y.status>=200&&y.status<300||y.status===0)&&y.response!==null){let C=y.response;if(g.type==="json")try{C=JSON.parse(y.response)}catch(R){return S(R)}S(null,C,y.getResponseHeader("Cache-Control"),y.getResponseHeader("Expires"))}else S(new X_(y.statusText,y.status,g.url))},y.send(g.body),{cancel:()=>y.abort()}}(p,l)},Th=function(p,l){return Cp(sr(p,{type:"arrayBuffer"}),l)};function Ks(p){const l=document.createElement("a");return l.href=p,l.protocol===location.protocol&&l.host===location.host}const bl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let xl,rs;xl=[],rs=0;const ql=function(p,l){if(bo.supported&&(p.headers||(p.headers={}),p.headers.accept="image/webp,*/*"),rs>=ut.MAX_PARALLEL_IMAGE_REQUESTS){const y={requestParameters:p,callback:l,cancelled:!1,cancel(){this.cancelled=!0}};return xl.push(y),y}rs++;let d=!1;const g=()=>{if(!d)for(d=!0,rs--;xl.length&&rs<ut.MAX_PARALLEL_IMAGE_REQUESTS;){const y=xl.shift(),{requestParameters:C,callback:R,cancelled:N}=y;N||(y.cancel=ql(C,R).cancel)}},S=Th(p,(y,C,R,N)=>{g(),y?l(y):C&&(self.createImageBitmap?function(H,P){const O=new Blob([new Uint8Array(H)],{type:"image/png"});createImageBitmap(O).then(V=>{P(null,V)}).catch(V=>{P(new Error(`Could not load image because of ${V.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(C,(H,P)=>l(H,P,R,N)):function(H,P){const O=new Image;O.onload=()=>{P(null,O),URL.revokeObjectURL(O.src),O.onload=null,requestAnimationFrame(()=>{O.src=bl})},O.onerror=()=>P(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const V=new Blob([new Uint8Array(H)],{type:"image/png"});O.src=H.byteLength?URL.createObjectURL(V):bl}(C,(H,P)=>l(H,P,R,N)))});return{cancel:()=>{S.cancel(),g()}}};var Tp,Q_,ey,Kl={exports:{}},O0={exports:{}},Iw={exports:{}},pT=function(){if(ey)return Kl.exports;ey=1;var p=(Tp||(Tp=1,O0.exports=function(d,g){var S,y,C,R,N,H,P,O;for(y=d.length-(S=3&d.length),C=g,N=3432918353,H=461845907,O=0;O<y;)P=255&d.charCodeAt(O)|(255&d.charCodeAt(++O))<<8|(255&d.charCodeAt(++O))<<16|(255&d.charCodeAt(++O))<<24,++O,C=27492+(65535&(R=5*(65535&(C=(C^=P=(65535&(P=(P=(65535&P)*N+(((P>>>16)*N&65535)<<16)&4294967295)<<15|P>>>17))*H+(((P>>>16)*H&65535)<<16)&4294967295)<<13|C>>>19))+((5*(C>>>16)&65535)<<16)&4294967295))+((58964+(R>>>16)&65535)<<16);switch(P=0,S){case 3:P^=(255&d.charCodeAt(O+2))<<16;case 2:P^=(255&d.charCodeAt(O+1))<<8;case 1:C^=P=(65535&(P=(P=(65535&(P^=255&d.charCodeAt(O)))*N+(((P>>>16)*N&65535)<<16)&4294967295)<<15|P>>>17))*H+(((P>>>16)*H&65535)<<16)&4294967295}return C^=d.length,C=2246822507*(65535&(C^=C>>>16))+((2246822507*(C>>>16)&65535)<<16)&4294967295,C=3266489909*(65535&(C^=C>>>13))+((3266489909*(C>>>16)&65535)<<16)&4294967295,(C^=C>>>16)>>>0}),O0.exports),l=(Q_||(Q_=1,Iw.exports=function(d,g){for(var S,y=d.length,C=g^y,R=0;y>=4;)S=1540483477*(65535&(S=255&d.charCodeAt(R)|(255&d.charCodeAt(++R))<<8|(255&d.charCodeAt(++R))<<16|(255&d.charCodeAt(++R))<<24))+((1540483477*(S>>>16)&65535)<<16),C=1540483477*(65535&C)+((1540483477*(C>>>16)&65535)<<16)^(S=1540483477*(65535&(S^=S>>>24))+((1540483477*(S>>>16)&65535)<<16)),y-=4,++R;switch(y){case 3:C^=(255&d.charCodeAt(R+2))<<16;case 2:C^=(255&d.charCodeAt(R+1))<<8;case 1:C=1540483477*(65535&(C^=255&d.charCodeAt(R)))+((1540483477*(C>>>16)&65535)<<16)}return C=1540483477*(65535&(C^=C>>>13))+((1540483477*(C>>>16)&65535)<<16),(C^=C>>>15)>>>0}),Iw.exports);return Kl.exports=p,Kl.exports.murmur3=p,Kl.exports.murmur2=l,Kl.exports}(),is=h(pT);class Cc{constructor(l,...d){sr(this,d[0]||{}),this.type=l}}class Mp extends Cc{constructor(l,d={}){super("error",sr({error:l},d))}}function Mh(p,l,d){d[p]&&d[p].indexOf(l)!==-1||(d[p]=d[p]||[],d[p].push(l))}function ty(p,l,d){if(d&&d[p]){const g=d[p].indexOf(l);g!==-1&&d[p].splice(g,1)}}class Eh{on(l,d){return this._listeners=this._listeners||{},Mh(l,d,this._listeners),this}off(l,d){return ty(l,d,this._listeners),ty(l,d,this._oneTimeListeners),this}once(l,d){return d?(this._oneTimeListeners=this._oneTimeListeners||{},Mh(l,d,this._oneTimeListeners),this):new Promise(g=>this.once(l,g))}fire(l,d){const g=typeof l=="string"?new Cc(l,d):l,S=g.type;if(this.listens(S)){g.target=this;const y=this._listeners&&this._listeners[S]?this._listeners[S].slice():[];for(const N of y)N.call(this,g);const C=this._oneTimeListeners&&this._oneTimeListeners[S]?this._oneTimeListeners[S].slice():[];for(const N of C)ty(S,N,this._oneTimeListeners),N.call(this,g);const R=this._eventedParent;R&&(sr(g,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),R.fire(g))}else g instanceof Mp&&console.error(g.error);return this}listens(l){return!!(this._listeners&&this._listeners[l]&&this._listeners[l].length>0||this._oneTimeListeners&&this._oneTimeListeners[l]&&this._oneTimeListeners[l].length>0||this._eventedParent&&this._eventedParent.listens(l))}setEventedParent(l,d){return this._eventedParent=l,this._eventedParentData=d,this}}var ny,_i={},ry=function(){if(ny)return _i;ny=1;var p={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function l(y){return(y=Math.round(y))<0?0:y>255?255:y}function d(y){return l(y[y.length-1]==="%"?parseFloat(y)/100*255:parseInt(y))}function g(y){return(C=y[y.length-1]==="%"?parseFloat(y)/100:parseFloat(y))<0?0:C>1?1:C;var C}function S(y,C,R){return R<0?R+=1:R>1&&(R-=1),6*R<1?y+(C-y)*R*6:2*R<1?C:3*R<2?y+(C-y)*(2/3-R)*6:y}try{_i.parseCSSColor=function(y){var C,R=y.replace(/ /g,"").toLowerCase();if(R in p)return p[R].slice();if(R[0]==="#")return R.length===4?(C=parseInt(R.substr(1),16))>=0&&C<=4095?[(3840&C)>>4|(3840&C)>>8,240&C|(240&C)>>4,15&C|(15&C)<<4,1]:null:R.length===7&&(C=parseInt(R.substr(1),16))>=0&&C<=16777215?[(16711680&C)>>16,(65280&C)>>8,255&C,1]:null;var N=R.indexOf("("),H=R.indexOf(")");if(N!==-1&&H+1===R.length){var P=R.substr(0,N),O=R.substr(N+1,H-(N+1)).split(","),V=1;switch(P){case"rgba":if(O.length!==4)return null;V=g(O.pop());case"rgb":return O.length!==3?null:[d(O[0]),d(O[1]),d(O[2]),V];case"hsla":if(O.length!==4)return null;V=g(O.pop());case"hsl":if(O.length!==3)return null;var F=(parseFloat(O[0])%360+360)%360/360,$=g(O[1]),G=g(O[2]),Y=G<=.5?G*($+1):G+$-G*$,ee=2*G-Y;return[l(255*S(ee,Y,F+1/3)),l(255*S(ee,Y,F)),l(255*S(ee,Y,F-1/3)),V];default:return null}}return null}}catch{}return _i}();class Ii{constructor(l,d,g,S=1){this.r=l,this.g=d,this.b=g,this.a=S}static parse(l){if(!l)return;if(l instanceof Ii)return l;if(typeof l!="string")return;const d=ry.parseCSSColor(l);return d?new Ii(d[0]/255*d[3],d[1]/255*d[3],d[2]/255*d[3],d[3]):void 0}toString(){const[l,d,g,S]=this.a===0?[0,0,0,0]:[255*this.r/this.a,255*this.g/this.a,255*this.b/this.a,this.a];return`rgba(${Math.round(l)},${Math.round(d)},${Math.round(g)},${S})`}toRenderColor(l){const{r:d,g,b:S,a:y}=this;return new mT(l,d,g,S,y)}}class mT{constructor(l,d,g,S,y){if(l){const C=l.image.height,R=C*C;d=y===0?0:d/y*(C-1),g=y===0?0:g/y*(C-1),S=y===0?0:S/y*(C-1);const N=Math.floor(d),H=Math.floor(g),P=Math.floor(S),O=Math.ceil(d),V=Math.ceil(g),F=Math.ceil(S),$=d-N,G=g-H,Y=S-P,ee=l.image.data,de=4*(N+H*R+P*C),fe=4*(N+H*R+F*C),ne=4*(N+V*R+P*C),ve=4*(N+V*R+F*C),we=4*(O+H*R+P*C),De=4*(O+H*R+F*C),Ve=4*(O+V*R+P*C),Ue=4*(O+V*R+F*C);if(de<0||Ue>=ee.length)throw new Error("out of range");this.r=_r(_r(_r(ee[de],ee[fe],Y),_r(ee[ne],ee[ve],Y),G),_r(_r(ee[we],ee[De],Y),_r(ee[Ve],ee[Ue],Y),G),$)/255*y,this.g=_r(_r(_r(ee[de+1],ee[fe+1],Y),_r(ee[ne+1],ee[ve+1],Y),G),_r(_r(ee[we+1],ee[De+1],Y),_r(ee[Ve+1],ee[Ue+1],Y),G),$)/255*y,this.b=_r(_r(_r(ee[de+2],ee[fe+2],Y),_r(ee[ne+2],ee[ve+2],Y),G),_r(_r(ee[we+2],ee[De+2],Y),_r(ee[Ve+2],ee[Ue+2],Y),G),$)/255*y,this.a=y}else this.r=d,this.g=g,this.b=S,this.a=y}toArray(){const{r:l,g:d,b:g,a:S}=this;return S===0?[0,0,0,0]:[255*l/S,255*d/S,255*g/S,S]}toArray01(){const{r:l,g:d,b:g,a:S}=this;return S===0?[0,0,0,0]:[l/S,d/S,g/S,S]}toArray01Scaled(l){const{r:d,g,b:S,a:y}=this;return y===0?[0,0,0]:[d/y*l,g/y*l,S/y*l]}toArray01PremultipliedAlpha(){const{r:l,g:d,b:g,a:S}=this;return[l,d,g,S]}toArray01Linear(){const{r:l,g:d,b:g,a:S}=this;return S===0?[0,0,0,0]:[Math.pow(l/S,2.2),Math.pow(d/S,2.2),Math.pow(g/S,2.2),S]}}function _r(p,l,d){return p*(1-d)+l*d}function Ep(p,l,d){return p.map((g,S)=>_r(g,l[S],d))}Ii.black=new Ii(0,0,0,1),Ii.white=new Ii(1,1,1,1),Ii.transparent=new Ii(0,0,0,0),Ii.red=new Ii(1,0,0,1),Ii.blue=new Ii(0,0,1,1);var xd=Object.freeze({__proto__:null,array:Ep,color:function(p,l,d){return new Ii(_r(p.r,l.r,d),_r(p.g,l.g,d),_r(p.b,l.b,d),_r(p.a,l.a,d))},number:_r});function Ah(p,...l){for(const d of l)for(const g in d)p[g]=d[g];return p}class Yl extends Error{constructor(l,d){super(d),this.message=d,this.key=l}}class z0{constructor(l,d=[]){this.parent=l,this.bindings={};for(const[g,S]of d)this.bindings[g]=S}concat(l){return new z0(this,l)}get(l){if(this.bindings[l])return this.bindings[l];if(this.parent)return this.parent.get(l);throw new Error(`${l} not found in scope.`)}has(l){return!!this.bindings[l]||!!this.parent&&this.parent.has(l)}}const wl={kind:"null"},Wn={kind:"number"},ui={kind:"string"},ci={kind:"boolean"},as={kind:"color"},Oo={kind:"object"},pi={kind:"value"},B0={kind:"collator"},Ih={kind:"formatted"},kh={kind:"resolvedImage"};function jo(p,l){return{kind:"array",itemType:p,N:l}}function Ea(p){if(p.kind==="array"){const l=Ea(p.itemType);return typeof p.N=="number"?`array<${l}, ${p.N}>`:p.itemType.kind==="value"?"array":`array<${l}>`}return p.kind}const kw=[wl,Wn,ui,ci,as,Ih,Oo,jo(pi),kh];function Ph(p,l){if(l.kind==="error")return null;if(p.kind==="array"){if(l.kind==="array"&&(l.N===0&&l.itemType.kind==="value"||!Ph(p.itemType,l.itemType))&&(typeof p.N!="number"||p.N===l.N))return null}else{if(p.kind===l.kind)return null;if(p.kind==="value"){for(const d of kw)if(!Ph(d,l))return null}}return`Expected ${Ea(p)} but found ${Ea(l)} instead.`}function Lh(p,l){return l.some(d=>d.kind===p.kind)}function Zl(p,l){return l.some(d=>d==="null"?p===null:d==="array"?Array.isArray(p):d==="object"?p&&!Array.isArray(p)&&typeof p=="object":d===typeof p)}class F0{constructor(l,d,g){this.sensitivity=l?d?"variant":"case":d?"accent":"base",this.locale=g,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(l,d){return this.collator.compare(l,d)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Ts{constructor(l,d,g,S,y){this.text=l.normalize?l.normalize():l,this.image=d,this.scale=g,this.fontStack=S,this.textColor=y}}class zo{constructor(l){this.sections=l}static fromString(l){return new zo([new Ts(l,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(l=>l.text.length!==0||l.image&&l.image.namePrimary.length!==0)}static factory(l){return l instanceof zo?l:zo.fromString(l)}toString(){return this.sections.length===0?"":this.sections.map(l=>l.text).join("")}serialize(){const l=["format"];for(const d of this.sections){if(d.image){l.push(["image",d.image.namePrimary]);continue}l.push(d.text);const g={};d.fontStack&&(g["text-font"]=["literal",d.fontStack.split(",")]),d.scale&&(g["font-scale"]=d.scale),d.textColor&&(g["text-color"]=["rgba"].concat(d.textColor.toRenderColor(null).toArray())),l.push(g)}return l}}class Go{constructor(l){this.namePrimary=l.namePrimary,l.nameSecondary&&(this.nameSecondary=l.nameSecondary),this.available=l.available}toString(){return this.nameSecondary?`[${this.namePrimary},${this.nameSecondary}]`:this.namePrimary}static fromString(l,d){return l?new Go({namePrimary:l,nameSecondary:d,available:!1}):null}serialize(){return this.nameSecondary?["image",this.namePrimary,this.nameSecondary]:["image",this.namePrimary]}}function Pw(p,l,d,g){return typeof p=="number"&&p>=0&&p<=255&&typeof l=="number"&&l>=0&&l<=255&&typeof d=="number"&&d>=0&&d<=255?g===void 0||typeof g=="number"&&g>=0&&g<=1?null:`Invalid rgba value [${[p,l,d,g].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof g=="number"?[p,l,d,g]:[p,l,d]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Tc(p){if(p===null||typeof p=="string"||typeof p=="boolean"||typeof p=="number"||p instanceof Ii||p instanceof F0||p instanceof zo||p instanceof Go)return!0;if(Array.isArray(p)){for(const l of p)if(!Tc(l))return!1;return!0}if(typeof p=="object"){for(const l in p)if(!Tc(p[l]))return!1;return!0}return!1}function ja(p){if(p===null)return wl;if(typeof p=="string")return ui;if(typeof p=="boolean")return ci;if(typeof p=="number")return Wn;if(p instanceof Ii)return as;if(p instanceof F0)return B0;if(p instanceof zo)return Ih;if(p instanceof Go)return kh;if(Array.isArray(p)){const l=p.length;let d;for(const g of p){const S=ja(g);if(d){if(d===S)continue;d=pi;break}d=S}return jo(d||pi,l)}return Oo}function Wo(p){const l=typeof p;return p===null?"":l==="string"||l==="number"||l==="boolean"?String(p):p instanceof Ii||p instanceof zo||p instanceof Go?p.toString():JSON.stringify(p)}class Sl{constructor(l,d){this.type=l,this.value=d}static parse(l,d){if(l.length!==2)return d.error(`'literal' expression requires exactly one argument, but found ${l.length-1} instead.`);if(!Tc(l[1]))return d.error("invalid value");const g=l[1];let S=ja(g);const y=d.expectedType;return S.kind!=="array"||S.N!==0||!y||y.kind!=="array"||typeof y.N=="number"&&y.N!==0||(S=y),new Sl(S,g)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Ii?["rgba"].concat(this.value.toRenderColor(null).toArray()):this.value instanceof zo?this.value.serialize():this.value}}class ao{constructor(l){this.name="ExpressionEvaluationError",this.message=l}toJSON(){return this.message}}const iy={string:ui,number:Wn,boolean:ci,object:Oo};class Cl{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");let g,S=1;const y=l[0];if(y==="array"){let R,N;if(l.length>2){const H=l[1];if(typeof H!="string"||!(H in iy)||H==="object")return d.error('The item type argument of "array" must be one of string, number, boolean',1);R=iy[H],S++}else R=pi;if(l.length>3){if(l[2]!==null&&(typeof l[2]!="number"||l[2]<0||l[2]!==Math.floor(l[2])))return d.error('The length argument to "array" must be a positive integer literal',2);N=l[2],S++}g=jo(R,N)}else g=iy[y];const C=[];for(;S<l.length;S++){const R=d.parse(l[S],S,pi);if(!R)return null;C.push(R)}return new Cl(g,C)}evaluate(l){for(let d=0;d<this.args.length;d++){const g=this.args[d].evaluate(l);if(!Ph(this.type,ja(g)))return g;if(d===this.args.length-1)throw new ao(`The expression ${JSON.stringify(this.args[d].serialize())} evaluated to ${Ea(ja(g))} but was expected to be of type ${Ea(this.type)}.`)}return null}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}serialize(){const l=this.type,d=[l.kind];if(l.kind==="array"){const g=l.itemType;if(g.kind==="string"||g.kind==="number"||g.kind==="boolean"){d.push(g.kind);const S=l.N;(typeof S=="number"||this.args.length>1)&&d.push(S)}}return d.concat(this.args.map(g=>g.serialize()))}}class Rh{constructor(l){this.type=Ih,this.sections=l}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");const g=l[1];if(!Array.isArray(g)&&typeof g=="object")return d.error("First argument must be an image or text section.");const S=[];let y=!1;for(let C=1;C<=l.length-1;++C){const R=l[C];if(y&&typeof R=="object"&&!Array.isArray(R)){y=!1;let N=null;if(R["font-scale"]&&(N=d.parseObjectValue(R["font-scale"],C,"font-scale",Wn),!N))return null;let H=null;if(R["text-font"]&&(H=d.parseObjectValue(R["text-font"],C,"text-font",jo(ui)),!H))return null;let P=null;if(R["text-color"]&&(P=d.parseObjectValue(R["text-color"],C,"text-color",as),!P))return null;const O=S[S.length-1];O.scale=N,O.font=H,O.textColor=P}else{const N=d.parse(l[C],C,pi);if(!N)return null;const H=N.type.kind;if(H!=="string"&&H!=="value"&&H!=="null"&&H!=="resolvedImage")return d.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");y=!0,S.push({content:N,scale:null,font:null,textColor:null})}}return new Rh(S)}evaluate(l){return new zo(this.sections.map(d=>{const g=d.content.evaluate(l);return ja(g)===kh?new Ts("",g,null,null,null):new Ts(Wo(g),null,d.scale?d.scale.evaluate(l):null,d.font?d.font.evaluate(l).join(","):null,d.textColor?d.textColor.evaluate(l):null)}))}eachChild(l){for(const d of this.sections)l(d.content),d.scale&&l(d.scale),d.font&&l(d.font),d.textColor&&l(d.textColor)}outputDefined(){return!1}serialize(){const l=["format"];for(const d of this.sections){l.push(d.content.serialize());const g={};d.scale&&(g["font-scale"]=d.scale.serialize()),d.font&&(g["text-font"]=d.font.serialize()),d.textColor&&(g["text-color"]=d.textColor.serialize()),l.push(g)}return l}}class wd{constructor(l,d){this.type=kh,this.inputPrimary=l,this.inputSecondary=d}static parse(l,d){if(l.length<2)return d.error("Expected two or more arguments.");const g=d.parse(l[1],1,ui);if(!g)return d.error("No image name provided.");if(l.length===2)return new wd(g);const S=d.parse(l[2],1,ui);return S?new wd(g,S):d.error("Secondary image variant is not a string.")}evaluate(l){const d=Go.fromString(this.inputPrimary.evaluate(l),this.inputSecondary?this.inputSecondary.evaluate(l):void 0);return d&&l.availableImages&&(d.available=l.availableImages.indexOf(d.namePrimary)>-1,d.nameSecondary&&d.available&&l.availableImages&&(d.available=l.availableImages.indexOf(d.nameSecondary)>-1)),d}eachChild(l){l(this.inputPrimary),this.inputSecondary&&l(this.inputSecondary)}outputDefined(){return!1}serialize(){return this.inputSecondary?["image",this.inputPrimary.serialize(),this.inputSecondary.serialize()]:["image",this.inputPrimary.serialize()]}}function Sd(p){return p instanceof Number?"number":p instanceof String?"string":p instanceof Boolean?"boolean":Array.isArray(p)?"array":p===null?"null":typeof p}const N0={"to-boolean":ci,"to-color":as,"to-number":Wn,"to-string":ui};class zu{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expected at least one argument.");const g=l[0],S=[];let y=wl;if(g==="to-array"){if(!Array.isArray(l[1]))return null;const C=l[1].length;if(d.expectedType){if(d.expectedType.kind!=="array")return d.error(`Expected ${d.expectedType.kind} but found array.`);y=jo(d.expectedType.itemType,C)}else{if(!(C>0&&Tc(l[1][0])))return null;y=jo(ja(l[1][0]),C)}for(let R=0;R<C;R++){const N=l[1][R];let H;if(Sd(N)==="array")H=d.parse(N,void 0,y.itemType);else{const P=Sd(N);if(P!==y.itemType.kind)return d.error(`Expected ${y.itemType.kind} but found ${P}.`);H=d.registry.literal.parse(["literal",N===void 0?null:N],d)}if(!H)return null;S.push(H)}}else{if((g==="to-boolean"||g==="to-string")&&l.length!==2)return d.error("Expected one argument.");y=N0[g];for(let C=1;C<l.length;C++){const R=d.parse(l[C],C,pi);if(!R)return null;S.push(R)}}return new zu(y,S)}evaluate(l){if(this.type.kind==="boolean")return!!this.args[0].evaluate(l);if(this.type.kind==="color"){let d,g;for(const S of this.args){if(d=S.evaluate(l),g=null,d instanceof Ii)return d;if(typeof d=="string"){const y=l.parseColor(d);if(y)return y}else if(Array.isArray(d)&&(g=d.length<3||d.length>4?`Invalid rbga value ${JSON.stringify(d)}: expected an array containing either three or four numeric values.`:Pw(d[0],d[1],d[2],d[3]),!g))return new Ii(d[0]/255,d[1]/255,d[2]/255,d[3])}throw new ao(g||`Could not parse color from value '${typeof d=="string"?d:String(JSON.stringify(d))}'`)}if(this.type.kind==="number"){let d=null;for(const g of this.args){if(d=g.evaluate(l),d===null)return 0;const S=Number(d);if(!isNaN(S))return S}throw new ao(`Could not convert ${JSON.stringify(d)} to number.`)}return this.type.kind==="formatted"?zo.fromString(Wo(this.args[0].evaluate(l))):this.type.kind==="resolvedImage"?Go.fromString(Wo(this.args[0].evaluate(l))):this.type.kind==="array"?this.args.map(d=>d.evaluate(l)):Wo(this.args[0].evaluate(l))}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}serialize(){if(this.type.kind==="formatted")return new Rh([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new wd(this.args[0]).serialize();const l=this.type.kind==="array"?[]:[`to-${this.type.kind}`];return this.eachChild(d=>{l.push(d.serialize())}),l}}const vT=["Unknown","Point","LineString","Polygon"];class Lw{constructor(l,d){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null,this.scope=l,this.options=d}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?vT[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}measureLight(l){return this.globals.brightness||0}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const l=this.featureDistanceData.center,d=this.featureDistanceData.scale,{x:g,y:S}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(g*d-l[0])+this.featureDistanceData.bearing[1]*(S*d-l[1])}return 0}parseColor(l){let d=this._parseColorCache[l];return d||(d=this._parseColorCache[l]=Ii.parse(l)),d}getConfig(l){return this.options?this.options.get(l):null}}class os{constructor(l,d,g,S,y){this.name=l,this.type=d,this._evaluate=g,this.args=S,this._overloadIndex=y}evaluate(l){if(!this._evaluate){const d=os.definitions[this.name];this._evaluate=Array.isArray(d)?d[2]:d.overloads[this._overloadIndex][1]}return this._evaluate(l,this.args)}eachChild(l){this.args.forEach(l)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(l=>l.serialize()))}static parse(l,d){const g=l[0],S=os.definitions[g];if(!S)return d.error(`Unknown expression "${g}". If you wanted a literal array, use ["literal", [...]].`,0);const y=Array.isArray(S)?S[0]:S.type,C=Array.isArray(S)?[[S[1],S[2]]]:S.overloads,R=[];let N=null,H=-1;for(const[P,O]of C){if(Array.isArray(P)&&P.length!==l.length-1)continue;R.push(P),H++,N=new jw(d.registry,d.path,null,d.scope,void 0,d._scope,d.options);const V=[];let F=!1;for(let $=1;$<l.length;$++){const G=l[$],Y=Array.isArray(P)?P[$-1]:P.type,ee=N.parse(G,1+V.length,Y);if(!ee){F=!0;break}V.push(ee)}if(!F)if(Array.isArray(P)&&P.length!==V.length)N.error(`Expected ${P.length} arguments, but found ${V.length} instead.`);else{for(let $=0;$<V.length;$++){const G=Array.isArray(P)?P[$]:P.type,Y=V[$];N.concat($+1).checkSubtype(G,Y.type)}if(N.errors.length===0)return new os(g,y,O,V,H)}}if(R.length===1)d.errors.push(...N.errors);else{const P=(R.length?R:C.map(([V])=>V)).map(gT).join(" | "),O=[];for(let V=1;V<l.length;V++){const F=d.parse(l[V],1+O.length);if(!F)return null;O.push(Ea(F.type))}d.error(`Expected arguments of type ${P}, but found (${O.join(", ")}) instead.`)}return null}static register(l,d){os.definitions=d;for(const g in d)l[g]=os}}function gT(p){return Array.isArray(p)?`(${p.map(Ea).join(", ")})`:`(${Ea(p.type)}...)`}class $0{constructor(l,d,g){this.type=B0,this.locale=g,this.caseSensitive=l,this.diacriticSensitive=d}static parse(l,d){if(l.length!==2)return d.error("Expected one argument.");const g=l[1];if(typeof g!="object"||Array.isArray(g))return d.error("Collator options argument must be an object.");const S=g["case-sensitive"]===void 0?d.parse(!1,1,ci):d.parseObjectValue(g["case-sensitive"],1,"case-sensitive",ci);if(!S)return null;const y=g["diacritic-sensitive"]===void 0?d.parse(!1,1,ci):d.parseObjectValue(g["diacritic-sensitive"],1,"diacritic-sensitive",ci);if(!y)return null;let C=null;return g.locale&&(C=d.parseObjectValue(g.locale,1,"locale",ui),!C)?null:new $0(S,y,C)}evaluate(l){return new F0(this.caseSensitive.evaluate(l),this.diacriticSensitive.evaluate(l),this.locale?this.locale.evaluate(l):null)}eachChild(l){l(this.caseSensitive),l(this.diacriticSensitive),this.locale&&l(this.locale)}outputDefined(){return!1}serialize(){const l={};return l["case-sensitive"]=this.caseSensitive.serialize(),l["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(l.locale=this.locale.serialize()),["collator",l]}}function Rw(p,l,d=0,g=p.length-1,S=Oh){for(;g>d;){if(g-d>600){const N=g-d+1,H=l-d+1,P=Math.log(N),O=.5*Math.exp(2*P/3),V=.5*Math.sqrt(P*O*(N-O)/N)*(H-N/2<0?-1:1);Rw(p,l,Math.max(d,Math.floor(l-H*O/N+V)),Math.min(g,Math.floor(l+(N-H)*O/N+V)),S)}const y=p[l];let C=d,R=g;for(Dh(p,d,l),S(p[g],y)>0&&Dh(p,d,g);C<R;){for(Dh(p,C,R),C++,R--;S(p[C],y)<0;)C++;for(;S(p[R],y)>0;)R--}S(p[d],y)===0?Dh(p,d,R):(R++,Dh(p,R,g)),R<=l&&(d=R+1),l<=R&&(g=R-1)}}function Dh(p,l,d){const g=p[l];p[l]=p[d],p[d]=g}function Oh(p,l){return p<l?-1:p>l?1:0}function _T(p){let l=0;for(let d,g,S=0,y=p.length,C=y-1;S<y;C=S++)d=p[S],g=p[C],l+=(g.x-d.x)*(d.y+g.y);return l}function Ap(p,l){p[0]=Math.min(p[0],l[0]),p[1]=Math.min(p[1],l[1]),p[2]=Math.max(p[2],l[0]),p[3]=Math.max(p[3],l[1])}function Cd(p,l){return!(p[0]<=l[0]||p[2]>=l[2]||p[1]<=l[1]||p[3]>=l[3])}function yT(p,l,d){const g=p[0]-l[0],S=p[1]-l[1],y=p[0]-d[0],C=p[1]-d[1];return g*C-y*S==0&&g*y<=0&&S*C<=0}function zh(p,l,d=!1){let g=!1;for(let R=0,N=l.length;R<N;R++){const H=l[R];for(let P=0,O=H.length,V=O-1;P<O;V=P++){const F=H[V],$=H[P];if(yT(p,F,$))return d;(y=F)[1]>(S=p)[1]!=(C=$)[1]>S[1]&&S[0]<(C[0]-y[0])*(S[1]-y[1])/(C[1]-y[1])+y[0]&&(g=!g)}}var S,y,C;return g}function Dw(p,l,d,g){const S=g[0]-d[0],y=g[1]-d[1],C=(p[0]-d[0])*y-S*(p[1]-d[1]),R=(l[0]-d[0])*y-S*(l[1]-d[1]);return C>0&&R<0||C<0&&R>0}function V0(p,l,d,g){return(S=[g[0]-d[0],g[1]-d[1]])[0]*(y=[l[0]-p[0],l[1]-p[1]])[1]-S[1]*y[0]!=0&&!(!Dw(p,l,d,g)||!Dw(d,g,p,l));var S,y}const Ms=8192;function ei(p,l){const d=(180+p[0])/360,g=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+p[1]*Math.PI/360)))/360,S=Math.pow(2,l.z);return[Math.round(d*S*Ms),Math.round(g*S*Ms)]}function lr(p,l){for(let d=0;d<l.length;d++)if(zh(p,l[d]))return!0;return!1}function ay(p,l,d){for(const g of d)for(let S=0,y=g.length,C=y-1;S<y;C=S++)if(V0(p,l,g[C],g[S]))return!0;return!1}function Ir(p,l){for(let d=0;d<p.length;++d)if(!zh(p[d],l))return!1;for(let d=0;d<p.length-1;++d)if(ay(p[d],p[d+1],l))return!1;return!0}function oy(p,l){for(let d=0;d<l.length;d++)if(Ir(p,l[d]))return!0;return!1}function Ip(p,l,d){const g=[];for(let S=0;S<p.length;S++){const y=[];for(let C=0;C<p[S].length;C++){const R=ei(p[S][C],d);Ap(l,R),y.push(R)}g.push(y)}return g}function Sr(p,l,d){const g=[];for(let S=0;S<p.length;S++){const y=Ip(p[S],l,d);g.push(y)}return g}function sy(p,l,d,g){if(p[0]<d[0]||p[0]>d[2]){const S=.5*g;let y=p[0]-d[0]>S?-g:d[0]-p[0]>S?g:0;y===0&&(y=p[0]-d[2]>S?-g:d[2]-p[0]>S?g:0),p[0]+=y}Ap(l,p)}function H0(p,l,d,g){const S=Math.pow(2,g.z)*Ms,y=[g.x*Ms,g.y*Ms],C=[];if(!p)return C;for(const R of p)for(const N of R){const H=[N.x+y[0],N.y+y[1]];sy(H,l,d,S),C.push(H)}return C}function ly(p,l,d,g){const S=Math.pow(2,g.z)*Ms,y=[g.x*Ms,g.y*Ms],C=[];if(!p)return C;for(const N of p){const H=[];for(const P of N){const O=[P.x+y[0],P.y+y[1]];Ap(l,O),H.push(O)}C.push(H)}if(l[2]-l[0]<=S/2){(R=l)[0]=R[1]=1/0,R[2]=R[3]=-1/0;for(const N of C)for(const H of N)sy(H,l,d,S)}var R;return C}class Mc{constructor(l,d){this.type=ci,this.geojson=l,this.geometries=d}static parse(l,d){if(l.length!==2)return d.error(`'within' expression requires exactly one argument, but found ${l.length-1} instead.`);if(Tc(l[1])){const g=l[1];if(g.type==="FeatureCollection")for(let S=0;S<g.features.length;++S){const y=g.features[S].geometry.type;if(y==="Polygon"||y==="MultiPolygon")return new Mc(g,g.features[S].geometry)}else if(g.type==="Feature"){const S=g.geometry.type;if(S==="Polygon"||S==="MultiPolygon")return new Mc(g,g.geometry)}else if(g.type==="Polygon"||g.type==="MultiPolygon")return new Mc(g,g)}return d.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return function(d,g){const S=[1/0,1/0,-1/0,-1/0],y=[1/0,1/0,-1/0,-1/0],C=d.canonicalID();if(!C)return!1;if(g.type==="Polygon"){const R=Ip(g.coordinates,y,C),N=H0(d.geometry(),S,y,C);if(!Cd(S,y))return!1;for(const H of N)if(!zh(H,R))return!1}if(g.type==="MultiPolygon"){const R=Sr(g.coordinates,y,C),N=H0(d.geometry(),S,y,C);if(!Cd(S,y))return!1;for(const H of N)if(!lr(H,R))return!1}return!0}(l,this.geometries);if(l.geometryType()==="LineString")return function(d,g){const S=[1/0,1/0,-1/0,-1/0],y=[1/0,1/0,-1/0,-1/0],C=d.canonicalID();if(!C)return!1;if(g.type==="Polygon"){const R=Ip(g.coordinates,y,C),N=ly(d.geometry(),S,y,C);if(!Cd(S,y))return!1;for(const H of N)if(!Ir(H,R))return!1}if(g.type==="MultiPolygon"){const R=Sr(g.coordinates,y,C),N=ly(d.geometry(),S,y,C);if(!Cd(S,y))return!1;for(const H of N)if(!oy(H,R))return!1}return!0}(l,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}const Td={kilometers:1,miles:1e3/1609.344,nauticalmiles:1e3/1852,meters:1e3,metres:1e3,yards:1e3/.9144,feet:1e3/.3048,inches:1e3/.0254},To=1/298.257223563,U0=To*(2-To),Bh=Math.PI/180;class Fh{static fromTile(l,d,g){const S=Math.PI*(1-2*(l+.5)/Math.pow(2,d)),y=Math.atan(.5*(Math.exp(S)-Math.exp(-S)))/Bh;return new Fh(y,g)}static get units(){return Td}constructor(l,d){if(l===void 0)throw new Error("No latitude given.");if(d&&!Td[d])throw new Error(`Unknown unit ${d}. Use one of: ${Object.keys(Td).join(", ")}`);const g=6378.137*Bh*(d?Td[d]:1),S=Math.cos(l*Bh),y=1/(1-U0*(1-S*S)),C=Math.sqrt(y);this.kx=g*C*S,this.ky=g*C*y*(1-U0)}distance(l,d){const g=pa(l[0]-d[0])*this.kx,S=(l[1]-d[1])*this.ky;return Math.sqrt(g*g+S*S)}bearing(l,d){const g=pa(d[0]-l[0])*this.kx;return Math.atan2(g,(d[1]-l[1])*this.ky)/Bh}destination(l,d,g){const S=g*Bh;return this.offset(l,Math.sin(S)*d,Math.cos(S)*d)}offset(l,d,g){return[l[0]+d/this.kx,l[1]+g/this.ky]}lineDistance(l){let d=0;for(let g=0;g<l.length-1;g++)d+=this.distance(l[g],l[g+1]);return d}area(l){let d=0;for(let g=0;g<l.length;g++){const S=l[g];for(let y=0,C=S.length,R=C-1;y<C;R=y++)d+=pa(S[y][0]-S[R][0])*(S[y][1]+S[R][1])*(g?-1:1)}return Math.abs(d)/2*this.kx*this.ky}along(l,d){let g=0;if(d<=0)return l[0];for(let S=0;S<l.length-1;S++){const y=l[S],C=l[S+1],R=this.distance(y,C);if(g+=R,g>d)return Bu(y,C,(d-(g-R))/R)}return l[l.length-1]}pointToSegmentDistance(l,d,g){let[S,y]=d,C=pa(g[0]-S)*this.kx,R=(g[1]-y)*this.ky;if(C!==0||R!==0){const N=(pa(l[0]-S)*this.kx*C+(l[1]-y)*this.ky*R)/(C*C+R*R);N>1?(S=g[0],y=g[1]):N>0&&(S+=C/this.kx*N,y+=R/this.ky*N)}return C=pa(l[0]-S)*this.kx,R=(l[1]-y)*this.ky,Math.sqrt(C*C+R*R)}pointOnLine(l,d){let g=1/0,S=l[0][0],y=l[0][1],C=0,R=0;for(let N=0;N<l.length-1;N++){let H=l[N][0],P=l[N][1],O=pa(l[N+1][0]-H)*this.kx,V=(l[N+1][1]-P)*this.ky,F=0;O===0&&V===0||(F=(pa(d[0]-H)*this.kx*O+(d[1]-P)*this.ky*V)/(O*O+V*V),F>1?(H=l[N+1][0],P=l[N+1][1]):F>0&&(H+=O/this.kx*F,P+=V/this.ky*F)),O=pa(d[0]-H)*this.kx,V=(d[1]-P)*this.ky;const $=O*O+V*V;$<g&&(g=$,S=H,y=P,C=N,R=F)}return{point:[S,y],index:C,t:Math.max(0,Math.min(1,R))}}lineSlice(l,d,g){let S=this.pointOnLine(g,l),y=this.pointOnLine(g,d);if(S.index>y.index||S.index===y.index&&S.t>y.t){const H=S;S=y,y=H}const C=[S.point],R=S.index+1,N=y.index;!j0(g[R],C[0])&&R<=N&&C.push(g[R]);for(let H=R+1;H<=N;H++)C.push(g[H]);return j0(g[N],y.point)||C.push(y.point),C}lineSliceAlong(l,d,g){let S=0;const y=[];for(let C=0;C<g.length-1;C++){const R=g[C],N=g[C+1],H=this.distance(R,N);if(S+=H,S>l&&y.length===0&&y.push(Bu(R,N,(l-(S-H))/H)),S>=d)return y.push(Bu(R,N,(d-(S-H))/H)),y;S>l&&y.push(N)}return y}bufferPoint(l,d){const g=d/this.ky,S=d/this.kx;return[l[0]-S,l[1]-g,l[0]+S,l[1]+g]}bufferBBox(l,d){const g=d/this.ky,S=d/this.kx;return[l[0]-S,l[1]-g,l[2]+S,l[3]+g]}insideBBox(l,d){return pa(l[0]-d[0])>=0&&pa(l[0]-d[2])<=0&&l[1]>=d[1]&&l[1]<=d[3]}}function j0(p,l){return p[0]===l[0]&&p[1]===l[1]}function Bu(p,l,d){const g=pa(l[0]-p[0]);return[p[0]+g*d,p[1]+(l[1]-p[1])*d]}function pa(p){for(;p<-180;)p+=360;for(;p>180;)p-=360;return p}class uy{constructor(l=[],d=(g,S)=>g<S?-1:g>S?1:0){if(this.data=l,this.length=this.data.length,this.compare=d,this.length>0)for(let g=(this.length>>1)-1;g>=0;g--)this._down(g)}push(l){this.data.push(l),this._up(this.length++)}pop(){if(this.length===0)return;const l=this.data[0],d=this.data.pop();return--this.length>0&&(this.data[0]=d,this._down(0)),l}peek(){return this.data[0]}_up(l){const{data:d,compare:g}=this,S=d[l];for(;l>0;){const y=l-1>>1,C=d[y];if(g(S,C)>=0)break;d[l]=C,l=y}d[l]=S}_down(l){const{data:d,compare:g}=this,S=this.length>>1,y=d[l];for(;l<S;){let C=1+(l<<1);const R=C+1;if(R<this.length&&g(d[R],d[C])<0&&(C=R),g(d[C],y)>=0)break;d[l]=d[C],l=C}d[l]=y}}var Ln=8192;function Ow(p,l){return l.dist-p.dist}const Nh=100,G0=50;function W0(p){const l=[1/0,1/0,-1/0,-1/0];if(l.length!==p.length)return!1;for(let d=0;d<l.length;d++)if(l[d]!==p[d])return!1;return!0}function q0(p){return p[1]-p[0]+1}function Fu(p,l){const d=p[1]>=p[0]&&p[1]<l;return d||console.warn("Distance Expression: Index is out of range"),d}function cy(p,l){if(p[0]>p[1])return[null,null];const d=q0(p);if(l){if(d===2)return[p,null];const g=Math.floor(d/2);return[[p[0],p[0]+g],[p[0]+g,p[1]]]}{if(d===1)return[p,null];const g=Math.floor(d/2)-1;return[[p[0],p[0]+g],[p[0]+g+1,p[1]]]}}function Es(p,l){const d=[1/0,1/0,-1/0,-1/0];if(!Fu(l,p.length))return d;for(let g=l[0];g<=l[1];++g)Ap(d,p[g]);return d}function K0(p){const l=[1/0,1/0,-1/0,-1/0];for(let d=0;d<p.length;++d)for(let g=0;g<p[d].length;++g)Ap(l,p[d][g]);return l}function $h(p,l,d){if(W0(p)||W0(l))return NaN;let g=0,S=0;return p[2]<l[0]&&(g=l[0]-p[2]),p[0]>l[2]&&(g=p[0]-l[2]),p[1]>l[3]&&(S=p[1]-l[3]),p[3]<l[1]&&(S=l[1]-p[3]),d.distance([0,0],[g,S])}function zw(p){return 360*p-180}function Bw(p){return 360/Math.PI*Math.atan(Math.exp((180-360*p)*Math.PI/180))-90}function As(p,l){const d=Math.pow(2,l.z),g=(p.y/Ln+l.y)/d;return[zw((p.x/Ln+l.x)/d),Bw(g)]}function Fw(p,l){const d=[];for(let g=0;g<p.length;++g)d.push(As(p[g],l));return d}function dy(p,l,d){const g=d.pointOnLine(l,p).point;return d.distance(p,g)}function hy(p,l,d,g,S){const y=d.slice(g[0],g[1]+1);let C=1/0;for(let R=l[0];R<=l[1];++R)if((C=Math.min(C,dy(p[R],y,S)))===0)return 0;return C}function Y0(p,l,d,g,S){const y=Math.min(S.pointToSegmentDistance(p,d,g),S.pointToSegmentDistance(l,d,g)),C=Math.min(S.pointToSegmentDistance(d,p,l),S.pointToSegmentDistance(g,p,l));return Math.min(y,C)}function Nw(p,l,d,g,S){if(!Fu(l,p.length)||!Fu(g,d.length))return NaN;let y=1/0;for(let C=l[0];C<l[1];++C)for(let R=g[0];R<g[1];++R){if(V0(p[C],p[C+1],d[R],d[R+1]))return 0;y=Math.min(y,Y0(p[C],p[C+1],d[R],d[R+1],S))}return y}function $w(p,l,d,g,S){if(!Fu(l,p.length)||!Fu(g,d.length))return NaN;let y=1/0;for(let C=l[0];C<=l[1];++C)for(let R=g[0];R<=g[1];++R)if((y=Math.min(y,S.distance(p[C],d[R])))===0)return y;return y}function Vw(p,l,d){if(zh(p,l,!0))return 0;let g=1/0;for(const S of l){const y=S.length;if(y<2)return console.warn("Distance Expression: Invalid polygon!"),NaN;if(S[0]!==S[y-1]&&(g=Math.min(g,d.pointToSegmentDistance(p,S[y-1],S[0])))===0||(g=Math.min(g,dy(p,S,d)))===0)return g}return g}function Hw(p,l,d,g){if(!Fu(l,p.length))return NaN;for(let y=l[0];y<=l[1];++y)if(zh(p[y],d,!0))return 0;let S=1/0;for(let y=l[0];y<l[1];++y)for(const C of d)for(let R=0,N=C.length,H=N-1;R<N;H=R++){if(V0(p[y],p[y+1],C[H],C[R]))return 0;S=Math.min(S,Y0(p[y],p[y+1],C[H],C[R],g))}return S}function fy(p,l){for(const d of p)for(let g=0;g<=d.length-1;++g)if(zh(d[g],l,!0))return!0;return!1}function Uw(p,l,d,g=1/0){const S=K0(p),y=K0(l);if(g!==1/0&&$h(S,y,d)>=g)return g;if(Cd(S,y)){if(fy(p,l))return 0}else if(fy(l,p))return 0;let C=g;for(const R of p)for(let N=0,H=R.length,P=H-1;N<H;P=N++)for(const O of l)for(let V=0,F=O.length,$=F-1;V<F;$=V++){if(V0(R[P],R[N],O[$],O[V]))return 0;C=Math.min(C,Y0(R[P],R[N],O[$],O[V],d))}return C}function kp(p,l,d,g,S,y,C){if(y===null||C===null)return;const R=$h(Es(g,y),Es(S,C),d);R<l&&p.push({dist:R,range1:y,range2:C})}function Z0(p,l,d,g,S=1/0){let y=Math.min(g.distance(p[0],d[0][0]),S);if(y===0)return y;const C=new uy([{dist:0,range1:[0,p.length-1],range2:[0,0]}],Ow),R=l?G0:Nh,N=K0(d);for(;C.length;){const H=C.pop();if(H.dist>=y)continue;const P=H.range1;if(q0(P)<=R){if(!Fu(P,p.length))return NaN;if(l){const O=Hw(p,P,d,g);if((y=Math.min(y,O))===0)return y}else for(let O=P[0];O<=P[1];++O){const V=Vw(p[O],d,g);if((y=Math.min(y,V))===0)return y}}else{const O=cy(P,l);if(O[0]!==null){const V=$h(Es(p,O[0]),N,g);V<y&&C.push({dist:V,range1:O[0],range2:[0,0]})}if(O[1]!==null){const V=$h(Es(p,O[1]),N,g);V<y&&C.push({dist:V,range1:O[1],range2:[0,0]})}}}return y}function Pp(p,l,d,g,S,y=1/0){let C=Math.min(y,S.distance(p[0],d[0]));if(C===0)return C;const R=new uy([{dist:0,range1:[0,p.length-1],range2:[0,d.length-1]}],Ow),N=l?G0:Nh,H=g?G0:Nh;for(;R.length;){const P=R.pop();if(P.dist>=C)continue;const O=P.range1,V=P.range2;if(q0(O)<=N&&q0(V)<=H){if(!Fu(O,p.length)||!Fu(V,d.length))return NaN;if(l&&g?C=Math.min(C,Nw(p,O,d,V,S)):l||g?l&&!g?C=Math.min(C,hy(d,V,p,O,S)):!l&&g&&(C=Math.min(C,hy(p,O,d,V,S))):C=Math.min(C,$w(p,O,d,V,S)),C===0)return C}else{const F=cy(O,l),$=cy(V,g);kp(R,C,S,p,d,F[0],$[0]),kp(R,C,S,p,d,F[0],$[1]),kp(R,C,S,p,d,F[1],$[0]),kp(R,C,S,p,d,F[1],$[1])}}return C}function Vh(p,l,d,g,S=1/0){let y=S;const C=Es(p,[0,p.length-1]);for(const R of d)if(!(y!==1/0&&$h(C,Es(R,[0,R.length-1]),g)>=y)&&(y=Math.min(y,Pp(p,l,R,!0,g,y)),y===0))return y;return y}function Lp(p,l,d,g,S=1/0){let y=S;const C=Es(p,[0,p.length-1]);for(const R of d){if(y!==1/0&&$h(C,K0(R),g)>=y)continue;const N=Z0(p,l,R,g,y);if(isNaN(N))return N;if((y=Math.min(y,N))===0)return y}return y}function X0(p){return p==="Point"||p==="MultiPoint"||p==="LineString"||p==="MultiLineString"||p==="Polygon"||p==="MultiPolygon"}class Ec{constructor(l,d){this.type=Wn,this.geojson=l,this.geometries=d}static parse(l,d){if(l.length!==2)return d.error(`'distance' expression requires either one argument, but found ' ${l.length-1} instead.`);if(Tc(l[1])){const g=l[1];if(g.type==="FeatureCollection"){for(let S=0;S<g.features.length;++S)if(X0(g.features[S].geometry.type))return new Ec(g,g.features[S].geometry)}else if(g.type==="Feature"){if(X0(g.geometry.type))return new Ec(g,g.geometry)}else if(X0(g.type))return new Ec(g,g)}return d.error("'distance' expression needs to be an array with format ['Distance', GeoJSONObj].")}evaluate(l){const d=l.geometry(),g=l.canonicalID();if(d!=null&&g!=null){if(l.geometryType()==="Point")return function(S,y,C){const R=[];for(const H of S)for(const P of H)R.push(As(P,y));const N=new Fh(R[0][1],"meters");return C.type==="Point"||C.type==="MultiPoint"||C.type==="LineString"?Pp(R,!1,C.type==="Point"?[C.coordinates]:C.coordinates,C.type==="LineString",N):C.type==="MultiLineString"?Vh(R,!1,C.coordinates,N):C.type==="Polygon"||C.type==="MultiPolygon"?Lp(R,!1,C.type==="Polygon"?[C.coordinates]:C.coordinates,N):null}(d,g,this.geometries);if(l.geometryType()==="LineString")return function(S,y,C){const R=[];for(const H of S){const P=[];for(const O of H)P.push(As(O,y));R.push(P)}const N=new Fh(R[0][0][1],"meters");if(C.type==="Point"||C.type==="MultiPoint"||C.type==="LineString")return Vh(C.type==="Point"?[C.coordinates]:C.coordinates,C.type==="LineString",R,N);if(C.type==="MultiLineString"){let H=1/0;for(let P=0;P<C.coordinates.length;P++){const O=Vh(C.coordinates[P],!0,R,N,H);if(isNaN(O))return O;if((H=Math.min(H,O))===0)return H}return H}if(C.type==="Polygon"||C.type==="MultiPolygon"){let H=1/0;for(let P=0;P<R.length;P++){const O=Lp(R[P],!0,C.type==="Polygon"?[C.coordinates]:C.coordinates,N,H);if(isNaN(O))return O;if((H=Math.min(H,O))===0)return H}return H}return null}(d,g,this.geometries);if(l.geometryType()==="Polygon")return function(S,y,C){const R=[];for(const H of function(P,O){const V=P.length;if(V<=1)return[P];const F=[];let $,G;for(let Y=0;Y<V;Y++){const ee=_T(P[Y]);ee!==0&&(P[Y].area=Math.abs(ee),G===void 0&&(G=ee<0),G===ee<0?($&&F.push($),$=[P[Y]]):$.push(P[Y]))}return $&&F.push($),F}(S)){const P=[];for(let O=0;O<H.length;++O)P.push(Fw(H[O],y));R.push(P)}const N=new Fh(R[0][0][0][1],"meters");if(C.type==="Point"||C.type==="MultiPoint"||C.type==="LineString")return Lp(C.type==="Point"?[C.coordinates]:C.coordinates,C.type==="LineString",R,N);if(C.type==="MultiLineString"){let H=1/0;for(let P=0;P<C.coordinates.length;P++){const O=Lp(C.coordinates[P],!0,R,N,H);if(isNaN(O))return O;if((H=Math.min(H,O))===0)return H}return H}return C.type==="Polygon"||C.type==="MultiPolygon"?function(H,P,O){let V=1/0;for(const F of H)for(const $ of P){const G=Uw(F,$,O,V);if(isNaN(G))return G;if((V=Math.min(V,G))===0)return V}return V}(C.type==="Polygon"?[C.coordinates]:C.coordinates,R,N):null}(d,g,this.geometries);console.warn("Distance Expression: currently only evaluates valid Point/LineString/Polygon geometries.")}else console.warn("Distance Expression: requirs valid feature and canonical information.");return null}eachChild(){}outputDefined(){return!0}serialize(){return["distance",this.geojson]}}function Ac(p,l){switch(p){case"string":return Wo(l);case"number":return+l;case"boolean":return!!l;case"color":return Ii.parse(l);case"formatted":return zo.fromString(Wo(l));case"resolvedImage":return Go.fromString(Wo(l))}return l}function di(p,l,d,g){return g!==void 0&&(p=g*Math.round(p/g)),l!==void 0&&p<l&&(p=l),d!==void 0&&p>d&&(p=d),p}class Hh{constructor(l,d,g){this.type=l,this.key=d,this.scope=g}static parse(l,d){let g=d.expectedType;if(g==null&&(g=pi),l.length<2||l.length>3)return d.error("Invalid number of arguments for 'config' expression.");const S=d.parse(l[1],1);if(!(S instanceof Sl))return d.error("Key name of 'config' expression must be a string literal.");if(l.length>=3){const y=d.parse(l[2],2);return y instanceof Sl?new Hh(g,Wo(S.value),Wo(y.value)):d.error("Scope of 'config' expression must be a string literal.")}return new Hh(g,Wo(S.value))}evaluate(l){const d=[this.key,this.scope,l.scope].filter(Boolean).join(""),g=l.getConfig(d);if(!g)return null;const{type:S,value:y,values:C,minValue:R,maxValue:N,stepValue:H}=g,P=g.default.evaluate(l);let O=P;if(y){const V=l.scope;l.scope=(V||"").split("").slice(1).join(""),O=y.evaluate(l),l.scope=V}return S&&(O=Ac(S,O)),O===void 0||R===void 0&&N===void 0&&H===void 0||(typeof O=="number"?O=di(O,R,N,H):Array.isArray(O)&&(O=O.map(V=>typeof V=="number"?di(V,R,N,H):V))),y!==void 0&&O!==void 0&&C&&!C.includes(O)&&(O=P,S&&(O=Ac(S,O))),(S&&S!==this.type||O!==void 0&&ja(O)!==this.type)&&(O=Ac(this.type.kind,O)),O}eachChild(){}outputDefined(){return!1}serialize(){const l=["config",this.key];return this.scope&&l.concat(this.key),l}}function Rp(p){if(p instanceof os&&(p.name==="get"&&p.args.length===1||p.name==="feature-state"||p.name==="has"&&p.args.length===1||p.name==="properties"||p.name==="geometry-type"||p.name==="id"||/^filter-/.test(p.name))||p instanceof Mc||p instanceof Ec)return!1;let l=!0;return p.eachChild(d=>{l&&!Rp(d)&&(l=!1)}),l}function J0(p){if(p instanceof os&&p.name==="feature-state")return!1;let l=!0;return p.eachChild(d=>{l&&!J0(d)&&(l=!1)}),l}function Q0(p){if(p instanceof Hh)return new Set([p.key]);let l=new Set;return p.eachChild(d=>{l=new Set([...l,...Q0(d)])}),l}function Dp(p,l){if(p instanceof os&&l.indexOf(p.name)>=0)return!1;let d=!0;return p.eachChild(g=>{d&&!Dp(g,l)&&(d=!1)}),d}class Hi{constructor(l,d){this.type=d.type,this.name=l,this.boundExpression=d}static parse(l,d){if(l.length!==2||typeof l[1]!="string")return d.error("'var' expression requires exactly one string literal argument.");const g=l[1];return d.scope.has(g)?new Hi(g,d.scope.get(g)):d.error(`Unknown variable "${g}". Make sure "${g}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(l){return this.boundExpression.evaluate(l)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class py{constructor(l,d=[],g,S=new z0,y=[],C,R){this.registry=l,this.path=d,this.key=d.map(N=>typeof N=="string"?`['${N}']`:`[${N}]`).join(""),this.scope=S,this.errors=y,this.expectedType=g,this._scope=C,this.options=R}parse(l,d,g,S,y={}){return d||g?this.concat(d,null,g,S)._parse(l,y):this._parse(l,y)}parseObjectValue(l,d,g,S,y,C={}){return this.concat(d,g,S,y)._parse(l,C)}_parse(l,d){function g(S,y,C){return C==="assert"?new Cl(y,[S]):C==="coerce"?new zu(y,[S]):S}if(l!==null&&typeof l!="string"&&typeof l!="boolean"&&typeof l!="number"||(l=["literal",l]),Array.isArray(l)){if(l.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const S=typeof l[0]=="string"?this.registry[l[0]]:void 0;if(S){let y=S.parse(l,this);if(!y)return null;if(this.expectedType){const C=this.expectedType,R=y.type;if(C.kind!=="string"&&C.kind!=="number"&&C.kind!=="boolean"&&C.kind!=="object"&&C.kind!=="array"||R.kind!=="value")if(C.kind!=="color"&&C.kind!=="formatted"&&C.kind!=="resolvedImage"||R.kind!=="value"&&R.kind!=="string"){if(this.checkSubtype(C,R))return null}else y=g(y,C,d.typeAnnotation||"coerce");else y=g(y,C,d.typeAnnotation||"assert")}if(!(y instanceof Sl)&&y.type.kind!=="resolvedImage"&&my(y)){const C=new Lw(this._scope,this.options);try{y=new Sl(y.type,y.evaluate(C))}catch(R){return this.error(R.message),null}}return y}return zu.parse(["to-array",l],this)}return this.error(l===void 0?"'undefined' value invalid. Use null instead.":typeof l=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof l} instead.`)}concat(l,d,g,S){let y=typeof l=="number"?this.path.concat(l):this.path;y=typeof d=="string"?y.concat(d):y;const C=S?this.scope.concat(S):this.scope;return new py(this.registry,y,g||null,C,this.errors,this._scope,this.options)}error(l,...d){const g=`${this.key}${d.map(S=>`[${S}]`).join("")}`;this.errors.push(new Yl(g,l))}checkSubtype(l,d){const g=Ph(l,d);return g&&this.error(g),g}}var jw=py;function my(p){if(p instanceof Hi)return my(p.boundExpression);if(p instanceof os&&p.name==="error"||p instanceof $0||p instanceof Mc||p instanceof Ec||p instanceof Hh)return!1;const l=p instanceof zu||p instanceof Cl;let d=!0;return p.eachChild(g=>{d=l?d&&my(g):d&&g instanceof Sl}),!!d&&Rp(p)&&Dp(p,["zoom","heatmap-density","line-progress","raster-value","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center","measure-light","raster-particle-speed"])}function ev(p,l){const d=p.length-1;let g,S,y=0,C=d,R=0;for(;y<=C;)if(R=Math.floor((y+C)/2),g=p[R],S=p[R+1],g<=l){if(R===d||l<S)return R;y=R+1}else{if(!(g>l))throw new ao("Input is not a number.");C=R-1}return 0}class Op{constructor(l,d,g){this.type=l,this.input=d,this.labels=[],this.outputs=[];for(const[S,y]of g)this.labels.push(S),this.outputs.push(y)}static parse(l,d){if(l.length-1<4)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return d.error("Expected an even number of arguments.");const g=d.parse(l[1],1,Wn);if(!g)return null;const S=[];let y=null;d.expectedType&&d.expectedType.kind!=="value"&&(y=d.expectedType);for(let C=1;C<l.length;C+=2){const R=C===1?-1/0:l[C],N=l[C+1],H=C,P=C+1;if(typeof R!="number")return d.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',H);if(S.length&&S[S.length-1][0]>=R)return d.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',H);const O=d.parse(N,P,y);if(!O)return null;y=y||O.type,S.push([R,O])}return new Op(y,g,S)}evaluate(l){const d=this.labels,g=this.outputs;if(d.length===1)return g[0].evaluate(l);const S=this.input.evaluate(l);if(S<=d[0])return g[0].evaluate(l);const y=d.length;return S>=d[y-1]?g[y-1].evaluate(l):g[ev(d,S)].evaluate(l)}eachChild(l){l(this.input);for(const d of this.outputs)l(d)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}serialize(){const l=["step",this.input.serialize()];for(let d=0;d<this.labels.length;d++)d>0&&l.push(this.labels[d]),l.push(this.outputs[d].serialize());return l}}const Gw=.95047,Ww=1.08883,qw=4/29,Uh=6/29,Kw=3*Uh*Uh,bT=Uh*Uh*Uh,xT=Math.PI/180,wT=180/Math.PI;function vy(p){return p>bT?Math.pow(p,1/3):p/Kw+qw}function gy(p){return p>Uh?p*p*p:Kw*(p-qw)}function _y(p){return 255*(p<=.0031308?12.92*p:1.055*Math.pow(p,1/2.4)-.055)}function yy(p){return(p/=255)<=.04045?p/12.92:Math.pow((p+.055)/1.055,2.4)}function Yw(p){const l=yy(p.r),d=yy(p.g),g=yy(p.b),S=vy((.4124564*l+.3575761*d+.1804375*g)/Gw),y=vy((.2126729*l+.7151522*d+.072175*g)/1);return{l:116*y-16,a:500*(S-y),b:200*(y-vy((.0193339*l+.119192*d+.9503041*g)/Ww)),alpha:p.a}}function Zw(p){let l=(p.l+16)/116,d=isNaN(p.a)?l:l+p.a/500,g=isNaN(p.b)?l:l-p.b/200;return l=1*gy(l),d=Gw*gy(d),g=Ww*gy(g),new Ii(_y(3.2404542*d-1.5371385*l-.4985314*g),_y(-.969266*d+1.8760108*l+.041556*g),_y(.0556434*d-.2040259*l+1.0572252*g),p.alpha)}function ST(p,l,d){const g=l-p;return p+d*(g>180||g<-180?g-360*Math.round(g/360):g)}const zp={forward:Yw,reverse:Zw,interpolate:function(p,l,d){return{l:_r(p.l,l.l,d),a:_r(p.a,l.a,d),b:_r(p.b,l.b,d),alpha:_r(p.alpha,l.alpha,d)}}},Bp={forward:function(p){const{l,a:d,b:g}=Yw(p),S=Math.atan2(g,d)*wT;return{h:S<0?S+360:S,c:Math.sqrt(d*d+g*g),l,alpha:p.a}},reverse:function(p){const l=p.h*xT,d=p.c;return Zw({l:p.l,a:Math.cos(l)*d,b:Math.sin(l)*d,alpha:p.alpha})},interpolate:function(p,l,d){return{h:ST(p.h,l.h,d),c:_r(p.c,l.c,d),l:_r(p.l,l.l,d),alpha:_r(p.alpha,l.alpha,d)}}};var Xw=Object.freeze({__proto__:null,hcl:Bp,lab:zp});class Is{constructor(l,d,g,S,y){this.type=l,this.operator=d,this.interpolation=g,this.input=S,this.labels=[],this.outputs=[];for(const[C,R]of y)this.labels.push(C),this.outputs.push(R)}static interpolationFactor(l,d,g,S){let y=0;if(l.name==="exponential")y=by(d,l.base,g,S);else if(l.name==="linear")y=by(d,1,g,S);else if(l.name==="cubic-bezier"){const C=l.controlPoints;y=new Ne(C[0],C[1],C[2],C[3]).solve(by(d,1,g,S))}return y}static parse(l,d){let[g,S,y,...C]=l;if(!Array.isArray(S)||S.length===0)return d.error("Expected an interpolation type expression.",1);if(S[0]==="linear")S={name:"linear"};else if(S[0]==="exponential"){const H=S[1];if(typeof H!="number")return d.error("Exponential interpolation requires a numeric base.",1,1);S={name:"exponential",base:H}}else{if(S[0]!=="cubic-bezier")return d.error(`Unknown interpolation type ${String(S[0])}`,1,0);{const H=S.slice(1);if(H.length!==4||H.some(P=>typeof P!="number"||P<0||P>1))return d.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);S={name:"cubic-bezier",controlPoints:H}}}if(l.length-1<4)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return d.error("Expected an even number of arguments.");if(y=d.parse(y,2,Wn),!y)return null;const R=[];let N=null;g==="interpolate-hcl"||g==="interpolate-lab"?N=as:d.expectedType&&d.expectedType.kind!=="value"&&(N=d.expectedType);for(let H=0;H<C.length;H+=2){const P=C[H],O=C[H+1],V=H+3,F=H+4;if(typeof P!="number")return d.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',V);if(R.length&&R[R.length-1][0]>=P)return d.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',V);const $=d.parse(O,F,N);if(!$)return null;N=N||$.type,R.push([P,$])}return N.kind==="number"||N.kind==="color"||N.kind==="array"&&N.itemType.kind==="number"&&typeof N.N=="number"?new Is(N,g,S,y,R):d.error(`Type ${Ea(N)} is not interpolatable.`)}evaluate(l){const d=this.labels,g=this.outputs;if(d.length===1)return g[0].evaluate(l);const S=this.input.evaluate(l);if(S<=d[0])return g[0].evaluate(l);const y=d.length;if(S>=d[y-1])return g[y-1].evaluate(l);const C=ev(d,S),R=Is.interpolationFactor(this.interpolation,S,d[C],d[C+1]),N=g[C].evaluate(l),H=g[C+1].evaluate(l);return this.operator==="interpolate"?xd[this.type.kind.toLowerCase()](N,H,R):this.operator==="interpolate-hcl"?Bp.reverse(Bp.interpolate(Bp.forward(N),Bp.forward(H),R)):zp.reverse(zp.interpolate(zp.forward(N),zp.forward(H),R))}eachChild(l){l(this.input);for(const d of this.outputs)l(d)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}serialize(){let l;l=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const d=[this.operator,l,this.input.serialize()];for(let g=0;g<this.labels.length;g++)d.push(this.labels[g],this.outputs[g].serialize());return d}}function by(p,l,d,g){const S=g-d,y=p-d;return S===0?0:l===1?y/S:(Math.pow(l,y)-1)/(Math.pow(l,S)-1)}class tv{constructor(l,d){this.type=l,this.args=d}static parse(l,d){if(l.length<2)return d.error("Expectected at least one argument.");let g=null;const S=d.expectedType;S&&S.kind!=="value"&&(g=S);const y=[];for(const R of l.slice(1)){const N=d.parse(R,1+y.length,g,void 0,{typeAnnotation:"omit"});if(!N)return null;g=g||N.type,y.push(N)}const C=S&&y.some(R=>Ph(S,R.type));return new tv(C?pi:g,y)}evaluate(l){let d,g=null,S=0;for(const y of this.args){if(S++,g=y.evaluate(l),g&&g instanceof Go&&!g.available&&(d||(d=g),g=null,S===this.args.length))return d;if(g!==null)break}return g}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}serialize(){const l=["coalesce"];return this.eachChild(d=>{l.push(d.serialize())}),l}}class nv{constructor(l,d){this.type=d.type,this.bindings=[].concat(l),this.result=d}evaluate(l){return this.result.evaluate(l)}eachChild(l){for(const d of this.bindings)l(d[1]);l(this.result)}static parse(l,d){if(l.length<4)return d.error(`Expected at least 3 arguments, but found ${l.length-1} instead.`);const g=[];for(let y=1;y<l.length-1;y+=2){const C=l[y];if(typeof C!="string")return d.error(`Expected string, but found ${typeof C} instead.`,y);if(/[^a-zA-Z0-9_]/.test(C))return d.error("Variable names must contain only alphanumeric characters or '_'.",y);const R=d.parse(l[y+1],y+1);if(!R)return null;g.push([C,R])}const S=d.parse(l[l.length-1],l.length-1,d.expectedType,g);return S?new nv(g,S):null}outputDefined(){return this.result.outputDefined()}serialize(){const l=["let"];for(const[d,g]of this.bindings)l.push(d,g.serialize());return l.push(this.result.serialize()),l}}class xy{constructor(l,d,g){this.type=l,this.index=d,this.input=g}static parse(l,d){if(l.length!==3)return d.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const g=d.parse(l[1],1,Wn),S=d.parse(l[2],2,jo(d.expectedType||pi));return g&&S?new xy(S.type.itemType,g,S):null}evaluate(l){const d=this.index.evaluate(l),g=this.input.evaluate(l);if(d<0)throw new ao(`Array index out of bounds: ${d} < 0.`);if(d>=g.length)throw new ao(`Array index out of bounds: ${d} > ${g.length-1}.`);if(d!==Math.floor(d))throw new ao(`Array index must be an integer, but found ${d} instead.`);return g[d]}eachChild(l){l(this.index),l(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class wy{constructor(l,d){this.type=ci,this.needle=l,this.haystack=d}static parse(l,d){if(l.length!==3)return d.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const g=d.parse(l[1],1,pi),S=d.parse(l[2],2,pi);return g&&S?Lh(g.type,[ci,ui,Wn,wl,pi])?new wy(g,S):d.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ea(g.type)} instead`):null}evaluate(l){const d=this.needle.evaluate(l),g=this.haystack.evaluate(l);if(g==null)return!1;if(!Zl(d,["boolean","string","number","null"]))throw new ao(`Expected first argument to be of type boolean, string, number or null, but found ${Ea(ja(d))} instead.`);if(!Zl(g,["string","array"]))throw new ao(`Expected second argument to be of type array or string, but found ${Ea(ja(g))} instead.`);return g.indexOf(d)>=0}eachChild(l){l(this.needle),l(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class rv{constructor(l,d,g){this.type=Wn,this.needle=l,this.haystack=d,this.fromIndex=g}static parse(l,d){if(l.length<=2||l.length>=5)return d.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const g=d.parse(l[1],1,pi),S=d.parse(l[2],2,pi);if(!g||!S)return null;if(!Lh(g.type,[ci,ui,Wn,wl,pi]))return d.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ea(g.type)} instead`);if(l.length===4){const y=d.parse(l[3],3,Wn);return y?new rv(g,S,y):null}return new rv(g,S)}evaluate(l){const d=this.needle.evaluate(l),g=this.haystack.evaluate(l);if(!Zl(d,["boolean","string","number","null"]))throw new ao(`Expected first argument to be of type boolean, string, number or null, but found ${Ea(ja(d))} instead.`);if(!Zl(g,["string","array"]))throw new ao(`Expected second argument to be of type array or string, but found ${Ea(ja(g))} instead.`);if(this.fromIndex){const S=this.fromIndex.evaluate(l);return g.indexOf(d,S)}return g.indexOf(d)}eachChild(l){l(this.needle),l(this.haystack),this.fromIndex&&l(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const l=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),l]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class Sy{constructor(l,d,g,S,y,C){this.inputType=l,this.type=d,this.input=g,this.cases=S,this.outputs=y,this.otherwise=C}static parse(l,d){if(l.length<5)return d.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if(l.length%2!=1)return d.error("Expected an even number of arguments.");let g,S;d.expectedType&&d.expectedType.kind!=="value"&&(S=d.expectedType);const y={},C=[];for(let H=2;H<l.length-1;H+=2){let P=l[H];const O=l[H+1];Array.isArray(P)||(P=[P]);const V=d.concat(H);if(P.length===0)return V.error("Expected at least one branch label.");for(const $ of P){if(typeof $!="number"&&typeof $!="string")return V.error("Branch labels must be numbers or strings.");if(typeof $=="number"&&Math.abs($)>Number.MAX_SAFE_INTEGER)return V.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof $=="number"&&Math.floor($)!==$)return V.error("Numeric branch labels must be integer values.");if(g){if(V.checkSubtype(g,ja($)))return null}else g=ja($);if(y[String($)]!==void 0)return V.error("Branch labels must be unique.");y[String($)]=C.length}const F=d.parse(O,H,S);if(!F)return null;S=S||F.type,C.push(F)}const R=d.parse(l[1],1,pi);if(!R)return null;const N=d.parse(l[l.length-1],l.length-1,S);return N?R.type.kind!=="value"&&d.concat(1).checkSubtype(g,R.type)?null:new Sy(g,S,R,y,C,N):null}evaluate(l){const d=this.input.evaluate(l);return(ja(d)===this.inputType&&this.outputs[this.cases[d]]||this.otherwise).evaluate(l)}eachChild(l){l(this.input),this.outputs.forEach(l),l(this.otherwise)}outputDefined(){return this.outputs.every(l=>l.outputDefined())&&this.otherwise.outputDefined()}serialize(){const l=["match",this.input.serialize()],d=Object.keys(this.cases).sort(),g=[],S={};for(const C of d){const R=S[this.cases[C]];R===void 0?(S[this.cases[C]]=g.length,g.push([this.cases[C],[C]])):g[R][1].push(C)}const y=C=>this.inputType.kind==="number"?Number(C):C;for(const[C,R]of g)l.push(R.length===1?y(R[0]):R.map(y)),l.push(this.outputs[C].serialize());return l.push(this.otherwise.serialize()),l}}class Fp{constructor(l,d,g){this.type=l,this.branches=d,this.otherwise=g}static parse(l,d){if(l.length<4)return d.error(`Expected at least 3 arguments, but found only ${l.length-1}.`);if(l.length%2!=0)return d.error("Expected an odd number of arguments.");let g;d.expectedType&&d.expectedType.kind!=="value"&&(g=d.expectedType);const S=[];for(let C=1;C<l.length-1;C+=2){const R=d.parse(l[C],C,ci);if(!R)return null;const N=d.parse(l[C+1],C+1,g);if(!N)return null;S.push([R,N]),g=g||N.type}const y=d.parse(l[l.length-1],l.length-1,g);return y?new Fp(g,S,y):null}evaluate(l){for(const[d,g]of this.branches)if(d.evaluate(l))return g.evaluate(l);return this.otherwise.evaluate(l)}eachChild(l){for(const[d,g]of this.branches)l(d),l(g);l(this.otherwise)}outputDefined(){return this.branches.every(([l,d])=>d.outputDefined())&&this.otherwise.outputDefined()}serialize(){const l=["case"];return this.eachChild(d=>{l.push(d.serialize())}),l}}class iv{constructor(l,d,g,S){this.type=l,this.input=d,this.beginIndex=g,this.endIndex=S}static parse(l,d){if(l.length<=2||l.length>=5)return d.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const g=d.parse(l[1],1,pi),S=d.parse(l[2],2,Wn);if(!g||!S)return null;if(!Lh(g.type,[jo(pi),ui,pi]))return d.error(`Expected first argument to be of type array or string, but found ${Ea(g.type)} instead`);if(l.length===4){const y=d.parse(l[3],3,Wn);return y?new iv(g.type,g,S,y):null}return new iv(g.type,g,S)}evaluate(l){const d=this.input.evaluate(l),g=this.beginIndex.evaluate(l);if(!Zl(d,["string","array"]))throw new ao(`Expected first argument to be of type array or string, but found ${Ea(ja(d))} instead.`);if(this.endIndex){const S=this.endIndex.evaluate(l);return d.slice(g,S)}return d.slice(g)}eachChild(l){l(this.input),l(this.beginIndex),this.endIndex&&l(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const l=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),l]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}function Cy(p,l){return p==="=="||p==="!="?l.kind==="boolean"||l.kind==="string"||l.kind==="number"||l.kind==="null"||l.kind==="value":l.kind==="string"||l.kind==="number"||l.kind==="value"}function Jw(p,l,d,g){return g.compare(l,d)===0}function jh(p,l,d){const g=p!=="=="&&p!=="!=";return class Wne{constructor(y,C,R){this.type=ci,this.lhs=y,this.rhs=C,this.collator=R,this.hasUntypedArgument=y.type.kind==="value"||C.type.kind==="value"}static parse(y,C){if(y.length!==3&&y.length!==4)return C.error("Expected two or three arguments.");const R=y[0];let N=C.parse(y[1],1,pi);if(!N)return null;if(!Cy(R,N.type))return C.concat(1).error(`"${R}" comparisons are not supported for type '${Ea(N.type)}'.`);let H=C.parse(y[2],2,pi);if(!H)return null;if(!Cy(R,H.type))return C.concat(2).error(`"${R}" comparisons are not supported for type '${Ea(H.type)}'.`);if(N.type.kind!==H.type.kind&&N.type.kind!=="value"&&H.type.kind!=="value")return C.error(`Cannot compare types '${Ea(N.type)}' and '${Ea(H.type)}'.`);g&&(N.type.kind==="value"&&H.type.kind!=="value"?N=new Cl(H.type,[N]):N.type.kind!=="value"&&H.type.kind==="value"&&(H=new Cl(N.type,[H])));let P=null;if(y.length===4){if(N.type.kind!=="string"&&H.type.kind!=="string"&&N.type.kind!=="value"&&H.type.kind!=="value")return C.error("Cannot use collator to compare non-string types.");if(P=C.parse(y[3],3,B0),!P)return null}return new Wne(N,H,P)}evaluate(y){const C=this.lhs.evaluate(y),R=this.rhs.evaluate(y);if(g&&this.hasUntypedArgument){const N=ja(C),H=ja(R);if(N.kind!==H.kind||N.kind!=="string"&&N.kind!=="number")throw new ao(`Expected arguments for "${p}" to be (string, string) or (number, number), but found (${N.kind}, ${H.kind}) instead.`)}if(this.collator&&!g&&this.hasUntypedArgument){const N=ja(C),H=ja(R);if(N.kind!=="string"||H.kind!=="string")return l(y,C,R)}return this.collator?d(y,C,R,this.collator.evaluate(y)):l(y,C,R)}eachChild(y){y(this.lhs),y(this.rhs),this.collator&&y(this.collator)}outputDefined(){return!0}serialize(){const y=[p];return this.eachChild(C=>{y.push(C.serialize())}),y}}}const CT=jh("==",function(p,l,d){return l===d},Jw),Qw=jh("!=",function(p,l,d){return l!==d},function(p,l,d,g){return!Jw(0,l,d,g)}),e4=jh("<",function(p,l,d){return l<d},function(p,l,d,g){return g.compare(l,d)<0}),Gh=jh(">",function(p,l,d){return l>d},function(p,l,d,g){return g.compare(l,d)>0}),t4=jh("<=",function(p,l,d){return l<=d},function(p,l,d,g){return g.compare(l,d)<=0}),n4=jh(">=",function(p,l,d){return l>=d},function(p,l,d,g){return g.compare(l,d)>=0});class Ty{constructor(l,d,g,S,y,C){this.type=ui,this.number=l,this.locale=d,this.currency=g,this.unit=S,this.minFractionDigits=y,this.maxFractionDigits=C}static parse(l,d){if(l.length!==3)return d.error("Expected two arguments.");const g=d.parse(l[1],1,Wn);if(!g)return null;const S=l[2];if(typeof S!="object"||Array.isArray(S))return d.error("NumberFormat options argument must be an object.");let y=null;if(S.locale&&(y=d.parseObjectValue(S.locale,2,"locale",ui),!y))return null;let C=null;if(S.currency&&(C=d.parseObjectValue(S.currency,2,"currency",ui),!C))return null;let R=null;if(S.unit&&(R=d.parseObjectValue(S.unit,2,"unit",ui),!R))return null;let N=null;if(S["min-fraction-digits"]&&(N=d.parseObjectValue(S["min-fraction-digits"],2,"min-fraction-digits",Wn),!N))return null;let H=null;return S["max-fraction-digits"]&&(H=d.parseObjectValue(S["max-fraction-digits"],2,"max-fraction-digits",Wn),!H)?null:new Ty(g,y,C,R,N,H)}evaluate(l){return new Intl.NumberFormat(this.locale?this.locale.evaluate(l):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(l):void 0,unit:this.unit?this.unit.evaluate(l):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(l):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(l):void 0}).format(this.number.evaluate(l))}eachChild(l){l(this.number),this.locale&&l(this.locale),this.currency&&l(this.currency),this.unit&&l(this.unit),this.minFractionDigits&&l(this.minFractionDigits),this.maxFractionDigits&&l(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const l={};return this.locale&&(l.locale=this.locale.serialize()),this.currency&&(l.currency=this.currency.serialize()),this.unit&&(l.unit=this.unit.serialize()),this.minFractionDigits&&(l["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(l["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),l]}}class Np{constructor(l){this.type=Wn,this.input=l}static parse(l,d){if(l.length!==2)return d.error(`Expected 1 argument, but found ${l.length-1} instead.`);const g=d.parse(l[1],1);return g?g.type.kind!=="array"&&g.type.kind!=="string"&&g.type.kind!=="value"?d.error(`Expected argument of type string or array, but found ${Ea(g.type)} instead.`):new Np(g):null}evaluate(l){const d=this.input.evaluate(l);if(typeof d=="string"||Array.isArray(d))return d.length;throw new ao(`Expected value to be of type string or array, but found ${Ea(ja(d))} instead.`)}eachChild(l){l(this.input)}outputDefined(){return!1}serialize(){const l=["length"];return this.eachChild(d=>{l.push(d.serialize())}),l}}function av(p){return function(){p=1831565813+(p|=0)|0;let l=Math.imul(p^p>>>15,1|p);return l=l+Math.imul(l^l>>>7,61|l)^l,((l^l>>>14)>>>0)/4294967296}}const Wh={"==":CT,"!=":Qw,">":Gh,"<":e4,">=":n4,"<=":t4,array:Cl,at:xy,boolean:Cl,case:Fp,coalesce:tv,collator:$0,format:Rh,image:wd,in:wy,"index-of":rv,interpolate:Is,"interpolate-hcl":Is,"interpolate-lab":Is,length:Np,let:nv,literal:Sl,match:Sy,number:Cl,"number-format":Ty,object:Cl,slice:iv,step:Op,string:Cl,"to-boolean":zu,"to-color":zu,"to-number":zu,"to-string":zu,var:Hi,within:Mc,distance:Ec,config:Hh};function r4(p,[l,d,g,S]){l=l.evaluate(p),d=d.evaluate(p),g=g.evaluate(p);const y=S?S.evaluate(p):1,C=Pw(l,d,g,y);if(C)throw new ao(C);return new Ii(l/255*y,d/255*y,g/255*y,y)}function My(p,[l,d,g,S]){l=l.evaluate(p),d=d.evaluate(p),g=g.evaluate(p);const y=S?S.evaluate(p):1,C=function(H,P,O,V){return typeof H=="number"&&H>=0&&H<=360?typeof P=="number"&&P>=0&&P<=100&&typeof O=="number"&&O>=0&&O<=100?V===void 0||typeof V=="number"&&V>=0&&V<=1?null:`Invalid hsla value [${[H,P,O,V].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid hsla value [${(typeof V=="number"?[H,P,O,V]:[H,P,O]).join(", ")}]: 's', and 'l' must be between 0 and 100.`:`Invalid hsla value [${(typeof V=="number"?[H,P,O,V]:[H,P,O]).join(", ")}]: 'h' must be between 0 and 360.`}(l,d,g,y);if(C)throw new ao(C);const R=`hsla(${l}, ${d}%, ${g}%, ${y})`,N=Ii.parse(R);if(!N)throw new ao(`Failed to parse HSLA color: ${R}`);return N}function Ey(p,l){return p in l}function Ay(p,l){const d=l[p];return d===void 0?null:d}function Md(p){return{type:p}}function i4(p){return{result:"success",value:p}}function Ic(p){return{result:"error",value:p}}function Iy(p,l){return!!p&&!!p.parameters&&p.parameters.indexOf(l)>-1}function ov(p){return p["property-type"]==="data-driven"}function ky(p){return Iy(p.expression,"measure-light")}function a4(p){return Iy(p.expression,"zoom")}function Py(p){return!!p.expression&&p.expression.interpolated}function sv(p){return typeof p=="object"&&p!==null&&!Array.isArray(p)}function o4(p){return p}function s4(p,l){const d=l.type==="color",g=p.stops&&typeof p.stops[0][0]=="object",S=g||!(g||p.property!==void 0),y=p.type||(Py(l)?"exponential":"interval");if(d&&((p=Ah({},p)).stops&&(p.stops=p.stops.map(H=>[H[0],Ii.parse(H[1])])),p.default=Ii.parse(p.default?p.default:l.default)),p.colorSpace&&p.colorSpace!=="rgb"&&!Xw[p.colorSpace])throw new Error(`Unknown color space: ${p.colorSpace}`);let C,R,N;if(y==="exponential")C=u4;else if(y==="interval")C=l4;else if(y==="categorical"){C=TT,R=Object.create(null);for(const H of p.stops)R[H[0]]=H[1];N=typeof p.stops[0][0]}else{if(y!=="identity")throw new Error(`Unknown function type "${y}"`);C=MT}if(g){const H={},P=[];for(let F=0;F<p.stops.length;F++){const $=p.stops[F],G=$[0].zoom;H[G]===void 0&&(H[G]={zoom:G,type:p.type,property:p.property,default:p.default,stops:[]},P.push(G)),H[G].stops.push([$[0].value,$[1]])}const O=[];for(const F of P)O.push([H[F].zoom,s4(H[F],l)]);const V={name:"linear"};return{kind:"composite",interpolationType:V,interpolationFactor:Is.interpolationFactor.bind(void 0,V),zoomStops:O.map(F=>F[0]),evaluate:({zoom:F},$)=>u4({stops:O,base:p.base},l,F).evaluate(F,$)}}if(S){const H=y==="exponential"?{name:"exponential",base:p.base!==void 0?p.base:1}:null;return{kind:"camera",interpolationType:H,interpolationFactor:Is.interpolationFactor.bind(void 0,H),zoomStops:p.stops.map(P=>P[0]),evaluate:({zoom:P})=>C(p,l,P,R,N)}}return{kind:"source",evaluate(H,P){const O=P&&P.properties?P.properties[p.property]:void 0;return O===void 0?$p(p.default,l.default):C(p,l,O,R,N)}}}function $p(p,l,d){return p!==void 0?p:l!==void 0?l:d!==void 0?d:void 0}function TT(p,l,d,g,S){return $p(typeof d===S?g[d]:void 0,p.default,l.default)}function l4(p,l,d){if(Sd(d)!=="number")return $p(p.default,l.default);const g=p.stops.length;if(g===1||d<=p.stops[0][0])return p.stops[0][1];if(d>=p.stops[g-1][0])return p.stops[g-1][1];const S=ev(p.stops.map(y=>y[0]),d);return p.stops[S][1]}function u4(p,l,d){const g=p.base!==void 0?p.base:1;if(Sd(d)!=="number")return $p(p.default,l.default);const S=p.stops.length;if(S===1||d<=p.stops[0][0])return p.stops[0][1];if(d>=p.stops[S-1][0])return p.stops[S-1][1];const y=ev(p.stops.map(P=>P[0]),d),C=function(P,O,V,F){const $=F-V,G=P-V;return $===0?0:O===1?G/$:(Math.pow(O,G)-1)/(Math.pow(O,$)-1)}(d,g,p.stops[y][0],p.stops[y+1][0]),R=p.stops[y][1],N=p.stops[y+1][1];let H=xd[l.type]||o4;if(p.colorSpace&&p.colorSpace!=="rgb"){const P=Xw[p.colorSpace];H=(O,V)=>P.reverse(P.interpolate(P.forward(O),P.forward(V),C))}return typeof R.evaluate=="function"?{evaluate(...P){const O=R.evaluate.apply(void 0,P),V=N.evaluate.apply(void 0,P);if(O!==void 0&&V!==void 0)return H(O,V,C)}}:H(R,N,C)}function MT(p,l,d){return l.type==="color"?d=Ii.parse(d):l.type==="formatted"?d=zo.fromString(d.toString()):l.type==="resolvedImage"?d=Go.fromString(d.toString()):Sd(d)===l.type||l.type==="enum"&&l.values[d]||(d=void 0),$p(d,p.default,l.default)}os.register(Wh,{error:[{kind:"error"},[ui],(p,[l])=>{throw new ao(l.evaluate(p))}],typeof:[ui,[pi],(p,[l])=>Ea(ja(l.evaluate(p)))],"to-rgba":[jo(Wn,4),[as],(p,[l])=>l.evaluate(p).toRenderColor(null).toArray()],rgb:[as,[Wn,Wn,Wn],r4],rgba:[as,[Wn,Wn,Wn,Wn],r4],hsl:[as,[Wn,Wn,Wn],My],hsla:[as,[Wn,Wn,Wn,Wn],My],has:{type:ci,overloads:[[[ui],(p,[l])=>Ey(l.evaluate(p),p.properties())],[[ui,Oo],(p,[l,d])=>Ey(l.evaluate(p),d.evaluate(p))]]},get:{type:pi,overloads:[[[ui],(p,[l])=>Ay(l.evaluate(p),p.properties())],[[ui,Oo],(p,[l,d])=>Ay(l.evaluate(p),d.evaluate(p))]]},"feature-state":[pi,[ui],(p,[l])=>Ay(l.evaluate(p),p.featureState||{})],properties:[Oo,[],p=>p.properties()],"geometry-type":[ui,[],p=>p.geometryType()],id:[pi,[],p=>p.id()],zoom:[Wn,[],p=>p.globals.zoom],pitch:[Wn,[],p=>p.globals.pitch||0],"distance-from-center":[Wn,[],p=>p.distanceFromCenter()],"measure-light":[Wn,[ui],(p,[l])=>p.measureLight(l.evaluate(p))],"heatmap-density":[Wn,[],p=>p.globals.heatmapDensity||0],"line-progress":[Wn,[],p=>p.globals.lineProgress||0],"raster-value":[Wn,[],p=>p.globals.rasterValue||0],"raster-particle-speed":[Wn,[],p=>p.globals.rasterParticleSpeed||0],"sky-radial-progress":[Wn,[],p=>p.globals.skyRadialProgress||0],accumulated:[pi,[],p=>p.globals.accumulated===void 0?null:p.globals.accumulated],"+":[Wn,Md(Wn),(p,l)=>{let d=0;for(const g of l)d+=g.evaluate(p);return d}],"*":[Wn,Md(Wn),(p,l)=>{let d=1;for(const g of l)d*=g.evaluate(p);return d}],"-":{type:Wn,overloads:[[[Wn,Wn],(p,[l,d])=>l.evaluate(p)-d.evaluate(p)],[[Wn],(p,[l])=>-l.evaluate(p)]]},"/":[Wn,[Wn,Wn],(p,[l,d])=>l.evaluate(p)/d.evaluate(p)],"%":[Wn,[Wn,Wn],(p,[l,d])=>l.evaluate(p)%d.evaluate(p)],ln2:[Wn,[],()=>Math.LN2],pi:[Wn,[],()=>Math.PI],e:[Wn,[],()=>Math.E],"^":[Wn,[Wn,Wn],(p,[l,d])=>Math.pow(l.evaluate(p),d.evaluate(p))],sqrt:[Wn,[Wn],(p,[l])=>Math.sqrt(l.evaluate(p))],log10:[Wn,[Wn],(p,[l])=>Math.log(l.evaluate(p))/Math.LN10],ln:[Wn,[Wn],(p,[l])=>Math.log(l.evaluate(p))],log2:[Wn,[Wn],(p,[l])=>Math.log(l.evaluate(p))/Math.LN2],sin:[Wn,[Wn],(p,[l])=>Math.sin(l.evaluate(p))],cos:[Wn,[Wn],(p,[l])=>Math.cos(l.evaluate(p))],tan:[Wn,[Wn],(p,[l])=>Math.tan(l.evaluate(p))],asin:[Wn,[Wn],(p,[l])=>Math.asin(l.evaluate(p))],acos:[Wn,[Wn],(p,[l])=>Math.acos(l.evaluate(p))],atan:[Wn,[Wn],(p,[l])=>Math.atan(l.evaluate(p))],min:[Wn,Md(Wn),(p,l)=>Math.min(...l.map(d=>d.evaluate(p)))],max:[Wn,Md(Wn),(p,l)=>Math.max(...l.map(d=>d.evaluate(p)))],abs:[Wn,[Wn],(p,[l])=>Math.abs(l.evaluate(p))],round:[Wn,[Wn],(p,[l])=>{const d=l.evaluate(p);return d<0?-Math.round(-d):Math.round(d)}],floor:[Wn,[Wn],(p,[l])=>Math.floor(l.evaluate(p))],ceil:[Wn,[Wn],(p,[l])=>Math.ceil(l.evaluate(p))],"filter-==":[ci,[ui,pi],(p,[l,d])=>p.properties()[l.value]===d.value],"filter-id-==":[ci,[pi],(p,[l])=>p.id()===l.value],"filter-type-==":[ci,[ui],(p,[l])=>p.geometryType()===l.value],"filter-<":[ci,[ui,pi],(p,[l,d])=>{const g=p.properties()[l.value],S=d.value;return typeof g==typeof S&&g<S}],"filter-id-<":[ci,[pi],(p,[l])=>{const d=p.id(),g=l.value;return typeof d==typeof g&&d<g}],"filter->":[ci,[ui,pi],(p,[l,d])=>{const g=p.properties()[l.value],S=d.value;return typeof g==typeof S&&g>S}],"filter-id->":[ci,[pi],(p,[l])=>{const d=p.id(),g=l.value;return typeof d==typeof g&&d>g}],"filter-<=":[ci,[ui,pi],(p,[l,d])=>{const g=p.properties()[l.value],S=d.value;return typeof g==typeof S&&g<=S}],"filter-id-<=":[ci,[pi],(p,[l])=>{const d=p.id(),g=l.value;return typeof d==typeof g&&d<=g}],"filter->=":[ci,[ui,pi],(p,[l,d])=>{const g=p.properties()[l.value],S=d.value;return typeof g==typeof S&&g>=S}],"filter-id->=":[ci,[pi],(p,[l])=>{const d=p.id(),g=l.value;return typeof d==typeof g&&d>=g}],"filter-has":[ci,[pi],(p,[l])=>l.value in p.properties()],"filter-has-id":[ci,[],p=>p.id()!==null&&p.id()!==void 0],"filter-type-in":[ci,[jo(ui)],(p,[l])=>l.value.indexOf(p.geometryType())>=0],"filter-id-in":[ci,[jo(pi)],(p,[l])=>l.value.indexOf(p.id())>=0],"filter-in-small":[ci,[ui,jo(pi)],(p,[l,d])=>d.value.indexOf(p.properties()[l.value])>=0],"filter-in-large":[ci,[ui,jo(pi)],(p,[l,d])=>function(g,S,y,C){for(;y<=C;){const R=y+C>>1;if(S[R]===g)return!0;S[R]>g?C=R-1:y=R+1}return!1}(p.properties()[l.value],d.value,0,d.value.length-1)],all:{type:ci,overloads:[[[ci,ci],(p,[l,d])=>l.evaluate(p)&&d.evaluate(p)],[Md(ci),(p,l)=>{for(const d of l)if(!d.evaluate(p))return!1;return!0}]]},any:{type:ci,overloads:[[[ci,ci],(p,[l,d])=>l.evaluate(p)||d.evaluate(p)],[Md(ci),(p,l)=>{for(const d of l)if(d.evaluate(p))return!0;return!1}]]},"!":[ci,[ci],(p,[l])=>!l.evaluate(p)],"is-supported-script":[ci,[ui],(p,[l])=>{const d=p.globals&&p.globals.isSupportedScript;return!d||d(l.evaluate(p))}],upcase:[ui,[ui],(p,[l])=>l.evaluate(p).toUpperCase()],downcase:[ui,[ui],(p,[l])=>l.evaluate(p).toLowerCase()],concat:[ui,Md(pi),(p,l)=>l.map(d=>Wo(d.evaluate(p))).join("")],"resolved-locale":[ui,[B0],(p,[l])=>l.evaluate(p).resolvedLocale()],random:[Wn,[Wn,Wn,pi],(p,l)=>{const[d,g,S]=l.map(C=>C.evaluate(p));if(d>g||d===g)return d;let y;if(typeof S=="string")y=function(C){let R=0;if(C.length===0)return R;for(let N=0;N<C.length;N++)R=(R<<5)-R+C.charCodeAt(N),R|=0;return R}(S);else{if(typeof S!="number")throw new ao(`Invalid seed input: ${S}`);y=S}return d+av(y)()*(g-d)}]});class lv{constructor(l,d,g,S){this.expression=l,this._warningHistory={},this._evaluator=new Lw(g,S),this._defaultValue=d?function(y){return y.type==="color"&&(sv(y.default)||Array.isArray(y.default))?new Ii(0,0,0,0):y.type==="color"?Ii.parse(y.default)||null:y.default===void 0?null:y.default}(d):null,this._enumValues=d&&d.type==="enum"?d.values:null}evaluateWithoutErrorHandling(l,d,g,S,y,C,R,N){return this._evaluator.globals=l,this._evaluator.feature=d,this._evaluator.featureState=g,this._evaluator.canonical=S||null,this._evaluator.availableImages=y||null,this._evaluator.formattedSection=C,this._evaluator.featureTileCoord=R||null,this._evaluator.featureDistanceData=N||null,this.expression.evaluate(this._evaluator)}evaluate(l,d,g,S,y,C,R,N){this._evaluator.globals=l,this._evaluator.feature=d||null,this._evaluator.featureState=g||null,this._evaluator.canonical=S||null,this._evaluator.availableImages=y||null,this._evaluator.formattedSection=C||null,this._evaluator.featureTileCoord=R||null,this._evaluator.featureDistanceData=N||null;try{const H=this.expression.evaluate(this._evaluator);if(H==null||typeof H=="number"&&H!=H)return this._defaultValue;if(this._enumValues&&!(H in this._enumValues))throw new ao(`Expected value to be one of ${Object.keys(this._enumValues).map(P=>JSON.stringify(P)).join(", ")}, but found ${JSON.stringify(H)} instead.`);return H}catch(H){return this._warningHistory[H.message]||(this._warningHistory[H.message]=!0,typeof console<"u"&&console.warn(`Failed to evaluate expression "${JSON.stringify(this.expression.serialize())}". ${H.message}`)),this._defaultValue}}}function uv(p){return Array.isArray(p)&&p.length>0&&typeof p[0]=="string"&&p[0]in Wh}function Vp(p,l,d,g){const S=new jw(Wh,[],l?function(C){const R={color:as,string:ui,number:Wn,enum:ui,boolean:ci,formatted:Ih,resolvedImage:kh};return C.type==="array"?jo(R[C.value]||pi,C.length):R[C.type]}(l):void 0,void 0,void 0,d,g),y=S.parse(p,void 0,void 0,void 0,l&&l.type==="string"?{typeAnnotation:"coerce"}:void 0);return y?i4(new lv(y,l,d,g)):Ic(S.errors)}class Ly{constructor(l,d,g){this.kind=l,this._styleExpression=d,this.isLightConstant=g,this.isStateDependent=l!=="constant"&&!J0(d.expression),this.configDependencies=Q0(d.expression)}evaluateWithoutErrorHandling(l,d,g,S,y,C){return this._styleExpression.evaluateWithoutErrorHandling(l,d,g,S,y,C)}evaluate(l,d,g,S,y,C){return this._styleExpression.evaluate(l,d,g,S,y,C)}}class Xl{constructor(l,d,g,S,y){this.kind=l,this.zoomStops=g,this._styleExpression=d,this.isStateDependent=l!=="camera"&&!J0(d.expression),this.isLightConstant=y,this.configDependencies=Q0(d.expression),this.interpolationType=S}evaluateWithoutErrorHandling(l,d,g,S,y,C){return this._styleExpression.evaluateWithoutErrorHandling(l,d,g,S,y,C)}evaluate(l,d,g,S,y,C){return this._styleExpression.evaluate(l,d,g,S,y,C)}interpolationFactor(l,d,g){return this.interpolationType?Is.interpolationFactor(this.interpolationType,l,d,g):0}}function c4(p,l,d,g){if((p=Vp(p,l,d,g)).result==="error")return p;const S=p.value.expression,y=Rp(S);if(!y&&!ov(l))return Ic([new Yl("","data expressions not supported")]);const C=Dp(S,["zoom","pitch","distance-from-center"]);if(!C&&!a4(l))return Ic([new Yl("","zoom expressions not supported")]);const R=Dp(S,["measure-light"]);if(!R&&!ky(l))return Ic([new Yl("","measure-light expression not supported")]);const N=l.expression&&l.expression.relaxZoomRestriction,H=dv(S);return H||C||N?H instanceof Yl?Ic([H]):H instanceof Is&&!Py(l)?Ic([new Yl("",'"interpolate" expressions cannot be used with this property')]):i4(H?new Xl(y?"camera":"composite",p.value,H.labels,H instanceof Is?H.interpolation:void 0,R):new Ly(y?"constant":"source",p.value,R)):Ic([new Yl("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression, or in the properties of atmosphere.')])}class cv{constructor(l,d){this._parameters=l,this._specification=d,Ah(this,s4(this._parameters,this._specification))}static deserialize(l){return new cv(l._parameters,l._specification)}static serialize(l){return{_parameters:l._parameters,_specification:l._specification}}}function dv(p){let l=null;if(p instanceof nv)l=dv(p.result);else if(p instanceof tv){for(const d of p.args)if(l=dv(d),l)break}else(p instanceof Op||p instanceof Is)&&p.input instanceof os&&p.input.name==="zoom"&&(l=p);return l instanceof Yl||p.eachChild(d=>{const g=dv(d);g instanceof Yl?l=g:l&&g&&l!==g&&(l=new Yl("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),l}var hv,Ry,d4=function(){if(Ry)return hv;Ry=1,hv=l;var p=3;function l(d,g,S){var y=this.cells=[];if(d instanceof ArrayBuffer){this.arrayBuffer=d;var C=new Int32Array(this.arrayBuffer);d=C[0],this.d=(g=C[1])+2*(S=C[2]);for(var R=0;R<this.d*this.d;R++){var N=C[p+R],H=C[p+R+1];y.push(N===H?null:C.subarray(N,H))}var P=C[p+y.length+1];this.keys=C.subarray(C[p+y.length],P),this.bboxes=C.subarray(P),this.insert=this._insertReadonly}else{this.d=g+2*S;for(var O=0;O<this.d*this.d;O++)y.push([]);this.keys=[],this.bboxes=[]}this.n=g,this.extent=d,this.padding=S,this.scale=g/d,this.uid=0;var V=S/g*d;this.min=-V,this.max=d+V}return l.prototype.insert=function(d,g,S,y,C){this._forEachCell(g,S,y,C,this._insertCell,this.uid++),this.keys.push(d),this.bboxes.push(g),this.bboxes.push(S),this.bboxes.push(y),this.bboxes.push(C)},l.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},l.prototype._insertCell=function(d,g,S,y,C,R){this.cells[C].push(R)},l.prototype.query=function(d,g,S,y,C){var R=this.min,N=this.max;if(d<=R&&g<=R&&N<=S&&N<=y&&!C)return Array.prototype.slice.call(this.keys);var H=[];return this._forEachCell(d,g,S,y,this._queryCell,H,{},C),H},l.prototype._queryCell=function(d,g,S,y,C,R,N,H){var P=this.cells[C];if(P!==null)for(var O=this.keys,V=this.bboxes,F=0;F<P.length;F++){var $=P[F];if(N[$]===void 0){var G=4*$;(H?H(V[G+0],V[G+1],V[G+2],V[G+3]):d<=V[G+2]&&g<=V[G+3]&&S>=V[G+0]&&y>=V[G+1])?(N[$]=!0,R.push(O[$])):N[$]=!1}}},l.prototype._forEachCell=function(d,g,S,y,C,R,N,H){for(var P=this._convertToCellCoord(d),O=this._convertToCellCoord(g),V=this._convertToCellCoord(S),F=this._convertToCellCoord(y),$=P;$<=V;$++)for(var G=O;G<=F;G++){var Y=this.d*G+$;if((!H||H(this._convertFromCellCoord($),this._convertFromCellCoord(G),this._convertFromCellCoord($+1),this._convertFromCellCoord(G+1)))&&C.call(this,d,g,S,y,Y,R,N,H))return}},l.prototype._convertFromCellCoord=function(d){return(d-this.padding)/this.scale},l.prototype._convertToCellCoord=function(d){return Math.max(0,Math.min(this.d-1,Math.floor(d*this.scale)+this.padding))},l.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var d=this.cells,g=p+this.cells.length+1+1,S=0,y=0;y<this.cells.length;y++)S+=this.cells[y].length;var C=new Int32Array(g+S+this.keys.length+this.bboxes.length);C[0]=this.extent,C[1]=this.n,C[2]=this.padding;for(var R=g,N=0;N<d.length;N++){var H=d[N];C[p+N]=R,C.set(H,R),R+=H.length}return C[p+d.length]=R,C.set(this.keys,R),C[p+d.length+1]=R+=this.keys.length,C.set(this.bboxes,R),R+=this.bboxes.length,C.buffer},hv}(),Ed=h(d4);const qh={};function Un(p,l,d={}){Object.defineProperty(p,"_classRegistryKey",{value:l,writable:!1}),qh[l]={klass:p,omit:d.omit||[]}}Un(Object,"Object"),Ed.serialize=function(p,l){const d=p.toArrayBuffer();return l&&l.add(d),{buffer:d}},Ed.deserialize=function(p){return new Ed(p.buffer)},Object.defineProperty(Ed,"name",{value:"Grid"}),Un(Ed,"Grid"),Un(Ii,"Color"),Un(Error,"Error"),Un(zo,"Formatted"),Un(Ts,"FormattedSection"),Un(X_,"AJAXError"),Un(Go,"ResolvedImage"),Un(cv,"StylePropertyFunction"),Un(lv,"StyleExpression",{omit:["_evaluator"]}),Un(Xl,"ZoomDependentExpression"),Un(Ly,"ZoomConstantExpression"),Un(os,"CompoundExpression",{omit:["_evaluate"]});for(const p in Wh)qh[Wh[p]._classRegistryKey]||Un(Wh[p],`Expression${p}`);function Dy(p){return p&&typeof ArrayBuffer<"u"&&(p instanceof ArrayBuffer||p.constructor&&p.constructor.name==="ArrayBuffer")}function h4(p){return self.ImageBitmap&&p instanceof ImageBitmap}function ss(p,l){if(p==null||typeof p=="boolean"||typeof p=="number"||typeof p=="string"||p instanceof Boolean||p instanceof Number||p instanceof String||p instanceof Date||p instanceof RegExp)return p;if(Dy(p)||h4(p))return l&&l.add(p),p;if(ArrayBuffer.isView(p)){const d=p;return l&&l.add(d.buffer),d}if(p instanceof ImageData)return l&&l.add(p.data.buffer),p;if(Array.isArray(p)){const d=[];for(const g of p)d.push(ss(g,l));return d}if(p instanceof Map){const d={$name:"Map"};for(const[g,S]of p.entries())d[g]=ss(S);return d}if(p instanceof Set){const d={$name:"Set"};let g=0;for(const S of p.values())d[++g]=ss(S);return d}if(typeof p=="object"){const d=p.constructor,g=d._classRegistryKey;if(!g)throw new Error(`can't serialize object of unregistered class ${g}`);const S=d.serialize?d.serialize(p,l):{};if(!d.serialize){for(const y in p)p.hasOwnProperty(y)&&(qh[g].omit.indexOf(y)>=0||(S[y]=ss(p[y],l)));p instanceof Error&&(S.message=p.message)}if(S.$name)throw new Error("$name property is reserved for worker serialization logic.");return g!=="Object"&&(S.$name=g),S}throw new Error("can't serialize object of type "+typeof p)}function Ad(p){if(p==null||typeof p=="boolean"||typeof p=="number"||typeof p=="string"||p instanceof Boolean||p instanceof Number||p instanceof String||p instanceof Date||p instanceof RegExp||Dy(p)||h4(p)||ArrayBuffer.isView(p)||p instanceof ImageData)return p;if(Array.isArray(p))return p.map(Ad);if(typeof p=="object"){const l=p.$name||"Object";if(l==="Map"){const S=new Map;for(const y of Object.keys(p))y!=="$name"&&S.set(y,Ad(p[y]));return S}if(l==="Set"){const S=new Set;for(const y of Object.keys(p))y!=="$name"&&S.add(Ad(p[y]));return S}const{klass:d}=qh[l];if(!d)throw new Error(`can't deserialize unregistered class ${l}`);if(d.deserialize)return d.deserialize(p);const g=Object.create(d.prototype);for(const S of Object.keys(p))S!=="$name"&&(g[S]=Ad(p[S]));return g}throw new Error("can't deserialize object of type "+typeof p)}const nr={"Latin-1 Supplement":p=>p>=128&&p<=255,Arabic:p=>p>=1536&&p<=1791,"Arabic Supplement":p=>p>=1872&&p<=1919,"Arabic Extended-A":p=>p>=2208&&p<=2303,"Hangul Jamo":p=>p>=4352&&p<=4607,"Unified Canadian Aboriginal Syllabics":p=>p>=5120&&p<=5759,Khmer:p=>p>=6016&&p<=6143,"Unified Canadian Aboriginal Syllabics Extended":p=>p>=6320&&p<=6399,"General Punctuation":p=>p>=8192&&p<=8303,"Letterlike Symbols":p=>p>=8448&&p<=8527,"Number Forms":p=>p>=8528&&p<=8591,"Miscellaneous Technical":p=>p>=8960&&p<=9215,"Control Pictures":p=>p>=9216&&p<=9279,"Optical Character Recognition":p=>p>=9280&&p<=9311,"Enclosed Alphanumerics":p=>p>=9312&&p<=9471,"Geometric Shapes":p=>p>=9632&&p<=9727,"Miscellaneous Symbols":p=>p>=9728&&p<=9983,"Miscellaneous Symbols and Arrows":p=>p>=11008&&p<=11263,"CJK Radicals Supplement":p=>p>=11904&&p<=12031,"Kangxi Radicals":p=>p>=12032&&p<=12255,"Ideographic Description Characters":p=>p>=12272&&p<=12287,"CJK Symbols and Punctuation":p=>p>=12288&&p<=12351,Hiragana:p=>p>=12352&&p<=12447,Katakana:p=>p>=12448&&p<=12543,Bopomofo:p=>p>=12544&&p<=12591,"Hangul Compatibility Jamo":p=>p>=12592&&p<=12687,Kanbun:p=>p>=12688&&p<=12703,"Bopomofo Extended":p=>p>=12704&&p<=12735,"CJK Strokes":p=>p>=12736&&p<=12783,"Katakana Phonetic Extensions":p=>p>=12784&&p<=12799,"Enclosed CJK Letters and Months":p=>p>=12800&&p<=13055,"CJK Compatibility":p=>p>=13056&&p<=13311,"CJK Unified Ideographs Extension A":p=>p>=13312&&p<=19903,"Yijing Hexagram Symbols":p=>p>=19904&&p<=19967,"CJK Unified Ideographs":p=>p>=19968&&p<=40959,"Yi Syllables":p=>p>=40960&&p<=42127,"Yi Radicals":p=>p>=42128&&p<=42191,"Hangul Jamo Extended-A":p=>p>=43360&&p<=43391,"Hangul Syllables":p=>p>=44032&&p<=55215,"Hangul Jamo Extended-B":p=>p>=55216&&p<=55295,"Private Use Area":p=>p>=57344&&p<=63743,"CJK Compatibility Ideographs":p=>p>=63744&&p<=64255,"Arabic Presentation Forms-A":p=>p>=64336&&p<=65023,"Vertical Forms":p=>p>=65040&&p<=65055,"CJK Compatibility Forms":p=>p>=65072&&p<=65103,"Small Form Variants":p=>p>=65104&&p<=65135,"Arabic Presentation Forms-B":p=>p>=65136&&p<=65279,"Halfwidth and Fullwidth Forms":p=>p>=65280&&p<=65519,"CJK Unified Ideographs Extension B":p=>p>=131072&&p<=173791};function fv(p){for(const l of p)if(mv(l.charCodeAt(0)))return!0;return!1}function ET(p){for(const l of p)if(!pv(l.charCodeAt(0)))return!1;return!0}function pv(p){return!(nr.Arabic(p)||nr["Arabic Supplement"](p)||nr["Arabic Extended-A"](p)||nr["Arabic Presentation Forms-A"](p)||nr["Arabic Presentation Forms-B"](p))}function mv(p){return!(p!==746&&p!==747&&(p<4352||!(nr["Bopomofo Extended"](p)||nr.Bopomofo(p)||nr["CJK Compatibility Forms"](p)&&!(p>=65097&&p<=65103)||nr["CJK Compatibility Ideographs"](p)||nr["CJK Compatibility"](p)||nr["CJK Radicals Supplement"](p)||nr["CJK Strokes"](p)||!(!nr["CJK Symbols and Punctuation"](p)||p>=12296&&p<=12305||p>=12308&&p<=12319||p===12336)||nr["CJK Unified Ideographs Extension A"](p)||nr["CJK Unified Ideographs"](p)||nr["Enclosed CJK Letters and Months"](p)||nr["Hangul Compatibility Jamo"](p)||nr["Hangul Jamo Extended-A"](p)||nr["Hangul Jamo Extended-B"](p)||nr["Hangul Jamo"](p)||nr["Hangul Syllables"](p)||nr.Hiragana(p)||nr["Ideographic Description Characters"](p)||nr.Kanbun(p)||nr["Kangxi Radicals"](p)||nr["Katakana Phonetic Extensions"](p)||nr.Katakana(p)&&p!==12540||!(!nr["Halfwidth and Fullwidth Forms"](p)||p===65288||p===65289||p===65293||p>=65306&&p<=65310||p===65339||p===65341||p===65343||p>=65371&&p<=65503||p===65507||p>=65512&&p<=65519)||!(!nr["Small Form Variants"](p)||p>=65112&&p<=65118||p>=65123&&p<=65126)||nr["Unified Canadian Aboriginal Syllabics"](p)||nr["Unified Canadian Aboriginal Syllabics Extended"](p)||nr["Vertical Forms"](p)||nr["Yijing Hexagram Symbols"](p)||nr["Yi Syllables"](p)||nr["Yi Radicals"](p))))}function Hp(p){return!(mv(p)||function(l){return!!(nr["Latin-1 Supplement"](l)&&(l===167||l===169||l===174||l===177||l===188||l===189||l===190||l===215||l===247)||nr["General Punctuation"](l)&&(l===8214||l===8224||l===8225||l===8240||l===8241||l===8251||l===8252||l===8258||l===8263||l===8264||l===8265||l===8273)||nr["Letterlike Symbols"](l)||nr["Number Forms"](l)||nr["Miscellaneous Technical"](l)&&(l>=8960&&l<=8967||l>=8972&&l<=8991||l>=8996&&l<=9e3||l===9003||l>=9085&&l<=9114||l>=9150&&l<=9165||l===9167||l>=9169&&l<=9179||l>=9186&&l<=9215)||nr["Control Pictures"](l)&&l!==9251||nr["Optical Character Recognition"](l)||nr["Enclosed Alphanumerics"](l)||nr["Geometric Shapes"](l)||nr["Miscellaneous Symbols"](l)&&!(l>=9754&&l<=9759)||nr["Miscellaneous Symbols and Arrows"](l)&&(l>=11026&&l<=11055||l>=11088&&l<=11097||l>=11192&&l<=11243)||nr["CJK Symbols and Punctuation"](l)||nr.Katakana(l)||nr["Private Use Area"](l)||nr["CJK Compatibility Forms"](l)||nr["Small Form Variants"](l)||nr["Halfwidth and Fullwidth Forms"](l)||l===8734||l===8756||l===8757||l>=9984&&l<=10087||l>=10102&&l<=10131||l===65532||l===65533)}(p))}function Oy(p){return p>=1424&&p<=2303||nr["Arabic Presentation Forms-A"](p)||nr["Arabic Presentation Forms-B"](p)}function AT(p,l){return!(!l&&Oy(p)||p>=2304&&p<=3583||p>=3840&&p<=4255||nr.Khmer(p))}function IT(p){for(const l of p)if(Oy(l.charCodeAt(0)))return!0;return!1}const Up="deferred",jp="loading",vv="loaded";let Kh=null,uo="unavailable",kc=null;const f4=function(p){p&&typeof p=="string"&&p.indexOf("NetworkError")>-1&&(uo="error"),Kh&&Kh(p)};function zy(){By.fire(new Cc("pluginStateChange",{pluginStatus:uo,pluginURL:kc}))}const By=new Eh,Fy=function(){return uo},Ny=function(){if(uo!==Up||!kc)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");uo=jp,zy(),kc&&Th({url:kc},p=>{p?f4(p):(uo=vv,zy())})},ls={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>uo===vv||ls.applyArabicShaping!=null,isLoading:()=>uo===jp,setState(p){uo=p.pluginStatus,kc=p.pluginURL},isParsed:()=>ls.applyArabicShaping!=null&&ls.processBidirectionalText!=null&&ls.processStyledBidirectionalText!=null,getPluginURL:()=>kc};class ya{constructor(l,d){this.zoom=l,d?(this.now=d.now,this.fadeDuration=d.fadeDuration,this.transition=d.transition,this.pitch=d.pitch,this.brightness=d.brightness):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0,this.brightness=0)}isSupportedScript(l){return function(d,g){for(const S of d)if(!AT(S.charCodeAt(0),g))return!1;return!0}(l,ls.isLoaded())}}class gv{constructor(l,d,g,S){this.property=l,this.value=d,this.expression=function(y,C,R,N){if(sv(y))return new cv(y,C);if(uv(y)||Array.isArray(y)&&y.length>0){const H=c4(y,C,R,N);if(H.result==="error")throw new Error(H.value.map(P=>`${P.key}: ${P.message}`).join(", "));return H.value}{let H=y;return typeof y=="string"&&C.type==="color"&&(H=Ii.parse(y)),{kind:"constant",configDependencies:new Set,evaluate:()=>H}}}(d===void 0?l.specification.default:d,l.specification,g,S)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(l,d,g){return this.property.possiblyEvaluate(this,l,d,g)}}class $y{constructor(l,d,g){this.property=l,this.value=new gv(l,void 0,d,g)}transitioned(l,d){return new m4(this.property,this.value,d,sr({},l.transition,this.transition),l.now)}untransitioned(){return new m4(this.property,this.value,null,{},0)}}class p4{constructor(l,d,g){this._properties=l,this._values=Object.create(l.defaultTransitionablePropertyValues),this._scope=d,this._options=g,this.configDependencies=new Set}getValue(l){return qn(this._values[l].value.value)}setValue(l,d){this._values.hasOwnProperty(l)||(this._values[l]=new $y(this._values[l].property,this._scope,this._options)),this._values[l].value=new gv(this._values[l].property,d===null?void 0:qn(d),this._scope,this._options),this._values[l].value.expression.configDependencies&&(this.configDependencies=new Set([...this.configDependencies,...this._values[l].value.expression.configDependencies]))}setTransitionOrValue(l,d){d&&(this._options=d);const g=this._properties.properties;if(l)for(const S in l){const y=l[S];if(ht(S,"-transition")){const C=S.slice(0,-11);g[C]&&this.setTransition(C,y)}else g.hasOwnProperty(S)&&this.setValue(S,y)}}getTransition(l){return qn(this._values[l].transition)}setTransition(l,d){this._values.hasOwnProperty(l)||(this._values[l]=new $y(this._values[l].property)),this._values[l].transition=qn(d)||void 0}serialize(){const l={};for(const d of Object.keys(this._values)){const g=this.getValue(d);g!==void 0&&(l[d]=g);const S=this.getTransition(d);S!==void 0&&(l[`${d}-transition`]=S)}return l}transitioned(l,d){const g=new v4(this._properties);for(const S of Object.keys(this._values))g._values[S]=this._values[S].transitioned(l,d._values[S]);return g}untransitioned(){const l=new v4(this._properties);for(const d of Object.keys(this._values))l._values[d]=this._values[d].untransitioned();return l}}class m4{constructor(l,d,g,S,y){const C=S.delay||0,R=S.duration||0;y=y||0,this.property=l,this.value=d,this.begin=y+C,this.end=this.begin+R,l.specification.transition&&(S.delay||S.duration)&&(this.prior=g)}possiblyEvaluate(l,d,g){const S=l.now||0,y=this.value.possiblyEvaluate(l,d,g),C=this.prior;if(C){if(S>this.end)return this.prior=null,y;if(this.value.isDataDriven())return this.prior=null,y;if(S<this.begin)return C.possiblyEvaluate(l,d,g);{const R=(S-this.begin)/(this.end-this.begin);return this.property.interpolate(C.possiblyEvaluate(l,d,g),y,hn(R))}}return y}}class v4{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitioningPropertyValues)}possiblyEvaluate(l,d,g){const S=new Zh(this._properties);for(const y of Object.keys(this._values))S._values[y]=this._values[y].possiblyEvaluate(l,d,g);return S}hasTransition(){for(const l of Object.keys(this._values))if(this._values[l].prior)return!0;return!1}}class kT{constructor(l,d,g){this._properties=l,this._values=Object.create(l.defaultPropertyValues),this._scope=d,this._options=g,this.configDependencies=new Set}getValue(l){return qn(this._values[l].value)}setValue(l,d){this._values[l]=new gv(this._values[l].property,d===null?void 0:qn(d),this._scope,this._options),this._values[l].expression.configDependencies&&(this.configDependencies=new Set([...this.configDependencies,...this._values[l].expression.configDependencies]))}serialize(){const l={};for(const d of Object.keys(this._values)){const g=this.getValue(d);g!==void 0&&(l[d]=g)}return l}possiblyEvaluate(l,d,g){const S=new Zh(this._properties);for(const y of Object.keys(this._values))S._values[y]=this._values[y].possiblyEvaluate(l,d,g);return S}}class Yh{constructor(l,d,g){this.property=l,this.value=d,this.parameters=g}isConstant(){return this.value.kind==="constant"}constantOr(l){return this.value.kind==="constant"?this.value.value:l}evaluate(l,d,g,S){return this.property.evaluate(this.value,this.parameters,l,d,g,S)}}class Zh{constructor(l){this._properties=l,this._values=Object.create(l.defaultPossiblyEvaluatedValues)}get(l){return this._values[l]}}class Mn{constructor(l){this.specification=l}possiblyEvaluate(l,d){return l.expression.evaluate(d)}interpolate(l,d,g){const S=xd[this.specification.type];return S?S(l,d,g):l}}class ir{constructor(l,d){this.specification=l,this.overrides=d}possiblyEvaluate(l,d,g,S){return new Yh(this,l.expression.kind==="constant"||l.expression.kind==="camera"?{kind:"constant",value:l.expression.evaluate(d,null,{},g,S)}:l.expression,d)}interpolate(l,d,g){if(l.value.kind!=="constant"||d.value.kind!=="constant")return l;if(l.value.value===void 0||d.value.value===void 0)return new Yh(this,{kind:"constant",value:void 0},l.parameters);const S=xd[this.specification.type];return S?new Yh(this,{kind:"constant",value:S(l.value.value,d.value.value,g)},l.parameters):l}evaluate(l,d,g,S,y,C){return l.kind==="constant"?l.value:l.evaluate(d,g,S,y,C)}}class Tl{constructor(l){this.specification=l}possiblyEvaluate(l,d,g,S){return!!l.expression.evaluate(d,null,{},g,S)}interpolate(){return!1}}class la{constructor(l){this.properties=l,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const d=new ya(0,{});for(const g in l){const S=l[g];S.specification.overridable&&this.overridableProperties.push(g);const y=this.defaultPropertyValues[g]=new gv(S,void 0),C=this.defaultTransitionablePropertyValues[g]=new $y(S);this.defaultTransitioningPropertyValues[g]=C.untransitioned(),this.defaultPossiblyEvaluatedValues[g]=y.possiblyEvaluate(d)}}}Un(ir,"DataDrivenProperty"),Un(Mn,"DataConstantProperty"),Un(Tl,"ColorRampProperty");var Ot=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"fragment":{"type":"boolean"},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360},"pitch":{"type":"number","default":0},"light":{"type":"light"},"lights":{"required":false,"type":"array","value":"light-3d"},"terrain":{"type":"terrain","optional":true},"fog":{"type":"fog"},"camera":{"type":"camera"},"color-theme":{"type":"colorTheme"},"imports":{"type":"array","value":"import"},"schema":{"type":"schema"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string","default":"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"},"models":{"type":"models"},"featuresets":{"experimental":true,"type":"featuresets"}},"featuresets":{"experimental":true,"*":{"type":"featureset"}},"featureset":{"experimental":true,"selectors":{"type":"array","value":"selector"}},"selector":{"experimental":true,"layer":{"type":"string","required":true},"properties":{"type":"selectorProperty","required":false},"featureNamespace":{"type":"string","required":false}},"selectorProperty":{"experimental":true,"*":{"type":"*"}},"model":{"type":"string","required":true},"import":{"id":{"type":"string","required":true},"url":{"type":"string","required":true},"config":{"type":"config"},"data":{"type":"$root"}},"config":{"*":{"type":"*"}},"schema":{"*":{"type":"option"}},"option":{"default":{"type":"*","property-type":"data-constant","expression":{},"required":true},"type":{"type":"enum","values":{"string":1,"number":1,"boolean":1,"color":1}},"array":{"type":"boolean"},"minValue":{"type":"number"},"maxValue":{"type":"number"},"stepValue":{"type":"number"},"values":{"type":"array","value":"*"},"metadata":{"type":"*"}},"models":{"*":{"type":"model"}},"light-3d":{"id":{"type":"string","required":true},"properties":{"type":"properties"},"type":{"type":"enum","values":{"ambient":{},"directional":{},"flat":{}}}},"properties":["properties_light_directional","properties_light_ambient","properties_light_flat"],"properties_light_directional":{"direction":{"type":"array","default":[210,30],"minimum":[0,0],"maximum":[360,90],"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"cast-shadows":{"type":"boolean","default":false,"property-type":"data-constant"},"shadow-intensity":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"properties_light_ambient":{"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"properties_light_flat":{"anchor":{"type":"enum","default":"viewport","values":{"map":1,"viewport":1},"property-type":"data-constant","expression":{"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_raster_array","source_geojson","source_video","source_image","source_model"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":1,"tms":1},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"scheme":{"type":"enum","values":{"xyz":1,"tms":1},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":1,"mapbox":1},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_array":{"experimental":true,"type":{"required":true,"type":"enum","values":{"raster-array":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"attribution":{"type":"string"},"rasterLayers":{"type":"*"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":1}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"minzoom":{"type":"number","default":0},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"},"dynamic":{"type":"boolean","default":false}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":1}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":1}},"url":{"required":false,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_model":{"type":{"required":true,"type":"enum","values":{"model":1,"batched-model":1}},"maxzoom":{"type":"number","default":18},"minzoom":{"type":"number","default":0},"tiles":{"type":"array","value":"string"}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"raster-particle":{"experimental":true},"hillshade":{},"model":{"experimental":true},"background":{},"sky":{},"slot":{},"clip":{"experimental":true}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"slot":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_clip","layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_raster-particle","layout_hillshade","layout_background","layout_sky","layout_model"],"layout_background":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_model":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"model-id":{"type":"string","default":"","property-type":"data-driven","expression":{"parameters":["zoom","feature"]}}},"layout_clip":{"clip-layer-types":{"type":"array","value":"enum","values":{"model":1,"symbol":1},"default":[],"expression":{},"property-type":"data-constant","experimental":true},"clip-layer-scope":{"type":"array","value":"string","default":[],"expression":{},"property-type":"data-constant","experimental":true}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","experimental":true,"default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":1,"round":1,"square":1},"default":"butt","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":1,"round":1,"miter":1,"none":1},"default":"miter","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-z-offset":{"type":"number","experimental":true,"expression":{"parameters":["zoom","feature","line-progress"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":1,"line":1,"line-center":1},"default":"point","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":1,"viewport-y":1,"source":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-z-elevate":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":1,"width":1,"height":1,"both":1},"default":"none","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":1,"left":1,"center":1,"right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","default":0,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":1,"vertical":1},"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":1,"uppercase":1,"lowercase":1},"default":"none","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","length":2,"default":[0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_raster-particle":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":1,"!=":1,">":1,">=":1,"<":1,"<=":1,"in":1,"!in":1,"all":1,"any":1,"none":1,"has":1,"!has":1}},"geometry_type":{"type":"enum","values":{"Point":1,"LineString":1,"Polygon":1}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":1,"exponential":1,"interval":1,"categorical":1},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":1,"lab":1,"hcl":1},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vertical-range":{"type":"array","default":[0,0],"minimum":0,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}}},"camera":{"camera-projection":{"type":"enum","values":{"perspective":1,"orthographic":1},"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"default":"perspective","property-type":"data-constant"}},"colorTheme":{"data":{"type":"string","property-type":"data-constant","expression":{}}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":1,"viewport":1},"property-type":"data-constant","expression":{"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":1,"equalEarth":1,"equirectangular":1,"lambertConformalConic":1,"mercator":1,"naturalEarth":1,"winkelTripel":1,"globe":1},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_raster-particle","paint_hillshade","paint_background","paint_sky","paint_model"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"fill-z-offset":{"type":"number","default":0,"minimum":0,"transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-wall-radius":{"property-type":"data-constant","type":"number","experimental":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-ground-radius":{"property-type":"data-constant","type":"number","experimental":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-ground-attenuation":{"property-type":"data-constant","type":"number","experimental":true,"default":0.69,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-flood-light-color":{"property-type":"data-constant","type":"color","experimental":true,"default":"#ffffff","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]}},"fill-extrusion-flood-light-intensity":{"property-type":"data-constant","type":"number","experimental":true,"default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]}},"fill-extrusion-flood-light-wall-radius":{"property-type":"data-driven","type":"number","experimental":true,"default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["feature","feature-state"]}},"fill-extrusion-flood-light-ground-radius":{"property-type":"data-driven","type":"number","experimental":true,"default":0,"transition":true,"expression":{"interpolated":true,"parameters":["feature","feature-state"]}},"fill-extrusion-flood-light-ground-attenuation":{"property-type":"data-constant","type":"number","experimental":true,"default":0.69,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-vertical-scale":{"property-type":"data-constant","type":"number","experimental":true,"default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-rounded-roof":{"property-type":"data-constant","type":"boolean","default":true,"experimental":true,"expression":{"parameters":["zoom"]}},"fill-extrusion-cutoff-fade-range":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"fill-extrusion-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light","feature-state"]},"property-type":"data-driven"},"fill-extrusion-line-width":{"type":"number","default":0,"minimum":0,"transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-extrusion-cast-shadows":{"type":"boolean","default":true,"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"property-type":"constant"},"line-trim-fade-range":{"type":"array","value":"number","experimental":true,"length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"line-trim-color":{"type":"color","experimental":true,"default":"transparent","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"line-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"line-border-width":{"type":"number","private":true,"default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-border-color":{"type":"color","private":true,"default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-occlusion-opacity":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"property-type":"data-constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1},"default":"viewport","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-occlusion-opacity":{"type":"number","minimum":0,"maximum":1,"default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-emissive-strength":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light","feature-state"]},"property-type":"data-driven"},"text-emissive-strength":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-image-cross-fade":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"transition":true},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-occlusion-opacity":{"type":"number","minimum":0,"maximum":1,"default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-color-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"expression":{},"property-type":"data-constant"},"icon-color-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"expression":{},"property-type":"data-constant"},"icon-color-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"icon-color-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"symbol-z-offset":{"type":"number","default":0,"minimum":0,"transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-elevation-reference":{"type":"enum","values":{"sea":1,"ground":1},"default":"ground","experimental":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-color":{"type":"color","expression":{"interpolated":true,"parameters":["raster-value"]},"property-type":"color-ramp"},"raster-color-mix":{"type":"array","default":[0.2126,0.7152,0.0722,0],"length":4,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"raster-color-range":{"type":"array","length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":1,"nearest":1},"default":"linear","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"raster-array-band":{"type":"string","required":false,"experimental":true,"property-type":"data-constant"},"raster-elevation":{"type":"number","default":0,"minimum":0,"transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster-particle":{"raster-particle-array-band":{"type":"string","required":false,"property-type":"data-constant"},"raster-particle-count":{"type":"number","default":512,"minimum":1,"property-type":"data-constant"},"raster-particle-color":{"type":"color","expression":{"interpolated":true,"parameters":["raster-particle-speed"]},"property-type":"color-ramp"},"raster-particle-max-speed":{"type":"number","default":1,"minimum":1,"property-type":"data-constant"},"raster-particle-speed-factor":{"type":"number","default":0.2,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-particle-fade-opacity-factor":{"type":"number","default":0.98,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-particle-reset-rate-factor":{"type":"number","default":0.8,"minimum":0,"maximum":1,"property-type":"data-constant"},"raster-particle-elevation":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"viewport","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_background":{"background-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":[]},"property-type":"data-constant"},"background-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":1,"atmosphere":1},"default":"atmosphere","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"minimum":[0,0],"maximum":[360,180],"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","default":10,"minimum":0,"maximum":100,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","value":"number","default":[0,0],"length":2,"minimum":[0,0],"maximum":[360,180],"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","default":90,"minimum":0,"maximum":180,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_model":{"model-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"model-rotation":{"type":"array","value":"number","length":3,"default":[0,0,0],"period":360,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-scale":{"type":"array","value":"number","length":3,"default":[1,1,1],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-translation":{"type":"array","value":"number","length":3,"default":[0,0,0],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-color":{"type":"color","default":"#ffffff","property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light","zoom"]},"transition":true},"model-color-mix-intensity":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-type":{"type":"enum","values":{"common-3d":1,"location-indicator":1},"default":"common-3d","property-type":"data-constant"},"model-cast-shadows":{"type":"boolean","default":true,"property-type":"data-constant"},"model-receive-shadows":{"type":"boolean","default":true,"property-type":"data-constant"},"model-ambient-occlusion-intensity":{"type":"number","default":1,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant","transition":true},"model-emissive-strength":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":5,"expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-roughness":{"type":"number","default":1,"minimum":0,"maximum":1,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state"]},"transition":true},"model-height-based-emissive-strength-multiplier":{"type":"array","default":[1,1,1,1,0],"length":5,"value":"number","property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-cutoff-fade-range":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"model-front-cutoff":{"type":"array","private":true,"value":"number","property-type":"data-constant","expression":{"interpolated":true,"parameters":["zoom"]},"length":3,"default":[0,0,1],"minimum":[0,0,0],"maximum":[1,1,1]}},"transition":{"duration":{"type":"number","default":300,"minimum":0},"delay":{"type":"number","default":0,"minimum":0}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function Gp(p){return p instanceof Number||p instanceof String||p instanceof Boolean?p.valueOf():p}function _v(p){if(Array.isArray(p))return p.map(_v);if(p instanceof Object&&!(p instanceof Number||p instanceof String||p instanceof Boolean)){const l={};for(const d in p)l[d]=_v(p[d]);return l}return Gp(p)}function Vy(p){if(p===!0||p===!1)return!0;if(!Array.isArray(p)||p.length===0)return!1;switch(p[0]){case"has":return p.length>=2&&p[1]!=="$id"&&p[1]!=="$type";case"in":return p.length>=3&&(typeof p[1]!="string"||Array.isArray(p[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return p.length!==3||Array.isArray(p[1])||Array.isArray(p[2]);case"any":case"all":for(const l of p.slice(1))if(!Vy(l)&&typeof l!="boolean")return!1;return!0;default:return!0}}function Ml(p,l="",d=null,g="fill"){if(p==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};Vy(p)||(p=yv(p));const S=p;let y=!0;try{y=function(O){if(!Xh(O))return O;let V=_v(O);return Id(V),V=Hy(V),V}(S)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(S,null,2)}
        `)}const C=Ot[`filter_${g}`],R=Vp(y,C,l,d);let N=null;if(R.result==="error")throw new Error(R.value.map(O=>`${O.key}: ${O.message}`).join(", "));N=(O,V,F)=>R.value.evaluate(O,V,{},F);let H=null,P=null;if(y!==S){const O=Vp(S,C,l,d);if(O.result==="error")throw new Error(O.value.map(V=>`${V.key}: ${V.message}`).join(", "));H=(V,F,$,G,Y)=>O.value.evaluate(V,F,{},$,void 0,void 0,G,Y),P=!Rp(O.value.expression)}return{filter:N,dynamicFilter:H||void 0,needGeometry:g4(y),needFeature:!!P}}function Hy(p){if(!Array.isArray(p))return p;const l=function(d){if(PT.has(d[0])){for(let g=1;g<d.length;g++)if(Xh(d[g]))return!0}return d}(p);return l===!0?l:l.map(d=>Hy(d))}function Id(p){let l=!1;const d=[];if(p[0]==="case"){for(let g=1;g<p.length-1;g+=2)l=l||Xh(p[g]),d.push(p[g+1]);d.push(p[p.length-1])}else if(p[0]==="match"){l=l||Xh(p[1]);for(let g=2;g<p.length-1;g+=2)d.push(p[g+1]);d.push(p[p.length-1])}else if(p[0]==="step"){l=l||Xh(p[1]);for(let g=1;g<p.length-1;g+=2)d.push(p[g+1])}l&&(p.length=0,p.push("any",...d));for(let g=1;g<p.length;g++)Id(p[g])}function Xh(p){if(!Array.isArray(p))return!1;if((l=p[0])==="pitch"||l==="distance-from-center")return!0;var l;for(let d=1;d<p.length;d++)if(Xh(p[d]))return!0;return!1}const PT=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function LT(p,l){return p<l?-1:p>l?1:0}function g4(p){if(!Array.isArray(p))return!1;if(p[0]==="within"||p[0]==="distance")return!0;for(let l=1;l<p.length;l++)if(g4(p[l]))return!0;return!1}function yv(p){if(!p)return!0;const l=p[0];return p.length<=1?l!=="any":l==="=="?bv(p[1],p[2],"=="):l==="!="?qp(bv(p[1],p[2],"==")):l==="<"||l===">"||l==="<="||l===">="?bv(p[1],p[2],l):l==="any"?(d=p.slice(1),["any"].concat(d.map(yv))):l==="all"?["all"].concat(p.slice(1).map(yv)):l==="none"?["all"].concat(p.slice(1).map(yv).map(qp)):l==="in"?xv(p[1],p.slice(2)):l==="!in"?qp(xv(p[1],p.slice(2))):l==="has"?Wp(p[1]):l!=="!has"||qp(Wp(p[1]));var d}function bv(p,l,d){switch(p){case"$type":return[`filter-type-${d}`,l];case"$id":return[`filter-id-${d}`,l];default:return[`filter-${d}`,p,l]}}function xv(p,l){if(l.length===0)return!1;switch(p){case"$type":return["filter-type-in",["literal",l]];case"$id":return["filter-id-in",["literal",l]];default:return l.length>200&&!l.some(d=>typeof d!=typeof l[0])?["filter-in-large",p,["literal",l.sort(LT)]]:["filter-in-small",p,["literal",l]]}}function Wp(p){switch(p){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",p]}}function qp(p){return["!",p]}const Jh="";function _4(p,l){return l?`${p}${Jh}${l}`:p}const El="-transition",RT=new Set(["fill","line","background","hillshade","raster"]);class Bo extends Eh{constructor(l,d,g,S,y){if(super(),this.id=l.id,this.fqid=_4(this.id,g),this.type=l.type,this.scope=g,this.lut=S,this.options=y,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,this.configDependencies=new Set,l.type!=="custom"&&(this.metadata=l.metadata,this.minzoom=l.minzoom,this.maxzoom=l.maxzoom,l.type!=="background"&&l.type!=="sky"&&l.type!=="slot"&&(this.source=l.source,this.sourceLayer=l["source-layer"],this.filter=l.filter),l.slot&&(this.slot=l.slot),d.layout&&(this._unevaluatedLayout=new kT(d.layout,this.scope,y),this.configDependencies=new Set([...this.configDependencies,...this._unevaluatedLayout.configDependencies])),d.paint)){this._transitionablePaint=new p4(d.paint,this.scope,y);for(const C in l.paint)this.setPaintProperty(C,l.paint[C]);for(const C in l.layout)this.setLayoutProperty(C,l.layout[C]);this.configDependencies=new Set([...this.configDependencies,...this._transitionablePaint.configDependencies]),this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Zh(d.paint)}}onAdd(l){}onRemove(l){}isDraped(l){return!this.is3D()&&RT.has(this.type)}getLayoutProperty(l){return l==="visibility"?this.visibility:this._unevaluatedLayout.getValue(l)}setLayoutProperty(l,d){if(this.type==="custom"&&l==="visibility")return void(this.visibility=d);const g=this._unevaluatedLayout;g._properties.properties[l]&&(g.setValue(l,d),this.configDependencies=new Set([...this.configDependencies,...g.configDependencies]),l==="visibility"&&this.possiblyEvaluateVisibility())}possiblyEvaluateVisibility(){this.visibility=this._unevaluatedLayout._values.visibility.possiblyEvaluate({zoom:0})}getPaintProperty(l){return ht(l,El)?this._transitionablePaint.getTransition(l.slice(0,-11)):this._transitionablePaint.getValue(l)}setPaintProperty(l,d){const g=this._transitionablePaint,S=g._properties.properties;if(ht(l,El)){const O=l.slice(0,-11);return S[O]&&g.setTransition(O,d||void 0),!1}if(!S[l])return!1;const y=g._values[l],C=y.value.isDataDriven(),R=y.value;g.setValue(l,d),this.configDependencies=new Set([...this.configDependencies,...g.configDependencies]),this._handleSpecialPaintPropertyUpdate(l);const N=g._values[l].value,H=N.isDataDriven(),P=ht(l,"pattern")||l==="line-dasharray";return H||C||P||this._handleOverridablePaintPropertyUpdate(l,R,N)}_handleSpecialPaintPropertyUpdate(l){}getProgramIds(){return null}getDefaultProgramParams(l,d,g){return null}_handleOverridablePaintPropertyUpdate(l,d,g){return!1}isHidden(l){return!!(this.minzoom&&l<this.minzoom)||!!(this.maxzoom&&l>=this.maxzoom)||this.visibility==="none"}updateTransitions(l){this._transitioningPaint=this._transitionablePaint.transitioned(l,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(l,d){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(l,void 0,d)),this.paint=this._transitioningPaint.possiblyEvaluate(l,void 0,d)}serialize(){return Xt({id:this.id,type:this.type,slot:this.slot,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()},(l,d)=>!(l===void 0||d==="layout"&&!Object.keys(l).length||d==="paint"&&!Object.keys(l).length))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}hasShadowPass(){return!1}canCastShadows(){return!1}hasLightBeamPass(){return!1}cutoffRange(){return 0}tileCoverLift(){return 0}resize(){}isStateDependent(){for(const l in this.paint._values){const d=this.paint.get(l);if(d instanceof Yh&&ov(d.property.specification)&&(d.value.kind==="source"||d.value.kind==="composite")&&d.value.isStateDependent)return!0}return!1}compileFilter(l){this._filterCompiled||(this._featureFilter=Ml(this.filter,this.scope,l),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}getLayerRenderingStats(){return this._stats}resetLayerRenderingStats(l){this._stats&&(l.renderPass==="shadow"?this._stats.numRenderedVerticesInShadowPass=0:this._stats.numRenderedVerticesInTransparentPass=0)}queryRadius(l){}queryIntersectsFeature(l,d,g,S,y,C,R,N,H){}queryIntersectsMatchingFeature(l,d,g,S){}}const DT={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Kp{constructor(l,d){this._structArray=l,this._pos1=d*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class oa{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(l,d){return l._trim(),d&&(l.isTransferred=!0,d.add(l.arrayBuffer)),{length:l.length,arrayBuffer:l.arrayBuffer}}static deserialize(l){const d=Object.create(this.prototype);return d.arrayBuffer=l.arrayBuffer,d.length=l.length,d.capacity=l.arrayBuffer.byteLength/d.bytesPerElement,d._refreshViews(),d}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(l){this.reserve(l),this.length=l}reserve(l){if(l>this.capacity){this.capacity=Math.max(l,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const d=this.uint8;this._refreshViews(),d&&this.uint8.set(d)}}_refreshViews(){throw new Error("StructArray#_refreshViews() must be implemented by each concrete StructArray layout")}emplace(...l){throw new Error("StructArray#emplace() must be implemented by each concrete StructArray layout")}emplaceBack(...l){throw new Error("StructArray#emplaceBack() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function yi(p,l=1){let d=0,g=0;return{members:p.map(S=>{const y=DT[S.type].BYTES_PER_ELEMENT,C=d=y4(d,Math.max(l,y)),R=S.components||1;return g=Math.max(g,y),d+=y*R,{name:S.name,type:S.type,components:R,offset:C}}),size:y4(d,Math.max(g,l)),alignment:l}}function y4(p,l){return Math.ceil(p/l)*l}class Pc extends oa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d){const g=this.length;return this.resize(g+1),this.emplace(g,l,d)}emplace(l,d,g){const S=2*l;return this.int16[S+0]=d,this.int16[S+1]=g,l}}Pc.prototype.bytesPerElement=4,Un(Pc,"StructArrayLayout2i4");class wv extends oa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,g){const S=this.length;return this.resize(S+1),this.emplace(S,l,d,g)}emplace(l,d,g,S){const y=3*l;return this.int16[y+0]=d,this.int16[y+1]=g,this.int16[y+2]=S,l}}wv.prototype.bytesPerElement=6,Un(wv,"StructArrayLayout3i6");class Lc extends oa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,g,S){const y=this.length;return this.resize(y+1),this.emplace(y,l,d,g,S)}emplace(l,d,g,S,y){const C=4*l;return this.int16[C+0]=d,this.int16[C+1]=g,this.int16[C+2]=S,this.int16[C+3]=y,l}}Lc.prototype.bytesPerElement=8,Un(Lc,"StructArrayLayout4i8");class Sv extends oa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,g,S,y){const C=this.length;return this.resize(C+1),this.emplace(C,l,d,g,S,y)}emplace(l,d,g,S,y,C){const R=5*l;return this.int16[R+0]=d,this.int16[R+1]=g,this.int16[R+2]=S,this.int16[R+3]=y,this.int16[R+4]=C,l}}Sv.prototype.bytesPerElement=10,Un(Sv,"StructArrayLayout5i10");class Uy extends oa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,g,S,y,C,R){const N=this.length;return this.resize(N+1),this.emplace(N,l,d,g,S,y,C,R)}emplace(l,d,g,S,y,C,R,N){const H=6*l,P=12*l,O=3*l;return this.int16[H+0]=d,this.int16[H+1]=g,this.uint8[P+4]=S,this.uint8[P+5]=y,this.uint8[P+6]=C,this.uint8[P+7]=R,this.float32[O+2]=N,l}}Uy.prototype.bytesPerElement=12,Un(Uy,"StructArrayLayout2i4ub1f12");class Nu extends oa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,g,S){const y=this.length;return this.resize(y+1),this.emplace(y,l,d,g,S)}emplace(l,d,g,S,y){const C=4*l;return this.float32[C+0]=d,this.float32[C+1]=g,this.float32[C+2]=S,this.float32[C+3]=y,l}}Nu.prototype.bytesPerElement=16,Un(Nu,"StructArrayLayout4f16");class Rc extends oa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,g){const S=this.length;return this.resize(S+1),this.emplace(S,l,d,g)}emplace(l,d,g,S){const y=3*l;return this.float32[y+0]=d,this.float32[y+1]=g,this.float32[y+2]=S,l}}Rc.prototype.bytesPerElement=12,Un(Rc,"StructArrayLayout3f12");class $u extends oa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,g,S,y){const C=this.length;return this.resize(C+1),this.emplace(C,l,d,g,S,y)}emplace(l,d,g,S,y,C){const R=6*l,N=3*l;return this.uint16[R+0]=d,this.uint16[R+1]=g,this.uint16[R+2]=S,this.uint16[R+3]=y,this.float32[N+2]=C,l}}$u.prototype.bytesPerElement=12,Un($u,"StructArrayLayout4ui1f12");class kd extends oa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,g,S){const y=this.length;return this.resize(y+1),this.emplace(y,l,d,g,S)}emplace(l,d,g,S,y){const C=4*l;return this.uint16[C+0]=d,this.uint16[C+1]=g,this.uint16[C+2]=S,this.uint16[C+3]=y,l}}kd.prototype.bytesPerElement=8,Un(kd,"StructArrayLayout4ui8");class Cv extends oa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,g,S,y,C){const R=this.length;return this.resize(R+1),this.emplace(R,l,d,g,S,y,C)}emplace(l,d,g,S,y,C,R){const N=6*l;return this.int16[N+0]=d,this.int16[N+1]=g,this.int16[N+2]=S,this.int16[N+3]=y,this.int16[N+4]=C,this.int16[N+5]=R,l}}Cv.prototype.bytesPerElement=12,Un(Cv,"StructArrayLayout6i12");class jy extends oa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,g,S,y,C,R,N,H,P,O,V){const F=this.length;return this.resize(F+1),this.emplace(F,l,d,g,S,y,C,R,N,H,P,O,V)}emplace(l,d,g,S,y,C,R,N,H,P,O,V,F){const $=12*l;return this.int16[$+0]=d,this.int16[$+1]=g,this.int16[$+2]=S,this.int16[$+3]=y,this.uint16[$+4]=C,this.uint16[$+5]=R,this.uint16[$+6]=N,this.uint16[$+7]=H,this.int16[$+8]=P,this.int16[$+9]=O,this.int16[$+10]=V,this.int16[$+11]=F,l}}jy.prototype.bytesPerElement=24,Un(jy,"StructArrayLayout4i4ui4i24");class Gy extends oa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,g,S,y,C){const R=this.length;return this.resize(R+1),this.emplace(R,l,d,g,S,y,C)}emplace(l,d,g,S,y,C,R){const N=10*l,H=5*l;return this.int16[N+0]=d,this.int16[N+1]=g,this.int16[N+2]=S,this.float32[H+2]=y,this.float32[H+3]=C,this.float32[H+4]=R,l}}Gy.prototype.bytesPerElement=20,Un(Gy,"StructArrayLayout3i3f20");class Wy extends oa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.uint32[1*l+0]=d,l}}Wy.prototype.bytesPerElement=4,Un(Wy,"StructArrayLayout1ul4");class Dc extends oa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d){const g=this.length;return this.resize(g+1),this.emplace(g,l,d)}emplace(l,d,g){const S=2*l;return this.uint16[S+0]=d,this.uint16[S+1]=g,l}}Dc.prototype.bytesPerElement=4,Un(Dc,"StructArrayLayout2ui4");class Qh extends oa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,g,S,y,C,R,N,H,P,O,V,F){const $=this.length;return this.resize($+1),this.emplace($,l,d,g,S,y,C,R,N,H,P,O,V,F)}emplace(l,d,g,S,y,C,R,N,H,P,O,V,F,$){const G=20*l,Y=10*l;return this.int16[G+0]=d,this.int16[G+1]=g,this.int16[G+2]=S,this.int16[G+3]=y,this.int16[G+4]=C,this.float32[Y+3]=R,this.float32[Y+4]=N,this.float32[Y+5]=H,this.float32[Y+6]=P,this.int16[G+14]=O,this.uint32[Y+8]=V,this.uint16[G+18]=F,this.uint16[G+19]=$,l}}Qh.prototype.bytesPerElement=40,Un(Qh,"StructArrayLayout5i4f1i1ul2ui40");class Pd extends oa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,g,S,y,C,R){const N=this.length;return this.resize(N+1),this.emplace(N,l,d,g,S,y,C,R)}emplace(l,d,g,S,y,C,R,N){const H=8*l;return this.int16[H+0]=d,this.int16[H+1]=g,this.int16[H+2]=S,this.int16[H+4]=y,this.int16[H+5]=C,this.int16[H+6]=R,this.int16[H+7]=N,l}}Pd.prototype.bytesPerElement=16,Un(Pd,"StructArrayLayout3i2i2i16");class qo extends oa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,d,g,S,y){const C=this.length;return this.resize(C+1),this.emplace(C,l,d,g,S,y)}emplace(l,d,g,S,y,C){const R=4*l,N=8*l;return this.float32[R+0]=d,this.float32[R+1]=g,this.float32[R+2]=S,this.int16[N+6]=y,this.int16[N+7]=C,l}}qo.prototype.bytesPerElement=16,Un(qo,"StructArrayLayout2f1f2i16");class ef extends oa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,g,S,y,C){const R=this.length;return this.resize(R+1),this.emplace(R,l,d,g,S,y,C)}emplace(l,d,g,S,y,C,R){const N=20*l,H=5*l;return this.uint8[N+0]=d,this.uint8[N+1]=g,this.float32[H+1]=S,this.float32[H+2]=y,this.float32[H+3]=C,this.float32[H+4]=R,l}}ef.prototype.bytesPerElement=20,Un(ef,"StructArrayLayout2ub4f20");class xo extends oa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,g){const S=this.length;return this.resize(S+1),this.emplace(S,l,d,g)}emplace(l,d,g,S){const y=3*l;return this.uint16[y+0]=d,this.uint16[y+1]=g,this.uint16[y+2]=S,l}}xo.prototype.bytesPerElement=6,Un(xo,"StructArrayLayout3ui6");class qy extends oa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(l,d,g,S,y,C,R,N,H,P,O,V,F,$,G,Y,ee,de,fe,ne,ve){const we=this.length;return this.resize(we+1),this.emplace(we,l,d,g,S,y,C,R,N,H,P,O,V,F,$,G,Y,ee,de,fe,ne,ve)}emplace(l,d,g,S,y,C,R,N,H,P,O,V,F,$,G,Y,ee,de,fe,ne,ve,we){const De=30*l,Ve=15*l,Ue=60*l;return this.int16[De+0]=d,this.int16[De+1]=g,this.int16[De+2]=S,this.float32[Ve+2]=y,this.float32[Ve+3]=C,this.uint16[De+8]=R,this.uint16[De+9]=N,this.uint32[Ve+5]=H,this.uint32[Ve+6]=P,this.uint32[Ve+7]=O,this.uint16[De+16]=V,this.uint16[De+17]=F,this.uint16[De+18]=$,this.float32[Ve+10]=G,this.float32[Ve+11]=Y,this.uint8[Ue+48]=ee,this.uint8[Ue+49]=de,this.uint8[Ue+50]=fe,this.uint32[Ve+13]=ne,this.int16[De+28]=ve,this.uint8[Ue+58]=we,l}}qy.prototype.bytesPerElement=60,Un(qy,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class Ky extends oa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(l,d,g,S,y,C,R,N,H,P,O,V,F,$,G,Y,ee,de,fe,ne,ve,we,De,Ve,Ue,ze,Qe,We,it,mt,yt,xt){const Et=this.length;return this.resize(Et+1),this.emplace(Et,l,d,g,S,y,C,R,N,H,P,O,V,F,$,G,Y,ee,de,fe,ne,ve,we,De,Ve,Ue,ze,Qe,We,it,mt,yt,xt)}emplace(l,d,g,S,y,C,R,N,H,P,O,V,F,$,G,Y,ee,de,fe,ne,ve,we,De,Ve,Ue,ze,Qe,We,it,mt,yt,xt,Et){const $t=20*l,At=40*l,Jt=80*l;return this.float32[$t+0]=d,this.float32[$t+1]=g,this.int16[At+4]=S,this.int16[At+5]=y,this.int16[At+6]=C,this.int16[At+7]=R,this.int16[At+8]=N,this.int16[At+9]=H,this.int16[At+10]=P,this.int16[At+11]=O,this.int16[At+12]=V,this.uint16[At+13]=F,this.uint16[At+14]=$,this.uint16[At+15]=G,this.uint16[At+16]=Y,this.uint16[At+17]=ee,this.uint16[At+18]=de,this.uint16[At+19]=fe,this.uint16[At+20]=ne,this.uint16[At+21]=ve,this.uint16[At+22]=we,this.uint16[At+23]=De,this.uint16[At+24]=Ve,this.uint16[At+25]=Ue,this.uint16[At+26]=ze,this.uint16[At+27]=Qe,this.uint32[$t+14]=We,this.float32[$t+15]=it,this.float32[$t+16]=mt,this.float32[$t+17]=yt,this.float32[$t+18]=xt,this.uint8[Jt+76]=Et,l}}Ky.prototype.bytesPerElement=80,Un(Ky,"StructArrayLayout2f9i15ui1ul4f1ub80");class tf extends oa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.float32[1*l+0]=d,l}}tf.prototype.bytesPerElement=4,Un(tf,"StructArrayLayout1f4");class Vu extends oa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,g,S,y){const C=this.length;return this.resize(C+1),this.emplace(C,l,d,g,S,y)}emplace(l,d,g,S,y,C){const R=5*l;return this.float32[R+0]=d,this.float32[R+1]=g,this.float32[R+2]=S,this.float32[R+3]=y,this.float32[R+4]=C,l}}Vu.prototype.bytesPerElement=20,Un(Vu,"StructArrayLayout5f20");class Yy extends oa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,g,S,y,C,R){const N=this.length;return this.resize(N+1),this.emplace(N,l,d,g,S,y,C,R)}emplace(l,d,g,S,y,C,R,N){const H=7*l;return this.float32[H+0]=d,this.float32[H+1]=g,this.float32[H+2]=S,this.float32[H+3]=y,this.float32[H+4]=C,this.float32[H+5]=R,this.float32[H+6]=N,l}}Yy.prototype.bytesPerElement=28,Un(Yy,"StructArrayLayout7f28");class Yp extends oa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,d,g,S){const y=this.length;return this.resize(y+1),this.emplace(y,l,d,g,S)}emplace(l,d,g,S,y){const C=6*l;return this.uint32[3*l+0]=d,this.uint16[C+2]=g,this.uint16[C+3]=S,this.uint16[C+4]=y,l}}Yp.prototype.bytesPerElement=12,Un(Yp,"StructArrayLayout1ul3ui12");class Zy extends oa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.uint16[1*l+0]=d,l}}Zy.prototype.bytesPerElement=2,Un(Zy,"StructArrayLayout1ui2");class Zp extends oa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d){const g=this.length;return this.resize(g+1),this.emplace(g,l,d)}emplace(l,d,g){const S=2*l;return this.float32[S+0]=d,this.float32[S+1]=g,l}}Zp.prototype.bytesPerElement=8,Un(Zp,"StructArrayLayout2f8");class Xp extends oa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,g,S,y,C,R,N,H,P,O,V,F,$,G,Y){const ee=this.length;return this.resize(ee+1),this.emplace(ee,l,d,g,S,y,C,R,N,H,P,O,V,F,$,G,Y)}emplace(l,d,g,S,y,C,R,N,H,P,O,V,F,$,G,Y,ee){const de=16*l;return this.float32[de+0]=d,this.float32[de+1]=g,this.float32[de+2]=S,this.float32[de+3]=y,this.float32[de+4]=C,this.float32[de+5]=R,this.float32[de+6]=N,this.float32[de+7]=H,this.float32[de+8]=P,this.float32[de+9]=O,this.float32[de+10]=V,this.float32[de+11]=F,this.float32[de+12]=$,this.float32[de+13]=G,this.float32[de+14]=Y,this.float32[de+15]=ee,l}}Xp.prototype.bytesPerElement=64,Un(Xp,"StructArrayLayout16f64");class Tv extends oa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,d,g,S,y,C,R){const N=this.length;return this.resize(N+1),this.emplace(N,l,d,g,S,y,C,R)}emplace(l,d,g,S,y,C,R,N){const H=10*l,P=5*l;return this.uint16[H+0]=d,this.uint16[H+1]=g,this.uint16[H+2]=S,this.uint16[H+3]=y,this.float32[P+2]=C,this.float32[P+3]=R,this.float32[P+4]=N,l}}Tv.prototype.bytesPerElement=20,Un(Tv,"StructArrayLayout4ui3f20");class Mv extends oa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.int16[1*l+0]=d,l}}Mv.prototype.bytesPerElement=2,Un(Mv,"StructArrayLayout1i2");class Ev extends oa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer)}emplaceBack(l){const d=this.length;return this.resize(d+1),this.emplace(d,l)}emplace(l,d){return this.uint8[1*l+0]=d,l}}Ev.prototype.bytesPerElement=1,Un(Ev,"StructArrayLayout1ub1");class b4 extends Kp{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}b4.prototype.size=40;class Av extends Qh{get(l){return new b4(this,l)}}Un(Av,"CollisionBoxArray");class Jp extends Kp{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(l){this._structArray.uint8[this._pos1+49]=l}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(l){this._structArray.uint8[this._pos1+50]=l}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(l){this._structArray.uint32[this._pos4+13]=l}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(l){this._structArray.uint8[this._pos1+58]=l}}Jp.prototype.size=60;class Xy extends qy{get(l){return new Jp(this,l)}}Un(Xy,"PlacedSymbolArray");class x4 extends Kp{get tileAnchorX(){return this._structArray.float32[this._pos4+0]}get tileAnchorY(){return this._structArray.float32[this._pos4+1]}get projectedAnchorX(){return this._structArray.int16[this._pos2+4]}get projectedAnchorY(){return this._structArray.int16[this._pos2+5]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+6]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+7]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+11]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get key(){return this._structArray.uint16[this._pos2+13]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+14]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+15]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+17]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+19]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+21]}get featureIndex(){return this._structArray.uint16[this._pos2+22]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+23]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numIconVertices(){return this._structArray.uint16[this._pos2+25]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+26]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+27]}get crossTileID(){return this._structArray.uint32[this._pos4+14]}set crossTileID(l){this._structArray.uint32[this._pos4+14]=l}get textOffset0(){return this._structArray.float32[this._pos4+15]}get textOffset1(){return this._structArray.float32[this._pos4+16]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+17]}get zOffset(){return this._structArray.float32[this._pos4+18]}set zOffset(l){this._structArray.float32[this._pos4+18]=l}get hasIconTextFit(){return this._structArray.uint8[this._pos1+76]}}x4.prototype.size=80;class Jy extends Ky{get(l){return new x4(this,l)}}Un(Jy,"SymbolInstanceArray");class w4 extends tf{getoffsetX(l){return this.float32[1*l+0]}}Un(w4,"GlyphOffsetArray");class Iv extends Pc{getx(l){return this.int16[2*l+0]}gety(l){return this.int16[2*l+1]}}Un(Iv,"SymbolLineVertexArray");class S4 extends Kp{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}S4.prototype.size=12;class C4 extends Yp{get(l){return new S4(this,l)}}Un(C4,"FeatureIndexArray");class T4 extends Dc{geta_centroid_pos0(l){return this.uint16[2*l+0]}geta_centroid_pos1(l){return this.uint16[2*l+1]}}Un(T4,"FillExtrusionCentroidArray");class M4 extends Kp{get a_join_normal_inside0(){return this._structArray.int16[this._pos2+0]}get a_join_normal_inside1(){return this._structArray.int16[this._pos2+1]}get a_join_normal_inside2(){return this._structArray.int16[this._pos2+2]}}M4.prototype.size=6;class Qy extends wv{get(l){return new M4(this,l)}}Un(Qy,"FillExtrusionWallArray");const OT=yi([{name:"a_pos",components:2,type:"Int16"}],4),zT=yi([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class ba{constructor(l=[]){this.segments=l}_prepareSegment(l,d,g,S){let y=this.segments[this.segments.length-1];return l>ba.MAX_VERTEX_ARRAY_LENGTH&&Mt(`Max vertices per segment is ${ba.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${l}`),(!y||y.vertexLength+l>ba.MAX_VERTEX_ARRAY_LENGTH||y.sortKey!==S)&&(y={vertexOffset:d,primitiveOffset:g,vertexLength:0,primitiveLength:0},S!==void 0&&(y.sortKey=S),this.segments.push(y)),y}prepareSegment(l,d,g,S){return this._prepareSegment(l,d.length,g.length,S)}get(){return this.segments}destroy(){for(const l of this.segments)for(const d in l.vaos)l.vaos[d].destroy()}static simpleSegment(l,d,g,S){return new ba([{vertexOffset:l,primitiveOffset:d,vertexLength:g,primitiveLength:S,vaos:{},sortKey:0}])}}function E4(p,l){return 256*(p=St(Math.floor(p),0,255))+St(Math.floor(l),0,255)}ba.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Un(ba,"SegmentVector");const BT=yi([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),FT=yi([{name:"a_dash",components:4,type:"Uint16"}]);class Qp{constructor(){this.ids=[],this.uniqueIds=[],this.positions=[],this.indexed=!1}add(l,d,g,S){this.ids.push(A4(l)),this.positions.push(d,g,S)}eachPosition(l,d){const g=A4(l);let S=0,y=this.ids.length-1;for(;S<y;){const C=S+y>>1;this.ids[C]>=g?y=C:S=C+1}for(;this.ids[S]===g;)d(this.positions[3*S],this.positions[3*S+1],this.positions[3*S+2]),S++}static serialize(l,d){const g=new Float64Array(l.ids),S=new Uint32Array(l.positions);return nf(g,S,0,g.length-1),d&&(d.add(g.buffer),d.add(S.buffer)),{ids:g,positions:S}}static deserialize(l){const d=new Qp;let g;d.ids=l.ids,d.positions=l.positions;for(const S of d.ids)S!==g&&d.uniqueIds.push(S),g=S;return d.indexed=!0,d}}function A4(p){const l=+p;return!isNaN(l)&&Number.MIN_SAFE_INTEGER<=l&&l<=Number.MAX_SAFE_INTEGER?l:is(String(p))}function nf(p,l,d,g){for(;d<g;){const S=p[d+g>>1];let y=d-1,C=g+1;for(;;){do y++;while(p[y]<S);do C--;while(p[C]>S);if(y>=C)break;kv(p,y,C),kv(l,3*y,3*C),kv(l,3*y+1,3*C+1),kv(l,3*y+2,3*C+2)}C-d<g-C?(nf(p,l,d,C),d=C+1):(nf(p,l,C+1,g),g=C)}}function kv(p,l,d){const g=p[l];p[l]=p[d],p[d]=g}Un(Qp,"FeaturePositionMap");class Hu{constructor(l){this.gl=l.gl,this.initialized=!1}fetchUniformLocation(l,d){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(l,d),this.initialized=!0),!!this.location}set(l,d,g){throw new Error("Uniform#set() must be implemented by each concrete Uniform")}}class Ld extends Hu{constructor(l){super(l),this.current=0}set(l,d,g){this.fetchUniformLocation(l,d)&&this.current!==g&&(this.current=g,this.gl.uniform1i(this.location,g))}}class Fo extends Hu{constructor(l){super(l),this.current=0}set(l,d,g){this.fetchUniformLocation(l,d)&&this.current!==g&&(this.current=g,this.gl.uniform1f(this.location,g))}}class Jl extends Hu{constructor(l){super(l),this.current=[0,0]}set(l,d,g){this.fetchUniformLocation(l,d)&&(g[0]===this.current[0]&&g[1]===this.current[1]||(this.current=g,this.gl.uniform2f(this.location,g[0],g[1])))}}class e1 extends Hu{constructor(l){super(l),this.current=[0,0,0]}set(l,d,g){this.fetchUniformLocation(l,d)&&(g[0]===this.current[0]&&g[1]===this.current[1]&&g[2]===this.current[2]||(this.current=g,this.gl.uniform3f(this.location,g[0],g[1],g[2])))}}class Pv extends Hu{constructor(l){super(l),this.current=[0,0,0,0]}set(l,d,g){this.fetchUniformLocation(l,d)&&(g[0]===this.current[0]&&g[1]===this.current[1]&&g[2]===this.current[2]&&g[3]===this.current[3]||(this.current=g,this.gl.uniform4f(this.location,g[0],g[1],g[2],g[3])))}}class t1 extends Hu{constructor(l){super(l),this.current=Ii.transparent.toRenderColor(null)}set(l,d,g){this.fetchUniformLocation(l,d)&&(g.r===this.current.r&&g.g===this.current.g&&g.b===this.current.b&&g.a===this.current.a||(this.current=g,this.gl.uniform4f(this.location,g.r,g.g,g.b,g.a)))}}const I4=new Float32Array(16);class em extends Hu{constructor(l){super(l),this.current=I4}set(l,d,g){if(this.fetchUniformLocation(l,d)){if(g[12]!==this.current[12]||g[0]!==this.current[0])return this.current=g,void this.gl.uniformMatrix4fv(this.location,!1,g);for(let S=1;S<16;S++)if(g[S]!==this.current[S]){this.current=g,this.gl.uniformMatrix4fv(this.location,!1,g);break}}}}const NT=new Float32Array(9),$T=new Float32Array(4);class n1 extends Hu{constructor(l){super(l),this.current=$T}set(l,d,g){if(this.fetchUniformLocation(l,d)){for(let S=0;S<4;S++)if(g[S]!==this.current[S]){this.current=g,this.gl.uniformMatrix2fv(this.location,!1,g);break}}}}function r1(p){return[E4(255*p.r,255*p.g),E4(255*p.b,255*p.a)]}class tm{constructor(l,d,g,S){this.value=l,this.uniformNames=d.map(y=>`u_${y}`),this.type=g,this.context=S}setUniform(l,d,g,S,y){const C=S.constantOr(this.value);d.set(l,y,C instanceof Ii?C.toRenderColor(this.context.lut):C)}getBinding(l,d){return this.type==="color"?new t1(l):new Fo(l)}}class rf{constructor(l,d){this.uniformNames=d.map(g=>`u_${g}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(l){this.pixelRatio=l.pixelRatio||1,this.pattern=l.tl.concat(l.br)}setUniform(l,d,g,S,y){const C=y==="u_pattern"||y==="u_dash"?this.pattern:y==="u_pixel_ratio"?this.pixelRatio:null;C&&d.set(l,y,C)}getBinding(l,d){return d==="u_pattern"||d==="u_dash"?new Pv(l):new Fo(l)}}class Ql{constructor(l,d,g,S){this.expression=l,this.type=g,this.maxValue=0,this.paintVertexAttributes=d.map(y=>({name:`a_${y}`,type:"Float32",components:g==="color"?2:1,offset:0})),this.paintVertexArray=new S}populatePaintArray(l,d,g,S,y,C,R){const N=this.paintVertexArray.length,H=this.expression.evaluate(new ya(0,{brightness:C}),d,{},y,S,R);this.paintVertexArray.resize(l),this._setPaintValue(N,l,H,this.context)}updatePaintArray(l,d,g,S,y,C,R){const N=this.expression.evaluate({zoom:0,brightness:R},g,S,void 0,y);this._setPaintValue(l,d,N,this.context)}_setPaintValue(l,d,g,S){if(this.type==="color"){const y=r1(g.toRenderColor(S.lut));for(let C=l;C<d;C++)this.paintVertexArray.emplace(C,y[0],y[1])}else{for(let y=l;y<d;y++)this.paintVertexArray.emplace(y,g);this.maxValue=Math.max(this.maxValue,Math.abs(g))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class ks{constructor(l,d,g,S,y,C){this.expression=l,this.uniformNames=d.map(R=>`u_${R}_t`),this.type=g,this.useIntegerZoom=S,this.context=y,this.maxValue=0,this.paintVertexAttributes=d.map(R=>({name:`a_${R}`,type:"Float32",components:g==="color"?4:2,offset:0})),this.paintVertexArray=new C}populatePaintArray(l,d,g,S,y,C,R){const N=this.expression.evaluate(new ya(this.context.zoom,{brightness:C}),d,{},y,S,R),H=this.expression.evaluate(new ya(this.context.zoom+1,{brightness:C}),d,{},y,S,R),P=this.paintVertexArray.length;this.paintVertexArray.resize(l),this._setPaintValue(P,l,N,H,this.context)}updatePaintArray(l,d,g,S,y,C,R){const N=this.expression.evaluate({zoom:this.context.zoom,brightness:R},g,S,void 0,y),H=this.expression.evaluate({zoom:this.context.zoom+1,brightness:R},g,S,void 0,y);this._setPaintValue(l,d,N,H,this.context)}_setPaintValue(l,d,g,S,y){if(this.type==="color"){const C=r1(g.toRenderColor(y.lut)),R=r1(g.toRenderColor(y.lut));for(let N=l;N<d;N++)this.paintVertexArray.emplace(N,C[0],C[1],R[0],R[1])}else{for(let C=l;C<d;C++)this.paintVertexArray.emplace(C,g,S);this.maxValue=Math.max(this.maxValue,Math.abs(g),Math.abs(S))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(l,d,g,S,y){const C=this.useIntegerZoom?Math.floor(g.zoom):g.zoom,R=St(this.expression.interpolationFactor(C,this.context.zoom,this.context.zoom+1),0,1);d.set(l,y,R)}getBinding(l,d){return new Fo(l)}}class eu{constructor(l,d,g,S,y){this.expression=l,this.layerId=y,this.paintVertexAttributes=(g==="array"?FT:BT).members;for(let C=0;C<d.length;++C);this.paintVertexArray=new S}populatePaintArray(l,d,g,S){const y=this.paintVertexArray.length;this.paintVertexArray.resize(l),this._setPaintValues(y,l,d.patterns&&d.patterns[this.layerId],g)}updatePaintArray(l,d,g,S,y,C,R){this._setPaintValues(l,d,g.patterns&&g.patterns[this.layerId],C)}_setPaintValues(l,d,g,S){if(!S||!g)return;const y=S[g];if(!y)return;const{tl:C,br:R,pixelRatio:N}=y;for(let H=l;H<d;H++)this.paintVertexArray.emplace(H,C[0],C[1],R[0],R[1],N)}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Rd{constructor(l,d,g=()=>!0){this.binders={},this._buffers=[],this.context=d;const S=[];for(const y in l.paint._values){const C=l.paint.get(y);if(!g(y)||!(C instanceof Yh&&ov(C.property.specification)))continue;const R=HT(y,l.type),N=C.value,H=C.property.specification.type,P=!!C.property.useIntegerZoom,O=y==="line-dasharray"||y.endsWith("pattern"),V=y==="line-dasharray"&&l.layout.get("line-cap").value.kind!=="constant";if(N.kind!=="constant"||V)if(N.kind==="source"||V||O){const F=x(y,H,"source");this.binders[y]=O?new eu(N,R,H,F,l.id):new Ql(N,R,H,F),S.push(`/a_${y}`)}else{const F=x(y,H,"composite");this.binders[y]=new ks(N,R,H,P,d,F),S.push(`/z_${y}`)}else this.binders[y]=O?new rf(N.value,R):new tm(N.value,R,H,d),S.push(`/u_${y}`)}this.cacheKey=S.sort().join("")}getMaxValue(l){const d=this.binders[l];return d instanceof Ql||d instanceof ks?d.maxValue:0}populatePaintArrays(l,d,g,S,y,C,R){for(const N in this.binders){const H=this.binders[N];H.context=this.context,(H instanceof Ql||H instanceof ks||H instanceof eu)&&H.populatePaintArray(l,d,g,S,y,C,R)}}setConstantPatternPositions(l){for(const d in this.binders){const g=this.binders[d];g instanceof rf&&g.setConstantPatternPositions(l)}}updatePaintArrays(l,d,g,S,y,C,R,N){let H=!1;const P=Object.keys(l),O=P.length!==0,V=O?P:d.uniqueIds;this.context.lut=y.lut;for(const F in this.binders){const $=this.binders[F];if($.context=this.context,($ instanceof Ql||$ instanceof ks||$ instanceof eu)&&($.expression.isStateDependent===!0||$.expression.isLightConstant===!1)){const G=y.paint.get(F);$.expression=G.value;for(const Y of V){const ee=l[Y.toString()];d.eachPosition(Y,(de,fe,ne)=>{const ve=S.feature(de);$.updatePaintArray(fe,ne,ve,ee,C,R,N)})}if(!O)for(const Y of g.uniqueIds){const ee=l[Y.toString()];g.eachPosition(Y,(de,fe,ne)=>{const ve=S.feature(de);$.updatePaintArray(fe,ne,ve,ee,C,R,N)})}H=!0}}return H}defines(){const l=[];for(const d in this.binders){const g=this.binders[d];(g instanceof tm||g instanceof rf)&&l.push(...g.uniformNames.map(S=>`#define HAS_UNIFORM_${S}`))}return l}getBinderAttributes(){const l=[];for(const d in this.binders){const g=this.binders[d];if(g instanceof Ql||g instanceof ks||g instanceof eu)for(let S=0;S<g.paintVertexAttributes.length;S++)l.push(g.paintVertexAttributes[S].name)}return l}getBinderUniforms(){const l=[];for(const d in this.binders){const g=this.binders[d];if(g instanceof tm||g instanceof rf||g instanceof ks)for(const S of g.uniformNames)l.push(S)}return l}getPaintVertexBuffers(){return this._buffers}getUniforms(l){const d=[];for(const g in this.binders){const S=this.binders[g];if(S instanceof tm||S instanceof rf||S instanceof ks)for(const y of S.uniformNames)d.push({name:y,property:g,binding:S.getBinding(l,y)})}return d}setUniforms(l,d,g,S,y){for(const{name:C,property:R,binding:N}of g)this.binders[R].setUniform(l,N,y,S.get(R),C)}updatePaintBuffers(){this._buffers=[];for(const l in this.binders){const d=this.binders[l];(d instanceof Ql||d instanceof ks||d instanceof eu)&&d.paintVertexBuffer&&this._buffers.push(d.paintVertexBuffer)}}upload(l){for(const d in this.binders){const g=this.binders[d];(g instanceof Ql||g instanceof ks||g instanceof eu)&&g.upload(l)}this.updatePaintBuffers()}destroy(){for(const l in this.binders){const d=this.binders[l];(d instanceof Ql||d instanceof ks||d instanceof eu)&&d.destroy()}}}class Oc{constructor(l,d,g=()=>!0){this.programConfigurations={};for(const S of l)this.programConfigurations[S.id]=new Rd(S,d,g);this.needsUpload=!1,this._featureMap=new Qp,this._featureMapWithoutIds=new Qp,this._bufferOffset=0,this._idlessCounter=0}populatePaintArrays(l,d,g,S,y,C,R,N){for(const H in this.programConfigurations)this.programConfigurations[H].populatePaintArrays(l,d,S,y,C,R,N);d.id!==void 0?this._featureMap.add(d.id,g,this._bufferOffset,l):(this._featureMapWithoutIds.add(this._idlessCounter,g,this._bufferOffset,l),this._idlessCounter+=1),this._bufferOffset=l,this.needsUpload=!0}updatePaintArrays(l,d,g,S,y,C){for(const R of g)this.needsUpload=this.programConfigurations[R.id].updatePaintArrays(l,this._featureMap,this._featureMapWithoutIds,d,R,S,y,C||0)||this.needsUpload}get(l){return this.programConfigurations[l]}upload(l){if(this.needsUpload){for(const d in this.programConfigurations)this.programConfigurations[d].upload(l);this.needsUpload=!1}}destroy(){for(const l in this.programConfigurations)this.programConfigurations[l].destroy()}}const VT={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-occlusion-opacity":["occlusion_opacity"],"icon-occlusion-opacity":["occlusion_opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-emissive-strength":["emissive_strength"],"icon-emissive-strength":["emissive_strength"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"symbol-z-offset":["z_offset"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function HT(p,l){return VT[p]||[p.replace(`${l}-`,"").replace(/-/g,"_")]}const UT={"line-pattern":{source:$u,composite:$u},"fill-pattern":{source:$u,composite:$u},"fill-extrusion-pattern":{source:$u,composite:$u},"line-dasharray":{source:kd,composite:kd}},k4={color:{source:Zp,composite:Nu},number:{source:tf,composite:Zp}};function x(p,l,d){const g=UT[p];return g&&g[d]||k4[l][d]}Un(tm,"ConstantBinder"),Un(rf,"PatternConstantBinder"),Un(Ql,"SourceExpressionBinder"),Un(eu,"PatternCompositeBinder"),Un(ks,"CompositeExpressionBinder"),Un(Rd,"ProgramConfiguration",{omit:["_buffers"]}),Un(Oc,"ProgramConfigurationSet");const c=Ln/Math.PI/2,f=5,w=6,I=16383,L=64,D=[L,32,16],j=-c,K=c;function Z(p,l,d,g=c){return d=zt(d),[p*Math.sin(d)*g,-l*g,p*Math.cos(d)*g]}function J(p,l,d){return Z(Math.cos(zt(p)),Math.sin(zt(p)),l,d)}const oe=63710088e-1,ce=2*Math.PI*oe;class he{constructor(l,d){if(isNaN(l)||isNaN(d))throw new Error(`Invalid LngLat object: (${l}, ${d})`);if(this.lng=+l,this.lat=+d,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new he(rr(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(l){const d=Math.PI/180,g=this.lat*d,S=l.lat*d,y=Math.sin(g)*Math.sin(S)+Math.cos(g)*Math.cos(S)*Math.cos((l.lng-this.lng)*d);return oe*Math.acos(Math.min(y,1))}toBounds(l=0){const d=360*l/40075017,g=d/Math.cos(Math.PI/180*this.lat);return new Ce({lng:this.lng-g,lat:this.lat-d},{lng:this.lng+g,lat:this.lat+d})}toEcef(l){return J(this.lat,this.lng,c+l*c/oe)}static convert(l){if(l instanceof he)return l;if(Array.isArray(l)&&(l.length===2||l.length===3))return new he(Number(l[0]),Number(l[1]));if(!Array.isArray(l)&&typeof l=="object"&&l!==null)return new he(Number("lng"in l?l.lng:l.lon),Number(l.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}class Ce{constructor(l,d){if(l)if(d)this.setSouthWest(l).setNorthEast(d);else if(l.length===4){const g=l;this.setSouthWest([g[0],g[1]]).setNorthEast([g[2],g[3]])}else{const g=l;this.setSouthWest(g[0]).setNorthEast(g[1])}}setNorthEast(l){return this._ne=l instanceof he?new he(l.lng,l.lat):he.convert(l),this}setSouthWest(l){return this._sw=l instanceof he?new he(l.lng,l.lat):he.convert(l),this}extend(l){const d=this._sw,g=this._ne;let S,y;if(l instanceof he)S=l,y=l;else{if(!(l instanceof Ce))return Array.isArray(l)?l.length===4||l.every(Array.isArray)?this.extend(Ce.convert(l)):this.extend(he.convert(l)):typeof l=="object"&&l!==null&&l.hasOwnProperty("lat")&&(l.hasOwnProperty("lon")||l.hasOwnProperty("lng"))?this.extend(he.convert(l)):this;if(S=l._sw,y=l._ne,!S||!y)return this}return d||g?(d.lng=Math.min(S.lng,d.lng),d.lat=Math.min(S.lat,d.lat),g.lng=Math.max(y.lng,g.lng),g.lat=Math.max(y.lat,g.lat)):(this._sw=new he(S.lng,S.lat),this._ne=new he(y.lng,y.lat)),this}getCenter(){return new he((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new he(this.getWest(),this.getNorth())}getSouthEast(){return new he(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(l){const{lng:d,lat:g}=he.convert(l);let S=this._sw.lng<=d&&d<=this._ne.lng;return this._sw.lng>this._ne.lng&&(S=this._sw.lng>=d&&d>=this._ne.lng),this._sw.lat<=g&&g<=this._ne.lat&&S}static convert(l){if(l)return l instanceof Ce?l:new Ce(l)}}const Me=0,Ae=25.5;function ke(p){return ce*Math.cos(p*Math.PI/180)}function He(p){return(180+p)/360}function Ge(p){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+p*Math.PI/360)))/360}function $e(p,l){return p/ke(l)}function Ke(p){return 360*p-180}function qe(p){return 360/Math.PI*Math.atan(Math.exp((180-360*p)*Math.PI/180))-90}function at(p,l){return p*ke(qe(l))}const nt=85.051129;function st(p){return Math.cos(zt(St(p,-nt,nt)))}function gt(p,l){const d=St(l,Me,Ae),g=Math.pow(2,d);return st(p)*ce/(512*g)}function ft(p){return 1/Math.cos(p*Math.PI/180)}function ct(p,l=0){const d=Math.exp(Math.PI*(1-(p.y+l/Ln)/(1<<p.z)*2));return 80150034*d/(d*d+1)/Ln/(1<<p.z)}class Pt{constructor(l,d,g=0){this.x=+l,this.y=+d,this.z=+g}static fromLngLat(l,d=0){const g=he.convert(l);return new Pt(He(g.lng),Ge(g.lat),$e(d,g.lat))}toLngLat(){return new he(Ke(this.x),qe(this.y))}toAltitude(){return at(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/ce*ft(qe(this.y))}}function Yt(p,l,d,g,S,y,C,R,N){const H=(l+g)/2,P=(d+S)/2,O=new Ze(H,P);R(O),function(V,F,$,G,Y,ee){const de=$-Y,fe=G-ee;return Math.abs((G-F)*de-($-V)*fe)/Math.hypot(de,fe)}(O.x,O.y,y.x,y.y,C.x,C.y)>=N?(Yt(p,l,d,H,P,y,O,R,N),Yt(p,H,P,g,S,O,C,R,N)):p.push(C)}function cn(p,l,d){let g=p[0],S=g.x,y=g.y;l(g);const C=[g];for(let R=1;R<p.length;R++){const N=p[R],{x:H,y:P}=N;l(N),Yt(C,S,y,H,P,g,N,l,d),S=H,y=P,g=N}return C}function Kt(p,l,d,g){if(g(l,d)){const S=l.add(d)._mult(.5);Kt(p,l,S,g),Kt(p,S,d,g)}else p.push(d)}function _n(p,l){let d=p[0];const g=[d];for(let S=1;S<p.length;S++){const y=p[S];Kt(g,d,y,l),d=y}return g}const Lt=Math.pow(2,14)-1,on=-Lt-1;function Qt(p,l){const d=Math.round(p.x*l),g=Math.round(p.y*l);return p.x=St(d,on,Lt),p.y=St(g,on,Lt),(d<p.x||d>p.x+1||g<p.y||g>p.y+1)&&Mt("Geometry exceeds allowed extent, reduce your vector tile buffer size"),p}function xn(p,l,d){const g=p.loadGeometry(),S=p.extent,y=Ln/S;if(l&&d&&d.projection.isReprojectedInTileSpace){const C=1<<l.z,{scale:R,x:N,y:H,projection:P}=d,O=V=>{const F=Ke((l.x+V.x/S)/C),$=qe((l.y+V.y/S)/C),G=P.project(F,$);V.x=(G.x*R-N)*S,V.y=(G.y*R-H)*S};for(let V=0;V<g.length;V++)if(p.type!==1)g[V]=cn(g[V],O,1);else{const F=[];for(const $ of g[V])$.x<0||$.x>=S||$.y<0||$.y>=S||(O($),F.push($));g[V]=F}}for(const C of g)for(const R of C)Qt(R,y);return g}function Sn(p,l){return{type:p.type,id:p.id,properties:p.properties,geometry:l?xn(p):[]}}function sn(p,l,d,g,S){p.emplaceBack(2*l+(g+1)/2,2*d+(S+1)/2)}function vn(p,l,d){p.emplaceBack(l.x,l.y,l.z,d[0]*16384,d[1]*16384,d[2]*16384)}class ar{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.fqid),this.index=l.index,this.hasPattern=!1,this.projection=l.projection,this.layoutVertexArray=new Pc,this.indexArray=new xo,this.segments=new ba,this.programConfigurations=new Oc(l.layers,{zoom:l.zoom,lut:l.lut}),this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id)}updateFootprints(l,d){}populate(l,d,g,S){const y=this.layers[0],C=[];let R=null;y.type==="circle"&&(R=y.layout.get("circle-sort-key"));for(const{feature:H,id:P,index:O,sourceLayerIndex:V}of l){const F=this.layers[0]._featureFilter.needGeometry,$=Sn(H,F);if(!this.layers[0]._featureFilter.filter(new ya(this.zoom),$,g))continue;const G=R?R.evaluate($,{},g):void 0,Y={id:P,properties:H.properties,type:H.type,sourceLayerIndex:V,index:O,geometry:F?$.geometry:xn(H,g,S),patterns:{},sortKey:G};C.push(Y)}R&&C.sort((H,P)=>H.sortKey-P.sortKey);let N=null;S.projection.name==="globe"&&(this.globeExtVertexArray=new Cv,N=S.projection);for(const H of C){const{geometry:P,index:O,sourceLayerIndex:V}=H,F=l[O].feature;this.addFeature(H,P,O,d.availableImages,g,N,d.brightness),d.featureIndex.insert(F,P,O,V,this.index)}}update(l,d,g,S,y){const C=Object.keys(l).length!==0;C&&!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(l,d,C?this.stateDependentLayers:this.layers,g,S,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,OT.members),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=l.createVertexBuffer(this.globeExtVertexArray,zT.members))),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(l,d,g,S,y,C,R){for(const N of d)for(const H of N){const P=H.x,O=H.y;if(P<0||P>=Ln||O<0||O>=Ln)continue;if(C){const $=C.projectTilePoint(P,O,y),G=C.upVector(y,P,O),Y=this.globeExtVertexArray;vn(Y,$,G),vn(Y,$,G),vn(Y,$,G),vn(Y,$,G)}const V=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,l.sortKey),F=V.vertexLength;sn(this.layoutVertexArray,P,O,-1,-1),sn(this.layoutVertexArray,P,O,1,-1),sn(this.layoutVertexArray,P,O,1,1),sn(this.layoutVertexArray,P,O,-1,1),this.indexArray.emplaceBack(F,F+1,F+2),this.indexArray.emplaceBack(F,F+2,F+3),V.vertexLength+=4,V.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,g,{},S,y,R)}}function In(p,l){for(let d=0;d<p.length;d++)if(ea(l,p[d]))return!0;for(let d=0;d<l.length;d++)if(ea(p,l[d]))return!0;return!!fr(p,l)}function $n(p,l,d){return!!ea(p,l)||!!Fr(l,p,d)}function wr(p,l){if(p.length===1)return Ui(l,p[0]);for(let d=0;d<l.length;d++){const g=l[d];for(let S=0;S<g.length;S++)if(ea(p,g[S]))return!0}for(let d=0;d<p.length;d++)if(Ui(l,p[d]))return!0;for(let d=0;d<l.length;d++)if(fr(p,l[d]))return!0;return!1}function Xn(p,l,d){if(p.length>1){if(fr(p,l))return!0;for(let g=0;g<l.length;g++)if(Fr(l[g],p,d))return!0}for(let g=0;g<p.length;g++)if(Fr(p[g],l,d))return!0;return!1}function fr(p,l){if(p.length===0||l.length===0)return!1;for(let d=0;d<p.length-1;d++){const g=p[d],S=p[d+1];for(let y=0;y<l.length-1;y++)if(jr(g,S,l[y],l[y+1]))return!0}return!1}function jr(p,l,d,g){return Gn(p,d,g)!==Gn(l,d,g)&&Gn(p,l,d)!==Gn(p,l,g)}function Fr(p,l,d){const g=d*d;if(l.length===1)return p.distSqr(l[0])<g;for(let S=1;S<l.length;S++)if(Ri(p,l[S-1],l[S])<g)return!0;return!1}function Ri(p,l,d){const g=l.distSqr(d);if(g===0)return p.distSqr(l);const S=((p.x-l.x)*(d.x-l.x)+(p.y-l.y)*(d.y-l.y))/g;return p.distSqr(S<0?l:S>1?d:d.sub(l)._mult(S)._add(l))}function Ui(p,l){let d,g,S,y=!1;for(let C=0;C<p.length;C++){d=p[C];for(let R=0,N=d.length-1;R<d.length;N=R++)g=d[R],S=d[N],g.y>l.y!=S.y>l.y&&l.x<(S.x-g.x)*(l.y-g.y)/(S.y-g.y)+g.x&&(y=!y)}return y}function ea(p,l){let d=!1;for(let g=0,S=p.length-1;g<p.length;S=g++){const y=p[g],C=p[S];y.y>l.y!=C.y>l.y&&l.x<(C.x-y.x)*(l.y-y.y)/(C.y-y.y)+y.x&&(d=!d)}return d}function Ys(p,l,d,g,S){for(const C of p)if(l<=C.x&&d<=C.y&&g>=C.x&&S>=C.y)return!0;const y=[new Ze(l,d),new Ze(l,S),new Ze(g,S),new Ze(g,d)];if(p.length>2){for(const C of y)if(ea(p,C))return!0}for(let C=0;C<p.length-1;C++)if(Fa(p[C],p[C+1],y))return!0;return!1}function Fa(p,l,d){const g=d[0],S=d[2];if(p.x<g.x&&l.x<g.x||p.x>S.x&&l.x>S.x||p.y<g.y&&l.y<g.y||p.y>S.y&&l.y>S.y)return!1;const y=Gn(p,l,d[0]);return y!==Gn(p,l,d[1])||y!==Gn(p,l,d[2])||y!==Gn(p,l,d[3])}function ni(p,l,d,g,S,y){let C=l.y-p.y,R=p.x-l.x;if(y=y||0){const N=C*C+R*R;if(N===0)return!0;const H=Math.sqrt(N);C/=H,R/=H}return!((d.x-p.x)*C+(d.y-p.y)*R-y<0||(g.x-p.x)*C+(g.y-p.y)*R-y<0||(S.x-p.x)*C+(S.y-p.y)*R-y<0)}function Ni(p,l,d,g,S,y,C){return!(ni(p,l,g,S,y,C)||ni(l,d,g,S,y,C)||ni(d,p,g,S,y,C)||ni(g,S,p,l,d,C)||ni(S,y,p,l,d,C)||ni(y,g,p,l,d,C))}function ua(p,l,d){const g=l.paint.get(p).value;return g.kind==="constant"?g.value:d.programConfigurations.get(l.id).getMaxValue(p)}function zi(p){return Math.sqrt(p[0]*p[0]+p[1]*p[1])}function $r(p,l,d,g,S){if(!l[0]&&!l[1])return p;const y=Ze.convert(l)._mult(S);d==="viewport"&&y._rotate(-g);const C=[];for(let R=0;R<p.length;R++)C.push(p[R].sub(y));return C}function bi(p,l,d,g){const S=Ze.convert(p)._mult(g);return l==="viewport"&&S._rotate(-d),S}let ki,xa;Un(ar,"CircleBucket",{omit:["layers"]});var Na,hi={exports:{}},Qa=(Na||(Na=1,function(p,l){(function(d){function g(y,C,R){var N=S(256*y,256*(C=Math.pow(2,R)-C-1),R),H=S(256*(y+1),256*(C+1),R);return N[0]+","+N[1]+","+H[0]+","+H[1]}function S(y,C,R){var N=2*Math.PI*6378137/256/Math.pow(2,R);return[y*N-2*Math.PI*6378137/2,C*N-2*Math.PI*6378137/2]}d.getURL=function(y,C,R,N,H,P){return P=P||{},y+"?"+["bbox="+g(R,N,H),"format="+(P.format||"image/png"),"service="+(P.service||"WMS"),"version="+(P.version||"1.1.1"),"request="+(P.request||"GetMap"),"srs="+(P.srs||"EPSG:3857"),"width="+(P.width||256),"height="+(P.height||256),"layers="+C].join("&")},d.getTileBBox=g,d.getMercCoords=S,Object.defineProperty(d,"__esModule",{value:!0})})(l)}(0,hi.exports)),hi.exports);class oo{constructor(l,d,g){this.z=l,this.x=d,this.y=g,this.key=Ko(0,l,l,d,g)}equals(l){return this.z===l.z&&this.x===l.x&&this.y===l.y}url(l,d){const g=Qa.getTileBBox(this.x,this.y,this.z),S=function(y,C,R){let N,H="";for(let P=y;P>0;P--)N=1<<P-1,H+=(C&N?1:0)+(R&N?2:0);return H}(this.z,this.x,this.y);return l[(this.x+this.y)%l.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(d==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",S).replace("{bbox-epsg-3857}",g)}toString(){return`${this.z}/${this.x}/${this.y}`}}class eo{constructor(l,d){this.wrap=l,this.canonical=d,this.key=Ko(l,d.z,d.z,d.x,d.y)}}class Yi{constructor(l,d,g,S,y){this.overscaledZ=l,this.wrap=d,this.canonical=new oo(g,+S,+y),this.key=d===0&&l===g?this.canonical.key:Ko(d,l,g,S,y)}equals(l){return this.overscaledZ===l.overscaledZ&&this.wrap===l.wrap&&this.canonical.equals(l.canonical)}scaledTo(l){const d=this.canonical.z-l;return l>this.canonical.z?new Yi(l,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Yi(l,this.wrap,l,this.canonical.x>>d,this.canonical.y>>d)}calculateScaledKey(l,d=!0){if(this.overscaledZ===l&&d)return this.key;if(l>this.canonical.z)return Ko(this.wrap*+d,l,this.canonical.z,this.canonical.x,this.canonical.y);{const g=this.canonical.z-l;return Ko(this.wrap*+d,l,l,this.canonical.x>>g,this.canonical.y>>g)}}isChildOf(l){if(l.wrap!==this.wrap)return!1;const d=this.canonical.z-l.canonical.z;return l.overscaledZ===0||l.overscaledZ<this.overscaledZ&&l.canonical.z<this.canonical.z&&l.canonical.x===this.canonical.x>>d&&l.canonical.y===this.canonical.y>>d}children(l){if(this.overscaledZ>=l)return[new Yi(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const d=this.canonical.z+1,g=2*this.canonical.x,S=2*this.canonical.y;return[new Yi(d,this.wrap,d,g,S),new Yi(d,this.wrap,d,g+1,S),new Yi(d,this.wrap,d,g,S+1),new Yi(d,this.wrap,d,g+1,S+1)]}isLessThan(l){return this.wrap<l.wrap||!(this.wrap>l.wrap)&&(this.overscaledZ<l.overscaledZ||!(this.overscaledZ>l.overscaledZ)&&(this.canonical.x<l.canonical.x||!(this.canonical.x>l.canonical.x)&&this.canonical.y<l.canonical.y))}wrapped(){return new Yi(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(l){return new Yi(this.overscaledZ,l,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new eo(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function Ko(p,l,d,g,S){const y=1<<Math.min(d,22);let C=y*(S%y)+g%y;return p&&d<22&&(C+=y*y*((p<0?-2*p-1:2*p)%(1<<2*(22-d)))),16*(32*C+d)+(l-d)}const Yo=[p=>{let l=p.canonical.x-1,d=p.wrap;return l<0&&(l=(1<<p.canonical.z)-1,d--),new Yi(p.overscaledZ,d,p.canonical.z,l,p.canonical.y)},p=>{let l=p.canonical.x+1,d=p.wrap;return l===1<<p.canonical.z&&(l=0,d++),new Yi(p.overscaledZ,d,p.canonical.z,l,p.canonical.y)},p=>new Yi(p.overscaledZ,p.wrap,p.canonical.z,p.canonical.x,(p.canonical.y===0?1<<p.canonical.z:p.canonical.y)-1),p=>new Yi(p.overscaledZ,p.wrap,p.canonical.z,p.canonical.x,p.canonical.y===(1<<p.canonical.z)-1?0:p.canonical.y+1)];Un(oo,"CanonicalTileID"),Un(Yi,"OverscaledTileID",{omit:["projMatrix","expandedProjMatrix"]});const Zs=yi([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:Ps}=Zs,us=yi([{name:"a_pos_3",components:3,type:"Int16"}]);var Xs=yi([{name:"a_pos",type:"Int16",components:2}]);class Uu{constructor(l,d){this.pos=l,this.dir=d}intersectsPlane(l,d,g){const S=Re.vec3.dot(d,this.dir);if(Math.abs(S)<1e-6)return!1;const y=((l[0]-this.pos[0])*d[0]+(l[1]-this.pos[1])*d[1]+(l[2]-this.pos[2])*d[2])/S;return g[0]=this.pos[0]+this.dir[0]*y,g[1]=this.pos[1]+this.dir[1]*y,g[2]=this.pos[2]+this.dir[2]*y,!0}closestPointOnSphere(l,d,g){if(Re.vec3.equals(this.pos,l)||d===0)return g[0]=g[1]=g[2]=0,!1;const[S,y,C]=this.dir,R=this.pos[0]-l[0],N=this.pos[1]-l[1],H=this.pos[2]-l[2],P=S*S+y*y+C*C,O=2*(R*S+N*y+H*C),V=O*O-4*P*(R*R+N*N+H*H-d*d);if(V<0){const F=Math.max(-O/2,0),$=R+S*F,G=N+y*F,Y=H+C*F,ee=Math.hypot($,G,Y);return g[0]=$*d/ee,g[1]=G*d/ee,g[2]=Y*d/ee,!1}{const F=(-O-Math.sqrt(V))/(2*P);if(F<0){const $=Math.hypot(R,N,H);return g[0]=R*d/$,g[1]=N*d/$,g[2]=H*d/$,!1}return g[0]=R+S*F,g[1]=N+y*F,g[2]=H+C*F,!0}}}class zc{constructor(l,d,g,S,y){this.TL=l,this.TR=d,this.BR=g,this.BL=S,this.horizon=y}static fromInvProjectionMatrix(l,d,g){const S=[-1,1,1],y=[1,1,1],C=[1,-1,1],R=[-1,-1,1],N=Re.vec3.transformMat4(S,S,l),H=Re.vec3.transformMat4(y,y,l),P=Re.vec3.transformMat4(C,C,l),O=Re.vec3.transformMat4(R,R,l);return new zc(N,H,P,O,d/g)}}function tu(p,l,d){let g=1/0,S=-1/0;const y=[];for(const C of p){Re.vec3.sub(y,C,l);const R=Re.vec3.dot(y,d);g=Math.min(g,R),S=Math.max(S,R)}return[g,S]}function af(p,l){let d=!0;for(let g=0;g<p.planes.length;g++){const S=p.planes[g];let y=0;for(let C=0;C<l.length;C++)y+=Re.vec3.dot(S,l[C])+S[3]>=0;if(y===0)return 0;y!==l.length&&(d=!1)}return d?2:1}function of(p,l){for(const d of p.projections){const g=tu(l,p.points[0],d.axis);if(d.projection[1]<g[0]||d.projection[0]>g[1])return 0}return 1}function Lv(p,l){let d=0;const g=[0,0,0,0];for(let S=0;S<p.length;S++)g[0]=p[S][0],g[1]=p[S][1],g[2]=p[S][2],g[3]=1,Re.vec4.dot(g,l)>=0&&d++;return d}class sf{constructor(l,d){this.points=l||new Array(8).fill([0,0,0]),this.planes=d||new Array(6).fill([0,0,0,0]),this.bounds=Zi.fromPoints(this.points),this.projections=[],this.frustumEdges=[Re.vec3.sub([],this.points[2],this.points[3]),Re.vec3.sub([],this.points[0],this.points[3]),Re.vec3.sub([],this.points[4],this.points[0]),Re.vec3.sub([],this.points[5],this.points[1]),Re.vec3.sub([],this.points[6],this.points[2]),Re.vec3.sub([],this.points[7],this.points[3])];for(const g of this.frustumEdges){const S=[0,-g[2],g[1]],y=[g[2],0,-g[0]];this.projections.push({axis:S,projection:tu(this.points,this.points[0],S)}),this.projections.push({axis:y,projection:tu(this.points,this.points[0],y)})}}static fromInvProjectionMatrix(l,d,g,S){const y=Math.pow(2,g),C=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(H=>{const P=Re.vec4.transformMat4([],H,l),O=1/P[3]/d*y;return Re.vec4.mul(P,P,[O,O,S?1/P[3]:O,O])}),R=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(H=>{const P=Re.vec3.sub([],C[H[0]],C[H[1]]),O=Re.vec3.sub([],C[H[2]],C[H[1]]),V=Re.vec3.normalize([],Re.vec3.cross([],P,O)),F=-Re.vec3.dot(V,C[H[1]]);return V.concat(F)}),N=[];for(let H=0;H<C.length;H++)N.push([C[H][0],C[H][1],C[H][2]]);return new sf(N,R)}intersectsPrecise(l,d,g){for(let S=0;S<d.length;S++)if(!Lv(l,d[S]))return 0;for(let S=0;S<this.planes.length;S++)if(!Lv(l,this.planes[S]))return 0;for(const S of g)for(const y of this.frustumEdges){const C=Re.vec3.cross([],S,y),R=Re.vec3.length(C);if(R===0)continue;Re.vec3.scale(C,C,1/R);const N=tu(this.points,this.points[0],C),H=tu(l,this.points[0],C);if(N[0]>H[1]||H[0]>N[1])return 0}return 1}containsPoint(l){for(const d of this.planes){const g=d[3];if(Re.vec3.dot([d[0],d[1],d[2]],l)+g<0)return!1}return!0}}class Zi{static fromPoints(l){const d=[1/0,1/0,1/0],g=[-1/0,-1/0,-1/0];for(const S of l)Re.vec3.min(d,d,S),Re.vec3.max(g,g,S);return new Zi(d,g)}static fromTileIdAndHeight(l,d,g){const S=1<<l.canonical.z,y=l.canonical.x,C=l.canonical.y;return new Zi([y/S,C/S,d],[(y+1)/S,(C+1)/S,g])}static applyTransform(l,d){const g=l.getCorners();for(let S=0;S<g.length;++S)Re.vec3.transformMat4(g[S],g[S],d);return Zi.fromPoints(g)}static applyTransformFast(l,d){const g=[d[12],d[13],d[14]],S=[...g];for(let y=0;y<3;y++)for(let C=0;C<3;C++){const R=d[4*C+y],N=R*l.min[C],H=R*l.max[C];g[y]+=Math.min(N,H),S[y]+=Math.max(N,H)}return new Zi(g,S)}static projectAabbCorners(l,d){const g=l.getCorners();for(let S=0;S<g.length;++S)Re.vec3.transformMat4(g[S],g[S],d);return g}constructor(l,d){this.min=l,this.max=d,this.center=Re.vec3.scale([],Re.vec3.add([],this.min,this.max),.5)}quadrant(l){const d=[l%2==0,l<2],g=Re.vec3.clone(this.min),S=Re.vec3.clone(this.max);for(let y=0;y<d.length;y++)g[y]=d[y]?this.min[y]:this.center[y],S[y]=d[y]?this.center[y]:this.max[y];return S[2]=this.max[2],new Zi(g,S)}distanceX(l){return Math.max(Math.min(this.max[0],l[0]),this.min[0])-l[0]}distanceY(l){return Math.max(Math.min(this.max[1],l[1]),this.min[1])-l[1]}distanceZ(l){return Math.max(Math.min(this.max[2],l[2]),this.min[2])-l[2]}getCorners(){const l=this.min,d=this.max;return[[l[0],l[1],l[2]],[d[0],l[1],l[2]],[d[0],d[1],l[2]],[l[0],d[1],l[2]],[l[0],l[1],d[2]],[d[0],l[1],d[2]],[d[0],d[1],d[2]],[l[0],d[1],d[2]]]}intersects(l){return this.intersectsAabb(l.bounds)?af(l,this.getCorners()):0}intersectsFlat(l){return this.intersectsAabb(l.bounds)?af(l,[[this.min[0],this.min[1],0],[this.max[0],this.min[1],0],[this.max[0],this.max[1],0],[this.min[0],this.max[1],0]]):0}intersectsPrecise(l,d){return d||this.intersects(l)?of(l,this.getCorners()):0}intersectsPreciseFlat(l,d){return d||this.intersectsFlat(l)?of(l,[[this.min[0],this.min[1],0],[this.max[0],this.min[1],0],[this.max[0],this.max[1],0],[this.min[0],this.max[1],0]]):0}intersectsAabb(l){for(let d=0;d<3;++d)if(this.min[d]>l.max[d]||l.min[d]>this.max[d])return!1;return!0}intersectsAabbXY(l){return!(this.min[0]>l.max[0]||l.min[0]>this.max[0]||this.min[1]>l.max[1]||l.min[1]>this.max[1])}encapsulate(l){for(let d=0;d<3;d++)this.min[d]=Math.min(this.min[d],l.min[d]),this.max[d]=Math.max(this.max[d],l.max[d])}encapsulatePoint(l){for(let d=0;d<3;d++)this.min[d]=Math.min(this.min[d],l[d]),this.max[d]=Math.max(this.max[d],l[d])}closestPoint(l){return[Math.max(Math.min(this.max[0],l[0]),this.min[0]),Math.max(Math.min(this.max[1],l[1]),this.min[1]),Math.max(Math.min(this.max[2],l[2]),this.min[2])]}}function Dd(p){return p*c/oe}Un(Zi,"Aabb");const jT=[new Zi([j,j,j],[K,K,K]),new Zi([j,j,j],[0,0,K]),new Zi([0,j,j],[K,0,K]),new Zi([j,0,j],[0,K,K]),new Zi([0,0,j],[K,K,K])];function P4(p,l,d,g=!0){const S=Re.vec3.scale([],p._camera.position,p.worldSize),y=[l,d,1,1];Re.vec4.transformMat4(y,y,p.pixelMatrixInverse),Re.vec4.scale(y,y,1/y[3]);const C=Re.vec3.sub([],y,S),R=Re.vec3.normalize([],C),N=p.globeMatrix,H=[N[12],N[13],N[14]],P=Re.vec3.sub([],H,S),O=Re.vec3.length(P),V=Re.vec3.normalize([],P),F=p.worldSize/(2*Math.PI),$=Re.vec3.dot(V,R),G=Math.asin(F/O);if(G<Math.acos($)){if(!g)return null;const Qe=[],We=[];Re.vec3.scale(Qe,R,O/$),Re.vec3.normalize(We,Re.vec3.sub(We,Qe,P)),Re.vec3.normalize(R,Re.vec3.add(R,P,Re.vec3.scale(R,We,Math.tan(G)*O)))}const Y=[];new Uu(S,R).closestPointOnSphere(H,F,Y);const ee=Re.vec3.normalize([],qs(N,0)),de=Re.vec3.normalize([],qs(N,1)),fe=Re.vec3.normalize([],qs(N,2)),ne=Re.vec3.dot(ee,Y),ve=Re.vec3.dot(de,Y),we=Re.vec3.dot(fe,Y),De=tn(Math.asin(-ve/F));let Ve=tn(Math.atan2(ne,we));Ve=p.center.lng+function(Qe,We){const it=(We-Qe+180)%360-180;return it<-180?it+360:it}(p.center.lng,Ve);const Ue=He(Ve),ze=St(Ge(De),0,1);return new Pt(Ue,ze)}class Zne{constructor(l,d,g){this.a=Re.vec3.sub([],l,g),this.b=Re.vec3.sub([],d,g),this.center=g;const S=Re.vec3.normalize([],this.a),y=Re.vec3.normalize([],this.b);this.angle=Math.acos(Re.vec3.dot(S,y))}}function GT(p,l){if(p.angle===0)return null;let d;return d=p.a[l]===0?1/p.angle*.5*Math.PI:1/p.angle*Math.atan(p.b[l]/p.a[l]/Math.sin(p.angle)-1/Math.tan(p.angle)),d<0||d>1?null:function(g,S,y,C){const R=Math.sin(y);return g*(Math.sin((1-C)*y)/R)+S*(Math.sin(C*y)/R)}(p.a[l],p.b[l],p.angle,St(d,0,1))+p.center[l]}function Bc(p){if(p.z<=1)return jT[p.z+2*p.y+p.x];const l=WT(L4(p));return Zi.fromPoints(l)}function Od(p,l,d){return Re.vec3.scale(p,p,1-d),Re.vec3.scaleAndAdd(p,p,l,d)}function tO(p,l,d){for(const g of p)Re.vec3.transformMat4(g,g,l),Re.vec3.scale(g,g,d)}function nO(p,l,d,g){const S=l/p.worldSize,y=p.globeMatrix;if(d.z<=1){const Ue=Bc(d).getCorners();return tO(Ue,y,S),Zi.fromPoints(Ue)}const C=L4(d,g),R=WT(C,c+Dd(p._tileCoverLift));tO(R,y,S);const N=Number.MAX_VALUE,H=[-N,-N,-N],P=[N,N,N];if(C.contains(p.center)){for(const Qe of R)Re.vec3.min(P,P,Qe),Re.vec3.max(H,H,Qe);H[2]=0;const Ue=p.point,ze=[Ue.x*S,Ue.y*S,0];return Re.vec3.min(P,P,ze),Re.vec3.max(H,H,ze),new Zi(P,H)}if(p._tileCoverLift>0){for(const Ue of R)Re.vec3.min(P,P,Ue),Re.vec3.max(H,H,Ue);return new Zi(P,H)}const O=[y[12]*S,y[13]*S,y[14]*S],V=C.getCenter(),F=St(p.center.lat,-nt,nt),$=St(V.lat,-nt,nt),G=He(p.center.lng),Y=Ge(F);let ee=G-He(V.lng);const de=Y-Ge($);ee>.5?ee-=1:ee<-.5&&(ee+=1);let fe=0;if(Math.abs(ee)>Math.abs(de))fe=ee>=0?1:3;else{fe=de>=0?0:2;const Ue=[y[4]*S,y[5]*S,y[6]*S],ze=-Math.sin(zt(de>=0?C.getSouth():C.getNorth()))*c;Re.vec3.scaleAndAdd(O,O,Ue,ze)}const ne=R[fe],ve=R[(fe+1)%4],we=new Zne(ne,ve,O),De=[GT(we,0)||ne[0],GT(we,1)||ne[1],GT(we,2)||ne[2]],Ve=lf(p.zoom);if(Ve>0){const Ue=function({x:Qe,y:We,z:it},mt,yt,xt,Et){const $t=1/(1<<it);let At=Qe*$t,Jt=At+$t,dn=We*$t,qt=dn+$t,Bn=0;const kn=(At+Jt)/2-xt;return kn>.5?Bn=-1:kn<-.5&&(Bn=1),At=((At+Bn)*mt-(xt*=mt))*yt+xt,Jt=((Jt+Bn)*mt-xt)*yt+xt,dn=(dn*mt-(Et*=mt))*yt+Et,qt=(qt*mt-Et)*yt+Et,[[At,qt,0],[Jt,qt,0],[Jt,dn,0],[At,dn,0]]}(d,l,p._pixelsPerMercatorPixel,G,Y);for(let Qe=0;Qe<R.length;Qe++)Od(R[Qe],Ue[Qe],Ve);const ze=Re.vec3.add([],Ue[fe],Ue[(fe+1)%4]);Re.vec3.scale(ze,ze,.5),Od(De,ze,Ve)}for(const Ue of R)Re.vec3.min(P,P,Ue),Re.vec3.max(H,H,Ue);return P[2]=Math.min(ne[2],ve[2]),Re.vec3.min(P,P,De),Re.vec3.max(H,H,De),new Zi(P,H)}function L4({x:p,y:l,z:d},g=!1){const S=1/(1<<d),y=new he(Ke(p*S),l===(1<<d)-1&&g?-90:qe((l+1)*S)),C=new he(Ke((p+1)*S),l===0&&g?90:qe(l*S));return new Ce(y,C)}function WT(p,l=c){const d=zt(p.getNorth()),g=zt(p.getSouth()),S=Math.cos(d),y=Math.cos(g),C=Math.sin(d),R=Math.sin(g),N=p.getWest(),H=p.getEast();return[Z(y,R,N,l),Z(y,R,H,l),Z(S,C,H,l),Z(S,C,N,l)]}function i1(p,l,d,g){const S=1<<d.z,y=(p/Ln+d.x)/S;return J(qe((l/Ln+d.y)/S),Ke(y),g)}function R4({min:p,max:l}){return I/Math.max(l[0]-p[0],l[1]-p[1],l[2]-p[2])}const rO=new Float64Array(16);function D4(p){const l=R4(p),d=Re.mat4.fromScaling(rO,[l,l,l]);return Re.mat4.translate(d,d,Re.vec3.negate([],p.min))}function qT(p){const l=Re.mat4.fromTranslation(rO,p.min),d=1/R4(p);return Re.mat4.scale(l,l,[d,d,d])}function KT(p){const l=Ln/(2*Math.PI);return p/(2*Math.PI)/l}function iO(p,l){return Ln/(512*Math.pow(2,p))*R4(Bc(l))}function aO(p,l,d,g,S){const y=KT(d),C=[p,l,-d/(2*Math.PI)],R=Re.mat4.identity(new Float64Array(16));return Re.mat4.translate(R,R,C),Re.mat4.scale(R,R,[y,y,y]),Re.mat4.rotateX(R,R,zt(-S)),Re.mat4.rotateY(R,R,zt(-g)),R}function lf(p){return Pn(f,w,p)}function oO(p,l){const d=J(l.lat,l.lng),g=function(y){const C=J(y._center.lat,y._center.lng),R=Re.vec3.fromValues(0,1,0);let N=Re.vec3.cross([],R,C);const H=Re.mat4.fromRotation([],-y.angle,C);N=Re.vec3.transformMat4(N,N,H),Re.mat4.fromRotation(H,-y._pitch,N);const P=Re.vec3.normalize([],C);return Re.vec3.scale(P,P,Dd(y.cameraToCenterDistance/y.pixelsPerMeter)),Re.vec3.transformMat4(P,P,H),Re.vec3.add([],C,P)}(p),S=Re.vec3.subtract([],g,d);return Re.vec3.angle(S,d)}function YT(p,l){return oO(p,l)>Math.PI/2*1.01}const sO=zt(85),Xne=Math.cos(sO),Jne=Math.sin(sO),Qne=Re.mat4.create(),lO=p=>{const l=[];return p.paint.get("circle-pitch-alignment")==="map"&&l.push("PITCH_WITH_MAP"),p.paint.get("circle-pitch-scale")==="map"&&l.push("SCALE_WITH_MAP"),l};function uO(p,l,d,g,S,y,C,R,N){if(y&&p.queryGeometry.isAboveHorizon)return!1;y&&(N*=p.pixelToTileUnitsFactor);const H=p.tileID.canonical,P=d.projection.upVectorScale(H,d.center.lat,d.worldSize).metersToTile;for(const O of l)for(const V of O){const F=V.add(R),$=S&&d.elevation?d.elevation.exaggeration()*S.getElevationAt(F.x,F.y,!0):0,G=d.projection.projectTilePoint(F.x,F.y,H);if($>0){const fe=d.projection.upVector(H,F.x,F.y);G.x+=fe[0]*P*$,G.y+=fe[1]*P*$,G.z+=fe[2]*P*$}const Y=y?F:ere(G.x,G.y,G.z,g),ee=y?p.tilespaceRays.map(fe=>nre(fe,$)):p.queryGeometry.screenGeometry,de=Re.vec4.transformMat4([],[G.x,G.y,G.z,1],g);if(!C&&y?N*=de[3]/d.cameraToCenterDistance:C&&!y&&(N*=d.cameraToCenterDistance/de[3]),y){const fe=qe((V.y/Ln+H.y)/(1<<H.z));N/=d.projection.pixelsPerMeter(fe,1)/$e(1,fe)}if($n(ee,Y,N))return!0}return!1}function ere(p,l,d,g){const S=Re.vec4.transformMat4([],[p,l,d,1],g);return new Ze(S[0]/S[3],S[1]/S[3])}const cO=Re.vec3.fromValues(0,0,0),tre=Re.vec3.fromValues(0,0,1);function nre(p,l){const d=Re.vec3.create();return cO[2]=l,p.intersectsPlane(cO,tre,d),new Ze(d[0],d[1])}class dO extends ar{}let hO,fO,pO,mO;function vO(p,{width:l,height:d},g,S){if(S){if(S instanceof Uint8ClampedArray)S=new Uint8Array(S.buffer);else if(S.length!==l*d*g)throw new RangeError("mismatched image size")}else S=new Uint8Array(l*d*g);return p.width=l,p.height=d,p.data=S,p}function gO(p,l,d){const{width:g,height:S}=l;g===p.width&&S===p.height||(ZT(p,l,{x:0,y:0},{x:0,y:0},{width:Math.min(p.width,g),height:Math.min(p.height,S)},d,null),p.width=g,p.height=S,p.data=l.data)}function ZT(p,l,d,g,S,y,C,R){if(S.width===0||S.height===0)return l;if(S.width>p.width||S.height>p.height||d.x>p.width-S.width||d.y>p.height-S.height)throw new RangeError("out of range source coordinates for image copy");if(S.width>l.width||S.height>l.height||g.x>l.width-S.width||g.y>l.height-S.height)throw new RangeError("out of range destination coordinates for image copy");const N=p.data,H=l.data,P=y===4&&R;for(let O=0;O<S.height;O++){const V=((d.y+O)*p.width+d.x)*y,F=((g.y+O)*l.width+g.x)*y;if(P)for(let $=0;$<S.width;$++){const G=V+$*y+3,Y=F+$*y;H[Y+0]=255,H[Y+1]=255,H[Y+2]=255,H[Y+3]=N[G]}else if(C)for(let $=0;$<S.width;$++){const G=V+$*y,Y=F+$*y,ee=N[G+3],de=new Ii(N[G+0]/255*ee,N[G+1]/255*ee,N[G+2]/255*ee,ee).toRenderColor(C).toArray();H[Y+0]=de[0],H[Y+1]=de[1],H[Y+2]=de[2],H[Y+3]=de[3]}else for(let $=0;$<S.width*y;$++)H[F+$]=N[V+$]}return l}Un(dO,"HeatmapBucket",{omit:["layers"]});class uf{constructor(l,d){vO(this,l,1,d)}resize(l){gO(this,new uf(l),1)}clone(){return new uf({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,d,g,S,y){ZT(l,d,g,S,y,1,null)}}class Zo{constructor(l,d){vO(this,l,4,d)}resize(l){gO(this,new Zo(l),4)}replace(l,d){d?this.data.set(l):this.data=l instanceof Uint8ClampedArray?new Uint8Array(l.buffer):l}clone(){return new Zo({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,d,g,S,y,C,R){ZT(l,d,g,S,y,4,C,R)}}class _O{constructor(l,d){this.width=l.width,this.height=l.height,this.data=d instanceof Uint8Array?new Float32Array(d.buffer):d}}function a1(p){const l={},d=p.resolution||256,g=p.clips?p.clips.length:1,S=p.image||new Zo({width:d,height:g}),y=(C,R,N)=>{l[p.evaluationKey]=N;const H=p.expression.evaluate(l);H&&(S.data[C+R+0]=Math.floor(255*H.r/H.a),S.data[C+R+1]=Math.floor(255*H.g/H.a),S.data[C+R+2]=Math.floor(255*H.b/H.a),S.data[C+R+3]=Math.floor(255*H.a))};if(p.clips)for(let C=0,R=0;C<g;++C,R+=4*d)for(let N=0,H=0;N<d;N++,H+=4){const P=N/(d-1),{start:O,end:V}=p.clips[C];y(R,H,O*(1-P)+V*P)}else for(let C=0,R=0;C<d;C++,R+=4)y(0,R,C/(d-1));return S}Un(uf,"AlphaImage"),Un(Zo,"RGBAImage");const rre=yi([{name:"a_pos",components:2,type:"Int16"}],4),{members:ire}=rre;function o1(p,l,d=2){const g=l&&l.length,S=g?l[0]*d:p.length;let y=yO(p,0,S,d,!0);const C=[];if(!y||y.next===y.prev)return C;let R,N,H;if(g&&(y=function(P,O,V,F){const $=[];for(let G=0,Y=O.length;G<Y;G++){const ee=yO(P,O[G]*F,G<Y-1?O[G+1]*F:P.length,F,!1);ee===ee.next&&(ee.steiner=!0),$.push(hre(ee))}$.sort(ure);for(let G=0;G<$.length;G++)V=cre($[G],V);return V}(p,l,y,d)),p.length>80*d){R=1/0,N=1/0;let P=-1/0,O=-1/0;for(let V=d;V<S;V+=d){const F=p[V],$=p[V+1];F<R&&(R=F),$<N&&(N=$),F>P&&(P=F),$>O&&(O=$)}H=Math.max(P-R,O-N),H=H!==0?32767/H:0}return s1(y,C,d,R,N,H,0),C}function yO(p,l,d,g,S){let y;if(S===function(C,R,N,H){let P=0;for(let O=R,V=N-H;O<N;O+=H)P+=(C[V]-C[O])*(C[O+1]+C[V+1]),V=O;return P}(p,l,d,g)>0)for(let C=l;C<d;C+=g)y=wO(C/g|0,p[C],p[C+1],y);else for(let C=d-g;C>=l;C-=g)y=wO(C/g|0,p[C],p[C+1],y);return y&&O4(y,y.next)&&(u1(y),y=y.next),y}function nm(p,l){if(!p)return p;l||(l=p);let d,g=p;do if(d=!1,g.steiner||!O4(g,g.next)&&to(g.prev,g,g.next)!==0)g=g.next;else{if(u1(g),g=l=g.prev,g===g.next)break;d=!0}while(d||g!==l);return l}function s1(p,l,d,g,S,y,C){if(!p)return;!C&&y&&function(N,H,P,O){let V=N;do V.z===0&&(V.z=XT(V.x,V.y,H,P,O)),V.prevZ=V.prev,V.nextZ=V.next,V=V.next;while(V!==N);V.prevZ.nextZ=null,V.prevZ=null,function(F){let $,G=1;do{let Y,ee=F;F=null;let de=null;for($=0;ee;){$++;let fe=ee,ne=0;for(let we=0;we<G&&(ne++,fe=fe.nextZ,fe);we++);let ve=G;for(;ne>0||ve>0&&fe;)ne!==0&&(ve===0||!fe||ee.z<=fe.z)?(Y=ee,ee=ee.nextZ,ne--):(Y=fe,fe=fe.nextZ,ve--),de?de.nextZ=Y:F=Y,Y.prevZ=de,de=Y;ee=fe}de.nextZ=null,G*=2}while($>1)}(V)}(p,g,S,y);let R=p;for(;p.prev!==p.next;){const N=p.prev,H=p.next;if(y?ore(p,g,S,y):are(p))l.push(N.i,p.i,H.i),u1(p),p=H.next,R=H.next;else if((p=H)===R){C?C===1?s1(p=sre(nm(p),l),l,d,g,S,y,2):C===2&&lre(p,l,d,g,S,y):s1(nm(p),l,d,g,S,y,1);break}}}function are(p){const l=p.prev,d=p,g=p.next;if(to(l,d,g)>=0)return!1;const S=l.x,y=d.x,C=g.x,R=l.y,N=d.y,H=g.y,P=S<y?S<C?S:C:y<C?y:C,O=R<N?R<H?R:H:N<H?N:H,V=S>y?S>C?S:C:y>C?y:C,F=R>N?R>H?R:H:N>H?N:H;let $=g.next;for(;$!==l;){if($.x>=P&&$.x<=V&&$.y>=O&&$.y<=F&&Rv(S,R,y,N,C,H,$.x,$.y)&&to($.prev,$,$.next)>=0)return!1;$=$.next}return!0}function ore(p,l,d,g){const S=p.prev,y=p,C=p.next;if(to(S,y,C)>=0)return!1;const R=S.x,N=y.x,H=C.x,P=S.y,O=y.y,V=C.y,F=R<N?R<H?R:H:N<H?N:H,$=P<O?P<V?P:V:O<V?O:V,G=R>N?R>H?R:H:N>H?N:H,Y=P>O?P>V?P:V:O>V?O:V,ee=XT(F,$,l,d,g),de=XT(G,Y,l,d,g);let fe=p.prevZ,ne=p.nextZ;for(;fe&&fe.z>=ee&&ne&&ne.z<=de;){if(fe.x>=F&&fe.x<=G&&fe.y>=$&&fe.y<=Y&&fe!==S&&fe!==C&&Rv(R,P,N,O,H,V,fe.x,fe.y)&&to(fe.prev,fe,fe.next)>=0||(fe=fe.prevZ,ne.x>=F&&ne.x<=G&&ne.y>=$&&ne.y<=Y&&ne!==S&&ne!==C&&Rv(R,P,N,O,H,V,ne.x,ne.y)&&to(ne.prev,ne,ne.next)>=0))return!1;ne=ne.nextZ}for(;fe&&fe.z>=ee;){if(fe.x>=F&&fe.x<=G&&fe.y>=$&&fe.y<=Y&&fe!==S&&fe!==C&&Rv(R,P,N,O,H,V,fe.x,fe.y)&&to(fe.prev,fe,fe.next)>=0)return!1;fe=fe.prevZ}for(;ne&&ne.z<=de;){if(ne.x>=F&&ne.x<=G&&ne.y>=$&&ne.y<=Y&&ne!==S&&ne!==C&&Rv(R,P,N,O,H,V,ne.x,ne.y)&&to(ne.prev,ne,ne.next)>=0)return!1;ne=ne.nextZ}return!0}function sre(p,l){let d=p;do{const g=d.prev,S=d.next.next;!O4(g,S)&&bO(g,d,d.next,S)&&l1(g,S)&&l1(S,g)&&(l.push(g.i,d.i,S.i),u1(d),u1(d.next),d=p=S),d=d.next}while(d!==p);return nm(d)}function lre(p,l,d,g,S,y){let C=p;do{let R=C.next.next;for(;R!==C.prev;){if(C.i!==R.i&&fre(C,R)){let N=xO(C,R);return C=nm(C,C.next),N=nm(N,N.next),s1(C,l,d,g,S,y,0),void s1(N,l,d,g,S,y,0)}R=R.next}C=C.next}while(C!==p)}function ure(p,l){return p.x-l.x}function cre(p,l){const d=function(S,y){let C=y;const R=S.x,N=S.y;let H,P=-1/0;do{if(N<=C.y&&N>=C.next.y&&C.next.y!==C.y){const G=C.x+(N-C.y)*(C.next.x-C.x)/(C.next.y-C.y);if(G<=R&&G>P&&(P=G,H=C.x<C.next.x?C:C.next,G===R))return H}C=C.next}while(C!==y);if(!H)return null;const O=H,V=H.x,F=H.y;let $=1/0;C=H;do{if(R>=C.x&&C.x>=V&&R!==C.x&&Rv(N<F?R:P,N,V,F,N<F?P:R,N,C.x,C.y)){const G=Math.abs(N-C.y)/(R-C.x);l1(C,S)&&(G<$||G===$&&(C.x>H.x||C.x===H.x&&dre(H,C)))&&(H=C,$=G)}C=C.next}while(C!==O);return H}(p,l);if(!d)return l;const g=xO(d,p);return nm(g,g.next),nm(d,d.next)}function dre(p,l){return to(p.prev,p,l.prev)<0&&to(l.next,p,p.next)<0}function XT(p,l,d,g,S){return(p=1431655765&((p=858993459&((p=252645135&((p=16711935&((p=(p-d)*S|0)|p<<8))|p<<4))|p<<2))|p<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-g)*S|0)|l<<8))|l<<4))|l<<2))|l<<1))<<1}function hre(p){let l=p,d=p;do(l.x<d.x||l.x===d.x&&l.y<d.y)&&(d=l),l=l.next;while(l!==p);return d}function Rv(p,l,d,g,S,y,C,R){return(S-C)*(l-R)>=(p-C)*(y-R)&&(p-C)*(g-R)>=(d-C)*(l-R)&&(d-C)*(y-R)>=(S-C)*(g-R)}function fre(p,l){return p.next.i!==l.i&&p.prev.i!==l.i&&!function(d,g){let S=d;do{if(S.i!==d.i&&S.next.i!==d.i&&S.i!==g.i&&S.next.i!==g.i&&bO(S,S.next,d,g))return!0;S=S.next}while(S!==d);return!1}(p,l)&&(l1(p,l)&&l1(l,p)&&function(d,g){let S=d,y=!1;const C=(d.x+g.x)/2,R=(d.y+g.y)/2;do S.y>R!=S.next.y>R&&S.next.y!==S.y&&C<(S.next.x-S.x)*(R-S.y)/(S.next.y-S.y)+S.x&&(y=!y),S=S.next;while(S!==d);return y}(p,l)&&(to(p.prev,p,l.prev)||to(p,l.prev,l))||O4(p,l)&&to(p.prev,p,p.next)>0&&to(l.prev,l,l.next)>0)}function to(p,l,d){return(l.y-p.y)*(d.x-l.x)-(l.x-p.x)*(d.y-l.y)}function O4(p,l){return p.x===l.x&&p.y===l.y}function bO(p,l,d,g){const S=B4(to(p,l,d)),y=B4(to(p,l,g)),C=B4(to(d,g,p)),R=B4(to(d,g,l));return S!==y&&C!==R||!(S!==0||!z4(p,d,l))||!(y!==0||!z4(p,g,l))||!(C!==0||!z4(d,p,g))||!(R!==0||!z4(d,l,g))}function z4(p,l,d){return l.x<=Math.max(p.x,d.x)&&l.x>=Math.min(p.x,d.x)&&l.y<=Math.max(p.y,d.y)&&l.y>=Math.min(p.y,d.y)}function B4(p){return p>0?1:p<0?-1:0}function l1(p,l){return to(p.prev,p,p.next)<0?to(p,l,p.next)>=0&&to(p,p.prev,l)>=0:to(p,l,p.prev)<0||to(p,p.next,l)<0}function xO(p,l){const d=JT(p.i,p.x,p.y),g=JT(l.i,l.x,l.y),S=p.next,y=l.prev;return p.next=l,l.prev=p,d.next=S,S.prev=d,g.next=d,d.prev=g,y.next=g,g.prev=y,g}function wO(p,l,d,g){const S=JT(p,l,d);return g?(S.next=g.next,S.prev=g,g.next.prev=S,g.next=S):(S.prev=S,S.next=S),S}function u1(p){p.next.prev=p.prev,p.prev.next=p.next,p.prevZ&&(p.prevZ.nextZ=p.nextZ),p.nextZ&&(p.nextZ.prevZ=p.prevZ)}function JT(p,l,d){return{i:p,x:l,y:d,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function F4(p,l){const d=p.length;if(d<=1)return[p];const g=[];let S,y;for(let C=0;C<d;C++){const R=Wr(p[C]);R!==0&&(p[C].area=Math.abs(R),y===void 0&&(y=R<0),y===R<0?(S&&g.push(S),S=[p[C]]):S.push(p[C]))}if(S&&g.push(S),l>1)for(let C=0;C<g.length;C++)g[C].length<=l||(Rw(g[C],l,1,g[C].length-1,pre),g[C]=g[C].slice(0,l));return g}function pre(p,l){return l.area-p.area}function QT(p,l,d){const g=d.patternDependencies;let S=!1;for(const y of l){const C=y.paint.get(`${p}-pattern`);C.isConstant()||(S=!0);const R=C.constantOr(null);R&&(S=!0,g[R]=!0)}return S}function eM(p,l,d,g,S){const y=S.patternDependencies;for(const C of l){const R=C.paint.get(`${p}-pattern`).value;if(R.kind!=="constant"){let N=R.evaluate({zoom:g},d,{},S.availableImages);N=N&&N.name?N.name:N,y[N]=!0,d.patterns[C.id]=N}}return d}class tM{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.fqid),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Pc,this.indexArray=new xo,this.indexArray2=new Dc,this.programConfigurations=new Oc(l.layers,{zoom:l.zoom,lut:l.lut}),this.segments=new ba,this.segments2=new ba,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id),this.projection=l.projection}updateFootprints(l,d){}populate(l,d,g,S){this.hasPattern=QT("fill",this.layers,d);const y=this.layers[0].layout.get("fill-sort-key"),C=[];for(const{feature:R,id:N,index:H,sourceLayerIndex:P}of l){const O=this.layers[0]._featureFilter.needGeometry,V=Sn(R,O);if(!this.layers[0]._featureFilter.filter(new ya(this.zoom),V,g))continue;const F=y?y.evaluate(V,{},g,d.availableImages):void 0,$={id:N,properties:R.properties,type:R.type,sourceLayerIndex:P,index:H,geometry:O?V.geometry:xn(R,g,S),patterns:{},sortKey:F};C.push($)}y&&C.sort((R,N)=>R.sortKey-N.sortKey);for(const R of C){const{geometry:N,index:H,sourceLayerIndex:P}=R;if(this.hasPattern){const O=eM("fill",this.layers,R,this.zoom,d);this.patternFeatures.push(O)}else this.addFeature(R,N,H,g,{},d.availableImages,d.brightness);d.featureIndex.insert(l[H].feature,N,H,P,this.index)}}update(l,d,g,S,y){const C=Object.keys(l).length!==0;C&&!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(l,d,C?this.stateDependentLayers:this.layers,g,S,y)}addFeatures(l,d,g,S,y,C){for(const R of this.patternFeatures)this.addFeature(R,R.geometry,R.index,d,g,S,C)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,ire),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.indexBuffer2=l.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(l,d,g,S,y,C=[],R){for(const N of F4(d,500)){let H=0;for(const G of N)H+=G.length;const P=this.segments.prepareSegment(H,this.layoutVertexArray,this.indexArray),O=P.vertexLength,V=[],F=[];for(const G of N){if(G.length===0)continue;G!==N[0]&&F.push(V.length/2);const Y=this.segments2.prepareSegment(G.length,this.layoutVertexArray,this.indexArray2),ee=Y.vertexLength;this.layoutVertexArray.emplaceBack(G[0].x,G[0].y),this.indexArray2.emplaceBack(ee+G.length-1,ee),V.push(G[0].x),V.push(G[0].y);for(let de=1;de<G.length;de++)this.layoutVertexArray.emplaceBack(G[de].x,G[de].y),this.indexArray2.emplaceBack(ee+de-1,ee+de),V.push(G[de].x),V.push(G[de].y);Y.vertexLength+=G.length,Y.primitiveLength+=G.length}const $=o1(V,F);for(let G=0;G<$.length;G+=3)this.indexArray.emplaceBack(O+$[G],O+$[G+1],O+$[G+2]);P.vertexLength+=H,P.primitiveLength+=$.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,g,y,C,S,R)}}let SO,CO,TO,MO;Un(tM,"FillBucket",{omit:["layers","patternFeatures"]});class nM{constructor(l,d,g,S){if(this.triangleCount=d.length/3,this.min=new Ze(0,0),this.max=new Ze(0,0),this.xScale=0,this.yScale=0,this.cellsX=0,this.cellsY=0,this.cells=[],this.payload=[],this.triangleCount===0||l.length===0)return;const[y,C]=[l[0].clone(),l[0].clone()];for(let O=1;O<l.length;++O){const V=l[O];y.x=Math.min(y.x,V.x),y.y=Math.min(y.y,V.y),C.x=Math.max(C.x,V.x),C.y=Math.max(C.y,V.y)}if(S){const O=Math.ceil(Math.max(C.x-y.x,C.y-y.y)/S);g=Math.max(g,O)}if(g===0)return;this.min=y,this.max=C;const R=this.max.sub(this.min);R.x=Math.max(R.x,1),R.y=Math.max(R.y,1);const N=Math.max(R.x,R.y)/g;this.cellsX=Math.max(1,Math.ceil(R.x/N)),this.cellsY=Math.max(1,Math.ceil(R.y/N)),this.xScale=1/N,this.yScale=1/N;const H=[];for(let O=0;O<this.triangleCount;O++){const V=l[d[3*O+0]].sub(this.min),F=l[d[3*O+1]].sub(this.min),$=l[d[3*O+2]].sub(this.min),G=Fc(Math.floor(Math.min(V.x,F.x,$.x)),this.xScale,this.cellsX),Y=Fc(Math.floor(Math.max(V.x,F.x,$.x)),this.xScale,this.cellsX),ee=Fc(Math.floor(Math.min(V.y,F.y,$.y)),this.yScale,this.cellsY),de=Fc(Math.floor(Math.max(V.y,F.y,$.y)),this.yScale,this.cellsY),fe=new Ze(0,0),ne=new Ze(0,0),ve=new Ze(0,0),we=new Ze(0,0);for(let De=ee;De<=de;++De){fe.y=ne.y=De*N,ve.y=we.y=(De+1)*N;for(let Ve=G;Ve<=Y;++Ve)fe.x=ve.x=Ve*N,ne.x=we.x=(Ve+1)*N,(Ni(V,F,$,fe,ne,we)||Ni(V,F,$,fe,we,ve))&&H.push({cellIdx:De*this.cellsX+Ve,triIdx:O})}}if(H.length===0)return;H.sort((O,V)=>O.cellIdx-V.cellIdx||O.triIdx-V.triIdx);let P=0;for(;P<H.length;){const O=H[P].cellIdx,V={start:this.payload.length,len:0};for(;P<H.length&&H[P].cellIdx===O;)++V.len,this.payload.push(H[P++].triIdx);this.cells[O]=V}}_lazyInitLookup(){this.lookup||(this.lookup=new Uint8Array(Math.ceil(this.triangleCount/8))),this.lookup.fill(0)}queryPoint(l,d){if(this.triangleCount===0||this.cells.length===0||l.x>this.max.x||this.min.x>l.x||l.y>this.max.y||this.min.y>l.y)return;const g=Fc(l.x-this.min.x,this.xScale,this.cellsX),S=Fc(l.y-this.min.y,this.yScale,this.cellsY),y=this.cells[S*this.cellsX+g];if(y){this._lazyInitLookup();for(let C=0;C<y.len;C++){const R=this.payload[y.start+C],N=Math.floor(R/8),H=1<<R%8;if(!(this.lookup[N]&H)&&(this.lookup[N]|=H,d.push(R),d.length===this.triangleCount))return}}}query(l,d,g){if(this.triangleCount===0||this.cells.length===0||l.x>this.max.x||this.min.x>d.x||l.y>this.max.y||this.min.y>d.y)return;this._lazyInitLookup();const S=Fc(l.x-this.min.x,this.xScale,this.cellsX),y=Fc(d.x-this.min.x,this.xScale,this.cellsX),C=Fc(l.y-this.min.y,this.yScale,this.cellsY),R=Fc(d.y-this.min.y,this.yScale,this.cellsY);for(let N=C;N<=R;N++)for(let H=S;H<=y;H++){const P=this.cells[N*this.cellsX+H];if(P)for(let O=0;O<P.len;O++){const V=this.payload[P.start+O],F=Math.floor(V/8),$=1<<V%8;if(!(this.lookup[F]&$)&&(this.lookup[F]|=$,g.push(V),g.length===this.triangleCount))return}}}}function Fc(p,l,d){return Math.max(0,Math.min(d-1,Math.floor(p*l)))}Un(nM,"TriangleGridIndex");class EO{constructor(l){this.zoom=l.zoom,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.fqid),this.index=l.index,this.hasPattern=!1,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id),this.footprints=[]}updateFootprints(l,d){for(const g of this.footprints)d.push({footprint:g,id:l})}populate(l,d,g,S){const y=[];for(const{feature:C,id:R,index:N,sourceLayerIndex:H}of l){const P=this.layers[0]._featureFilter.needGeometry,O=Sn(C,P);if(!this.layers[0]._featureFilter.filter(new ya(this.zoom),O,g))continue;const V={id:R,properties:C.properties,type:C.type,sourceLayerIndex:H,index:N,geometry:P?O.geometry:xn(C,g,S),patterns:{}};y.push(V)}for(const C of y){const{geometry:R,index:N,sourceLayerIndex:H}=C;this.addFeature(C,R,N,g,{},d.availableImages,d.brightness),d.featureIndex.insert(l[N].feature,R,N,H,this.index)}}isEmpty(){return this.footprints.length===0}uploadPending(){return!1}upload(l){}update(l,d,g,S,y){}destroy(){}addFeature(l,d,g,S,y,C=[],R){for(const N of F4(d,2)){const H=[],P=[],O=[],V=new Ze(1/0,1/0),F=new Ze(-1/0,-1/0);for(const Y of N)if(Y.length!==0){Y!==N[0]&&O.push(P.length/2);for(let ee=0;ee<Y.length;ee++)P.push(Y[ee].x),P.push(Y[ee].y),H.push(Y[ee]),V.x=Math.min(V.x,Y[ee].x),V.y=Math.min(V.y,Y[ee].y),F.x=Math.max(F.x,Y[ee].x),F.y=Math.max(F.y,Y[ee].y)}const $=o1(P,O),G=new nM(H,$,8,256);this.footprints.push({vertices:H,indices:$,grid:G,min:V,max:F})}}}Un(EO,"ClipBucket",{omit:["layers"]});const mre=yi([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),vre=yi([{name:"a_pos_end",components:4,type:"Int16"},{name:"a_angular_offset_factor",components:1,type:"Int16"}]),gre=yi([{name:"a_centroid_pos",components:2,type:"Uint16"}]),_re=yi([{name:"a_join_normal_inside",components:3,type:"Int16"}]),yre=yi([{name:"a_hidden_by_landmark",components:1,type:"Uint8"}]),bre=yi([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:xre}=mre;var rM,AO,iM,IO,aM,kO,PO,N4={};function LO(){if(AO)return rM;AO=1;var p=et();function l(S,y,C,R,N){this.properties={},this.extent=C,this.type=0,this._pbf=S,this._geometry=-1,this._keys=R,this._values=N,S.readFields(d,this,y)}function d(S,y,C){S==1?y.id=C.readVarint():S==2?function(R,N){for(var H=R.readVarint()+R.pos;R.pos<H;){var P=N._keys[R.readVarint()],O=N._values[R.readVarint()];N.properties[P]=O}}(C,y):S==3?y.type=C.readVarint():S==4&&(y._geometry=C.pos)}function g(S){for(var y,C,R=0,N=0,H=S.length,P=H-1;N<H;P=N++)R+=((C=S[P]).x-(y=S[N]).x)*(y.y+C.y);return R}return rM=l,l.types=["Unknown","Point","LineString","Polygon"],l.prototype.loadGeometry=function(){var S=this._pbf;S.pos=this._geometry;for(var y,C=S.readVarint()+S.pos,R=1,N=0,H=0,P=0,O=[];S.pos<C;){if(N<=0){var V=S.readVarint();R=7&V,N=V>>3}if(N--,R===1||R===2)H+=S.readSVarint(),P+=S.readSVarint(),R===1&&(y&&O.push(y),y=[]),y.push(new p(H,P));else{if(R!==7)throw new Error("unknown command "+R);y&&y.push(y[0].clone())}}return y&&O.push(y),O},l.prototype.bbox=function(){var S=this._pbf;S.pos=this._geometry;for(var y=S.readVarint()+S.pos,C=1,R=0,N=0,H=0,P=1/0,O=-1/0,V=1/0,F=-1/0;S.pos<y;){if(R<=0){var $=S.readVarint();C=7&$,R=$>>3}if(R--,C===1||C===2)(N+=S.readSVarint())<P&&(P=N),N>O&&(O=N),(H+=S.readSVarint())<V&&(V=H),H>F&&(F=H);else if(C!==7)throw new Error("unknown command "+C)}return[P,V,O,F]},l.prototype.toGeoJSON=function(S,y,C){var R,N,H=this.extent*Math.pow(2,C),P=this.extent*S,O=this.extent*y,V=this.loadGeometry(),F=l.types[this.type];function $(ee){for(var de=0;de<ee.length;de++){var fe=ee[de];ee[de]=[360*(fe.x+P)/H-180,360/Math.PI*Math.atan(Math.exp((180-360*(fe.y+O)/H)*Math.PI/180))-90]}}switch(this.type){case 1:var G=[];for(R=0;R<V.length;R++)G[R]=V[R][0];$(V=G);break;case 2:for(R=0;R<V.length;R++)$(V[R]);break;case 3:for(V=function(ee){var de=ee.length;if(de<=1)return[ee];for(var fe,ne,ve=[],we=0;we<de;we++){var De=g(ee[we]);De!==0&&(ne===void 0&&(ne=De<0),ne===De<0?(fe&&ve.push(fe),fe=[ee[we]]):fe.push(ee[we]))}return fe&&ve.push(fe),ve}(V),R=0;R<V.length;R++)for(N=0;N<V[R].length;N++)$(V[R][N])}V.length===1?V=V[0]:F="Multi"+F;var Y={type:"Feature",geometry:{type:F,coordinates:V},properties:this.properties};return"id"in this&&(Y.id=this.id),Y},rM}function RO(){if(IO)return iM;IO=1;var p=LO();function l(g,S){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=g,this._keys=[],this._values=[],this._features=[],g.readFields(d,this,S),this.length=this._features.length}function d(g,S,y){g===15?S.version=y.readVarint():g===1?S.name=y.readString():g===5?S.extent=y.readVarint():g===2?S._features.push(y.pos):g===3?S._keys.push(y.readString()):g===4&&S._values.push(function(C){for(var R=null,N=C.readVarint()+C.pos;C.pos<N;){var H=C.readVarint()>>3;R=H===1?C.readString():H===2?C.readFloat():H===3?C.readDouble():H===4?C.readVarint64():H===5?C.readVarint():H===6?C.readSVarint():H===7?C.readBoolean():null}return R}(y))}return iM=l,l.prototype.feature=function(g){if(g<0||g>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[g];var S=this._pbf.readVarint()+this._pbf.pos;return new p(this._pbf,S,this.extent,this._keys,this._values)},iM}function DO(){return PO||(PO=1,N4.VectorTile=function(){if(kO)return aM;kO=1;var p=RO();function l(d,g,S){if(d===3){var y=new p(S,S.readVarint()+S.pos);y.length&&(g[y.name]=y)}}return aM=function(d,g){this.layers=d.readFields(l,{},g)},aM}(),N4.VectorTileFeature=LO(),N4.VectorTileLayer=RO()),N4}var Dv=DO();class rm extends Ze{constructor(l,d,g){super(l,d),this.z=g}}class OO extends rm{constructor(l,d,g,S){super(l,d,g),this.w=S}}function $4(p,l,d,g){const S=[],y=g===0?(C,R,N,H,P,O)=>{C.push(new Ze(O,N+(O-R)/(H-R)*(P-N)))}:(C,R,N,H,P,O)=>{C.push(new Ze(R+(O-N)/(P-N)*(H-R),O))};for(const C of p){const R=[];for(const N of C){if(N.length<=2)continue;const H=[];for(let V=0;V<N.length-1;V++){const F=N[V].x,$=N[V].y,G=N[V+1].x,Y=N[V+1].y,ee=g===0?F:$,de=g===0?G:Y;ee<l?de>l&&y(H,F,$,G,Y,l):ee>d?de<d&&y(H,F,$,G,Y,d):H.push(N[V]),de<l&&ee>=l&&y(H,F,$,G,Y,l),de>d&&ee<=d&&y(H,F,$,G,Y,d)}let P=N[N.length-1];const O=g===0?P.x:P.y;O>=l&&O<=d&&H.push(P),H.length&&(P=H[H.length-1],H[0].x===P.x&&H[0].y===P.y||H.push(H[0]),R.push(H))}R.length&&S.push(R)}return S}function zO(p,l,d,g){const S=d==="x"?"y":"x",y=(g-p[d])/(l[d]-p[d]);p[S]=p[S]+(l[S]-p[S])*y,p[d]=g,p.hasOwnProperty("z")&&(p.z=_r(p.z,l.z,y)),p.hasOwnProperty("w")&&(p.w=_r(p.w,l.w,y))}function BO(p,l,d,g){const S=d,y=g;for(const C of["x","y"]){let R=p,N=l;R[C]>=N[C]&&(R=l,N=p),R[C]<S&&N[C]>S&&zO(R,N,C,S),R[C]<y&&N[C]>y&&zO(N,R,C,y)}}const V4=Number.MAX_SAFE_INTEGER;function FO(p,l,d,g){return p.order<l||p.order===V4||!(p.clipMask&d)||function(S,y){return y.length!==0&&y.find(C=>C===S)===void 0}(g,p.clipScope)}function H4(p,l){return p.x-l.x||p.y-l.y}function NO(p,l){return H4(p.min,l.min)===0&&H4(p.max,l.max)===0}function oM(p,l){return!(p.min.x>l.max.x||p.max.x<l.min.x||p.min.y>l.max.y||p.max.y<l.min.y)}function sM(p,l){if(p.length!==l.length)return!1;for(let d=0;d<p.length;d++)if(p[d].sourceId!==l[d].sourceId||!NO(p[d],l[d])||p[d].order!==l[d].order||p[d].clipMask!==l[d].clipMask||!nn(p[d].clipScope,l[d].clipScope))return!1;return!0}function $O(p,l,d){const g=1/Ln,S=1/(1<<d.canonical.z),y=(l.x*g+d.canonical.x)*S+d.wrap,C=(l.y*g+d.canonical.y)*S;return{min:new Ze((p.x*g+d.canonical.x)*S+d.wrap,(p.y*g+d.canonical.y)*S),max:new Ze(y,C)}}function wre(p,l,d){const g=1<<d.canonical.z,S=((l.x-d.wrap)*g-d.canonical.x)*Ln,y=(l.y*g-d.canonical.y)*Ln;return{min:new Ze(((p.x-d.wrap)*g-d.canonical.x)*Ln,(p.y*g-d.canonical.y)*Ln),max:new Ze(S,y)}}function VO(p,l,d,g,S,y,C){const R=p.indices,N=p.vertices,H=[];for(let P=g;P<g+S;P+=3){const O=l[d[P+0]+y],V=l[d[P+1]+y],F=l[d[P+2]+y],$=Math.min(O.x,V.x,F.x),G=Math.max(O.x,V.x,F.x),Y=Math.min(O.y,V.y,F.y),ee=Math.max(O.y,V.y,F.y);H.length=0,p.grid.query(new Ze($,Y),new Ze(G,ee),H);for(let de=0;de<H.length;de++){const fe=H[de];if(Ni(N[R[3*fe+0]],N[R[3*fe+1]],N[R[3*fe+2]],O,V,F,C))return!0}}return!1}function HO(p,l,d,g){if(!p||!d)return!1;let S=p.vertices;if(!l.canonical.equals(g.canonical)||l.wrap!==g.wrap){if(d.vertices.length<p.vertices.length)return HO(d,g,p,l);const y=l.canonical,C=g.canonical,R=Math.pow(2,C.z-y.z);S=p.vertices.map(N=>new Ze((N.x+y.x*Ln)*R-C.x*Ln,(N.y+y.y*Ln)*R-C.y*Ln))}return VO(d,S,p.indices,0,p.indices.length,0,0)}function UO(p,l,d,g){const S=Math.pow(2,g.z-d.z);return new Ze((p+d.x*Ln)*S-g.x*Ln,(l+d.y*Ln)*S-g.y*Ln)}function jO(p,l){const d=[];l.grid.queryPoint(p,d);const g=l.indices,S=l.vertices;for(let y=0;y<d.length;y++){const C=d[y];if(ea([S[g[3*C+0]],S[g[3*C+1]],S[g[3*C+2]]],p))return!0}return!1}const lM=[new Ze(0,0),new Ze(Ln,0),new Ze(Ln,Ln),new Ze(0,Ln)];function GO(p,l){const d=[];let g=[];if(!l||p.length<2)return[p];if(p.length===2)return Fa(p[0],p[1],lM)?[p]:[];for(let S=0;S<p.length+2;S++){const y=p[S%p.length],C=p[(S+1)%p.length],R=Fa(S===0?p[p.length-1]:p[(S-1)%p.length],y,lM),N=Fa(y,C,lM),H=R||N;H&&g.push(y),H&&N||g.length>0&&(g.length>1&&d.push(g),g=[])}return g.length>1&&d.push(g),d}const uM=Dv.VectorTileFeature.types,Sre=["fill-extrusion-base","fill-extrusion-height","fill-extrusion-color","fill-extrusion-pattern","fill-extrusion-flood-light-wall-radius","fill-extrusion-line-width","fill-extrusion-emissive-strength"],Cre=["fill-extrusion-flood-light-ground-radius"],Tre=Math.pow(2,13),Mre=Math.pow(2,15)-1,WO=new Ze(0,1),cf=2147483648;function c1(p,l,d,g,S,y,C,R){p.emplaceBack((l<<1)+C,(d<<1)+y,(Math.floor(g*Tre)<<1)+S,Math.round(R))}function d1(p,l,d){p.emplaceBack(l.x*Ln,l.y*Ln,d?1:0)}function U4(p,l,d,g,S,y){p.emplaceBack(l.x,l.y,(d.x<<1)+g,(d.y<<1)+S,y)}function h1(p,l,d){p.emplaceBack(l.x,l.y,l.z,d[0]*16384,d[1]*16384,d[2]*16384)}class qO{constructor(){this.vertexOffset=0,this.vertexCount=0,this.indexOffset=0,this.indexCount=0}}class KO{constructor(){this.centroidXY=new Ze(0,0),this.vertexArrayOffset=0,this.vertexCount=0,this.groundVertexArrayOffset=0,this.groundVertexCount=0,this.flags=0,this.footprintSegIdx=-1,this.footprintSegLen=0,this.polygonSegIdx=-1,this.polygonSegLen=0,this.min=new Ze(Number.MAX_VALUE,Number.MAX_VALUE),this.max=new Ze(-Number.MAX_VALUE,-Number.MAX_VALUE),this.height=0}span(){return new Ze(this.max.x-this.min.x,this.max.y-this.min.y)}}class YO{constructor(){this.acc=new Ze(0,0),this.accCount=0,this.centroidDataIndex=0}startRing(l,d){l.min.x===Number.MAX_VALUE&&(l.min.x=l.max.x=d.x,l.min.y=l.max.y=d.y)}appendEdge(l,d,g){this.accCount++,this.acc._add(d);let S=!!this.borders;d.x<l.min.x?(l.min.x=d.x,S=!0):d.x>l.max.x&&(l.max.x=d.x,S=!0),d.y<l.min.y?(l.min.y=d.y,S=!0):d.y>l.max.y&&(l.max.y=d.y,S=!0),((d.x===0||d.x===Ln)&&d.x===g.x)!=((d.y===0||d.y===Ln)&&d.y===g.y)&&this.processBorderOverlap(d,g),S&&this.checkBorderIntersection(d,g)}checkBorderIntersection(l,d){d.x<0!=l.x<0&&this.addBorderIntersection(0,_r(d.y,l.y,(0-d.x)/(l.x-d.x))),d.x>Ln!=l.x>Ln&&this.addBorderIntersection(1,_r(d.y,l.y,(Ln-d.x)/(l.x-d.x))),d.y<0!=l.y<0&&this.addBorderIntersection(2,_r(d.x,l.x,(0-d.y)/(l.y-d.y))),d.y>Ln!=l.y>Ln&&this.addBorderIntersection(3,_r(d.x,l.x,(Ln-d.y)/(l.y-d.y)))}addBorderIntersection(l,d){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const g=this.borders[l];d<g[0]&&(g[0]=d),d>g[1]&&(g[1]=d)}processBorderOverlap(l,d){if(l.x===d.x){if(l.y===d.y)return;const g=l.x===0?0:1;this.addBorderIntersection(g,d.y),this.addBorderIntersection(g,l.y)}else{const g=l.y===0?2:3;this.addBorderIntersection(g,d.x),this.addBorderIntersection(g,l.x)}}centroid(){return this.accCount===0?new Ze(0,0):new Ze(Math.floor(Math.max(0,this.acc.x)/this.accCount),Math.floor(Math.max(0,this.acc.y)/this.accCount))}intersectsCount(){return this.borders?this.borders.reduce((l,d)=>l+ +(d[0]!==Number.MAX_VALUE),0):0}}function ZO(p,l){const d=p.add(l)._unit(),g=St(p.x*d.x+p.y*d.y,-1,1);var S,y,C;return C=Math.acos(g),Math.min(4,Math.max(-4,Math.tan(C)))/4*Mre*((S=p).x*(y=l).y-S.y*y.x<0?-1:1)}const Ere=[p=>p.x<0,p=>p.x>Ln,p=>p.y<0,p=>p.y>Ln];function Are(p,l,d,g){const S=[4];if(g===0)return S;d._mult(g);const y=p.sub(d),C=l.sub(d),R=[p,l,y,C];for(let N=0;N<4;N++)for(const H of R)if(Ere[N](H)){S.push(N);break}return S}class XO{constructor(l){this.vertexArray=new Sv,this.indexArray=new xo,this.programConfigurations=new Oc(l.layers,{zoom:l.zoom,lut:l.lut},d=>Cre.includes(d)),this._segments=new ba,this.hiddenByLandmarkVertexArray=new Ev,this._segmentToGroundQuads={},this._segmentToGroundQuads[0]=[],this._segmentToRegionTriCounts={},this._segmentToRegionTriCounts[0]=[0,0,0,0,0],this.regionSegments={},this.regionSegments[4]=new ba}getDefaultSegment(){return this.regionSegments[4]}hasData(){return this.vertexArray.length!==0}addData(l,d,g,S=!1){const y=l.length;if(y>2){let C=Math.max(0,this._segments.get().length-1);const R=this._segments._prepareSegment(4*y,this.vertexArray.length,2*this._segmentToGroundQuads[C].length);let N;C!==this._segments.get().length-1&&(C++,this._segmentToGroundQuads[C]=[],this._segmentToRegionTriCounts[C]=[0,0,0,0,0]);{const H=l[0],P=l[1];N=ZO(H.sub(l[y-1])._perp()._unit(),P.sub(H)._perp()._unit())}for(let H=0;H<y;H++){const P=H===y-1?0:H+1,O=l[H],V=l[P],F=l[P===y-1?0:P+1],$=V.sub(O)._perp()._unit(),G=ZO($,F.sub(V)._perp()._unit()),Y=N,ee=G;if(cM(O,V,d)||S&&e9(O,d)&&e9(V,d)){N=G;continue}const de=R.vertexLength;U4(this.vertexArray,O,V,1,1,Y),U4(this.vertexArray,O,V,1,0,Y),U4(this.vertexArray,O,V,0,1,ee),U4(this.vertexArray,O,V,0,0,ee),R.vertexLength+=4;const fe=Are(O,V,$,g);for(const ne of fe)this._segmentToGroundQuads[C].push({id:de,region:ne}),this._segmentToRegionTriCounts[C][ne]+=2,R.primitiveLength+=2;N=G}}}prepareBorderSegments(){if(!this.hasData())return;const l=this._segments.get(),d=l.length;for(let g=0;g<d;g++)this._segmentToGroundQuads[g].sort((S,y)=>S.region-y.region);for(let g=0;g<d;g++){const S=this._segmentToGroundQuads[g],y=l[g],C=this._segmentToRegionTriCounts[g];C.reduce((N,H)=>N+H,0);let R=0;for(let N=0;N<=4;N++){const H=C[N];if(H!==0){let P=this.regionSegments[N];P||(P=this.regionSegments[N]=new ba);const O={vertexOffset:y.vertexOffset,primitiveOffset:y.primitiveOffset+R,vertexLength:y.vertexLength,primitiveLength:H};P.get().push(O)}R+=H}for(let N=0;N<S.length;N++){const H=S[N].id;this.indexArray.emplaceBack(H,H+1,H+3),this.indexArray.emplaceBack(H,H+3,H+2)}}this._segmentToGroundQuads=null,this._segmentToRegionTriCounts=null,this._segments.destroy(),this._segments=null}addPaintPropertiesData(l,d,g,S,y,C){this.hasData()&&this.programConfigurations.populatePaintArrays(this.vertexArray.length,l,d,g,S,y,C)}upload(l){this.hasData()&&(this.vertexBuffer=l.createVertexBuffer(this.vertexArray,vre.members),this.indexBuffer=l.createIndexBuffer(this.indexArray))}uploadPaintProperties(l){this.hasData()&&this.programConfigurations.upload(l)}update(l,d,g,S,y,C){this.hasData()&&this.programConfigurations.updatePaintArrays(l,d,g,S,y,C)}updateHiddenByLandmark(l){if(!this.hasData())return;const d=l.groundVertexCount+l.groundVertexArrayOffset;if(l.groundVertexCount===0)return;const g=l.flags&cf?1:0;for(let S=l.groundVertexArrayOffset;S<d;++S)this.hiddenByLandmarkVertexArray.emplace(S,g);this._needsHiddenByLandmarkUpdate=!0}uploadHiddenByLandmark(l){this.hasData()&&this._needsHiddenByLandmarkUpdate&&(!this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexArray.length>0?this.hiddenByLandmarkVertexBuffer=l.createVertexBuffer(this.hiddenByLandmarkVertexArray,yre.members,!0):this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexBuffer.updateData(this.hiddenByLandmarkVertexArray),this._needsHiddenByLandmarkUpdate=!1)}destroy(){if(this.vertexBuffer){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexBuffer.destroy(),this._segments&&this._segments.destroy(),this.programConfigurations.destroy();for(let l=0;l<=4;l++){const d=this.regionSegments[l];d&&d.destroy()}}}}class j4{constructor(l){this.zoom=l.zoom,this.canonical=l.canonical,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.fqid),this.index=l.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=l.projection,this.activeReplacements=[],this.replacementUpdateTime=0,this.centroidData=[],this.footprintIndices=new xo,this.footprintVertices=new Pc,this.footprintSegments=[],this.layoutVertexArray=new Lc,this.centroidVertexArray=new T4,this.wallVertexArray=new Qy,this.indexArray=new xo,this.programConfigurations=new Oc(l.layers,{zoom:l.zoom,lut:l.lut},d=>Sre.includes(d)),this.segments=new ba,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id),this.groundEffect=new XO(l),this.maxHeight=0,this.partLookup={},this.triangleSubSegments=[],this.polygonSegments=[]}updateFootprints(l,d){}populate(l,d,g,S){this.features=[],this.hasPattern=QT("fill-extrusion",this.layers,d),this.featuresOnBorder=[],this.borderFeatureIndices=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=ct(g),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter,this.wallMode=this.layers[0].paint.get("fill-extrusion-line-width").constantOr(1)!==0;for(const{feature:y,id:C,index:R,sourceLayerIndex:N}of l){const H=this.layers[0]._featureFilter.needGeometry,P=Sn(y,H);if(!this.layers[0]._featureFilter.filter(new ya(this.zoom),P,g))continue;const O={id:C,sourceLayerIndex:N,index:R,geometry:H?P.geometry:xn(y,g,S),properties:y.properties,type:y.type,patterns:{}},V=this.layoutVertexArray.length,F=uM[O.type]==="Polygon";if(this.hasPattern)this.features.push(eM("fill-extrusion",this.layers,O,this.zoom,d));else if(this.wallMode)for(const $ of O.geometry)for(const G of GO($,F))this.addFeature(O,[G],R,g,{},d.availableImages,S,d.brightness);else this.addFeature(O,O.geometry,R,g,{},d.availableImages,S,d.brightness);d.featureIndex.insert(y,O.geometry,R,N,this.index,V)}this.sortBorders(),this.projection.name==="mercator"&&this.splitToSubtiles(),this.groundEffect.prepareBorderSegments(),this.polygonSegments.length=0}addFeatures(l,d,g,S,y,C){for(const R of this.features){const N=uM[R.type]==="Polygon",{geometry:H}=R;if(this.wallMode)for(const P of H)for(const O of GO(P,N))this.addFeature(R,[O],R.index,d,g,S,y,C);else this.addFeature(R,H,R.index,d,g,S,y,C)}this.sortBorders(),this.projection.name==="mercator"&&this.splitToSubtiles()}update(l,d,g,S,y){const C=Object.keys(l).length!==0;if(C&&!this.stateDependentLayers.length)return;const R=C?this.stateDependentLayers:this.layers;this.programConfigurations.updatePaintArrays(l,d,R,g,S,y),this.groundEffect.update(l,d,R,g,S,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload||this.groundEffect.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,xre),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.wallVertexBuffer=l.createVertexBuffer(this.wallVertexArray,_re.members),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=l.createVertexBuffer(this.layoutVertexExtArray,bre.members,!0)),this.groundEffect.upload(l)),this.groundEffect.uploadPaintProperties(l),this.programConfigurations.upload(l),this.uploaded=!0}uploadCentroid(l){this.groundEffect.uploadHiddenByLandmark(l),this.needsCentroidUpdate&&(!this.centroidVertexBuffer&&this.centroidVertexArray.length>0?this.centroidVertexBuffer=l.createVertexBuffer(this.centroidVertexArray,gre.members,!0):this.centroidVertexBuffer&&this.centroidVertexBuffer.updateData(this.centroidVertexArray),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.groundEffect.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(l,d,g,S,y,C,R,N){const H=this.layers[0].paint.get("fill-extrusion-flood-light-ground-radius").evaluate(l,{})/this.tileToMeter,P=[new Ze(0,0),new Ze(Ln,Ln)],O=R.projection,V=O.name==="globe",F=this.wallMode||uM[l.type]==="Polygon",$=new YO;$.centroidDataIndex=this.centroidData.length;const G=new KO,Y=this.layers[0].paint.get("fill-extrusion-base").evaluate(l,{},S)<=0,ee=this.layers[0].paint.get("fill-extrusion-height").evaluate(l,{},S);let de;if(G.height=ee,G.vertexArrayOffset=this.layoutVertexArray.length,G.groundVertexArrayOffset=this.groundEffect.vertexArray.length,V&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new Cv),this.wallMode){if(V)return void Mt("Non zero fill-extrusion-line-width is not yet supported on globe.");if(d.length!==1)return;de=function(ze){const Qe=ze[0].x===ze[ze.length-1].x&&ze[0].y===ze[ze.length-1].y;(function(wn){let gn=0;const or=wn.length;for(let zn=0;zn<or;zn++)gn+=(wn[(zn+1)%or].x-wn[zn].x)*(wn[(zn+1)%or].y+wn[zn].y);return gn>=0})(ze)||(ze=ze.reverse());const it={geometry:[],joinNormals:[],indices:[]},mt=[],yt=[],xt=[];let Et=ze.length;if(Et<(Qe?3:2))return it;for(;Et>=2&&ze[Et-1].equals(ze[Et-2]);)Et--;let $t,At,Jt,dn,qt,Bn=0;for(;Bn<Et-1&&ze[Bn].equals(ze[Bn+1]);)Bn++;Qe&&($t=ze[Et-2],qt=ze[Bn].sub($t)._unit()._perp());for(let wn=Bn;wn<Et;wn++){if(Jt=wn===Et-1?Qe?ze[Bn+1]:void 0:ze[wn+1],Jt&&ze[wn].equals(Jt))continue;qt&&(dn=qt),$t&&(At=$t),$t=ze[wn],qt=Jt?Jt.sub($t)._unit()._perp():dn,dn=dn||qt;let gn=dn.add(qt);gn.x===0&&gn.y===0||gn._unit();const or=gn.x*qt.x+gn.y*qt.y,zn=or!==0?1/or:1/0,Hn=dn.x*qt.y-dn.y*qt.x>0;let Cr="miter";const Vr=2;Cr==="miter"&&zn>Vr&&(Cr="bevel"),Cr==="bevel"&&(zn>100&&(Cr="flipbevel"),zn<Vr&&(Cr="miter"));const Dr=(Or,Kr,Jr,ji)=>{const Pi=new Ze(Or.x,Or.y),Er=new Ze(Or.x,Or.y);Pi.x+=Kr.x*ji,Pi.y+=Kr.y*ji,Er.x-=Kr.x*Math.max(Jr,1),Er.y-=Kr.y*Math.max(Jr,1),xt.push(Kr),mt.push(Pi),yt.push(Er)};if(Cr==="miter")gn._mult(zn),Dr($t,gn,0,0);else if(Cr==="flipbevel")gn=qt.mult(-1),Dr($t,gn,0,0),Dr($t,gn.mult(-1),0,0);else{const Or=-Math.sqrt(zn*zn-1),Kr=Hn?Or:0,Jr=Hn?0:Or;At&&Dr($t,dn,Kr,Jr),Jt&&Dr($t,qt,Kr,Jr)}}it.geometry=[...mt,...yt.reverse(),mt[0]],it.joinNormals=[...xt,...xt.reverse(),xt[xt.length-1]];const kn=it.geometry.length-1;for(let wn=0;wn<kn/2;wn++)if(wn+1<kn/2){let gn=wn,or=wn+1,zn=kn-1-wn,Hn=kn-2-wn;gn=gn===0?kn-1:gn-1,or=or===0?kn-1:or-1,zn=zn===0?kn-1:zn-1,Hn=Hn===0?kn-1:Hn-1,it.indices.push(zn),it.indices.push(or),it.indices.push(gn),it.indices.push(zn),it.indices.push(Hn),it.indices.push(or)}return it}(d[0]),d=[de.geometry]}const fe=(ze,Qe)=>ze<(Qe.length-1)/2||ze===Qe.length-1,ne=this.wallMode?[d]:F4(d,500);for(let ze=ne.length-1;ze>=0;ze--){const Qe=ne[ze];(Qe.length===0||(ve=Qe[0]).every(We=>We.x<=0)||ve.every(We=>We.x>=Ln)||ve.every(We=>We.y<=0)||ve.every(We=>We.y>=Ln))&&ne.splice(ze,1)}var ve;let we;if(V)we=i9(ne,P,S);else{we=[];for(const ze of ne)we.push({polygon:ze,bounds:P})}const De=F?this.edgeRadius:0,Ve=De>0&&this.zoom<17,Ue=(ze,Qe)=>{if(ze.length===0)return!1;const We=ze[ze.length-1];return Qe.x===We.x&&Qe.y===We.y};for(const{polygon:ze,bounds:Qe}of we){let We=0,it=0;for(const Et of ze)F&&!Et[0].equals(Et[Et.length-1])&&Et.push(Et[0]),it+=F?Et.length-1:Et.length;const mt=this.segments.prepareSegment((F?5:4)*it,this.layoutVertexArray,this.indexArray);G.footprintSegIdx<0&&(G.footprintSegIdx=this.footprintSegments.length),G.polygonSegIdx<0&&(G.polygonSegIdx=this.polygonSegments.length);const yt={triangleArrayOffset:this.indexArray.length,triangleCount:0,triangleSegIdx:this.segments.segments.length-1},xt=new qO;if(xt.vertexOffset=this.footprintVertices.length,xt.indexOffset=3*this.footprintIndices.length,xt.ringIndices=[],F){const Et=[],$t=[];We=mt.vertexLength;for(let Jt=0;Jt<ze.length;Jt++){const dn=ze[Jt];dn.length&&Jt!==0&&$t.push(Et.length/2);const qt=[];let Bn,kn;Bn=dn[1].sub(dn[0])._perp()._unit(),xt.ringIndices.push(dn.length-1);for(let wn=1;wn<dn.length;wn++){const gn=dn[wn],or=dn[wn===dn.length-1?1:wn+1],zn=gn.clone();if(De){kn=or.sub(gn)._perp()._unit();const Hn=Bn.add(kn)._unit(),Cr=De*Math.min(4,1/(Bn.x*Hn.x+Bn.y*Hn.y));zn.x+=Cr*Hn.x,zn.y+=Cr*Hn.y,zn.x=Math.round(zn.x),zn.y=Math.round(zn.y),Bn=kn}if(!Y||De!==0&&!Ve||Ue(qt,zn)||qt.push(zn),c1(this.layoutVertexArray,zn.x,zn.y,0,0,1,1,0),this.wallMode){const Hn=fe(wn,dn);d1(this.wallVertexArray,de.joinNormals[wn],!Hn)}mt.vertexLength++,this.footprintVertices.emplaceBack(gn.x,gn.y),Et.push(gn.x,gn.y),V&&h1(this.layoutVertexExtArray,O.projectTilePoint(zn.x,zn.y,S),O.upVector(S,zn.x,zn.y))}Y&&(De===0||Ve)&&(qt.length!==0&&Ue(qt,qt[0])&&qt.pop(),this.groundEffect.addData(qt,Qe,H))}const At=this.wallMode?de.indices:o1(Et,$t);for(let Jt=0;Jt<At.length;Jt+=3)this.footprintIndices.emplaceBack(xt.vertexOffset+At[Jt+0],xt.vertexOffset+At[Jt+1],xt.vertexOffset+At[Jt+2]),this.indexArray.emplaceBack(We+At[Jt],We+At[Jt+2],We+At[Jt+1]),mt.primitiveLength++;xt.indexCount+=At.length,xt.vertexCount+=this.footprintVertices.length-xt.vertexOffset}for(let Et=0;Et<ze.length;Et++){const $t=ze[Et];$.startRing(G,$t[0]);let At=$t.length>4&&t9($t[$t.length-2],$t[0],$t[1]),Jt=De?Ire($t[$t.length-2],$t[0],$t[1],De):0;const dn=[];let qt,Bn,kn;Bn=$t[1].sub($t[0])._perp()._unit();let wn=!0;for(let gn=1,or=0;gn<$t.length;gn++){let zn=$t[gn-1],Hn=$t[gn];const Cr=$t[gn===$t.length-1?1:gn+1];if($.appendEdge(G,Hn,zn),cM(Hn,zn,Qe)){De&&(Bn=Cr.sub(Hn)._perp()._unit(),wn=!wn);continue}const Vr=Hn.sub(zn)._perp(),Dr=Vr.x/(Math.abs(Vr.x)+Math.abs(Vr.y)),Or=Vr.y>0?1:0,Kr=zn.dist(Hn);if(or+Kr>32768&&(or=0),De){kn=Cr.sub(Hn)._perp()._unit();let Er=QO(zn,Hn,Cr,JO(Bn,kn),De);isNaN(Er)&&(Er=0);const Ti=Hn.sub(zn)._unit();zn=zn.add(Ti.mult(Jt))._round(),Hn=Hn.add(Ti.mult(-Er))._round(),Jt=Er,Bn=kn,Y&&this.zoom>=17&&(Ue(dn,zn)||dn.push(zn),Ue(dn,Hn)||dn.push(Hn))}const Jr=mt.vertexLength,ji=$t.length>4&&t9(zn,Hn,Cr);let Pi=n9(or,At,wn);if(c1(this.layoutVertexArray,zn.x,zn.y,Dr,Or,0,0,Pi),c1(this.layoutVertexArray,zn.x,zn.y,Dr,Or,0,1,Pi),this.wallMode){const Er=fe(gn-1,$t),Ti=de.joinNormals[gn-1];d1(this.wallVertexArray,Ti,Er),d1(this.wallVertexArray,Ti,Er)}if(or+=Kr,Pi=n9(or,ji,!wn),At=ji,c1(this.layoutVertexArray,Hn.x,Hn.y,Dr,Or,0,0,Pi),c1(this.layoutVertexArray,Hn.x,Hn.y,Dr,Or,0,1,Pi),this.wallMode){const Er=fe(gn,$t),Ti=de.joinNormals[gn];d1(this.wallVertexArray,Ti,Er),d1(this.wallVertexArray,Ti,Er)}if(mt.vertexLength+=4,this.indexArray.emplaceBack(Jr+0,Jr+1,Jr+2),this.indexArray.emplaceBack(Jr+1,Jr+3,Jr+2),mt.primitiveLength+=2,De){const Er=We+(gn===1?$t.length-2:gn-2),Ti=gn===1?We:Er+1;if(this.indexArray.emplaceBack(Jr+1,Er,Jr+3),this.indexArray.emplaceBack(Er,Ti,Jr+3),mt.primitiveLength+=2,qt===void 0&&(qt=Jr),!cM(Cr,$t[gn],Qe)){const Mi=gn===$t.length-1?qt:mt.vertexLength;this.indexArray.emplaceBack(Jr+2,Jr+3,Mi),this.indexArray.emplaceBack(Jr+3,Mi+1,Mi),this.indexArray.emplaceBack(Jr+3,Ti,Mi+1),mt.primitiveLength+=3}wn=!wn}if(V){const Er=this.layoutVertexExtArray,Ti=O.projectTilePoint(zn.x,zn.y,S),Mi=O.projectTilePoint(Hn.x,Hn.y,S),ta=O.upVector(S,zn.x,zn.y),Aa=O.upVector(S,Hn.x,Hn.y);h1(Er,Ti,ta),h1(Er,Ti,ta),h1(Er,Mi,Aa),h1(Er,Mi,Aa)}}F&&(We+=$t.length-1),Y&&De&&this.zoom>=17&&(dn.length!==0&&Ue(dn,dn[0])&&dn.pop(),this.groundEffect.addData(dn,Qe,H,De>0))}this.footprintSegments.push(xt),yt.triangleCount=this.indexArray.length-yt.triangleArrayOffset,this.polygonSegments.push(yt),++G.footprintSegLen,++G.polygonSegLen}if(G.vertexCount=this.layoutVertexArray.length-G.vertexArrayOffset,G.groundVertexCount=this.groundEffect.vertexArray.length-G.groundVertexArrayOffset,G.vertexCount!==0){if(G.centroidXY=$.borders?WO:this.encodeCentroid($,G),this.centroidData.push(G),$.borders){this.featuresOnBorder.push($);const ze=this.featuresOnBorder.length-1;for(let Qe=0;Qe<$.borders.length;Qe++)$.borders[Qe][0]!==Number.MAX_VALUE&&this.borderFeatureIndices[Qe].push(ze)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,g,y,C,S,N),this.groundEffect.addPaintPropertiesData(l,g,y,C,S,N),this.maxHeight=Math.max(this.maxHeight,ee)}}sortBorders(){for(let l=0;l<this.borderFeatureIndices.length;l++)this.borderFeatureIndices[l].sort((d,g)=>this.featuresOnBorder[d].borders[l][0]-this.featuresOnBorder[g].borders[l][0])}splitToSubtiles(){const l=[];for(let R=0;R<this.centroidData.length;R++){const N=this.centroidData[R],H=+(N.min.y+N.max.y>Ln),P=2*H+(+(N.min.x+N.max.x>Ln)^H);for(let O=0;O<N.polygonSegLen;O++){const V=N.polygonSegIdx+O;l.push({centroidIdx:R,subtile:P,polygonSegmentIdx:V,triangleSegmentIdx:this.polygonSegments[V].triangleSegIdx})}}const d=new xo;l.sort((R,N)=>R.triangleSegmentIdx===N.triangleSegmentIdx?R.subtile-N.subtile:R.triangleSegmentIdx-N.triangleSegmentIdx);let g=0,S=0,y=0;for(const R of l){if(R.triangleSegmentIdx!==g)break;y++}const C=l.length;for(;S!==l.length;){g=l[S].triangleSegmentIdx;let R=0,N=S,H=S;for(let P=N;P<y&&l[P].subtile===R;P++)H++;for(;N!==y;){const P=l[N];R=P.subtile;const O=this.centroidData[P.centroidIdx].min.clone(),V=this.centroidData[P.centroidIdx].max.clone(),F={vertexOffset:this.segments.segments[g].vertexOffset,primitiveOffset:d.length,vertexLength:this.segments.segments[g].vertexLength,primitiveLength:0,sortKey:void 0,vaos:{}};for(let $=N;$<H;$++){const G=l[$],Y=this.polygonSegments[G.polygonSegmentIdx],ee=this.centroidData[G.centroidIdx].min,de=this.centroidData[G.centroidIdx].max,fe=this.indexArray.uint16;for(let ne=Y.triangleArrayOffset;ne<Y.triangleArrayOffset+Y.triangleCount;ne++)d.emplaceBack(fe[3*ne],fe[3*ne+1],fe[3*ne+2]);F.primitiveLength+=Y.triangleCount,O.x=Math.min(O.x,ee.x),O.y=Math.min(O.y,ee.y),V.x=Math.max(V.x,de.x),V.y=Math.max(V.y,de.y)}F.primitiveLength>0&&this.triangleSubSegments.push({segment:F,min:O,max:V}),N=H;for(let $=N;$<y&&l[$].subtile===l[N].subtile;$++)H++}S=y;for(let P=S;P<C&&l[P].triangleSegmentIdx===l[S].triangleSegmentIdx;P++)y++}d._trim(),this.indexArray=d}getVisibleSegments(l,d,g){const S=new ba;if(this.wallMode){for(const G of this.triangleSubSegments)S.segments.push(G.segment);return S}let y=0,C=0;const R=1<<l.canonical.z;if(d){const G=d.getMinMaxForTile(l);G&&(y=G.min,C=G.max)}C+=this.maxHeight;const N=l.toUnwrapped();let H;const P=[N.canonical.x/R+N.wrap,N.canonical.y/R],O=[(N.canonical.x+1)/R+N.wrap,(N.canonical.y+1)/R],V=(G,Y,ee)=>[G[0]*(1-ee[0])+Y[0]*ee[0],G[1]*(1-ee[1])+Y[1]*ee[1]],F=[],$=[];for(const G of this.triangleSubSegments){F[0]=G.min.x/Ln,F[1]=G.min.y/Ln,$[0]=G.max.x/Ln,$[1]=G.max.y/Ln;const Y=V(P,O,F),ee=V(P,O,$);if(new Zi([Y[0],Y[1],y],[ee[0],ee[1],C]).intersectsPrecise(g)===0){H&&(S.segments.push(H),H=void 0);continue}const de=G.segment;H&&H.vertexOffset!==de.vertexOffset&&(S.segments.push(H),H=void 0),H?(H.vertexLength+=de.vertexLength,H.primitiveLength+=de.primitiveLength):H={vertexOffset:de.vertexOffset,primitiveLength:de.primitiveLength,vertexLength:de.vertexLength,primitiveOffset:de.primitiveOffset,sortKey:void 0,vaos:{}}}return H&&S.segments.push(H),S}encodeCentroid(l,d){const g=l.centroid(),S=d.span(),y=Math.min(7,Math.round(S.x*this.tileToMeter/10)),C=Math.min(7,Math.round(S.y*this.tileToMeter/10));return new Ze(St(g.x,1,Ln-1)<<3|y,St(g.y,1,Ln-1)<<3|C)}encodeBorderCentroid(l){if(!l.borders)return new Ze(0,0);const d=l.borders,g=Number.MAX_VALUE;if(d[0][0]!==g||d[1][0]!==g){const S=d[0][0]!==g?0:1;return new Ze(6|(d[0][0]!==g?0:65528),(d[S][0]+d[S][1])/2<<3|6)}{const S=d[2][0]!==g?2:3;return new Ze((d[S][0]+d[S][1])/2<<3|6,6|(d[2][0]!==g?0:65528))}}showCentroid(l){const d=this.centroidData[l.centroidDataIndex];d.flags&=cf,d.centroidXY.x=0,d.centroidXY.y=0,this.writeCentroidToBuffer(d)}writeCentroidToBuffer(l){this.groundEffect.updateHiddenByLandmark(l);const d=l.vertexArrayOffset,g=l.vertexCount+l.vertexArrayOffset,S=l.flags&cf?WO:l.centroidXY,y=this.centroidVertexArray.geta_centroid_pos0(d);if(this.centroidVertexArray.geta_centroid_pos1(d)!==S.y||y!==S.x){for(let C=d;C<g;++C)this.centroidVertexArray.emplace(C,S.x,S.y);this.needsCentroidUpdate=!0}}createCentroidsBuffer(){this.centroidVertexArray.resize(this.layoutVertexArray.length),this.groundEffect.hiddenByLandmarkVertexArray.resize(this.groundEffect.vertexArray.length);for(const l of this.centroidData)this.writeCentroidToBuffer(l)}updateReplacement(l,d,g){if(d.updateTime===this.replacementUpdateTime)return;this.replacementUpdateTime=d.updateTime;const S=d.getReplacementRegionsForTile(l.toUnwrapped());if(sM(this.activeReplacements,S))return;if(this.activeReplacements=S,this.centroidVertexArray.length===0)this.createCentroidsBuffer();else for(const C of this.centroidData)C.flags&=2147483647;const y=[];for(const C of this.activeReplacements){if(C.order<g)continue;const R=Math.pow(2,C.footprintTileId.canonical.z-l.canonical.z);for(const N of this.centroidData)if(!(N.flags&cf||C.min.x>N.max.x||N.min.x>C.max.x||C.min.y>N.max.y||N.min.y>C.max.y))for(let H=0;H<N.footprintSegLen;H++){const P=this.footprintSegments[N.footprintSegIdx+H];if(y.length=0,kre(this.footprintVertices,P.vertexOffset,P.vertexCount,C.footprintTileId.canonical,l.canonical,y),VO(C.footprint,y,this.footprintIndices.uint16,P.indexOffset,P.indexCount,-P.vertexOffset,-R)){N.flags|=cf;break}}}for(const C of this.centroidData)this.writeCentroidToBuffer(C);this.borderDoneWithNeighborZ=[-1,-1,-1,-1]}footprintContainsPoint(l,d,g){let S=!1;for(let y=0;y<g.footprintSegLen;y++){const C=this.footprintSegments[g.footprintSegIdx+y];let R=0;for(const N of C.ringIndices){for(let H=R,P=N+R-1;H<N+R;P=H++){const O=this.footprintVertices.int16[2*(H+C.vertexOffset)+0],V=this.footprintVertices.int16[2*(H+C.vertexOffset)+1],F=this.footprintVertices.int16[2*(P+C.vertexOffset)+1];V>d!=F>d&&l<(this.footprintVertices.int16[2*(P+C.vertexOffset)+0]-O)*(d-V)/(F-V)+O&&(S=!S)}R=N}}return S}getHeightAtTileCoord(l,d){let g=Number.NEGATIVE_INFINITY,S=!0;const y=4*(l+Ln)*Ln+(d+Ln);if(this.partLookup.hasOwnProperty(y)){const C=this.partLookup[y];return C?{height:C.height,hidden:!!(C.flags&cf)}:void 0}for(const C of this.centroidData)l>C.max.x||C.min.x>l||d>C.max.y||C.min.y>d||this.footprintContainsPoint(l,d,C)&&C&&C.height>g&&(g=C.height,this.partLookup[y]=C,S=!!(C.flags&cf));if(g!==Number.NEGATIVE_INFINITY)return{height:g,hidden:S};this.partLookup[y]=void 0}}function JO(p,l){const d=p.add(l)._unit();return p.x*d.x+p.y*d.y}function Ire(p,l,d,g){const S=l.sub(p)._perp()._unit(),y=d.sub(l)._perp()._unit();return QO(p,l,d,JO(S,y),g)}function QO(p,l,d,g,S){const y=Math.sqrt(1-g*g);return Math.min(p.dist(l)/3,l.dist(d)/3,S*y/g)}function cM(p,l,d){return p.x<d[0].x&&l.x<d[0].x||p.x>d[1].x&&l.x>d[1].x||p.y<d[0].y&&l.y<d[0].y||p.y>d[1].y&&l.y>d[1].y}function e9(p,l){return p.x<l[0].x||p.x>l[1].x||p.y<l[0].y||p.y>l[1].y}function t9(p,l,d){if(p.x<0||p.x>=Ln||l.x<0||l.x>=Ln||d.x<0||d.x>=Ln)return!1;const g=d.sub(l),S=g.perp(),y=p.sub(l);return(g.x*y.x+g.y*y.y)/Math.sqrt((g.x*g.x+g.y*g.y)*(y.x*y.x+y.y*y.y))>-.866&&S.x*y.x+S.y*y.y<0}function n9(p,l,d){const g=l?2|p:-3&p;return d?1|g:-2&g}function r9(){const p=Math.PI/32,l=Math.tan(p),d=oe;return d*Math.sqrt(1+2*l*l)-d}function i9(p,l,d){const g=1<<d.z,S=Ke(d.x/g),y=Ke((d.x+1)/g),C=qe(d.y/g),R=qe((d.y+1)/g);return function(N,H,P,O,V=0,F){const $=[];if(!N.length||!P||!O)return $;const G=(we,De)=>{for(const Ve of we)$.push({polygon:Ve,bounds:De})},Y=Math.ceil(Math.log2(P)),ee=Math.ceil(Math.log2(O)),de=Y-ee,fe=[];for(let we=0;we<Math.abs(de);we++)fe.push(de>0?0:1);for(let we=0;we<Math.min(Y,ee);we++)fe.push(0),fe.push(1);let ne=N;if(ne=$4(ne,H[0].y-V,H[1].y+V,1),ne=$4(ne,H[0].x-V,H[1].x+V,0),!ne.length)return $;const ve=[];for(fe.length?ve.push({polygons:ne,bounds:H,depth:0}):G(ne,H);ve.length;){const we=ve.pop(),De=we.depth,Ve=fe[De],Ue=we.bounds[0],ze=we.bounds[1],Qe=Ve===0?Ue.x:Ue.y,We=Ve===0?ze.x:ze.y,it=F?F(Ve,Qe,We):.5*(Qe+We),mt=$4(we.polygons,Qe-V,it+V,Ve),yt=$4(we.polygons,it-V,We+V,Ve);if(mt.length){const xt=[Ue,new Ze(Ve===0?it:ze.x,Ve===1?it:ze.y)];fe.length>De+1?ve.push({polygons:mt,bounds:xt,depth:De+1}):G(mt,xt)}if(yt.length){const xt=[new Ze(Ve===0?it:Ue.x,Ve===1?it:Ue.y),ze];fe.length>De+1?ve.push({polygons:yt,bounds:xt,depth:De+1}):G(yt,xt)}}return $}(p,l,Math.ceil((y-S)/11.25),Math.ceil((C-R)/11.25),1,(N,H,P)=>{if(N===0)return .5*(H+P);{const O=qe((d.y+H/Ln)/g);return(Ge(.5*(qe((d.y+P/Ln)/g)+O))*g-d.y)*Ln}})}function kre(p,l,d,g,S,y){const C=Math.pow(2,g.z-S.z);for(let R=0;R<d;R++){let N=p.int16[2*(R+l)+0],H=p.int16[2*(R+l)+1];N=(N+S.x*Ln)*C-g.x*Ln,H=(H+S.y*Ln)*C-g.y*Ln,y.push(new Ze(N,H))}}let a9,o9;function f1(p,l){return p.x*l.x+p.y*l.y}function s9(p,l){if(p.length===1){let d=0;const g=l[d++];let S;for(;!S||g.equals(S);)if(S=l[d++],!S)return 1/0;for(;d<l.length;d++){const y=l[d],C=p[0],R=S.sub(g),N=y.sub(g),H=C.sub(g),P=f1(R,R),O=f1(R,N),V=f1(N,N),F=f1(H,R),$=f1(H,N),G=P*V-O*O,Y=(V*F-O*$)/G,ee=(P*$-O*F)/G,de=g.z*(1-Y-ee)+S.z*Y+y.z*ee;if(isFinite(de))return de}return 1/0}{let d=1/0;for(const g of l)d=Math.min(d,g.z);return d}}function l9(p,l,d,g,S,y,C,R){const N=C*S.getElevationAt(p,l,!0,!0),H=y[0]!==0,P=H?y[1]===0?C*(y[0]/7-450):C*function(O,V,F){const $=Math.floor(V[0]/8),G=Math.floor(V[1]/8),Y=10*(V[0]-8*$),ee=10*(V[1]-8*G),de=O.getElevationAt($,G,!0,!0),fe=O.getMeterToDEM(F),ne=Math.floor(.5*(Y*fe-1)),ve=Math.floor(.5*(ee*fe-1)),we=O.tileCoordToPixel($,G),De=2*ne+1,Ve=2*ve+1,Ue=function(yt,xt,Et,$t,At){return[yt.getElevationAtPixel(xt,Et,!0),yt.getElevationAtPixel(xt+At,Et,!0),yt.getElevationAtPixel(xt,Et+At,!0),yt.getElevationAtPixel(xt+$t,Et+At,!0)]}(O,we.x-ne,we.y-ve,De,Ve),ze=Math.abs(Ue[0]-Ue[1]),Qe=Math.abs(Ue[2]-Ue[3]),We=Math.abs(Ue[0]-Ue[2])+Math.abs(Ue[1]-Ue[3]),it=Math.min(.25,.5*fe*(ze+Qe)/De),mt=Math.min(.25,.5*fe*We/Ve);return de+Math.max(it*Y,mt*ee)}(S,y,R):N;return{base:N+(d===0)?-1:d,top:H?Math.max(P+g,N+d+2):N+g}}Un(j4,"FillExtrusionBucket",{omit:["layers","features"]}),Un(KO,"PartData"),Un(qO,"FootprintSegment"),Un(YO,"BorderCentroidData"),Un(XO,"GroundEffect");const Pre=yi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),Lre=yi([{name:"a_z_offset",components:1,type:"Float32"}],4),{members:Rre}=Pre,Dre=yi([{name:"a_packed",components:4,type:"Float32"}]),{members:Ore}=Dre,zre=yi([{name:"a_pattern_data",components:3,type:"Float32"}]),{members:Bre}=zre;class u9{constructor(l,d){this.width=l,this.height=d,this.nextRow=0,this.image=new uf({width:l,height:d}),this.positions={},this.uploaded=!1}getDash(l,d){const g=this.getKey(l,d);return this.positions[g]}trim(){const l=this.width,d=this.height=Bt(this.nextRow);this.image.resize({width:l,height:d})}getKey(l,d){return l.join(",")+d}getDashRanges(l,d,g){const S=[];let y=l.length%2==1?-l[l.length-1]*g:0,C=l[0]*g,R=!0;S.push({left:y,right:C,isDash:R,zeroLength:l[0]===0});let N=l[0];for(let H=1;H<l.length;H++){R=!R;const P=l[H];y=N*g,N+=P,C=N*g,S.push({left:y,right:C,isDash:R,zeroLength:P===0})}return S}addRoundDash(l,d,g){const S=d/2;for(let y=-g;y<=g;y++){const C=this.width*(this.nextRow+g+y);let R=0,N=l[R];for(let H=0;H<this.width;H++){H/N.right>1&&(N=l[++R]);const P=Math.abs(H-N.left),O=Math.abs(H-N.right),V=Math.min(P,O);let F;const $=y/g*(S+1);if(N.isDash){const G=S-Math.abs($);F=Math.sqrt(V*V+G*G)}else F=S-Math.sqrt(V*V+$*$);this.image.data[C+H]=Math.max(0,Math.min(255,F+128))}}}addRegularDash(l,d){for(let N=l.length-1;N>=0;--N){const H=l[N],P=l[N+1];H.zeroLength?l.splice(N,1):P&&P.isDash===H.isDash&&(P.left=H.left,l.splice(N,1))}const g=l[0],S=l[l.length-1];g.isDash===S.isDash&&(g.left=S.left-this.width,S.right=g.right+this.width);const y=this.width*this.nextRow;let C=0,R=l[C];for(let N=0;N<this.width;N++){N/R.right>1&&(R=l[++C]);const H=Math.abs(N-R.left),P=Math.abs(N-R.right),O=Math.min(H,P);this.image.data[y+N]=Math.max(0,Math.min(255,(R.isDash?O:-O)+d+128))}}addDash(l,d){const g=this.getKey(l,d);if(this.positions[g])return this.positions[g];const S=d==="round",y=S?7:0,C=2*y+1;if(this.nextRow+C>this.height)return Mt("LineAtlas out of space"),null;l.length===0&&l.push(1);let R=0;for(let P=0;P<l.length;P++)l[P]<0&&(Mt("Negative value is found in line dasharray, replacing values with 0"),l[P]=0),R+=l[P];if(R!==0){const P=this.width/R,O=this.getDashRanges(l,this.width,P);S?this.addRoundDash(O,P,y):this.addRegularDash(O,d==="square"?.5*P:0)}const N=this.nextRow+y;this.nextRow+=C;const H={tl:[N,y],br:[R,0]};return this.positions[g]=H,H}}Un(u9,"LineAtlas");const Fre=Dv.VectorTileFeature.types,Nre=Math.cos(Math.PI/180*37.5),$re=Math.cos(Math.PI/180*5);class dM{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.fqid),this.index=l.index,this.projection=l.projection,this.hasPattern=!1,this.hasZOffset=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(d=>{this.gradients[d.id]={}}),this.layoutVertexArray=new Uy,this.layoutVertexArray2=new Nu,this.patternVertexArray=new Rc,this.indexArray=new xo,this.programConfigurations=new Oc(l.layers,{zoom:l.zoom,lut:l.lut}),this.segments=new ba,this.maxLineLength=0,this.zOffsetVertexArray=new tf,this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id),this.tessellationStep=l.tessellationStep?l.tessellationStep:Ln/64}updateFootprints(l,d){}populate(l,d,g,S){this.hasPattern=QT("line",this.layers,d);const y=this.layers[0].layout.get("line-sort-key"),C=this.layers[0].layout.get("line-z-offset");this.hasZOffset=!C.isConstant()||!!C.constantOr(0);const R=[];for(const{feature:O,id:V,index:F,sourceLayerIndex:$}of l){const G=this.layers[0]._featureFilter.needGeometry,Y=Sn(O,G);if(!this.layers[0]._featureFilter.filter(new ya(this.zoom),Y,g))continue;const ee=y?y.evaluate(Y,{},g):void 0,de={id:V,properties:O.properties,type:O.type,sourceLayerIndex:$,index:F,geometry:G?Y.geometry:xn(O,g,S),patterns:{},sortKey:ee};R.push(de)}y&&R.sort((O,V)=>O.sortKey-V.sortKey);const{lineAtlas:N,featureIndex:H}=d,P=this.addConstantDashes(N);for(const O of R){const{geometry:V,index:F,sourceLayerIndex:$}=O;if(P&&this.addFeatureDashes(O,N),this.hasPattern){const G=eM("line",this.layers,O,this.zoom,d);this.patternFeatures.push(G)}else this.addFeature(O,V,F,g,N.positions,d.availableImages,d.brightness);H.insert(l[F].feature,V,F,$,this.index)}}addConstantDashes(l){let d=!1;for(const g of this.layers){const S=g.paint.get("line-dasharray").value,y=g.layout.get("line-cap").value;if(S.kind!=="constant"||y.kind!=="constant")d=!0;else{const C=y.value,R=S.value;if(!R)continue;l.addDash(R,C)}}return d}addFeatureDashes(l,d){const g=this.zoom;for(const S of this.layers){const y=S.paint.get("line-dasharray").value,C=S.layout.get("line-cap").value;if(y.kind==="constant"&&C.kind==="constant")continue;let R,N;if(y.kind==="constant"){if(R=y.value,!R)continue}else R=y.evaluate({zoom:g},l);N=C.kind==="constant"?C.value:C.evaluate({zoom:g},l),d.addDash(R,N),l.patterns[S.id]=d.getKey(R,N)}}update(l,d,g,S,y){const C=Object.keys(l).length!==0;C&&!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(l,d,C?this.stateDependentLayers:this.layers,g,S,y)}addFeatures(l,d,g,S,y,C){for(const R of this.patternFeatures)this.addFeature(R,R.geometry,R.index,d,g,S,C)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=l.createVertexBuffer(this.layoutVertexArray2,Ore)),this.patternVertexArray.length!==0&&(this.patternVertexBuffer=l.createVertexBuffer(this.patternVertexArray,Bre)),!this.zOffsetVertexBuffer&&this.zOffsetVertexArray.length>0&&(this.zOffsetVertexBuffer=l.createVertexBuffer(this.zOffsetVertexArray,Lre.members,!0)),this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,Rre),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.zOffsetVertexBuffer&&this.zOffsetVertexBuffer.destroy(),this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(l){if(l.properties&&l.properties.hasOwnProperty("mapbox_clip_start")&&l.properties.hasOwnProperty("mapbox_clip_end"))return{start:+l.properties.mapbox_clip_start,end:+l.properties.mapbox_clip_end}}addFeature(l,d,g,S,y,C,R){const N=this.layers[0].layout,H=N.get("line-join").evaluate(l,{}),P=N.get("line-cap").evaluate(l,{}),O=N.get("line-miter-limit"),V=N.get("line-round-limit");this.lineClips=this.lineFeatureClips(l);for(const F of d)this.addLine(F,l,S,H,P,O,V);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,g,y,C,S,R)}addLine(l,d,g,S,y,C,R){this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.currentVertex=void 0;const N={zoom:this.zoom,lineProgress:void 0},H=this.layers[0].layout,P=S==="none";if(this.patternJoinNone=this.hasPattern&&P,this.segmentStart=0,this.segmentStartf32=0,this.segmentPoints=[],this.lineClips){this.lineClipsArray.push(this.lineClips);for(let we=0;we<l.length-1;we++)this.totalDistance+=l[we].dist(l[we+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const O=Fre[d.type]==="Polygon";let V=l.length;for(;V>=2&&l[V-1].equals(l[V-2]);)V--;let F=0;for(;F<V-1&&l[F].equals(l[F+1]);)F++;if(V<(O?3:2))return;S==="bevel"&&(C=1.05);const $=this.overscaling<=16?15*Ln/(512*this.overscaling):0,G=this.segments.prepareSegment(10*V,this.layoutVertexArray,this.indexArray);let Y,ee,de,fe,ne,ve;this.e1=this.e2=-1,O&&(Y=l[V-2],ne=l[F].sub(Y)._unit()._perp());for(let we=F;we<V;we++){if(de=we===V-1?O?l[F+1]:void 0:l[we+1],de&&l[we].equals(de))continue;if(ne&&(fe=ne),Y&&(ee=Y),Y=l[we],this.hasZOffset){const xt=H.get("line-z-offset").value;if(xt.kind==="constant")ve=xt.value;else{if(this.lineClips){const Et=this.totalDistance/(this.lineClips.end-this.lineClips.start);N.lineProgress=(Et*this.lineClips.start+this.distance+(ee?ee.dist(Y):0))/Et}else Mt(`line-z-offset evaluation for ${this.layerIds[0]} requires enabling 'lineMetrics' for the source.`),N.lineProgress=0;ve=xt.evaluate(N,d)}ve=ve||0}ne=de?de.sub(Y)._unit()._perp():fe,fe=fe||ne;const De=ee&&de;let Ve=De?S:O||P?"butt":y;const Ue=fe.x*ne.x+fe.y*ne.y;if(P){const xt=function(Et){if(Et.patternJoinNone){const $t=Et.segmentPoints.length/2,At=Et.lineSoFar-Et.segmentStart;for(let Jt=0;Jt<$t;++Jt){const dn=Et.segmentPoints[2*Jt+1],qt=Math.round(Et.segmentPoints[2*Jt])+.5+.25*dn;Et.patternVertexArray.emplaceBack(qt,At,Et.segmentStart),Et.patternVertexArray.emplaceBack(qt,At,Et.segmentStart)}Et.segmentPoints.length=0}Et.e1=Et.e2=-1};if(De&&Ue<$re){this.updateDistance(ee,Y),this.addCurrentVertex(Y,fe,1,1,G,ve),xt(this),this.addCurrentVertex(Y,ne,-1,-1,G,ve);continue}if(ee){if(!de){this.updateDistance(ee,Y),this.addCurrentVertex(Y,fe,1,1,G,ve),xt(this);continue}Ve="miter"}}let ze=fe.add(ne);ze.x===0&&ze.y===0||ze._unit();const Qe=ze.x*ne.x+ze.y*ne.y,We=Qe!==0?1/Qe:1/0,it=2*Math.sqrt(2-2*Qe),mt=Qe<Nre&&ee&&de,yt=fe.x*ne.y-fe.y*ne.x>0;if(mt&&we>F){const xt=Y.dist(ee);if(xt>2*$){const Et=Y.sub(Y.sub(ee)._mult($/xt)._round());this.updateDistance(ee,Et),this.addCurrentVertex(Et,fe,0,0,G,ve),ee=Et}}if(De&&Ve==="round"&&(We<R?Ve="miter":We<=2&&(Ve="fakeround")),Ve==="miter"&&We>C&&(Ve="bevel"),Ve==="bevel"&&(We>2&&(Ve="flipbevel"),We<C&&(Ve="miter")),ee&&this.updateDistance(ee,Y),Ve==="miter")ze._mult(We),this.addCurrentVertex(Y,ze,0,0,G,ve);else if(Ve==="flipbevel"){if(We>100)ze=ne.mult(-1);else{const xt=We*fe.add(ne).mag()/fe.sub(ne).mag();ze._perp()._mult(xt*(yt?-1:1))}this.addCurrentVertex(Y,ze,0,0,G,ve),this.addCurrentVertex(Y,ze.mult(-1),0,0,G,ve)}else if(Ve==="bevel"||Ve==="fakeround"){const xt=-Math.sqrt(We*We-1),Et=yt?xt:0,$t=yt?0:xt;if(ee&&this.addCurrentVertex(Y,fe,Et,$t,G,ve),Ve==="fakeround"){const At=Math.round(180*it/Math.PI/20);for(let Jt=1;Jt<At;Jt++){let dn=Jt/At;if(dn!==.5){const Bn=dn-.5;dn+=dn*Bn*(dn-1)*((1.0904+Ue*(Ue*(3.55645-1.43519*Ue)-3.2452))*Bn*Bn+(.848013+Ue*(.215638*Ue-1.06021)))}const qt=ne.sub(fe)._mult(dn)._add(fe)._unit()._mult(yt?-1:1);this.addHalfVertex(Y,qt.x,qt.y,!1,yt,0,G,ve)}}de&&this.addCurrentVertex(Y,ne,-Et,-$t,G,ve)}else Ve==="butt"?this.addCurrentVertex(Y,ze,0,0,G,ve):Ve==="square"?(ee||this.addCurrentVertex(Y,ze,-1,-1,G,ve),this.addCurrentVertex(Y,ze,0,0,G,ve),ee&&this.addCurrentVertex(Y,ze,1,1,G,ve)):Ve==="round"&&(ee&&(this.addCurrentVertex(Y,fe,0,0,G,ve),this.addCurrentVertex(Y,fe,1,1,G,ve,!0)),de&&(this.addCurrentVertex(Y,ne,-1,-1,G,ve,!0),this.addCurrentVertex(Y,ne,0,0,G,ve)));if(mt&&we<V-1){const xt=Y.dist(de);if(xt>2*$){const Et=Y.add(de.sub(Y)._mult($/xt)._round());this.updateDistance(Y,Et),this.addCurrentVertex(Et,ne,0,0,G,ve),Y=Et}}}}addVerticesTo(l,d,g,S,y,C,R,N,H,P){const O=(d.w-l.w)/this.tessellationStep|0;if(O>1){this.lineSoFar=l.w;const V=(d.x-l.x)/O,F=(d.y-l.y)/O,$=(d.z-l.z)/O,G=(d.w-l.w)/O;for(let Y=1;Y<O;++Y)l.x+=V,l.y+=F,l.z+=$,this.lineSoFar+=G,this.addHalfVertex(l,g,S,P,!1,R,H,l.z),this.addHalfVertex(l,y,C,P,!0,-N,H,l.z)}this.lineSoFar=d.w,this.addHalfVertex(d,g,S,P,!1,R,H,d.z),this.addHalfVertex(d,y,C,P,!0,-N,H,d.z)}addCurrentVertex(l,d,g,S,y,C,R=!1){const N=d.x+d.y*g,H=d.y-d.x*g,P=d.y*S-d.x,O=-d.y-d.x*S;if(C!=null){const F=Ln+10,$=C,G=new OO(l.x,l.y,$,this.lineSoFar),Y=c9(l,-10,F),ee=this.lineSoFar;if(this.currentVertex)if(Y){const de=this.currentVertexIsOutside,fe=this.currentVertex,ne=new OO(l.x,l.y,$,this.lineSoFar);BO(fe,ne,-10,F),c9(ne,-10,F)||(de&&(this.e1=this.e2=-1,this.lineSoFar=fe.w,this.addHalfVertex(fe,N,H,R,!1,g,y,fe.z),this.addHalfVertex(fe,P,O,R,!0,-S,y,fe.z)),this.addVerticesTo(fe,ne,N,H,P,O,g,S,y,R))}else{const de=this.currentVertex;this.currentVertexIsOutside&&(BO(de,G,-10,F),this.e1=this.e2=-1,this.lineSoFar=de.w,this.addHalfVertex(de,N,H,R,!1,g,y,de.z),this.addHalfVertex(de,P,O,R,!0,-S,y,de.z)),this.addVerticesTo(de,G,N,H,P,O,g,S,y,R)}else Y||(this.addHalfVertex(l,N,H,R,!1,g,y,C),this.addHalfVertex(l,P,O,R,!0,-S,y,C));this.currentVertex=G,this.currentVertexIsOutside=Y,this.lineSoFar=ee}else this.addHalfVertex(l,N,H,R,!1,g,y,C),this.addHalfVertex(l,P,O,R,!0,-S,y,C)}addHalfVertex({x:l,y:d},g,S,y,C,R,N,H){this.patternJoinNone&&(this.segmentPoints.length===0&&(this.segmentStart=this.lineSoFar,this.segmentStartf32=Math.fround(this.lineSoFar)),C||this.segmentPoints.push(this.lineSoFar-this.segmentStart,R)),this.layoutVertexArray.emplaceBack((l<<1)+(y?1:0),(d<<1)+(C?1:0),Math.round(63*g)+128,Math.round(63*S)+128,1+(R===0?0:R<0?-1:1),0,this.lineSoFar-this.segmentStartf32),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const P=N.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,P),N.primitiveLength++),C?this.e2=P:this.e1=P,H!=null&&this.zOffsetVertexArray.emplaceBack(H)}updateScaledDistance(){if(this.lineClips){const l=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=l*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(l,d){this.distance+=l.dist(d),this.updateScaledDistance()}}function c9(p,l,d){return p.x<l||p.x>d||p.y<l||p.y>d}let d9,h9;function f9(p,l,d){return l*(Ln/(p.tileSize*Math.pow(2,d-p.tileID.overscaledZ)))}function p9(p,l){return 1/f9(p,1,l.tileZoom)}function m9(p,l,d,g){return p.translatePosMatrix(g||l.tileID.projMatrix,l,d.paint.get("line-translate"),d.paint.get("line-translate-anchor"))}Un(dM,"LineBucket",{omit:["layers","patternFeatures","currentVertex","currentVertexIsOutside"]});const v9=p=>{const l=[];g9(p)&&l.push("RENDER_LINE_DASH"),p.paint.get("line-gradient")&&l.push("RENDER_LINE_GRADIENT");const d=p.paint.get("line-trim-offset");d[0]===0&&d[1]===0||l.push("RENDER_LINE_TRIM_OFFSET"),p.paint.get("line-border-width").constantOr(1)!==0&&l.push("RENDER_LINE_BORDER");const g=p.layout.get("line-join").constantOr("miter")==="none",S=!!p.paint.get("line-pattern").constantOr(1);return g&&S&&l.push("LINE_JOIN_NONE"),l};function g9(p){const l=p.paint.get("line-dasharray").value;return l.value||l.kind!=="constant"}let hM;const _9=()=>hM||(hM={layout:d9||(d9=new la({"line-cap":new ir(Ot.layout_line["line-cap"]),"line-join":new ir(Ot.layout_line["line-join"]),"line-miter-limit":new Mn(Ot.layout_line["line-miter-limit"]),"line-round-limit":new Mn(Ot.layout_line["line-round-limit"]),"line-sort-key":new ir(Ot.layout_line["line-sort-key"]),"line-z-offset":new ir(Ot.layout_line["line-z-offset"]),visibility:new Mn(Ot.layout_line.visibility)})),paint:h9||(h9=new la({"line-opacity":new ir(Ot.paint_line["line-opacity"]),"line-color":new ir(Ot.paint_line["line-color"]),"line-translate":new Mn(Ot.paint_line["line-translate"]),"line-translate-anchor":new Mn(Ot.paint_line["line-translate-anchor"]),"line-width":new ir(Ot.paint_line["line-width"]),"line-gap-width":new ir(Ot.paint_line["line-gap-width"]),"line-offset":new ir(Ot.paint_line["line-offset"]),"line-blur":new ir(Ot.paint_line["line-blur"]),"line-dasharray":new ir(Ot.paint_line["line-dasharray"]),"line-pattern":new ir(Ot.paint_line["line-pattern"]),"line-gradient":new Tl(Ot.paint_line["line-gradient"]),"line-trim-offset":new Mn(Ot.paint_line["line-trim-offset"]),"line-trim-fade-range":new Mn(Ot.paint_line["line-trim-fade-range"]),"line-trim-color":new Mn(Ot.paint_line["line-trim-color"]),"line-emissive-strength":new Mn(Ot.paint_line["line-emissive-strength"]),"line-border-width":new ir(Ot.paint_line["line-border-width"]),"line-border-color":new ir(Ot.paint_line["line-border-color"]),"line-occlusion-opacity":new Mn(Ot.paint_line["line-occlusion-opacity"])}))},hM);class Vre extends ir{possiblyEvaluate(l,d){return d=new ya(Math.floor(d.zoom),{now:d.now,fadeDuration:d.fadeDuration,transition:d.transition}),super.possiblyEvaluate(l,d)}evaluate(l,d,g,S){return d=sr({},d,{zoom:Math.floor(d.zoom)}),super.evaluate(l,d,g,S)}}let p1;function y9(p,l){return l>0?l+2*p:p}const Hre=yi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Ure=yi([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),jre=yi([{name:"a_projected_pos",components:4,type:"Float32"}],4);yi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Gre=yi([{name:"a_auto_z_offset",components:1,type:"Float32"}],4),Wre=yi([{name:"a_texb",components:2,type:"Uint16"}]),qre=yi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_elevation_from_sea",components:2,type:"Float32"}]),Kre=yi([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"},{name:"a_auto_z_offset",components:1,type:"Float32"}]);yi([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const b9=yi([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Yre=yi([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);yi([{name:"triangle",components:3,type:"Uint16"}]),yi([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),yi([{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Float32",name:"zOffset"},{type:"Uint8",name:"hasIconTextFit"}]),yi([{type:"Float32",name:"offsetX"}]),yi([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var Mo=24;const ju=128;function fM(p,l){const{expression:d}=l;if(d.kind==="constant")return{kind:"constant",layoutSize:d.evaluate(new ya(p+1))};if(d.kind==="source")return{kind:"source"};{const{zoomStops:g,interpolationType:S}=d;let y=0;for(;y<g.length&&g[y]<=p;)y++;y=Math.max(0,y-1);let C=y;for(;C<g.length&&g[C]<p+1;)C++;C=Math.min(g.length-1,C);const R=g[y],N=g[C];return d.kind==="composite"?{kind:"composite",minZoom:R,maxZoom:N,interpolationType:S}:{kind:"camera",minZoom:R,maxZoom:N,minSize:d.evaluate(new ya(R)),maxSize:d.evaluate(new ya(N)),interpolationType:S}}}function G4(p,{uSize:l,uSizeT:d},{lowerSize:g,upperSize:S}){return p.kind==="source"?g/ju:p.kind==="composite"?_r(g/ju,S/ju,d):l}function Ov(p,l){let d=0,g=0;if(p.kind==="constant")g=p.layoutSize;else if(p.kind!=="source"){const{interpolationType:S,minZoom:y,maxZoom:C}=p,R=S?St(Is.interpolationFactor(S,l,y,C),0,1):0;p.kind==="camera"?g=_r(p.minSize,p.maxSize,R):d=R}return{uSizeT:d,uSize:g}}var Zre=Object.freeze({__proto__:null,SIZE_PACK_FACTOR:ju,evaluateSizeForFeature:G4,evaluateSizeForZoom:Ov,getSizeData:fM});function Xre(p,l,d){return p.sections.forEach(g=>{g.text=function(S,y,C){const R=y.layout.get("text-transform").evaluate(C,{});return R==="uppercase"?S=S.toLocaleUpperCase():R==="lowercase"&&(S=S.toLocaleLowerCase()),ls.applyArabicShaping&&(S=ls.applyArabicShaping(S)),S}(g.text,l,d)}),p}const m1={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};function Jre(p){return p===""||p===""||p===""||p===""||p===""||p===""||p===""||p===""||p===""||p===""||p===""||p===""||p===""||p===""||p===""||p===""||p===""}function Qre(p){return p===""||p===""||p===""||p===""||p===""||p===""||p===""||p===""||p===""||p===""}var x9,pM,w9,mM={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function eie(){return x9||(x9=1,mM.read=function(p,l,d,g,S){var y,C,R=8*S-g-1,N=(1<<R)-1,H=N>>1,P=-7,O=d?S-1:0,V=d?-1:1,F=p[l+O];for(O+=V,y=F&(1<<-P)-1,F>>=-P,P+=R;P>0;y=256*y+p[l+O],O+=V,P-=8);for(C=y&(1<<-P)-1,y>>=-P,P+=g;P>0;C=256*C+p[l+O],O+=V,P-=8);if(y===0)y=1-H;else{if(y===N)return C?NaN:1/0*(F?-1:1);C+=Math.pow(2,g),y-=H}return(F?-1:1)*C*Math.pow(2,y-g)},mM.write=function(p,l,d,g,S,y){var C,R,N,H=8*y-S-1,P=(1<<H)-1,O=P>>1,V=S===23?Math.pow(2,-24)-Math.pow(2,-77):0,F=g?0:y-1,$=g?1:-1,G=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(R=isNaN(l)?1:0,C=P):(C=Math.floor(Math.log(l)/Math.LN2),l*(N=Math.pow(2,-C))<1&&(C--,N*=2),(l+=C+O>=1?V/N:V*Math.pow(2,1-O))*N>=2&&(C++,N/=2),C+O>=P?(R=0,C=P):C+O>=1?(R=(l*N-1)*Math.pow(2,S),C+=O):(R=l*Math.pow(2,O-1)*Math.pow(2,S),C=0));S>=8;p[d+F]=255&R,F+=$,R/=256,S-=8);for(C=C<<S|R,H+=S;H>0;p[d+F]=255&C,F+=$,C/=256,H-=8);p[d+F-$]|=128*G}),mM}function S9(){if(w9)return pM;w9=1,pM=l;var p=eie();function l(ne){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(ne)?ne:new Uint8Array(ne||0),this.pos=0,this.type=0,this.length=this.buf.length}l.Varint=0,l.Fixed64=1,l.Bytes=2,l.Fixed32=5;var d=4294967296,g=1/d,S=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function y(ne){return ne.type===l.Bytes?ne.readVarint()+ne.pos:ne.pos+1}function C(ne,ve,we){return we?4294967296*ve+(ne>>>0):4294967296*(ve>>>0)+(ne>>>0)}function R(ne,ve,we){var De=ve<=16383?1:ve<=2097151?2:ve<=268435455?3:Math.floor(Math.log(ve)/(7*Math.LN2));we.realloc(De);for(var Ve=we.pos-1;Ve>=ne;Ve--)we.buf[Ve+De]=we.buf[Ve]}function N(ne,ve){for(var we=0;we<ne.length;we++)ve.writeVarint(ne[we])}function H(ne,ve){for(var we=0;we<ne.length;we++)ve.writeSVarint(ne[we])}function P(ne,ve){for(var we=0;we<ne.length;we++)ve.writeFloat(ne[we])}function O(ne,ve){for(var we=0;we<ne.length;we++)ve.writeDouble(ne[we])}function V(ne,ve){for(var we=0;we<ne.length;we++)ve.writeBoolean(ne[we])}function F(ne,ve){for(var we=0;we<ne.length;we++)ve.writeFixed32(ne[we])}function $(ne,ve){for(var we=0;we<ne.length;we++)ve.writeSFixed32(ne[we])}function G(ne,ve){for(var we=0;we<ne.length;we++)ve.writeFixed64(ne[we])}function Y(ne,ve){for(var we=0;we<ne.length;we++)ve.writeSFixed64(ne[we])}function ee(ne,ve){return(ne[ve]|ne[ve+1]<<8|ne[ve+2]<<16)+16777216*ne[ve+3]}function de(ne,ve,we){ne[we]=ve,ne[we+1]=ve>>>8,ne[we+2]=ve>>>16,ne[we+3]=ve>>>24}function fe(ne,ve){return(ne[ve]|ne[ve+1]<<8|ne[ve+2]<<16)+(ne[ve+3]<<24)}return l.prototype={destroy:function(){this.buf=null},readFields:function(ne,ve,we){for(we=we||this.length;this.pos<we;){var De=this.readVarint(),Ve=De>>3,Ue=this.pos;this.type=7&De,ne(Ve,ve,this),this.pos===Ue&&this.skip(De)}return ve},readMessage:function(ne,ve){return this.readFields(ne,ve,this.readVarint()+this.pos)},readFixed32:function(){var ne=ee(this.buf,this.pos);return this.pos+=4,ne},readSFixed32:function(){var ne=fe(this.buf,this.pos);return this.pos+=4,ne},readFixed64:function(){var ne=ee(this.buf,this.pos)+ee(this.buf,this.pos+4)*d;return this.pos+=8,ne},readSFixed64:function(){var ne=ee(this.buf,this.pos)+fe(this.buf,this.pos+4)*d;return this.pos+=8,ne},readFloat:function(){var ne=p.read(this.buf,this.pos,!0,23,4);return this.pos+=4,ne},readDouble:function(){var ne=p.read(this.buf,this.pos,!0,52,8);return this.pos+=8,ne},readVarint:function(ne){var ve,we,De=this.buf;return ve=127&(we=De[this.pos++]),we<128?ve:(ve|=(127&(we=De[this.pos++]))<<7,we<128?ve:(ve|=(127&(we=De[this.pos++]))<<14,we<128?ve:(ve|=(127&(we=De[this.pos++]))<<21,we<128?ve:function(Ve,Ue,ze){var Qe,We,it=ze.buf;if(Qe=(112&(We=it[ze.pos++]))>>4,We<128||(Qe|=(127&(We=it[ze.pos++]))<<3,We<128)||(Qe|=(127&(We=it[ze.pos++]))<<10,We<128)||(Qe|=(127&(We=it[ze.pos++]))<<17,We<128)||(Qe|=(127&(We=it[ze.pos++]))<<24,We<128)||(Qe|=(1&(We=it[ze.pos++]))<<31,We<128))return C(Ve,Qe,Ue);throw new Error("Expected varint not more than 10 bytes")}(ve|=(15&(we=De[this.pos]))<<28,ne,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var ne=this.readVarint();return ne%2==1?(ne+1)/-2:ne/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var ne=this.readVarint()+this.pos,ve=this.pos;return this.pos=ne,ne-ve>=12&&S?function(we,De,Ve){return S.decode(we.subarray(De,Ve))}(this.buf,ve,ne):function(we,De,Ve){for(var Ue="",ze=De;ze<Ve;){var Qe,We,it,mt=we[ze],yt=null,xt=mt>239?4:mt>223?3:mt>191?2:1;if(ze+xt>Ve)break;xt===1?mt<128&&(yt=mt):xt===2?(192&(Qe=we[ze+1]))==128&&(yt=(31&mt)<<6|63&Qe)<=127&&(yt=null):xt===3?(We=we[ze+2],(192&(Qe=we[ze+1]))==128&&(192&We)==128&&((yt=(15&mt)<<12|(63&Qe)<<6|63&We)<=2047||yt>=55296&&yt<=57343)&&(yt=null)):xt===4&&(We=we[ze+2],it=we[ze+3],(192&(Qe=we[ze+1]))==128&&(192&We)==128&&(192&it)==128&&((yt=(15&mt)<<18|(63&Qe)<<12|(63&We)<<6|63&it)<=65535||yt>=1114112)&&(yt=null)),yt===null?(yt=65533,xt=1):yt>65535&&(yt-=65536,Ue+=String.fromCharCode(yt>>>10&1023|55296),yt=56320|1023&yt),Ue+=String.fromCharCode(yt),ze+=xt}return Ue}(this.buf,ve,ne)},readBytes:function(){var ne=this.readVarint()+this.pos,ve=this.buf.subarray(this.pos,ne);return this.pos=ne,ve},readPackedVarint:function(ne,ve){if(this.type!==l.Bytes)return ne.push(this.readVarint(ve));var we=y(this);for(ne=ne||[];this.pos<we;)ne.push(this.readVarint(ve));return ne},readPackedSVarint:function(ne){if(this.type!==l.Bytes)return ne.push(this.readSVarint());var ve=y(this);for(ne=ne||[];this.pos<ve;)ne.push(this.readSVarint());return ne},readPackedBoolean:function(ne){if(this.type!==l.Bytes)return ne.push(this.readBoolean());var ve=y(this);for(ne=ne||[];this.pos<ve;)ne.push(this.readBoolean());return ne},readPackedFloat:function(ne){if(this.type!==l.Bytes)return ne.push(this.readFloat());var ve=y(this);for(ne=ne||[];this.pos<ve;)ne.push(this.readFloat());return ne},readPackedDouble:function(ne){if(this.type!==l.Bytes)return ne.push(this.readDouble());var ve=y(this);for(ne=ne||[];this.pos<ve;)ne.push(this.readDouble());return ne},readPackedFixed32:function(ne){if(this.type!==l.Bytes)return ne.push(this.readFixed32());var ve=y(this);for(ne=ne||[];this.pos<ve;)ne.push(this.readFixed32());return ne},readPackedSFixed32:function(ne){if(this.type!==l.Bytes)return ne.push(this.readSFixed32());var ve=y(this);for(ne=ne||[];this.pos<ve;)ne.push(this.readSFixed32());return ne},readPackedFixed64:function(ne){if(this.type!==l.Bytes)return ne.push(this.readFixed64());var ve=y(this);for(ne=ne||[];this.pos<ve;)ne.push(this.readFixed64());return ne},readPackedSFixed64:function(ne){if(this.type!==l.Bytes)return ne.push(this.readSFixed64());var ve=y(this);for(ne=ne||[];this.pos<ve;)ne.push(this.readSFixed64());return ne},skip:function(ne){var ve=7&ne;if(ve===l.Varint)for(;this.buf[this.pos++]>127;);else if(ve===l.Bytes)this.pos=this.readVarint()+this.pos;else if(ve===l.Fixed32)this.pos+=4;else{if(ve!==l.Fixed64)throw new Error("Unimplemented type: "+ve);this.pos+=8}},writeTag:function(ne,ve){this.writeVarint(ne<<3|ve)},realloc:function(ne){for(var ve=this.length||16;ve<this.pos+ne;)ve*=2;if(ve!==this.length){var we=new Uint8Array(ve);we.set(this.buf),this.buf=we,this.length=ve}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(ne){this.realloc(4),de(this.buf,ne,this.pos),this.pos+=4},writeSFixed32:function(ne){this.realloc(4),de(this.buf,ne,this.pos),this.pos+=4},writeFixed64:function(ne){this.realloc(8),de(this.buf,-1&ne,this.pos),de(this.buf,Math.floor(ne*g),this.pos+4),this.pos+=8},writeSFixed64:function(ne){this.realloc(8),de(this.buf,-1&ne,this.pos),de(this.buf,Math.floor(ne*g),this.pos+4),this.pos+=8},writeVarint:function(ne){(ne=+ne||0)>268435455||ne<0?function(ve,we){var De,Ve;if(ve>=0?(De=ve%4294967296|0,Ve=ve/4294967296|0):(Ve=~(-ve/4294967296),4294967295^(De=~(-ve%4294967296))?De=De+1|0:(De=0,Ve=Ve+1|0)),ve>=18446744073709552e3||ve<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");we.realloc(10),function(Ue,ze,Qe){Qe.buf[Qe.pos++]=127&Ue|128,Ue>>>=7,Qe.buf[Qe.pos++]=127&Ue|128,Ue>>>=7,Qe.buf[Qe.pos++]=127&Ue|128,Ue>>>=7,Qe.buf[Qe.pos++]=127&Ue|128,Qe.buf[Qe.pos]=127&(Ue>>>=7)}(De,0,we),function(Ue,ze){var Qe=(7&Ue)<<4;ze.buf[ze.pos++]|=Qe|((Ue>>>=3)?128:0),Ue&&(ze.buf[ze.pos++]=127&Ue|((Ue>>>=7)?128:0),Ue&&(ze.buf[ze.pos++]=127&Ue|((Ue>>>=7)?128:0),Ue&&(ze.buf[ze.pos++]=127&Ue|((Ue>>>=7)?128:0),Ue&&(ze.buf[ze.pos++]=127&Ue|((Ue>>>=7)?128:0),Ue&&(ze.buf[ze.pos++]=127&Ue)))))}(Ve,we)}(ne,this):(this.realloc(4),this.buf[this.pos++]=127&ne|(ne>127?128:0),ne<=127||(this.buf[this.pos++]=127&(ne>>>=7)|(ne>127?128:0),ne<=127||(this.buf[this.pos++]=127&(ne>>>=7)|(ne>127?128:0),ne<=127||(this.buf[this.pos++]=ne>>>7&127))))},writeSVarint:function(ne){this.writeVarint(ne<0?2*-ne-1:2*ne)},writeBoolean:function(ne){this.writeVarint(!!ne)},writeString:function(ne){ne=String(ne),this.realloc(4*ne.length),this.pos++;var ve=this.pos;this.pos=function(De,Ve,Ue){for(var ze,Qe,We=0;We<Ve.length;We++){if((ze=Ve.charCodeAt(We))>55295&&ze<57344){if(!Qe){ze>56319||We+1===Ve.length?(De[Ue++]=239,De[Ue++]=191,De[Ue++]=189):Qe=ze;continue}if(ze<56320){De[Ue++]=239,De[Ue++]=191,De[Ue++]=189,Qe=ze;continue}ze=Qe-55296<<10|ze-56320|65536,Qe=null}else Qe&&(De[Ue++]=239,De[Ue++]=191,De[Ue++]=189,Qe=null);ze<128?De[Ue++]=ze:(ze<2048?De[Ue++]=ze>>6|192:(ze<65536?De[Ue++]=ze>>12|224:(De[Ue++]=ze>>18|240,De[Ue++]=ze>>12&63|128),De[Ue++]=ze>>6&63|128),De[Ue++]=63&ze|128)}return Ue}(this.buf,ne,this.pos);var we=this.pos-ve;we>=128&&R(ve,we,this),this.pos=ve-1,this.writeVarint(we),this.pos+=we},writeFloat:function(ne){this.realloc(4),p.write(this.buf,ne,this.pos,!0,23,4),this.pos+=4},writeDouble:function(ne){this.realloc(8),p.write(this.buf,ne,this.pos,!0,52,8),this.pos+=8},writeBytes:function(ne){var ve=ne.length;this.writeVarint(ve),this.realloc(ve);for(var we=0;we<ve;we++)this.buf[this.pos++]=ne[we]},writeRawMessage:function(ne,ve){this.pos++;var we=this.pos;ne(ve,this);var De=this.pos-we;De>=128&&R(we,De,this),this.pos=we-1,this.writeVarint(De),this.pos+=De},writeMessage:function(ne,ve,we){this.writeTag(ne,l.Bytes),this.writeRawMessage(ve,we)},writePackedVarint:function(ne,ve){ve.length&&this.writeMessage(ne,N,ve)},writePackedSVarint:function(ne,ve){ve.length&&this.writeMessage(ne,H,ve)},writePackedBoolean:function(ne,ve){ve.length&&this.writeMessage(ne,V,ve)},writePackedFloat:function(ne,ve){ve.length&&this.writeMessage(ne,P,ve)},writePackedDouble:function(ne,ve){ve.length&&this.writeMessage(ne,O,ve)},writePackedFixed32:function(ne,ve){ve.length&&this.writeMessage(ne,F,ve)},writePackedSFixed32:function(ne,ve){ve.length&&this.writeMessage(ne,$,ve)},writePackedFixed64:function(ne,ve){ve.length&&this.writeMessage(ne,G,ve)},writePackedSFixed64:function(ne,ve){ve.length&&this.writeMessage(ne,Y,ve)},writeBytesField:function(ne,ve){this.writeTag(ne,l.Bytes),this.writeBytes(ve)},writeFixed32Field:function(ne,ve){this.writeTag(ne,l.Fixed32),this.writeFixed32(ve)},writeSFixed32Field:function(ne,ve){this.writeTag(ne,l.Fixed32),this.writeSFixed32(ve)},writeFixed64Field:function(ne,ve){this.writeTag(ne,l.Fixed64),this.writeFixed64(ve)},writeSFixed64Field:function(ne,ve){this.writeTag(ne,l.Fixed64),this.writeSFixed64(ve)},writeVarintField:function(ne,ve){this.writeTag(ne,l.Varint),this.writeVarint(ve)},writeSVarintField:function(ne,ve){this.writeTag(ne,l.Varint),this.writeSVarint(ve)},writeStringField:function(ne,ve){this.writeTag(ne,l.Bytes),this.writeString(ve)},writeFloatField:function(ne,ve){this.writeTag(ne,l.Fixed32),this.writeFloat(ve)},writeDoubleField:function(ne,ve){this.writeTag(ne,l.Fixed64),this.writeDouble(ve)},writeBooleanField:function(ne,ve){this.writeVarintField(ne,!!ve)}},pM}var W4=h(S9());const vM=3;function tie(p,l,d){l.glyphs=[],p===1&&d.readMessage(nie,l)}function nie(p,l,d){if(p===3){const{id:g,bitmap:S,width:y,height:C,left:R,top:N,advance:H}=d.readMessage(rie,{});l.glyphs.push({id:g,bitmap:new uf({width:y+2*vM,height:C+2*vM},S),metrics:{width:y,height:C,left:R,top:N,advance:H}})}else p===4?l.ascender=d.readSVarint():p===5&&(l.descender=d.readSVarint())}function rie(p,l,d){p===1?l.id=d.readVarint():p===2?l.bitmap=d.readBytes():p===3?l.width=d.readVarint():p===4?l.height=d.readVarint():p===5?l.left=d.readSVarint():p===6?l.top=d.readSVarint():p===7&&(l.advance=d.readVarint())}const C9=vM,Al={horizontal:1,vertical:2,horizontalOnly:3};class v1{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(l,d){const g=new v1;return g.scale=l||1,g.fontStack=d,g}static forImage(l){const d=new v1;return d.imageName=l,d}}class zv{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(l,d){const g=new zv;for(let S=0;S<l.sections.length;S++){const y=l.sections[S];y.image?g.addImageSection(y):g.addTextSection(y,d)}return g}length(){return this.text.length}getSection(l){return this.sections[this.sectionIndex[l]]}getSections(){return this.sections}getSectionIndex(l){return this.sectionIndex[l]}getCodePoint(l){return this.text.codePointAt(l)}verticalizePunctuation(l){this.text=function(d,g){let S="";for(let y=0;y<d.length;y++){const C=d.charCodeAt(y+1)||null,R=d.charCodeAt(y-1)||null;S+=!g&&(C&&Hp(C)&&!m1[d[y+1]]||R&&Hp(R)&&!m1[d[y-1]])||!m1[d[y]]?d[y]:m1[d[y]]}return S}(this.text,l)}trim(){let l=0;for(let g=0;g<this.text.length&&q4[this.text.charCodeAt(g)];g++)l++;let d=this.text.length;for(let g=this.text.length-1;g>=0&&g>=l&&q4[this.text.charCodeAt(g)];g--)d--;this.text=this.text.substring(l,d),this.sectionIndex=this.sectionIndex.slice(l,d)}substring(l,d){const g=new zv;return g.text=this.text.substring(l,d),g.sectionIndex=this.sectionIndex.slice(l,d),g.sections=this.sections,g}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((l,d)=>Math.max(l,this.sections[d].scale),0)}addTextSection(l,d){this.text+=l.text,this.sections.push(v1.forText(l.scale,l.fontStack||d));const g=this.sections.length-1;for(let S=0;S<l.text.length;++S)this.sectionIndex.push(g)}addImageSection(l){const d=l.image?l.image.namePrimary:"";if(d.length===0)return void Mt("Can't add FormattedSection with an empty image.");const g=this.getNextImageSectionCharCode();g?(this.text+=String.fromCodePoint(g),this.sections.push(v1.forImage(d)),this.sectionIndex.push(this.sections.length-1)):Mt("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function gM(p,l,d,g,S,y,C,R,N,H,P,O,V,F,$){const G=zv.fromFeature(p,S);O===Al.vertical&&G.verticalizePunctuation(V);let Y=[];const ee=function(we,De,Ve,Ue,ze,Qe){if(!we)return[];const We=[],it=function(Et,$t,At,Jt,dn,qt){let Bn=0;for(let kn=0;kn<Et.length();kn++){const wn=Et.getSection(kn);Bn+=T9(Et.getCodePoint(kn),wn,Jt,dn,$t,qt)}return Bn/Math.max(1,Math.ceil(Bn/At))}(we,De,Ve,Ue,ze,Qe),mt=we.text.indexOf("")>=0;let yt=0;for(let Et=0;Et<we.length();Et++){const $t=we.getSection(Et),At=we.getCodePoint(Et);if(q4[At]||(yt+=T9(At,$t,Ue,ze,De,Qe)),Et<we.length()-1){const Jt=!((xt=At)<11904||!(nr["Bopomofo Extended"](xt)||nr.Bopomofo(xt)||nr["CJK Compatibility Forms"](xt)||nr["CJK Compatibility Ideographs"](xt)||nr["CJK Compatibility"](xt)||nr["CJK Radicals Supplement"](xt)||nr["CJK Strokes"](xt)||nr["CJK Symbols and Punctuation"](xt)||nr["CJK Unified Ideographs Extension A"](xt)||nr["CJK Unified Ideographs"](xt)||nr["Enclosed CJK Letters and Months"](xt)||nr["Halfwidth and Fullwidth Forms"](xt)||nr.Hiragana(xt)||nr["Ideographic Description Characters"](xt)||nr["Kangxi Radicals"](xt)||nr["Katakana Phonetic Extensions"](xt)||nr.Katakana(xt)||nr["Vertical Forms"](xt)||nr["Yi Radicals"](xt)||nr["Yi Syllables"](xt)));(iie[At]||Jt||$t.imageName)&&We.push(E9(Et+1,yt,it,We,aie(At,we.getCodePoint(Et+1),Jt&&mt),!1))}}var xt;return A9(E9(we.length(),yt,it,We,0,!0))}(G,H,y,l,g,F),{processBidirectionalText:de,processStyledBidirectionalText:fe}=ls;if(de&&G.sections.length===1){const we=de(G.toString(),ee);for(const De of we){const Ve=new zv;Ve.text=De,Ve.sections=G.sections;for(let Ue=0;Ue<De.length;Ue++)Ve.sectionIndex.push(0);Y.push(Ve)}}else if(fe){const we=fe(G.text,G.sectionIndex,ee);for(const De of we){const Ve=new zv;Ve.text=De[0],Ve.sectionIndex=De[1],Ve.sections=G.sections,Y.push(Ve)}}else Y=function(we,De){const Ve=[],Ue=we.text;let ze=0;for(const Qe of De)Ve.push(we.substring(ze,Qe)),ze=Qe;return ze<Ue.length&&Ve.push(we.substring(ze,Ue.length)),Ve}(G,ee);const ne=[],ve={positionedLines:ne,text:G.toString(),top:P[1],bottom:P[1],left:P[0],right:P[0],writingMode:O,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(we,De,Ve,Ue,ze,Qe,We,it,mt,yt,xt,Et){let $t=0,At=0,Jt=0;const dn=it==="right"?1:it==="left"?0:.5;let qt=!1;for(const zn of ze){const Hn=zn.getSections();for(const Cr of Hn){if(Cr.imageName)continue;const Vr=De[Cr.fontStack];if(Vr&&(qt=Vr.ascender!==void 0&&Vr.descender!==void 0,!qt))break}if(!qt)break}let Bn=0;for(const zn of ze){zn.trim();const Hn=zn.getMaxScale(),Cr=(Hn-1)*Mo,Vr={positionedGlyphs:[],lineOffset:0};we.positionedLines[Bn]=Vr;const Dr=Vr.positionedGlyphs;let Or=0;if(!zn.length()){At+=Qe,++Bn;continue}let Kr=0,Jr=0;for(let Pi=0;Pi<zn.length();Pi++){const Er=zn.getSection(Pi),Ti=zn.getSectionIndex(Pi),Mi=zn.getCodePoint(Pi);let ta=Er.scale,Aa=null,Wa=null,Ia=null,ma=Mo,co=0;const Za=!(mt===Al.horizontal||!xt&&!mv(Mi)||xt&&(q4[Mi]||(kn=Mi,nr.Arabic(kn)||nr["Arabic Supplement"](kn)||nr["Arabic Extended-A"](kn)||nr["Arabic Presentation Forms-A"](kn)||nr["Arabic Presentation Forms-B"](kn))));if(Er.imageName){const Eo=Ue[Er.imageName];if(!Eo)continue;Ia=Er.imageName,we.iconsInText=we.iconsInText||!0,Wa=Eo.paddedRect;const Xi=Eo.displaySize;ta=ta*Mo/Et,Aa={width:Xi[0],height:Xi[1],left:0,top:-C9,advance:Za?Xi[1]:Xi[0],localGlyph:!1},co=qt?-Aa.height*ta:Hn*Mo-17-Xi[1]*ta,ma=Aa.advance;const Ls=(Za?Xi[0]:Xi[1])*ta-Mo*Hn;Ls>0&&Ls>Or&&(Or=Ls)}else{const Eo=Ve[Er.fontStack];if(!Eo)continue;Eo[Mi]&&(Wa=Eo[Mi]);const Xi=De[Er.fontStack];if(!Xi)continue;const Ls=Xi.glyphs[Mi];if(!Ls)continue;if(Aa=Ls.metrics,ma=Mi!==8203?Mo:0,qt){const Yu=Xi.ascender!==void 0?Math.abs(Xi.ascender):0,ru=Xi.descender!==void 0?Math.abs(Xi.descender):0,iu=(Yu+ru)*ta;Kr<iu&&(Kr=iu,Jr=(Yu-ru)/2*ta),co=-Yu*ta}else co=(Hn-ta)*Mo-17}Za?(we.verticalizable=!0,Dr.push({glyph:Mi,imageName:Ia,x:$t,y:At+co,vertical:Za,scale:ta,localGlyph:Aa.localGlyph,fontStack:Er.fontStack,sectionIndex:Ti,metrics:Aa,rect:Wa}),$t+=ma*ta+yt):(Dr.push({glyph:Mi,imageName:Ia,x:$t,y:At+co,vertical:Za,scale:ta,localGlyph:Aa.localGlyph,fontStack:Er.fontStack,sectionIndex:Ti,metrics:Aa,rect:Wa}),$t+=Aa.advance*ta+yt)}Dr.length!==0&&(Jt=Math.max($t-yt,Jt),qt?I9(Dr,dn,Or,Jr,Qe*Hn/2):I9(Dr,dn,Or,0,Qe/2)),$t=0;const ji=Qe*Hn+Or;Vr.lineOffset=Math.max(Or,Cr),At+=ji,++Bn}var kn;const wn=At,{horizontalAlign:gn,verticalAlign:or}=_M(We);(function(zn,Hn,Cr,Vr,Dr,Or){const Kr=(Hn-Cr)*Dr,Jr=-Or*Vr;for(const ji of zn)for(const Pi of ji.positionedGlyphs)Pi.x+=Kr,Pi.y+=Jr})(we.positionedLines,dn,gn,or,Jt,wn),we.top+=-or*wn,we.bottom=we.top+wn,we.left+=-gn*Jt,we.right=we.left+Jt,we.hasBaseline=qt}(ve,l,d,g,Y,C,R,N,O,H,V,$),!function(we){for(const De of we)if(De.positionedGlyphs.length!==0)return!1;return!0}(ne)&&ve}const q4={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},iie={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function T9(p,l,d,g,S,y){if(l.imageName){const C=g[l.imageName];return C?C.displaySize[0]*l.scale*Mo/y+S:0}{const C=d[l.fontStack],R=C&&C.glyphs[p];return R?R.metrics.advance*l.scale+S:0}}function M9(p,l,d,g){const S=Math.pow(p-l,2);return g?p<l?S/2:2*S:S+Math.abs(d)*d}function aie(p,l,d){let g=0;return p===10&&(g-=1e4),d&&(g+=150),p!==40&&p!==65288||(g+=50),l!==41&&l!==65289||(g+=50),g}function E9(p,l,d,g,S,y){let C=null,R=M9(l,d,S,y);for(const N of g){const H=M9(l-N.x,d,S,y)+N.badness;H<=R&&(C=N,R=H)}return{index:p,x:l,priorBreak:C,badness:R}}function A9(p){return p?A9(p.priorBreak).concat(p.index):[]}function _M(p){let l=.5,d=.5;switch(p){case"right":case"top-right":case"bottom-right":l=1;break;case"left":case"top-left":case"bottom-left":l=0}switch(p){case"bottom":case"bottom-right":case"bottom-left":d=1;break;case"top":case"top-right":case"top-left":d=0}return{horizontalAlign:l,verticalAlign:d}}function I9(p,l,d,g,S){if(!(l||d||g||S))return;const y=p.length-1,C=p[y],R=(C.x+C.metrics.advance*C.scale)*l;for(let N=0;N<=y;N++)p[N].x-=R,p[N].y+=d+g+S}function oie(p,l,d,g){const{horizontalAlign:S,verticalAlign:y}=_M(g),C=d[0]-p.displaySize[0]*S,R=d[1]-p.displaySize[1]*y;return{imagePrimary:p,imageSecondary:l,top:R,bottom:R+p.displaySize[1],left:C,right:C+p.displaySize[0]}}function k9(p,l,d,g,S,y){const C=p.imagePrimary;let R;if(C.content){const Y=C.content,ee=C.pixelRatio||1;R=[Y[0]/ee,Y[1]/ee,C.displaySize[0]-Y[2]/ee,C.displaySize[1]-Y[3]/ee]}const N=l.left*y,H=l.right*y;let P,O,V,F;d==="width"||d==="both"?(F=S[0]+N-g[3],O=S[0]+H+g[1]):(F=S[0]+(N+H-C.displaySize[0])/2,O=F+C.displaySize[0]);const $=l.top*y,G=l.bottom*y;return d==="height"||d==="both"?(P=S[1]+$-g[0],V=S[1]+G+g[2]):(P=S[1]+($+G-C.displaySize[1])/2,V=P+C.displaySize[1]),{imagePrimary:C,imageSecondary:void 0,top:P,right:O,bottom:V,left:F,collisionPadding:R}}class zd extends Ze{constructor(l,d,g,S,y){super(l,d),this.angle=S,this.z=g,y!==void 0&&(this.segment=y)}clone(){return new zd(this.x,this.y,this.z,this.angle,this.segment)}}function P9(p,l,d,g,S){if(l.segment===void 0)return!0;let y=l,C=l.segment+1,R=0;for(;R>-d/2;){if(C--,C<0)return!1;R-=p[C].dist(y),y=p[C]}R+=p[C].dist(p[C+1]),C++;const N=[];let H=0;for(;R<d/2;){const P=p[C],O=p[C+1];if(!O)return!1;let V=p[C-1].angleTo(P)-P.angleTo(O);for(V=Math.abs((V+3*Math.PI)%(2*Math.PI)-Math.PI),N.push({distance:R,angleDelta:V}),H+=V;R-N[0].distance>g;)H-=N.shift().angleDelta;if(H>S)return!1;C++,R+=P.dist(O)}return!0}function L9(p){let l=0;for(let d=0;d<p.length-1;d++)l+=p[d].dist(p[d+1]);return l}function R9(p,l,d){return p?.6*l*d:0}function D9(p,l){return Math.max(p?p.right-p.left:0,l?l.right-l.left:0)}function sie(p,l,d,g,S,y){const C=R9(d,S,y),R=D9(d,g)*y;let N=0;const H=L9(p)/2;for(let P=0;P<p.length-1;P++){const O=p[P],V=p[P+1],F=O.dist(V);if(N+F>H){const $=(H-N)/F,G=_r(O.x,V.x,$),Y=_r(O.y,V.y,$),ee=new zd(G,Y,0,V.angleTo(O),P);return!C||P9(p,ee,R,C,l)?ee:void 0}N+=F}}function lie(p,l,d,g,S,y,C,R,N){const H=R9(g,y,C),P=D9(g,S),O=P*C,V=p[0].x===0||p[0].x===N||p[0].y===0||p[0].y===N;return l-O<l/4&&(l=O+l/4),O9(p,V?l/2*R%l:(P/2+2*y)*C*R%l,l,H,d,O,V,!1,N)}function O9(p,l,d,g,S,y,C,R,N){const H=y/2,P=L9(p);let O=0,V=l-d,F=[];for(let $=0;$<p.length-1;$++){const G=p[$],Y=p[$+1],ee=G.dist(Y),de=Y.angleTo(G);for(;V+d<O+ee;){V+=d;const fe=(V-O)/ee,ne=_r(G.x,Y.x,fe),ve=_r(G.y,Y.y,fe);if(ne>=0&&ne<N&&ve>=0&&ve<N&&V-H>=0&&V+H<=P){const we=new zd(ne,ve,0,de,$);g&&!P9(p,we,y,g,S)||F.push(we)}}O+=ee}return R||F.length||C||(F=O9(p,O/2,d,g,S,y,C,!0,N)),F}function z9(p,l,d,g,S){const y=[];for(let C=0;C<p.length;C++){const R=p[C];let N;for(let H=0;H<R.length-1;H++){let P=R[H],O=R[H+1];P.x<l&&O.x<l||(P.x<l?P=new Ze(l,P.y+(l-P.x)/(O.x-P.x)*(O.y-P.y))._round():O.x<l&&(O=new Ze(l,P.y+(l-P.x)/(O.x-P.x)*(O.y-P.y))._round()),P.y<d&&O.y<d||(P.y<d?P=new Ze(P.x+(d-P.y)/(O.y-P.y)*(O.x-P.x),d)._round():O.y<d&&(O=new Ze(P.x+(d-P.y)/(O.y-P.y)*(O.x-P.x),d)._round()),P.x>=g&&O.x>=g||(P.x>=g?P=new Ze(g,P.y+(g-P.x)/(O.x-P.x)*(O.y-P.y))._round():O.x>=g&&(O=new Ze(g,P.y+(g-P.x)/(O.x-P.x)*(O.y-P.y))._round()),P.y>=S&&O.y>=S||(P.y>=S?P=new Ze(P.x+(S-P.y)/(O.y-P.y)*(O.x-P.x),S)._round():O.y>=S&&(O=new Ze(P.x+(S-P.y)/(O.y-P.y)*(O.x-P.x),S)._round()),N&&P.equals(N[N.length-1])||(N=[P],y.push(N)),N.push(O)))))}}return y}function B9(p){let l=0,d=0;for(const C of p)l+=C.w*C.h,d=Math.max(d,C.w);p.sort((C,R)=>R.h-C.h);const g=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(l/.95)),d),h:1/0}];let S=0,y=0;for(const C of p)for(let R=g.length-1;R>=0;R--){const N=g[R];if(!(C.w>N.w||C.h>N.h)){if(C.x=N.x,C.y=N.y,y=Math.max(y,C.y+C.h),S=Math.max(S,C.x+C.w),C.w===N.w&&C.h===N.h){const H=g.pop();R<g.length&&(g[R]=H)}else C.h===N.h?(N.x+=C.w,N.w-=C.w):C.w===N.w?(N.y+=C.h,N.h-=C.h):(g.push({x:N.x+C.w,y:N.y,w:N.w-C.w,h:C.h}),N.y+=C.h,N.h-=C.h);break}}return{w:S,h:y,fill:l/(S*y)||0}}Un(zd,"Anchor");const g1=1;class yM{constructor(l,{pixelRatio:d,version:g,stretchX:S,stretchY:y,content:C},R){this.paddedRect=l,this.pixelRatio=d,this.stretchX=S,this.stretchY=y,this.content=C,this.version=g,this.padding=R}get tl(){return[this.paddedRect.x+this.padding,this.paddedRect.y+this.padding]}get br(){return[this.paddedRect.x+this.paddedRect.w-this.padding,this.paddedRect.y+this.paddedRect.h-this.padding]}get displaySize(){return[(this.paddedRect.w-2*this.padding)/this.pixelRatio,(this.paddedRect.h-2*this.padding)/this.pixelRatio]}}class F9{constructor(l,d,g){const S={},y={};this.haveRenderCallbacks=[];const C=[];this.addImages(l,S,g1,C),this.addImages(d,y,2,C);const{w:R,h:N}=B9(C),H=new Zo({width:R||1,height:N||1});for(const P in l){const O=l[P],V=S[P].paddedRect;Zo.copy(O.data,H,{x:0,y:0},{x:V.x+g1,y:V.y+g1},O.data,g,O.sdf)}for(const P in d){const O=d[P],V=y[P].paddedRect;let F=y[P].padding;const $=V.x+F,G=V.y+F,Y=O.data.width,ee=O.data.height;F=F>1?F-1:F,Zo.copy(O.data,H,{x:0,y:0},{x:$,y:G},O.data,g),Zo.copy(O.data,H,{x:0,y:ee-F},{x:$,y:G-F},{width:Y,height:F},g),Zo.copy(O.data,H,{x:0,y:0},{x:$,y:G+ee},{width:Y,height:F},g),Zo.copy(O.data,H,{x:Y-F,y:0},{x:$-F,y:G},{width:F,height:ee},g),Zo.copy(O.data,H,{x:0,y:0},{x:$+Y,y:G},{width:F,height:ee},g),Zo.copy(O.data,H,{x:Y-F,y:ee-F},{x:$-F,y:G-F},{width:F,height:F},g),Zo.copy(O.data,H,{x:0,y:ee-F},{x:$+Y,y:G-F},{width:F,height:F},g),Zo.copy(O.data,H,{x:0,y:0},{x:$+Y,y:G+ee},{width:F,height:F},g),Zo.copy(O.data,H,{x:Y-F,y:0},{x:$-F,y:G+ee},{width:F,height:F},g)}this.image=H,this.iconPositions=S,this.patternPositions=y}addImages(l,d,g,S){for(const y in l){const C=l[y],R={x:0,y:0,w:C.data.width+2*g,h:C.data.height+2*g};S.push(R),d[y]=new yM(R,C,g),C.hasRenderCallback&&this.haveRenderCallbacks.push(y)}}patchUpdatedImages(l,d,g){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(S=>l.hasImage(S,g)),l.dispatchRenderCallbacks(this.haveRenderCallbacks,g);for(const S in l.getUpdatedImages(g))this.patchUpdatedImage(this.iconPositions[S],l.getImage(S,g),d),this.patchUpdatedImage(this.patternPositions[S],l.getImage(S,g),d)}patchUpdatedImage(l,d,g){if(!l||!d||l.version===d.version)return;l.version=d.version;const[S,y]=l.tl;g.update(d.data,{position:{x:S,y}})}}Un(yM,"ImagePosition"),Un(F9,"ImageAtlas");const _1=1e20;function N9(p,l,d,g,S,y,C,R,N){for(let H=l;H<l+g;H++)$9(p,d*y+H,y,S,C,R,N);for(let H=d;H<d+S;H++)$9(p,H*y+l,1,g,C,R,N)}function $9(p,l,d,g,S,y,C){y[0]=0,C[0]=-_1,C[1]=_1,S[0]=p[l];for(let R=1,N=0,H=0;R<g;R++){S[R]=p[l+R*d];const P=R*R;do{const O=y[N];H=(S[R]-S[O]+P-O*O)/(R-O)/2}while(H<=C[N]&&--N>-1);N++,y[N]=R,C[N]=H,C[N+1]=_1}for(let R=0,N=0;R<g;R++){for(;C[N+1]<R;)N++;const H=y[N],P=R-H;p[l+R*d]=S[H]+P*P}}const Gu=2,bM={none:0,ideographs:1,all:2};class Bv{constructor(l,d,g){this.requestManager=l,this.localGlyphMode=d,this.localFontFamily=g,this.urls={},this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(l,d){this.urls[d]=l}getGlyphs(l,d,g){const S=[],y=this.urls[d]||ut.GLYPHS_URL;for(const C in l)for(const R of l[C])S.push({stack:C,id:R});cr(S,({stack:C,id:R},N)=>{let H=this.entries[C];H||(H=this.entries[C]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let P=H.glyphs[R];if(P!==void 0)return void N(null,{stack:C,id:R,glyph:P});if(P=this._tinySDF(H,C,R),P)return H.glyphs[R]=P,void N(null,{stack:C,id:R,glyph:P});const O=Math.floor(R/256);if(256*O>65535)return void N(new Error("glyphs > 65535 not supported"));if(H.ranges[O])return void N(null,{stack:C,id:R,glyph:P});let V=H.requests[O];V||(V=H.requests[O]=[],Bv.loadGlyphRange(C,O,y,this.requestManager,(F,$)=>{if($){H.ascender=$.ascender,H.descender=$.descender;for(const G in $.glyphs)this._doesCharSupportLocalGlyph(+G)||(H.glyphs[+G]=$.glyphs[+G]);H.ranges[O]=!0}for(const G of V)G(F,$);delete H.requests[O]})),V.push((F,$)=>{F?N(F):$&&N(null,{stack:C,id:R,glyph:$.glyphs[R]||null})})},(C,R)=>{if(C)g(C);else if(R){const N={};for(const{stack:H,id:P,glyph:O}of R)N[H]===void 0&&(N[H]={}),N[H].glyphs===void 0&&(N[H].glyphs={}),N[H].glyphs[P]=O&&{id:O.id,bitmap:O.bitmap.clone(),metrics:O.metrics},N[H].ascender=this.entries[H].ascender,N[H].descender=this.entries[H].descender;g(null,N)}})}_doesCharSupportLocalGlyph(l){return this.localGlyphMode!==bM.none&&(this.localGlyphMode===bM.all?!!this.localFontFamily:!!this.localFontFamily&&(nr["CJK Unified Ideographs"](l)||nr["Hangul Syllables"](l)||nr.Hiragana(l)||nr.Katakana(l)||nr["CJK Symbols and Punctuation"](l)||nr["CJK Unified Ideographs Extension A"](l)||nr["CJK Unified Ideographs Extension B"](l)))}_tinySDF(l,d,g){const S=this.localFontFamily;if(!S||!this._doesCharSupportLocalGlyph(g))return;let y=l.tinySDF;if(!y){let G="400";/bold/i.test(d)?G="900":/medium/i.test(d)?G="500":/light/i.test(d)&&(G="200"),y=l.tinySDF=new Bv.TinySDF({fontFamily:S,fontWeight:G,fontSize:24*Gu,buffer:3*Gu,radius:8*Gu}),y.fontWeight=G}if(this.localGlyphs[y.fontWeight][g])return this.localGlyphs[y.fontWeight][g];const C=String.fromCodePoint(g),{data:R,width:N,height:H,glyphWidth:P,glyphHeight:O,glyphLeft:V,glyphTop:F,glyphAdvance:$}=y.draw(C);return this.localGlyphs[y.fontWeight][g]={id:g,bitmap:new uf({width:N,height:H},R),metrics:{width:P/Gu,height:O/Gu,left:V/Gu,top:F/Gu-27,advance:$/Gu,localGlyph:!0}}}}Bv.loadGlyphRange=function(p,l,d,g,S){const y=256*l,C=y+255,R=g.transformRequest(g.normalizeGlyphsURL(d).replace("{fontstack}",p).replace("{range}",`${y}-${C}`),Ch.Glyphs);Th(R,(N,H)=>{if(N)S(N);else if(H){const P={},O=function(V){return new W4(V).readFields(tie,{})}(H);for(const V of O.glyphs)P[V.id]=V;S(null,{glyphs:P,ascender:O.ascender,descender:O.descender})}})},Bv.TinySDF=class{constructor({fontSize:p=24,buffer:l=3,radius:d=8,cutoff:g=.25,fontFamily:S="sans-serif",fontWeight:y="normal",fontStyle:C="normal"}={}){this.buffer=l,this.cutoff=g,this.radius=d;const R=this.size=p+4*l,N=this._createCanvas(R),H=this.ctx=N.getContext("2d",{willReadFrequently:!0});H.font=`${C} ${y} ${p}px ${S}`,H.textBaseline="alphabetic",H.textAlign="left",H.fillStyle="black",this.gridOuter=new Float64Array(R*R),this.gridInner=new Float64Array(R*R),this.f=new Float64Array(R),this.z=new Float64Array(R+1),this.v=new Uint16Array(R)}_createCanvas(p){const l=document.createElement("canvas");return l.width=l.height=p,l}draw(p){const{width:l,actualBoundingBoxAscent:d,actualBoundingBoxDescent:g,actualBoundingBoxLeft:S,actualBoundingBoxRight:y}=this.ctx.measureText(p),C=Math.ceil(d),R=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(y-S))),N=Math.min(this.size-this.buffer,C+Math.ceil(g)),H=R+2*this.buffer,P=N+2*this.buffer,O=Math.max(H*P,0),V=new Uint8ClampedArray(O),F={data:V,width:H,height:P,glyphWidth:R,glyphHeight:N,glyphTop:C,glyphLeft:0,glyphAdvance:l};if(R===0||N===0)return F;const{ctx:$,buffer:G,gridInner:Y,gridOuter:ee}=this;$.clearRect(G,G,R,N),$.fillText(p,G,G+C);const de=$.getImageData(G,G,R,N);ee.fill(_1,0,O),Y.fill(0,0,O);for(let fe=0;fe<N;fe++)for(let ne=0;ne<R;ne++){const ve=de.data[4*(fe*R+ne)+3]/255;if(ve===0)continue;const we=(fe+G)*H+ne+G;if(ve===1)ee[we]=0,Y[we]=_1;else{const De=.5-ve;ee[we]=De>0?De*De:0,Y[we]=De<0?De*De:0}}N9(ee,0,0,H,P,H,this.f,this.v,this.z),N9(Y,G,G,R,N,H,this.f,this.v,this.z);for(let fe=0;fe<O;fe++){const ne=Math.sqrt(ee[fe])-Math.sqrt(Y[fe]);V[fe]=Math.round(255-255*(ne/this.radius+this.cutoff))}return F}};const df=g1;function V9(p,l,d,g){const S=[],y=p.imagePrimary,C=y.pixelRatio,R=y.paddedRect.w-2*df,N=y.paddedRect.h-2*df,H=p.right-p.left,P=p.bottom-p.top,O=y.stretchX||[[0,R]],V=y.stretchY||[[0,N]],F=(Qe,We)=>Qe+We[1]-We[0],$=O.reduce(F,0),G=V.reduce(F,0),Y=R-$,ee=N-G;let de=0,fe=$,ne=0,ve=G,we=0,De=Y,Ve=0,Ue=ee;if(y.content&&g){const Qe=y.content;de=K4(O,0,Qe[0]),ne=K4(V,0,Qe[1]),fe=K4(O,Qe[0],Qe[2]),ve=K4(V,Qe[1],Qe[3]),we=Qe[0]-de,Ve=Qe[1]-ne,De=Qe[2]-Qe[0]-fe,Ue=Qe[3]-Qe[1]-ve}const ze=(Qe,We,it,mt)=>{const yt=Y4(Qe.stretch-de,fe,H,p.left),xt=Z4(Qe.fixed-we,De,Qe.stretch,$),Et=Y4(We.stretch-ne,ve,P,p.top),$t=Z4(We.fixed-Ve,Ue,We.stretch,G),At=Y4(it.stretch-de,fe,H,p.left),Jt=Z4(it.fixed-we,De,it.stretch,$),dn=Y4(mt.stretch-ne,ve,P,p.top),qt=Z4(mt.fixed-Ve,Ue,mt.stretch,G),Bn=new Ze(yt,Et),kn=new Ze(At,Et),wn=new Ze(At,dn),gn=new Ze(yt,dn),or=new Ze(xt/C,$t/C),zn=new Ze(Jt/C,qt/C),Hn=l*Math.PI/180;if(Hn){const Jr=Math.sin(Hn),ji=Math.cos(Hn),Pi=[ji,-Jr,Jr,ji];Bn._matMult(Pi),kn._matMult(Pi),gn._matMult(Pi),wn._matMult(Pi)}const Cr=Qe.stretch+Qe.fixed,Vr=it.stretch+it.fixed,Dr=We.stretch+We.fixed,Or=mt.stretch+mt.fixed,Kr=p.imageSecondary;return{tl:Bn,tr:kn,bl:gn,br:wn,texPrimary:{x:y.paddedRect.x+df+Cr,y:y.paddedRect.y+df+Dr,w:Vr-Cr,h:Or-Dr},texSecondary:Kr?{x:Kr.paddedRect.x+df+Cr,y:Kr.paddedRect.y+df+Dr,w:Vr-Cr,h:Or-Dr}:void 0,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:or,pixelOffsetBR:zn,minFontScaleX:De/C/H,minFontScaleY:Ue/C/P,isSDF:d}};if(g&&(y.stretchX||y.stretchY)){const Qe=H9(O,Y,$),We=H9(V,ee,G);for(let it=0;it<Qe.length-1;it++){const mt=Qe[it],yt=Qe[it+1];for(let xt=0;xt<We.length-1;xt++)S.push(ze(mt,We[xt],yt,We[xt+1]))}}else S.push(ze({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:R+1},{fixed:0,stretch:N+1}));return S}function K4(p,l,d){let g=0;for(const S of p)g+=Math.max(l,Math.min(d,S[1]))-Math.max(l,Math.min(d,S[0]));return g}function H9(p,l,d){const g=[{fixed:-df,stretch:0}];for(const[S,y]of p){const C=g[g.length-1];g.push({fixed:S-C.stretch,stretch:C.stretch}),g.push({fixed:S-C.stretch,stretch:C.stretch+(y-S)})}return g.push({fixed:l+df,stretch:d}),g}function Y4(p,l,d,g){return p/l*d+g}function Z4(p,l,d,g){return p-l*d/g}function uie(p,l,d,g){const S=l+p.positionedLines[g].lineOffset;return g===0?d+S/2:d+(S+(l+p.positionedLines[g-1].lineOffset))/2}function cie(p,l=1,d=!1){let g=1/0,S=1/0,y=-1/0,C=-1/0;const R=p[0];for(let F=0;F<R.length;F++){const $=R[F];(!F||$.x<g)&&(g=$.x),(!F||$.y<S)&&(S=$.y),(!F||$.x>y)&&(y=$.x),(!F||$.y>C)&&(C=$.y)}const N=Math.min(y-g,C-S);let H=N/2;const P=new uy([],die);if(N===0)return new Ze(g,S);for(let F=g;F<y;F+=N)for(let $=S;$<C;$+=N)P.push(new Fv(F+H,$+H,H,p));let O=function(F){let $=0,G=0,Y=0;const ee=F[0];for(let de=0,fe=ee.length,ne=fe-1;de<fe;ne=de++){const ve=ee[de],we=ee[ne],De=ve.x*we.y-we.x*ve.y;G+=(ve.x+we.x)*De,Y+=(ve.y+we.y)*De,$+=3*De}return new Fv(G/$,Y/$,0,F)}(p),V=P.length;for(;P.length;){const F=P.pop();(F.d>O.d||!O.d)&&(O=F,d&&console.log("found best %d after %d probes",Math.round(1e4*F.d)/1e4,V)),F.max-O.d<=l||(H=F.h/2,P.push(new Fv(F.p.x-H,F.p.y-H,H,p)),P.push(new Fv(F.p.x+H,F.p.y-H,H,p)),P.push(new Fv(F.p.x-H,F.p.y+H,H,p)),P.push(new Fv(F.p.x+H,F.p.y+H,H,p)),V+=4)}return d&&(console.log(`num probes: ${V}`),console.log(`best distance: ${O.d}`)),O.p}function die(p,l){return l.max-p.max}class Fv{constructor(l,d,g,S){this.p=new Ze(l,d),this.h=g,this.d=function(y,C){let R=!1,N=1/0;for(let H=0;H<C.length;H++){const P=C[H];for(let O=0,V=P.length,F=V-1;O<V;F=O++){const $=P[O],G=P[F];$.y>y.y!=G.y>y.y&&y.x<(G.x-$.x)*(y.y-$.y)/(G.y-$.y)+$.x&&(R=!R),N=Math.min(N,Ri(y,$,G))}}return(R?1:-1)*Math.sqrt(N)}(this.p,S),this.max=this.d+this.h*Math.SQRT2}}const xM=Number.POSITIVE_INFINITY,hie=Math.sqrt(2);function U9(p,[l,d]){let g=0,S=0;if(d===xM){l<0&&(l=0);const y=l/hie;switch(p){case"top-right":case"top-left":S=y-7;break;case"bottom-right":case"bottom-left":S=7-y;break;case"bottom":S=7-l;break;case"top":S=l-7}switch(p){case"top-right":case"bottom-right":g=-y;break;case"top-left":case"bottom-left":g=y;break;case"left":g=l;break;case"right":g=-l}}else{switch(l=Math.abs(l),d=Math.abs(d),p){case"top-right":case"top-left":case"top":S=d-7;break;case"bottom-right":case"bottom-left":case"bottom":S=7-d}switch(p){case"top-right":case"bottom-right":case"right":g=-l;break;case"top-left":case"bottom-left":case"left":g=l}}return[g,S]}function wM(p){switch(p){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function fie(p,l,d,g,S,y,C,R,N,H,P,O,V,F,$){let G=y.textMaxSize.evaluate(l,{},O);G===void 0&&(G=C);const Y=p.layers[0].layout,ee=Y.get("icon-offset").evaluate(l,{},O),de=G9(d.horizontal)||d.vertical,fe=V.name==="globe",ne=Mo,ve=C/ne,we=p.tilePixelRatio*G/ne,De=(yt=p.overscaling,p.zoom>18&&yt>2&&(yt>>=1),Math.max(Ln/(512*yt),1)*Y.get("symbol-spacing")),Ve=Y.get("text-padding")*p.tilePixelRatio,Ue=Y.get("icon-padding")*p.tilePixelRatio,ze=zt(Y.get("text-max-angle")),Qe=Y.get("text-rotation-alignment")==="map"&&Y.get("symbol-placement")!=="point",We=Y.get("icon-rotation-alignment")==="map"&&Y.get("symbol-placement")!=="point",it=Y.get("symbol-placement"),mt=De/2;var yt;const xt=Y.get("icon-text-fit").evaluate(l,{},O),Et=Y.get("icon-text-fit-padding").evaluate(l,{},O),$t=xt!=="none";let At;p.hasAnyIconTextFit===!1&&$t&&(p.hasAnyIconTextFit=!0),g&&$t&&(p.allowVerticalPlacement&&d.vertical&&(At=k9(g,d.vertical,xt,Et,ee,ve)),de&&(g=k9(g,de,xt,Et,ee,ve)));const Jt=(dn,qt,Bn)=>{if(qt.x<0||qt.x>=Ln||qt.y<0||qt.y>=Ln)return;let kn=null;if(fe){const{x:wn,y:gn,z:or}=V.projectTilePoint(qt.x,qt.y,Bn);kn={anchor:new zd(wn,gn,or,0,void 0),up:V.upVector(Bn,qt.x,qt.y)}}(function(wn,gn,or,zn,Hn,Cr,Vr,Dr,Or,Kr,Jr,ji,Pi,Er,Ti,Mi,ta,Aa,Wa,Ia,ma,co,Za,Eo,Xi,Ls,Yu){const ru=wn.addToLineVertexArray(gn,zn);let iu,sm,vf,lm,z1,hB,fB,pB=0,mB=0,vB=0,gB=0,XM=-1,JM=-1;const Nc={};let _B=is("");const um=or?or.anchor:gn,QM=Or.layout.get("icon-text-fit").evaluate(ma,{},Xi)!=="none";let e5=0,t5=0;if(Or._unevaluatedLayout.getValue("text-radial-offset")===void 0?[e5,t5]=Or.layout.get("text-offset").evaluate(ma,{},Xi).map(Js=>Js*Mo):(e5=Or.layout.get("text-radial-offset").evaluate(ma,{},Xi)*Mo,t5=xM),wn.allowVerticalPlacement&&Hn.vertical){const Js=Hn.vertical;if(Ti)hB=SM(Js),Dr&&(fB=SM(Dr));else{const Qs=Or.layout.get("text-rotate").evaluate(ma,{},Xi)+90;vf=X4(Kr,um,gn,Jr,ji,Pi,Js,Er,Qs,Mi),Dr&&(lm=X4(Kr,um,gn,Jr,ji,Pi,Dr,Aa,Qs))}}if(Cr){const Js=Or.layout.get("icon-rotate").evaluate(ma,{},Xi),Qs=V9(Cr,Js,Za,QM),Wv=Dr?V9(Dr,Js,Za,QM):void 0;sm=X4(Kr,um,gn,Jr,ji,Pi,Cr,Aa,Js),pB=4*Qs.length;const yB=wn.iconSizeData;let cm=null;yB.kind==="source"?(cm=[ju*Or.layout.get("icon-size").evaluate(ma,{},Xi)],cm[0]>hf&&Mt(`${wn.layerIds[0]}: Value for "icon-size" is >= ${y1}. Reduce your "icon-size".`)):yB.kind==="composite"&&(cm=[ju*co.compositeIconSizes[0].evaluate(ma,{},Xi),ju*co.compositeIconSizes[1].evaluate(ma,{},Xi)],(cm[0]>hf||cm[1]>hf)&&Mt(`${wn.layerIds[0]}: Value for "icon-size" is >= ${y1}. Reduce your "icon-size".`)),wn.addSymbols(wn.icon,Qs,cm,Ia,Wa,ma,!1,or,gn,ru.lineStartIndex,ru.lineLength,-1,Eo,Xi,Ls,Yu),XM=wn.icon.placedSymbolArray.length-1,Wv&&(mB=4*Wv.length,wn.addSymbols(wn.icon,Wv,cm,Ia,Wa,ma,Al.vertical,or,gn,ru.lineStartIndex,ru.lineLength,-1,Eo,Xi,Ls,Yu),JM=wn.icon.placedSymbolArray.length-1)}for(const Js in Hn.horizontal){const Qs=Hn.horizontal[Js];iu||(_B=is(Qs.text),Ti?z1=SM(Qs):iu=X4(Kr,um,gn,Jr,ji,Pi,Qs,Er,Or.layout.get("text-rotate").evaluate(ma,{},Xi),Mi));const Wv=Qs.positionedLines.length===1;if(vB+=j9(wn,or,gn,Qs,Vr,Or,Ti,ma,Mi,ru,Hn.vertical?Al.horizontal:Al.horizontalOnly,Wv?Object.keys(Hn.horizontal):[Js],Nc,XM,co,Eo,Xi,Ls),Wv)break}Hn.vertical&&(gB+=j9(wn,or,gn,Hn.vertical,Vr,Or,Ti,ma,Mi,ru,Al.vertical,["vertical"],Nc,JM,co,Eo,Xi,Ls));let gf=-1;const n5=(Js,Qs)=>Js?Math.max(Js,Qs):Qs;gf=n5(z1,gf),gf=n5(hB,gf),gf=n5(fB,gf);const Aae=gf>-1?1:0;wn.glyphOffsetArray.length>=65535&&Mt("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),ma.sortKey!==void 0&&wn.addToSortKeyRanges(wn.symbolInstances.length,ma.sortKey),wn.symbolInstances.emplaceBack(gn.x,gn.y,um.x,um.y,um.z,Nc.right>=0?Nc.right:-1,Nc.center>=0?Nc.center:-1,Nc.left>=0?Nc.left:-1,Nc.vertical>=0?Nc.vertical:-1,XM,JM,_B,iu!==void 0?iu:wn.collisionBoxArray.length,iu!==void 0?iu+1:wn.collisionBoxArray.length,vf!==void 0?vf:wn.collisionBoxArray.length,vf!==void 0?vf+1:wn.collisionBoxArray.length,sm!==void 0?sm:wn.collisionBoxArray.length,sm!==void 0?sm+1:wn.collisionBoxArray.length,lm||wn.collisionBoxArray.length,lm?lm+1:wn.collisionBoxArray.length,Jr,vB,gB,pB,mB,Aae,0,e5,t5,gf,0,QM?1:0)})(p,qt,kn,dn,d,g,S,At,p.layers[0],p.collisionBoxArray,l.index,l.sourceLayerIndex,p.index,Ve,Qe,N,0,Ue,We,ee,l,y,H,P,O,F,$)};if(it==="line")for(const dn of z9(l.geometry,0,0,Ln,Ln)){const qt=lie(dn,De,ze,d.vertical||de,g,ne,we,p.overscaling,Ln);for(const Bn of qt)de&&pie(p,de.text,mt,Bn)||Jt(dn,Bn,O)}else if(it==="line-center"){for(const dn of l.geometry)if(dn.length>1){const qt=sie(dn,ze,d.vertical||de,g,ne,we);qt&&Jt(dn,qt,O)}}else if(l.type==="Polygon")for(const dn of F4(l.geometry,0)){const qt=cie(dn,16);Jt(dn[0],new zd(qt.x,qt.y,0,0,void 0),O)}else if(l.type==="LineString")for(const dn of l.geometry)Jt(dn,new zd(dn[0].x,dn[0].y,0,0,void 0),O);else if(l.type==="Point")for(const dn of l.geometry)for(const qt of dn)Jt([qt],new zd(qt.x,qt.y,0,0,void 0),O)}const y1=255,hf=y1*ju;function j9(p,l,d,g,S,y,C,R,N,H,P,O,V,F,$,G,Y,ee){const de=function(ve,we,De,Ve,Ue,ze,Qe,We){const it=[];if(we.positionedLines.length===0)return it;const mt=Ve.layout.get("text-rotate").evaluate(ze,{})*Math.PI/180,yt=function(Jt){const dn=Jt[0],qt=Jt[1],Bn=dn*qt;return Bn>0?[dn,-qt]:Bn<0?[-dn,qt]:dn===0?[qt,dn]:[qt,-dn]}(De);let xt=Math.abs(we.top-we.bottom);for(const Jt of we.positionedLines)xt-=Jt.lineOffset;const Et=we.positionedLines.length,$t=xt/Et;let At=we.top-De[1];for(let Jt=0;Jt<Et;++Jt){const dn=we.positionedLines[Jt];At=uie(we,$t,At,Jt);for(const qt of dn.positionedGlyphs){if(!qt.rect)continue;const Bn=qt.rect||{};let kn=C9+1,wn=!0,gn=1,or=0;if(qt.imageName){const Ia=Qe[qt.imageName];if(!Ia)continue;if(Ia.sdf){Mt("SDF images are not supported in formatted text and will be ignored.");continue}wn=!1,gn=Ia.pixelRatio,kn=g1/gn}const zn=(Ue||We)&&qt.vertical,Hn=qt.metrics.advance*qt.scale/2,Cr=qt.metrics,Vr=qt.rect;if(Vr===null)continue;We&&we.verticalizable&&(or=qt.imageName?Hn-qt.metrics.width*qt.scale/2:0);const Dr=Ue?[qt.x+Hn,qt.y]:[0,0];let Or=[0,0],Kr=[0,0],Jr=!1;Ue||(zn?(Kr=[qt.x+Hn+yt[0],qt.y+yt[1]-or],Jr=!0):Or=[qt.x+Hn+De[0],qt.y+De[1]-or]);const ji=Vr.w*qt.scale/(gn*(qt.localGlyph?Gu:1)),Pi=Vr.h*qt.scale/(gn*(qt.localGlyph?Gu:1));let Er,Ti,Mi,ta;if(zn){const Ia=qt.y-At,ma=new Ze(-Hn,Hn-Ia),co=-Math.PI/2,Za=new Ze(...Kr);Er=new Ze(-Hn+Or[0],Or[1]),Er._rotateAround(co,ma)._add(Za),Er.x+=-Ia+Hn,Er.y-=(Cr.left-kn)*qt.scale;const Eo=qt.imageName?Cr.advance*qt.scale:Mo*qt.scale,Xi=String.fromCodePoint(qt.glyph);Jre(Xi)?Er.x+=(1-kn)*qt.scale:Qre(Xi)?Er.x+=Eo-Cr.height*qt.scale+(-kn-1)*qt.scale:Er.x+=qt.imageName||Cr.width+2*kn===Vr.w&&Cr.height+2*kn===Vr.h?(Eo-Pi)/2:(Eo-(Cr.height+2*kn)*qt.scale)/2,Ti=new Ze(Er.x,Er.y-ji),Mi=new Ze(Er.x+Pi,Er.y),ta=new Ze(Er.x+Pi,Er.y-ji)}else{const Ia=(Cr.left-kn)*qt.scale-Hn+Or[0],ma=(-Cr.top-kn)*qt.scale+Or[1],co=Ia+ji,Za=ma+Pi;Er=new Ze(Ia,ma),Ti=new Ze(co,ma),Mi=new Ze(Ia,Za),ta=new Ze(co,Za)}if(mt){let Ia;Ia=Ue?new Ze(0,0):Jr?new Ze(yt[0],yt[1]):new Ze(De[0],De[1]),Er._rotateAround(mt,Ia),Ti._rotateAround(mt,Ia),Mi._rotateAround(mt,Ia),ta._rotateAround(mt,Ia)}const Aa=new Ze(0,0),Wa=new Ze(0,0);it.push({tl:Er,tr:Ti,bl:Mi,br:ta,texPrimary:Bn,texSecondary:void 0,writingMode:we.writingMode,glyphOffset:Dr,sectionIndex:qt.sectionIndex,isSDF:wn,pixelOffsetTL:Aa,pixelOffsetBR:Wa,minFontScaleX:0,minFontScaleY:0})}}return it}(0,g,N,y,C,R,S,p.allowVerticalPlacement),fe=p.textSizeData;let ne=null;fe.kind==="source"?(ne=[ju*y.layout.get("text-size").evaluate(R,{},Y)],ne[0]>hf&&Mt(`${p.layerIds[0]}: Value for "text-size" is >= ${y1}. Reduce your "text-size".`)):fe.kind==="composite"&&(ne=[ju*$.compositeTextSizes[0].evaluate(R,{},Y),ju*$.compositeTextSizes[1].evaluate(R,{},Y)],(ne[0]>hf||ne[1]>hf)&&Mt(`${p.layerIds[0]}: Value for "text-size" is >= ${y1}. Reduce your "text-size".`)),p.addSymbols(p.text,de,ne,N,C,R,P,l,d,H.lineStartIndex,H.lineLength,F,G,Y,ee,!1);for(const ve of O)V[ve]=p.text.placedSymbolArray.length-1;return 4*de.length}function G9(p){for(const l in p)return p[l];return null}function X4(p,l,d,g,S,y,C,R,N,H){let P=C.top,O=C.bottom,V=C.left,F=C.right;const $=C.collisionPadding;if($&&(V-=$[0],P-=$[1],F+=$[2],O+=$[3]),N){const G=new Ze(V,P),Y=new Ze(F,P),ee=new Ze(V,O),de=new Ze(F,O),fe=zt(N);let ne=new Ze(0,0);H&&(ne=new Ze(H[0],H[1])),G._rotateAround(fe,ne),Y._rotateAround(fe,ne),ee._rotateAround(fe,ne),de._rotateAround(fe,ne),V=Math.min(G.x,Y.x,ee.x,de.x),F=Math.max(G.x,Y.x,ee.x,de.x),P=Math.min(G.y,Y.y,ee.y,de.y),O=Math.max(G.y,Y.y,ee.y,de.y)}return p.emplaceBack(l.x,l.y,l.z,d.x,d.y,V,P,F,O,R,g,S,y),p.length-1}function SM(p){p.collisionPadding&&(p.top-=p.collisionPadding[1],p.bottom+=p.collisionPadding[3]);const l=p.bottom-p.top;return l>0?Math.max(10,l):null}function pie(p,l,d,g){const S=p.compareText;if(l in S){const y=S[l];for(let C=y.length-1;C>=0;C--)if(g.dist(y[C])<d)return!0}else S[l]=[];return S[l].push(g),!1}function W9(p,l){const d=p.fovAboveCenter,g=p.elevation?p.elevation.getMinElevationBelowMSL()*l:0,S=(p._camera.position[2]*p.worldSize-g)/Math.cos(p._pitch),y=Math.sin(d)*S/Math.sin(Math.max(Math.PI/2-p._pitch-d,.01));let C=Math.sin(p._pitch)*y+S;const R=S*(1/p._horizonShift);return p.elevation&&p.elevation.exaggeration()!==0||(C*=1+Math.max(p.zoom-17,0)),Math.min(1.01*C,R)}function b1(p,l){if(!l.isReprojectedInTileSpace)return{scale:1<<p.z,x:p.x,y:p.y,x2:p.x+1,y2:p.y+1,projection:l};const d=Math.pow(2,-p.z),g=p.x*d,S=(p.x+1)*d,y=p.y*d,C=(p.y+1)*d,R=Ke(g),N=Ke(S),H=qe(y),P=qe(C),O=l.project(R,H),V=l.project(N,H),F=l.project(N,P),$=l.project(R,P);let G=Math.min(O.x,V.x,F.x,$.x),Y=Math.min(O.y,V.y,F.y,$.y),ee=Math.max(O.x,V.x,F.x,$.x),de=Math.max(O.y,V.y,F.y,$.y);const fe=d/16;function ne(we,De,Ve,Ue,ze,Qe){const We=(Ve+ze)/2,it=(Ue+Qe)/2,mt=l.project(Ke(We),qe(it)),yt=Math.max(0,G-mt.x,Y-mt.y,mt.x-ee,mt.y-de);G=Math.min(G,mt.x),ee=Math.max(ee,mt.x),Y=Math.min(Y,mt.y),de=Math.max(de,mt.y),yt>fe&&(ne(we,mt,Ve,Ue,We,it),ne(mt,De,We,it,ze,Qe))}ne(O,V,g,y,S,y),ne(V,F,S,y,S,C),ne(F,$,S,C,g,C),ne($,O,g,C,g,y),G-=fe,Y-=fe,ee+=fe,de+=fe;const ve=1/Math.max(ee-G,de-Y);return{scale:ve,x:G*ve,y:Y*ve,x2:ee*ve,y2:de*ve,projection:l}}function q9(p,{x:l,y:d},g=0){return new Ze(((l-g)*p.scale-p.x)*Ln,(d*p.scale-p.y)*Ln)}const mie=Re.mat4.identity(new Float32Array(16));class ff{constructor(l){this.spec=l,this.name=l.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(l,d){return{x:0,y:0,z:0}}unproject(l,d){return new he(0,0)}projectTilePoint(l,d,g){return{x:l,y:d,z:0}}locationPoint(l,d,g=!0){return l._coordinatePoint(l.locationCoordinate(d),g)}pixelsPerMeter(l,d){return $e(1,l)*d}pixelSpaceConversion(l,d,g){return 1}farthestPixelDistance(l){return W9(l,l.pixelsPerMeter)}pointCoordinate(l,d,g,S){const y=l.horizonLineFromTop(!1),C=new Ze(d,Math.max(y,g));return l.rayIntersectionCoordinate(l.pointRayIntersection(C,S))}pointCoordinate3D(l,d,g){const S=new Ze(d,g);if(l.elevation)return l.elevation.pointCoordinate(S);{const y=this.pointCoordinate(l,S.x,S.y,0);return[y.x,y.y,y.z]}}isPointAboveHorizon(l,d){if(l.elevation&&l.elevation.visibleDemTiles.length)return!this.pointCoordinate3D(l,d.x,d.y);const g=l.horizonLineFromTop();return d.y<g}createInversionMatrix(l,d){return mie}createTileMatrix(l,d,g){let S,y,C;const R=g.canonical,N=Re.mat4.identity(new Float64Array(16));if(this.isReprojectedInTileSpace){const H=b1(R,this);S=1,y=H.x+g.wrap*H.scale,C=H.y,Re.mat4.scale(N,N,[S/H.scale,S/H.scale,l.pixelsPerMeter/d])}else S=d/l.zoomScale(R.z),y=(R.x+Math.pow(2,R.z)*g.wrap)*S,C=R.y*S;return Re.mat4.translate(N,N,[y,C,0]),Re.mat4.scale(N,N,[S/Ln,S/Ln,1]),N}upVector(l,d,g){return[0,0,1]}upVectorScale(l,d,g){return{metersToTile:1}}}class vie extends ff{constructor(l){super(l),this.range=[4,7],this.center=l.center||[-96,37.5];const[d,g]=this.parallels=l.parallels||[29.5,45.5],S=Math.sin(zt(d));this.n=(S+Math.sin(zt(g)))/2,this.c=1+S*(2*this.n-S),this.r0=Math.sqrt(this.c)/this.n}project(l,d){const{n:g,c:S,r0:y}=this,C=zt(l-this.center[0]),R=zt(d),N=Math.sqrt(S-2*g*Math.sin(R))/g;return{x:N*Math.sin(C*g),y:N*Math.cos(C*g)-y,z:0}}unproject(l,d){const{n:g,c:S,r0:y}=this,C=y+d;let R=Math.atan2(l,Math.abs(C))*Math.sign(C);C*g<0&&(R-=Math.PI*Math.sign(l)*Math.sign(C));const N=zt(this.center[0])*g;R=rr(R,-Math.PI-N,Math.PI-N);const H=St(tn(R/g)+this.center[0],-180,180),P=Math.asin(St((S-(l*l+C*C)*g*g)/(2*g),-1,1)),O=St(tn(P),-nt,nt);return new he(H,O)}}const x1=1.340264,w1=-.081106,S1=893e-6,C1=.003796,J4=Math.sqrt(3)/2;class gie extends ff{project(l,d){d=d/180*Math.PI,l=l/180*Math.PI;const g=Math.asin(J4*Math.sin(d)),S=g*g,y=S*S*S;return{x:.5*(l*Math.cos(g)/(J4*(x1+3*w1*S+y*(7*S1+9*C1*S)))/Math.PI+.5),y:1-.5*(g*(x1+w1*S+y*(S1+C1*S))/Math.PI+1),z:0}}unproject(l,d){l=(2*l-.5)*Math.PI;let g=d=(2*(1-d)-1)*Math.PI,S=g*g,y=S*S*S;for(let P,O,V,F=0;F<12&&(O=g*(x1+w1*S+y*(S1+C1*S))-d,V=x1+3*w1*S+y*(7*S1+9*C1*S),P=O/V,g=St(g-P,-Math.PI/3,Math.PI/3),S=g*g,y=S*S*S,!(Math.abs(P)<1e-12));++F);const C=J4*l*(x1+3*w1*S+y*(7*S1+9*C1*S))/Math.cos(g),R=Math.asin(Math.sin(g)/J4),N=St(180*C/Math.PI,-180,180),H=St(180*R/Math.PI,-nt,nt);return new he(N,H)}}class _ie extends ff{constructor(l){super(l),this.wrap=!0,this.supportsWorldCopies=!0}project(l,d){return{x:.5+l/360,y:.5-d/360,z:0}}unproject(l,d){const g=360*(l-.5),S=St(360*(.5-d),-nt,nt);return new he(g,S)}}const Nv=Math.PI/2;function Q4(p){return Math.tan((Nv+p)/2)}class yie extends ff{constructor(l){super(l),this.center=l.center||[0,30];const[d,g]=this.parallels=l.parallels||[30,30];let S=zt(d),y=zt(g);this.southernCenter=S+y<0,this.southernCenter&&(S=-S,y=-y);const C=Math.cos(S),R=Q4(S);this.n=S===y?Math.sin(S):Math.log(C/Math.cos(y))/Math.log(Q4(y)/R),this.f=C*Math.pow(Q4(S),this.n)/this.n}project(l,d){d=zt(d),this.southernCenter&&(d=-d),l=zt(l-this.center[0]);const g=1e-6,{n:S,f:y}=this;y>0?d<-Nv+g&&(d=-Nv+g):d>Nv-g&&(d=Nv-g);const C=y/Math.pow(Q4(d),S);let R=C*Math.sin(S*l),N=y-C*Math.cos(S*l);return R=.5*(R/Math.PI+.5),N=.5*(N/Math.PI+.5),{x:R,y:this.southernCenter?N:1-N,z:0}}unproject(l,d){l=(2*l-.5)*Math.PI,this.southernCenter&&(d=1-d),d=(2*(1-d)-.5)*Math.PI;const{n:g,f:S}=this,y=S-d,C=Math.sign(y),R=Math.sign(g)*Math.sqrt(l*l+y*y);let N=Math.atan2(l,Math.abs(y))*C;y*g<0&&(N-=Math.PI*Math.sign(l)*C);const H=St(tn(N/g)+this.center[0],-180,180),P=St(tn(2*Math.atan(Math.pow(S/R,1/g))-Nv),-nt,nt);return new he(H,this.southernCenter?-P:P)}}class K9 extends ff{constructor(l){super(l),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(l,d){return{x:He(l),y:Ge(d),z:0}}unproject(l,d){const g=Ke(l),S=qe(d);return new he(g,S)}}const Y9=zt(nt);class bie extends ff{project(l,d){const g=(d=zt(d))*d,S=g*g;return{x:.5*((l=zt(l))*(.8707-.131979*g+S*(S*(.003971*g-.001529*S)-.013791))/Math.PI+.5),y:1-.5*(d*(1.007226+g*(.015085+S*(.028874*g-.044475-.005916*S)))/Math.PI+1),z:0}}unproject(l,d){l=(2*l-.5)*Math.PI;let g=d=(2*(1-d)-1)*Math.PI,S=25,y=0,C=g*g;do{C=g*g;const H=C*C;y=(g*(1.007226+C*(.015085+H*(.028874*C-.044475-.005916*H)))-d)/(1.007226+C*(.045255+H*(.259866*C-.311325-.005916*11*H))),g=St(g-y,-Y9,Y9)}while(Math.abs(y)>1e-6&&--S>0);C=g*g;const R=St(tn(l/(.8707+C*(C*(C*C*C*(.003971-.001529*C)-.013791)-.131979))),-180,180),N=tn(g);return new he(R,N)}}const Z9=zt(nt);class xie extends ff{project(l,d){d=zt(d),l=zt(l);const g=Math.cos(d),S=2/Math.PI,y=Math.acos(g*Math.cos(l/2)),C=Math.sin(y)/y,R=.5*(l*S+2*g*Math.sin(l/2)/C)||0,N=.5*(d+Math.sin(d)/C)||0;return{x:.5*(R/Math.PI+.5),y:1-.5*(N/Math.PI+1),z:0}}unproject(l,d){let g=l=(2*l-.5)*Math.PI,S=d=(2*(1-d)-1)*Math.PI,y=25;const C=1e-6;let R=0,N=0;do{const H=Math.cos(S),P=Math.sin(S),O=2*P*H,V=P*P,F=H*H,$=Math.cos(g/2),G=Math.sin(g/2),Y=2*$*G,ee=G*G,de=1-F*$*$,fe=de?1/de:0,ne=de?Math.acos(H*$)*Math.sqrt(1/de):0,ve=.5*(2*ne*H*G+2*g/Math.PI)-l,we=.5*(ne*P+S)-d,De=.5*fe*(F*ee+ne*H*$*V)+1/Math.PI,Ve=fe*(Y*O/4-ne*P*G),Ue=.125*fe*(O*G-ne*P*F*Y),ze=.5*fe*(V*$+ne*ee*H)+.5,Qe=Ve*Ue-ze*De;R=(we*Ve-ve*ze)/Qe,N=(ve*Ue-we*De)/Qe,g=St(g-R,-Math.PI,Math.PI),S=St(S-N,-Z9,Z9)}while((Math.abs(R)>C||Math.abs(N)>C)&&--y>0);return new he(tn(g),tn(S))}}class X9 extends ff{constructor(l){super(l),this.center=l.center||[0,0],this.parallels=l.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(zt(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(l,d){const{scale:g,cosPhi:S}=this;return{x:zt(l)*S*g+.5,y:-Math.sin(zt(d))/S*g+.5,z:0}}unproject(l,d){const{scale:g,cosPhi:S}=this,y=-(d-.5)/g,C=St(tn((l-.5)/g)/S,-180,180),R=Math.asin(St(y*S,-1,1)),N=St(tn(R),-nt,nt);return new he(C,N)}}class wie extends K9{constructor(l){super(l),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug"],this.range=[3,5]}projectTilePoint(l,d,g){const S=i1(l,d,g),y=D4(Bc(g));return Re.vec3.transformMat4(S,S,y),{x:S[0],y:S[1],z:S[2]}}locationPoint(l,d){const g=J(d.lat,d.lng),S=Re.vec3.normalize([],g),y=l.elevation?l.elevation.getAtPointOrZero(l.locationCoordinate(d),l._centerAltitude):l._centerAltitude,C=$e(1,0)*Ln*y;Re.vec3.scaleAndAdd(g,g,S,C);const R=Re.mat4.identity(new Float64Array(16));return Re.mat4.multiply(R,l.pixelMatrix,l.globeMatrix),Re.vec3.transformMat4(g,g,R),new Ze(g[0],g[1])}pixelsPerMeter(l,d){return $e(1,0)*d}pixelSpaceConversion(l,d,g){const S=$e(1,l)*d,y=_r($e(1,45)*d,S,g);return this.pixelsPerMeter(l,d)/y}createTileMatrix(l,d,g){const S=qT(Bc(g.canonical));return Re.mat4.multiply(new Float64Array(16),l.globeMatrix,S)}createInversionMatrix(l,d){const{center:g}=l,S=D4(Bc(d));return Re.mat4.rotateY(S,S,zt(g.lng)),Re.mat4.rotateX(S,S,zt(g.lat)),Re.mat4.scale(S,S,[l._pixelsPerMercatorPixel,l._pixelsPerMercatorPixel,1]),Float32Array.from(S)}pointCoordinate(l,d,g,S){return P4(l,d,g,!0)||new Pt(0,0)}pointCoordinate3D(l,d,g){const S=this.pointCoordinate(l,d,g,0);return[S.x,S.y,S.z]}isPointAboveHorizon(l,d){return!P4(l,d.x,d.y,!1)}farthestPixelDistance(l){const d=function(S,y){const C=S.cameraToCenterDistance,R=S._centerAltitude*y,N=S._camera,H=S._camera.forward(),P=Re.vec3.add([],Re.vec3.scale([],H,-C),[0,0,R]),O=S.worldSize/(2*Math.PI),V=[0,0,-O],F=S.width/S.height,$=Math.tan(S.fovAboveCenter),G=Re.vec3.scale([],N.up(),$),Y=Re.vec3.scale([],N.right(),$*F),ee=Re.vec3.normalize([],Re.vec3.add([],Re.vec3.add([],H,G),Y)),de=[];let fe;if(new Uu(P,ee).closestPointOnSphere(V,O,de)){const ne=Re.vec3.add([],de,V),ve=Re.vec3.sub([],ne,P);fe=Math.cos(S.fovAboveCenter)*Re.vec3.length(ve)}else{const ne=Re.vec3.sub([],P,V),ve=Re.vec3.sub([],V,P);Re.vec3.normalize(ve,ve);const we=Re.vec3.length(ne)-O;fe=Math.sqrt(we*(we+2*O));const De=Math.acos(fe/(O+we))-Math.acos(Re.vec3.dot(H,ve));fe*=Math.cos(De)}return 1.01*fe}(l,this.pixelsPerMeter(l.center.lat,l.worldSize)),g=lf(l.zoom);if(g>0){const S=W9(l,$e(1,l.center.lat)*l.worldSize),y=l.worldSize/(2*Math.PI),C=Math.max(l.width,l.height)/l.worldSize*Math.PI;return _r(d,S+y*(1-Math.cos(C)),Math.pow(g,10))}return d}upVector(l,d,g){return i1(d,g,l,1)}upVectorScale(l){return{metersToTile:Dd(R4(Bc(l)))}}}function J9(p){const l=p.parallels,d=!!l&&Math.abs(l[0]+l[1])<.01;switch(p.name){case"mercator":return new K9(p);case"equirectangular":return new _ie(p);case"naturalEarth":return new bie(p);case"equalEarth":return new gie(p);case"winkelTripel":return new xie(p);case"albers":return d?new X9(p):new vie(p);case"lambertConformalConic":return d?new X9(p):new yie(p);case"globe":return new wie(p)}throw new Error(`Invalid projection name: ${p.name}`)}const Sie=Dv.VectorTileFeature.types,Cie=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function e6(p,l,d,g,S,y,C,R,N,H,P,O,V){const F=R?Math.min(hf,Math.round(R[0])):0,$=R?Math.min(hf,Math.round(R[1])):0;p.emplaceBack(l,d,Math.round(32*g),Math.round(32*S),y,C,(F<<1)+(N?1:0),$,16*H,16*P,256*O,256*V)}function t6(p,l,d){p.emplaceBack(l,d)}function n6(p,l,d,g,S,y,C){p.emplaceBack(l,d,g,S,y,C)}function r6(p,l,d,g,S){p.emplaceBack(l,d,g,S),p.emplaceBack(l,d,g,S),p.emplaceBack(l,d,g,S),p.emplaceBack(l,d,g,S)}function Tie(p){for(const l of p.sections)if(IT(l.text))return!0;return!1}class CM{constructor(l){this.layoutVertexArray=new jy,this.indexArray=new xo,this.programConfigurations=l,this.segments=new ba,this.dynamicLayoutVertexArray=new Nu,this.opacityVertexArray=new Wy,this.placedSymbolArray=new Xy,this.iconTransitioningVertexArray=new Dc,this.globeExtVertexArray=new Gy,this.zOffsetVertexArray=new tf}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0&&this.iconTransitioningVertexArray.length===0}upload(l,d,g,S,y){this.isEmpty()||(g&&(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,Hre.members),this.indexBuffer=l.createIndexBuffer(this.indexArray,d),this.dynamicLayoutVertexBuffer=l.createVertexBuffer(this.dynamicLayoutVertexArray,jre.members,!0),this.opacityVertexBuffer=l.createVertexBuffer(this.opacityVertexArray,Cie,!0),this.iconTransitioningVertexArray.length>0&&(this.iconTransitioningVertexBuffer=l.createVertexBuffer(this.iconTransitioningVertexArray,Wre.members,!0)),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=l.createVertexBuffer(this.globeExtVertexArray,Ure.members,!0)),!this.zOffsetVertexBuffer&&(this.zOffsetVertexArray.length>0||y)&&(this.zOffsetVertexBuffer=l.createVertexBuffer(this.zOffsetVertexArray,Gre.members,!0)),this.opacityVertexBuffer.itemSize=1),(g||S)&&this.programConfigurations.upload(l))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.iconTransitioningVertexBuffer&&this.iconTransitioningVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy(),this.zOffsetVertexBuffer&&this.zOffsetVertexBuffer.destroy())}}Un(CM,"SymbolBuffers");class TM{constructor(l,d,g){this.layoutVertexArray=new l,this.layoutAttributes=d,this.indexArray=new g,this.segments=new ba,this.collisionVertexArray=new ef,this.collisionVertexArrayExt=new Nu}upload(l){this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=l.createVertexBuffer(this.collisionVertexArray,qre.members,!0),this.collisionVertexBufferExt=l.createVertexBuffer(this.collisionVertexArrayExt,Kre.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}Un(TM,"CollisionBuffers");class i6{constructor(l){this.collisionBoxArray=l.collisionBoxArray,this.zoom=l.zoom,this.lut=l.lut,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(C=>C.fqid),this.index=l.index,this.pixelRatio=l.pixelRatio,this.sourceLayerIndex=l.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.hasAnyIconTextFit=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Re.mat4.identity([]),this.placementViewportMatrix=Re.mat4.identity([]);const d=this.layers[0]._unevaluatedLayout._values;this.textSizeData=fM(this.zoom,d["text-size"]),this.iconSizeData=fM(this.zoom,d["icon-size"]);const g=this.layers[0].layout,S=g.get("symbol-sort-key"),y=g.get("symbol-z-order");this.canOverlap=g.get("text-allow-overlap")||g.get("icon-allow-overlap")||g.get("text-ignore-placement")||g.get("icon-ignore-placement"),this.sortFeaturesByKey=y!=="viewport-y"&&S.constantOr(1)!==void 0,this.sortFeaturesByY=(y==="viewport-y"||y==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=g.get("text-writing-mode").map(C=>Al[C]),this.stateDependentLayerIds=this.layers.filter(C=>C.isStateDependent()).map(C=>C.id),this.sourceID=l.sourceID,this.projection=l.projection,this.hasAnyZOffset=!1,this.zOffsetSortDirty=!1,this.zOffsetBuffersNeedUpload=g.get("symbol-z-elevate"),this.activeReplacements=[],this.replacementUpdateTime=0}createArrays(){this.text=new CM(new Oc(this.layers,{zoom:this.zoom,lut:this.lut},l=>l.startsWith("text")||l.startsWith("symbol"))),this.icon=new CM(new Oc(this.layers,{zoom:this.zoom,lut:this.lut},l=>l.startsWith("icon")||l.startsWith("symbol"))),this.glyphOffsetArray=new w4,this.lineVertexArray=new Iv,this.symbolInstances=new Jy}calculateGlyphDependencies(l,d,g,S,y){for(let C=0;C<l.length;C++){const R=l.codePointAt(C);if(R===void 0)break;if(d[R]=!0,S&&y&&R<=65535){const N=m1[l.charAt(C)];N&&(d[N.charCodeAt(0)]=!0)}}}updateFootprints(l,d){}updateReplacement(l,d){if(d.updateTime===this.replacementUpdateTime)return!1;this.replacementUpdateTime=d.updateTime;const g=d.getReplacementRegionsForTile(l.toUnwrapped(),!0);return!sM(this.activeReplacements,g)&&(this.activeReplacements=g,!0)}populate(l,d,g,S){const y=this.layers[0],C=y.layout,R=this.projection.name==="globe",N=C.get("text-font"),H=C.get("text-field"),P=C.get("icon-image"),O=(H.value.kind!=="constant"||H.value.value instanceof zo&&!H.value.value.isEmpty()||H.value.value.toString().length>0)&&(N.value.kind!=="constant"||N.value.value.length>0),V=P.value.kind!=="constant"||!!P.value.value||Object.keys(P.parameters).length>0,F=C.get("symbol-sort-key");if(this.features=[],!O&&!V)return;const $=d.iconDependencies,G=d.glyphDependencies,Y=d.availableImages,ee=new ya(this.zoom);for(const{feature:de,id:fe,index:ne,sourceLayerIndex:ve}of l){const we=y._featureFilter.needGeometry,De=Sn(de,we);if(!y._featureFilter.filter(ee,De,g))continue;if(we||(De.geometry=xn(de,g,S)),R&&de.type!==1&&g.z<=5){const Qe=De.geometry,We=.98078528056,it=(mt,yt)=>{const xt=i1(mt.x,mt.y,g,1),Et=i1(yt.x,yt.y,g,1);return Re.vec3.dot(xt,Et)<We};for(let mt=0;mt<Qe.length;mt++)Qe[mt]=_n(Qe[mt],it)}let Ve,Ue;if(O){const Qe=y.getValueAndResolveTokens("text-field",De,g,Y),We=zo.factory(Qe);Tie(We)&&(this.hasRTLText=!0),(!this.hasRTLText||Fy()==="unavailable"||this.hasRTLText&&ls.isParsed())&&(Ve=Xre(We,y,De))}if(V){const Qe=y.getValueAndResolveTokens("icon-image",De,g,Y);Ue=Qe instanceof Go?Qe:Go.fromString(Qe)}if(!Ve&&!Ue)continue;const ze=this.sortFeaturesByKey?F.evaluate(De,{},g):void 0;if(this.features.push({id:fe,text:Ve,icon:Ue,index:ne,sourceLayerIndex:ve,geometry:De.geometry,properties:de.properties,type:Sie[de.type],sortKey:ze}),Ue&&($[Ue.namePrimary]=!0,Ue.nameSecondary&&($[Ue.nameSecondary]=!0)),Ve){const Qe=N.evaluate(De,{},g).join(","),We=C.get("text-rotation-alignment")==="map"&&C.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Al.vertical)>=0;for(const it of Ve.sections)if(it.image)$[it.image.namePrimary]=!0;else{const mt=fv(Ve.toString()),yt=it.fontStack||Qe,xt=G[yt]=G[yt]||{};this.calculateGlyphDependencies(it.text,xt,We,this.allowVerticalPlacement,mt)}}}C.get("symbol-placement")==="line"&&(this.features=function(de){const fe={},ne={},ve=[];let we=0;function De(Qe){ve.push(de[Qe]),we++}function Ve(Qe,We,it){const mt=ne[Qe];return delete ne[Qe],ne[We]=mt,ve[mt].geometry[0].pop(),ve[mt].geometry[0]=ve[mt].geometry[0].concat(it[0]),mt}function Ue(Qe,We,it){const mt=fe[We];return delete fe[We],fe[Qe]=mt,ve[mt].geometry[0].shift(),ve[mt].geometry[0]=it[0].concat(ve[mt].geometry[0]),mt}function ze(Qe,We,it){const mt=it?We[0][We[0].length-1]:We[0][0];return`${Qe}:${mt.x}:${mt.y}`}for(let Qe=0;Qe<de.length;Qe++){const We=de[Qe],it=We.geometry,mt=We.text?We.text.toString():null;if(!mt){De(Qe);continue}const yt=ze(mt,it),xt=ze(mt,it,!0);if(yt in ne&&xt in fe&&ne[yt]!==fe[xt]){const Et=Ue(yt,xt,it),$t=Ve(yt,xt,ve[Et].geometry);delete fe[yt],delete ne[xt],ne[ze(mt,ve[$t].geometry,!0)]=$t,ve[Et].geometry=null}else yt in ne?Ve(yt,xt,it):xt in fe?Ue(yt,xt,it):(De(Qe),fe[yt]=we-1,ne[xt]=we-1)}return ve.filter(Qe=>Qe.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((de,fe)=>de.sortKey-fe.sortKey)}update(l,d,g,S,y){const C=Object.keys(l).length!==0;if(C&&!this.stateDependentLayers.length)return;const R=C?this.stateDependentLayers:this.layers;this.text.programConfigurations.updatePaintArrays(l,d,R,g,S,y),this.icon.programConfigurations.updatePaintArrays(l,d,R,g,S,y)}updateZOffset(){const l=(y,C,R)=>{g+=C,g>y.length&&y.resize(g);for(let N=-C;N<0;N++)y.emplace(N+g,R)},d=(y,C,R)=>{S+=C,S>y.length&&y.resize(S);for(let N=-C;N<0;N++)y.emplace(N+S,R)};if(!this.zOffsetBuffersNeedUpload)return;this.zOffsetBuffersNeedUpload=!1;let g=0,S=0;for(let y=0;y<this.symbolInstances.length;y++){const C=this.symbolInstances.get(y),{numHorizontalGlyphVertices:R,numVerticalGlyphVertices:N,numIconVertices:H}=C,P=C.zOffset,O=H>0;if((R>0||N>0)&&(l(this.text.zOffsetVertexArray,R,P),l(this.text.zOffsetVertexArray,N,P)),O){const{placedIconSymbolIndex:V,verticalPlacedIconSymbolIndex:F}=C;V>=0&&d(this.icon.zOffsetVertexArray,H,P),F>=0&&d(this.icon.zOffsetVertexArray,C.numVerticalIconVertices,P)}}this.text.zOffsetVertexBuffer&&this.text.zOffsetVertexBuffer.updateData(this.text.zOffsetVertexArray),this.icon.zOffsetVertexBuffer&&this.icon.zOffsetVertexBuffer.updateData(this.icon.zOffsetVertexArray)}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(l){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(l),this.iconCollisionBox.upload(l)),this.text.upload(l,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload,this.zOffsetBuffersNeedUpload),this.icon.upload(l,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload,this.zOffsetBuffersNeedUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=J9(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(l,d){const g=this.lineVertexArray.length;if(l.segment!==void 0)for(const{x:S,y}of d)this.lineVertexArray.emplaceBack(S,y);return{lineStartIndex:g,lineLength:this.lineVertexArray.length-g}}addSymbols(l,d,g,S,y,C,R,N,H,P,O,V,F,$,G,Y){const ee=l.indexArray,de=l.layoutVertexArray,fe=l.globeExtVertexArray,ne=l.segments.prepareSegment(4*d.length,de,ee,this.canOverlap?C.sortKey:void 0),ve=this.glyphOffsetArray.length,we=ne.vertexLength,De=this.allowVerticalPlacement&&R===Al.vertical?Math.PI/2:0,Ve=C.text&&C.text.sections;for(let ze=0;ze<d.length;ze++){const{tl:Qe,tr:We,bl:it,br:mt,texPrimary:yt,texSecondary:xt,pixelOffsetTL:Et,pixelOffsetBR:$t,minFontScaleX:At,minFontScaleY:Jt,glyphOffset:dn,isSDF:qt,sectionIndex:Bn}=d[ze],kn=ne.vertexLength,wn=dn[1];if(e6(de,H.x,H.y,Qe.x,wn+Qe.y,yt.x,yt.y,g,qt,Et.x,Et.y,At,Jt),e6(de,H.x,H.y,We.x,wn+We.y,yt.x+yt.w,yt.y,g,qt,$t.x,Et.y,At,Jt),e6(de,H.x,H.y,it.x,wn+it.y,yt.x,yt.y+yt.h,g,qt,Et.x,$t.y,At,Jt),e6(de,H.x,H.y,mt.x,wn+mt.y,yt.x+yt.w,yt.y+yt.h,g,qt,$t.x,$t.y,At,Jt),N){const{x:gn,y:or,z:zn}=N.anchor,[Hn,Cr,Vr]=N.up;n6(fe,gn,or,zn,Hn,Cr,Vr),n6(fe,gn,or,zn,Hn,Cr,Vr),n6(fe,gn,or,zn,Hn,Cr,Vr),n6(fe,gn,or,zn,Hn,Cr,Vr),r6(l.dynamicLayoutVertexArray,gn,or,zn,De)}else r6(l.dynamicLayoutVertexArray,H.x,H.y,H.z,De);if(Y){const gn=xt||yt;t6(l.iconTransitioningVertexArray,gn.x,gn.y),t6(l.iconTransitioningVertexArray,gn.x+gn.w,gn.y),t6(l.iconTransitioningVertexArray,gn.x,gn.y+gn.h),t6(l.iconTransitioningVertexArray,gn.x+gn.w,gn.y+gn.h)}ee.emplaceBack(kn,kn+1,kn+2),ee.emplaceBack(kn+1,kn+2,kn+3),ne.vertexLength+=4,ne.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(dn[0]),ze!==d.length-1&&Bn===d[ze+1].sectionIndex||l.programConfigurations.populatePaintArrays(de.length,C,C.index,{},F,$,G,Ve&&Ve[Bn])}const Ue=N?N.anchor:H;l.placedSymbolArray.emplaceBack(Ue.x,Ue.y,Ue.z,H.x,H.y,ve,this.glyphOffsetArray.length-ve,we,P,O,H.segment,g?g[0]:0,g?g[1]:0,S[0],S[1],R,0,!1,0,V,0)}_commitLayoutVertex(l,d,g,S,y,C,R){l.emplaceBack(d,g,S,y,C,Math.round(R.x),Math.round(R.y))}_addCollisionDebugVertices(l,d,g,S,y,C,R){const N=g.segments.prepareSegment(4,g.layoutVertexArray,g.indexArray),H=N.vertexLength,P=R.tileAnchorX,O=R.tileAnchorY;for(let F=0;F<4;F++)g.collisionVertexArray.emplaceBack(0,0,0,0,0,0);this._commitDebugCollisionVertexUpdate(g.collisionVertexArrayExt,d,l.padding,R.zOffset),this._commitLayoutVertex(g.layoutVertexArray,S,y,C,P,O,new Ze(l.x1,l.y1)),this._commitLayoutVertex(g.layoutVertexArray,S,y,C,P,O,new Ze(l.x2,l.y1)),this._commitLayoutVertex(g.layoutVertexArray,S,y,C,P,O,new Ze(l.x2,l.y2)),this._commitLayoutVertex(g.layoutVertexArray,S,y,C,P,O,new Ze(l.x1,l.y2)),N.vertexLength+=4;const V=g.indexArray;V.emplaceBack(H,H+1),V.emplaceBack(H+1,H+2),V.emplaceBack(H+2,H+3),V.emplaceBack(H+3,H),N.primitiveLength+=4}_addTextDebugCollisionBoxes(l,d,g,S,y,C){for(let R=S;R<y;R++){const N=g.get(R),H=this.getSymbolInstanceTextSize(l,C,d,R);this._addCollisionDebugVertices(N,H,this.textCollisionBox,N.projectedAnchorX,N.projectedAnchorY,N.projectedAnchorZ,C)}}_addIconDebugCollisionBoxes(l,d,g,S,y,C){for(let R=S;R<y;R++){const N=g.get(R),H=this.getSymbolInstanceIconSize(l,d,C.placedIconSymbolIndex);this._addCollisionDebugVertices(N,H,this.iconCollisionBox,N.projectedAnchorX,N.projectedAnchorY,N.projectedAnchorZ,C)}}generateCollisionDebugBuffers(l,d){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new TM(Pd,b9.members,Dc),this.iconCollisionBox=new TM(Pd,b9.members,Dc);const g=Ov(this.iconSizeData,l),S=Ov(this.textSizeData,l);for(let y=0;y<this.symbolInstances.length;y++){const C=this.symbolInstances.get(y);this._addTextDebugCollisionBoxes(S,l,d,C.textBoxStartIndex,C.textBoxEndIndex,C),this._addTextDebugCollisionBoxes(S,l,d,C.verticalTextBoxStartIndex,C.verticalTextBoxEndIndex,C),this._addIconDebugCollisionBoxes(g,l,d,C.iconBoxStartIndex,C.iconBoxEndIndex,C),this._addIconDebugCollisionBoxes(g,l,d,C.verticalIconBoxStartIndex,C.verticalIconBoxEndIndex,C)}}getSymbolInstanceTextSize(l,d,g,S){const y=this.text.placedSymbolArray.get(d.rightJustifiedTextSymbolIndex>=0?d.rightJustifiedTextSymbolIndex:d.centerJustifiedTextSymbolIndex>=0?d.centerJustifiedTextSymbolIndex:d.leftJustifiedTextSymbolIndex>=0?d.leftJustifiedTextSymbolIndex:d.verticalPlacedTextSymbolIndex>=0?d.verticalPlacedTextSymbolIndex:S),C=G4(this.textSizeData,l,y)/Mo;return this.tilePixelRatio*C}getSymbolInstanceIconSize(l,d,g){const S=this.icon.placedSymbolArray.get(g),y=G4(this.iconSizeData,l,S);return this.tilePixelRatio*y}_commitDebugCollisionVertexUpdate(l,d,g,S){l.emplaceBack(d,-g,-g,S),l.emplaceBack(d,g,-g,S),l.emplaceBack(d,g,g,S),l.emplaceBack(d,-g,g,S)}_updateTextDebugCollisionBoxes(l,d,g,S,y,C){for(let R=S;R<y;R++){const N=g.get(R),H=this.getSymbolInstanceTextSize(l,C,d,R);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,H,N.padding,C.zOffset)}}_updateIconDebugCollisionBoxes(l,d,g,S,y,C){for(let R=S;R<y;R++){const N=g.get(R),H=this.getSymbolInstanceIconSize(l,d,C.placedIconSymbolIndex);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,H,N.padding,C.zOffset)}}updateCollisionDebugBuffers(l,d){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const g=Ov(this.iconSizeData,l),S=Ov(this.textSizeData,l);for(let y=0;y<this.symbolInstances.length;y++){const C=this.symbolInstances.get(y);this._updateTextDebugCollisionBoxes(S,l,d,C.textBoxStartIndex,C.textBoxEndIndex,C),this._updateTextDebugCollisionBoxes(S,l,d,C.verticalTextBoxStartIndex,C.verticalTextBoxEndIndex,C),this._updateIconDebugCollisionBoxes(g,l,d,C.iconBoxStartIndex,C.iconBoxEndIndex,C),this._updateIconDebugCollisionBoxes(g,l,d,C.verticalIconBoxStartIndex,C.verticalIconBoxEndIndex,C)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(l,d,g,S,y,C,R,N,H){const P={};if(d<g){const{x1:O,y1:V,x2:F,y2:$,padding:G,projectedAnchorX:Y,projectedAnchorY:ee,projectedAnchorZ:de,tileAnchorX:fe,tileAnchorY:ne,featureIndex:ve}=l.get(d);P.textBox={x1:O,y1:V,x2:F,y2:$,padding:G,projectedAnchorX:Y,projectedAnchorY:ee,projectedAnchorZ:de,tileAnchorX:fe,tileAnchorY:ne},P.textFeatureIndex=ve}if(S<y){const{x1:O,y1:V,x2:F,y2:$,padding:G,projectedAnchorX:Y,projectedAnchorY:ee,projectedAnchorZ:de,tileAnchorX:fe,tileAnchorY:ne,featureIndex:ve}=l.get(S);P.verticalTextBox={x1:O,y1:V,x2:F,y2:$,padding:G,projectedAnchorX:Y,projectedAnchorY:ee,projectedAnchorZ:de,tileAnchorX:fe,tileAnchorY:ne},P.verticalTextFeatureIndex=ve}if(C<R){const{x1:O,y1:V,x2:F,y2:$,padding:G,projectedAnchorX:Y,projectedAnchorY:ee,projectedAnchorZ:de,tileAnchorX:fe,tileAnchorY:ne,featureIndex:ve}=l.get(C);P.iconBox={x1:O,y1:V,x2:F,y2:$,padding:G,projectedAnchorX:Y,projectedAnchorY:ee,projectedAnchorZ:de,tileAnchorX:fe,tileAnchorY:ne},P.iconFeatureIndex=ve}if(N<H){const{x1:O,y1:V,x2:F,y2:$,padding:G,projectedAnchorX:Y,projectedAnchorY:ee,projectedAnchorZ:de,tileAnchorX:fe,tileAnchorY:ne,featureIndex:ve}=l.get(N);P.verticalIconBox={x1:O,y1:V,x2:F,y2:$,padding:G,projectedAnchorX:Y,projectedAnchorY:ee,projectedAnchorZ:de,tileAnchorX:fe,tileAnchorY:ne},P.verticalIconFeatureIndex=ve}return P}deserializeCollisionBoxes(l){this.collisionArrays=[];for(let d=0;d<this.symbolInstances.length;d++){const g=this.symbolInstances.get(d);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(l,g.textBoxStartIndex,g.textBoxEndIndex,g.verticalTextBoxStartIndex,g.verticalTextBoxEndIndex,g.iconBoxStartIndex,g.iconBoxEndIndex,g.verticalIconBoxStartIndex,g.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}hasIconTextFit(){return this.hasAnyIconTextFit}addIndicesForPlacedSymbol(l,d){const g=l.placedSymbolArray.get(d),S=g.vertexStartIndex+4*g.numGlyphs;for(let y=g.vertexStartIndex;y<S;y+=4)l.indexArray.emplaceBack(y,y+1,y+2),l.indexArray.emplaceBack(y+1,y+2,y+3)}getSortedSymbolIndexes(l){if(this.sortedAngle===l&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const d=Math.sin(l),g=Math.cos(l),S=[],y=[],C=[];for(let R=0;R<this.symbolInstances.length;++R){C.push(R);const N=this.symbolInstances.get(R);S.push(0|Math.round(d*N.tileAnchorX+g*N.tileAnchorY)),y.push(N.featureIndex)}return C.sort((R,N)=>S[R]-S[N]||y[N]-y[R]),C}getSortedIndexesByZOffset(){if(!this.zOffsetSortDirty)return this.symbolInstanceIndexesSortedZOffset;if(!this.symbolInstanceIndexesSortedZOffset){this.symbolInstanceIndexesSortedZOffset=[];for(let l=0;l<this.symbolInstances.length;++l)this.symbolInstanceIndexesSortedZOffset.push(l)}return this.zOffsetSortDirty=!1,this.symbolInstanceIndexesSortedZOffset.sort((l,d)=>this.symbolInstances.get(d).zOffset-this.symbolInstances.get(l).zOffset)}addToSortKeyRanges(l,d){const g=this.sortKeyRanges[this.sortKeyRanges.length-1];g&&g.sortKey===d?g.symbolInstanceEnd=l+1:this.sortKeyRanges.push({sortKey:d,symbolInstanceStart:l,symbolInstanceEnd:l+1})}sortFeatures(l){if(this.sortFeaturesByY&&this.sortedAngle!==l&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(l),this.sortedAngle=l,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const d of this.symbolInstanceIndexes){const g=this.symbolInstances.get(d);this.featureSortOrder.push(g.featureIndex);const{rightJustifiedTextSymbolIndex:S,centerJustifiedTextSymbolIndex:y,leftJustifiedTextSymbolIndex:C,verticalPlacedTextSymbolIndex:R,placedIconSymbolIndex:N,verticalPlacedIconSymbolIndex:H}=g;S>=0&&this.addIndicesForPlacedSymbol(this.text,S),y>=0&&y!==S&&this.addIndicesForPlacedSymbol(this.text,y),C>=0&&C!==y&&C!==S&&this.addIndicesForPlacedSymbol(this.text,C),R>=0&&this.addIndicesForPlacedSymbol(this.text,R),N>=0&&this.addIndicesForPlacedSymbol(this.icon,N),H>=0&&this.addIndicesForPlacedSymbol(this.icon,H)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let Q9,ez,MM;Un(i6,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),i6.addDynamicAttributes=r6;class tz{constructor(l){this.type=l.property.overrides?l.property.overrides.runtimeType:wl,this.defaultValue=l}evaluate(l){if(l.formattedSection){const d=this.defaultValue.property.overrides;if(d&&d.hasOverride(l.formattedSection))return d.getOverride(l.formattedSection)}return l.feature&&l.featureState?this.defaultValue.evaluate(l.feature,l.featureState):this.defaultValue.property.specification.default}eachChild(l){this.defaultValue.isConstant()||l(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Un(tz,"FormatSectionOverride",{omit:["defaultValue"]});const EM=()=>MM||(MM={layout:Q9||(Q9=new la({"symbol-placement":new Mn(Ot.layout_symbol["symbol-placement"]),"symbol-spacing":new Mn(Ot.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Mn(Ot.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new ir(Ot.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Mn(Ot.layout_symbol["symbol-z-order"]),"symbol-z-elevate":new Mn(Ot.layout_symbol["symbol-z-elevate"]),"icon-allow-overlap":new Mn(Ot.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Mn(Ot.layout_symbol["icon-ignore-placement"]),"icon-optional":new Mn(Ot.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Mn(Ot.layout_symbol["icon-rotation-alignment"]),"icon-size":new ir(Ot.layout_symbol["icon-size"]),"icon-text-fit":new ir(Ot.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new ir(Ot.layout_symbol["icon-text-fit-padding"]),"icon-image":new ir(Ot.layout_symbol["icon-image"]),"icon-rotate":new ir(Ot.layout_symbol["icon-rotate"]),"icon-padding":new Mn(Ot.layout_symbol["icon-padding"]),"icon-keep-upright":new Mn(Ot.layout_symbol["icon-keep-upright"]),"icon-offset":new ir(Ot.layout_symbol["icon-offset"]),"icon-anchor":new ir(Ot.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Mn(Ot.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Mn(Ot.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Mn(Ot.layout_symbol["text-rotation-alignment"]),"text-field":new ir(Ot.layout_symbol["text-field"]),"text-font":new ir(Ot.layout_symbol["text-font"]),"text-size":new ir(Ot.layout_symbol["text-size"]),"text-max-width":new ir(Ot.layout_symbol["text-max-width"]),"text-line-height":new ir(Ot.layout_symbol["text-line-height"]),"text-letter-spacing":new ir(Ot.layout_symbol["text-letter-spacing"]),"text-justify":new ir(Ot.layout_symbol["text-justify"]),"text-radial-offset":new ir(Ot.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Mn(Ot.layout_symbol["text-variable-anchor"]),"text-anchor":new ir(Ot.layout_symbol["text-anchor"]),"text-max-angle":new Mn(Ot.layout_symbol["text-max-angle"]),"text-writing-mode":new Mn(Ot.layout_symbol["text-writing-mode"]),"text-rotate":new ir(Ot.layout_symbol["text-rotate"]),"text-padding":new Mn(Ot.layout_symbol["text-padding"]),"text-keep-upright":new Mn(Ot.layout_symbol["text-keep-upright"]),"text-transform":new ir(Ot.layout_symbol["text-transform"]),"text-offset":new ir(Ot.layout_symbol["text-offset"]),"text-allow-overlap":new Mn(Ot.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Mn(Ot.layout_symbol["text-ignore-placement"]),"text-optional":new Mn(Ot.layout_symbol["text-optional"]),visibility:new Mn(Ot.layout_symbol.visibility)})),paint:ez||(ez=new la({"icon-opacity":new ir(Ot.paint_symbol["icon-opacity"]),"icon-occlusion-opacity":new ir(Ot.paint_symbol["icon-occlusion-opacity"]),"icon-emissive-strength":new ir(Ot.paint_symbol["icon-emissive-strength"]),"text-emissive-strength":new ir(Ot.paint_symbol["text-emissive-strength"]),"icon-color":new ir(Ot.paint_symbol["icon-color"]),"icon-halo-color":new ir(Ot.paint_symbol["icon-halo-color"]),"icon-halo-width":new ir(Ot.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ir(Ot.paint_symbol["icon-halo-blur"]),"icon-translate":new Mn(Ot.paint_symbol["icon-translate"]),"icon-translate-anchor":new Mn(Ot.paint_symbol["icon-translate-anchor"]),"icon-image-cross-fade":new ir(Ot.paint_symbol["icon-image-cross-fade"]),"text-opacity":new ir(Ot.paint_symbol["text-opacity"]),"text-occlusion-opacity":new ir(Ot.paint_symbol["text-occlusion-opacity"]),"text-color":new ir(Ot.paint_symbol["text-color"],{runtimeType:as,getOverride:p=>p.textColor,hasOverride:p=>!!p.textColor}),"text-halo-color":new ir(Ot.paint_symbol["text-halo-color"]),"text-halo-width":new ir(Ot.paint_symbol["text-halo-width"]),"text-halo-blur":new ir(Ot.paint_symbol["text-halo-blur"]),"text-translate":new Mn(Ot.paint_symbol["text-translate"]),"text-translate-anchor":new Mn(Ot.paint_symbol["text-translate-anchor"]),"icon-color-saturation":new Mn(Ot.paint_symbol["icon-color-saturation"]),"icon-color-contrast":new Mn(Ot.paint_symbol["icon-color-contrast"]),"icon-color-brightness-min":new Mn(Ot.paint_symbol["icon-color-brightness-min"]),"icon-color-brightness-max":new Mn(Ot.paint_symbol["icon-color-brightness-max"]),"symbol-z-offset":new ir(Ot.paint_symbol["symbol-z-offset"]),"symbol-elevation-reference":new Mn(Ot.paint_symbol["symbol-elevation-reference"])}))},MM);class a6 extends Bo{constructor(l,d,g,S){super(l,EM(),d,g,S),this._colorAdjustmentMatrix=Re.mat4.identity([]),this.hasInitialOcclusionOpacityProperties=l.paint!==void 0&&("icon-occlusion-opacity"in l.paint||"text-occlusion-opacity"in l.paint)}recalculate(l,d){super.recalculate(l,d),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const g=this.layout.get("text-writing-mode");if(g){const S=[];for(const y of g)S.indexOf(y)<0&&S.push(y);this.layout._values["text-writing-mode"]=S}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getColorAdjustmentMatrix(l,d,g,S){return this._saturation===l&&this._contrast===d&&this._brightnessMin===g&&this._brightnessMax===S||(this._colorAdjustmentMatrix=function(y,C,R,N){y=Xe(y),C=Oe(C);const H=Re.mat4.create(),P=y/3,O=1-2*P,V=[O,P,P,0,P,O,P,0,P,P,O,0,0,0,0,1],F=.5-.5*C,$=N-R;return Re.mat4.multiply(H,[$,0,0,0,0,$,0,0,0,0,$,0,R,R,R,1],[C,0,0,0,0,C,0,0,0,0,C,0,F,F,F,1]),Re.mat4.multiply(H,H,V),H}(l,d,g,S),this._saturation=l,this._contrast=d,this._brightnessMin=g,this._brightnessMax=S),this._colorAdjustmentMatrix}getValueAndResolveTokens(l,d,g,S){const y=this.layout.get(l).evaluate(d,{},g,S),C=this._unevaluatedLayout._values[l];return C.isDataDriven()||uv(C.value)||!y?y:function(R,N){return N.replace(/{([^{}]+)}/g,(H,P)=>P in R?String(R[P]):"")}(d.properties,y)}createBucket(l){return new i6(l)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const l of EM().paint.overridableProperties){if(!a6.hasPaintOverride(this.layout,l))continue;const d=this.paint.get(l),g=new tz(d),S=new lv(g,d.property.specification,this.scope,this.options);let y=null;y=d.value.kind==="constant"||d.value.kind==="source"?new Ly("source",S):new Xl("composite",S,d.value.zoomStops,d.value._interpolationType),this.paint._values[l]=new Yh(d.property,y,d.parameters)}}_handleOverridablePaintPropertyUpdate(l,d,g){return!(!this.layout||d.isDataDriven()||g.isDataDriven())&&a6.hasPaintOverride(this.layout,l)}static hasPaintOverride(l,d){const g=l.get("text-field"),S=EM().paint.properties[d];let y=!1;const C=R=>{for(const N of R)if(S.overrides&&S.overrides.hasOverride(N))return void(y=!0)};if(g.value.kind==="constant"&&g.value.value instanceof zo)C(g.value.value.sections);else if(g.value.kind==="source"){const R=H=>{y||(H instanceof Sl&&ja(H.value)===Ih?C(H.value.sections):H instanceof Rh?C(H.sections):H.eachChild(R))},N=g.value;N._styleExpression&&R(N._styleExpression.expression)}return y}getProgramIds(){return["symbol"]}getDefaultProgramParams(l,d,g){return{config:new Rd(this,{zoom:d,lut:g}),overrideFog:!1}}}let nz,rz,iz,az;var AM=yi([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);function IM(p){switch(p){case WebGL2RenderingContext.RGBA8:return WebGL2RenderingContext.RGBA;case WebGL2RenderingContext.DEPTH_COMPONENT16:return WebGL2RenderingContext.DEPTH_COMPONENT;case WebGL2RenderingContext.DEPTH24_STENCIL8:return WebGL2RenderingContext.DEPTH_STENCIL;case WebGL2RenderingContext.R8:case WebGL2RenderingContext.R32F:return WebGL2RenderingContext.RED}}function kM(p){switch(p){case WebGL2RenderingContext.RGBA8:return WebGL2RenderingContext.UNSIGNED_BYTE;case WebGL2RenderingContext.DEPTH_COMPONENT16:return WebGL2RenderingContext.UNSIGNED_SHORT;case WebGL2RenderingContext.DEPTH24_STENCIL8:return WebGL2RenderingContext.UNSIGNED_INT_24_8;case WebGL2RenderingContext.R8:return WebGL2RenderingContext.UNSIGNED_BYTE;case WebGL2RenderingContext.R32F:return WebGL2RenderingContext.FLOAT}}class PM{constructor(l,d,g,S){this.context=l,this.format=g,this.useMipmap=S&&S.useMipmap,this.texture=l.gl.createTexture(),this.update(d,{premultiply:S&&S.premultiply})}update(l,d){const g=l&&l instanceof HTMLVideoElement&&l.width===0?l.videoWidth:l.width,S=l&&l instanceof HTMLVideoElement&&l.height===0?l.videoHeight:l.height,{context:y}=this,{gl:C}=y,{x:R,y:N}=d&&d.position?d.position:{x:0,y:0},H=Math.max(R+g,this.size?this.size[0]:0),P=Math.max(N+S,this.size?this.size[1]:0);!this.size||this.size[0]===H&&this.size[1]===P||(C.bindTexture(C.TEXTURE_2D,null),C.deleteTexture(this.texture),this.texture=C.createTexture(),this.size=null),C.bindTexture(C.TEXTURE_2D,this.texture),y.pixelStoreUnpackFlipY.set(!1),y.pixelStoreUnpack.set(1),y.pixelStoreUnpackPremultiplyAlpha.set(this.format===C.RGBA8&&(!d||d.premultiply!==!1));const O=l instanceof HTMLImageElement||l instanceof HTMLCanvasElement||l instanceof HTMLVideoElement||l instanceof ImageData||ImageBitmap&&l instanceof ImageBitmap;if(!this.size&&H>0&&P>0){const V=this.useMipmap?Math.floor(Math.log2(Math.max(H,P)))+1:1;C.texStorage2D(C.TEXTURE_2D,V,this.format,H,P),this.size=[H,P]}if(this.size)if(O)C.texSubImage2D(C.TEXTURE_2D,0,R,N,IM(this.format),kM(this.format),l);else{const V=l.data;V&&C.texSubImage2D(C.TEXTURE_2D,0,R,N,g,S,IM(this.format),kM(this.format),V)}this.useMipmap&&C.generateMipmap(C.TEXTURE_2D)}bind(l,d,g=!1){const{context:S}=this,{gl:y}=S;y.bindTexture(y.TEXTURE_2D,this.texture),l!==this.minFilter&&(y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,l),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,this.useMipmap&&!g?l===y.NEAREST?y.NEAREST_MIPMAP_NEAREST:y.LINEAR_MIPMAP_LINEAR:l),this.minFilter=l),d!==this.wrapS&&(y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,d),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,d),this.wrapS=d)}bindExtraParam(l,d,g,S){const{context:y}=this,{gl:C}=y;C.bindTexture(C.TEXTURE_2D,this.texture),d!==this.magFilter&&(C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,d),this.magFilter=d),l!==this.minFilter&&(C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,this.useMipmap?l===C.NEAREST?C.NEAREST_MIPMAP_NEAREST:C.LINEAR_MIPMAP_LINEAR:l),this.minFilter=l),g!==this.wrapS&&(C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,g),this.wrapS=g),S!==this.wrapT&&(C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,S),this.wrapT=S)}destroy(){const{gl:l}=this.context;l.deleteTexture(this.texture),this.texture=null}}class o6{constructor(l,d){this.context=l,this.texture=d}bind(l,d){const{context:g}=this,{gl:S}=g;S.bindTexture(S.TEXTURE_2D,this.texture),l!==this.minFilter&&(S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,l),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,l),this.minFilter=l),d!==this.wrapS&&(S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,d),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,d),this.wrapS=d)}}function s6(p,l,d,g,S,y,C,R){const N=[p,l,1,d,g,1,S,y,1],H=[C,R,1],P=Re.mat3.adjoint([],N),[O,V,F]=Re.vec3.transformMat3(H,H,P);return Re.mat3.multiply(N,N,[O,0,0,0,V,0,0,0,F])}function oz(p,l,d,g,S,y,C,R){const N=function(H,P,O,V,F,$,G,Y){const ee=s6(0,0,1,0,1,1,0,1),de=s6(H,P,O,V,F,$,G,Y),fe=Re.mat3.adjoint([],ee);return Re.mat3.multiply(de,de,fe)}(p,l,d,g,S,y,C,R);return[N[2]/N[8]/Ln,N[5]/N[8]/Ln]}function l6(p){return[p[0],Math.min(Math.max(p[1],-nt),nt)]}class sz extends Eh{constructor(l,d,g,S){super(),this.id=l,this.dispatcher=g,this.coordinates=d.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.onNorthPole=!1,this.onSouthPole=!1,this.setEventedParent(S),this.options=d,this._dirty=!1}load(l,d){if(this._loaded=d||!1,this.fire(new Cc("dataloading",{dataType:"source"})),this.url=this.options.url,!this.url)return l&&(this.coordinates=l),this._loaded=!0,void this._finishLoading();this._imageRequest=ql(this.map._requestManager.transformRequest(this.url,Ch.Image),(g,S)=>{this._imageRequest=null,this._loaded=!0,g?this.fire(new Mp(g)):S&&(this.image=S instanceof HTMLImageElement?Rn.getImageData(S):S,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,l&&(this.coordinates=l),this._finishLoading())})}loaded(){return this._loaded}updateImage(l){return l.url?(this._imageRequest&&l.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=l.url,this.load(l.coordinates,this._loaded),this):this}setTexture(l){if(!(l.handle instanceof WebGLTexture))throw new Error("The provided handle is not a WebGLTexture instance");return this.texture=new o6(this.map.painter.context,l.handle),this.width=l.dimensions[0],this.height=l.dimensions[1],this._dirty=!1,this._loaded=!0,this._finishLoading(),this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new Cc("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(l){this.map=l,this.load()}onRemove(l){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),!this.texture||this.texture instanceof o6||this.texture.destroy(),this.boundsBuffer&&(this.boundsBuffer.destroy(),this.elevatedGlobeVertexBuffer&&this.elevatedGlobeVertexBuffer.destroy(),this.elevatedGlobeIndexBuffer&&this.elevatedGlobeIndexBuffer.destroy())}setCoordinates(l){if(this.coordinates=l,this._boundsArray=void 0,this._unsupportedCoords=!1,!l.length)return this;this.onNorthPole=!1,this.onSouthPole=!1;let d=l[0][1],g=l[0][1];for(const y of l)y[1]>g&&(g=y[1]),y[1]<d&&(d=y[1]);const S=(g+d)/2;if(S>nt?this.onNorthPole=!0:S<-nt&&(this.onSouthPole=!0),!this.onNorthPole&&!this.onSouthPole){const y=l.map(Pt.fromLngLat);this.tileID=function(C){let R=1/0,N=1/0,H=-1/0,P=-1/0;for(const G of C)R=Math.min(R,G.x),N=Math.min(N,G.y),H=Math.max(H,G.x),P=Math.max(P,G.y);const O=Math.max(H-R,P-N),V=Math.max(0,Math.floor(-Math.log(O)/Math.LN2)),F=Math.pow(2,V);let $=Math.floor((R+H)/2*F);return $>1&&($-=1),new oo(V,$,Math.floor((N+P)/2*F))}(y),this.minzoom=this.maxzoom=this.tileID.z}return this.fire(new Cc("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0,this._unsupportedCoords=!1}_prepareData(l){for(const ee in this.tiles){const de=this.tiles[ee];de.state!=="loaded"&&(de.state="loaded",de.texture=this.texture)}if(this._boundsArray||this.onNorthPole||this.onSouthPole||this._unsupportedCoords)return;const d=b1(new oo(0,0,0),this.map.transform.projection),g=[d.projection.project(this.coordinates[0][0],this.coordinates[0][1]),d.projection.project(this.coordinates[1][0],this.coordinates[1][1]),d.projection.project(this.coordinates[2][0],this.coordinates[2][1]),d.projection.project(this.coordinates[3][0],this.coordinates[3][1])];if(!function(ee){const de=ee[1].x-ee[0].x,fe=ee[1].y-ee[0].y,ne=ee[2].x-ee[1].x,ve=ee[2].y-ee[1].y,we=ee[3].x-ee[2].x,De=ee[3].y-ee[2].y,Ve=ee[0].x-ee[3].x,Ue=ee[0].y-ee[3].y,ze=de*ve-ne*fe,Qe=ne*De-we*ve,We=we*Ue-Ve*De,it=Ve*fe-de*Ue;return ze>0&&Qe>0&&We>0&&it>0||ze<0&&Qe<0&&We<0&&it<0}(g))return console.warn("Image source coordinates are defining non-convex area in the Mercator projection"),void(this._unsupportedCoords=!0);const S=b1(this.tileID,this.map.transform.projection),[y,C,R,N]=this.coordinates.map(ee=>{const de=S.projection.project(ee[0],ee[1]);return q9(S,de)._round()});this.perspectiveTransform=oz(y.x,y.y,C.x,C.y,R.x,R.y,N.x,N.y);const H=this._boundsArray=new Lc;H.emplaceBack(y.x,y.y,0,0),H.emplaceBack(C.x,C.y,Ln,0),H.emplaceBack(N.x,N.y,0,Ln),H.emplaceBack(R.x,R.y,Ln,Ln),this.boundsBuffer&&(this.boundsBuffer.destroy(),this.elevatedGlobeVertexBuffer&&this.elevatedGlobeVertexBuffer.destroy(),this.elevatedGlobeIndexBuffer&&this.elevatedGlobeIndexBuffer.destroy()),this.boundsBuffer=l.createVertexBuffer(H,AM.members),this.boundsSegments=ba.simpleSegment(0,0,4,2);const P=[],O=[l6((V=this.coordinates)[0]),l6(V[1]),l6(V[2]),l6(V[3])];var V;const[F,$,G,Y]=function(ee){let de=ee[0][0],fe=de,ne=ee[0][1],ve=ne;for(let we=1;we<ee.length;we++)ee[we][0]<de?de=ee[we][0]:ee[we][0]>fe&&(fe=ee[we][0]),ee[we][1]<ne?ne=ee[we][1]:ee[we][1]>ve&&(ve=ee[we][1]);return[de,ne,fe-de,ve-ne]}(O);{const ee=new Lc,[de,fe,ne,ve]=function(Et){let $t=Et[0].x,At=$t,Jt=Et[0].y,dn=Jt;for(let qt=1;qt<Et.length;qt++)Et[qt].x<$t?$t=Et[qt].x:Et[qt].x>At&&(At=Et[qt].x),Et[qt].y<Jt?Jt=Et[qt].y:Et[qt].y>dn&&(dn=Et[qt].y);return[$t,Jt,At-$t,dn-Jt]}(g),we=Et=>[(Et.x-de)/ne,(Et.y-fe)/ve],[De,Ve,Ue,ze]=g.map(we),Qe=function(Et,$t,At,Jt,dn,qt,Bn,kn){const wn=s6(0,0,1,0,1,1,0,1),gn=s6(Et,$t,At,Jt,dn,qt,Bn,kn),or=Re.mat3.adjoint([],gn);return Re.mat3.multiply(wn,wn,or)}(De[0],De[1],Ve[0],Ve[1],Ue[0],Ue[1],ze[0],ze[1]);this.elevatedGlobePerspectiveTransform=oz(De[0],De[1],Ve[0],Ve[1],Ue[0],Ue[1],ze[0],ze[1]);const We=(Et,$t)=>{P.push(Et.lng);const At=Math.round((Et.lng-F)/G*Ln),Jt=Math.round((Et.lat-$)/Y*Ln),dn=we($t),qt=Re.vec3.transformMat3([],[dn[0],dn[1],1],Qe),Bn=Math.round(qt[0]/qt[2]*Ln),kn=Math.round(qt[1]/qt[2]*Ln);ee.emplaceBack(At,Jt,Bn,kn)},it=g[3].x-g[0].x,mt=g[3].y-g[0].y,yt=g[2].x-g[1].x,xt=g[2].y-g[1].y;for(let Et=0;Et<65;Et++){const $t=Et/64,At=[g[0].x+$t*it,g[0].y+$t*mt],Jt=[g[1].x+$t*yt,g[1].y+$t*xt],dn=Jt[0]-At[0],qt=Jt[1]-At[1];for(let Bn=0;Bn<65;Bn++){const kn=Bn/64,wn={x:At[0]+dn*kn,y:At[1]+qt*kn,z:0};We(d.projection.unproject(wn.x,wn.y),wn)}}this.elevatedGlobeVertexBuffer=l.createVertexBuffer(ee,AM.members)}{this.maxLongitudeTriangleSize=0;let ee=[],de=new xo;const fe=(ne,ve,we)=>{de.emplaceBack(ne,ve,we);const De=P[ne],Ve=P[ve],Ue=P[we],ze=Math.min(Math.min(De,Ve),Ue),Qe=Math.max(Math.max(De,Ve),Ue)-ze;Qe>this.maxLongitudeTriangleSize&&(this.maxLongitudeTriangleSize=Qe),ee.push(ze+Qe/2)};for(let ne=0;ne<64;ne++)for(let ve=0;ve<64;ve++){const we=65*ne+ve,De=we+1,Ve=we+65,Ue=Ve+1;fe(we,Ve,De),fe(De,Ve,Ue)}[ee,de]=function(ne,ve){const we=Array.from({length:ne.length},(Ue,ze)=>ze);we.sort((Ue,ze)=>ne[Ue]-ne[ze]);const De=[],Ve=new xo;for(let Ue=0;Ue<we.length;Ue++){const ze=we[Ue];De.push(ne[ze]);const Qe=3*ze,We=Qe+1;Ve.emplaceBack(ve.uint16[Qe],ve.uint16[We],ve.uint16[We+1])}return[De,Ve]}(ee,de),this.elevatedGlobeTrianglesCenterLongitudes=ee,this.elevatedGlobeIndexBuffer=l.createIndexBuffer(de)}this.elevatedGlobeSegments=ba.simpleSegment(0,0,4225,8192),this.elevatedGlobeGridMatrix=new Float32Array([0,G/Ln,0,Y/Ln,0,0,$,F,0])}prepare(){const l=Object.keys(this.tiles).length!==0;if(this.tileID&&!l)return;const d=this.map.painter.context,g=d.gl;!this._dirty||this.texture instanceof o6||(this.texture?this.texture.update(this.image):(this.texture=new PM(d,this.image,g.RGBA8),this.texture.bind(g.LINEAR,g.CLAMP_TO_EDGE)),this._dirty=!1),l&&this._prepareData(d)}loadTile(l,d){this.tileID&&this.tileID.equals(l.tileID.canonical)?(this.tiles[String(l.tileID.wrap)]=l,l.buckets={},d(null)):(l.state="errored",d(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}getSegmentsForLongitude(l){const d=this.elevatedGlobeSegments;if(!this.elevatedGlobeTrianglesCenterLongitudes||!d)return null;const g=this.elevatedGlobeTrianglesCenterLongitudes;let S=(y=l+180)+360*Math.round((g[0]-y)/360);var y;const C=new ba,R=(O,V)=>{C.segments.push({vertexOffset:0,primitiveOffset:O,vertexLength:d.segments[0].vertexLength,primitiveLength:V,sortKey:void 0,vaos:{}})},N=.51*this.maxLongitudeTriangleSize;if(Math.abs(g[0]-S)<=N){const O=Pe(g,0,g.length,S+N);return O===g.length||R(O,Ht(g,O+1,g.length,S+360-N)-O),C}S<g[0]&&(S+=360);const H=Ht(g,0,g.length,S-N);if(H===g.length)return R(0,g.length),C;R(0,H-0);const P=Pe(g,H+1,g.length,S+N);return P!==g.length&&R(P,g.length-P),C}}const Mie=(Math.pow(256,2)-1)/16907520;class lz extends Bo{constructor(l,d,g,S){super(l,{layout:iz||(iz=new la({visibility:new Mn(Ot.layout_raster.visibility)})),paint:az||(az=new la({"raster-opacity":new Mn(Ot.paint_raster["raster-opacity"]),"raster-color":new Tl(Ot.paint_raster["raster-color"]),"raster-color-mix":new Mn(Ot.paint_raster["raster-color-mix"]),"raster-color-range":new Mn(Ot.paint_raster["raster-color-range"]),"raster-hue-rotate":new Mn(Ot.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Mn(Ot.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Mn(Ot.paint_raster["raster-brightness-max"]),"raster-saturation":new Mn(Ot.paint_raster["raster-saturation"]),"raster-contrast":new Mn(Ot.paint_raster["raster-contrast"]),"raster-resampling":new Mn(Ot.paint_raster["raster-resampling"]),"raster-fade-duration":new Mn(Ot.paint_raster["raster-fade-duration"]),"raster-emissive-strength":new Mn(Ot.paint_raster["raster-emissive-strength"]),"raster-array-band":new Mn(Ot.paint_raster["raster-array-band"]),"raster-elevation":new Mn(Ot.paint_raster["raster-elevation"])}))},d,g,S),this.updateColorRamp(),this._curRampRange=[NaN,NaN]}getProgramIds(){return["raster"]}hasColorMap(){return!!this._transitionablePaint._values["raster-color"].value.value}tileCoverLift(){return this.paint.get("raster-elevation")}isDraped(l){return!(l&&l._source instanceof sz&&(l._source.onNorthPole||l._source.onSouthPole))&&this.paint.get("raster-elevation")===0}_handleSpecialPaintPropertyUpdate(l){l!=="raster-color"&&l!=="raster-color-range"||(this._curRampRange=[NaN,NaN],this.updateColorRamp())}updateColorRamp(l){if(!this.hasColorMap()||!this._curRampRange)return;const d=this._transitionablePaint._values["raster-color"].value.expression,[g,S]=l||this._transitionablePaint._values["raster-color-range"].value.expression.evaluate({zoom:0})||[NaN,NaN];isNaN(g)&&isNaN(S)||g===this._curRampRange[0]&&S===this._curRampRange[1]||(this.colorRamp=a1({expression:d,evaluationKey:"rasterValue",image:this.colorRamp,clips:[{start:g,end:S}],resolution:256}),this.colorRampTexture=null,this._curRampRange=[g,S])}}let uz,cz,dz,hz,fz;class pz extends Bo{constructor(l,d,g,S){super(l,{layout:uz||(uz=new la({visibility:new Mn(Ot["layout_raster-particle"].visibility)})),paint:cz||(cz=new la({"raster-particle-array-band":new Mn(Ot["paint_raster-particle"]["raster-particle-array-band"]),"raster-particle-count":new Mn(Ot["paint_raster-particle"]["raster-particle-count"]),"raster-particle-color":new Tl(Ot["paint_raster-particle"]["raster-particle-color"]),"raster-particle-max-speed":new Mn(Ot["paint_raster-particle"]["raster-particle-max-speed"]),"raster-particle-speed-factor":new Mn(Ot["paint_raster-particle"]["raster-particle-speed-factor"]),"raster-particle-fade-opacity-factor":new Mn(Ot["paint_raster-particle"]["raster-particle-fade-opacity-factor"]),"raster-particle-reset-rate-factor":new Mn(Ot["paint_raster-particle"]["raster-particle-reset-rate-factor"]),"raster-particle-elevation":new Mn(Ot["paint_raster-particle"]["raster-particle-elevation"])}))},d,g,S),this._updateColorRamp(),this.lastInvalidatedAt=Rn.now()}onRemove(l){this.colorRampTexture&&this.colorRampTexture.destroy(),this.tileFramebuffer&&this.tileFramebuffer.destroy(),this.particleFramebuffer&&this.particleFramebuffer.destroy()}hasColorMap(){return!!this._transitionablePaint._values["raster-particle-color"].value.value}getProgramIds(){return["rasterParticle"]}hasOffscreenPass(){return this.visibility!=="none"}isDraped(l){return!1}_handleSpecialPaintPropertyUpdate(l){l!=="raster-particle-color"&&l!=="raster-particle-max-speed"||(this._updateColorRamp(),this._invalidateAnimationState()),l==="raster-particle-count"&&this._invalidateAnimationState()}_updateColorRamp(){if(!this.hasColorMap())return;const l=this._transitionablePaint._values["raster-particle-color"].value.expression,d=this._transitionablePaint._values["raster-particle-max-speed"].value.expression.evaluate({zoom:0});this.colorRamp=a1({expression:l,evaluationKey:"rasterParticleSpeed",image:this.colorRamp,clips:[{start:0,end:d}],resolution:256}),this.colorRampTexture=null}_invalidateAnimationState(){this.lastInvalidatedAt=Rn.now()}tileCoverLift(){return this.paint.get("raster-particle-elevation")}}class Eie extends Bo{constructor(l,d){super(l,{},d,null),this.implementation=l,l.slot&&(this.slot=l.slot)}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}isDraped(l){return this.implementation.renderToTile!==void 0}shouldRedrape(){return!!this.implementation.shouldRerenderTiles&&this.implementation.shouldRerenderTiles()}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(l){this.implementation.onAdd&&this.implementation.onAdd(l,l.painter.context.gl)}onRemove(l){this.implementation.onRemove&&this.implementation.onRemove(l,l.painter.context.gl)}}function LM(p,l,d){const g=[0,0,1],S=Re.quat.identity([]);return Re.quat.rotateY(S,S,d?-zt(p)+Math.PI:zt(p)),Re.quat.rotateX(S,S,-zt(l)),Re.vec3.transformQuat(g,g,S),Re.vec3.normalize(g,g)}function mz(p,l){const d=u6(p.projection,p.zoom,p.width,p.height),g=function(y,C,R,N,H){const P=new he(R.lng-180*pf,R.lat),O=new he(R.lng+180*pf,R.lat),V=y.project(P.lng,P.lat),F=y.project(O.lng,O.lat),$=-Math.atan2(F.y-V.y,F.x-V.x),G=Pt.fromLngLat(R);G.y=St(G.y,-1+pf,1-pf);const Y=G.toLngLat(),ee=y.project(Y.lng,Y.lat),de=Pt.fromLngLat(Y);de.x+=pf;const fe=de.toLngLat(),ne=y.project(fe.lng,fe.lat),ve=gz(ne.x-ee.x,ne.y-ee.y,$),we=Pt.fromLngLat(Y);we.y+=pf;const De=we.toLngLat(),Ve=y.project(De.lng,De.lat),Ue=gz(Ve.x-ee.x,Ve.y-ee.y,$),ze=Math.abs(ve.x)/Math.abs(Ue.y),Qe=Re.mat4.identity([]);Re.mat4.rotateZ(Qe,Qe,-$*(1-(H?0:N)));const We=Re.mat4.identity([]);return Re.mat4.scale(We,We,[1,1-(1-ze)*N,1]),We[4]=-Ue.x/Ue.y*N,Re.mat4.rotateZ(We,We,$),Re.mat4.multiply(We,Qe,We),We}(p.projection,0,p.center,d,l),S=vz(p);return Re.mat4.scale(g,g,[S,S,1]),g}function vz(p){const l=p.projection,d=u6(p.projection,p.zoom,p.width,p.height),g=RM(l,p.center),S=RM(l,he.convert(l.center));return Math.pow(2,g*d+(1-d)*S)}function u6(p,l,d,g,S=1/0){const y=p.range;if(!y)return 0;const C=Math.min(S,Math.max(d,g)),R=Math.log(C/1024)/Math.LN2;return Pn(y[0]+R,y[1]+R,l)}const pf=1/4e4;function RM(p,l){const d=St(l.lat,-nt,nt),g=new he(l.lng-180*pf,d),S=new he(l.lng+180*pf,d),y=p.project(g.lng,d),C=p.project(S.lng,d),R=Pt.fromLngLat(g),N=Pt.fromLngLat(S),H=C.x-y.x,P=C.y-y.y,O=N.x-R.x,V=N.y-R.y,F=Math.sqrt((O*O+V*V)/(H*H+P*P));return Math.log(F)/Math.LN2}function gz(p,l,d){const g=Math.cos(d),S=Math.sin(d);return{x:p*g-l*S,y:p*S+l*g}}function _z(p,l,d){Re.mat4.identity(p),Re.mat4.rotateZ(p,p,zt(l[2])),Re.mat4.rotateX(p,p,zt(l[0])),Re.mat4.rotateY(p,p,zt(l[1])),Re.mat4.scale(p,p,d),Re.mat4.multiply(p,p,[1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1])}function c6(p,l,d,g,S,y,C,R){const N=[d[0]-l[0],d[1]-l[1],0],H=[g[0]-l[0],g[1]-l[1],0];if(Re.vec3.length(N)<1e-12||Re.vec3.length(H)<1e-12)return Re.quat.identity(p);const P=Re.vec3.cross([],N,H);Re.vec3.normalize(P,P),Re.vec3.subtract(H,g,l),N[2]=(y-S)*R,H[2]=(C-S)*R;const O=N;return Re.vec3.cross(O,N,H),Re.vec3.normalize(O,O),Re.quat.rotationTo(p,P,O)}function DM(p,l,d=!1){const g=lf(l.zoom),S=function(y,C,R){const N=C.worldSize,H=[y[12],y[13],y[14]],P=qe(H[1]/N),O=Ke(H[0]/N),V=Re.mat4.identity([]),F=$e(1,P)*N,$=$e(1,0)*N*gt(P,C.zoom),G=1/KT(N);let Y=$*G;if(R){const ne=u6(C.projection,C.zoom,C.width,C.height,1024);Y=G*C.projection.pixelSpaceConversion(C.center.lat,N,ne)}const ee=J(P,O);Re.vec3.add(ee,ee,Re.vec3.scale([],Re.vec3.normalize([],ee),F*Y*H[2]));const de=function(ne){const ve=[ne[0],ne[1],ne[2]];let we=[0,1,0];const De=Re.vec3.cross([],we,ve);return Re.vec3.cross(we,ve,De),Re.vec3.squaredLength(we)===0&&(we=[0,1,0],Re.vec3.cross(De,ve,we)),Re.vec3.normalize(De,De),Re.vec3.normalize(we,we),Re.vec3.normalize(ve,ve),[De[0],De[1],De[2],0,we[0],we[1],we[2],0,ve[0],ve[1],ve[2],0,ne[0],ne[1],ne[2],1]}(ee);Re.mat4.scale(V,V,[Y,Y,Y*F]),Re.mat4.translate(V,V,[-H[0],-H[1],-H[2]]);const fe=Re.mat4.multiply([],C.globeMatrix,de);return Re.mat4.multiply(fe,fe,V),Re.mat4.multiply(fe,fe,y),fe}(p,l,d);if(g>0){const y=function(C,R){const N=R.worldSize,H=$e(1,0)*N*gt(R.center.lat,R.zoom)/KT(N),P=$e(1,R.center.lat)*N,O=Re.mat4.identity([]);return Re.mat4.rotateY(O,O,zt(R.center.lng)),Re.mat4.rotateX(O,O,zt(R.center.lat)),Re.mat4.translate(O,O,[0,0,c]),Re.mat4.scale(O,O,[H,H,H*P]),Re.mat4.translate(O,O,[R.point.x-.5*N,R.point.y-.5*N,0]),Re.mat4.multiply(O,O,C),Re.mat4.multiply(O,R.globeMatrix,O)}(p,l);return function(C,R,N){const H=($,G,Y)=>{const ee=Re.vec3.length($),de=Re.vec3.length(G),fe=Od($,G,Y);return Re.vec3.scale(fe,fe,1/Re.vec3.length(fe)*_r(ee,de,Y))},P=H([C[0],C[1],C[2]],[R[0],R[1],R[2]],N),O=H([C[4],C[5],C[6]],[R[4],R[5],R[6]],N),V=H([C[8],C[9],C[10]],[R[8],R[9],R[10]],N),F=Od([C[12],C[13],C[14]],[R[12],R[13],R[14]],N);return[P[0],P[1],P[2],0,O[0],O[1],O[2],0,V[0],V[1],V[2],0,F[0],F[1],F[2],1]}(S,y,g)}return S}function yz(p,l,d,g){const S=Zi.projectAabbCorners(g,d);let y=Number.MAX_VALUE,C=-1;for(let H=0;H<S.length;++H){const P=S[H];P[0]=(.5*P[0]+.5)*l.width,P[1]=(.5-.5*P[1])*l.height,P[2]<y&&(C=H,y=P[2])}const R=H=>new Ze(S[H][0],S[H][1]);let N;switch(C){case 0:case 6:N=[R(1),R(5),R(4),R(7),R(3),R(2),R(1)];break;case 1:case 7:N=[R(0),R(4),R(5),R(6),R(2),R(3),R(0)];break;case 3:case 5:N=[R(1),R(0),R(4),R(7),R(6),R(2),R(1)];break;default:N=[R(1),R(5),R(6),R(7),R(3),R(0),R(1)]}if(In(p,N))return y}const Aie=yi([{name:"a_pos_3f",components:3,type:"Float32"}]),Iie=yi([{name:"a_color_3f",components:3,type:"Float32"}]),kie=yi([{name:"a_color_4f",components:4,type:"Float32"}]),Pie=yi([{name:"a_uv_2f",components:2,type:"Float32"}]),Lie=yi([{name:"a_normal_3f",components:3,type:"Float32"}]),Rie=yi([{name:"a_normal_matrix0",components:4,type:"Float32"},{name:"a_normal_matrix1",components:4,type:"Float32"},{name:"a_normal_matrix2",components:4,type:"Float32"},{name:"a_normal_matrix3",components:4,type:"Float32"}]),Die=yi([{name:"a_pbr",components:4,type:"Uint16"},{name:"a_heightBasedEmissiveStrength",components:3,type:"Float32"}]),bz={None:0,Model:1,Symbol:2,FillExtrusion:4,All:7};class d6{constructor(l,d,g,S){this.message=(l?`${l}: `:"")+g,S&&(this.identifier=S),d!=null&&d.__line__&&(this.line=d.__line__)}}function xz(p,l){const d=p.indexOf("://")===-1;try{return new URL(p,d&&l?"http://example.com":void 0),!0}catch{return!1}}class wz{constructor(l,d){this.feature=l,this.instancedDataOffset=d,this.instancedDataCount=0,this.rotation=[0,0,0],this.scale=[1,1,1],this.translation=[0,0,0]}}class Sz{constructor(){this.instancedDataArray=new Xp,this.instancesEvaluatedElevation=[],this.features=[],this.idToFeaturesIndex={}}}class OM{constructor(l){this.zoom=l.zoom,this.canonical=l.canonical,this.layers=l.layers,this.layerIds=this.layers.map(d=>d.fqid),this.projection=l.projection,this.index=l.index,this.hasZoomDependentProperties=this.layers[0].isZoomDependent(),this.stateDependentLayerIds=this.layers.filter(d=>d.isStateDependent()).map(d=>d.id),this.hasPattern=!1,this.instancesPerModel={},this.validForExaggeration=0,this.maxVerticalOffset=0,this.maxScale=0,this.maxHeight=0,this.lookupDim=this.zoom>this.canonical.z?256:this.zoom>15?75:100,this.instanceCount=0,this.terrainElevationMin=0,this.terrainElevationMax=0,this.validForDEMTile={id:null,timestamp:0},this.modelUris=[],this.modelsRequested=!1,this.activeReplacements=[],this.replacementUpdateTime=0}updateFootprints(l,d){}populate(l,d,g,S){this.tileToMeter=ct(g);const y=this.layers[0]._featureFilter.needGeometry;this.lookup=new Uint8Array(this.lookupDim*this.lookupDim);for(const{feature:C,id:R,index:N,sourceLayerIndex:H}of l){const P=R??(C.properties&&C.properties.hasOwnProperty("id")?C.properties.id:void 0),O=Sn(C,y);if(!this.layers[0]._featureFilter.filter(new ya(this.zoom),O,g))continue;const V={id:P,sourceLayerIndex:H,index:N,geometry:y?O.geometry:xn(C,g,S),properties:C.properties,type:C.type,patterns:{}},F=this.addFeature(V,V.geometry,O);F&&d.featureIndex.insert(C,V.geometry,N,H,this.index,this.instancesPerModel[F].instancedDataArray.length,Ln/32)}this.lookup=null}update(l,d,g,S){for(const y in this.instancesPerModel){const C=this.instancesPerModel[y];for(const R in l)C.idToFeaturesIndex.hasOwnProperty(R)&&(this.evaluate(C.features[C.idToFeaturesIndex[R]],l[R],C,!0),this.uploaded=!1)}this.maxHeight=0}updateZoomBasedPaintProperties(){if(!this.hasZoomDependentProperties)return!1;let l=!1;for(const d in this.instancesPerModel){const g=this.instancesPerModel[d];for(const S of g.features){const y=this.layers[0],C=S.feature,R=this.canonical,N=y.paint.get("model-rotation").evaluate(C,{},R),H=y.paint.get("model-scale").evaluate(C,{},R),P=y.paint.get("model-translation").evaluate(C,{},R);Re.vec3.exactEquals(S.rotation,N)&&Re.vec3.exactEquals(S.scale,H)&&Re.vec3.exactEquals(S.translation,P)||(this.evaluate(S,S.featureStates,g,!0),l=!0)}}return l}updateReplacement(l,d,g,S){if(d.updateTime===this.replacementUpdateTime)return!1;this.replacementUpdateTime=d.updateTime;const y=d.getReplacementRegionsForTile(l.toUnwrapped(),!0);if(sM(this.activeReplacements,y))return!1;this.activeReplacements=y;let C=!1;for(const R in this.instancesPerModel){const N=this.instancesPerModel[R],H=N.instancedDataArray;for(const P of N.features){const O=P.instancedDataOffset,V=P.instancedDataCount;for(let F=0;F<V;F++){const $=16*(F+O);let G=H.float32[$+0];const Y=G>Ln;G=Y?G-Ln:G;const ee=Math.floor(G),de=H.float32[$+1];let fe=!1;for(const ne of this.activeReplacements)if(!FO(ne,g,bz.Model,S)&&!(ne.min.x>ee||ee>ne.max.x||ne.min.y>de||de>ne.max.y)&&(fe=jO(UO(ee,de,l.canonical,ne.footprintTileId.canonical),ne.footprint),fe))break;H.float32[$]=fe?G+Ln:G,C=C||fe!==Y}}}return C}isEmpty(){for(const l in this.instancesPerModel)if(this.instancesPerModel[l].instancedDataArray.length!==0)return!1;return!0}uploadPending(){return!this.uploaded}upload(l){if(!this.uploaded)for(const d in this.instancesPerModel){const g=this.instancesPerModel[d];g.instancedDataArray.length<0||g.instancedDataArray.length===0||(g.instancedDataBuffer?g.instancedDataBuffer.updateData(g.instancedDataArray):g.instancedDataBuffer=l.createVertexBuffer(g.instancedDataArray,Rie.members,!0,void 0,this.instanceCount))}this.uploaded=!0}destroy(){for(const d in this.instancesPerModel){const g=this.instancesPerModel[d];g.instancedDataArray.length!==0&&g.instancedDataBuffer&&g.instancedDataBuffer.destroy()}const l=this.layers[0].modelManager;if(l&&this.modelUris)for(const d of this.modelUris)l.removeModel(d,"")}addFeature(l,d,g){const S=this.layers[0],y=S.layout.get("model-id").evaluate(g,{},this.canonical);if(!y)return Mt(`modelId is not evaluated for layer ${S.id} and it is not going to get rendered.`),y;xz(y,!1)&&(this.modelUris.includes(y)||this.modelUris.push(y)),this.instancesPerModel[y]||(this.instancesPerModel[y]=new Sz);const C=this.instancesPerModel[y],R=C.instancedDataArray,N=new wz(g,R.length);for(const H of d)for(const P of H){if(P.x<0||P.x>=Ln||P.y<0||P.y>=Ln)continue;const O=(this.lookupDim-1)/Ln,V=this.lookupDim*(P.y*O|0)+P.x*O|0;if(this.lookup){if(this.lookup[V]!==0)continue;this.lookup[V]=1}this.instanceCount++;const F=R.length;R.resize(F+1),C.instancesEvaluatedElevation.push(0),R.float32[16*F]=P.x,R.float32[16*F+1]=P.y}return N.instancedDataCount=C.instancedDataArray.length-N.instancedDataOffset,N.instancedDataCount>0&&(l.id&&(C.idToFeaturesIndex[l.id]=C.features.length),C.features.push(N),this.evaluate(N,{},C,!1)),y}getModelUris(){return this.modelUris}evaluate(l,d,g,S){const y=this.layers[0],C=l.feature,R=this.canonical,N=l.rotation=y.paint.get("model-rotation").evaluate(C,d,R),H=l.scale=y.paint.get("model-scale").evaluate(C,d,R),P=l.translation=y.paint.get("model-translation").evaluate(C,d,R),O=y.paint.get("model-color").evaluate(C,d,R);O.a=y.paint.get("model-color-mix-intensity").evaluate(C,d,R);const V=[];this.maxVerticalOffset<P[2]&&(this.maxVerticalOffset=P[2]),this.maxScale=Math.max(Math.max(this.maxScale,H[0]),Math.max(H[1],H[2])),_z(V,N,H);const F=Math.round(100*O.a)+O.b/1.05;for(let $=0;$<l.instancedDataCount;++$){const G=l.instancedDataOffset+$,Y=16*G,ee=g.instancedDataArray.float32;let de=0;S&&(de=ee[Y+6]-g.instancesEvaluatedElevation[G]);const fe=0|ee[Y+1];ee[Y]=(0|ee[Y])+O.r/1.05,ee[Y+1]=fe+O.g/1.05,ee[Y+2]=F,ee[Y+3]=1/(R.z>10?this.tileToMeter:ct(R,fe)),ee[Y+4]=P[0],ee[Y+5]=P[1],ee[Y+6]=P[2]+de,ee[Y+7]=V[0],ee[Y+8]=V[1],ee[Y+9]=V[2],ee[Y+10]=V[4],ee[Y+11]=V[5],ee[Y+12]=V[6],ee[Y+13]=V[8],ee[Y+14]=V[9],ee[Y+15]=V[10],g.instancesEvaluatedElevation[G]=P[2]}}}let Cz,Tz;Un(OM,"ModelBucket",{omit:["layers"]}),Un(Sz,"PerModelAttributes"),Un(wz,"ModelFeature");const im=64,$v={CoordinateSpaceTile:1,CoordinateSpaceYUp:2,HasMapboxMeshFeatures:4,HasMeshoptCompression:8};function Mz(p,l,d,g,S,y,C,R,N,H=!1){const P=d.zoom,O=d.project(g),V=gt(g.lat,P),F=1/V;Re.mat4.identity(p),Re.mat4.translate(p,p,[O.x+C[0]*F,O.y+C[1]*F,C[2]]);let $=1,G=1;const Y=d.worldSize;if(H){if(d.projection.name==="mercator"){let ne=0;d.elevation&&(ne=d.elevation.getAtPointOrZero(new Pt(O.x/Y,O.y/Y),0));const ve=Re.vec4.transformMat4([],[O.x,O.y,ne,1],d.projMatrix)[3]/d.cameraToCenterDistance;$=ve,G=ve*gt(d.center.lat,P)}else if(d.projection.name==="globe"){const ne=DM(p,d),ve=Re.mat4.multiply([],d.projMatrix,ne),we=[0,0,0,1];Re.vec4.transformMat4(we,we,ve);const De=we[3]/d.cameraToCenterDistance,Ve=lf(P),Ue=d.projection.pixelsPerMeter(g.lat,Y)*gt(g.lat,P),ze=d.projection.pixelsPerMeter(d.center.lat,Y)*gt(d.center.lat,P);$=De/_r(Ue,st(d.center.lat),Ve),G=De*V/Ue,$*=ze,G*=ze}}else $=F;Re.mat4.scale(p,p,[$,$,G]);const ee=[...p],de=l.orientation,fe=[];if(_z(fe,[de[0]+S[0],de[1]+S[1],de[2]+S[2]],y),Re.mat4.multiply(p,ee,fe),R&&d.elevation){let ne=0;const ve=[];if(N&&d.elevation){ne=function(Ve,Ue,ze,Qe,We){const it=Ue.elevation;if(!it)return 0;const mt=Zi.projectAabbCorners(ze,Qe),yt=$e(1,We.lat)*Ue.worldSize,xt=function(or,zn){const Hn=[0,0,1],Cr=[{corners:[0,1,3,2],dotProductWithUp:0},{corners:[1,5,2,6],dotProductWithUp:0},{corners:[0,4,1,5],dotProductWithUp:0},{corners:[2,6,3,7],dotProductWithUp:0},{corners:[4,7,5,6],dotProductWithUp:0},{corners:[0,3,4,7],dotProductWithUp:0}];for(const Vr of Cr){const Dr=or[Vr.corners[0]],Or=or[Vr.corners[1]],Kr=or[Vr.corners[2]],Jr=[Or[0]-Dr[0],Or[1]-Dr[1],zn*(Or[2]-Dr[2])],ji=Re.vec3.cross(Jr,Jr,[Kr[0]-Dr[0],Kr[1]-Dr[1],zn*(Kr[2]-Dr[2])]);Re.vec3.normalize(ji,ji),Vr.dotProductWithUp=Re.vec3.dot(ji,Hn)}return Cr.sort((Vr,Dr)=>Vr.dotProductWithUp-Dr.dotProductWithUp),Cr[0].corners}(mt,yt),Et=mt[xt[0]],$t=mt[xt[1]],At=mt[xt[2]],Jt=mt[xt[3]],dn=it.getAtPointOrZero(new Pt(Et[0]/Ue.worldSize,Et[1]/Ue.worldSize),0),qt=it.getAtPointOrZero(new Pt($t[0]/Ue.worldSize,$t[1]/Ue.worldSize),0),Bn=it.getAtPointOrZero(new Pt(At[0]/Ue.worldSize,At[1]/Ue.worldSize),0),kn=it.getAtPointOrZero(new Pt(Jt[0]/Ue.worldSize,Jt[1]/Ue.worldSize),0),wn=(dn+kn)/2,gn=(qt+Bn)/2;return wn>gn?qt<Bn?c6(Ve,$t,Jt,Et,qt,kn,dn,yt):c6(Ve,At,Et,Jt,Bn,dn,kn,yt):dn<kn?c6(Ve,Et,$t,At,dn,qt,Bn,yt):c6(Ve,Jt,At,$t,kn,Bn,qt,yt),Math.max(wn,gn)}(ve,d,l.aabb,p,g);const we=Re.mat4.fromQuat([],ve),De=Re.mat4.multiply([],we,fe);Re.mat4.multiply(p,ee,De)}else ne=d.elevation.getAtPointOrZero(new Pt(O.x/Y,O.y/Y),0);ne!==0&&(p[14]+=ne)}}function T1(p,l,d=!1){p.uploaded||(p.gfxTexture=new PM(l,p.image,d?l.gl.R8:l.gl.RGBA8,{useMipmap:p.sampler.minFilter>=l.gl.NEAREST_MIPMAP_NEAREST}),p.uploaded=!0,p.image=null)}function Oie(p,l,d){p.indexBuffer=l.createIndexBuffer(p.indexArray,!1,!0),p.vertexBuffer=l.createVertexBuffer(p.vertexArray,Aie.members,!1,!0),p.normalArray&&(p.normalBuffer=l.createVertexBuffer(p.normalArray,Lie.members,!1,!0)),p.texcoordArray&&(p.texcoordBuffer=l.createVertexBuffer(p.texcoordArray,Pie.members,!1,!0)),p.colorArray&&(p.colorBuffer=l.createVertexBuffer(p.colorArray,(p.colorArray.bytesPerElement===12?Iie:kie).members,!1,!0)),p.featureArray&&(p.pbrBuffer=l.createVertexBuffer(p.featureArray,Die.members,!0)),p.segments=ba.simpleSegment(0,0,p.vertexArray.length,p.indexArray.length);const g=p.material;g.pbrMetallicRoughness.baseColorTexture&&T1(g.pbrMetallicRoughness.baseColorTexture,l),g.pbrMetallicRoughness.metallicRoughnessTexture&&T1(g.pbrMetallicRoughness.metallicRoughnessTexture,l),g.normalTexture&&T1(g.normalTexture,l),g.occlusionTexture&&T1(g.occlusionTexture,l,d),g.emissionTexture&&T1(g.emissionTexture,l)}function zM(p,l,d){if(p.meshes)for(const g of p.meshes)Oie(g,l,d);if(p.children)for(const g of p.children)zM(g,l,d)}function h6(p){if(p.meshes)for(const l of p.meshes)l.indexArray.destroy(),l.vertexArray.destroy(),l.colorArray&&l.colorArray.destroy(),l.normalArray&&l.normalArray.destroy(),l.texcoordArray&&l.texcoordArray.destroy(),l.featureArray&&l.featureArray.destroy();if(p.children)for(const l of p.children)h6(l)}function BM(p){if(p.meshes)for(const d of p.meshes)d.vertexBuffer&&(d.vertexBuffer.destroy(),d.indexBuffer.destroy(),d.normalBuffer&&d.normalBuffer.destroy(),d.texcoordBuffer&&d.texcoordBuffer.destroy(),d.colorBuffer&&d.colorBuffer.destroy(),d.pbrBuffer&&d.pbrBuffer.destroy(),d.segments.destroy(),d.material&&((l=d.material).pbrMetallicRoughness.baseColorTexture&&l.pbrMetallicRoughness.baseColorTexture.gfxTexture&&l.pbrMetallicRoughness.baseColorTexture.gfxTexture.destroy(),l.pbrMetallicRoughness.metallicRoughnessTexture&&l.pbrMetallicRoughness.metallicRoughnessTexture.gfxTexture&&l.pbrMetallicRoughness.metallicRoughnessTexture.gfxTexture.destroy(),l.normalTexture&&l.normalTexture.gfxTexture&&l.normalTexture.gfxTexture.destroy(),l.emissionTexture&&l.emissionTexture.gfxTexture&&l.emissionTexture.gfxTexture.destroy(),l.occlusionTexture&&l.occlusionTexture.gfxTexture&&l.occlusionTexture.gfxTexture.destroy()));var l;if(p.children)for(const d of p.children)BM(d)}class Vv{constructor(l,d,g){this._demTile=l,this._dem=this._demTile.dem,this._scale=d,this._offset=g}static create(l,d,g){const S=g||l.findDEMTileFor(d);if(!S||!S.dem)return;const y=S.dem,C=S.tileID,R=1<<d.canonical.z-C.canonical.z;return new Vv(S,y.dim/Ln/R,[(d.canonical.x/R-C.canonical.x)*y.dim,(d.canonical.y/R-C.canonical.y)*y.dim])}tileCoordToPixel(l,d){const g=d*this._scale+this._offset[1],S=Math.floor(l*this._scale+this._offset[0]),y=Math.floor(g);return new Ze(S,y)}getElevationAt(l,d,g,S){const y=l*this._scale+this._offset[0],C=d*this._scale+this._offset[1],R=Math.floor(y),N=Math.floor(C),H=this._dem;return S=!!S,g?_r(_r(H.get(R,N,S),H.get(R,N+1,S),C-N),_r(H.get(R+1,N,S),H.get(R+1,N+1,S),C-N),y-R):H.get(R,N,S)}getElevationAtPixel(l,d,g){return this._dem.get(l,d,!!g)}getMeterToDEM(l){return(1<<this._demTile.tileID.canonical.z)*$e(1,l)*this._dem.stride}}const FM=new Float32Array(262144),am=new Uint8Array(262144);function Ez(p){let l=0;if(p.meshes)for(const d of p.meshes)l=Math.max(l,d.aabb.max[2]);if(p.children)for(const d of p.children)l=Math.max(l,Ez(d));return l}function Az(p,l,d){if(p.meshes)for(const g of p.meshes)g.aabb.min[0]!==1/0&&d.insert(l,g.aabb.min[0],g.aabb.min[1],g.aabb.max[0],g.aabb.max[1]);if(p.children)for(const g of p.children)Az(g,l,d)}const Iz=["","wall","door","roof","window","lamp","logo"];class kz{constructor(l){this.node=l,this.evaluatedRMEA=[[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[.4,1,0,1],[1,0,0,1],[1,0,0,1]],this.hiddenByReplacement=!1,this.evaluatedScale=[1,1,1],this.evaluatedColor=[],this.emissionHeightBasedParams=[],this.cameraCollisionOpacity=1,this.feature={type:"Point",id:l.id,geometry:[],properties:{height:Ez(l)}},this.aabb=this._getLocalBounds()}_getLocalBounds(){if(!this.node.meshes)return new Zi([1/0,1/0,1/0],[-1/0,-1/0,-1/0]);if(!this.aabb){let l=0;const d=new Zi([1/0,1/0,1/0],[-1/0,-1/0,-1/0]);for(const g of this.node.meshes)this.node.lightMeshIndex!==l&&(g.transformedAabb=Zi.applyTransformFast(g.aabb,this.node.matrix),d.encapsulate(g.transformedAabb)),l++;this.aabb=d}return this.aabb}}class f6{constructor(l,d,g,S,y,C){this.id=d,this.modelTraits|=$v.CoordinateSpaceTile,this.uploaded=!1,this.hasPattern=!1,g&&(this.modelTraits|=$v.HasMapboxMeshFeatures),S&&(this.modelTraits|=$v.HasMeshoptCompression),this.zoom=-1,this.terrainExaggeration=1,this.projection={name:"mercator"},this.replacementUpdateTime=0,this.elevationReadFromZ=255,this.brightness=y,this.dirty=!0,this.needsUpload=!1,this.nodesInfo=[];for(const R of l)this.nodesInfo.push(new kz(R)),Az(R,C.featureIndexArray.length,C.grid),C.featureIndexArray.emplaceBack(this.nodesInfo.length-1,0,C.bucketLayerIDs.length-1,0)}updateFootprints(l,d){for(const g of this.getNodesInfo()){const S=g.node;S.footprint&&d.push({footprint:S.footprint,id:l})}}update(){console.log("Update 3D model bucket")}populate(){console.log("populate 3D model bucket")}uploadPending(){return!this.uploaded||this.needsUpload}upload(l){if(!this.needsUpload)return;const d=this.getNodesInfo();for(const g of d){const S=g.node;this.uploaded?this.updatePbrBuffer(S):zM(S,l,!0)}for(const g of d)h6(g.node);this.uploaded=!0,this.needsUpload=!1}updatePbrBuffer(l){let d=!1;if(!l.meshes)return d;for(const g of l.meshes)g.pbrBuffer&&(g.pbrBuffer.updateData(g.featureArray),d=!0);return d}needsReEvaluation(l,d,g){const S=l.transform.projectionOptions,y=l.style.getBrightness(),C=this.brightness!==y;return!!(!this.uploaded||this.dirty||S.name!==this.projection.name||M1(g.paint.get("model-color").value,C)||M1(g.paint.get("model-color-mix-intensity").value,C)||M1(g.paint.get("model-roughness").value,C)||M1(g.paint.get("model-emissive-strength").value,C)||M1(g.paint.get("model-height-based-emissive-strength-multiplier").value,C))&&(this.projection=S,this.brightness=y,!0)}evaluateScale(l,d){if(l.transform.zoom===this.zoom)return;this.zoom=l.transform.zoom;const g=this.getNodesInfo(),S=this.id.canonical;for(const y of g){const C=y.feature;y.evaluatedScale=d.paint.get("model-scale").evaluate(C,{},S)}}evaluate(l){const d=this.getNodesInfo();for(const g of d){if(!g.node.meshes)continue;const S=g.feature,y=g.node.meshes&&g.node.meshes[0].featureData,C=g.evaluatedColor[2],R=g.evaluatedRMEA[2],N=this.id.canonical;if(g.hasTranslucentParts=!1,y){for(let H=0;H<Iz.length;H++){const P=Iz[H];P.length&&(S.properties.part=P);const O=l.paint.get("model-color").evaluate(S,{},N).toRenderColor(null),V=l.paint.get("model-color-mix-intensity").evaluate(S,{},N);g.evaluatedColor[H]=[O.r,O.g,O.b,V],g.evaluatedRMEA[H][0]=l.paint.get("model-roughness").evaluate(S,{},N),g.evaluatedRMEA[H][2]=l.paint.get("model-emissive-strength").evaluate(S,{},N),g.evaluatedRMEA[H][3]=O.a,g.emissionHeightBasedParams[H]=l.paint.get("model-height-based-emissive-strength-multiplier").evaluate(S,{},N),!g.hasTranslucentParts&&O.a<1&&(g.hasTranslucentParts=!0)}delete S.properties.part,Bie(g,C!==g.evaluatedColor[2]||R!==g.evaluatedRMEA[2],this.modelTraits)}else g.evaluatedRMEA[0][2]=l.paint.get("model-emissive-strength").evaluate(S,{},N);g.evaluatedScale=l.paint.get("model-scale").evaluate(S,{},N),this.updatePbrBuffer(g.node)||(this.needsUpload=!0)}this.dirty=!1}elevationUpdate(l,d,g,S){const y=l.findDEMTileFor(g);if(y&&(y.tileID.canonical!==this.terrainTile||d!==this.terrainExaggeration)){if(y.dem&&y.tileID.overscaledZ!==this.elevationReadFromZ){this.elevationReadFromZ=y.tileID.overscaledZ;const C=Vv.create(l,g,y);if(!C)return;this.modelTraits&$v.HasMapboxMeshFeatures&&this.updateDEM(l,C,g,S);for(const R of this.getNodesInfo()){const N=R.node;if(!N.footprint||!N.footprint.vertices||!N.footprint.vertices.length)continue;const H=N.footprint.vertices;let P=C.getElevationAt(H[0].x,H[0].y,!0,!0);for(let O=1;O<H.length;O++)P=Math.min(P,C.getElevationAt(H[O].x,H[O].y,!0,!0));N.elevation=P}}this.terrainTile=y.tileID.canonical,this.terrainExaggeration=d}}updateDEM(l,d,g,S){let y=d._dem._modifiedForSources[S];if(y===void 0&&(d._dem._modifiedForSources[S]=[],y=d._dem._modifiedForSources[S]),y.includes(g.canonical))return;const C=d._dem.dim;y.push(g.canonical);let R=!1;for(const N of this.getNodesInfo()){const H=N.node;if(!H.footprint||!H.footprint.grid)continue;const P=H.footprint.grid,O=d.tileCoordToPixel(P.min.x,P.min.y),V=d.tileCoordToPixel(P.max.x,P.max.y),F=Math.min(Math.min(C-V.y,O.x),Math.min(O.y,C-V.x));if(F<0)continue;const $=St(F,2,5);let G=Math.max(0,O.x-$),Y=Math.max(0,O.y-$),ee=Math.min(V.x+$,C-1),de=Math.min(V.y+$,C-1);for(let we=Y;we<=de;++we)for(let De=G;De<=ee;++De)am[we*C+De]=255;let fe=0,ne=0;for(let we=0;we<P.cellsY;++we)for(let De=0;De<P.cellsX;++De){if(!P.cells[we*P.cellsX+De])continue;const Ve=d.tileCoordToPixel(P.min.x+De/P.xScale,P.min.y+we/P.yScale),Ue=d.tileCoordToPixel(P.min.x+(De+1)/P.xScale,P.min.y+(we+1)/P.yScale);for(let ze=Ve.y;ze<=Math.min(Ue.y+1,C-1);++ze)for(let Qe=Ve.x;Qe<=Math.min(Ue.x+1,C-1);++Qe)am[ze*C+Qe]===255&&(am[ze*C+Qe]=0,fe+=d.getElevationAtPixel(Qe,ze),ne++)}const ve=fe/ne;G=Math.max(1,O.x-$),Y=Math.max(1,O.y-$),ee=Math.min(V.x+$,C-2),de=Math.min(V.y+$,C-2),R=!0;for(let we=Y;we<=de;++we)for(let De=G;De<=ee;++De)am[we*C+De]===0&&(FM[we*C+De]=d._dem.set(De,we,ve));for(let we=1;we<$;++we){G=Math.max(1,O.x-we),Y=Math.max(1,O.y-we),ee=Math.min(V.x+we,C-2),de=Math.min(V.y+we,C-2);for(let De=Y;De<=de;++De)for(let Ve=G;Ve<=ee;++Ve){const Ue=De*C+Ve;if(am[Ue]===255){let ze=0,Qe=0,We=-1,it=-1;for(let mt=-1;mt<=1;++mt)for(let yt=-1;yt<=1;++yt){const xt=(De+mt)*C+Ve+yt;if(am[xt]>=we)continue;const Et=FM[xt],$t=Math.abs(Et);$t>Qe&&(ze=Et,Qe=$t,We=yt,it=mt)}if(Qe>.1){const mt=1-(we+.5*Math.abs(We*it))/$;let yt=d._dem.get(Ve,De)+ze*mt;const xt=d._dem.get(Ve+We,De+it),Et=d._dem.get(Ve-We,De-it,!0);(yt-xt)*(yt-Et)>0&&(yt=(xt+Et)/2),FM[Ue]=d._dem.set(Ve,De,yt),am[Ue]=we}}}}}R&&(d._demTile.needsDEMTextureUpload=!0,d._dem._timestamp=Rn.now())}getNodesInfo(){return this.nodesInfo}destroy(){const l=this.getNodesInfo();for(const d of l)h6(d.node),BM(d.node)}isEmpty(){return!this.nodesInfo.length}updateReplacement(l,d){if(d.updateTime===this.replacementUpdateTime)return;this.replacementUpdateTime=d.updateTime;const g=d.getReplacementRegionsForTile(l.toUnwrapped()),S=this.getNodesInfo();for(let y=0;y<this.nodesInfo.length;y++){const C=S[y].node;S[y].hiddenByReplacement=!!C.footprint&&!g.find(R=>R.footprint===C.footprint)}}getHeightAtTileCoord(l,d){const g=this.getNodesInfo(),S=[],y=[0,0,0],C=Re.mat4.identity([]);for(let R=0;R<this.nodesInfo.length;R++){const N=g[R],H=N.node.meshes[0],P=H.transformedAabb;if(l<P.min[0]||d<P.min[1]||l>P.max[0]||d>P.max[1])continue;if(N.node.hidden===!0)return{height:1/0,maxHeight:N.feature.properties.height,hidden:!1,verticalScale:N.evaluatedScale[2]};Re.mat4.invert(C,N.node.matrix),y[0]=l,y[1]=d,Re.vec3.transformMat4(y,y,C);const O=(y[0]-H.aabb.min[0])/(H.aabb.max[0]-H.aabb.min[0])*im|0,V=Math.min(63,(y[1]-H.aabb.min[1])/(H.aabb.max[1]-H.aabb.min[1])*im|0)*im+Math.min(63,O),F=H.heightmap[V];if(!(F<0&&N.node.footprint))return N.hiddenByReplacement?void 0:{height:F,maxHeight:N.feature.properties.height,hidden:!1,verticalScale:N.evaluatedScale[2]};if(N.node.footprint.grid.query(new Ze(l,d),new Ze(l,d),S),S.length>0)return{height:void 0,maxHeight:N.feature.properties.height,hidden:N.hiddenByReplacement,verticalScale:N.evaluatedScale[2]}}}}function M1(p,l){return!p.isLightConstant&&l}function zie(p,l,d,g,S,y,C,R){let N=(61440&l|(61440&l)>>4)>>8,H=(3840&l|(3840&l)>>4)>>4,P=240&l|(240&l)>>4;d[3]>0&&(N=_r(N,255*d[0],d[3]),H=_r(H,255*d[1],d[3]),P=_r(P,255*d[2],d[3]));const O=N<<8|H,V=P<<8|Math.floor(255*g[3]),F=function(we){const De=St(we,0,2);return Math.min(Math.round(.5*De*255),255)}(g[2])<<8|15*g[0]<<4|15*g[1],$=St(S[0],0,1),G=St(S[1],0,1),Y=St(S[2],0,1),ee=St(S[3],0,1);let de,fe,ne,ve;if($!==G&&C!==y&&G!==$){const we=C-y;fe=1/(we*(G-$)),ne=-(y+we*$)/(we*(G-$));const De=St(S[4],-1,1);ve=Math.pow(10,De),de=255*Y<<8|255*ee}else de=65535,fe=0,ne=1,ve=1;if(p.emplaceBack(O,V,F,de,fe,ne,ve),R){const we=R.length;R.clear();for(let De=0;De<we;De++)R.emplaceBack(O,V,F,de,fe,ne,ve)}}function Bie(p,l,d){const g=p.node;let S=0;const y=d&$v.HasMeshoptCompression;for(const C of g.meshes){if(g.lights&&g.lightMeshIndex===S||!C.featureData)continue;C.featureArray=new Tv,C.featureArray.reserve(C.featureData.length);let R=l;for(const N of C.featureData){const H=y?65535&N:N>>16&65535,P=y?N>>16&65535:65535&N,O=(15&P)<8?15&P:0,V=p.evaluatedRMEA[O],F=p.evaluatedColor[O],$=p.emissionHeightBasedParams[O];let G;if(R&&O===2&&g.lights&&(G=new Tv,G.resize(10*g.lights.length)),zie(C.featureArray,H,F,V,$,C.aabb.min[2],C.aabb.max[2],G),G&&R){R=!1;const Y=g.meshes[g.lightMeshIndex];Y.featureArray=G,Y.featureArray._trim()}}C.featureArray._trim(),S++}}function Pz(p,l,d,g){const S=1<<p.z;l.lat=qe((g/Ln+p.y)/S),l.lng=Ke((d/Ln+p.x)/S)}Un(f6,"Tiled3dModelBucket",{omit:["layers"]}),Un(kz,"Tiled3dModelFeature");const Fie={circle:class extends Bo{constructor(p,l,d,g){super(p,{layout:ki||(ki=new la({"circle-sort-key":new ir(Ot.layout_circle["circle-sort-key"]),visibility:new Mn(Ot.layout_circle.visibility)})),paint:xa||(xa=new la({"circle-radius":new ir(Ot.paint_circle["circle-radius"]),"circle-color":new ir(Ot.paint_circle["circle-color"]),"circle-blur":new ir(Ot.paint_circle["circle-blur"]),"circle-opacity":new ir(Ot.paint_circle["circle-opacity"]),"circle-translate":new Mn(Ot.paint_circle["circle-translate"]),"circle-translate-anchor":new Mn(Ot.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Mn(Ot.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Mn(Ot.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ir(Ot.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ir(Ot.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ir(Ot.paint_circle["circle-stroke-opacity"]),"circle-emissive-strength":new Mn(Ot.paint_circle["circle-emissive-strength"])}))},l,d,g)}createBucket(p){return new ar(p)}queryRadius(p){const l=p;return ua("circle-radius",this,l)+ua("circle-stroke-width",this,l)+zi(this.paint.get("circle-translate"))}queryIntersectsFeature(p,l,d,g,S,y,C,R){const N=bi(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),y.angle,p.pixelToTileUnitsFactor),H=this.paint.get("circle-radius").evaluate(l,d)+this.paint.get("circle-stroke-width").evaluate(l,d);return uO(p,g,y,C,R,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",N,H)}getProgramIds(){return["circle"]}getDefaultProgramParams(p,l,d){const g=lO(this);return{config:new Rd(this,{zoom:l,lut:d}),defines:g,overrideFog:!1}}},heatmap:class extends Bo{createBucket(p){return new dO(p)}constructor(p,l,d,g){super(p,{layout:hO||(hO=new la({visibility:new Mn(Ot.layout_heatmap.visibility)})),paint:fO||(fO=new la({"heatmap-radius":new ir(Ot.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ir(Ot.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Mn(Ot.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Tl(Ot.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Mn(Ot.paint_heatmap["heatmap-opacity"])}))},l,d,g),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(p){p==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=a1({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(p){return ua("heatmap-radius",this,p)}queryIntersectsFeature(p,l,d,g,S,y,C,R){const N=this.paint.get("heatmap-radius").evaluate(l,d);return uO(p,g,y,C,R,!0,!0,new Ze(0,0),N)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getDefaultProgramParams(p,l,d){return p==="heatmap"?{config:new Rd(this,{zoom:l,lut:d}),overrideFog:!1}:{}}},hillshade:class extends Bo{constructor(p,l,d,g){super(p,{layout:pO||(pO=new la({visibility:new Mn(Ot.layout_hillshade.visibility)})),paint:mO||(mO=new la({"hillshade-illumination-direction":new Mn(Ot.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Mn(Ot.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Mn(Ot.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Mn(Ot.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Mn(Ot.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Mn(Ot.paint_hillshade["hillshade-accent-color"]),"hillshade-emissive-strength":new Mn(Ot.paint_hillshade["hillshade-emissive-strength"])}))},l,d,g)}shouldRedrape(){return this.hasOffscreenPass()&&this.paint.get("hillshade-illumination-anchor")==="viewport"}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}getDefaultProgramParams(p,l,d){return{overrideFog:!1}}},fill:class extends Bo{constructor(p,l,d,g){super(p,{layout:SO||(SO=new la({"fill-sort-key":new ir(Ot.layout_fill["fill-sort-key"]),visibility:new Mn(Ot.layout_fill.visibility)})),paint:CO||(CO=new la({"fill-antialias":new Mn(Ot.paint_fill["fill-antialias"]),"fill-opacity":new ir(Ot.paint_fill["fill-opacity"]),"fill-color":new ir(Ot.paint_fill["fill-color"]),"fill-outline-color":new ir(Ot.paint_fill["fill-outline-color"]),"fill-translate":new Mn(Ot.paint_fill["fill-translate"]),"fill-translate-anchor":new Mn(Ot.paint_fill["fill-translate-anchor"]),"fill-pattern":new ir(Ot.paint_fill["fill-pattern"]),"fill-emissive-strength":new Mn(Ot.paint_fill["fill-emissive-strength"]),"fill-z-offset":new ir(Ot.paint_fill["fill-z-offset"])}))},l,d,g)}getProgramIds(){const p=this.paint.get("fill-pattern"),l=p&&p.constantOr(1),d=[l?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&d.push(l&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),d}getDefaultProgramParams(p,l,d){return{config:new Rd(this,{zoom:l,lut:d}),overrideFog:!1}}recalculate(p,l){super.recalculate(p,l);const d=this.paint._values["fill-outline-color"];d.value.kind==="constant"&&d.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(p){return new tM(p)}queryRadius(){return zi(this.paint.get("fill-translate"))}queryIntersectsFeature(p,l,d,g,S,y){return!p.queryGeometry.isAboveHorizon&&wr($r(p.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),y.angle,p.pixelToTileUnitsFactor),g)}isTileClipped(){return!0}is3D(){return this.paint.get("fill-z-offset").constantOr(1)!==0}},"fill-extrusion":class extends Bo{constructor(p,l,d,g){super(p,{layout:a9||(a9=new la({visibility:new Mn(Ot["layout_fill-extrusion"].visibility),"fill-extrusion-edge-radius":new Mn(Ot["layout_fill-extrusion"]["fill-extrusion-edge-radius"])})),paint:o9||(o9=new la({"fill-extrusion-opacity":new Mn(Ot["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ir(Ot["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Mn(Ot["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Mn(Ot["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ir(Ot["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ir(Ot["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ir(Ot["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Mn(Ot["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new Mn(Ot["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new Mn(Ot["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"]),"fill-extrusion-ambient-occlusion-wall-radius":new Mn(Ot["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-wall-radius"]),"fill-extrusion-ambient-occlusion-ground-radius":new Mn(Ot["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-ground-radius"]),"fill-extrusion-ambient-occlusion-ground-attenuation":new Mn(Ot["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-ground-attenuation"]),"fill-extrusion-flood-light-color":new Mn(Ot["paint_fill-extrusion"]["fill-extrusion-flood-light-color"]),"fill-extrusion-flood-light-intensity":new Mn(Ot["paint_fill-extrusion"]["fill-extrusion-flood-light-intensity"]),"fill-extrusion-flood-light-wall-radius":new ir(Ot["paint_fill-extrusion"]["fill-extrusion-flood-light-wall-radius"]),"fill-extrusion-flood-light-ground-radius":new ir(Ot["paint_fill-extrusion"]["fill-extrusion-flood-light-ground-radius"]),"fill-extrusion-flood-light-ground-attenuation":new Mn(Ot["paint_fill-extrusion"]["fill-extrusion-flood-light-ground-attenuation"]),"fill-extrusion-vertical-scale":new Mn(Ot["paint_fill-extrusion"]["fill-extrusion-vertical-scale"]),"fill-extrusion-rounded-roof":new Mn(Ot["paint_fill-extrusion"]["fill-extrusion-rounded-roof"]),"fill-extrusion-cutoff-fade-range":new Mn(Ot["paint_fill-extrusion"]["fill-extrusion-cutoff-fade-range"]),"fill-extrusion-emissive-strength":new ir(Ot["paint_fill-extrusion"]["fill-extrusion-emissive-strength"]),"fill-extrusion-line-width":new ir(Ot["paint_fill-extrusion"]["fill-extrusion-line-width"]),"fill-extrusion-cast-shadows":new Mn(Ot["paint_fill-extrusion"]["fill-extrusion-cast-shadows"])}))},l,d,g),this._stats={numRenderedVerticesInShadowPass:0,numRenderedVerticesInTransparentPass:0}}createBucket(p){return new j4(p)}queryRadius(){return zi(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}hasShadowPass(){return this.paint.get("fill-extrusion-cast-shadows")}cutoffRange(){return this.paint.get("fill-extrusion-cutoff-fade-range")}canCastShadows(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}queryIntersectsFeature(p,l,d,g,S,y,C,R,N){const H=bi(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),y.angle,p.pixelToTileUnitsFactor),P=this.paint.get("fill-extrusion-height").evaluate(l,d),O=this.paint.get("fill-extrusion-base").evaluate(l,d),V=[0,0],F=R&&y.elevation,$=y.elevation?y.elevation.exaggeration():1,G=p.tile.getBucket(this);if(F&&G instanceof j4){const ne=G.centroidVertexArray,ve=N+1;ve<ne.length&&(V[0]=ne.geta_centroid_pos0(ve),V[1]=ne.geta_centroid_pos1(ve))}if(V[0]===0&&V[1]===1)return!1;y.projection.name==="globe"&&(g=i9([g],[new Ze(0,0),new Ze(Ln,Ln)],p.tileID.canonical).map(ne=>ne.polygon).flat());const Y=F?R:null,[ee,de]=function(ne,ve,we,De,Ve,Ue,ze,Qe,We,it,mt){return ne.projection.name==="globe"?function(yt,xt,Et,$t,At,Jt,dn,qt,Bn,kn,wn){const gn=[],or=[],zn=yt.projection.upVectorScale(wn,yt.center.lat,yt.worldSize).metersToTile,Hn=[0,0,0,1],Cr=[0,0,0,1],Vr=(Or,Kr,Jr,ji)=>{Or[0]=Kr,Or[1]=Jr,Or[2]=ji,Or[3]=1},Dr=r9();Et>0&&(Et+=Dr),$t+=Dr;for(const Or of xt){const Kr=[],Jr=[];for(const ji of Or){const Pi=ji.x+At.x,Er=ji.y+At.y,Ti=yt.projection.projectTilePoint(Pi,Er,wn),Mi=yt.projection.upVector(wn,ji.x,ji.y);let ta=Et,Aa=$t;if(dn){const Wa=l9(Pi,Er,Et,$t,dn,qt,Bn,kn);ta+=Wa.base,Aa+=Wa.top}Et!==0?Vr(Hn,Ti.x+Mi[0]*zn*ta,Ti.y+Mi[1]*zn*ta,Ti.z+Mi[2]*zn*ta):Vr(Hn,Ti.x,Ti.y,Ti.z),Vr(Cr,Ti.x+Mi[0]*zn*Aa,Ti.y+Mi[1]*zn*Aa,Ti.z+Mi[2]*zn*Aa),Re.vec3.transformMat4(Hn,Hn,Jt),Re.vec3.transformMat4(Cr,Cr,Jt),Kr.push(new rm(Hn[0],Hn[1],Hn[2])),Jr.push(new rm(Cr[0],Cr[1],Cr[2]))}gn.push(Kr),or.push(Jr)}return[gn,or]}(ne,ve,we,De,Ve,Ue,ze,Qe,We,it,mt):ze?function(yt,xt,Et,$t,At,Jt,dn,qt,Bn){const kn=[],wn=[],gn=[0,0,0,1];for(const or of yt){const zn=[],Hn=[];for(const Cr of or){const Vr=Cr.x+$t.x,Dr=Cr.y+$t.y,Or=l9(Vr,Dr,xt,Et,Jt,dn,qt,Bn);gn[0]=Vr,gn[1]=Dr,gn[2]=Or.base,gn[3]=1,Re.vec4.transformMat4(gn,gn,At),gn[3]=Math.max(gn[3],1e-5);const Kr=new rm(gn[0]/gn[3],gn[1]/gn[3],gn[2]/gn[3]);gn[0]=Vr,gn[1]=Dr,gn[2]=Or.top,gn[3]=1,Re.vec4.transformMat4(gn,gn,At),gn[3]=Math.max(gn[3],1e-5);const Jr=new rm(gn[0]/gn[3],gn[1]/gn[3],gn[2]/gn[3]);zn.push(Kr),Hn.push(Jr)}kn.push(zn),wn.push(Hn)}return[kn,wn]}(ve,we,De,Ve,Ue,ze,Qe,We,it):function(yt,xt,Et,$t,At){const Jt=[],dn=[],qt=At[8]*xt,Bn=At[9]*xt,kn=At[10]*xt,wn=At[11]*xt,gn=At[8]*Et,or=At[9]*Et,zn=At[10]*Et,Hn=At[11]*Et;for(const Cr of yt){const Vr=[],Dr=[];for(const Or of Cr){const Kr=Or.x+$t.x,Jr=Or.y+$t.y,ji=At[0]*Kr+At[4]*Jr+At[12],Pi=At[1]*Kr+At[5]*Jr+At[13],Er=At[2]*Kr+At[6]*Jr+At[14],Ti=At[3]*Kr+At[7]*Jr+At[15],Mi=ji+qt,ta=Pi+Bn,Aa=Er+kn,Wa=Math.max(Ti+wn,1e-5),Ia=ji+gn,ma=Pi+or,co=Er+zn,Za=Math.max(Ti+Hn,1e-5);Vr.push(new rm(Mi/Wa,ta/Wa,Aa/Wa)),Dr.push(new rm(Ia/Za,ma/Za,co/Za))}Jt.push(Vr),dn.push(Dr)}return[Jt,dn]}(ve,we,De,Ve,Ue)}(y,g,O,P,H,C,Y,V,$,y.center.lat,p.tileID.canonical),fe=p.queryGeometry;return function(ne,ve,we){let De=1/0;wr(we,ve)&&(De=s9(we,ve[0]));for(let Ve=0;Ve<ve.length;Ve++){const Ue=ve[Ve],ze=ne[Ve];for(let Qe=0;Qe<Ue.length-1;Qe++){const We=Ue[Qe],it=[We,Ue[Qe+1],ze[Qe+1],ze[Qe],We];In(we,it)&&(De=Math.min(De,s9(we,it)))}}return De!==1/0&&De}(ee,de,fe.isPointQuery()?fe.screenBounds:fe.screenGeometry)}},line:class extends Bo{constructor(p,l,d,g){const S=_9();super(p,S,l,d,g),S.layout&&(this.layout=new Zh(S.layout)),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(p){if(p==="line-gradient"){const l=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=l._styleExpression&&l._styleExpression.expression instanceof Op,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}widthExpression(){return this._transitionablePaint._values["line-width"].value.expression}recalculate(p,l){super.recalculate(p,l),this.paint._values["line-floorwidth"]=(()=>{if(p1)return p1;const d=_9();return p1=new Vre(d.paint.properties["line-width"].specification),p1.useIntegerZoom=!0,p1})().possiblyEvaluate(this._transitioningPaint._values["line-width"].value,p)}createBucket(p){return new dM(p)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getDefaultProgramParams(p,l,d){const g=v9(this);return{config:new Rd(this,{zoom:l,lut:d}),defines:g,overrideFog:!1}}queryRadius(p){const l=p,d=y9(ua("line-width",this,l),ua("line-gap-width",this,l)),g=ua("line-offset",this,l);return d/2+Math.abs(g)+zi(this.paint.get("line-translate"))}queryIntersectsFeature(p,l,d,g,S,y){if(p.queryGeometry.isAboveHorizon)return!1;const C=$r(p.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),y.angle,p.pixelToTileUnitsFactor),R=p.pixelToTileUnitsFactor/2*y9(this.paint.get("line-width").evaluate(l,d),this.paint.get("line-gap-width").evaluate(l,d)),N=this.paint.get("line-offset").evaluate(l,d);return N&&(g=function(H,P){const O=[],V=new Ze(0,0);for(let F=0;F<H.length;F++){const $=H[F],G=[];for(let Y=0;Y<$.length;Y++){const ee=$[Y],de=$[Y+1],fe=Y===0?V:ee.sub($[Y-1])._unit()._perp(),ne=Y===$.length-1?V:de.sub(ee)._unit()._perp(),ve=fe._add(ne)._unit();ve._mult(1/(ve.x*ne.x+ve.y*ne.y)),G.push(ve._mult(P)._add(ee))}O.push(G)}return O}(g,N*p.pixelToTileUnitsFactor)),function(H,P,O){for(let V=0;V<P.length;V++){const F=P[V];if(H.length>=3){for(let $=0;$<F.length;$++)if(ea(H,F[$]))return!0}if(Xn(H,F,O))return!0}return!1}(C,g,R)}isTileClipped(){return!0}isDraped(p){const l=this.layout.get("line-z-offset");return l.isConstant()&&!l.constantOr(0)}},symbol:a6,background:class extends Bo{constructor(p,l,d,g){super(p,{layout:nz||(nz=new la({visibility:new Mn(Ot.layout_background.visibility)})),paint:rz||(rz=new la({"background-pitch-alignment":new Mn(Ot.paint_background["background-pitch-alignment"]),"background-color":new Mn(Ot.paint_background["background-color"]),"background-pattern":new Mn(Ot.paint_background["background-pattern"]),"background-opacity":new Mn(Ot.paint_background["background-opacity"]),"background-emissive-strength":new Mn(Ot.paint_background["background-emissive-strength"])}))},l,d,g)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}getDefaultProgramParams(p,l,d){return{overrideFog:!1}}is3D(){return this.paint.get("background-pitch-alignment")==="viewport"}},raster:lz,"raster-particle":pz,sky:class extends Bo{constructor(p,l,d,g){super(p,{layout:dz||(dz=new la({visibility:new Mn(Ot.layout_sky.visibility)})),paint:hz||(hz=new la({"sky-type":new Mn(Ot.paint_sky["sky-type"]),"sky-atmosphere-sun":new Mn(Ot.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new Mn(Ot.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new Mn(Ot.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new Mn(Ot.paint_sky["sky-gradient-radius"]),"sky-gradient":new Tl(Ot.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new Mn(Ot.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new Mn(Ot.paint_sky["sky-atmosphere-color"]),"sky-opacity":new Mn(Ot.paint_sky["sky-opacity"])}))},l,d,g),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(p){p==="sky-gradient"?this._updateColorRamp():p!=="sky-atmosphere-sun"&&p!=="sky-atmosphere-halo-color"&&p!=="sky-atmosphere-color"&&p!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=a1({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(p){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const l=p.style.light.properties.get("position");return this._lightPosition.azimuthal!==l.azimuthal||this._lightPosition.polar!==l.polar}return!1}getCenter(p,l){if(this.paint.get("sky-type")==="atmosphere"){const g=this.paint.get("sky-atmosphere-sun"),S=!g,y=p.style.light,C=y.properties.get("position");return S&&y.properties.get("anchor")==="viewport"&&Mt("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),S?LM(C.azimuthal,90-C.polar,l):LM(g[0],90-g[1],l)}const d=this.paint.get("sky-gradient-center");return LM(d[0],90-d[1],l)}isSky(){return!0}markSkyboxValid(p){this._skyboxInvalidated=!1,this._lightPosition=p.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const p=this.paint.get("sky-type");return p==="atmosphere"?["skyboxCapture","skybox"]:p==="gradient"?["skyboxGradient"]:null}},slot:class extends Bo{constructor(p,l,d,g){super(p,{paint:fz||(fz=new la({}))},l,null)}},model:class extends Bo{constructor(p,l,d,g){super(p,{layout:Cz||(Cz=new la({visibility:new Mn(Ot.layout_model.visibility),"model-id":new ir(Ot.layout_model["model-id"])})),paint:Tz||(Tz=new la({"model-opacity":new Mn(Ot.paint_model["model-opacity"]),"model-rotation":new ir(Ot.paint_model["model-rotation"]),"model-scale":new ir(Ot.paint_model["model-scale"]),"model-translation":new ir(Ot.paint_model["model-translation"]),"model-color":new ir(Ot.paint_model["model-color"]),"model-color-mix-intensity":new ir(Ot.paint_model["model-color-mix-intensity"]),"model-type":new Mn(Ot.paint_model["model-type"]),"model-cast-shadows":new Mn(Ot.paint_model["model-cast-shadows"]),"model-receive-shadows":new Mn(Ot.paint_model["model-receive-shadows"]),"model-ambient-occlusion-intensity":new Mn(Ot.paint_model["model-ambient-occlusion-intensity"]),"model-emissive-strength":new ir(Ot.paint_model["model-emissive-strength"]),"model-roughness":new ir(Ot.paint_model["model-roughness"]),"model-height-based-emissive-strength-multiplier":new ir(Ot.paint_model["model-height-based-emissive-strength-multiplier"]),"model-cutoff-fade-range":new Mn(Ot.paint_model["model-cutoff-fade-range"]),"model-front-cutoff":new Mn(Ot.paint_model["model-front-cutoff"])}))},l,d,g),this._stats={numRenderedVerticesInShadowPass:0,numRenderedVerticesInTransparentPass:0}}createBucket(p){return new OM(p)}getProgramIds(){return["model"]}is3D(){return!0}hasShadowPass(){return!0}canCastShadows(){return!0}hasLightBeamPass(){return!0}cutoffRange(){return this.paint.get("model-cutoff-fade-range")}queryRadius(p){return p instanceof f6?Ln-1:0}queryIntersectsFeature(p,l,d,g,S,y){if(!this.modelManager)return!1;const C=this.modelManager,R=p.tile.getBucket(this);if(!(R&&R instanceof OM))return!1;const N=R;for(const H in N.instancesPerModel){const P=N.instancesPerModel[H],O=l.id!==void 0?l.id:l.properties&&l.properties.hasOwnProperty("id")?l.properties.id:void 0;if(P.idToFeaturesIndex.hasOwnProperty(O)){const V=P.features[P.idToFeaturesIndex[O]],F=C.getModel(H,this.scope);if(!F)return!1;let $=Re.mat4.create();const G=new he(0,0),Y=N.canonical;let ee=Number.MAX_VALUE;for(let de=0;de<V.instancedDataCount;++de){const fe=16*(V.instancedDataOffset+de),ne=P.instancedDataArray.float32,ve=[ne[fe+4],ne[fe+5],ne[fe+6]];Pz(Y,G,ne[fe],0|ne[fe+1]),Mz($,F,y,G,V.rotation,V.scale,ve,!1,!1,!1),y.projection.name==="globe"&&($=DM($,y));const we=Re.mat4.multiply([],y.projMatrix,$),De=p.queryGeometry,Ve=yz(De.isPointQuery()?De.screenBounds:De.screenGeometry,y,we,F.aabb);Ve!=null&&(ee=Math.min(Ve,ee))}return ee!==Number.MAX_VALUE&&ee}}return!1}_handleOverridablePaintPropertyUpdate(p,l,d){return!(!this.layout||l.isDataDriven()||d.isDataDriven()||p!=="model-color"&&p!=="model-color-mix-intensity"&&p!=="model-rotation"&&p!=="model-scale"&&p!=="model-translation"&&p!=="model-emissive-strength")}_isPropertyZoomDependent(p){const l=this._transitionablePaint._values[p];return l!=null&&l.value!=null&&l.value.expression!=null&&l.value.expression instanceof Xl}isZoomDependent(){return this._isPropertyZoomDependent("model-scale")||this._isPropertyZoomDependent("model-rotation")||this._isPropertyZoomDependent("model-translation")}queryIntersectsMatchingFeature(p,l,d,g){const S=p.tile,y=S.getBucket(this);let C=null,R=Number.MAX_VALUE;if(!(y&&y instanceof f6))return{queryFeature:C,intersectionZ:R};const N=y.getNodesInfo()[l];if(N.hiddenByReplacement||!N.node.meshes||!d.filter(new ya(S.tileID.overscaledZ),N.feature,S.tileID.canonical))return{queryFeature:C,intersectionZ:R};const H=N.node,P=g.calculatePosMatrix(S.tileID.toUnwrapped(),g.worldSize),O=N.evaluatedScale;let V=0;g.elevation&&H.elevation&&(V=H.elevation*g.elevation.exaggeration()),Re.mat4.translate(P,P,[(H.anchor?H.anchor[0]:0)*(O[0]-1),(H.anchor?H.anchor[1]:0)*(O[1]-1),V]),Re.mat4.scale(P,P,O),Re.mat4.multiply(P,P,H.matrix);const F=p.queryGeometry,$=F.isPointQuery()?F.screenBounds:F.screenGeometry,G=function(ee){const de=Re.mat4.multiply([],P,ee.matrix),fe=Re.mat4.multiply(de,g.expandedFarZProjMatrix,de);for(let ne=0;ne<ee.meshes.length;++ne){const ve=ee.meshes[ne];if(ne===ee.lightMeshIndex)continue;const we=yz($,g,fe,ve.aabb);we!=null&&(R=Math.min(we,R))}if(ee.children)for(const ne of ee.children)G(ne)};if(G(H),R===Number.MAX_VALUE)return{queryFeature:C,intersectionZ:R};const Y=new he(0,0);return Pz(S.tileID.canonical,Y,N.node.anchor[0],N.node.anchor[1]),C={type:"Feature",geometry:{type:"Point",coordinates:[Y.lng,Y.lat]},properties:N.feature.properties,id:N.feature.id,state:{},layer:this.serialize()},{queryFeature:C,intersectionZ:R}}},clip:class extends Bo{constructor(p,l,d,g){super(p,{layout:TO||(TO=new la({"clip-layer-types":new Mn(Ot.layout_clip["clip-layer-types"]),"clip-layer-scope":new Mn(Ot.layout_clip["clip-layer-scope"])})),paint:MO||(MO=new la({}))},l,d,g)}recalculate(p,l){super.recalculate(p,l)}createBucket(p){return new EO(p)}isTileClipped(){return!0}is3D(){return!0}}};class Nie{constructor(l){this._callback=l,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class $ie{constructor(){this.tasks={},this.taskQueue=[],yn(["process"],this),this.invoker=new Nie(this.process),this.nextId=0}add(l,d){const g=this.nextId++,S=function({type:y,isSymbolTile:C,zoom:R}){return R=R||0,y==="message"?0:y!=="maybePrepare"||C?y!=="parseTile"||C?y==="parseTile"&&C?300-R:y==="maybePrepare"&&C?400-R:500:200-R:100-R}(d);if(S===0){try{l()}finally{}return null}return this.tasks[g]={fn:l,metadata:d,priority:S,id:g},this.taskQueue.push(g),this.invoker.trigger(),{cancel:()=>{delete this.tasks[g]}}}process(){try{if(this.taskQueue=this.taskQueue.filter(g=>!!this.tasks[g]),!this.taskQueue.length)return;const l=this.pick();if(l===null)return;const d=this.tasks[l];if(delete this.tasks[l],this.taskQueue.length&&this.invoker.trigger(),!d)return;d.fn()}finally{}}pick(){let l=null,d=1/0;for(let S=0;S<this.taskQueue.length;S++){const y=this.tasks[this.taskQueue[S]];y.priority<d&&(d=y.priority,l=S)}if(l===null)return null;const g=this.taskQueue[l];return this.taskQueue.splice(l,1),g}remove(){this.invoker.remove()}}class Lz{constructor(l,d,g){this.target=l,this.parent=d,this.mapId=g,this.callbacks={},this.cancelCallbacks={},yn(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.scheduler=new $ie}send(l,d,g,S,y=!1,C){const R=Math.round(1e18*Math.random()).toString(36).substring(0,10);g&&(g.metadata=C,this.callbacks[R]=g);const N=new Set;return this.target.postMessage({id:R,type:l,hasCallback:!!g,targetMapId:S,mustQueue:y,sourceMapId:this.mapId,data:ss(d,N)},N),{cancel:()=>{g&&delete this.callbacks[R],this.target.postMessage({id:R,type:"<cancel>",targetMapId:S,sourceMapId:this.mapId})}}}receive(l){const d=l.data,g=d.id;if(g&&(!d.targetMapId||this.mapId===d.targetMapId))if(d.type==="<cancel>"){const S=this.cancelCallbacks[g];delete this.cancelCallbacks[g],S&&S.cancel()}else if(d.mustQueue||qr()){const S=this.callbacks[g],y=this.scheduler.add(()=>this.processTask(g,d),S&&S.metadata||{type:"message"});y&&(this.cancelCallbacks[g]=y)}else this.processTask(g,d)}processTask(l,d){if(delete this.cancelCallbacks[l],d.type==="<response>"){const g=this.callbacks[l];delete this.callbacks[l],g&&(d.error?g(Ad(d.error)):g(null,Ad(d.data)))}else{const g=new Set,S=d.hasCallback?(C,R)=>{this.target.postMessage({id:l,type:"<response>",sourceMapId:this.mapId,error:C?ss(C):null,data:ss(R,g)},g)}:C=>{},y=Ad(d.data);if(this.parent[d.type])this.parent[d.type](d.sourceMapId,y,S);else if(this.parent.getWorkerSource){const C=d.type.split(".");this.parent.getWorkerSource(d.sourceMapId,C[0],y.source,y.scope)[C[1]](y,S)}else S(new Error(`Could not find function ${d.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}}class Hv{constructor(l,d){this.workerPool=l,this.actors=[],this.currentActor=0,this.id=wi();const g=this.workerPool.acquire(this.id);for(let S=0;S<g.length;S++){const y=new Hv.Actor(g[S],d,this.id);y.name=`Worker ${S}`,this.actors.push(y)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(l,d,g){cr(this.actors,(S,y)=>{S.send(l,d,y)},g=g||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(l=>{l.remove()}),this.actors=[],this.workerPool.release(this.id)}}Hv.Actor=Lz;class Rz{constructor(l){this.size=l,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(l,d){const g=this.toIdx(l,d);return{min:this.minimums[g],max:this.maximums[g]}}isLeaf(l,d){return this.leaves[this.toIdx(l,d)]}toIdx(l,d){return d*this.size+l}}function Dz(p,l,d,g){let S=0,y=Number.MAX_VALUE;for(let C=0;C<3;C++)if(Math.abs(g[C])<1e-15){if(d[C]<p[C]||d[C]>l[C])return null}else{const R=1/g[C];let N=(p[C]-d[C])*R,H=(l[C]-d[C])*R;if(N>H){const P=N;N=H,H=P}if(N>S&&(S=N),H<y&&(y=H),S>y)return null}return S}function Oz(p,l,d,g,S,y,C,R,N,H,P){const O=g-p,V=S-l,F=y-d,$=C-p,G=R-l,Y=N-d,ee=P[1]*Y-P[2]*G,de=P[2]*$-P[0]*Y,fe=P[0]*G-P[1]*$,ne=O*ee+V*de+F*fe;if(Math.abs(ne)<1e-15)return null;const ve=1/ne,we=H[0]-p,De=H[1]-l,Ve=H[2]-d,Ue=(we*ee+De*de+Ve*fe)*ve;if(Ue<0||Ue>1)return null;const ze=De*F-Ve*V,Qe=Ve*O-we*F,We=we*V-De*O,it=(P[0]*ze+P[1]*Qe+P[2]*We)*ve;return it<0||Ue+it>1?null:($*ze+G*Qe+Y*We)*ve}function zz(p,l,d){return(p-l)/(d-l)}function Bz(p,l,d,g,S,y,C,R,N){const H=1<<d,P=y-g,O=C-S,V=(p+1)/H*P+g,F=(l+0)/H*O+S,$=(l+1)/H*O+S;R[0]=(p+0)/H*P+g,R[1]=F,N[0]=V,N[1]=$}class Fz{constructor(l){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=l,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const d=function(y){const C=Math.ceil(Math.log2(y.dim/8)),R=[];let N=Math.ceil(Math.pow(2,C));const H=1/N,P=(F,$,G,Y,ee)=>{const de=Y?1:0,fe=(F+1)*G-de,ne=$*G,ve=($+1)*G-de;ee[0]=F*G,ee[1]=ne,ee[2]=fe,ee[3]=ve};let O=new Rz(N);const V=[];for(let F=0;F<N*N;F++){P(F%N,Math.floor(F/N),H,!1,V);const $=mf(V[0],V[1],y),G=mf(V[2],V[1],y),Y=mf(V[2],V[3],y),ee=mf(V[0],V[3],y);O.minimums.push(Math.min($,G,Y,ee)),O.maximums.push(Math.max($,G,Y,ee)),O.leaves.push(1)}for(R.push(O),N/=2;N>=1;N/=2){const F=R[R.length-1];O=new Rz(N);for(let $=0;$<N*N;$++){P($%N,Math.floor($/N),2,!0,V);const G=F.getElevation(V[0],V[1]),Y=F.getElevation(V[2],V[1]),ee=F.getElevation(V[2],V[3]),de=F.getElevation(V[0],V[3]),fe=F.isLeaf(V[0],V[1]),ne=F.isLeaf(V[2],V[1]),ve=F.isLeaf(V[2],V[3]),we=F.isLeaf(V[0],V[3]),De=Math.min(G.min,Y.min,ee.min,de.min),Ve=Math.max(G.max,Y.max,ee.max,de.max),Ue=fe&&ne&&ve&&we;O.maximums.push(Ve),O.minimums.push(De),O.leaves.push(Ve-De<=5&&Ue?1:0)}R.push(O)}return R}(this.dem),g=d.length-1,S=d[g];this._addNode(S.minimums[0],S.maximums[0],S.leaves[0]),this._construct(d,0,0,g,0)}raycastRoot(l,d,g,S,y,C,R=1){return Dz([l,d,-100],[g,S,this.maximums[0]*R],y,C)}raycast(l,d,g,S,y,C,R=1){if(!this.nodeCount)return null;const N=this.raycastRoot(l,d,g,S,y,C,R);if(N==null)return null;const H=[],P=[],O=[],V=[],F=[{idx:0,t:N,nodex:0,nodey:0,depth:0}];for(;F.length>0;){const{idx:$,t:G,nodex:Y,nodey:ee,depth:de}=F.pop();if(this.leaves[$]){Bz(Y,ee,de,l,d,g,S,O,V);const ne=1<<de,ve=(Y+0)/ne,we=(Y+1)/ne,De=(ee+0)/ne,Ve=(ee+1)/ne,Ue=mf(ve,De,this.dem)*R,ze=mf(we,De,this.dem)*R,Qe=mf(we,Ve,this.dem)*R,We=mf(ve,Ve,this.dem)*R,it=Oz(O[0],O[1],Ue,V[0],O[1],ze,V[0],V[1],Qe,y,C),mt=Oz(V[0],V[1],Qe,O[0],V[1],We,O[0],O[1],Ue,y,C),yt=Math.min(it!==null?it:Number.MAX_VALUE,mt!==null?mt:Number.MAX_VALUE);if(yt!==Number.MAX_VALUE)return yt;{const xt=Re.vec3.scaleAndAdd([],y,C,G);if(Nz(Ue,ze,We,Qe,zz(xt[0],O[0],V[0]),zz(xt[1],O[1],V[1]))>=xt[2])return G}continue}let fe=0;for(let ne=0;ne<this._siblingOffset.length;ne++){Bz((Y<<1)+this._siblingOffset[ne][0],(ee<<1)+this._siblingOffset[ne][1],de+1,l,d,g,S,O,V),O[2]=-100,V[2]=this.maximums[this.childOffsets[$]+ne]*R;const ve=Dz(O,V,y,C);if(ve!=null){const we=ve;H[ne]=we;let De=!1;for(let Ve=0;Ve<fe&&!De;Ve++)we>=H[P[Ve]]&&(P.splice(Ve,0,ne),De=!0);De||(P[fe]=ne),fe++}}for(let ne=0;ne<fe;ne++){const ve=P[ne];F.push({idx:this.childOffsets[$]+ve,t:H[ve],nodex:(Y<<1)+this._siblingOffset[ve][0],nodey:(ee<<1)+this._siblingOffset[ve][1],depth:de+1})}}return null}_addNode(l,d,g){return this.minimums.push(l),this.maximums.push(d),this.leaves.push(g),this.childOffsets.push(0),this.nodeCount++}_construct(l,d,g,S,y){if(l[S].isLeaf(d,g)===1)return;this.childOffsets[y]||(this.childOffsets[y]=this.nodeCount);const C=S-1,R=l[C];let N=0,H=0;for(let P=0;P<this._siblingOffset.length;P++){const O=2*d+this._siblingOffset[P][0],V=2*g+this._siblingOffset[P][1],F=R.getElevation(O,V),$=R.isLeaf(O,V),G=this._addNode(F.min,F.max,$);$&&(N|=1<<P),H||(H=G)}for(let P=0;P<this._siblingOffset.length;P++)N&1<<P||this._construct(l,2*d+this._siblingOffset[P][0],2*g+this._siblingOffset[P][1],C,H+P)}}function Nz(p,l,d,g,S,y){return _r(_r(p,d,y),_r(l,g,y),S)}function mf(p,l,d){const g=d.dim,S=St(p*g-.5,0,g-1),y=St(l*g-.5,0,g-1),C=Math.floor(S),R=Math.floor(y),N=Math.min(C+1,g-1),H=Math.min(R+1,g-1);return Nz(d.get(C,R),d.get(N,R),d.get(C,H),d.get(N,H),S-C,y-R)}const Vie={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};function Hie(p,l,d){return(256*p*256+256*l+d)/10-1e4}function Uie(p,l,d){return 256*p+l+d/256-32768}class p6{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(l,d,g,S=!1){if(this.uid=l,d.height!==d.width)throw new RangeError("DEM tiles must be square");if(g&&g!=="mapbox"&&g!=="terrarium")return void Mt(`"${g}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=d.height;const y=this.dim=d.height-2,C=new Uint32Array(d.data.buffer);if(this.pixels=new Uint8Array(d.data.buffer),this.floatView=new Float32Array(d.data.buffer),this.borderReady=S,this._modifiedForSources={},!S){for(let N=0;N<y;N++)C[this._idx(-1,N)]=C[this._idx(0,N)],C[this._idx(y,N)]=C[this._idx(y-1,N)],C[this._idx(N,-1)]=C[this._idx(N,0)],C[this._idx(N,y)]=C[this._idx(N,y-1)];C[this._idx(-1,-1)]=C[this._idx(0,0)],C[this._idx(y,-1)]=C[this._idx(y-1,0)],C[this._idx(-1,y)]=C[this._idx(0,y-1)],C[this._idx(y,y)]=C[this._idx(y-1,y-1)]}const R=g==="terrarium"?Uie:Hie;for(let N=0;N<C.length;++N){const H=4*N;this.floatView[N]=R(this.pixels[H],this.pixels[H+1],this.pixels[H+2])}this._timestamp=Rn.now()}_buildQuadTree(){this._tree=new Fz(this)}get(l,d,g=!1){g&&(l=St(l,-1,this.dim),d=St(d,-1,this.dim));const S=this._idx(l,d);return this.floatView[S]}set(l,d,g){const S=this._idx(l,d),y=this.floatView[S];return this.floatView[S]=g,g-y}static getUnpackVector(l){return Vie[l]}_idx(l,d){if(l<-1||l>=this.dim+1||d<-1||d>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(d+1)*this.stride+(l+1)}static pack(l,d){const g=[0,0,0,0],S=p6.getUnpackVector(d);let y=Math.floor((l+S[3])/S[2]);return g[2]=y%256,y=Math.floor(y/256),g[1]=y%256,y=Math.floor(y/256),g[0]=y,g}getPixels(){return new _O({width:this.stride,height:this.stride},this.pixels)}backfillBorder(l,d,g){if(this.dim!==l.dim)throw new Error("dem dimension mismatch");let S=d*this.dim,y=d*this.dim+this.dim,C=g*this.dim,R=g*this.dim+this.dim;switch(d){case-1:S=y-1;break;case 1:y=S+1}switch(g){case-1:C=R-1;break;case 1:R=C+1}const N=-d*this.dim,H=-g*this.dim;for(let P=C;P<R;P++)for(let O=S;O<y;O++){const V=4*this._idx(O,P),F=4*this._idx(O+N,P+H);this.pixels[V+0]=l.pixels[F+0],this.pixels[V+1]=l.pixels[F+1],this.pixels[V+2]=l.pixels[F+2],this.pixels[V+3]=l.pixels[F+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}function jie(p,l,d){p===1?l.header_length=d.readFixed32():p===2?l.x=d.readVarint():p===3?l.y=d.readVarint():p===4?l.z=d.readVarint():p===5&&l.layers.push(function(g,S){return g.readFields(Yie,{version:0,name:"",units:"",tilesize:0,buffer:0,pixel_format:0,data_index:[]},S)}(d,d.readVarint()+d.pos))}function Gie(p,l,d){p===1?(l.delta_filter=function(g,S){return g.readFields(Wie,{block_size:0},S)}(d,d.readVarint()+d.pos),l.filter="delta_filter"):p===2?(d.readVarint(),l.filter="zigzag_filter"):p===3?(d.readVarint(),l.filter="bitshuffle_filter"):p===4&&(d.readVarint(),l.filter="byteshuffle_filter")}function Wie(p,l,d){p===1&&(l.block_size=d.readVarint())}function qie(p,l,d){p===1?(d.readVarint(),l.codec="gzip_data"):p===2?(d.readVarint(),l.codec="jpeg_image"):p===3?(d.readVarint(),l.codec="webp_image"):p===4&&(d.readVarint(),l.codec="png_image")}function Kie(p,l,d){p===1?l.first_byte=d.readFixed64():p===2?l.last_byte=d.readFixed64():p===3?l.filters.push(function(g,S){return g.readFields(Gie,{},S)}(d,d.readVarint()+d.pos)):p===4?l.codec=function(g,S){return g.readFields(qie,{},S)}(d,d.readVarint()+d.pos):p===5?l.deprecated_offset=d.readFloat():p===6?l.deprecated_scale=d.readFloat():p===7?l.bands.push(d.readString()):p===8?l.offset=d.readDouble():p===9&&(l.scale=d.readDouble())}function Yie(p,l,d){p===1?l.version=d.readVarint():p===2?l.name=d.readString():p===3?l.units=d.readString():p===4?l.tilesize=d.readVarint():p===5?l.buffer=d.readVarint():p===6?l.pixel_format=d.readVarint():p===7&&l.data_index.push(function(g,S){return g.readFields(Kie,{first_byte:0,last_byte:0,filters:[],codec:null,offset:0,scale:0,deprecated_offset:0,deprecated_scale:0,bands:[]},S)}(d,d.readVarint()+d.pos))}function Zie(p,l,d){if(p===2)(function(g,S,y){g.readFields(Xie,y,S)})(d,d.readVarint()+d.pos,l);else if(p===3)throw new Error("Not implemented")}function Xie(p,l,d){if(p===1){let g=0;const S=d.readVarint()+d.pos;for(;d.pos<S;)l[g++]=d.readVarint()}}Un(p6,"DEMData"),Un(Fz,"DemMinMaxQuadTree",{omit:["dem"]});class Jie{constructor(l){this.capacity=l,this.cache=new Map}get(l){if(!this.cache.has(l))return;const d=this.cache.get(l);return this.cache.delete(l),this.cache.set(l,d),d}put(l,d){this.cache.has(l)?this.cache.delete(l):this.cache.size===this.capacity&&this.cache.delete(this.cache.keys().next().value),this.cache.set(l,d)}}function Qie(p,l){if(l.length!==4)throw new Error(`Expected data of dimension 4 but got ${l.length}.`);let d=l[3];for(let g=2;g>=1;g--){const S=g===1?1:0,y=g===2?1:0;for(let C=0;C<l[0];C++){const R=l[1]*C;for(let N=S;N<l[1];N++){const H=l[2]*(N+R);for(let P=y;P<l[2];P++){const O=l[3]*(P+H);for(let V=0;V<l[3];V++){const F=O+V;p[F]+=p[F-d]}}}}d*=l[g]}return p}function eae(p){for(let l=0,d=p.length;l<d;l++)p[l]=p[l]>>>1^-(1&p[l]);return p}function tae(p,l){switch(l){case"uint32":return p;case"uint16":for(let d=0;d<p.length;d+=2){const g=p[d],S=p[d+1];p[d]=(240&g)>>4|(61440&g)>>8|(240&S)<<4|61440&S,p[d+1]=15&g|(3840&g)>>4|(15&S)<<8|(3840&S)<<4}return p;case"uint8":for(let d=0;d<p.length;d+=4){const g=p[d],S=p[d+1],y=p[d+2],C=p[d+3];p[d+0]=(192&g)>>6|(192&S)>>4|(192&y)>>2|192&C,p[d+1]=(48&g)>>4|(48&S)>>2|48&y|(48&C)<<2,p[d+2]=(12&g)>>2|12&S|(12&y)<<2|(12&C)<<4,p[d+3]=3&g|(3&S)<<2|(3&y)<<4|(3&C)<<6}return p;default:throw new Error(`Invalid pixel format, "${l}"`)}}var Il=Uint8Array,E1=Uint16Array,nae=Int32Array,$z=new Il([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Vz=new Il([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),rae=new Il([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Hz=function(p,l){for(var d=new E1(31),g=0;g<31;++g)d[g]=l+=1<<p[g-1];var S=new nae(d[30]);for(g=1;g<30;++g)for(var y=d[g];y<d[g+1];++y)S[y]=y-d[g]<<5|g;return{b:d,r:S}},Uz=Hz($z,2),jz=Uz.b,iae=Uz.r;jz[28]=258,iae[258]=28;for(var aae=Hz(Vz,0).b,Gz=new E1(32768),Ga=0;Ga<32768;++Ga){var Uv=(43690&Ga)>>1|(21845&Ga)<<1;Gz[Ga]=((65280&(Uv=(61680&(Uv=(52428&Uv)>>2|(13107&Uv)<<2))>>4|(3855&Uv)<<4))>>8|(255&Uv)<<8)>>1}var A1=function(p,l,d){for(var g=p.length,S=0,y=new E1(l);S<g;++S)p[S]&&++y[p[S]-1];var C,R=new E1(l);for(S=1;S<l;++S)R[S]=R[S-1]+y[S-1]<<1;C=new E1(1<<l);var N=15-l;for(S=0;S<g;++S)if(p[S])for(var H=S<<4|p[S],P=l-p[S],O=R[p[S]-1]++<<P,V=O|(1<<P)-1;O<=V;++O)C[Gz[O]>>N]=H;return C},I1=new Il(288);for(Ga=0;Ga<144;++Ga)I1[Ga]=8;for(Ga=144;Ga<256;++Ga)I1[Ga]=9;for(Ga=256;Ga<280;++Ga)I1[Ga]=7;for(Ga=280;Ga<288;++Ga)I1[Ga]=8;var Wz=new Il(32);for(Ga=0;Ga<32;++Ga)Wz[Ga]=5;var oae=A1(I1,9),sae=A1(Wz,5),NM=function(p){for(var l=p[0],d=1;d<p.length;++d)p[d]>l&&(l=p[d]);return l},Wu=function(p,l,d){var g=l/8|0;return(p[g]|p[g+1]<<8)>>(7&l)&d},$M=function(p,l){var d=l/8|0;return(p[d]|p[d+1]<<8|p[d+2]<<16)>>(7&l)},lae=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],qu=function(p,l,d){var g=new Error(l||lae[p]);if(g.code=p,Error.captureStackTrace&&Error.captureStackTrace(g,qu),!d)throw g;return g},uae=new Il(0),cae=typeof TextDecoder<"u"&&new TextDecoder;try{cae.decode(uae,{stream:!0})}catch{}const dae={gzip_data:"gzip"};class nu extends Error{constructor(l){super(l),this.name="MRTError"}}const hae={0:"uint32",1:"uint32",2:"uint16",3:"uint8"},qz={uint32:1,uint16:2,uint8:4},fae={uint32:Uint32Array,uint16:Uint16Array,uint8:Uint8Array};let VM;class HM{constructor(l=5){this.x=NaN,this.y=NaN,this.z=NaN,this.layers={},this._cacheSize=l}getLayer(l){const d=this.layers[l];if(!d)throw new nu(`Layer '${l}' not found`);return d}getHeaderLength(l){const d=new Uint8Array(l),g=new DataView(l);if(d[0]!==13)throw new nu("File is not a valid MRT.");return g.getUint32(1,!0)}parseHeader(l){const d=new Uint8Array(l),g=this.getHeaderLength(l);if(d.length<g)throw new nu(`Expected header with length >= ${g} but got buffer of length ${d.length}`);const S=function(y,C){return y.readFields(jie,{header_length:0,x:0,y:0,z:0,layers:[]},void 0)}(new VM(d.subarray(0,g)));if(!isNaN(this.x)&&(this.x!==S.x||this.y!==S.y||this.z!==S.z))throw new nu(`Invalid attempt to parse header ${S.z}/${S.x}/${S.y} for tile ${this.z}/${this.x}/${this.y}`);this.x=S.x,this.y=S.y,this.z=S.z;for(const y of S.layers)this.layers[y.name]=new pae(y,{cacheSize:this._cacheSize});return this}createDecodingTask(l){const d=[],g=this.getLayer(l.layerName);for(let S of l.blockIndices){const y=g.dataIndex[S],C=y.first_byte-l.firstByte,R=y.last_byte-l.firstByte;if(g._blocksInProgress.has(S))continue;const N={layerName:g.name,firstByte:C,lastByte:R,pixelFormat:g.pixelFormat,blockIndex:S,blockShape:[y.bands.length].concat(g.bandShape),buffer:g.buffer,codec:y.codec.codec,filters:y.filters.map(H=>H.filter)};g._blocksInProgress.add(S),d.push(N)}return new Kz(d,()=>{d.forEach(S=>g._blocksInProgress.delete(S.blockIndex))},(S,y)=>{if(d.forEach(C=>g._blocksInProgress.delete(C.blockIndex)),S)throw S;y.forEach(C=>{this.getLayer(C.layerName).processDecodedData(C)})})}}class pae{constructor({version:l,name:d,units:g,tilesize:S,pixel_format:y,buffer:C,data_index:R},N){if(this.version=l,this.version!==1)throw new nu(`Cannot parse raster layer encoded with MRT version ${l}`);this.name=d,this.units=g,this.tileSize=S,this.buffer=C,this.pixelFormat=hae[y],this.dataIndex=R,this.bandShape=[S+2*C,S+2*C,qz[this.pixelFormat]],this._decodedBlocks=new Jie(N?N.cacheSize:5),this._blocksInProgress=new Set}get dimension(){return qz[this.pixelFormat]}get cacheSize(){return this._decodedBlocks.capacity}getBandList(){return this.dataIndex.map(({bands:l})=>l).flat()}processDecodedData(l){const d=l.blockIndex.toString();this._decodedBlocks.get(d)||this._decodedBlocks.put(d,l.data)}getBlockForBand(l){let d=0;switch(typeof l){case"string":for(const[g,S]of this.dataIndex.entries()){for(const[y,C]of S.bands.entries())if(C===l)return{bandIndex:d+y,blockIndex:g,blockBandIndex:y};d+=S.bands.length}break;case"number":for(const[g,S]of this.dataIndex.entries()){if(l>=d&&l<d+S.bands.length)return{bandIndex:l,blockIndex:g,blockBandIndex:l-d};d+=S.bands.length}break;default:throw new nu(`Invalid band \`${JSON.stringify(l)}\`. Expected string or integer.`)}throw new nu(`Band not found: ${JSON.stringify(l)}`)}getDataRange(l){let d=1/0,g=-1/0;const S=[],y=new Set;for(const C of l){const{blockIndex:R}=this.getBlockForBand(C);if(R<0)throw new nu(`Invalid band: ${JSON.stringify(C)}`);const N=this.dataIndex[R];S.includes(R)||S.push(R),y.add(R),d=Math.min(d,N.first_byte),g=Math.max(g,N.last_byte)}if(y.size>this.cacheSize)throw new nu(`Number of blocks to decode (${y.size}) exceeds cache size (${this.cacheSize}).`);return{layerName:this.name,firstByte:d,lastByte:g,blockIndices:S}}hasBand(l){const{blockIndex:d}=this.getBlockForBand(l);return d>=0}hasDataForBand(l){const{blockIndex:d}=this.getBlockForBand(l);return d>=0&&!!this._decodedBlocks.get(d.toString())}getBandView(l){const{blockIndex:d,blockBandIndex:g}=this.getBlockForBand(l),S=this._decodedBlocks.get(d.toString());if(!S)throw new nu(`Data for band ${JSON.stringify(l)} of layer "${this.name}" not decoded.`);const y=this.dataIndex[d],C=this.bandShape.reduce((H,P)=>H*P,1),R=g*C,N=S.subarray(R,R+C);return{data:N,bytes:new Uint8Array(N.buffer).subarray(N.byteOffset,N.byteOffset+N.byteLength),tileSize:this.tileSize,buffer:this.buffer,pixelFormat:this.pixelFormat,dimension:this.dimension,offset:y.offset!==0?y.offset:y.deprecated_offset,scale:y.scale!==0?y.scale:y.deprecated_scale}}}HM.setPbf=function(p){VM=p};class Kz{constructor(l,d,g){this.tasks=l,this._onCancel=d,this._onComplete=g,this._finalized=!1}cancel(){this._finalized||(this._onCancel(),this._finalized=!0)}complete(l,d){this._finalized||(this._onComplete(l,d),this._finalized=!0)}}HM.performDecoding=function(p,l){const d=new Uint8Array(p);return Promise.all(l.tasks.map(g=>{const{layerName:S,firstByte:y,lastByte:C,pixelFormat:R,blockShape:N,blockIndex:H,filters:P,codec:O}=g,V=d.subarray(y,C+1),F=new Uint32Array(N[0]*N[1]*N[2]);let $;if(O!=="gzip_data")throw new nu(`Unhandled codec: ${O}`);return $=function(G,Y){if(!globalThis.DecompressionStream&&Y==="gzip_data")return Promise.resolve(((ne=function(De){De[0]==31&&De[1]==139&&De[2]==8||qu(6,"invalid gzip data");var Ve=De[3],Ue=10;4&Ve&&(Ue+=2+(De[10]|De[11]<<8));for(var ze=(Ve>>3&1)+(Ve>>4&1);ze>0;ze-=!De[Ue++]);return Ue+(2&Ve)}(fe=G))+8>fe.length&&qu(6,"invalid gzip data"),function(De,Ve,Ue,ze){var Qe=De.length;if(!Qe||Ve.f&&!Ve.l)return Ue||new Il(0);var We=!Ue,it=We||Ve.i!=2,mt=Ve.i;We&&(Ue=new Il(3*Qe));var yt,xt,Et=function(vf){var lm=Ue.length;if(vf>lm){var z1=new Il(Math.max(2*lm,vf));z1.set(Ue),Ue=z1}},$t=Ve.f||0,At=Ve.p||0,Jt=Ve.b||0,dn=Ve.l,qt=Ve.d,Bn=Ve.m,kn=Ve.n,wn=8*Qe;do{if(!dn){$t=Wu(De,At,1);var gn=Wu(De,At+1,3);if(At+=3,!gn){var or=De[(Er=4+((At+7)/8|0))-4]|De[Er-3]<<8,zn=Er+or;if(zn>Qe){mt&&qu(0);break}it&&Et(Jt+or),Ue.set(De.subarray(Er,zn),Jt),Ve.b=Jt+=or,Ve.p=At=8*zn,Ve.f=$t;continue}if(gn==1)dn=oae,qt=sae,Bn=9,kn=5;else if(gn==2){var Hn=Wu(De,At,31)+257,Cr=Wu(De,At+10,15)+4,Vr=Hn+Wu(De,At+5,31)+1;At+=14;for(var Dr=new Il(Vr),Or=new Il(19),Kr=0;Kr<Cr;++Kr)Or[rae[Kr]]=Wu(De,At+3*Kr,7);At+=3*Cr;var Jr=NM(Or),ji=(1<<Jr)-1,Pi=A1(Or,Jr);for(Kr=0;Kr<Vr;){var Er,Ti=Pi[Wu(De,At,ji)];if(At+=15&Ti,(Er=Ti>>4)<16)Dr[Kr++]=Er;else{var Mi=0,ta=0;for(Er==16?(ta=3+Wu(De,At,3),At+=2,Mi=Dr[Kr-1]):Er==17?(ta=3+Wu(De,At,7),At+=3):Er==18&&(ta=11+Wu(De,At,127),At+=7);ta--;)Dr[Kr++]=Mi}}var Aa=Dr.subarray(0,Hn),Wa=Dr.subarray(Hn);Bn=NM(Aa),kn=NM(Wa),dn=A1(Aa,Bn),qt=A1(Wa,kn)}else qu(1);if(At>wn){mt&&qu(0);break}}it&&Et(Jt+131072);for(var Ia=(1<<Bn)-1,ma=(1<<kn)-1,co=At;;co=At){var Za=(Mi=dn[$M(De,At)&Ia])>>4;if((At+=15&Mi)>wn){mt&&qu(0);break}if(Mi||qu(2),Za<256)Ue[Jt++]=Za;else{if(Za==256){co=At,dn=null;break}var Eo=Za-254;Za>264&&(Eo=Wu(De,At,(1<<(Yu=$z[Kr=Za-257]))-1)+jz[Kr],At+=Yu);var Xi=qt[$M(De,At)&ma],Ls=Xi>>4;if(Xi||qu(3),At+=15&Xi,Wa=aae[Ls],Ls>3){var Yu=Vz[Ls];Wa+=$M(De,At)&(1<<Yu)-1,At+=Yu}if(At>wn){mt&&qu(0);break}it&&Et(Jt+131072);var ru=Jt+Eo;if(Jt<Wa){var iu=0-Wa,sm=Math.min(Wa,ru);for(iu+Jt<0&&qu(3);Jt<sm;++Jt)Ue[Jt]=(void 0)[iu+Jt]}for(;Jt<ru;++Jt)Ue[Jt]=Ue[Jt-Wa]}}Ve.l=dn,Ve.p=co,Ve.b=Jt,Ve.f=$t,dn&&($t=1,Ve.m=Bn,Ve.d=qt,Ve.n=kn)}while(!$t);return Jt!=Ue.length&&We?(yt=Ue,((xt=Jt)==null||xt>yt.length)&&(xt=yt.length),new Il(yt.subarray(0,xt))):Ue.subarray(0,Jt)}(fe.subarray(ne,-8),{i:2},new Il(((ee=fe)[(de=ee.length)-4]|ee[de-3]<<8|ee[de-2]<<16|ee[de-1]<<24)>>>0))));var ee,de,fe,ne;const ve=dae[Y];if(!ve)throw new Error(`Unhandled codec: ${Y}`);const we=new globalThis.DecompressionStream(ve);return new Response(new Blob([G]).stream().pipeThrough(we)).arrayBuffer().then(De=>new Uint8Array(De))}(V,O).then(G=>(function(Y,ee){Y.readFields(Zie,ee)}(new VM(G),F),new fae[R](F.buffer))),$.then(G=>{for(let Y=P.length-1;Y>=0;Y--)switch(P[Y]){case"delta_filter":Qie(G,N);break;case"zigzag_filter":eae(G);break;case"bitshuffle_filter":tae(G,R);break;default:throw new nu(`Unhandled filter "${P[Y]}"`)}return{layerName:S,blockIndex:H,data:G}}).catch(G=>{throw G})}))},Un(Kz,"MRTDecodingBatch",{omit:["_onCancel","_onComplete"]});var k1={workerUrl:"",workerClass:null,workerParams:void 0};const UM="mapboxgl_preloaded_worker_pool";class P1{constructor(){this.active={}}acquire(l){if(!this.workers)for(this.workers=[];this.workers.length<P1.workerCount;)this.workers.push(k1.workerClass!=null?new k1.workerClass:new self.Worker(k1.workerUrl,k1.workerParams));return this.active[l]=!0,this.workers.slice()}release(l){delete this.active[l],this.workers&&this.numActive()===0&&(this.workers.forEach(d=>{d.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[UM]}numActive(){return Object.keys(this.active).length}}let L1;function m6(){return L1||(L1=new P1),L1}P1.workerCount=2;let R1,jM,Ku,jv,GM,Gv=null;function Yz(){return qr()&&self.worker&&self.worker.dracoUrl?self.worker.dracoUrl:jM||ut.DRACO_URL}function Zz(){if(qr()&&self.worker&&self.worker.meshoptUrl)return self.worker.meshoptUrl;if(jv)return jv;const p=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]);if(typeof WebAssembly!="object")throw new Error("WebAssembly not supported, cannot instantiate meshoptimizer");return jv=WebAssembly.validate(p)?ut.MESHOPT_SIMD_URL:ut.MESHOPT_URL,jv}const v6={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},mae={5120:"DT_INT8",5121:"DT_UINT8",5122:"DT_INT16",5123:"DT_UINT16",5125:"DT_UINT32",5126:"DT_FLOAT32"},D1={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16};function Xz(p,l,d){const g=d.json.bufferViews.length,S=d.buffers.length;l.bufferView=g,d.json.bufferViews[g]={buffer:S,byteLength:p.byteLength},d.buffers[S]=p}const WM="KHR_draco_mesh_compression";function vae(p,l){const d=p.extensions&&p.extensions[WM];if(!d)return;const g=new Ku.Decoder,S=tB(l,d.bufferView),y=new Ku.Mesh;if(!g.DecodeArrayToMesh(S,S.byteLength,y))throw new Error("Failed to decode Draco mesh");const C=l.json.accessors[p.indices],R=v6[C.componentType],N=C.count*R.BYTES_PER_ELEMENT,H=Ku._malloc(N);R===Uint16Array?g.GetTrianglesUInt16Array(y,N,H):g.GetTrianglesUInt32Array(y,N,H),Xz(Ku.memory.buffer.slice(H,H+N),C,l),Ku._free(H);for(const P of Object.keys(d.attributes)){const O=g.GetAttributeByUniqueId(y,d.attributes[P]),V=l.json.accessors[p.attributes[P]],F=mae[V.componentType],$=V.count*D1[V.type]*v6[V.componentType].BYTES_PER_ELEMENT,G=Ku._malloc($);g.GetAttributeDataArrayForAllPoints(y,O,Ku[F],$,G),Xz(Ku.memory.buffer.slice(G,G+$),V,l),Ku._free(G)}g.destroy(),y.destroy(),delete p.extensions[WM]}const g6="EXT_meshopt_compression";function gae(p,l){if(!p.extensions||!p.extensions[g6])return;const d=p.extensions[g6],g=new Uint8Array(l.buffers[d.buffer],d.byteOffset||0,d.byteLength||0),S=new Uint8Array(d.count*d.byteStride);GM.decodeGltfBuffer(S,d.count,d.byteStride,g,d.mode,d.filter),p.buffer=l.buffers.length,p.byteOffset=0,l.buffers[p.buffer]=S.buffer,delete p.extensions[g6]}const Jz=1179937895,Qz=new TextDecoder("utf8");function eB(p,l){return new URL(p,l).href}function _ae(p,l,d,g){return fetch(eB(p.uri,g)).then(S=>S.arrayBuffer()).then(S=>{l.buffers[d]=S})}function tB(p,l){const d=p.json.bufferViews[l];return new Uint8Array(p.buffers[d.buffer],d.byteOffset||0,d.byteLength)}function yae(p,l,d,g){if(p.uri){const S=eB(p.uri,g);return fetch(S).then(y=>y.blob()).then(y=>createImageBitmap(y)).then(y=>{l.images[d]=y})}if(p.bufferView!==void 0){const S=tB(l,p.bufferView),y=new Blob([S],{type:p.mimeType});return createImageBitmap(y).then(C=>{l.images[d]=C})}}function nB(p,l=0,d){const g={json:null,images:[],buffers:[]};if(new Uint32Array(p,l,1)[0]===Jz){const P=new Uint32Array(p,l);let O=2;const V=(P[O++]>>2)-3,F=P[O++]>>2;if(O++,g.json=JSON.parse(Qz.decode(P.subarray(O,O+F))),O+=F,O<V){const $=P[O++];O++;const G=l+(O<<2);g.buffers[0]=p.slice(G,G+$)}}else g.json=JSON.parse(Qz.decode(new Uint8Array(p,l)));const{buffers:S,images:y,meshes:C,extensionsUsed:R,bufferViews:N}=g.json;let H=Promise.resolve();if(S){const P=[];for(let O=0;O<S.length;O++){const V=S[O];V.uri?P.push(_ae(V,g,O,d)):g.buffers[O]||(g.buffers[O]=null)}H=Promise.all(P)}return H.then(()=>{const P=[],O=R&&R.includes(WM),V=R&&R.includes(g6);if(O&&P.push(function(){if(!Ku)return R1??(R1=function(F){let $,G=null;function Y(){$=new Uint8Array(G.buffer)}function ee(){throw new Error("Unexpected Draco error.")}const de={a:{a:ee,d:function(fe,ne,ve){return $.copyWithin(fe,ne,ne+ve)},c:function(fe){const ne=$.length,ve=Math.max(fe>>>0,Math.ceil(1.2*ne)),we=Math.ceil((ve-ne)/65536);try{return G.grow(we),Y(),!0}catch{return!1}},b:ee}};return(WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(F,de):F.then(fe=>fe.arrayBuffer()).then(fe=>WebAssembly.instantiate(fe,de))).then(fe=>{const{Rb:ne,Qb:ve,P:we,T:De,X:Ve,Ja:Ue,La:ze,Qa:Qe,Va:We,Wa:it,eb:mt,jb:yt,f:xt,e:Et,yb:$t,zb:At,Ab:Jt,Bb:dn,Db:qt,Gb:Bn}=fe.instance.exports;G=Et;const kn=(()=>{let wn=0,gn=0,or=0,zn=0;return Hn=>{or&&(ne(zn),ne(wn),gn+=or,or=wn=0),wn||(gn+=128,wn=ve(gn));const Cr=Hn.length+7&-8;let Vr=wn;Cr>=gn&&(or=Cr,Vr=zn=ve(Cr));for(let Dr=0;Dr<Hn.length;Dr++)$[Vr+Dr]=Hn[Dr];return Vr}})();return Y(),xt(),{memory:Et,_free:ne,_malloc:ve,Mesh:class{constructor(){this.ptr=we()}destroy(){De(this.ptr)}},Decoder:class{constructor(){this.ptr=Ue()}destroy(){yt(this.ptr)}DecodeArrayToMesh(wn,gn,or){const zn=kn(wn),Hn=ze(this.ptr,zn,gn,or.ptr);return!!Ve(Hn)}GetAttributeByUniqueId(wn,gn){return{ptr:Qe(this.ptr,wn.ptr,gn)}}GetTrianglesUInt16Array(wn,gn,or){We(this.ptr,wn.ptr,gn,or)}GetTrianglesUInt32Array(wn,gn,or){it(this.ptr,wn.ptr,gn,or)}GetAttributeDataArrayForAllPoints(wn,gn,or,zn,Hn){mt(this.ptr,wn.ptr,gn.ptr,or,zn,Hn)}},DT_INT8:$t(),DT_UINT8:At(),DT_INT16:Jt(),DT_UINT16:dn(),DT_UINT32:qt(),DT_FLOAT32:Bn()}})}(fetch(Yz())),R1.then(F=>{Ku=F,R1=void 0}))}()),V&&P.push(function(){if(GM)return;const F=function($){let G;const Y=WebAssembly.instantiateStreaming($,{}).then(fe=>{G=fe.instance,G.exports.__wasm_call_ctors()}),ee={NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},de={ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return{ready:Y,supported:!0,decodeGltfBuffer(fe,ne,ve,we,De,Ve){(function(Ue,ze,Qe,We,it,mt,yt){const xt=Ue.exports.sbrk,Et=We+3&-4,$t=xt(Et*it),At=xt(mt.length),Jt=new Uint8Array(Ue.exports.memory.buffer);Jt.set(mt,At);const dn=ze($t,We,it,At,mt.length);if(dn===0&&yt&&yt($t,Et,it),Qe.set(Jt.subarray($t,$t+We*it)),xt($t-xt(0)),dn!==0)throw new Error(`Malformed buffer data: ${dn}`)})(G,G.exports[de[De]],fe,ne,ve,we,G.exports[ee[Ve]])}}}(fetch(Zz()));return F.ready.then(()=>{GM=F})}()),y)for(let F=0;F<y.length;F++)P.push(yae(y[F],g,F,d));return(P.length?Promise.all(P):Promise.resolve()).then(()=>{if(O&&C)for(const{primitives:F}of C)for(const $ of F)vae($,g);if(V&&C&&N)for(const F of N)gae(F,g);return g})})}function om(p,l){const d=p.json.bufferViews[l.bufferView],g=v6[l.componentType];return new g(p.buffers[d.buffer],(l.byteOffset||0)+(d.byteOffset||0),l.count*(d.byteStride&&d.byteStride!==D1[l.type]*g.BYTES_PER_ELEMENT?d.byteStride/g.BYTES_PER_ELEMENT:D1[l.type]))}function qM(p,l,d,g){const S=v6[l.componentType],y=function(P){switch(P){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:return 1}}(S),C=p.json.bufferViews[l.bufferView],R=C.byteStride?C.byteStride/S.BYTES_PER_ELEMENT:D1[l.type],N=d.float32,H=N.length/d.capacity;for(let P=0,O=0;P<l.count*R;P+=R,O+=H)for(let V=0;V<H;V++)N[O+V]=g[P+V]*y;d._trim()}function bae(p,l,d){const g=p.indices,S=p.attributes,y={};y.indexArray=new xo;const C=l.json.accessors[g],R=C.count/3;y.indexArray.reserve(R);const N=om(l,C);for(let V=0;V<R;V++)y.indexArray.emplaceBack(N[3*V],N[3*V+1],N[3*V+2]);y.indexArray._trim(),y.vertexArray=new Rc;const H=l.json.accessors[S.POSITION];y.vertexArray.reserve(H.count);const P=om(l,H);for(let V=0;V<H.count;V++)y.vertexArray.emplaceBack(P[3*V],P[3*V+1],P[3*V+2]);if(y.vertexArray._trim(),y.aabb=new Zi(H.min,H.max),y.centroid=function(V,F){const $=[0,0,0],G=V.length;if(G>0){for(let Y=0;Y<G;Y++){const ee=3*V[Y];$[0]+=F[ee],$[1]+=F[ee+1],$[2]+=F[ee+2]}$[0]/=G,$[1]/=G,$[2]/=G}return $}(N,P),S.COLOR_0!==void 0){const V=l.json.accessors[S.COLOR_0],F=D1[V.type],$=om(l,V);y.colorArray=F===3?new Rc:new Nu,y.colorArray.resize(V.count),qM(l,V,y.colorArray,$)}if(S.NORMAL!==void 0){y.normalArray=new Rc;const V=l.json.accessors[S.NORMAL];y.normalArray.resize(V.count);const F=om(l,V);qM(l,V,y.normalArray,F)}if(S.TEXCOORD_0!==void 0&&d.length>0){y.texcoordArray=new Zp;const V=l.json.accessors[S.TEXCOORD_0];y.texcoordArray.resize(V.count);const F=om(l,V);qM(l,V,y.texcoordArray,F)}if(S._FEATURE_ID_RGBA4444!==void 0){const V=l.json.accessors[S._FEATURE_ID_RGBA4444];l.json.extensionsUsed&&l.json.extensionsUsed.includes("EXT_meshopt_compression")&&(y.featureData=om(l,V))}S._FEATURE_RGBA4444!==void 0&&(y.featureData=new Uint32Array(om(l,l.json.accessors[S._FEATURE_RGBA4444]).buffer));const O=p.material;return y.material=function(V,F){const{emissiveFactor:$=[0,0,0],alphaMode:G="OPAQUE",alphaCutoff:Y=.5,normalTexture:ee,occlusionTexture:de,emissiveTexture:fe,doubleSided:ne}=V,{baseColorFactor:ve=[1,1,1,1],metallicFactor:we=1,roughnessFactor:De=1,baseColorTexture:Ve,metallicRoughnessTexture:Ue}=V.pbrMetallicRoughness||{},ze=de?F[de.index]:void 0;if(de&&de.extensions&&de.extensions.KHR_texture_transform&&ze){const Qe=de.extensions.KHR_texture_transform;ze.offsetScale=[Qe.offset[0],Qe.offset[1],Qe.scale[0],Qe.scale[1]]}return{pbrMetallicRoughness:{baseColorFactor:new Ii(...ve),metallicFactor:we,roughnessFactor:De,baseColorTexture:Ve?F[Ve.index]:void 0,metallicRoughnessTexture:Ue?F[Ue.index]:void 0},doubleSided:ne,emissiveFactor:$,alphaMode:G,alphaCutoff:Y,normalTexture:ee?F[ee.index]:void 0,occlusionTexture:ze,emissionTexture:fe?F[fe.index]:void 0,defined:V.defined===void 0}}(O!==void 0?l.json.materials[O]:{defined:!1},d),y}function rB(p,l,d){const{matrix:g,rotation:S,translation:y,scale:C,mesh:R,extras:N,children:H}=p,P={};if(P.matrix=g||Re.mat4.fromRotationTranslationScale([],S||[0,0,0,1],y||[0,0,0],C||[1,1,1]),R!==void 0){P.meshes=d[R];const O=P.anchor=[0,0];for(const V of P.meshes){const{min:F,max:$}=V.aabb;O[0]+=F[0]+$[0],O[1]+=F[1]+$[1]}O[0]=Math.floor(O[0]/P.meshes.length/2),O[1]=Math.floor(O[1]/P.meshes.length/2)}if(N&&(N.id&&(P.id=N.id),N.lights&&(P.lights=function(O){if(!O.length)return[];const V=function(ee){const de=atob(ee),fe=new Uint8Array(de.length);for(let ne=0;ne<de.length;ne++)fe[ne]=de.codePointAt(ne);return fe}(O),F=[],$=V.length/24,G=new Uint16Array(V.buffer),Y=new Float32Array(V.buffer);for(let ee=0;ee<$;ee++){const de=G[2*ee*6]/30,fe=G[2*ee*6+1]/30,ne=G[2*ee*6+10]/100,ve=Y[6*ee+1],we=Y[6*ee+2],De=Y[6*ee+3],Ve=Y[6*ee+4],Ue=De-ve,ze=Ve-we,Qe=Math.hypot(Ue,ze);F.push({pos:[ve+.5*Ue,we+.5*ze,fe],normal:[ze/Qe,-Ue/Qe,0],width:Qe,height:de,depth:ne,points:[ve,we,De,Ve]})}return F}(N.lights))),H){const O=[];for(const V of H)O.push(rB(l.json.nodes[V],l,d));P.children=O}return P}function xae(p){if(p.vertices.length===0||p.indices.length===0)return null;const l=new nM(p.vertices,p.indices,8,256),[d,g]=[l.min.clone(),l.max.clone()];return{vertices:p.vertices,indices:p.indices,grid:l,min:d,max:g}}function wae(p){if(!p.extras||!p.extras.ground)return null;const l=p.extras.ground;if(!l||!Array.isArray(l)||l.length===0)return null;const d=l[0];if(!d||!Array.isArray(d)||d.length===0)return null;const g=[];for(const C of d){if(!Array.isArray(C)||C.length!==2)continue;const R=C[0],N=C[1];typeof R=="number"&&typeof N=="number"&&g.push(new Ze(R,N))}if(g.length<3)return null;g.length>1&&g[g.length-1].equals(g[0])&&g.pop();let S=0;for(let C=0;C<g.length;C++){const R=g[C],N=g[(C+1)%g.length],H=g[(C+2)%g.length];S+=(R.x-N.x)*(H.y-N.y)-(H.x-N.x)*(R.y-N.y)}S>0&&g.reverse();const y=o1(g.flatMap(C=>[C.x,C.y]),[]);return y.length===0?null:{vertices:g,indices:y}}function Sae(p,l){const d=[],g=[];let S=0;const y=[];for(const C of p){S=d.length;const R=C.vertexArray.float32,N=C.indexArray.uint16;for(let H=0;H<C.vertexArray.length;H++)y[0]=R[3*H+0],y[1]=R[3*H+1],y[2]=R[3*H+2],Re.vec3.transformMat4(y,y,l),d.push(new Ze(y[0],y[1]));for(let H=0;H<3*C.indexArray.length;H++)g.push(N[H]+S)}if(g.length%3!=0)return null;for(let C=0;C<g.length;C+=3){const R=d[g[C+0]],N=d[g[C+1]],H=d[g[C+2]];(R.x-N.x)*(H.y-N.y)-(H.x-N.x)*(R.y-N.y)>0&&([g[C+1],g[C+2]]=[g[C+2],g[C+1]])}return{vertices:d,indices:g}}function iB(p){const l=function(N,H){const P=[],O=WebGL2RenderingContext;if(N.json.textures)for(const V of N.json.textures){const F={magFilter:O.LINEAR,minFilter:O.NEAREST,wrapS:O.REPEAT,wrapT:O.REPEAT};V.sampler!==void 0&&Object.assign(F,N.json.samplers[V.sampler]),P.push({image:H[V.source],sampler:F,uploaded:!1})}return P}(p,p.images),d=function(N,H){const P=[];for(const O of N.json.meshes){const V=[];for(const F of O.primitives)V.push(bae(F,N,H));P.push(V)}return P}(p,l),{scenes:g,scene:S,nodes:y}=p.json,C=g?g[S||0].nodes:y,R=[];for(const N of C)R.push(rB(y[N],p,d));return function(N,H,P){const O={},V=new Set;for(let F=0;F<N.length;F++){const $=P[H[F]];if(!$.extras)continue;const G=$.extras["mapbox:footprint:version"],Y=$.extras["mapbox:footprint:id"];(G||Y)&&V.add(F),G==="1.0.0"&&Y&&(O[Y]=F)}for(let F=0;F<N.length;F++){if(V.has(F))continue;const $=N[F],G=P[H[F]];if(!G.extras)continue;let Y=null;$.id in O&&(Y=Sae(N[O[$.id]].meshes,$.matrix)),Y||(Y=wae(G)),Y&&($.footprint=xae(Y))}if(V.size>0){const F=Array.from(V.values()).sort(($,G)=>$-G);for(let $=F.length-1;$>=0;$--)N.splice(F[$],1)}}(R,C,p.json.nodes),R}function Cae(p){p.heightmap=new Float32Array(4096),p.heightmap.fill(-1);const l=p.vertexArray.float32,d=p.aabb.min[0]-1,g=p.aabb.min[1]-1,S=im/(p.aabb.max[0]-d+2),y=im/(p.aabb.max[1]-g+2);for(let C=0;C<l.length;C+=3){const R=l[C+2],N=(l[C+0]-d)*S|0,H=(l[C+1]-g)*y|0;R>p.heightmap[H*im+N]&&(p.heightmap[H*im+N]=R)}}function Tae(p,l){const d={};d.indexArray=new xo,d.indexArray.reserve(4*p.length),d.vertexArray=new Rc,d.vertexArray.reserve(10*p.length),d.colorArray=new Nu,d.vertexArray.reserve(10*p.length);let g=0;for(const C of p){const R=Math.min(10,Math.max(4,1.3*C.height))*l,N=[-C.normal[1],C.normal[0],0],H=Math.min(.29,.1*C.width/C.depth),P=C.width-2*C.depth*l*(H+.01),O=Re.vec3.scaleAndAdd([],C.pos,N,P/2),V=Re.vec3.scaleAndAdd([],C.pos,N,-P/2),F=[O[0],O[1],O[2]+C.height],$=[V[0],V[1],V[2]+C.height],G=Re.vec3.scaleAndAdd([],C.normal,N,H);Re.vec3.scale(G,G,R);const Y=Re.vec3.scaleAndAdd([],C.normal,N,-H);Re.vec3.scale(Y,Y,R),Re.vec3.add(G,O,G),Re.vec3.add(Y,V,Y),O[2]+=.1,V[2]+=.1,d.vertexArray.emplaceBack(G[0],G[1],G[2]),d.vertexArray.emplaceBack(Y[0],Y[1],Y[2]),d.vertexArray.emplaceBack(O[0],O[1],O[2]),d.vertexArray.emplaceBack(V[0],V[1],V[2]),d.vertexArray.emplaceBack(F[0],F[1],F[2]),d.vertexArray.emplaceBack($[0],$[1],$[2]),d.vertexArray.emplaceBack(O[0],O[1],O[2]),d.vertexArray.emplaceBack(V[0],V[1],V[2]),d.vertexArray.emplaceBack(G[0],G[1],G[2]),d.vertexArray.emplaceBack(Y[0],Y[1],Y[2]);const ee=P/R/2;d.colorArray.emplaceBack(-ee-H,-1,ee,.8),d.colorArray.emplaceBack(ee+H,-1,ee,.8),d.colorArray.emplaceBack(-ee,0,ee,1.3),d.colorArray.emplaceBack(ee,0,ee,1.3),d.colorArray.emplaceBack(ee+H,-.8,ee,.7),d.colorArray.emplaceBack(ee+H,-.8,ee,.7),d.colorArray.emplaceBack(0,0,ee,1.3),d.colorArray.emplaceBack(0,0,ee,1.3),d.colorArray.emplaceBack(ee+H,-1.2,ee,.8),d.colorArray.emplaceBack(ee+H,-1.2,ee,.8),d.indexArray.emplaceBack(6+g,4+g,8+g),d.indexArray.emplaceBack(7+g,9+g,5+g),d.indexArray.emplaceBack(0+g,1+g,2+g),d.indexArray.emplaceBack(1+g,3+g,2+g),g+=10}const S={defined:!0,emissiveFactor:[0,0,0]},y={};return y.baseColorFactor=Ii.white,S.pbrMetallicRoughness=y,d.material=S,d.aabb=new Zi([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),d}class aB{constructor(l){this._stringToNumber={},this._numberToString=[];for(let d=0;d<l.length;d++){const g=l[d];this._stringToNumber[g]=d,this._numberToString[d]=g}}encode(l){return this._stringToNumber[l]}decode(l){return this._numberToString[l]}}const Mae=["id","tile","layer","source","sourceLayer","state"];class oB{constructor(l,d,g,S,y){this.type="Feature",this._vectorTileFeature=l,this._z=d,this._x=g,this._y=S,this.properties=l.properties,this.id=y}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(l){this._geometry=l}toJSON(){const l={type:"Feature",state:void 0,geometry:this.geometry,properties:this.properties};for(const d of Mae)this[d]!==void 0&&(l[d]=this[d]);return l}}class sB{constructor(l,d){this.tileID=l,this.x=l.canonical.x,this.y=l.canonical.y,this.z=l.canonical.z,this.grid=new Ed(Ln,16,0),this.featureIndexArray=new C4,this.promoteId=d,this.is3DTile=!1}insert(l,d,g,S,y,C=0,R=0){const N=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(g,S,y,C);const H=this.grid;for(let P=0;P<d.length;P++){const O=d[P],V=[1/0,1/0,-1/0,-1/0];for(let F=0;F<O.length;F++){const $=O[F];V[0]=Math.min(V[0],$.x),V[1]=Math.min(V[1],$.y),V[2]=Math.max(V[2],$.x),V[3]=Math.max(V[3],$.y)}R!==0&&(V[0]-=R,V[1]-=R,V[2]+=R,V[3]+=R),V[0]<Ln&&V[1]<Ln&&V[2]>=0&&V[3]>=0&&H.insert(N,V[0],V[1],V[2],V[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new Dv.VectorTile(new W4(this.rawTileData)).layers,this.sourceLayerCoder=new aB(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const l in this.vtLayers)this.vtFeatures[l]=[]}return this.vtLayers}query(l,d,g,S){this.loadVTLayers();const y=l.params||{},C=Ml(y.filter),R=l.tileResult,N=l.transform,H=R.bufferedTilespaceBounds,P=this.grid.query(H.min.x,H.min.y,H.max.x,H.max.y,($,G,Y,ee)=>Ys(R.bufferedTilespaceGeometry,$,G,Y,ee));P.sort(Eae);let O=null;N.elevation&&P.length>0&&(O=Vv.create(N.elevation,this.tileID));const V={};let F;for(let $=0;$<P.length;$++){const G=P[$];if(G===F)continue;F=G;const Y=this.featureIndexArray.get(G);let ee=null;if(this.is3DTile){const de=this.bucketLayerIDs[0][0],fe=d[de];if(fe.type!=="model")continue;const{queryFeature:ne,intersectionZ:ve}=fe.queryIntersectsMatchingFeature(R,Y.featureIndex,C,N);ne&&this.appendToResult(V,de,Y.featureIndex,ne,ve)}else this.loadMatchingFeature(V,Y,C,y.layers,y.availableImages,d,g,S,(de,fe,ne,ve=0)=>(ee||(ee=xn(de,this.tileID.canonical,l.tileTransform)),fe.queryIntersectsFeature(R,de,ne,ee,this.z,l.transform,l.pixelPosMatrix,O,ve)))}return V}loadMatchingFeature(l,d,g,S,y,C,R,N,H){const{featureIndex:P,bucketIndex:O,sourceLayerIndex:V,layoutVertexArrayOffset:F}=d,$=this.bucketLayerIDs[O];if(S&&!function(de,fe){for(let ne=0;ne<de.length;ne++)if(fe.indexOf(de[ne])>=0)return!0;return!1}(S,$))return;const G=this.sourceLayerCoder.decode(V),Y=this.vtLayers[G].feature(P);if(g.needGeometry){const de=Sn(Y,!0);if(!g.filter(new ya(this.tileID.overscaledZ),de,this.tileID.canonical))return}else if(!g.filter(new ya(this.tileID.overscaledZ),Y))return;const ee=this.getId(Y,G);for(let de=0;de<$.length;de++){const fe=$[de];if(S&&S.indexOf(fe)<0)continue;const ne=C[fe];if(!ne)continue;let ve={};ee!==void 0&&N&&(ve=N.getState(ne.sourceLayer||"_geojsonTileLayer",ee));const we=!H||H(Y,ne,ve,F);if(!we)continue;const De=new oB(Y,this.z,this.x,this.y,ee),Ve=sr({},R[fe]);Ve.paint=lB(Ve.paint,ne.paint,Y,ve,y),Ve.layout=lB(Ve.layout,ne.layout,Y,ve,y),De.layer=Ve,this.appendToResult(l,fe,P,De,we)}}appendToResult(l,d,g,S,y){let C=l[d];C===void 0&&(C=l[d]=[]),C.push({featureIndex:g,feature:S,intersectionZ:y})}lookupSymbolFeatures(l,d,g,S,y,C,R,N){const H={};this.loadVTLayers();const P=Ml(y);for(const O of l)this.loadMatchingFeature(H,{bucketIndex:g,sourceLayerIndex:S,featureIndex:O,layoutVertexArrayOffset:0},P,C,R,N,d);return H}loadFeature(l){const{featureIndex:d,sourceLayerIndex:g}=l;this.loadVTLayers();const S=this.sourceLayerCoder.decode(g),y=this.vtFeatures[S];if(y[d])return y[d];const C=this.vtLayers[S].feature(d);return y[d]=C,C}hasLayer(l){for(const d of this.bucketLayerIDs)for(const g of d)if(l===g)return!0;return!1}getId(l,d){let g=l.id;if(this.promoteId){const S=typeof this.promoteId=="string"?this.promoteId:this.promoteId[d];S!=null&&(g=l.properties[S]),typeof g=="boolean"&&(g=Number(g))}return g}}function lB(p,l,d,g,S){return Zt(p,(y,C)=>{const R=l instanceof Zh?l.get(C):null;return R&&R.evaluate?R.evaluate(d,g,S):R})}function Eae(p,l){return l-p}Un(sB,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});const uB=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class KM{static from(l){if(!(l instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[d,g]=new Uint8Array(l,0,2);if(d!==219)throw new Error("Data does not appear to be in a KDBush format.");const S=g>>4;if(S!==1)throw new Error(`Got v${S} data when expected v1.`);const y=uB[15&g];if(!y)throw new Error("Unrecognized array type.");const[C]=new Uint16Array(l,2,1),[R]=new Uint32Array(l,4,1);return new KM(R,C,y,l)}constructor(l,d=64,g=Float64Array,S){if(isNaN(l)||l<0)throw new Error(`Unpexpected numItems value: ${l}.`);this.numItems=+l,this.nodeSize=Math.min(Math.max(+d,2),65535),this.ArrayType=g,this.IndexArrayType=l<65536?Uint16Array:Uint32Array;const y=uB.indexOf(this.ArrayType),C=2*l*this.ArrayType.BYTES_PER_ELEMENT,R=l*this.IndexArrayType.BYTES_PER_ELEMENT,N=(8-R%8)%8;if(y<0)throw new Error(`Unexpected typed array class: ${g}.`);S&&S instanceof ArrayBuffer?(this.data=S,this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+R+N,2*l),this._pos=2*l,this._finished=!0):(this.data=new ArrayBuffer(8+C+R+N),this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+R+N,2*l),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+y]),new Uint16Array(this.data,2,1)[0]=d,new Uint32Array(this.data,4,1)[0]=l)}add(l,d){const g=this._pos>>1;return this.ids[g]=g,this.coords[this._pos++]=l,this.coords[this._pos++]=d,g}finish(){const l=this._pos>>1;if(l!==this.numItems)throw new Error(`Added ${l} items when expected ${this.numItems}.`);return YM(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(l,d,g,S){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:y,coords:C,nodeSize:R}=this,N=[0,y.length-1,0],H=[];for(;N.length;){const P=N.pop()||0,O=N.pop()||0,V=N.pop()||0;if(O-V<=R){for(let Y=V;Y<=O;Y++){const ee=C[2*Y],de=C[2*Y+1];ee>=l&&ee<=g&&de>=d&&de<=S&&H.push(y[Y])}continue}const F=V+O>>1,$=C[2*F],G=C[2*F+1];$>=l&&$<=g&&G>=d&&G<=S&&H.push(y[F]),(P===0?l<=$:d<=G)&&(N.push(V),N.push(F-1),N.push(1-P)),(P===0?g>=$:S>=G)&&(N.push(F+1),N.push(O),N.push(1-P))}return H}within(l,d,g){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:S,coords:y,nodeSize:C}=this,R=[0,S.length-1,0],N=[],H=g*g;for(;R.length;){const P=R.pop()||0,O=R.pop()||0,V=R.pop()||0;if(O-V<=C){for(let Y=V;Y<=O;Y++)dB(y[2*Y],y[2*Y+1],l,d)<=H&&N.push(S[Y]);continue}const F=V+O>>1,$=y[2*F],G=y[2*F+1];dB($,G,l,d)<=H&&N.push(S[F]),(P===0?l-g<=$:d-g<=G)&&(R.push(V),R.push(F-1),R.push(1-P)),(P===0?l+g>=$:d+g>=G)&&(R.push(F+1),R.push(O),R.push(1-P))}return N}}function YM(p,l,d,g,S,y){if(S-g<=d)return;const C=g+S>>1;cB(p,l,C,g,S,y),YM(p,l,d,g,C-1,1-y),YM(p,l,d,C+1,S,1-y)}function cB(p,l,d,g,S,y){for(;S>g;){if(S-g>600){const H=S-g+1,P=d-g+1,O=Math.log(H),V=.5*Math.exp(2*O/3),F=.5*Math.sqrt(O*V*(H-V)/H)*(P-H/2<0?-1:1);cB(p,l,d,Math.max(g,Math.floor(d-P*V/H+F)),Math.min(S,Math.floor(d+(H-P)*V/H+F)),y)}const C=l[2*d+y];let R=g,N=S;for(O1(p,l,g,d),l[2*S+y]>C&&O1(p,l,g,S);R<N;){for(O1(p,l,R,N),R++,N--;l[2*R+y]<C;)R++;for(;l[2*N+y]>C;)N--}l[2*g+y]===C?O1(p,l,g,N):(N++,O1(p,l,N,S)),N<=d&&(g=N+1),d<=N&&(S=N-1)}}function O1(p,l,d,g){ZM(p,d,g),ZM(l,2*d,2*g),ZM(l,2*d+1,2*g+1)}function ZM(p,l,d){const g=p[l];p[l]=p[d],p[d]=g}function dB(p,l,d,g){const S=p-d,y=l-g;return S*S+y*y}a.$=p4,a.A=class extends d6{},a.B=Sd,a.C=Ah,a.D=Gp,a.E=Eh,a.F=Py,a.G=ov,a.H=a4,a.I=yM,a.J=uv,a.K=_v,a.L=c4,a.M=Vp,a.N=J0,a.O=Dp,a.P=Ze,a.Q=Rp,a.R=Ch,a.S=os,a.T=PM,a.U=ry,a.V=d6,a.W=Vy,a.X=sv,a.Y=ky,a.Z=function(p){const l=p.value;let d=[];if(!l)return d;const g=Sd(l);return g!=="string"?(d=d.concat([new d6(p.key,l,`string expected, "${g}" found`)]),d):(xz(l,!0)||(d=d.concat([new d6(p.key,l,`invalid url "${l}"`)])),d)},a._=Ot,a.a=function(p){return ut.API_CDN_URL_REGEX.test(p)},a.a$=Zy,a.a0=la,a.a1=Mn,a.a2=class{constructor(p){this.specification=p}possiblyEvaluate(p,l){return Nr(p.expression.evaluate(l))}interpolate(p,l,d){return{x:_r(p.x,l.x,d),y:_r(p.y,l.y,d),z:_r(p.z,l.z,d),azimuthal:_r(p.azimuthal,l.azimuthal,d),polar:_r(p.polar,l.polar,d)}}},a.a3=ya,a.a4=Xl,a.a5=Pt,a.a6=Re,a.a7=Pn,a.a8=Zh,a.a9=lf,a.aA=Yi,a.aB=lz,a.aC=pz,a.aD=sz,a.aE=function(p,l){const d=document.createElement("video");d.muted=!0,d.onloadstart=function(){l(null,d)};for(let g=0;g<p.length;g++){const S=document.createElement("source");Ks(p[g])||(d.crossOrigin="Anonymous"),S.src=p[g],d.appendChild(S)}return{cancel:()=>{}}},a.aF=o6,a.aG=function(p){return fetch(p).then(l=>l.arrayBuffer()).then(l=>nB(l,0,p))},a.aH=iB,a.aI=class{constructor(p,l,d,g){this.id=p,this.position=l!=null?new he(l[0],l[1]):new he(0,0),this.orientation=d??[0,0,0],this.nodes=g,this.uploaded=!1,this.aabb=new Zi([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),this.matrix=[]}_applyTransformations(p,l){if(Re.mat4.multiply(p.matrix,l,p.matrix),p.meshes)for(const d of p.meshes){const g=Zi.applyTransformFast(d.aabb,p.matrix);this.aabb.encapsulate(g)}if(p.children)for(const d of p.children)this._applyTransformations(d,p.matrix)}computeBoundsAndApplyParent(){const p=Re.mat4.identity([]);for(const l of this.nodes)this._applyTransformations(l,p)}computeModelMatrix(p,l,d,g,S,y,C=!1){Mz(this.matrix,this,p.transform,this.position,l,d,g,S,y,C)}upload(p){if(!this.uploaded){for(const l of this.nodes)zM(l,p);for(const l of this.nodes)h6(l);this.uploaded=!0}}destroy(){for(const p of this.nodes)BM(p)}},a.aJ=yn,a.aK=b1,a.aL=Ke,a.aM=qe,a.aN=Lc,a.aO=xo,a.aP=wi,a.aQ=Av,a.aR=i6,a.aS=function(){ls.isLoading()||ls.isLoaded()||Fy()!=="deferred"||Ny()},a.aT=Ml,a.aU=Sn,a.aV=oB,a.aW=si,a.aX=dM,a.aY=tM,a.aZ=xn,a.a_=Pc,a.aa=_r,a.ab=Ln,a.ac=Ep,a.ad=class{constructor(p){this.specification=p}possiblyEvaluate(p,l){return function([d,g]){const S=Nr([1,d,g]);return{x:S.x,y:S.y,z:S.z}}(p.expression.evaluate(l))}interpolate(p,l,d){return{x:_r(p.x,l.x,d),y:_r(p.y,l.y,d),z:_r(p.z,l.z,d)}}},a.ae=function(p,l,d=0,g=!0){const S=new Ze(d,d),y=p.sub(S),C=l.add(S),R=[y,new Ze(C.x,y.y),C,new Ze(y.x,C.y)];return g&&R.push(y.clone()),R},a.af=function(p,l){const d=[];for(let g=0;g<p.length;g++){const S=rr(g-1,-1,p.length-1),y=rr(g+1,-1,p.length-1),C=p[g],R=p[y],N=p[S].sub(C).unit(),H=R.sub(C).unit(),P=H.angleWithSep(N.x,N.y),O=N.add(H).unit().mult(-1*l/Math.sin(P/2));d.push(C.add(O))}return d},a.ag=q9,a.ah=Ys,a.ai=function(p,l,d=0){return Re.vec3.fromValues(((l.x-d)*p.scale-p.x)*Ln,(l.y*p.scale-p.y)*Ln,at(l.z,l.y))},a.aj=Uu,a.ak=f9,a.al=function(p){let l=1/0,d=1/0,g=-1/0,S=-1/0;for(const y of p)l=Math.min(l,y.x),d=Math.min(d,y.y),g=Math.max(g,y.x),S=Math.max(S,y.y);return{min:new Ze(l,d),max:new Ze(g,S)}},a.am=He,a.an=ea,a.ao=cn,a.ap=St,a.aq=c,a.ar=function(p,l){const d={};for(let g=0;g<l.length;g++){const S=l[g];S in p&&(d[S]=p[S])}return d},a.as=Ce,a.at=Ge,a.au=class{constructor(p){this.entries={},this.scheduler=p}request(p,l,d,g){const S=this.entries[p]=this.entries[p]||{callbacks:[]};if(S.result){const[y,C]=S.result;return this.scheduler?this.scheduler.add(()=>{g(y,C)},l):g(y,C),()=>{}}return S.callbacks.push(g),S.cancel||(S.cancel=d((y,C)=>{S.result=[y,C];for(const R of S.callbacks)this.scheduler?this.scheduler.add(()=>{R(y,C)},l):R(y,C);setTimeout(()=>delete this.entries[p],3e3)})),()=>{S.result||(S.callbacks=S.callbacks.filter(y=>y!==g),S.callbacks.length||(S.cancel(),delete this.entries[p]))}}},a.av=_4,a.aw=function(p,l,d){const g=JSON.stringify(p.request);return p.data&&(this.deduped.entries[g]={result:[null,p.data]}),this.deduped.request(g,{type:"parseTile",isSymbolTile:p.isSymbolTile,zoom:p.tileZoom},S=>{const y=Th(p.request,(C,R,N,H)=>{C?S(C):R&&S(null,{vectorTile:d?void 0:new Dv.VectorTile(new W4(R)),rawData:R,cacheControl:N,expires:H})});return()=>{y.cancel(),S()}},l)},a.ax=function(p){ia++,ia>li&&(p.getActor().send("enforceCacheSizeLimit",dr),ia=0)},a.ay=bn,a.az=function(p){return p<=1?1:Math.pow(2,Math.floor(Math.log(p)/Math.LN2))},a.b=function(p){return ut.API_FONTS_REGEX.test(p)},a.b$=function(p){const{x:l,y:d}=p.point,{lng:g,lat:S}=p._center;return aO(l,d,p.worldSize,g,S)},a.b0=Xs,a.b1=ba,a.b2=o1,a.b3=AM,a.b4=function(p,l){const d=lf(l.zoom);if(d===0)return Bc(p);const g=L4(p),S=WT(g),y=He(g.getWest())*l.worldSize,C=He(g.getEast())*l.worldSize,R=Ge(g.getNorth())*l.worldSize,N=Ge(g.getSouth())*l.worldSize,H=[y,R,0],P=[C,R,0],O=[y,N,0],V=[C,N,0],F=Re.mat4.invert([],l.globeMatrix);return Re.vec3.transformMat4(H,H,F),Re.vec3.transformMat4(P,P,F),Re.vec3.transformMat4(O,O,F),Re.vec3.transformMat4(V,V,F),S[0]=Od(S[0],O,d),S[1]=Od(S[1],V,d),S[2]=Od(S[2],P,d),S[3]=Od(S[3],H,d),Zi.fromPoints(S)},a.b5=D4,a.b6=i1,a.b7=Od,a.b8=wv,a.b9=us,a.bA=rr,a.bB=zt,a.bC=qs,a.bD=$e,a.bE=function(p,l,d){p[4*l+0]=d[0],p[4*l+1]=d[1],p[4*l+2]=d[2],p[4*l+3]=d[3]},a.bF=em,a.bG=Jl,a.bH=e1,a.bI=Fo,a.bJ=Ld,a.bK=he,a.bL=J9,a.bM=eo,a.bN=sf,a.bO=vz,a.bP=oo,a.bQ=nO,a.bR=function(p,l,d,g,S,y,C,R,N){if(N.name==="globe")return nO(p,l,new oo(d,g,S),!1);const H=b1({z:d,x:g,y:S},N);return new Zi([(y+H.x/H.scale)*l,l*(H.y/H.scale),C],[(y+H.x2/H.scale)*l,l*(H.y2/H.scale),R])},a.bS=function(p,l,d){let g=0;for(let S=0;S<2;++S)p[S]>0&&(g+=(p[S]-0)*(p[S]-0)),l[S]<0&&(g+=(0-l[S])*(0-l[S]));return g},a.bT=nt,a.bU=w,a.bV=function(p){const l=Re.mat4.identity(new Float64Array(16));Re.mat4.multiply(l,p.pixelMatrix,p.globeMatrix);const d=[0,j,0],g=[0,K,0];return Re.vec3.transformMat4(d,d,l),Re.vec3.transformMat4(g,g,l),[d[0]>0&&d[0]<=p.width&&d[1]>0&&d[1]<=p.height&&!YT(p,new he(p.center.lat,90)),g[0]>0&&g[0]<=p.width&&g[1]>0&&g[1]<=p.height&&!YT(p,new he(p.center.lat,-90))]},a.bW=function(p,l){const{scale:d}=p.tileTransform,g=d*Ln/(p.tileSize*Math.pow(2,l.zoom-p.tileID.overscaledZ+p.tileID.canonical.z));return Re.mat2.scale(new Float32Array(4),l.inverseAdjustmentMatrix,[g,g])},a.bX=u6,a.bY=mz,a.bZ=function(p){const l=mz(p,!0);return Re.mat2.invert([],[l[0],l[1],l[4],l[5]])},a.b_=zc,a.ba=HM,a.bb=W4,a.bc=Th,a.bd=function(p){const l=[];for(const d in p)l.push(p[d]);return l},a.be=function(p,l){const d=[];for(const g in p)g in l||d.push(g);return d},a.bf=cr,a.bg=["type","source","source-layer","minzoom","maxzoom","filter","layout"],a.bh=nn,a.bi=function(p,l){const{x:d,y:g}=p.point,S=aO(d,g,p.worldSize/p._pixelsPerMercatorPixel,0,0);return Re.mat4.multiply(S,S,qT(Bc(l)))},a.bj=Ov,a.bk=Al,a.bl=G4,a.bm=function(p,l,d,g,S){const y=5*l+2;p.float32[y+0]=d,p.float32[y+1]=g,p.float32[y+2]=S},a.bn=r6,a.bo=z9,a.bp=In,a.bq=Mo,a.br=FO,a.bs=bz,a.bt=UO,a.bu=jO,a.bv=wM,a.bw=U9,a.bx=_M,a.by=KM,a.bz=Ii,a.c=Tt,a.c$=Yo,a.c0=tn,a.c1=Ko,a.c2=f,a.c3=function(p){const l=Math.round((p+45+360)%360/90)%4;return fn[l]},a.c4=45,a.c5=ke,a.c6=Pv,a.c7=function(p,l,d){const g=Math.sqrt(p*p+l*l+d*d),S=g>0?Math.acos(d/g)*Ft:0;let y=p!==0||l!==0?Math.atan2(-l,-p)*Ft+90:0;return y<0&&(y+=360),[g,y,S]},a.c8=ct,a.c9=Zi,a.cA=function(p){const l=nt-5;p=St(p,-l,l)/l*90;const d=Math.pow(Math.abs(Math.sin(zt(p))),3);return Math.round(d*(D.length-1))},a.cB=function(p,l,d,g){const S=l.getNorth(),y=l.getSouth(),C=l.getWest(),R=l.getEast(),N=1<<p.z,H=R-C,P=S-y,O=H/L,V=-P/D[d],F=[0,O,0,V,0,0,S,C,0];if(p.z>0){const $=180/g;Re.mat3.multiply(F,F,[$/H+1,0,0,0,$/P+1,0,-.5*$/O,.5*$/V,1])}return F[2]=N,F[5]=p.x,F[8]=p.y,F},a.cC=Bc,a.cD=function(p,l,d){const g=Re.mat4.identity(new Float64Array(16)),S=(l/(1<<p)-.5)*Math.PI*2;return Re.mat4.rotateY(g,d.globeMatrix,S),Float32Array.from(g)},a.cE=class{isDataAvailableAtPoint(p){const l=this._source();if(this.isUsingMockSource()||!l||p.y<0||p.y>1)return!1;const d=l.getSource().maxzoom,g=1<<d,S=Math.floor(p.x),y=Math.floor((p.x-S)*g),C=Math.floor(p.y*g),R=this.findDEMTileFor(new Yi(d,S,d,y,C));return!(!R||!R.dem)}getAtPointOrZero(p,l=0){return this.getAtPoint(p,l)||0}getAtPoint(p,l,d=!0){if(this.isUsingMockSource())return null;l==null&&(l=null);const g=this._source();if(!g||p.y<0||p.y>1)return l;const S=g.getSource().maxzoom,y=1<<S,C=Math.floor(p.x),R=p.x-C,N=new Yi(S,C,S,Math.floor(R*y),Math.floor(p.y*y)),H=this.findDEMTileFor(N);if(!H||!H.dem)return l;const P=H.dem,O=1<<H.tileID.canonical.z,V=(R*O-H.tileID.canonical.x)*P.dim,F=(p.y*O-H.tileID.canonical.y)*P.dim,$=Math.floor(V),G=Math.floor(F);return(d?this.exaggeration():1)*_r(_r(P.get($,G),P.get($,G+1),F-G),_r(P.get($+1,G),P.get($+1,G+1),F-G),V-$)}getAtTileOffset(p,l,d){const g=1<<p.canonical.z;return this.getAtPointOrZero(new Pt(p.wrap+(p.canonical.x+l/Ln)/g,(p.canonical.y+d/Ln)/g))}getAtTileOffsetFunc(p,l,d,g){return S=>{const y=this.getAtTileOffset(p,S.x,S.y),C=g.upVector(p.canonical,S.x,S.y),R=g.upVectorScale(p.canonical,l,d).metersToTile;return Re.vec3.scale(C,C,y*R),C}}getForTilePoints(p,l,d,g){if(this.isUsingMockSource())return!1;const S=Vv.create(this,p,g);return!!S&&(l.forEach(y=>{y[2]=this.exaggeration()*S.getElevationAt(y[0],y[1],d)}),!0)}getMinMaxForTile(p){if(this.isUsingMockSource())return null;const l=this.findDEMTileFor(p);if(!l||!l.dem)return null;const d=l.dem.tree,g=l.tileID,S=1<<p.canonical.z-g.canonical.z;let y=p.canonical.x/S-g.canonical.x,C=p.canonical.y/S-g.canonical.y,R=0;for(let N=0;N<p.canonical.z-g.canonical.z&&!d.leaves[R];N++){y*=2,C*=2;const H=2*Math.floor(C)+Math.floor(y);R=d.childOffsets[R]+H,y%=1,C%=1}return{min:this.exaggeration()*d.minimums[R],max:this.exaggeration()*d.maximums[R]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(p,l,d){throw new Error("Pure virtual method called.")}pointCoordinate(p){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(p){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}getMinMaxForVisibleTiles(){const p=this.visibleDemTiles;if(p.length===0)return null;let l=!1,d=Number.MAX_VALUE,g=Number.MIN_VALUE;for(const S of p){const y=this.getMinMaxForTile(S.tileID);y&&(d=Math.min(d,y.min),g=Math.max(g,y.max),l=!0)}return l?{min:d,max:g}:null}},a.cF=_O,a.cG=Dd,a.cH=function(p,l){return[Math.pow(p[0],2.2)*l,Math.pow(p[1],2.2)*l,Math.pow(p[2],2.2)*l]},a.cI=iO,a.cJ=Xe,a.cK=Oe,a.cL=256,a.cM=function(p,l){const d=[0,0,0],g=D4(Bc(l.canonical));return Re.vec3.transformMat4(d,d,g),Re.vec3.transformMat4(d,d,p),d},a.cN=p=>({u_camera_to_center_distance:new Fo(p),u_extrude_scale:new n1(p),u_device_pixel_ratio:new Fo(p),u_matrix:new em(p),u_inv_rot_matrix:new em(p),u_merc_center:new Jl(p),u_tile_id:new e1(p),u_zoom_transition:new Fo(p),u_up_dir:new e1(p),u_emissive_strength:new Fo(p)}),a.cO=p=>({u_matrix:new em(p),u_pixels_to_tile_units:new n1(p),u_device_pixel_ratio:new Fo(p),u_units_to_pixels:new Jl(p),u_dash_image:new Ld(p),u_gradient_image:new Ld(p),u_image_height:new Fo(p),u_texsize:new Jl(p),u_tile_units_to_pixels:new Fo(p),u_alpha_discard_threshold:new Fo(p),u_trim_offset:new Jl(p),u_trim_fade_range:new Jl(p),u_trim_color:new Pv(p),u_emissive_strength:new Fo(p)}),a.cP=p=>({u_matrix:new em(p),u_texsize:new Jl(p),u_pixels_to_tile_units:new n1(p),u_device_pixel_ratio:new Fo(p),u_image:new Ld(p),u_units_to_pixels:new Jl(p),u_tile_units_to_pixels:new Fo(p),u_alpha_discard_threshold:new Fo(p),u_trim_offset:new Jl(p)}),a.cQ=qo,a.cR=Yre,a.cS=Zre,a.cT=lO,a.cU=(p,l,d,g,S,y)=>{const C=p.transform,R=C.projection.name==="globe";let N;if(y.paint.get("circle-pitch-alignment")==="map")if(R){const P=iO(C.zoom,l.canonical)*C._pixelsPerMercatorPixel;N=Float32Array.from([P,0,0,P])}else N=C.calculatePixelsToTileUnitsMatrix(d);else N=new Float32Array([C.pixelsToGLUnits[0],0,0,C.pixelsToGLUnits[1]]);const H={u_camera_to_center_distance:p.transform.getCameraToCenterDistance(C.projection),u_matrix:p.translatePosMatrix(l.projMatrix,d,y.paint.get("circle-translate"),y.paint.get("circle-translate-anchor")),u_device_pixel_ratio:Rn.devicePixelRatio,u_extrude_scale:N,u_inv_rot_matrix:Qne,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0],u_emissive_strength:y.paint.get("circle-emissive-strength")};if(R){H.u_inv_rot_matrix=g,H.u_merc_center=S,H.u_tile_id=[l.canonical.x,l.canonical.y,1<<l.canonical.z],H.u_zoom_transition=lf(C.zoom);const P=S[0]*Ln,O=S[1]*Ln;H.u_up_dir=C.projection.upVector(new oo(0,0,0),P,O)}return H},a.cV=v9,a.cW=(p,l,d,g,S,y)=>{const C=p.transform;return{u_matrix:m9(p,l,d,g),u_texsize:l.imageAtlasTexture?l.imageAtlasTexture.size:[0,0],u_pixels_to_tile_units:C.calculatePixelsToTileUnitsMatrix(l),u_device_pixel_ratio:S,u_image:0,u_tile_units_to_pixels:p9(l,C),u_units_to_pixels:[1/C.pixelsToGLUnits[0],1/C.pixelsToGLUnits[1]],u_alpha_discard_threshold:0,u_trim_offset:y}},a.cX=(p,l,d,g,S,y,C)=>{const R=p.transform,N=R.calculatePixelsToTileUnitsMatrix(l);return{u_matrix:m9(p,l,d,g),u_pixels_to_tile_units:N,u_device_pixel_ratio:y,u_units_to_pixels:[1/R.pixelsToGLUnits[0],1/R.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:S,u_texsize:g9(d)&&l.lineAtlasTexture?l.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:p9(l,p.transform),u_alpha_discard_threshold:0,u_trim_offset:C,u_trim_fade_range:d.paint.get("line-trim-fade-range"),u_trim_color:d.paint.get("line-trim-color").toRenderColor(d.lut).toArray01(),u_emissive_strength:d.paint.get("line-emissive-strength")}},a.cY=Bt,a.cZ=a1,a.c_=r9,a.ca=Nr,a.cb=function(p){return[Math.pow(p[0],1/2.2),Math.pow(p[1],1/2.2),Math.pow(p[2],1/2.2)]},a.cc=function(p){return p({pluginStatus:uo,pluginURL:kc}),By.on("pluginStateChange",p),p},a.cd=Hv,a.ce=m6,a.cf=Bv,a.cg=bM,a.ch=J_,a.ci=f4,a.cj=gr,a.ck=is,a.cl=qn,a.cm=function(p){const l=p.indexOf(Jh);return l>=0?p.slice(0,l):p},a.cn=function(p){return p.indexOf(Jh)>=0},a.co=function(p){const l=p.indexOf(Jh);return l>=0?p.slice(l+1):""},a.cp=function(p){const l=[],d=p.id;return d===void 0&&l.push({message:`layers.${d}: missing required property "id"`}),p.render===void 0&&l.push({message:`layers.${d}: missing required method "render"`}),p.renderingMode&&p.renderingMode!=="2d"&&p.renderingMode!=="3d"&&l.push({message:`layers.${d}: property "renderingMode" must be either "2d" or "3d"`}),l},a.cq=function(p,l,d,g){return p.type==="custom"?new Eie(p,l):new Fie[p.type](p,l,d,g)},a.cr=Xt,a.cs=By,a.ct=Cp,a.cu=t1,a.cv=class extends Hu{constructor(p){super(p),this.current=NT}set(p,l,d){if(this.fetchUniformLocation(p,l)){for(let g=0;g<9;g++)if(d[g]!==this.current[g]){this.current=d,this.gl.uniformMatrix3fv(this.location,!1,d);break}}}},a.cw=hn,a.cx=function(p,l,d){const g=lf(d.zoom),S=p.style.map._antialias,y=l.options.extStandardDerivativesForceOff||p.terrain&&p.terrain.exaggeration()>0;return g===0&&!S&&!y},a.cy=function(p){const l=p.pixelsPerMeter,d=l/$e(1,p.center.lat),g=Re.mat4.identity(new Float64Array(16));return Re.mat4.translate(g,g,[p.point.x,p.point.y,0]),Re.mat4.scale(g,g,[d,d,l]),Float32Array.from(g)},a.cz=L4,a.d=function(p){return ut.API_TILEJSON_REGEX.test(p)},a.d$=h,a.d0=j4,a.d1=cf,a.d2=450,a.d3=7,a.d4=Mie,a.d5=yi,a.d6=Mv,a.d7=256,a.d8=qT,a.d9=Rc,a.dA=oO,a.dB=function(p){const l=[0,0,0],d=Re.mat4.identity(new Float64Array(16));return Re.mat4.multiply(d,p.pixelMatrix,p.globeMatrix),Re.vec3.transformMat4(l,l,d),new Ze(l[0],l[1])},a.dC=function(p,l,d=!1){if(uo===Up||uo===jp||uo===vv)throw new Error("setRTLTextPlugin cannot be called multiple times.");kc=Rn.resolveURL(p),uo=Up,Kh=l,zy(),d||Ny()},a.dD=Fy,a.dE=function(){m6().acquire(UM)},a.dF=function(){const p=L1;p&&(p.isPreloaded()&&p.numActive()===1?(p.release(UM),L1=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},a.dG=P1,a.dH=function(p){const l=xr();if(!l)return;const d=l.delete(hr);p&&d.catch(p).then(()=>p())},a.dI=k1,a.dJ=Yz,a.dK=function(p){jM=Rn.resolveURL(p),Gv||(Gv=new Hv(m6(),new Eh)),Gv.broadcast("setDracoUrl",jM)},a.dL=Zz,a.dM=function(p){jv=Rn.resolveURL(p),Gv||(Gv=new Hv(m6(),new Eh)),Gv.broadcast("setMeshoptUrl",jv)},a.dN=Un,a.dO=uf,a.dP=Gu,a.dQ=aB,a.dR=sB,a.dS=u9,a.dT=Zt,a.dU=F9,a.dV=function(p,l,d,g,S,y,C,R,N,H,P){p.createArrays(),p.tilePixelRatio=Ln/(512*p.overscaling),p.compareText={},p.iconsNeedLinear=!1;const O=p.layers[0].layout,V=p.layers[0]._unevaluatedLayout._values,F={};if(p.textSizeData.kind==="composite"){const{minZoom:ee,maxZoom:de}=p.textSizeData;F.compositeTextSizes=[V["text-size"].possiblyEvaluate(new ya(ee),R),V["text-size"].possiblyEvaluate(new ya(de),R)]}if(p.iconSizeData.kind==="composite"){const{minZoom:ee,maxZoom:de}=p.iconSizeData;F.compositeIconSizes=[V["icon-size"].possiblyEvaluate(new ya(ee),R),V["icon-size"].possiblyEvaluate(new ya(de),R)]}F.layoutTextSize=V["text-size"].possiblyEvaluate(new ya(N+1),R),F.layoutIconSize=V["icon-size"].possiblyEvaluate(new ya(N+1),R),F.textMaxSize=V["text-size"].possiblyEvaluate(new ya(18),R);const $=O.get("text-rotation-alignment")==="map"&&O.get("symbol-placement")!=="point",G=O.get("text-size");let Y=!1;for(const ee of p.features)if(ee.icon&&ee.icon.nameSecondary){Y=!0;break}for(const ee of p.features){const de=O.get("text-font").evaluate(ee,{},R).join(","),fe=G.evaluate(ee,{},R),ne=F.layoutTextSize.evaluate(ee,{},R),ve=(F.layoutIconSize.evaluate(ee,{},R),{horizontal:{},vertical:void 0}),we=ee.text;let De,Ve=[0,0];if(we){const Qe=we.toString(),We=O.get("text-letter-spacing").evaluate(ee,{},R)*Mo,it=O.get("text-line-height").evaluate(ee,{},R)*Mo,mt=ET(Qe)?We:0,yt=O.get("text-anchor").evaluate(ee,{},R),xt=O.get("text-variable-anchor");if(!xt){const dn=O.get("text-radial-offset").evaluate(ee,{},R);Ve=dn?U9(yt,[dn*Mo,xM]):O.get("text-offset").evaluate(ee,{},R).map(qt=>qt*Mo)}let Et=$?"center":O.get("text-justify").evaluate(ee,{},R);const $t=O.get("symbol-placement")==="point",At=$t?O.get("text-max-width").evaluate(ee,{},R)*Mo:1/0,Jt=dn=>{p.allowVerticalPlacement&&fv(Qe)&&(ve.vertical=gM(we,l,d,S,de,At,it,yt,dn,mt,Ve,Al.vertical,!0,ne,fe))};if(!$&&xt){const dn=Et==="auto"?xt.map(Bn=>wM(Bn)):[Et];let qt=!1;for(let Bn=0;Bn<dn.length;Bn++){const kn=dn[Bn];if(!ve.horizontal[kn])if(qt)ve.horizontal[kn]=ve.horizontal[0];else{const wn=gM(we,l,d,S,de,At,it,"center",kn,mt,Ve,Al.horizontal,!1,ne,fe);wn&&(ve.horizontal[kn]=wn,qt=wn.positionedLines.length===1)}}Jt("left")}else{if(Et==="auto"&&(Et=wM(yt)),$t||O.get("text-writing-mode").indexOf("horizontal")>=0||!fv(Qe)){const dn=gM(we,l,d,S,de,At,it,yt,Et,mt,Ve,Al.horizontal,!1,ne,fe);dn&&(ve.horizontal[Et]=dn)}Jt($t?"left":Et)}}let Ue=!1;if(ee.icon&&ee.icon.namePrimary){const Qe=g[ee.icon.namePrimary];Qe&&(De=oie(S[ee.icon.namePrimary],ee.icon.nameSecondary?S[ee.icon.nameSecondary]:void 0,O.get("icon-offset").evaluate(ee,{},R),O.get("icon-anchor").evaluate(ee,{},R)),Ue=Qe.sdf,p.sdfIcons===void 0?p.sdfIcons=Qe.sdf:p.sdfIcons!==Qe.sdf&&Mt("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Qe.pixelRatio!==p.pixelRatio||O.get("icon-rotate").constantOr(1)!==0)&&(p.iconsNeedLinear=!0))}const ze=G9(ve.horizontal)||ve.vertical;p.iconsInText||(p.iconsInText=!!ze&&ze.iconsInText),(ze||De)&&fie(p,ee,ve,De,g,F,ne,0,Ve,Ue,C,R,H,P,Y)}y&&p.generateCollisionDebugBuffers(N,p.collisionBoxArray)},a.dW=Dv,a.dX=p6,a.dY=et,a.dZ=DO,a.d_=S9,a.da=Vu,a.db=Yy,a.dc=function(p,l,d,g,S){return St((p-l)/(d-l)*(S-g)+g,g,S)},a.dd=av,a.de=gt,a.df=class{constructor(p,l,d,g){this.context=p,this.format=g,this.size=d,this.texture=p.gl.createTexture();const[S,y,C]=this.size,{gl:R}=p;R.bindTexture(R.TEXTURE_3D,this.texture),p.pixelStoreUnpackFlipY.set(!1),p.pixelStoreUnpack.set(1),p.pixelStoreUnpackPremultiplyAlpha.set(!1),R.texImage3D(R.TEXTURE_3D,0,this.format,S,y,C,0,IM(this.format),kM(this.format),l.data)}bind(p,l){const{context:d}=this,{gl:g}=d;g.bindTexture(g.TEXTURE_3D,this.texture),p!==this.minFilter&&(g.texParameteri(g.TEXTURE_3D,g.TEXTURE_MAG_FILTER,p),g.texParameteri(g.TEXTURE_3D,g.TEXTURE_MIN_FILTER,p),this.minFilter=p),l!==this.wrapS&&(g.texParameteri(g.TEXTURE_3D,g.TEXTURE_WRAP_S,l),g.texParameteri(g.TEXTURE_3D,g.TEXTURE_WRAP_T,l),this.wrapS=l)}destroy(){const{gl:p}=this.context;p.deleteTexture(this.texture),this.texture=null}},a.dg=DM,a.dh=[1,1,1],a.di=Vv,a.dj=$v,a.dk=Dc,a.dl=class{constructor(){this._updateTime=0,this._sourceIds=[],this._activeRegions=[],this._prevRegions=[],this._globalClipBounds={min:new Ze(1/0,1/0),max:new Ze(-1/0,-1/0)}}clear(){this._activeRegions.length>0&&++this._updateTime,this._activeRegions=[],this._prevRegions=[]}get updateTime(){return this._updateTime}getReplacementRegionsForTile(p,l=!1){const d=$O(new Ze(0,0),new Ze(Ln,Ln),p),g=[];if(l&&!oM(d,this._globalClipBounds))return g;for(const S of this._activeRegions){if(S.hiddenByOverlap||!oM(d,S))continue;const y=wre(S.min,S.max,p);g.push({min:y.min,max:y.max,sourceId:this._sourceIds[S.priority],footprint:S.footprint,footprintTileId:S.tileId,order:S.order,clipMask:S.clipMask,clipScope:S.clipScope})}return g}setSources(p){this._setSources(p.map(l=>({getSourceId:()=>l.cache.id,getFootprints:()=>{const d=[];for(const g of l.cache.getVisibleCoordinates()){const S=l.cache.getTile(g).buckets[l.layer];S&&S.updateFootprints(g.toUnwrapped(),d)}return d},getOrder:()=>l.order,getClipMask:()=>l.clipMask,getClipScope:()=>l.clipScope})))}_addSource(p){const l=p.getFootprints();if(l.length===0)return;const d=p.getOrder(),g=p.getClipMask(),S=p.getClipScope();for(const y of l){if(!y.footprint)continue;const C=$O(y.footprint.min,y.footprint.max,y.id);this._activeRegions.push({min:C.min,max:C.max,hiddenByOverlap:!1,priority:this._sourceIds.length,tileId:y.id,footprint:y.footprint,order:d,clipMask:g,clipScope:S})}this._sourceIds.push(p.getSourceId())}_computeReplacement(){this._activeRegions.sort((l,d)=>l.priority-d.priority||H4(l.min,d.min)||H4(l.max,d.max)||l.order-d.order||l.clipMask-d.clipMask||function(g,S){const y=(C,R)=>C+R;return g.length-S.length||g.reduce(y,"").localeCompare(S.reduce(y,""))}(l.clipScope,d.clipScope));let p=this._activeRegions.length!==this._prevRegions.length;if(!p){let l=0;for(;!p&&l!==this._activeRegions.length;){const d=this._activeRegions[l],g=this._prevRegions[l];p=d.priority!==g.priority||!NO(d,g)||d.order!==g.order||d.clipMask!==g.clipMask||!nn(d.clipScope,g.clipScope),++l}}if(p){++this._updateTime;for(const d of this._activeRegions)d.order!==V4&&(this._globalClipBounds.min.x=Math.min(this._globalClipBounds.min.x,d.min.x),this._globalClipBounds.min.y=Math.min(this._globalClipBounds.min.y,d.min.y),this._globalClipBounds.max.x=Math.max(this._globalClipBounds.max.x,d.max.x),this._globalClipBounds.max.y=Math.max(this._globalClipBounds.max.y,d.max.y));const l=d=>{const g=this._activeRegions;if(d>=g.length)return d;const S=g[d].priority;for(;d<g.length&&g[d].priority===S;)++d;return d};if(this._sourceIds.length>1){let d=0,g=l(d);for(;d!==g;){let S=d;const y=d;for(;S!==g;){const C=this._activeRegions[S];C.hiddenByOverlap=!1;for(let R=0;R<y;R++){const N=this._activeRegions[R];if(!N.hiddenByOverlap&&C.order===V4&&oM(C,N)&&(C.hiddenByOverlap=HO(C.footprint,C.tileId,N.footprint,N.tileId),C.hiddenByOverlap))break}++S}d=g,g=l(d)}}}}_setSources(p){[this._prevRegions,this._activeRegions]=[this._activeRegions,[]],this._sourceIds=[];for(let l=p.length-1;l>=0;l--)this._addSource(p[l]);this._computeReplacement()}},a.dm=class{constructor(p){this._createGrid(p),this._createPoles(p)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const p of this._poleSegments)p.destroy();for(const p of this._gridSegments)p.withSkirts.destroy(),p.withoutSkirts.destroy()}_fillGridMeshWithLods(p,l){const d=new Pc,g=new xo,S=[],y=p+1+2,C=l[0]+1,R=l[0]+1+(1+l.length),N=(H,P,O)=>{let V=H===y-1?H-2:H===0?H:H-1;return V+=O?24575:0,[V,P]};for(let H=0;H<y;++H)d.emplaceBack(...N(H,0,!0));for(let H=0;H<C;++H)for(let P=0;P<y;++P)d.emplaceBack(...N(P,H,(P===0||P===y-1)&&!0));for(let H=0;H<l.length;++H){const P=l[H];for(let O=0;O<y;++O)d.emplaceBack(...N(O,P,!0))}for(let H=0;H<l.length;++H){const P=g.length,O=l[H]+1+2,V=new xo;for(let G=0;G<O-1;G++){const Y=G===O-2,ee=Y?y*(R-l.length+H-G):y;for(let de=0;de<y-1;de++){const fe=G*y+de;G===0||Y||de===0||de===y-2?(V.emplaceBack(fe+1,fe,fe+ee),V.emplaceBack(fe+ee,fe+ee+1,fe+1)):(g.emplaceBack(fe+1,fe,fe+ee),g.emplaceBack(fe+ee,fe+ee+1,fe+1))}}const F=ba.simpleSegment(0,P,d.length,g.length-P);for(let G=0;G<V.uint16.length;G+=3)g.emplaceBack(V.uint16[G],V.uint16[G+1],V.uint16[G+2]);const $=ba.simpleSegment(0,P,d.length,g.length-P);S.push({withoutSkirts:F,withSkirts:$})}return{vertices:d,indices:g,segments:S}}_createGrid(p){const l=this._fillGridMeshWithLods(L,D);this._gridSegments=l.segments,this._gridBuffer=p.createVertexBuffer(l.vertices,Xs.members),this._gridIndexBuffer=p.createIndexBuffer(l.indices,!0)}_createPoles(p){const l=new xo;for(let C=0;C<=L;C++)l.emplaceBack(0,C+1,C+2);this._poleIndexBuffer=p.createIndexBuffer(l,!0);const d=new Vu,g=new Vu,S=new Vu,y=new Vu;this._poleSegments=[];for(let C=0,R=0;C<f;C++){const N=360/(1<<C);d.emplaceBack(0,-c,0,.5,0),g.emplaceBack(0,-c,0,.5,1),S.emplaceBack(0,-c,0,.5,.5),y.emplaceBack(0,-c,0,.5,.5);for(let H=0;H<=L;H++){let P=H/L,O=0;const V=_r(0,N,P),[F,$,G]=Z(Xne,Jne,V,c);d.emplaceBack(F,$,G,P,O),g.emplaceBack(F,$,G,P,1-O);const Y=zt(V);P=.5+.5*Math.sin(Y),O=.5+.5*Math.cos(Y),S.emplaceBack(F,$,G,P,O),y.emplaceBack(F,$,G,P,1-O)}this._poleSegments.push(ba.simpleSegment(R,0,66,64)),R+=66}this._poleNorthVertexBuffer=p.createVertexBuffer(d,Ps,!1),this._poleSouthVertexBuffer=p.createVertexBuffer(g,Ps,!1),this._texturedPoleNorthVertexBuffer=p.createVertexBuffer(S,Ps,!1),this._texturedPoleSouthVertexBuffer=p.createVertexBuffer(y,Ps,!1)}getGridBuffers(p,l){return[this._gridBuffer,this._gridIndexBuffer,l?this._gridSegments[p].withSkirts:this._gridSegments[p].withoutSkirts]}getPoleBuffers(p,l){return[l?this._texturedPoleNorthVertexBuffer:this._poleNorthVertexBuffer,l?this._texturedPoleSouthVertexBuffer:this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[p]]}},a.dn=V4,a.dp=Dn,a.dq=function(){return!!document.fullscreenElement||!!document.webkitFullscreenElement},a.dr=ln,a.ds=ft,a.dt=J,a.du=function([p,l,d]){const g=Math.hypot(p,l,d),S=Math.atan2(p,d),y=.5*Math.PI-Math.acos(-l/g);return new he(tn(S),tn(y))},a.dv=RM,a.dw=oe,a.dx=function(p){const l=p.navigator?p.navigator.userAgent:null;return!!function(d){if(Wl==null){const g=d.navigator?d.navigator.userAgent:null;Wl=!!d.safari||!(!g||!(/\b(iPad|iPhone|iPod)\b/.test(g)||g.match("Safari")&&!g.match("Chrome")))}return Wl}(p)&&l&&(l.match("Version/15.4")||l.match("Version/15.5")||l.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},a.dy=function(p,l){dr=p,li=l},a.dz=YT,a.e=ut,a.e0=function(p){let l=0;if(new Uint32Array(p,0,1)[0]!==Jz){const d=new Uint32Array(p,0,7),[,,g,S,y,C]=d;l=d.byteLength+S+y+C+y,(g!==p.byteLength||l>=p.byteLength)&&Mt("Invalid b3dm header information.")}return nB(p,l)},a.e1=function(p,l){const d=iB(p);for(const g of d){for(const S of g.meshes)Cae(S);g.lights&&(g.lightMeshIndex=g.meshes.length,g.meshes.push(Tae(g.lights,l)))}return d},a.e2=f6,a.e3=Lz,a.e4=ls,a.e5=function(p){Oi(),Cn!=null&&Cn.then(l=>{l.keys().then(d=>{for(let g=0;g<d.length-p;g++)l.delete(d[g])})})},a.f=function(p){return p.indexOf("mapbox:")===0},a.g=function(p,l){return Cp(sr(p,{method:"GET"}),l)},a.h=ot,a.i=function(p){return ut.API_STYLE_REGEX.test(p)&&!Tt(p)},a.j=function(p){return decodeURIComponent(atob(p).split("").map(l=>"%"+("00"+l.charCodeAt(0).toString(16)).slice(-2)).join(""))},a.k=function(p){return btoa(encodeURIComponent(p).replace(/%([0-9A-F]{2})/g,(l,d)=>String.fromCharCode(+("0x"+d))))},a.l=sr,a.m=bo,a.n=function(p,l){return Cp(sr(p,{type:"json"}),l)},a.o=ql,a.p=function(p,l){return Cp(sr(p,{method:"POST"}),l)},a.q=Rn,a.r=Zo,a.s=function(p){try{const l=self[p];return l.setItem("_mapbox_test_",1),l.removeItem("_mapbox_test_"),!0}catch{return!1}},a.t=Mp,a.u=function(){return function p(l){return l?(l^Math.random()*(16>>l/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,p)}()},a.v=function(p){return!!p&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(p)},a.w=Mt,a.x=Cc,a.y=2,a.z=B9}),s(["./shared"],function(a){function h(Ht){const Pe=Ht?Ht.url.toString():void 0;return Pe?performance.getEntriesByName(Pe):[]}function m(Ht){if(typeof Ht=="number"||typeof Ht=="boolean"||typeof Ht=="string"||Ht==null)return JSON.stringify(Ht);if(Array.isArray(Ht)){let Oe="[";for(const Xe of Ht)Oe+=`${m(Xe)},`;return`${Oe}]`}let Pe="{";for(const Oe of Object.keys(Ht).sort())Pe+=`${Oe}:${m(Ht[Oe])},`;return`${Pe}}`}function v(Ht){let Pe="";for(const Oe of a.bg)Pe+=`/${m(Ht[Oe])}`;return Pe}class _{constructor(Pe){this.keyCache={},this._layers={},this._layerConfigs={},Pe&&this.replace(Pe)}replace(Pe,Oe){this._layerConfigs={},this._layers={},this.update(Pe,[],Oe)}update(Pe,Oe,Xe){this._options=Xe;for(const ot of Pe)this._layerConfigs[ot.id]=ot,(this._layers[ot.id]=a.cq(ot,this.scope,null,this._options)).compileFilter(Xe),this.keyCache[ot.id]&&delete this.keyCache[ot.id];for(const ot of Oe)delete this.keyCache[ot],delete this._layerConfigs[ot],delete this._layers[ot];this.familiesBySource={};const ut=function(ot,Tt){const Ut={};for(let jt=0;jt<ot.length;jt++){const rt=Tt&&Tt[ot[jt].id]||v(ot[jt]);Tt&&(Tt[ot[jt].id]=rt);let _t=Ut[rt];_t||(_t=Ut[rt]=[]),_t.push(ot[jt])}const kt=[];for(const jt in Ut)kt.push(Ut[jt]);return kt}(a.bd(this._layerConfigs),this.keyCache);for(const ot of ut){const Tt=ot.map(rn=>this._layers[rn.id]),Ut=Tt[0];if(Ut.visibility==="none")continue;const kt=Ut.source||"";let jt=this.familiesBySource[kt];jt||(jt=this.familiesBySource[kt]={});const rt=Ut.sourceLayer||"_geojsonTileLayer";let _t=jt[rt];_t||(_t=jt[rt]=[]),_t.push(Tt)}}}const b=1*a.dP;class T{constructor(Pe){const Oe={},Xe=[];for(const Ut in Pe){const kt=Pe[Ut],jt=Oe[Ut]={};for(const rt in kt.glyphs){const _t=kt.glyphs[+rt];if(!_t||_t.bitmap.width===0||_t.bitmap.height===0)continue;const rn=_t.metrics.localGlyph?b:1,bn={x:0,y:0,w:_t.bitmap.width+2*rn,h:_t.bitmap.height+2*rn};Xe.push(bn),jt[rt]=bn}}const{w:ut,h:ot}=a.z(Xe),Tt=new a.dO({width:ut||1,height:ot||1});for(const Ut in Pe){const kt=Pe[Ut];for(const jt in kt.glyphs){const rt=kt.glyphs[+jt];if(!rt||rt.bitmap.width===0||rt.bitmap.height===0)continue;const _t=Oe[Ut][jt],rn=rt.metrics.localGlyph?b:1;a.dO.copy(rt.bitmap,Tt,{x:0,y:0},{x:_t.x+rn,y:_t.y+rn},rt.bitmap)}}this.image=Tt,this.positions=Oe}}a.dN(T,"GlyphAtlas");class M{constructor(Pe){this.tileID=new a.aA(Pe.tileID.overscaledZ,Pe.tileID.wrap,Pe.tileID.canonical.z,Pe.tileID.canonical.x,Pe.tileID.canonical.y),this.tileZoom=Pe.tileZoom,this.uid=Pe.uid,this.zoom=Pe.zoom,this.lut=Pe.lut,this.canonical=Pe.tileID.canonical,this.pixelRatio=Pe.pixelRatio,this.tileSize=Pe.tileSize,this.source=Pe.source,this.scope=Pe.scope,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=Pe.showCollisionBoxes,this.collectResourceTiming=!!Pe.collectResourceTiming,this.promoteId=Pe.promoteId,this.isSymbolTile=Pe.isSymbolTile,this.tileTransform=a.aK(Pe.tileID.canonical,Pe.projection),this.projection=Pe.projection,this.brightness=Pe.brightness,this.extraShadowCaster=!!Pe.extraShadowCaster,this.tessellationStep=Pe.tessellationStep}parse(Pe,Oe,Xe,ut,ot){this.status="parsing",this.data=Pe,this.collisionBoxArray=new a.aQ;const Tt=new a.dQ(Object.keys(Pe.layers).sort()),Ut=new a.dR(this.tileID,this.promoteId);Ut.bucketLayerIDs=[];const kt={},jt=new a.dS(256,256),rt={featureIndex:Ut,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:jt,availableImages:Xe,brightness:this.brightness},_t=Oe.familiesBySource[this.source];for(const dr in _t){const li=Pe.layers[dr];if(!li)continue;let an=!1,Cn=!1,Yn=!1;for(const ia of _t[dr])ia[0].type==="symbol"?an=!0:Cn=!0,ia[0].is3D()&&ia[0].type!=="model"&&(Yn=!0);if(this.extraShadowCaster&&!Yn||this.isSymbolTile===!0&&!an||this.isSymbolTile===!1&&!Cn)continue;li.version===1&&a.w(`Vector tile source "${this.source}" layer "${dr}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const xr=Tt.encode(dr),Oi=[];for(let ia=0;ia<li.length;ia++){const bo=li.feature(ia),yl=Ut.getId(bo,dr);Oi.push({feature:bo,id:yl,index:ia,sourceLayerIndex:xr})}for(const ia of _t[dr]){const bo=ia[0];(!this.extraShadowCaster||bo.is3D()&&bo.type!=="model")&&(this.isSymbolTile!==void 0&&bo.type==="symbol"!==this.isSymbolTile||bo.minzoom&&this.zoom<Math.floor(bo.minzoom)||bo.maxzoom&&this.zoom>=bo.maxzoom||bo.visibility!=="none"&&(E(ia,this.zoom,rt.brightness,Xe),(kt[bo.id]=bo.createBucket({index:Ut.bucketLayerIDs.length,layers:ia,zoom:this.zoom,lut:this.lut,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:xr,sourceID:this.source,projection:this.projection.spec,tessellationStep:this.tessellationStep})).populate(Oi,rt,this.tileID.canonical,this.tileTransform),Ut.bucketLayerIDs.push(ia.map(yl=>yl.id))))}}let rn,bn,Rn,mr;jt.trim();const gr={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},hr=()=>{if(rn)return this.status="done",ot(rn);if(this.extraShadowCaster)this.status="done",ot(null,{buckets:a.bd(kt).filter(dr=>!dr.isEmpty()),featureIndex:Ut,collisionBoxArray:null,glyphAtlasImage:null,lineAtlas:null,imageAtlas:null,brightness:rt.brightness,glyphMap:null,iconMap:null,glyphPositions:null});else if(bn&&Rn&&mr){const dr=new T(bn),li=new a.dU(Rn,mr,this.lut);for(const an in kt){const Cn=kt[an];Cn instanceof a.aR?(E(Cn.layers,this.zoom,rt.brightness,Xe),a.dV(Cn,bn,dr.positions,Rn,li.iconPositions,this.showCollisionBoxes,Xe,this.tileID.canonical,this.tileZoom,this.projection,this.brightness)):Cn.hasPattern&&(Cn instanceof a.aX||Cn instanceof a.aY||Cn instanceof a.d0)&&(E(Cn.layers,this.zoom,rt.brightness,Xe),Cn.addFeatures(rt,this.tileID.canonical,li.patternPositions,Xe,this.tileTransform,this.brightness))}this.status="done",ot(null,{buckets:a.bd(kt).filter(an=>!an.isEmpty()),featureIndex:Ut,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:dr.image,lineAtlas:jt,imageAtlas:li,brightness:rt.brightness})}};if(!this.extraShadowCaster){const dr=a.dT(rt.glyphDependencies,Cn=>Object.keys(Cn).map(Number));Object.keys(dr).length?ut.send("getGlyphs",{uid:this.uid,stacks:dr,scope:this.scope},(Cn,Yn)=>{rn||(rn=Cn,bn=Yn,hr())},void 0,!1,gr):bn={};const li=Object.keys(rt.iconDependencies);li.length?ut.send("getImages",{icons:li,source:this.source,scope:this.scope,tileID:this.tileID,type:"icons"},(Cn,Yn)=>{rn||(rn=Cn,Rn=Yn,hr())},void 0,!1,gr):Rn={};const an=Object.keys(rt.patternDependencies);an.length?ut.send("getImages",{icons:an,source:this.source,scope:this.scope,tileID:this.tileID,type:"patterns"},(Cn,Yn)=>{rn||(rn=Cn,mr=Yn,hr())},void 0,!1,gr):mr={}}hr()}}function E(Ht,Pe,Oe,Xe){const ut=new a.a3(Pe,{brightness:Oe});for(const ot of Ht)ot.recalculate(ut,Xe)}class k extends a.E{constructor(Pe,Oe,Xe,ut,ot,Tt){super(),this.actor=Pe,this.layerIndex=Oe,this.availableImages=Xe,this.loadVectorData=ot||a.aw,this.loading={},this.loaded={},this.deduped=new a.au(Pe.scheduler),this.isSpriteLoaded=ut,this.scheduler=Pe.scheduler,this.brightness=Tt}loadTile(Pe,Oe){const Xe=Pe.uid,ut=Pe&&Pe.request,ot=ut&&ut.collectResourceTiming,Tt=this.loading[Xe]=new M(Pe);Tt.abort=this.loadVectorData(Pe,(Ut,kt)=>{const jt=!this.loading[Xe];if(delete this.loading[Xe],jt||Ut||!kt)return Tt.status="done",jt||(this.loaded[Xe]=Tt),Oe(Ut);const rt=kt.rawData,_t={};kt.expires&&(_t.expires=kt.expires),kt.cacheControl&&(_t.cacheControl=kt.cacheControl),Tt.vectorTile=kt.vectorTile||new a.dW.VectorTile(new a.bb(rt));const rn=()=>{Tt.parse(Tt.vectorTile,this.layerIndex,this.availableImages,this.actor,(bn,Rn)=>{if(bn||!Rn)return Oe(bn);const mr={};if(ot){const gr=h(ut);gr.length>0&&(mr.resourceTiming=JSON.parse(JSON.stringify(gr)))}Oe(null,a.l({rawTileData:rt.slice(0)},Rn,_t,mr))})};this.isSpriteLoaded?rn():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(rn,{type:"parseTile",isSymbolTile:Pe.isSymbolTile,zoom:Pe.tileZoom}):rn()}),this.loaded=this.loaded||{},this.loaded[Xe]=Tt})}reloadTile(Pe,Oe){const Xe=this.loaded,ut=Pe.uid;if(Xe&&Xe[ut]){const ot=Xe[ut];ot.showCollisionBoxes=Pe.showCollisionBoxes,ot.projection=Pe.projection,ot.brightness=Pe.brightness,ot.tileTransform=a.aK(Pe.tileID.canonical,Pe.projection),ot.extraShadowCaster=Pe.extraShadowCaster,ot.lut=Pe.lut;const Tt=(Ut,kt)=>{const jt=ot.reloadCallback;jt&&(delete ot.reloadCallback,ot.parse(ot.vectorTile,this.layerIndex,this.availableImages,this.actor,jt)),Oe(Ut,kt)};ot.status==="parsing"?ot.reloadCallback=Tt:ot.status==="done"&&(ot.vectorTile?ot.parse(ot.vectorTile,this.layerIndex,this.availableImages,this.actor,Tt):Tt())}else Oe(null,void 0)}abortTile(Pe,Oe){const Xe=Pe.uid,ut=this.loading[Xe];ut&&(ut.abort&&ut.abort(),delete this.loading[Xe]),Oe()}removeTile(Pe,Oe){const Xe=this.loaded,ut=Pe.uid;Xe&&Xe[ut]&&delete Xe[ut],Oe()}}class z{loadTile(Pe,Oe){const{uid:Xe,encoding:ut,rawImageData:ot,padding:Tt}=Pe,Ut=ImageBitmap&&ot instanceof ImageBitmap?this.getImageData(ot,Tt):ot;Oe(null,new a.dX(Xe,Ut,ut,Tt<1))}getImageData(Pe,Oe){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(Pe.width,Pe.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=Pe.width,this.offscreenCanvas.height=Pe.height,this.offscreenCanvasContext.drawImage(Pe,0,0,Pe.width,Pe.height);const Xe=this.offscreenCanvasContext.getImageData(-Oe,-Oe,Pe.width+2*Oe,Pe.height+2*Oe);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),Xe}}a.ba.setPbf(a.bb);class B{decodeRasterArray({task:Pe,buffer:Oe},Xe){a.ba.performDecoding(Oe,Pe).then(ut=>{Xe(null,ut)},ut=>{Xe(ut)})}}const U=a.dW.VectorTileFeature.prototype.toGeoJSON;class W{constructor(Pe){this._feature=Pe,this.extent=a.ab,this.type=Pe.type,this.properties=Pe.tags,"id"in Pe&&!isNaN(Pe.id)&&(this.id=parseInt(Pe.id,10))}loadGeometry(){if(this._feature.type===1){const Pe=[];for(const Oe of this._feature.geometry)Pe.push([new a.P(Oe[0],Oe[1])]);return Pe}{const Pe=[];for(const Oe of this._feature.geometry){const Xe=[];for(const ut of Oe)Xe.push(new a.P(ut[0],ut[1]));Pe.push(Xe)}return Pe}}toGeoJSON(Pe,Oe,Xe){return U.call(this,Pe,Oe,Xe)}}class q{constructor(Pe){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.ab,this.length=Pe.length,this._features=Pe}feature(Pe){return new W(this._features[Pe])}}const Q=64/4096,te=128;class ie{constructor(){this.features=new Map}clear(){this.features.clear()}load(Pe=[],Oe){for(const Xe of Pe){const ut=Xe.id;if(ut==null)continue;let ot=this.features.get(ut);ot&&this.updateCache(ot,Oe),Xe.geometry?(ot=re(Xe),this.updateCache(ot,Oe),this.features.set(ut,ot)):this.features.delete(ut),this.updateCache(ot,Oe)}}updateCache(Pe,Oe){for(const{canonical:Xe,uid:ut}of Object.values(Oe)){const{z:ot,x:Tt,y:Ut}=Xe;ae(Pe,Math.pow(2,ot),Tt,Ut)&&delete Oe[ut]}}getTile(Pe,Oe,Xe){const ut=Math.pow(2,Pe),ot=[];for(const Tt of this.features.values())ae(Tt,ut,Oe,Xe)&&ot.push(Se(Tt,ut,Oe,Xe));return{features:ot}}getFeatures(){return[...this.features.values()]}}function ae({minX:Ht,minY:Pe,maxX:Oe,maxY:Xe},ut,ot,Tt){return Ht<(ot+1+Q)/ut&&Pe<(Tt+1+Q)/ut&&Oe>(ot-Q)/ut&&Xe>(Tt-Q)/ut}function re(Ht){const{id:Pe,geometry:Oe,properties:Xe}=Ht;if(!Oe)return;if(Oe.type==="GeometryCollection")throw new Error("GeometryCollection not supported in dynamic mode.");const{type:ut,coordinates:ot}=Oe,Tt={id:Pe,type:1,geometry:[],tags:Xe,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0},Ut=Tt.geometry;if(ut==="Point")se(ot,Ut,Tt);else if(ut==="MultiPoint")for(const kt of ot)se(kt,Ut,Tt);else if(ut==="LineString")Tt.type=2,be(ot,Ut,Tt);else if(ut==="MultiLineString")Tt.type=2,Ie(ot,Ut,Tt);else if(ut==="Polygon")Tt.type=3,Ie(ot,Ut,Tt,!0);else{if(ut!=="MultiPolygon")throw new Error("Input data is not a valid GeoJSON object.");Tt.type=3;for(const kt of ot)Ie(kt,Ut,Tt,!0)}return Tt}function se([Ht,Pe],Oe,Xe){const ut=a.am(Ht);let ot=a.at(Pe);ot=ot<0?0:ot>1?1:ot,Oe.push(ut,ot),Xe.minX=Math.min(Xe.minX,ut),Xe.minY=Math.min(Xe.minY,ot),Xe.maxX=Math.max(Xe.maxX,ut),Xe.maxY=Math.max(Xe.maxY,ot)}function be(Ht,Pe,Oe,Xe=!1,ut=!1){const ot=[];for(const Tt of Ht)se(Tt,ot,Oe);Pe.push(ot),Xe&&function(Tt,Ut){let kt=0;for(let jt=0,rt=Tt.length,_t=rt-2;jt<rt;_t=jt,jt+=2)kt+=(Tt[jt]-Tt[_t])*(Tt[jt+1]+Tt[_t+1]);if(kt>0===Ut)for(let jt=0,rt=Tt.length;jt<rt/2;jt+=2){const _t=Tt[jt],rn=Tt[jt+1];Tt[jt]=Tt[rt-2-jt],Tt[jt+1]=Tt[rt-1-jt],Tt[rt-2-jt]=_t,Tt[rt-1-jt]=rn}}(ot,ut)}function Ie(Ht,Pe,Oe,Xe=!1){for(let ut=0;ut<Ht.length;ut++)be(Ht[ut],Pe,Oe,Xe,ut===0)}function Se(Ht,Pe,Oe,Xe){const{id:ut,type:ot,geometry:Tt,tags:Ut}=Ht,kt=[];if(ot===1)(function(jt,rt,_t,rn,bn){for(let Rn=0;Rn<jt.length;Rn+=2){const mr=Math.round(a.ab*(jt[Rn+0]*rt-_t)),gr=Math.round(a.ab*(jt[Rn+1]*rt-rn));bn.push([mr,gr])}})(Tt,Pe,Oe,Xe,kt);else for(const jt of Tt)me(jt,Pe,Oe,Xe,kt);return{id:ut,type:ot,geometry:kt,tags:Ut}}function me(Ht,Pe,Oe,Xe,ut){const ot=-te,Tt=a.ab+te;let Ut;for(let kt=0;kt<Ht.length-2;kt+=2){let jt=Math.round(a.ab*(Ht[kt+0]*Pe-Oe)),rt=Math.round(a.ab*(Ht[kt+1]*Pe-Xe)),_t=Math.round(a.ab*(Ht[kt+2]*Pe-Oe)),rn=Math.round(a.ab*(Ht[kt+3]*Pe-Xe));const bn=_t-jt,Rn=rn-rt;jt<ot&&_t<ot||(jt<ot?(rt+=Math.round(Rn*((ot-jt)/bn)),jt=ot):_t<ot&&(rn=rt+Math.round(Rn*((ot-jt)/bn)),_t=ot),rt<ot&&rn<ot||(rt<ot?(jt+=Math.round(bn*((ot-rt)/Rn)),rt=ot):rn<ot&&(_t=jt+Math.round(bn*((ot-rt)/Rn)),rn=ot),jt>=Tt&&_t>=Tt||(jt>=Tt?(rt+=Math.round(Rn*((Tt-jt)/bn)),jt=Tt):_t>=Tt&&(rn=rt+Math.round(Rn*((Tt-jt)/bn)),_t=Tt),rt>=Tt&&rn>=Tt||(rt>=Tt?(jt+=Math.round(bn*((Tt-rt)/Rn)),rt=Tt):rn>=Tt&&(_t=jt+Math.round(bn*((Tt-rt)/Rn)),rn=Tt),Ut&&jt===Ut[Ut.length-1][0]&&rt===Ut[Ut.length-1][1]||(Ut=[[jt,rt]],ut.push(Ut)),Ut.push([_t,rn])))))}}var Le,Ee,_e,xe={exports:{}},Be=function(){if(_e)return xe.exports;_e=1;var Ht=a.d_(),Pe=function(){if(Ee)return Le;Ee=1;var rt=a.dY(),_t=a.dZ().VectorTileFeature;function rn(Rn,mr){this.options=mr||{},this.features=Rn,this.length=Rn.length}function bn(Rn,mr){this.id=typeof Rn.id=="number"?Rn.id:void 0,this.type=Rn.type,this.rawGeometry=Rn.type===1?[Rn.geometry]:Rn.geometry,this.properties=Rn.tags,this.extent=mr||4096}return Le=rn,rn.prototype.feature=function(Rn){return new bn(this.features[Rn],this.options.extent)},bn.prototype.loadGeometry=function(){var Rn=this.rawGeometry;this.geometry=[];for(var mr=0;mr<Rn.length;mr++){for(var gr=Rn[mr],hr=[],dr=0;dr<gr.length;dr++)hr.push(new rt(gr[dr][0],gr[dr][1]));this.geometry.push(hr)}return this.geometry},bn.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Rn=this.geometry,mr=1/0,gr=-1/0,hr=1/0,dr=-1/0,li=0;li<Rn.length;li++)for(var an=Rn[li],Cn=0;Cn<an.length;Cn++){var Yn=an[Cn];mr=Math.min(mr,Yn.x),gr=Math.max(gr,Yn.x),hr=Math.min(hr,Yn.y),dr=Math.max(dr,Yn.y)}return[mr,hr,gr,dr]},bn.prototype.toGeoJSON=_t.prototype.toGeoJSON,Le}();function Oe(rt){var _t=new Ht;return function(rn,bn){for(var Rn in rn.layers)bn.writeMessage(3,Xe,rn.layers[Rn])}(rt,_t),_t.finish()}function Xe(rt,_t){var rn;_t.writeVarintField(15,rt.version||1),_t.writeStringField(1,rt.name||""),_t.writeVarintField(5,rt.extent||4096);var bn={keys:[],values:[],keycache:{},valuecache:{}};for(rn=0;rn<rt.length;rn++)bn.feature=rt.feature(rn),_t.writeMessage(2,ut,bn);var Rn=bn.keys;for(rn=0;rn<Rn.length;rn++)_t.writeStringField(3,Rn[rn]);var mr=bn.values;for(rn=0;rn<mr.length;rn++)_t.writeMessage(4,jt,mr[rn])}function ut(rt,_t){var rn=rt.feature;rn.id!==void 0&&_t.writeVarintField(1,rn.id),_t.writeMessage(2,ot,rt),_t.writeVarintField(3,rn.type),_t.writeMessage(4,kt,rn)}function ot(rt,_t){var rn=rt.feature,bn=rt.keys,Rn=rt.values,mr=rt.keycache,gr=rt.valuecache;for(var hr in rn.properties){var dr=rn.properties[hr],li=mr[hr];if(dr!==null){li===void 0&&(bn.push(hr),mr[hr]=li=bn.length-1),_t.writeVarint(li);var an=typeof dr;an!=="string"&&an!=="boolean"&&an!=="number"&&(dr=JSON.stringify(dr));var Cn=an+":"+dr,Yn=gr[Cn];Yn===void 0&&(Rn.push(dr),gr[Cn]=Yn=Rn.length-1),_t.writeVarint(Yn)}}}function Tt(rt,_t){return(_t<<3)+(7&rt)}function Ut(rt){return rt<<1^rt>>31}function kt(rt,_t){for(var rn=rt.loadGeometry(),bn=rt.type,Rn=0,mr=0,gr=rn.length,hr=0;hr<gr;hr++){var dr=rn[hr],li=1;bn===1&&(li=dr.length),_t.writeVarint(Tt(1,li));for(var an=bn===3?dr.length-1:dr.length,Cn=0;Cn<an;Cn++){Cn===1&&bn!==1&&_t.writeVarint(Tt(2,an-1));var Yn=dr[Cn].x-Rn,xr=dr[Cn].y-mr;_t.writeVarint(Ut(Yn)),_t.writeVarint(Ut(xr)),Rn+=Yn,mr+=xr}bn===3&&_t.writeVarint(Tt(7,1))}}function jt(rt,_t){var rn=typeof rt;rn==="string"?_t.writeStringField(1,rt):rn==="boolean"?_t.writeBooleanField(7,rt):rn==="number"&&(rt%1!=0?_t.writeDoubleField(3,rt):rt<0?_t.writeSVarintField(6,rt):_t.writeVarintField(5,rt))}return xe.exports=Oe,xe.exports.fromVectorTileJs=Oe,xe.exports.fromGeojsonVt=function(rt,_t){_t=_t||{};var rn={};for(var bn in rt)rn[bn]=new Pe(rt[bn].features,_t),rn[bn].name=bn,rn[bn].version=_t.version,rn[bn].extent=_t.extent;return Oe({layers:rn})},xe.exports.GeoJSONWrapper=Pe,xe.exports}(),Je=a.d$(Be);const Ye={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Ht=>Ht},lt=Math.fround||(Nt=new Float32Array(1),Ht=>(Nt[0]=+Ht,Nt[0]));var Nt;const Dt=3,je=5,Ct=6;class vt{constructor(Pe){this.options=Object.assign(Object.create(Ye),Pe),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(Pe){const{log:Oe,minZoom:Xe,maxZoom:ut}=this.options;Oe&&console.time("total time");const ot=`prepare ${Pe.length} points`;Oe&&console.time(ot),this.points=Pe;const Tt=[];for(let kt=0;kt<Pe.length;kt++){const jt=Pe[kt];if(!jt.geometry)continue;const[rt,_t]=jt.geometry.coordinates,rn=lt(pt(rt)),bn=lt(Ne(_t));Tt.push(rn,bn,1/0,kt,-1,1),this.options.reduce&&Tt.push(0)}let Ut=this.trees[ut+1]=this._createTree(Tt);Oe&&console.timeEnd(ot);for(let kt=ut;kt>=Xe;kt--){const jt=+Date.now();Ut=this.trees[kt]=this._createTree(this._cluster(Ut,kt)),Oe&&console.log("z%d: %d clusters in %dms",kt,Ut.numItems,+Date.now()-jt)}return Oe&&console.timeEnd("total time"),this}getClusters(Pe,Oe){let Xe=((Pe[0]+180)%360+360)%360-180;const ut=Math.max(-90,Math.min(90,Pe[1]));let ot=Pe[2]===180?180:((Pe[2]+180)%360+360)%360-180;const Tt=Math.max(-90,Math.min(90,Pe[3]));if(Pe[2]-Pe[0]>=360)Xe=-180,ot=180;else if(Xe>ot){const _t=this.getClusters([Xe,ut,180,Tt],Oe),rn=this.getClusters([-180,ut,ot,Tt],Oe);return _t.concat(rn)}const Ut=this.trees[this._limitZoom(Oe)],kt=Ut.range(pt(Xe),Ne(Tt),pt(ot),Ne(ut)),jt=Ut.data,rt=[];for(const _t of kt){const rn=this.stride*_t;rt.push(jt[rn+je]>1?Vt(jt,rn,this.clusterProps):this.points[jt[rn+Dt]])}return rt}getChildren(Pe){const Oe=this._getOriginId(Pe),Xe=this._getOriginZoom(Pe),ut="No cluster with the specified id.",ot=this.trees[Xe];if(!ot)throw new Error(ut);const Tt=ot.data;if(Oe*this.stride>=Tt.length)throw new Error(ut);const Ut=this.options.radius/(this.options.extent*Math.pow(2,Xe-1)),kt=ot.within(Tt[Oe*this.stride],Tt[Oe*this.stride+1],Ut),jt=[];for(const rt of kt){const _t=rt*this.stride;Tt[_t+4]===Pe&&jt.push(Tt[_t+je]>1?Vt(Tt,_t,this.clusterProps):this.points[Tt[_t+Dt]])}if(jt.length===0)throw new Error(ut);return jt}getLeaves(Pe,Oe,Xe){const ut=[];return this._appendLeaves(ut,Pe,Oe=Oe||10,Xe=Xe||0,0),ut}getTile(Pe,Oe,Xe){const ut=this.trees[this._limitZoom(Pe)],ot=Math.pow(2,Pe),{extent:Tt,radius:Ut}=this.options,kt=Ut/Tt,jt=(Xe-kt)/ot,rt=(Xe+1+kt)/ot,_t={features:[]};return this._addTileFeatures(ut.range((Oe-kt)/ot,jt,(Oe+1+kt)/ot,rt),ut.data,Oe,Xe,ot,_t),Oe===0&&this._addTileFeatures(ut.range(1-kt/ot,jt,1,rt),ut.data,ot,Xe,ot,_t),Oe===ot-1&&this._addTileFeatures(ut.range(0,jt,kt/ot,rt),ut.data,-1,Xe,ot,_t),_t.features.length?_t:null}getClusterExpansionZoom(Pe){let Oe=this._getOriginZoom(Pe)-1;for(;Oe<=this.options.maxZoom;){const Xe=this.getChildren(Pe);if(Oe++,Xe.length!==1)break;Pe=Xe[0].properties.cluster_id}return Oe}_appendLeaves(Pe,Oe,Xe,ut,ot){const Tt=this.getChildren(Oe);for(const Ut of Tt){const kt=Ut.properties;if(kt&&kt.cluster?ot+kt.point_count<=ut?ot+=kt.point_count:ot=this._appendLeaves(Pe,kt.cluster_id,Xe,ut,ot):ot<ut?ot++:Pe.push(Ut),Pe.length===Xe)break}return ot}_createTree(Pe){const Oe=new a.by(Pe.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Xe=0;Xe<Pe.length;Xe+=this.stride)Oe.add(Pe[Xe],Pe[Xe+1]);return Oe.finish(),Oe.data=Pe,Oe}_addTileFeatures(Pe,Oe,Xe,ut,ot,Tt){for(const Ut of Pe){const kt=Ut*this.stride,jt=Oe[kt+je]>1;let rt,_t,rn;if(jt)rt=Re(Oe,kt,this.clusterProps),_t=Oe[kt],rn=Oe[kt+1];else{const mr=this.points[Oe[kt+Dt]];rt=mr.properties;const[gr,hr]=mr.geometry.coordinates;_t=pt(gr),rn=Ne(hr)}const bn={type:1,geometry:[[Math.round(this.options.extent*(_t*ot-Xe)),Math.round(this.options.extent*(rn*ot-ut))]],tags:rt};let Rn;Rn=jt||this.options.generateId?Oe[kt+Dt]:this.points[Oe[kt+Dt]].id,Rn!==void 0&&(bn.id=Rn),Tt.features.push(bn)}}_limitZoom(Pe){return Math.max(this.options.minZoom,Math.min(Math.floor(+Pe),this.options.maxZoom+1))}_cluster(Pe,Oe){const{radius:Xe,extent:ut,reduce:ot,minPoints:Tt}=this.options,Ut=Xe/(ut*Math.pow(2,Oe)),kt=Pe.data,jt=[],rt=this.stride;for(let _t=0;_t<kt.length;_t+=rt){if(kt[_t+2]<=Oe)continue;kt[_t+2]=Oe;const rn=kt[_t],bn=kt[_t+1],Rn=Pe.within(kt[_t],kt[_t+1],Ut),mr=kt[_t+je];let gr=mr;for(const hr of Rn){const dr=hr*rt;kt[dr+2]>Oe&&(gr+=kt[dr+je])}if(gr>mr&&gr>=Tt){let hr,dr=rn*mr,li=bn*mr,an=-1;const Cn=(_t/rt<<5)+(Oe+1)+this.points.length;for(const Yn of Rn){const xr=Yn*rt;if(kt[xr+2]<=Oe)continue;kt[xr+2]=Oe;const Oi=kt[xr+je];dr+=kt[xr]*Oi,li+=kt[xr+1]*Oi,kt[xr+4]=Cn,ot&&(hr||(hr=this._map(kt,_t,!0),an=this.clusterProps.length,this.clusterProps.push(hr)),ot(hr,this._map(kt,xr)))}kt[_t+4]=Cn,jt.push(dr/gr,li/gr,1/0,Cn,-1,gr),ot&&jt.push(an)}else{for(let hr=0;hr<rt;hr++)jt.push(kt[_t+hr]);if(gr>1)for(const hr of Rn){const dr=hr*rt;if(!(kt[dr+2]<=Oe)){kt[dr+2]=Oe;for(let li=0;li<rt;li++)jt.push(kt[dr+li])}}}}return jt}_getOriginId(Pe){return Pe-this.points.length>>5}_getOriginZoom(Pe){return(Pe-this.points.length)%32}_map(Pe,Oe,Xe){if(Pe[Oe+je]>1){const Tt=this.clusterProps[Pe[Oe+Ct]];return Xe?Object.assign({},Tt):Tt}const ut=this.points[Pe[Oe+Dt]].properties,ot=this.options.map(ut);return Xe&&ot===ut?Object.assign({},ot):ot}}function Vt(Ht,Pe,Oe){return{type:"Feature",id:Ht[Pe+Dt],properties:Re(Ht,Pe,Oe),geometry:{type:"Point",coordinates:[(Xe=Ht[Pe],360*(Xe-.5)),et(Ht[Pe+1])]}};var Xe}function Re(Ht,Pe,Oe){const Xe=Ht[Pe+je],ut=Xe>=1e4?`${Math.round(Xe/1e3)}k`:Xe>=1e3?Math.round(Xe/100)/10+"k":Xe,ot=Ht[Pe+Ct],Tt=ot===-1?{}:Object.assign({},Oe[ot]);return Object.assign(Tt,{cluster:!0,cluster_id:Ht[Pe+Dt],point_count:Xe,point_count_abbreviated:ut})}function pt(Ht){return Ht/360+.5}function Ne(Ht){const Pe=Math.sin(Ht*Math.PI/180),Oe=.5-.25*Math.log((1+Pe)/(1-Pe))/Math.PI;return Oe<0?0:Oe>1?1:Oe}function et(Ht){const Pe=(180-360*Ht)*Math.PI/180;return 360*Math.atan(Math.exp(Pe))/Math.PI-90}function Ze(Ht,Pe,Oe,Xe){let ut=Xe;const ot=Pe+(Oe-Pe>>1);let Tt,Ut=Oe-Pe;const kt=Ht[Pe],jt=Ht[Pe+1],rt=Ht[Oe],_t=Ht[Oe+1];for(let rn=Pe+3;rn<Oe;rn+=3){const bn=nn(Ht[rn],Ht[rn+1],kt,jt,rt,_t);if(bn>ut)Tt=rn,ut=bn;else if(bn===ut){const Rn=Math.abs(rn-ot);Rn<Ut&&(Tt=rn,Ut=Rn)}}ut>Xe&&(Tt-Pe>3&&Ze(Ht,Pe,Tt,Xe),Ht[Tt+2]=ut,Oe-Tt>3&&Ze(Ht,Tt,Oe,Xe))}function nn(Ht,Pe,Oe,Xe,ut,ot){let Tt=ut-Oe,Ut=ot-Xe;if(Tt!==0||Ut!==0){const kt=((Ht-Oe)*Tt+(Pe-Xe)*Ut)/(Tt*Tt+Ut*Ut);kt>1?(Oe=ut,Xe=ot):kt>0&&(Oe+=Tt*kt,Xe+=Ut*kt)}return Tt=Ht-Oe,Ut=Pe-Xe,Tt*Tt+Ut*Ut}function It(Ht,Pe,Oe,Xe){const ut={id:Ht??null,type:Pe,geometry:Oe,tags:Xe,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(Pe==="Point"||Pe==="MultiPoint"||Pe==="LineString")Ft(ut,Oe);else if(Pe==="Polygon")Ft(ut,Oe[0]);else if(Pe==="MultiLineString")for(const ot of Oe)Ft(ut,ot);else if(Pe==="MultiPolygon")for(const ot of Oe)Ft(ut,ot[0]);return ut}function Ft(Ht,Pe){for(let Oe=0;Oe<Pe.length;Oe+=3)Ht.minX=Math.min(Ht.minX,Pe[Oe]),Ht.minY=Math.min(Ht.minY,Pe[Oe+1]),Ht.maxX=Math.max(Ht.maxX,Pe[Oe]),Ht.maxY=Math.max(Ht.maxY,Pe[Oe+1])}function zt(Ht,Pe,Oe,Xe){if(!Pe.geometry)return;const ut=Pe.geometry.coordinates;if(ut&&ut.length===0)return;const ot=Pe.geometry.type,Tt=Math.pow(Oe.tolerance/((1<<Oe.maxZoom)*Oe.extent),2);let Ut=[],kt=Pe.id;if(Oe.promoteId?kt=Pe.properties[Oe.promoteId]:Oe.generateId&&(kt=Xe||0),ot==="Point")tn(ut,Ut);else if(ot==="MultiPoint")for(const jt of ut)tn(jt,Ut);else if(ot==="LineString")fn(ut,Ut,Tt,!1);else if(ot==="MultiLineString"){if(Oe.lineMetrics){for(const jt of ut)Ut=[],fn(jt,Ut,Tt,!1),Ht.push(It(kt,"LineString",Ut,Pe.properties));return}hn(ut,Ut,Tt,!1)}else if(ot==="Polygon")hn(ut,Ut,Tt,!0);else{if(ot!=="MultiPolygon"){if(ot==="GeometryCollection"){for(const jt of Pe.geometry.geometries)zt(Ht,{id:kt,geometry:jt,properties:Pe.properties},Oe,Xe);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const jt of ut){const rt=[];hn(jt,rt,Tt,!0),Ut.push(rt)}}Ht.push(It(kt,ot,Ut,Pe.properties))}function tn(Ht,Pe){Pe.push(Dn(Ht[0]),ln(Ht[1]),0)}function fn(Ht,Pe,Oe,Xe){let ut,ot,Tt=0;for(let kt=0;kt<Ht.length;kt++){const jt=Dn(Ht[kt][0]),rt=ln(Ht[kt][1]);Pe.push(jt,rt,0),kt>0&&(Tt+=Xe?(ut*rt-jt*ot)/2:Math.sqrt(Math.pow(jt-ut,2)+Math.pow(rt-ot,2))),ut=jt,ot=rt}const Ut=Pe.length-3;Pe[2]=1,Ze(Pe,0,Ut,Oe),Pe[Ut+2]=1,Pe.size=Math.abs(Tt),Pe.start=0,Pe.end=Pe.size}function hn(Ht,Pe,Oe,Xe){for(let ut=0;ut<Ht.length;ut++){const ot=[];fn(Ht[ut],ot,Oe,Xe),Pe.push(ot)}}function Dn(Ht){return Ht/360+.5}function ln(Ht){const Pe=Math.sin(Ht*Math.PI/180),Oe=.5-.25*Math.log((1+Pe)/(1-Pe))/Math.PI;return Oe<0?0:Oe>1?1:Oe}function St(Ht,Pe,Oe,Xe,ut,ot,Tt,Ut){if(Xe/=Pe,ot>=(Oe/=Pe)&&Tt<Xe)return Ht;if(Tt<Oe||ot>=Xe)return null;const kt=[];for(const jt of Ht){const rt=jt.geometry;let _t=jt.type;const rn=ut===0?jt.minX:jt.minY,bn=ut===0?jt.maxX:jt.maxY;if(rn>=Oe&&bn<Xe){kt.push(jt);continue}if(bn<Oe||rn>=Xe)continue;let Rn=[];if(_t==="Point"||_t==="MultiPoint")Pn(rt,Rn,Oe,Xe,ut);else if(_t==="LineString")rr(rt,Rn,Oe,Xe,ut,!1,Ut.lineMetrics);else if(_t==="MultiLineString")sr(rt,Rn,Oe,Xe,ut,!1);else if(_t==="Polygon")sr(rt,Rn,Oe,Xe,ut,!0);else if(_t==="MultiPolygon")for(const mr of rt){const gr=[];sr(mr,gr,Oe,Xe,ut,!0),gr.length&&Rn.push(gr)}if(Rn.length){if(Ut.lineMetrics&&_t==="LineString"){for(const mr of Rn)kt.push(It(jt.id,_t,mr,jt.tags));continue}_t!=="LineString"&&_t!=="MultiLineString"||(Rn.length===1?(_t="LineString",Rn=Rn[0]):_t="MultiLineString"),_t!=="Point"&&_t!=="MultiPoint"||(_t=Rn.length===3?"Point":"MultiPoint"),kt.push(It(jt.id,_t,Rn,jt.tags))}}return kt.length?kt:null}function Pn(Ht,Pe,Oe,Xe,ut){for(let ot=0;ot<Ht.length;ot+=3){const Tt=Ht[ot+ut];Tt>=Oe&&Tt<=Xe&&Xr(Pe,Ht[ot],Ht[ot+1],Ht[ot+2])}}function rr(Ht,Pe,Oe,Xe,ut,ot,Tt){let Ut=cr(Ht);const kt=ut===0?wi:Bt;let jt,rt,_t=Ht.start;for(let gr=0;gr<Ht.length-3;gr+=3){const hr=Ht[gr],dr=Ht[gr+1],li=Ht[gr+2],an=Ht[gr+3],Cn=Ht[gr+4],Yn=ut===0?hr:dr,xr=ut===0?an:Cn;let Oi=!1;Tt&&(jt=Math.sqrt(Math.pow(hr-an,2)+Math.pow(dr-Cn,2))),Yn<Oe?xr>Oe&&(rt=kt(Ut,hr,dr,an,Cn,Oe),Tt&&(Ut.start=_t+jt*rt)):Yn>Xe?xr<Xe&&(rt=kt(Ut,hr,dr,an,Cn,Xe),Tt&&(Ut.start=_t+jt*rt)):Xr(Ut,hr,dr,li),xr<Oe&&Yn>=Oe&&(rt=kt(Ut,hr,dr,an,Cn,Oe),Oi=!0),xr>Xe&&Yn<=Xe&&(rt=kt(Ut,hr,dr,an,Cn,Xe),Oi=!0),!ot&&Oi&&(Tt&&(Ut.end=_t+jt*rt),Pe.push(Ut),Ut=cr(Ht)),Tt&&(_t+=jt)}let rn=Ht.length-3;const bn=Ht[rn],Rn=Ht[rn+1],mr=ut===0?bn:Rn;mr>=Oe&&mr<=Xe&&Xr(Ut,bn,Rn,Ht[rn+2]),rn=Ut.length-3,ot&&rn>=3&&(Ut[rn]!==Ut[0]||Ut[rn+1]!==Ut[1])&&Xr(Ut,Ut[0],Ut[1],Ut[2]),Ut.length&&Pe.push(Ut)}function cr(Ht){const Pe=[];return Pe.size=Ht.size,Pe.start=Ht.start,Pe.end=Ht.end,Pe}function sr(Ht,Pe,Oe,Xe,ut,ot){for(const Tt of Ht)rr(Tt,Pe,Oe,Xe,ut,ot,!1)}function Xr(Ht,Pe,Oe,Xe){Ht.push(Pe,Oe,Xe)}function wi(Ht,Pe,Oe,Xe,ut,ot){const Tt=(ot-Pe)/(Xe-Pe);return Xr(Ht,ot,Oe+(ut-Oe)*Tt,1),Tt}function Bt(Ht,Pe,Oe,Xe,ut,ot){const Tt=(ot-Oe)/(ut-Oe);return Xr(Ht,Pe+(Xe-Pe)*Tt,ot,1),Tt}function yn(Ht,Pe){const Oe=[];for(let Xe=0;Xe<Ht.length;Xe++){const ut=Ht[Xe],ot=ut.type;let Tt;if(ot==="Point"||ot==="MultiPoint"||ot==="LineString")Tt=ht(ut.geometry,Pe);else if(ot==="MultiLineString"||ot==="Polygon"){Tt=[];for(const Ut of ut.geometry)Tt.push(ht(Ut,Pe))}else if(ot==="MultiPolygon"){Tt=[];for(const Ut of ut.geometry){const kt=[];for(const jt of Ut)kt.push(ht(jt,Pe));Tt.push(kt)}}Oe.push(It(ut.id,ot,Tt,ut.tags))}return Oe}function ht(Ht,Pe){const Oe=[];Oe.size=Ht.size,Ht.start!==void 0&&(Oe.start=Ht.start,Oe.end=Ht.end);for(let Xe=0;Xe<Ht.length;Xe+=3)Oe.push(Ht[Xe]+Pe,Ht[Xe+1],Ht[Xe+2]);return Oe}function Zt(Ht,Pe){if(Ht.transformed)return Ht;const Oe=1<<Ht.z,Xe=Ht.x,ut=Ht.y;for(const ot of Ht.features){const Tt=ot.geometry,Ut=ot.type;if(ot.geometry=[],Ut===1)for(let kt=0;kt<Tt.length;kt+=2)ot.geometry.push(Xt(Tt[kt],Tt[kt+1],Pe,Oe,Xe,ut));else for(let kt=0;kt<Tt.length;kt++){const jt=[];for(let rt=0;rt<Tt[kt].length;rt+=2)jt.push(Xt(Tt[kt][rt],Tt[kt][rt+1],Pe,Oe,Xe,ut));ot.geometry.push(jt)}}return Ht.transformed=!0,Ht}function Xt(Ht,Pe,Oe,Xe,ut,ot){return[Math.round(Oe*(Ht*Xe-ut)),Math.round(Oe*(Pe*Xe-ot))]}function qn(Ht,Pe,Oe,Xe,ut){const ot=Pe===ut.maxZoom?0:ut.tolerance/((1<<Pe)*ut.extent),Tt={features:[],numPoints:0,numSimplified:0,numFeatures:Ht.length,source:null,x:Oe,y:Xe,z:Pe,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const Ut of Ht)Qr(Tt,Ut,ot,ut);return Tt}function Qr(Ht,Pe,Oe,Xe){const ut=Pe.geometry,ot=Pe.type,Tt=[];if(Ht.minX=Math.min(Ht.minX,Pe.minX),Ht.minY=Math.min(Ht.minY,Pe.minY),Ht.maxX=Math.max(Ht.maxX,Pe.maxX),Ht.maxY=Math.max(Ht.maxY,Pe.maxY),ot==="Point"||ot==="MultiPoint")for(let Ut=0;Ut<ut.length;Ut+=3)Tt.push(ut[Ut],ut[Ut+1]),Ht.numPoints++,Ht.numSimplified++;else if(ot==="LineString")Mt(Tt,ut,Ht,Oe,!1,!1);else if(ot==="MultiLineString"||ot==="Polygon")for(let Ut=0;Ut<ut.length;Ut++)Mt(Tt,ut[Ut],Ht,Oe,ot==="Polygon",Ut===0);else if(ot==="MultiPolygon")for(let Ut=0;Ut<ut.length;Ut++){const kt=ut[Ut];for(let jt=0;jt<kt.length;jt++)Mt(Tt,kt[jt],Ht,Oe,!0,jt===0)}if(Tt.length){let Ut=Pe.tags||null;if(ot==="LineString"&&Xe.lineMetrics){Ut={};for(const jt in Pe.tags)Ut[jt]=Pe.tags[jt];Ut.mapbox_clip_start=ut.start/ut.size,Ut.mapbox_clip_end=ut.end/ut.size}const kt={geometry:Tt,type:ot==="Polygon"||ot==="MultiPolygon"?3:ot==="LineString"||ot==="MultiLineString"?2:1,tags:Ut};Pe.id!==null&&(kt.id=Pe.id),Ht.features.push(kt)}}function Mt(Ht,Pe,Oe,Xe,ut,ot){const Tt=Xe*Xe;if(Xe>0&&Pe.size<(ut?Tt:Xe))return void(Oe.numPoints+=Pe.length/3);const Ut=[];for(let kt=0;kt<Pe.length;kt+=3)(Xe===0||Pe[kt+2]>Tt)&&(Oe.numSimplified++,Ut.push(Pe[kt],Pe[kt+1])),Oe.numPoints++;ut&&function(kt,jt){let rt=0;for(let _t=0,rn=kt.length,bn=rn-2;_t<rn;bn=_t,_t+=2)rt+=(kt[_t]-kt[bn])*(kt[_t+1]+kt[bn+1]);if(rt>0===jt)for(let _t=0,rn=kt.length;_t<rn/2;_t+=2){const bn=kt[_t],Rn=kt[_t+1];kt[_t]=kt[rn-2-_t],kt[_t+1]=kt[rn-1-_t],kt[rn-2-_t]=bn,kt[rn-1-_t]=Rn}}(Ut,ot),Ht.push(Ut)}const Gn={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class Wr{constructor(Pe,Oe){const Xe=(Oe=this.options=function(ot,Tt){for(const Ut in Tt)ot[Ut]=Tt[Ut];return ot}(Object.create(Gn),Oe)).debug;if(Xe&&console.time("preprocess data"),Oe.maxZoom<0||Oe.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Oe.promoteId&&Oe.generateId)throw new Error("promoteId and generateId cannot be used together.");let ut=function(ot,Tt){const Ut=[];if(ot.type==="FeatureCollection")for(let kt=0;kt<ot.features.length;kt++)zt(Ut,ot.features[kt],Tt,kt);else zt(Ut,ot.type==="Feature"?ot:{geometry:ot},Tt);return Ut}(Pe,Oe);this.tiles={},this.tileCoords=[],Xe&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Oe.indexMaxZoom,Oe.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),ut=function(ot,Tt){const Ut=Tt.buffer/Tt.extent;let kt=ot;const jt=St(ot,1,-1-Ut,Ut,0,-1,2,Tt),rt=St(ot,1,1-Ut,2+Ut,0,-1,2,Tt);return(jt||rt)&&(kt=St(ot,1,-Ut,1+Ut,0,-1,2,Tt)||[],jt&&(kt=yn(jt,1).concat(kt)),rt&&(kt=kt.concat(yn(rt,-1)))),kt}(ut,Oe),ut.length&&this.splitTile(ut,0,0,0),Xe&&(ut.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(Pe,Oe,Xe,ut,ot,Tt,Ut){const kt=[Pe,Oe,Xe,ut],jt=this.options,rt=jt.debug;for(;kt.length;){ut=kt.pop(),Xe=kt.pop(),Oe=kt.pop(),Pe=kt.pop();const _t=1<<Oe,rn=Nr(Oe,Xe,ut);let bn=this.tiles[rn];if(!bn&&(rt>1&&console.time("creation"),bn=this.tiles[rn]=qn(Pe,Oe,Xe,ut,jt),this.tileCoords.push({z:Oe,x:Xe,y:ut}),rt)){rt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Oe,Xe,ut,bn.numFeatures,bn.numPoints,bn.numSimplified),console.timeEnd("creation"));const Oi=`z${Oe}`;this.stats[Oi]=(this.stats[Oi]||0)+1,this.total++}if(bn.source=Pe,ot==null){if(Oe===jt.indexMaxZoom||bn.numPoints<=jt.indexMaxPoints)continue}else{if(Oe===jt.maxZoom||Oe===ot)continue;if(ot!=null){const Oi=ot-Oe;if(Xe!==Tt>>Oi||ut!==Ut>>Oi)continue}}if(bn.source=null,Pe.length===0)continue;rt>1&&console.time("clipping");const Rn=.5*jt.buffer/jt.extent,mr=.5-Rn,gr=.5+Rn,hr=1+Rn;let dr=null,li=null,an=null,Cn=null,Yn=St(Pe,_t,Xe-Rn,Xe+gr,0,bn.minX,bn.maxX,jt),xr=St(Pe,_t,Xe+mr,Xe+hr,0,bn.minX,bn.maxX,jt);Pe=null,Yn&&(dr=St(Yn,_t,ut-Rn,ut+gr,1,bn.minY,bn.maxY,jt),li=St(Yn,_t,ut+mr,ut+hr,1,bn.minY,bn.maxY,jt),Yn=null),xr&&(an=St(xr,_t,ut-Rn,ut+gr,1,bn.minY,bn.maxY,jt),Cn=St(xr,_t,ut+mr,ut+hr,1,bn.minY,bn.maxY,jt),xr=null),rt>1&&console.timeEnd("clipping"),kt.push(dr||[],Oe+1,2*Xe,2*ut),kt.push(li||[],Oe+1,2*Xe,2*ut+1),kt.push(an||[],Oe+1,2*Xe+1,2*ut),kt.push(Cn||[],Oe+1,2*Xe+1,2*ut+1)}}getTile(Pe,Oe,Xe){Pe=+Pe,Oe=+Oe,Xe=+Xe;const ut=this.options,{extent:ot,debug:Tt}=ut;if(Pe<0||Pe>24)return null;const Ut=1<<Pe,kt=Nr(Pe,Oe=Oe+Ut&Ut-1,Xe);if(this.tiles[kt])return Zt(this.tiles[kt],ot);Tt>1&&console.log("drilling down to z%d-%d-%d",Pe,Oe,Xe);let jt,rt=Pe,_t=Oe,rn=Xe;for(;!jt&&rt>0;)rt--,_t>>=1,rn>>=1,jt=this.tiles[Nr(rt,_t,rn)];return jt&&jt.source?(Tt>1&&(console.log("found parent tile z%d-%d-%d",rt,_t,rn),console.time("drilling down")),this.splitTile(jt.source,rt,_t,rn,Pe,Oe,Xe),Tt>1&&console.timeEnd("drilling down"),this.tiles[kt]?Zt(this.tiles[kt],ot):null):null}}function Nr(Ht,Pe,Oe){return 32*((1<<Ht)*Oe+Pe)+Ht}function qr(Ht,Pe){const Oe=Ht.tileID.canonical;if(!this._geoJSONIndex)return void Pe(null,null);const Xe=this._geoJSONIndex.getTile(Oe.z,Oe.x,Oe.y);if(!Xe)return void Pe(null,null);const ut=new q(Xe.features);let ot=Je(ut);ot.byteOffset===0&&ot.byteLength===ot.buffer.byteLength||(ot=new Uint8Array(ot)),Pe(null,{vectorTile:ut,rawData:ot.buffer})}class si extends k{constructor(Pe,Oe,Xe,ut,ot,Tt){super(Pe,Oe,Xe,ut,qr,Tt),ot&&(this.loadGeoJSON=ot),this._dynamicIndex=new ie}loadData(Pe,Oe){const Xe=Pe&&Pe.request,ut=Xe&&Xe.collectResourceTiming;this.loadGeoJSON(Pe,(ot,Tt)=>{if(ot||!Tt)return Oe(ot);if(typeof Tt!="object")return Oe(new Error(`Input data given to '${Pe.source}' is not a valid GeoJSON object.`));{try{if(Pe.filter){const kt=a.M(Pe.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(kt.result==="error")throw new Error(kt.value.map(jt=>`${jt.key}: ${jt.message}`).join(", "));Tt.features=Tt.features.filter(jt=>kt.value.evaluate({zoom:0},jt))}Pe.dynamic?(Tt.type==="Feature"&&(Tt={type:"FeatureCollection",features:[Tt]}),Pe.append||(this._dynamicIndex.clear(),this.loaded={}),this._dynamicIndex.load(Tt.features,this.loaded),Pe.cluster&&(Tt.features=this._dynamicIndex.getFeatures())):this.loaded={},this._geoJSONIndex=Pe.cluster?new vt(function({superclusterOptions:kt,clusterProperties:jt}){if(!jt||!kt)return kt;const rt={},_t={},rn={accumulated:null,zoom:0},bn={properties:null},Rn=Object.keys(jt);for(const mr of Rn){const[gr,hr]=jt[mr],dr=a.M(hr),li=a.M(typeof gr=="string"?[gr,["accumulated"],["get",mr]]:gr);rt[mr]=dr.value,_t[mr]=li.value}return kt.map=mr=>{bn.properties=mr;const gr={};for(const hr of Rn)gr[hr]=rt[hr].evaluate(rn,bn);return gr},kt.reduce=(mr,gr)=>{bn.properties=gr;for(const hr of Rn)rn.accumulated=mr[hr],mr[hr]=_t[hr].evaluate(rn,bn)},kt}(Pe)).load(Tt.features):Pe.dynamic?this._dynamicIndex:function(kt,jt){return new Wr(kt,jt)}(Tt,Pe.geojsonVtOptions)}catch(kt){return Oe(kt)}const Ut={};if(ut){const kt=h(Xe);kt&&(Ut.resourceTiming={},Ut.resourceTiming[Pe.source]=JSON.parse(JSON.stringify(kt)))}Oe(null,Ut)}})}reloadTile(Pe,Oe){const Xe=this.loaded;return Xe&&Xe[Pe.uid]?Pe.partial?Oe(null,void 0):super.reloadTile(Pe,Oe):this.loadTile(Pe,Oe)}loadGeoJSON(Pe,Oe){if(Pe.request)a.n(Pe.request,Oe);else{if(typeof Pe.data!="string")return Oe(new Error(`Input data given to '${Pe.source}' is not a valid GeoJSON object.`));try{return Oe(null,JSON.parse(Pe.data))}catch{return Oe(new Error(`Input data given to '${Pe.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(Pe,Oe){try{Oe(null,this._geoJSONIndex.getClusterExpansionZoom(Pe.clusterId))}catch(Xe){Oe(Xe)}}getClusterChildren(Pe,Oe){try{Oe(null,this._geoJSONIndex.getChildren(Pe.clusterId))}catch(Xe){Oe(Xe)}}getClusterLeaves(Pe,Oe){try{Oe(null,this._geoJSONIndex.getLeaves(Pe.clusterId,Pe.limit,Pe.offset))}catch(Xe){Oe(Xe)}}}class Ya{constructor(Pe,Oe){this.tileID=new a.aA(Pe.tileID.overscaledZ,Pe.tileID.wrap,Pe.tileID.canonical.z,Pe.tileID.canonical.x,Pe.tileID.canonical.y),this.tileZoom=Pe.tileZoom,this.uid=Pe.uid,this.zoom=Pe.zoom,this.canonical=Pe.tileID.canonical,this.pixelRatio=Pe.pixelRatio,this.tileSize=Pe.tileSize,this.source=Pe.source,this.overscaling=this.tileID.overscaleFactor(),this.projection=Pe.projection,this.brightness=Oe}parse(Pe,Oe,Xe,ut){this.status="parsing";const ot=new a.aA(Xe.tileID.overscaledZ,Xe.tileID.wrap,Xe.tileID.canonical.z,Xe.tileID.canonical.x,Xe.tileID.canonical.y),Tt={},Ut=Oe.familiesBySource[Xe.source],kt=new a.dR(ot,Xe.promoteId);return kt.bucketLayerIDs=[],kt.is3DTile=!0,a.e0(Pe).then(jt=>{if(!jt)return ut(new Error("Could not parse tile"));const rt=a.e1(jt,1/a.c8(Xe.tileID.canonical)),_t=jt.json.extensionsUsed&&jt.json.extensionsUsed.includes("MAPBOX_mesh_features")||jt.json.asset.extras&&jt.json.asset.extras.MAPBOX_mesh_features,rn=jt.json.extensionsUsed&&jt.json.extensionsUsed.includes("EXT_meshopt_compression"),bn=new a.a3(this.zoom,{brightness:this.brightness});for(const Rn in Ut)for(const mr of Ut[Rn]){const gr=mr[0];kt.bucketLayerIDs.push(mr.map(dr=>dr.id)),gr.recalculate(bn,[]);const hr=new a.e2(rt,ot,_t,rn,this.brightness,kt);_t||(hr.needsUpload=!0),Tt[gr.fqid]=hr,hr.evaluate(gr)}this.status="done",ut(null,{buckets:Tt,featureIndex:kt})}).catch(jt=>ut(new Error(jt.message)))}}class Wl{constructor(Pe,Oe,Xe,ut,ot,Tt){this.actor=Pe,this.layerIndex=Oe,this.brightness=Tt,this.loading={},this.loaded={}}loadTile(Pe,Oe){const Xe=Pe.uid,ut=this.loading[Xe]=new Ya(Pe,this.brightness);a.bc(Pe.request,(ot,Tt)=>{const Ut=!this.loading[Xe];return delete this.loading[Xe],Ut||ot?(ut.status="done",Ut||(this.loaded[Xe]=ut),Oe(ot)):Tt&&Tt.byteLength!==0?void ut.parse(Tt,this.layerIndex,Pe,(kt,jt)=>{ut.status="done",this.loaded=this.loaded||{},this.loaded[Xe]=ut,kt||!jt?Oe(kt):Oe(null,jt)}):(ut.status="done",this.loaded[Xe]=ut,Oe())})}reloadTile(Pe,Oe){const Xe=this.loaded,ut=Pe.uid;if(Xe&&Xe[ut]){const ot=Xe[ut];ot.projection=Pe.projection,ot.brightness=Pe.brightness;const Tt=(Ut,kt)=>{ot.reloadCallback&&(delete ot.reloadCallback,this.loadTile(Pe,Oe)),Oe(Ut,kt)};ot.status==="parsing"?ot.reloadCallback=Tt:ot.status==="done"&&this.loadTile(Pe,Oe)}}abortTile(Pe,Oe){const Xe=Pe.uid;this.loading[Xe]&&delete this.loading[Xe],Oe()}removeTile(Pe,Oe){const Xe=this.loaded,ut=Pe.uid;Xe&&Xe[ut]&&delete Xe[ut],Oe()}}class qs{constructor(Pe){this.self=Pe,this.actor=new a.e3(Pe,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=a.bL({name:"mercator"}),this.workerSourceTypes={vector:k,geojson:si,"batched-model":Wl},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(Oe,Xe)=>{if(this.workerSourceTypes[Oe])throw new Error(`Worker source with name "${Oe}" already registered.`);this.workerSourceTypes[Oe]=Xe},this.self.registerRTLTextPlugin=Oe=>{if(a.e4.isParsed())throw new Error("RTL text plugin already registered.");a.e4.applyArabicShaping=Oe.applyArabicShaping,a.e4.processBidirectionalText=Oe.processBidirectionalText,a.e4.processStyledBidirectionalText=Oe.processStyledBidirectionalText}}clearCaches(Pe,Oe,Xe){delete this.layerIndexes[Pe],delete this.availableImages[Pe],delete this.workerSources[Pe],delete this.demWorkerSources[Pe],delete this.rasterArrayWorkerSource,Xe()}checkIfReady(Pe,Oe,Xe){Xe()}setReferrer(Pe,Oe){this.referrer=Oe}spriteLoaded(Pe,{scope:Oe,isLoaded:Xe}){if(this.isSpriteLoaded[Pe]||(this.isSpriteLoaded[Pe]={}),this.isSpriteLoaded[Pe][Oe]=Xe,this.workerSources[Pe]&&this.workerSources[Pe][Oe])for(const ut in this.workerSources[Pe][Oe]){const ot=this.workerSources[Pe][Oe][ut];for(const Tt in ot){const Ut=ot[Tt];Ut instanceof k&&(Ut.isSpriteLoaded=Xe,Ut.fire(new a.x("isSpriteLoaded")))}}}setImages(Pe,{scope:Oe,images:Xe},ut){if(this.availableImages[Pe]||(this.availableImages[Pe]={}),this.availableImages[Pe][Oe]=Xe,this.workerSources[Pe]&&this.workerSources[Pe][Oe]){for(const ot in this.workerSources[Pe][Oe]){const Tt=this.workerSources[Pe][Oe][ot];for(const Ut in Tt)Tt[Ut].availableImages=Xe}ut()}else ut()}setProjection(Pe,Oe){this.projections[Pe]=a.bL(Oe)}setBrightness(Pe,Oe,Xe){this.brightness=Oe,Xe()}setLayers(Pe,Oe,Xe){this.getLayerIndex(Pe,Oe.scope).replace(Oe.layers,Oe.options),Xe()}updateLayers(Pe,Oe,Xe){this.getLayerIndex(Pe,Oe.scope).update(Oe.layers,Oe.removedIds,Oe.options),Xe()}loadTile(Pe,Oe,Xe){Oe.projection=this.projections[Pe]||this.defaultProjection,this.getWorkerSource(Pe,Oe.type,Oe.source,Oe.scope).loadTile(Oe,Xe)}loadDEMTile(Pe,Oe,Xe){this.getDEMWorkerSource(Pe,Oe.source,Oe.scope).loadTile(Oe,Xe)}decodeRasterArray(Pe,Oe,Xe){this.getRasterArrayWorkerSource().decodeRasterArray(Oe,Xe)}reloadTile(Pe,Oe,Xe){Oe.projection=this.projections[Pe]||this.defaultProjection,this.getWorkerSource(Pe,Oe.type,Oe.source,Oe.scope).reloadTile(Oe,Xe)}abortTile(Pe,Oe,Xe){this.getWorkerSource(Pe,Oe.type,Oe.source,Oe.scope).abortTile(Oe,Xe)}removeTile(Pe,Oe,Xe){this.getWorkerSource(Pe,Oe.type,Oe.source,Oe.scope).removeTile(Oe,Xe)}removeSource(Pe,Oe,Xe){if(!(this.workerSources[Pe]&&this.workerSources[Pe][Oe.scope]&&this.workerSources[Pe][Oe.scope][Oe.type]&&this.workerSources[Pe][Oe.scope][Oe.type][Oe.source]))return;const ut=this.workerSources[Pe][Oe.scope][Oe.type][Oe.source];delete this.workerSources[Pe][Oe.scope][Oe.type][Oe.source],ut.removeSource!==void 0?ut.removeSource(Oe,Xe):Xe()}loadWorkerSource(Pe,Oe,Xe){try{this.self.importScripts(Oe.url),Xe()}catch(ut){Xe(ut.toString())}}syncRTLPluginState(Pe,Oe,Xe){try{a.e4.setState(Oe);const ut=a.e4.getPluginURL();if(a.e4.isLoaded()&&!a.e4.isParsed()&&ut!=null){this.self.importScripts(ut);const ot=a.e4.isParsed();Xe(ot?void 0:new Error(`RTL Text Plugin failed to import scripts from ${ut}`),ot)}}catch(ut){Xe(ut.toString())}}setDracoUrl(Pe,Oe){this.dracoUrl=Oe}getAvailableImages(Pe,Oe){this.availableImages[Pe]||(this.availableImages[Pe]={});let Xe=this.availableImages[Pe][Oe];return Xe||(Xe=[]),Xe}getLayerIndex(Pe,Oe){this.layerIndexes[Pe]||(this.layerIndexes[Pe]={});let Xe=this.layerIndexes[Pe][Oe];return Xe||(Xe=this.layerIndexes[Pe][Oe]=new _,Xe.scope=Oe),Xe}getWorkerSource(Pe,Oe,Xe,ut){return this.workerSources[Pe]||(this.workerSources[Pe]={}),this.workerSources[Pe][ut]||(this.workerSources[Pe][ut]={}),this.workerSources[Pe][ut][Oe]||(this.workerSources[Pe][ut][Oe]={}),this.isSpriteLoaded[Pe]||(this.isSpriteLoaded[Pe]={}),this.workerSources[Pe][ut][Oe][Xe]||(this.workerSources[Pe][ut][Oe][Xe]=new this.workerSourceTypes[Oe]({send:(ot,Tt,Ut,kt,jt,rt)=>{this.actor.send(ot,Tt,Ut,Pe,jt,rt)},scheduler:this.actor.scheduler},this.getLayerIndex(Pe,ut),this.getAvailableImages(Pe,ut),this.isSpriteLoaded[Pe][ut],void 0,this.brightness)),this.workerSources[Pe][ut][Oe][Xe]}getDEMWorkerSource(Pe,Oe,Xe){return this.demWorkerSources[Pe]||(this.demWorkerSources[Pe]={}),this.demWorkerSources[Pe][Xe]||(this.demWorkerSources[Pe][Xe]={}),this.demWorkerSources[Pe][Xe][Oe]||(this.demWorkerSources[Pe][Xe][Oe]=new z),this.demWorkerSources[Pe][Xe][Oe]}getRasterArrayWorkerSource(){return this.rasterArrayWorkerSource||(this.rasterArrayWorkerSource=new B),this.rasterArrayWorkerSource}enforceCacheSizeLimit(Pe,Oe){a.e5(Oe)}getWorkerPerformanceMetrics(Pe,Oe,Xe){Xe(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new qs(self)),qs}),s(["./shared"],function(a){var h="3.7.0";const m={create:"create",load:"load",fullLoad:"fullLoad"},v={mark(x){performance.mark(x)},measure(x,c,f){performance.measure(x,c,f)}};function _(x){const c=x.name.split("?")[0];return a.a(c)&&c.includes("mapbox-gl.js")?"javascript":a.a(c)&&c.includes("mapbox-gl.css")?"css":a.b(c)?"fontRange":a.c(c)?"sprite":a.i(c)?"style":a.d(c)?"tilejson":"other"}var b,T={},M=function(){if(b)return T;function x(w){return!c(w)}function c(w){return typeof window>"u"||typeof document>"u"?"not a browser":function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var L,D,j=new Blob([""],{type:"text/javascript"}),K=URL.createObjectURL(j);try{D=new Worker(K),L=!0}catch{L=!1}return D&&D.terminate(),URL.revokeObjectURL(K),L}()?function(){var L=document.createElement("canvas");L.width=L.height=1;var D=L.getContext("2d");if(!D)return!1;var j=D.getImageData(0,0,1,1);return j&&j.width===L.width}()?(f[I=w&&w.failIfMajorPerformanceCaveat]===void 0&&(f[I]=function(L){var D,j=function(K){var Z=document.createElement("canvas"),J=Object.create(x.webGLContextAttributes);return J.failIfMajorPerformanceCaveat=K,Z.getContext("webgl2",J)}(L);if(!j)return!1;try{D=j.createShader(j.VERTEX_SHADER)}catch{return!1}return!(!D||j.isContextLost())&&(j.shaderSource(D,"void main() {}"),j.compileShader(D),j.getShaderParameter(D,j.COMPILE_STATUS)===!0)}(I)),f[I]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL2 support"):"insufficient Canvas/getImageData support":"insufficient worker support";var I}b=1,T.supported=x,T.notSupportedReason=c;var f={};return x.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0},T}();function E(x,c,f){const w=document.createElement(x);return c!=null&&(w.className=c),f&&f.appendChild(w),w}function k(x,c,f){const w=document.createElementNS("http://www.w3.org/2000/svg",x);for(const I of Object.keys(c))w.setAttributeNS(null,I,String(c[I]));return f&&f.appendChild(w),w}const z=typeof document<"u"?document.documentElement&&document.documentElement.style:null,B=z&&z.userSelect!==void 0?"userSelect":"WebkitUserSelect";let U;function W(){z&&B&&(U=z[B],z[B]="none")}function q(){z&&B&&(z[B]=U)}function Q(x){x.preventDefault(),x.stopPropagation(),window.removeEventListener("click",Q,!0)}function te(){window.addEventListener("click",Q,!0),window.setTimeout(()=>{window.removeEventListener("click",Q,!0)},0)}function ie(x,c){const f=x.getBoundingClientRect();return se(x,f,c)}function ae(x,c){const f=x.getBoundingClientRect(),w=[];for(let I=0;I<c.length;I++)w.push(se(x,f,c[I]));return w}function re(x){return window.InstallTrigger!==void 0&&x.button===2&&x.ctrlKey&&window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:x.button}function se(x,c,f){const w=x.offsetWidth===c.width?1:x.offsetWidth/c.width;return new a.P((f.clientX-c.left)*w,(f.clientY-c.top)*w)}const be="01",Ie="NO_ACCESS_TOKEN";class Se{constructor(c,f,w){this._transformRequestFn=c,this._customAccessToken=f,this._silenceAuthErrors=!!w,this._createSkuToken()}_createSkuToken(){const c=function(){let f="";for(let w=0;w<10;w++)f+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",be,f].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=c.token,this._skuTokenExpiresAt=c.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(c,f){return this._transformRequestFn&&this._transformRequestFn(c,f)||{url:c}}normalizeStyleURL(c,f){if(!a.f(c))return c;const w=Le(c);return w.params.push(`sdk=js-${h}`),w.path=`/styles/v1${w.path}`,this._makeAPIURL(w,this._customAccessToken||f)}normalizeGlyphsURL(c,f){if(!a.f(c))return c;const w=Le(c);return w.path=`/fonts/v1${w.path}`,this._makeAPIURL(w,this._customAccessToken||f)}normalizeModelURL(c,f){if(!a.f(c))return c;const w=Le(c);return w.path=`/models/v1${w.path}`,this._makeAPIURL(w,this._customAccessToken||f)}normalizeSourceURL(c,f,w,I){if(!a.f(c))return c;const L=Le(c);return L.path=`/v4/${L.authority}.json`,L.params.push("secure"),w&&L.params.push(`language=${w}`),I&&L.params.push(`worldview=${I}`),this._makeAPIURL(L,this._customAccessToken||f)}normalizeSpriteURL(c,f,w,I){const L=Le(c);return a.f(c)?(L.path=`/styles/v1${L.path}/sprite${f}${w}`,this._makeAPIURL(L,this._customAccessToken||I)):(L.path+=`${f}${w}`,Ee(L))}normalizeTileURL(c,f,w){if(this._isSkuTokenExpired()&&this._createSkuToken(),c&&!a.f(c))return c;const I=Le(c);I.path=I.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${f||w&&I.authority!=="raster"&&w===512?"@2x":""}${a.m.supported?".webp":"$1"}`),I.authority==="raster"?I.path=`/${a.e.RASTER_URL_PREFIX}${I.path}`:I.authority==="rasterarrays"?I.path=`/${a.e.RASTERARRAYS_URL_PREFIX}${I.path}`:I.authority==="3dtiles"?I.path=`/${a.e.TILES3D_URL_PREFIX}${I.path}`:(I.path=I.path.replace(/^.+\/v4\//,"/"),I.path=`/${a.e.TILE_URL_VERSION}${I.path}`);const L=this._customAccessToken||function(D){for(const j of D){const K=j.match(/^access_token=(.*)$/);if(K)return K[1]}return null}(I.params)||a.e.ACCESS_TOKEN;return a.e.REQUIRE_ACCESS_TOKEN&&L&&this._skuToken&&I.params.push(`sku=${this._skuToken}`),this._makeAPIURL(I,L)}canonicalizeTileURL(c,f){const w=Le(c);if(!w.path.match(/^(\/v4\/|\/(raster|rasterarrays)\/v1\/)/)||!w.path.match(/\.[\w]+$/))return c;let I="mapbox://";w.path.match(/^\/raster\/v1\//)?I+=`raster/${w.path.replace(`/${a.e.RASTER_URL_PREFIX}/`,"")}`:w.path.match(/^\/rasterarrays\/v1\//)?I+=`rasterarrays/${w.path.replace(`/${a.e.RASTERARRAYS_URL_PREFIX}/`,"")}`:I+=`tiles/${w.path.replace(`/${a.e.TILE_URL_VERSION}/`,"")}`;let L=w.params;return f&&(L=L.filter(D=>!D.match(/^access_token=/))),L.length&&(I+=`?${L.join("&")}`),I}canonicalizeTileset(c,f){const w=!!f&&a.f(f),I=[];for(const L of c.tiles||[])a.h(L)?I.push(this.canonicalizeTileURL(L,w)):I.push(L);return I}_makeAPIURL(c,f){const w="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",I=Le(a.e.API_URL);if(c.protocol=I.protocol,c.authority=I.authority,c.protocol==="http"){const L=c.params.indexOf("secure");L>=0&&c.params.splice(L,1)}if(I.path!=="/"&&(c.path=`${I.path}${c.path}`),!a.e.REQUIRE_ACCESS_TOKEN)return Ee(c);if(f=f||a.e.ACCESS_TOKEN,!this._silenceAuthErrors){if(!f)throw new Error(`An API access token is required to use Mapbox GL. ${w}`);if(f[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${w}`)}return c.params=c.params.filter(L=>L.indexOf("access_token")===-1),c.params.push(`access_token=${f||""}`),Ee(c)}}const me=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Le(x){const c=x.match(me);if(!c)throw new Error("Unable to parse URL object");return{protocol:c[1],authority:c[2],path:c[3]||"/",params:c[4]?c[4].split("&"):[]}}function Ee(x){const c=x.params.length?`?${x.params.join("&")}`:"";return`${x.protocol}://${x.authority}${x.path}${c}`}const _e="mapbox.eventData";function xe(x){if(!x)return null;const c=x.split(".");if(!c||c.length!==3)return null;try{return JSON.parse(a.j(c[1]))}catch{return null}}class Be{constructor(c){this.type=c,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(c){const f=xe(a.e.ACCESS_TOKEN);let w="";return w=f&&f.u?a.k(f.u):a.e.ACCESS_TOKEN||"",c?`${_e}.${c}:${w}`:`${_e}:${w}`}fetchEventData(){const c=a.s("localStorage"),f=this.getStorageKey(),w=this.getStorageKey("uuid");if(c)try{const I=localStorage.getItem(f);I&&(this.eventData=JSON.parse(I));const L=localStorage.getItem(w);L&&(this.anonId=L)}catch{a.w("Unable to read from LocalStorage")}}saveEventData(){const c=a.s("localStorage"),f=this.getStorageKey(),w=this.getStorageKey("uuid"),I=this.anonId;if(c&&I)try{localStorage.setItem(w,I),Object.keys(this.eventData).length>=1&&localStorage.setItem(f,JSON.stringify(this.eventData))}catch{a.w("Unable to write to LocalStorage")}}processRequests(c){}postEvent(c,f,w,I){if(!a.e.EVENTS_URL)return;const L=Le(a.e.EVENTS_URL);L.params.push(`access_token=${I||a.e.ACCESS_TOKEN||""}`);const D={event:this.type,created:new Date(c).toISOString()},j=f?a.l(D,f):D,K={url:Ee(L),headers:{"Content-Type":"text/plain"},body:JSON.stringify([j])};this.pendingRequest=a.p(K,Z=>{this.pendingRequest=null,w(Z),this.saveEventData(),this.processRequests(I)})}queueRequest(c,f){this.queue.push(c),this.processRequests(f)}}const Je=new class extends Be{constructor(x){super("appUserTurnstile"),this._customAccessToken=x}postTurnstileEvent(x,c){a.e.EVENTS_URL&&a.e.ACCESS_TOKEN&&Array.isArray(x)&&x.some(f=>a.f(f)||a.h(f))&&this.queueRequest(Date.now(),c)}processRequests(x){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const c=xe(a.e.ACCESS_TOKEN),f=c?c.u:a.e.ACCESS_TOKEN;let w=f!==this.eventData.tokenU;a.v(this.anonId)||(this.anonId=a.u(),w=!0);const I=this.queue.shift();if(this.eventData.lastSuccess){const L=new Date(this.eventData.lastSuccess),D=new Date(I),j=(I-this.eventData.lastSuccess)/864e5;w=w||j>=1||j<-1||L.getDate()!==D.getDate()}else w=!0;w?this.postEvent(I,{sdkIdentifier:"mapbox-gl-js",sdkVersion:h,skuId:be,"enabled.telemetry":!1,userId:this.anonId},L=>{L||(this.eventData.lastSuccess=I,this.eventData.tokenU=f)},x):this.processRequests()}},Ye=Je.postTurnstileEvent.bind(Je),lt=new class extends Be{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(x,c,f,w){this.skuToken=c,this.errorCb=w,a.e.EVENTS_URL&&(f||a.e.ACCESS_TOKEN?this.queueRequest({id:x,timestamp:Date.now()},f):this.errorCb(new Error(Ie)))}processRequests(x){if(this.pendingRequest||this.queue.length===0)return;const{id:c,timestamp:f}=this.queue.shift();c&&this.success[c]||(this.anonId||this.fetchEventData(),a.v(this.anonId)||(this.anonId=a.u()),this.postEvent(f,{sdkIdentifier:"mapbox-gl-js",sdkVersion:h,skuId:be,skuToken:this.skuToken,userId:this.anonId},w=>{w?this.errorCb(w):c&&(this.success[c]=!0)},x))}remove(){this.errorCb=null}},Nt=lt.postMapLoadEvent.bind(lt),Dt=new class extends Be{constructor(){super("style.load"),this.eventIdPerMapInstanceMap=new Map,this.mapInstanceIdMap=new WeakMap}getMapInstanceId(x){let c=this.mapInstanceIdMap.get(x);return c||(c=a.u(),this.mapInstanceIdMap.set(x,c)),c}getEventId(x){const c=this.eventIdPerMapInstanceMap.get(x)||0;return this.eventIdPerMapInstanceMap.set(x,c+1),c}postStyleLoadEvent(x,c){const{map:f,style:w,importedStyles:I}=c;if(!a.e.EVENTS_URL||!x&&!a.e.ACCESS_TOKEN)return;const L=this.getMapInstanceId(f),D={mapInstanceId:L,eventId:this.getEventId(L),style:w};I.length&&(D.importedStyles=I),this.queueRequest({timestamp:Date.now(),payload:D},x)}processRequests(x){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:c,payload:f}=this.queue.shift();this.postEvent(c,f,()=>{},x)}},je=Dt.postStyleLoadEvent.bind(Dt),Ct=new class extends Be{constructor(){super("gljs.performance")}postPerformanceEvent(x,c){a.e.EVENTS_URL&&(x||a.e.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:c},x)}processRequests(x){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:c,performanceData:f}=this.queue.shift(),w=function(I){const L=performance.getEntriesByType("resource"),D=performance.getEntriesByType("mark"),j=function(he){const Ce={};if(he){for(const Me in he)if(Me!=="other")for(const Ae of he[Me]){const ke=`${Me}ResolveRangeMin`,He=`${Me}ResolveRangeMax`,Ge=`${Me}RequestCount`,$e=`${Me}RequestCachedCount`;Ce[ke]=Math.min(Ce[ke]||1/0,Ae.startTime),Ce[He]=Math.max(Ce[He]||-1/0,Ae.responseEnd);const Ke=qe=>{Ce[qe]===void 0&&(Ce[qe]=0),++Ce[qe]};Ae.transferSize!==void 0&&Ae.transferSize===0&&Ke($e),Ke(Ge)}}return Ce}(function(he,Ce){const Me={};if(he)for(const Ae of he){const ke=Ce(Ae);Me[ke]===void 0&&(Me[ke]=[]),Me[ke].push(Ae)}return Me}(L,_)),K=window.devicePixelRatio,Z=navigator.connection||navigator.mozConnection||navigator.webkitConnection,J=Z?Z.effectiveType:void 0,oe={counters:[],metadata:[],attributes:[]},ce=(he,Ce,Me)=>{Me!=null&&he.push({name:Ce,value:Me.toString()})};for(const he in j)ce(oe.counters,he,j[he]);if(I.interactionRange[0]!==1/0&&I.interactionRange[1]!==-1/0&&(ce(oe.counters,"interactionRangeMin",I.interactionRange[0]),ce(oe.counters,"interactionRangeMax",I.interactionRange[1])),D)for(const he of Object.keys(m)){const Ce=m[he],Me=D.find(Ae=>Ae.name===Ce);Me&&ce(oe.counters,Ce,Me.startTime)}return ce(oe.counters,"visibilityHidden",I.visibilityHidden),ce(oe.attributes,"style",function(he){if(he)for(const Ce of he){const Me=Ce.name.split("?")[0];if(a.i(Me)){const Ae=Me.split("/").slice(-2);if(Ae.length===2)return`mapbox://styles/${Ae[0]}/${Ae[1]}`}}}(L)),ce(oe.attributes,"terrainEnabled",I.terrainEnabled?"true":"false"),ce(oe.attributes,"fogEnabled",I.fogEnabled?"true":"false"),ce(oe.attributes,"projection",I.projection),ce(oe.attributes,"zoom",I.zoom),ce(oe.metadata,"devicePixelRatio",K),ce(oe.metadata,"connectionEffectiveType",J),ce(oe.metadata,"navigatorUserAgent",navigator.userAgent),ce(oe.metadata,"screenWidth",window.screen.width),ce(oe.metadata,"screenHeight",window.screen.height),ce(oe.metadata,"windowWidth",window.innerWidth),ce(oe.metadata,"windowHeight",window.innerHeight),ce(oe.metadata,"mapWidth",I.width/K),ce(oe.metadata,"mapHeight",I.height/K),ce(oe.metadata,"webglRenderer",I.renderer),ce(oe.metadata,"webglVendor",I.vendor),ce(oe.metadata,"sdkVersion",h),ce(oe.metadata,"sdkIdentifier","mapbox-gl-js"),oe}(f);for(const I of w.metadata);for(const I of w.counters);for(const I of w.attributes);this.postEvent(c,w,()=>{},x)}},vt=Ct.postPerformanceEvent.bind(Ct),Vt=new class extends Be{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(x,c,f,w){if(!a.e.API_URL||!a.e.SESSION_PATH)return;const I=Le(a.e.API_URL+a.e.SESSION_PATH);I.params.push(`sku=${c||""}`),I.params.push(`access_token=${w||a.e.ACCESS_TOKEN||""}`);const L={url:Ee(I),headers:{"Content-Type":"text/plain"}};this.pendingRequest=a.g(L,D=>{this.pendingRequest=null,f(D),this.saveEventData(),this.processRequests(w)})}getSessionAPI(x,c,f,w){this.skuToken=c,this.errorCb=w,a.e.SESSION_PATH&&a.e.API_URL&&(f||a.e.ACCESS_TOKEN?this.queueRequest({id:x,timestamp:Date.now()},f):this.errorCb(new Error(Ie)))}processRequests(x){if(this.pendingRequest||this.queue.length===0)return;const{id:c,timestamp:f}=this.queue.shift();c&&this.success[c]||this.getSession(f,this.skuToken,w=>{w?this.errorCb(w):c&&(this.success[c]=!0)},x)}remove(){this.errorCb=null}},Re=Vt.getSessionAPI.bind(Vt),pt=new Set;function Ne(x,c){c?pt.add(x):pt.delete(x)}class et{constructor(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSourceCaches={},this._updatedPaintProps=new Set,this._updatedImages=new Set}isDirty(){return this._changed}setDirty(){this._changed=!0}getUpdatedSourceCaches(){return this._updatedSourceCaches}updateSourceCache(c,f){this._updatedSourceCaches[c]=f,this.setDirty()}discardSourceCacheUpdate(c){delete this._updatedSourceCaches[c]}updateLayer(c){const f=c.scope;this._updatedLayers[f]=this._updatedLayers[f]||new Set,this._updatedLayers[f].add(c.id),this.setDirty()}removeLayer(c){const f=c.scope;this._removedLayers[f]=this._removedLayers[f]||{},this._updatedLayers[f]=this._updatedLayers[f]||new Set,this._removedLayers[f][c.id]=c,this._updatedLayers[f].delete(c.id),this._updatedPaintProps.delete(c.fqid),this.setDirty()}getRemovedLayer(c){return this._removedLayers[c.scope]?this._removedLayers[c.scope][c.id]:null}discardLayerRemoval(c){this._removedLayers[c.scope]&&delete this._removedLayers[c.scope][c.id]}getLayerUpdatesByScope(){const c={};for(const f in this._updatedLayers)c[f]=c[f]||{},c[f].updatedIds=Array.from(this._updatedLayers[f].values());for(const f in this._removedLayers)c[f]=c[f]||{},c[f].removedIds=Object.keys(this._removedLayers[f]);return c}getUpdatedPaintProperties(){return this._updatedPaintProps}updatePaintProperties(c){this._updatedPaintProps.add(c.fqid),this.setDirty()}getUpdatedImages(){return Array.from(this._updatedImages.values())}updateImage(c){this._updatedImages.add(c),this.setDirty()}resetUpdatedImages(){this._updatedImages.clear()}reset(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSourceCaches={},this._updatedPaintProps.clear(),this._updatedImages.clear()}}function Ze(x){const{userImage:c}=x;return!!(c&&c.render&&c.render())&&(x.data.replace(new Uint8Array(c.data.buffer)),!0)}class nn extends a.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded={},this.requestors=[],this.patterns={},this.atlasImage={},this.atlasTexture={},this.dirty=!0}createScope(c){this.images[c]={},this.loaded[c]=!1,this.updatedImages[c]={},this.patterns[c]={},this.callbackDispatchedThisFrame[c]={},this.atlasImage[c]=new a.r({width:1,height:1})}isLoaded(){for(const c in this.loaded)if(!this.loaded[c])return!1;return!0}setLoaded(c,f){if(this.loaded[f]!==c&&(this.loaded[f]=c,c)){for(const{ids:w,callback:I}of this.requestors)this._notify(w,f,I);this.requestors=[]}}hasImage(c,f){return!!this.getImage(c,f)}getImage(c,f){return this.images[f][c]}addImage(c,f,w){this._validate(c,w)&&(this.images[f][c]=w)}_validate(c,f){let w=!0;return this._validateStretch(f.stretchX,f.data&&f.data.width)||(this.fire(new a.t(new Error(`Image "${c}" has invalid "stretchX" value`))),w=!1),this._validateStretch(f.stretchY,f.data&&f.data.height)||(this.fire(new a.t(new Error(`Image "${c}" has invalid "stretchY" value`))),w=!1),this._validateContent(f.content,f)||(this.fire(new a.t(new Error(`Image "${c}" has invalid "content" value`))),w=!1),w}_validateStretch(c,f){if(!c)return!0;let w=0;for(const I of c){if(I[0]<w||I[1]<I[0]||f<I[1])return!1;w=I[1]}return!0}_validateContent(c,f){return!(c&&(c.length!==4||c[0]<0||f.data.width<c[0]||c[1]<0||f.data.height<c[1]||c[2]<0||f.data.width<c[2]||c[3]<0||f.data.height<c[3]||c[2]<c[0]||c[3]<c[1]))}updateImage(c,f,w){w.version=this.images[f][c].version+1,this.images[f][c]=w,this.updatedImages[f][c]=!0}removeImage(c,f){const w=this.images[f][c];delete this.images[f][c],delete this.patterns[f][c],w.userImage&&w.userImage.onRemove&&w.userImage.onRemove()}listImages(c){return Object.keys(this.images[c])}getImages(c,f,w){let I=!0;const L=!!this.loaded[f];if(!L)for(const D of c)this.images[f][D]||(I=!1);L||I?this._notify(c,f,w):this.requestors.push({ids:c,scope:f,callback:w})}getUpdatedImages(c){return this.updatedImages[c]}_notify(c,f,w){const I={};for(const L of c){this.images[f][L]||this.fire(new a.x("styleimagemissing",{id:L}));const D=this.images[f][L];D?I[L]={data:D.data.clone(),pixelRatio:D.pixelRatio,sdf:D.sdf,version:D.version,stretchX:D.stretchX,stretchY:D.stretchY,content:D.content,hasRenderCallback:!!(D.userImage&&D.userImage.render)}:a.w(`Image "${L}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}w(null,I)}getPixelSize(c){const{width:f,height:w}=this.atlasImage[c];return{width:f,height:w}}getPattern(c,f,w){const I=this.patterns[f][c],L=this.getImage(c,f);if(!L)return null;if(I&&I.position.version===L.version)return I.position;if(I)I.position.version=L.version;else{const D={w:L.data.width+2*a.y,h:L.data.height+2*a.y,x:0,y:0},j=new a.I(D,L,a.y);this.patterns[f][c]={bin:D,position:j}}return this._updatePatternAtlas(f,w),this.patterns[f][c].position}bind(c,f){const w=c.gl;let I=this.atlasTexture[f];I?this.dirty&&(I.update(this.atlasImage[f]),this.dirty=!1):(I=new a.T(c,this.atlasImage[f],w.RGBA8),this.atlasTexture[f]=I),I.bind(w.LINEAR,w.CLAMP_TO_EDGE)}_updatePatternAtlas(c,f){const w=[];for(const j in this.patterns[c])w.push(this.patterns[c][j].bin);const{w:I,h:L}=a.z(w),D=this.atlasImage[c];D.resize({width:I||1,height:L||1});for(const j in this.patterns[c]){const{bin:K,position:Z}=this.patterns[c][j];let J=Z.padding;const oe=K.x+J,ce=K.y+J,he=this.images[c][j].data,Ce=he.width,Me=he.height;J=J>1?J-1:J,a.r.copy(he,D,{x:0,y:0},{x:oe,y:ce},{width:Ce,height:Me},f),a.r.copy(he,D,{x:0,y:Me-J},{x:oe,y:ce-J},{width:Ce,height:J},f),a.r.copy(he,D,{x:0,y:0},{x:oe,y:ce+Me},{width:Ce,height:J},f),a.r.copy(he,D,{x:Ce-J,y:0},{x:oe-J,y:ce},{width:J,height:Me},f),a.r.copy(he,D,{x:0,y:0},{x:oe+Ce,y:ce},{width:J,height:Me},f),a.r.copy(he,D,{x:Ce-J,y:Me-J},{x:oe-J,y:ce-J},{width:J,height:J},f),a.r.copy(he,D,{x:0,y:Me-J},{x:oe+Ce,y:ce-J},{width:J,height:J},f),a.r.copy(he,D,{x:0,y:0},{x:oe+Ce,y:ce+Me},{width:J,height:J},f),a.r.copy(he,D,{x:Ce-J,y:0},{x:oe-J,y:ce+Me},{width:J,height:J},f)}this.dirty=!0}beginFrame(){for(const c in this.images)this.callbackDispatchedThisFrame[c]={}}dispatchRenderCallbacks(c,f){for(const w of c){if(this.callbackDispatchedThisFrame[f][w])continue;this.callbackDispatchedThisFrame[f][w]=!0;const I=this.images[f][w];Ze(I)&&this.updateImage(w,f,I)}}}function It(x){const c=x.key,f=x.value,w=x.valueSpec||{},I=x.objectElementValidators||{},L=x.style,D=x.styleSpec;let j=[];const K=a.B(f);if(K!=="object")return[new a.V(c,f,`object expected, ${K} found`)];for(const Z in f){const J=Z.split(".")[0];let oe;I[J]?oe=I[J]:w[J]?oe=Mt:I["*"]?oe=I["*"]:w["*"]&&(oe=Mt),oe?j=j.concat(oe({key:(c&&`${c}.`)+Z,value:f[Z],valueSpec:w[J]||w["*"],style:L,styleSpec:D,object:f,objectKey:Z},f)):j.push(new a.A(c,f[Z],`unknown property "${Z}"`))}for(const Z in w)I[Z]||w[Z].required&&w[Z].default===void 0&&f[Z]===void 0&&j.push(new a.V(c,f,`missing required property "${Z}"`));return j}function Ft(x){const c=x.value,f=x.valueSpec,w=x.style,I=x.styleSpec,L=x.key,D=x.arrayElementValidator||Mt;if(a.B(c)!=="array")return[new a.V(L,c,`array expected, ${a.B(c)} found`)];if(f.length&&c.length!==f.length)return[new a.V(L,c,`array length ${f.length} expected, length ${c.length} found`)];if(f["min-length"]&&c.length<f["min-length"])return[new a.V(L,c,`array length at least ${f["min-length"]} expected, length ${c.length} found`)];let j={type:f.value,values:f.values,minimum:f.minimum,maximum:f.maximum,function:void 0};I.$version<7&&(j.function=f.function),a.B(f.value)==="object"&&(j=f.value);let K=[];for(let Z=0;Z<c.length;Z++)K=K.concat(D({array:c,arrayIndex:Z,value:c[Z],valueSpec:j,style:w,styleSpec:I,key:`${L}[${Z}]`},!0));return K}function zt(x){const c=x.key,f=x.value,w=x.valueSpec;let I=a.B(f);if(I==="number"&&f!=f&&(I="NaN"),I!=="number")return[new a.V(c,f,`number expected, ${I} found`)];if("minimum"in w){let L=w.minimum;if(a.B(w.minimum)==="array"&&(L=w.minimum[x.arrayIndex]),f<L)return[new a.V(c,f,`${f} is less than the minimum value ${L}`)]}if("maximum"in w){let L=w.maximum;if(a.B(w.maximum)==="array"&&(L=w.maximum[x.arrayIndex]),f>L)return[new a.V(c,f,`${f} is greater than the maximum value ${L}`)]}return[]}function tn(x){const c=x.valueSpec,f=a.D(x.value.type);let w,I,L,D={};const j=f!=="categorical"&&x.value.property===void 0,K=!j,Z=a.B(x.value.stops)==="array"&&a.B(x.value.stops[0])==="array"&&a.B(x.value.stops[0][0])==="object",J=It({key:x.key,value:x.value,valueSpec:x.styleSpec.function,style:x.style,styleSpec:x.styleSpec,objectElementValidators:{stops:function(he){if(f==="identity")return[new a.V(he.key,he.value,'identity function may not have a "stops" property')];let Ce=[];const Me=he.value;return Ce=Ce.concat(Ft({key:he.key,value:Me,valueSpec:he.valueSpec,style:he.style,styleSpec:he.styleSpec,arrayElementValidator:oe})),a.B(Me)==="array"&&Me.length===0&&Ce.push(new a.V(he.key,Me,"array must have at least one stop")),Ce},default:function(he){return Mt({key:he.key,value:he.value,valueSpec:c,style:he.style,styleSpec:he.styleSpec})}}});return f==="identity"&&j&&J.push(new a.V(x.key,x.value,'missing required property "property"')),f==="identity"||x.value.stops||J.push(new a.V(x.key,x.value,'missing required property "stops"')),f==="exponential"&&x.valueSpec.expression&&!a.F(x.valueSpec)&&J.push(new a.V(x.key,x.value,"exponential functions not supported")),x.styleSpec.$version>=8&&(K&&!a.G(x.valueSpec)?J.push(new a.V(x.key,x.value,"property functions not supported")):j&&!a.H(x.valueSpec)&&J.push(new a.V(x.key,x.value,"zoom functions not supported"))),f!=="categorical"&&!Z||x.value.property!==void 0||J.push(new a.V(x.key,x.value,'"property" property is required')),J;function oe(he){let Ce=[];const Me=he.value,Ae=he.key;if(a.B(Me)!=="array")return[new a.V(Ae,Me,`array expected, ${a.B(Me)} found`)];if(Me.length!==2)return[new a.V(Ae,Me,`array length 2 expected, length ${Me.length} found`)];if(Z){if(a.B(Me[0])!=="object")return[new a.V(Ae,Me,`object expected, ${a.B(Me[0])} found`)];if(Me[0].zoom===void 0)return[new a.V(Ae,Me,"object stop key must have zoom")];if(Me[0].value===void 0)return[new a.V(Ae,Me,"object stop key must have value")];const ke=a.D(Me[0].zoom);if(typeof ke!="number")return[new a.V(Ae,Me[0].zoom,"stop zoom values must be numbers")];if(L&&L>ke)return[new a.V(Ae,Me[0].zoom,"stop zoom values must appear in ascending order")];ke!==L&&(L=ke,I=void 0,D={}),Ce=Ce.concat(It({key:`${Ae}[0]`,value:Me[0],valueSpec:{zoom:{}},style:he.style,styleSpec:he.styleSpec,objectElementValidators:{zoom:zt,value:ce}}))}else Ce=Ce.concat(ce({key:`${Ae}[0]`,value:Me[0],valueSpec:{},style:he.style,styleSpec:he.styleSpec},Me));return a.J(a.K(Me[1]))?Ce.concat([new a.V(`${Ae}[1]`,Me[1],"expressions are not allowed in function stops.")]):Ce.concat(Mt({key:`${Ae}[1]`,value:Me[1],valueSpec:c,style:he.style,styleSpec:he.styleSpec}))}function ce(he,Ce){const Me=a.B(he.value),Ae=a.D(he.value),ke=he.value!==null?he.value:Ce;if(w){if(Me!==w)return[new a.V(he.key,ke,`${Me} stop domain type must match previous stop domain type ${w}`)]}else w=Me;if(Me!=="number"&&Me!=="string"&&Me!=="boolean"&&typeof Ae!="number"&&typeof Ae!="string"&&typeof Ae!="boolean")return[new a.V(he.key,ke,"stop domain value must be a number, string, or boolean")];if(Me!=="number"&&f!=="categorical"){let He=`number expected, ${Me} found`;return a.G(c)&&f===void 0&&(He+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new a.V(he.key,ke,He)]}return f!=="categorical"||Me!=="number"||typeof Ae=="number"&&isFinite(Ae)&&Math.floor(Ae)===Ae?f!=="categorical"&&Me==="number"&&typeof Ae=="number"&&typeof I=="number"&&I!==void 0&&Ae<I?[new a.V(he.key,ke,"stop domain values must appear in ascending order")]:(I=Ae,f==="categorical"&&Ae in D?[new a.V(he.key,ke,"stop domain values must be unique")]:(D[Ae]=!0,[])):[new a.V(he.key,ke,`integer expected, found ${String(Ae)}`)]}}function fn(x){const c=(x.expressionContext==="property"?a.L:a.M)(a.K(x.value),x.valueSpec);if(c.result==="error")return c.value.map(w=>new a.V(`${x.key}${w.key}`,x.value,w.message));const f=c.value.expression||c.value._styleExpression.expression;if(x.expressionContext==="property"&&x.propertyKey==="text-font"&&!f.outputDefined())return[new a.V(x.key,x.value,`Invalid data expression for "${x.propertyKey}". Output values must be contained as literals within the expression.`)];if(x.expressionContext==="property"&&x.propertyType==="layout"&&!a.N(f))return[new a.V(x.key,x.value,'"feature-state" data expressions are not supported with layout properties.')];if(x.expressionContext==="filter")return hn(f,x);if(x.expressionContext&&x.expressionContext.indexOf("cluster")===0){if(!a.O(f,["zoom","feature-state"]))return[new a.V(x.key,x.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(x.expressionContext==="cluster-initial"&&!a.Q(f))return[new a.V(x.key,x.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function hn(x,c){const f=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(c.valueSpec&&c.valueSpec.expression)for(const I of c.valueSpec.expression.parameters)f.delete(I);if(f.size===0)return[];const w=[];return x instanceof a.S&&f.has(x.name)?[new a.V(c.key,c.value,`["${x.name}"] expression is not supported in a filter for a ${c.object.type} layer with id: ${c.object.id}`)]:(x.eachChild(I=>{w.push(...hn(I,c))}),w)}function Dn(x){const c=x.key,f=x.value,w=x.valueSpec,I=[];return Array.isArray(w.values)?w.values.indexOf(a.D(f))===-1&&I.push(new a.V(c,f,`expected one of [${w.values.join(", ")}], ${JSON.stringify(f)} found`)):Object.keys(w.values).indexOf(a.D(f))===-1&&I.push(new a.V(c,f,`expected one of [${Object.keys(w.values).join(", ")}], ${JSON.stringify(f)} found`)),I}function ln(x){return a.W(a.K(x.value))?fn(a.C({},x,{expressionContext:"filter",valueSpec:x.styleSpec[`filter_${x.layerType||"fill"}`]})):St(x)}function St(x){const c=x.value,f=x.key;if(a.B(c)!=="array")return[new a.V(f,c,`array expected, ${a.B(c)} found`)];const w=x.styleSpec;let I,L=[];if(c.length<1)return[new a.V(f,c,"filter array must have at least 1 element")];switch(L=L.concat(Dn({key:`${f}[0]`,value:c[0],valueSpec:w.filter_operator,style:x.style,styleSpec:x.styleSpec})),a.D(c[0])){case"<":case"<=":case">":case">=":c.length>=2&&a.D(c[1])==="$type"&&L.push(new a.V(f,c,`"$type" cannot be use with operator "${c[0]}"`));case"==":case"!=":c.length!==3&&L.push(new a.V(f,c,`filter array for operator "${c[0]}" must have 3 elements`));case"in":case"!in":c.length>=2&&(I=a.B(c[1]),I!=="string"&&L.push(new a.V(`${f}[1]`,c[1],`string expected, ${I} found`)));for(let D=2;D<c.length;D++)I=a.B(c[D]),a.D(c[1])==="$type"?L=L.concat(Dn({key:`${f}[${D}]`,value:c[D],valueSpec:w.geometry_type,style:x.style,styleSpec:x.styleSpec})):I!=="string"&&I!=="number"&&I!=="boolean"&&L.push(new a.V(`${f}[${D}]`,c[D],`string, number, or boolean expected, ${I} found`));break;case"any":case"all":case"none":for(let D=1;D<c.length;D++)L=L.concat(St({key:`${f}[${D}]`,value:c[D],style:x.style,styleSpec:x.styleSpec}));break;case"has":case"!has":I=a.B(c[1]),c.length!==2?L.push(new a.V(f,c,`filter array for "${c[0]}" operator must have 2 elements`)):I!=="string"&&L.push(new a.V(`${f}[1]`,c[1],`string expected, ${I} found`))}return L}function Pn(x,c){const f=x.key,w=x.style,I=x.layer,L=x.styleSpec,D=x.value,j=x.objectKey,K=L[`${c}_${x.layerType}`];if(!K)return[];const Z=j.match(/^(.*)-transition$/);if(c==="paint"&&Z&&K[Z[1]]&&K[Z[1]].transition)return Mt({key:f,value:D,valueSpec:L.transition,style:w,styleSpec:L});const J=x.valueSpec||K[j];if(!J)return[new a.A(f,D,`unknown property "${j}"`)];let oe;if(a.B(D)==="string"&&a.G(J)&&!J.tokens&&(oe=/^{([^}]+)}$/.exec(D))){const he=`\`{ "type": "identity", "property": ${oe?JSON.stringify(oe[1]):'"_"'} }\``;return[new a.V(f,D,`"${j}" does not support interpolation syntax
Use an identity property function instead: ${he}.`)]}const ce=[];if(x.layerType==="symbol")j!=="text-field"||!w||w.glyphs||w.imports||ce.push(new a.V(f,D,'use of "text-field" requires a style "glyphs" property')),j==="text-font"&&a.X(a.K(D))&&a.D(D.type)==="identity"&&ce.push(new a.V(f,D,'"text-font" does not support identity functions'));else if(x.layerType==="model"&&c==="paint"&&I&&I.layout&&I.layout.hasOwnProperty("model-id")&&a.G(J)&&(a.Y(J)||a.H(J))){const he=a.L(a.K(D),J),Ce=he.value.expression||he.value._styleExpression.expression;Ce&&!a.O(Ce,["measure-light"])&&(j==="model-emissive-strength"&&a.Q(Ce)&&a.N(Ce)||ce.push(new a.V(f,D,`${j} does not support measure-light expressions when the model layer source is vector tile or GeoJSON.`)))}return ce.concat(Mt({key:x.key,value:D,valueSpec:J,style:w,styleSpec:L,expressionContext:"property",propertyType:c,propertyKey:j}))}function rr(x){return Pn(x,"paint")}function cr(x){return Pn(x,"layout")}function sr(x){let c=[];const f=x.value,w=x.key,I=x.style,L=x.styleSpec;f.type||f.ref||c.push(new a.V(w,f,'either "type" or "ref" is required'));let D=a.D(f.type);const j=a.D(f.ref);if(f.id){const K=a.D(f.id);for(let Z=0;Z<x.arrayIndex;Z++){const J=I.layers[Z];a.D(J.id)===K&&c.push(new a.V(w,f.id,`duplicate layer id "${f.id}", previously used at line ${J.id.__line__}`))}}if("ref"in f){let K;["type","source","source-layer","filter","layout"].forEach(Z=>{Z in f&&c.push(new a.V(w,f[Z],`"${Z}" is prohibited for ref layers`))}),I.layers.forEach(Z=>{a.D(Z.id)===j&&(K=Z)}),K?K.ref?c.push(new a.V(w,f.ref,"ref cannot reference another ref layer")):D=a.D(K.type):typeof j=="string"&&c.push(new a.V(w,f.ref,`ref layer "${j}" not found`))}else if(D!=="background"&&D!=="sky"&&D!=="slot")if(f.source){const K=I.sources&&I.sources[f.source],Z=K&&a.D(K.type);K?Z==="vector"&&D==="raster"?c.push(new a.V(w,f.source,`layer "${f.id}" requires a raster source`)):Z==="raster"&&D!=="raster"?c.push(new a.V(w,f.source,`layer "${f.id}" requires a vector source`)):Z!=="vector"||f["source-layer"]?Z==="raster-dem"&&D!=="hillshade"?c.push(new a.V(w,f.source,"raster-dem source can only be used with layer type 'hillshade'.")):Z!=="raster-array"||["raster","raster-particle"].includes(D)?D!=="line"||!f.paint||!f.paint["line-gradient"]&&!f.paint["line-trim-offset"]||Z==="geojson"&&K.lineMetrics?D==="raster-particle"&&Z!=="raster-array"&&c.push(new a.V(w,f.source,`layer "${f.id}" requires a 'raster-array' source.`)):c.push(new a.V(w,f,`layer "${f.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):c.push(new a.V(w,f.source,"raster-array source can only be used with layer type 'raster'.")):c.push(new a.V(w,f,`layer "${f.id}" must specify a "source-layer"`)):c.push(new a.V(w,f.source,`source "${f.source}" not found`))}else c.push(new a.V(w,f,'missing required property "source"'));return c=c.concat(It({key:w,value:f,valueSpec:L.layer,style:x.style,styleSpec:x.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Mt({key:`${w}.type`,value:f.type,valueSpec:L.layer.type,style:x.style,styleSpec:x.styleSpec,object:f,objectKey:"type"}),filter:K=>ln(a.C({layerType:D},K)),layout:K=>It({layer:f,key:K.key,value:K.value,valueSpec:{},style:K.style,styleSpec:K.styleSpec,objectElementValidators:{"*":Z=>cr(a.C({layerType:D},Z))}}),paint:K=>It({layer:f,key:K.key,value:K.value,valueSpec:{},style:K.style,styleSpec:K.styleSpec,objectElementValidators:{"*":Z=>rr(a.C({layerType:D,layer:f},Z))}})}})),c}function Xr(x){const c=x.value,f=x.key,w=a.B(c);return w!=="string"?[new a.V(f,c,`string expected, ${w} found`)]:[]}const wi={promoteId:function({key:x,value:c}){if(a.B(c)==="string")return Xr({key:x,value:c});{const f=[];for(const w in c)f.push(...Xr({key:`${x}.${w}`,value:c[w]}));return f}}};function Bt(x){const c=x.value,f=x.key,w=x.styleSpec,I=x.style;if(!c.type)return[new a.V(f,c,'"type" is required')];const L=a.D(c.type);let D=[];switch(["vector","raster","raster-dem","raster-array"].includes(L)&&(c.url||c.tiles||D.push(new a.A(f,c,'Either "url" or "tiles" is required.'))),L){case"vector":case"raster":case"raster-dem":case"raster-array":return D=D.concat(It({key:f,value:c,valueSpec:w[`source_${L.replace("-","_")}`],style:x.style,styleSpec:w,objectElementValidators:wi})),D;case"geojson":if(D=It({key:f,value:c,valueSpec:w.source_geojson,style:I,styleSpec:w,objectElementValidators:wi}),c.cluster)for(const j in c.clusterProperties){const[K,Z]=c.clusterProperties[j],J=typeof K=="string"?[K,["accumulated"],["get",j]]:K;D.push(...fn({key:`${f}.${j}.map`,value:Z,expressionContext:"cluster-map"})),D.push(...fn({key:`${f}.${j}.reduce`,value:J,expressionContext:"cluster-reduce"}))}return D;case"video":return It({key:f,value:c,valueSpec:w.source_video,style:I,styleSpec:w});case"image":return It({key:f,value:c,valueSpec:w.source_image,style:I,styleSpec:w});case"canvas":return[new a.V(f,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Dn({key:`${f}.type`,value:c.type,valueSpec:{values:yn(w)},style:I,styleSpec:w})}}function yn(x){return x.source.reduce((c,f)=>{const w=x[f];return w.type.type==="enum"&&(c=c.concat(Object.keys(w.type.values))),c},[])}function ht(x){const c=x.value,f=x.styleSpec,w=f.light,I=x.style;let L=[];const D=a.B(c);if(c===void 0)return L;if(D!=="object")return L=L.concat([new a.V("light",c,`object expected, ${D} found`)]),L;for(const j in c){const K=j.match(/^(.*)-transition$/);L=L.concat(K&&w[K[1]]&&w[K[1]].transition?Mt({key:j,value:c[j],valueSpec:f.transition,style:I,styleSpec:f}):w[j]?Mt({key:j,value:c[j],valueSpec:w[j],style:I,styleSpec:f}):[new a.V(j,c[j],`unknown property "${j}"`)])}return L}function Zt(x){const c=x.value;let f=[];if(!c)return f;const w=a.B(c);if(w!=="object")return f=f.concat([new a.V("light-3d",c,`object expected, ${w} found`)]),f;const I=x.styleSpec,L=I["light-3d"],D=x.key,j=x.style,K=x.style.lights;for(const oe of["type","id"])if(!(oe in c))return f=f.concat([new a.V("light-3d",c,`missing property ${oe} on light`)]),f;if(c.type&&K)for(let oe=0;oe<x.arrayIndex;oe++){const ce=a.D(c.type),he=K[oe];a.D(he.type)===ce&&f.push(new a.V(D,c.id,`duplicate light type "${c.type}", previously defined at line ${he.id.__line__}`))}const Z=`properties_light_${c.type}`;if(!(Z in I))return f=f.concat([new a.V("light-3d",c,`Invalid light type ${c.type}`)]),f;const J=I[Z];for(const oe in c)if(oe==="properties"){const ce=c[oe],he=a.B(ce);if(he!=="object")return f=f.concat([new a.V("properties",ce,`object expected, ${he} found`)]),f;for(const Ce in ce)f=f.concat(J[Ce]?Mt({key:Ce,value:ce[Ce],valueSpec:J[Ce],style:j,styleSpec:I}):[new a.A(x.key,ce[Ce],`unknown property "${Ce}"`)])}else{const ce=oe.match(/^(.*)-transition$/);f=f.concat(ce&&L[ce[1]]&&L[ce[1]].transition?Mt({key:oe,value:c[oe],valueSpec:I.transition,style:j,styleSpec:I}):L[oe]?Mt({key:oe,value:c[oe],valueSpec:L[oe],style:j,styleSpec:I}):[new a.A(oe,c[oe],`unknown property "${oe}"`)])}return f}function Xt(x){const c=x.value,f=x.key,w=x.style,I=x.styleSpec,L=I.terrain;let D=[];const j=a.B(c);if(c===void 0||j==="null")return D;if(j!=="object")return D=D.concat([new a.V("terrain",c,`object expected, ${j} found`)]),D;for(const K in c){const Z=K.match(/^(.*)-transition$/);D=D.concat(Z&&L[Z[1]]&&L[Z[1]].transition?Mt({key:K,value:c[K],valueSpec:I.transition,style:w,styleSpec:I}):L[K]?Mt({key:K,value:c[K],valueSpec:L[K],style:w,styleSpec:I}):[new a.A(K,c[K],`unknown property "${K}"`)])}if(c.source){const K=w.sources&&w.sources[c.source],Z=K&&a.D(K.type);K?Z!=="raster-dem"&&D.push(new a.V(f,c.source,`terrain cannot be used with a source of type ${String(Z)}, it only be used with a "raster-dem" source type`)):D.push(new a.V(f,c.source,`source "${c.source}" not found`))}else D.push(new a.V(f,c,'terrain is missing required property "source"'));return D}function qn(x){const c=x.value,f=x.style,w=x.styleSpec,I=w.fog;let L=[];const D=a.B(c);if(c===void 0)return L;if(D!=="object")return L=L.concat([new a.V("fog",c,`object expected, ${D} found`)]),L;for(const j in c){const K=j.match(/^(.*)-transition$/);L=L.concat(K&&I[K[1]]&&I[K[1]].transition?Mt({key:j,value:c[j],valueSpec:w.transition,style:f,styleSpec:w}):I[j]?Mt({key:j,value:c[j],valueSpec:I[j],style:f,styleSpec:w}):[new a.A(j,c[j],`unknown property "${j}"`)])}return L}const Qr={"*":()=>[],array:Ft,boolean:function(x){const c=x.value,f=x.key,w=a.B(c);return w!=="boolean"?[new a.V(f,c,`boolean expected, ${w} found`)]:[]},number:zt,color:function(x){const c=x.key,f=x.value,w=a.B(f);return w!=="string"?[new a.V(c,f,`color expected, ${w} found`)]:a.U.parseCSSColor(f)===null?[new a.V(c,f,`color expected, "${f}" found`)]:[]},enum:Dn,filter:ln,function:tn,layer:sr,object:It,source:Bt,model:a.Z,light:ht,"light-3d":Zt,terrain:Xt,fog:qn,string:Xr,formatted:function(x){return Xr(x).length===0?[]:fn(x)},resolvedImage:function(x){return Xr(x).length===0?[]:fn(x)},projection:function(x){const c=x.value,f=x.styleSpec,w=f.projection,I=x.style;let L=[];const D=a.B(c);if(D==="object")for(const j in c)L=L.concat(Mt({key:j,value:c[j],valueSpec:w[j],style:I,styleSpec:f}));else D!=="string"&&(L=L.concat([new a.V("projection",c,`object or string expected, ${D} found`)]));return L},import:function(x){const{value:c,styleSpec:f}=x,{data:w,...I}=c;Object.defineProperty(I,"__line__",{value:c.__line__,enumerable:!1});let L=It(a.C({},x,{value:I,valueSpec:f.import}));return a.D(I.id)===""&&L.push(new a.V(`${x.key}.id`,I,"import id can't be an empty string")),w&&(L=L.concat(Wr(w,f,{key:`${x.key}.data`}))),L}};function Mt(x,c=!1){const f=x.value,w=x.valueSpec,I=x.styleSpec;if(w.expression&&a.X(a.D(f)))return tn(x);if(w.expression&&a.J(a.K(f)))return fn(x);if(w.type&&Qr[w.type]){const L=Qr[w.type](x);return c===!0&&L.length>0&&a.B(x.value)==="array"?fn(x):L}return It(a.C({},x,{valueSpec:w.type?I[w.type]:w}))}function Gn(x){const c=x.value,f=x.key,w=Xr(x);return w.length||(c.indexOf("{fontstack}")===-1&&w.push(new a.V(f,c,'"glyphs" url must include a "{fontstack}" token')),c.indexOf("{range}")===-1&&w.push(new a.V(f,c,'"glyphs" url must include a "{range}" token'))),w}function Wr(x,c=a._,f={}){return Mt({key:f.key||"",value:x,valueSpec:c.$root,styleSpec:c,style:x,objectElementValidators:{glyphs:Gn,"*":()=>[]}})}function Nr(x,c=a._){return ot(Wr(x,c))}const qr=x=>ot(Bt(x)),si=x=>ot(ht(x)),Ya=x=>ot(Zt(x)),Wl=x=>ot(Xt(x)),qs=x=>ot(qn(x)),Ht=x=>ot(sr(x)),Pe=x=>ot(ln(x)),Oe=x=>ot(rr(x)),Xe=x=>ot(cr(x)),ut=x=>ot(a.Z(x));function ot(x){return x.slice().sort((c,f)=>c.line&&f.line?c.line-f.line:0)}function Tt(x,c){let f=!1;if(c&&c.length)for(const w of c)w instanceof a.A?a.w(w.message):(x.fire(new a.t(new Error(w.message))),f=!0);return f}let Ut;class kt extends a.E{constructor(c,f="flat"){super(),this._transitionable=new a.$(Ut||(Ut=new a.a0({anchor:new a.a1(a._.light.anchor),position:new a.a2(a._.light.position),color:new a.a1(a._.light.color),intensity:new a.a1(a._.light.intensity)}))),this.setLight(c,f),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(c,f,w={}){this._validate(si,c,w)||(this._transitionable.setTransitionOrValue(c),this.id=f)}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}_validate(c,f,w){return(!w||w.validate!==!1)&&Tt(this,c.call(Nr,a.l({value:f,style:{glyphs:!0,sprite:!0},styleSpec:a._})))}}const jt=new a.a0({source:new a.a1(a._.terrain.source),exaggeration:new a.a1(a._.terrain.exaggeration)});let rt=class extends a.E{constructor(x,c,f,w){super(),this.scope=f,this._transitionable=new a.$(jt,f,w),this._transitionable.setTransitionOrValue(x,w),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=c}get(){return this._transitionable.serialize()}set(x,c){this._transitionable.setTransitionOrValue(x,c)}updateTransitions(x){this._transitioning=this._transitionable.transitioned(x,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(x){this.properties=this._transitioning.possiblyEvaluate(x)}getExaggeration(x){return this._transitioning.possiblyEvaluate(new a.a3(x)).get("exaggeration")}isZoomDependent(){const x=this._transitionable._values.exaggeration;return x!=null&&x.value!=null&&x.value.expression!=null&&x.value.expression instanceof a.a4}};const _t=45,rn=65,bn=.05;function Rn(x,c,f,w){const I=a.a7(_t,rn,f),[L,D]=mr(x,w);let j=1-Math.min(1,Math.exp((c-L)/(D-L)*-6));return j*=j*j,j=Math.min(1,1.00747*j),j*I*x.alpha}function mr(x,c){const f=.5/Math.tan(.5*c);return[x.range[0]+f,x.range[1]+f]}function gr(x,c,f,w,I){const L=a.a6.vec3.transformMat4([],[c,f,w],I.mercatorFogMatrix);return Rn(x,a.a6.vec3.length(L),I.pitch,I._fov)}function hr(x,c,f,w,I,L,D){const j=[[f,w,0],[I,w,0],[I,L,0],[f,L,0]];let K=Number.MAX_VALUE,Z=-Number.MAX_VALUE;for(const J of j){const oe=a.a6.vec3.transformMat4([],J,c),ce=a.a6.vec3.length(oe);K=Math.min(K,ce),Z=Math.max(Z,ce)}return[Rn(x,K,D.pitch,D._fov),Rn(x,Z,D.pitch,D._fov)]}const dr=new a.a0({range:new a.a1(a._.fog.range),color:new a.a1(a._.fog.color),"high-color":new a.a1(a._.fog["high-color"]),"space-color":new a.a1(a._.fog["space-color"]),"horizon-blend":new a.a1(a._.fog["horizon-blend"]),"star-intensity":new a.a1(a._.fog["star-intensity"]),"vertical-range":new a.a1(a._.fog["vertical-range"])});class li extends a.E{constructor(c,f,w,I){super(),this._transitionable=new a.$(dr,w,new Map(I)),this.set(c,I),this._transitioning=this._transitionable.untransitioned(),this._transform=f,this.properties=new a.a8(dr),this.scope=w}get state(){const c=this._transform,f=c.projection.name==="globe",w=a.a9(c.zoom),I=this.properties.get("range"),L=[.5,3];return{range:f?[a.aa(L[0],I[0],w),a.aa(L[1],I[1],w)]:I,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(c,f,w={}){if(this._validate(qs,c,w))return;const I=a.l({},c);for(const L of Object.keys(a._.fog))I[L]===void 0&&(I[L]=a._.fog[L].default);this._options=I,this._transitionable.setTransitionOrValue(this._options,f)}getOpacity(c){if(!this._transform.projection.supportsFog)return 0;const f=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:a.a7(_t,rn,c))*f.a}getOpacityAtLatLng(c,f){return this._transform.projection.supportsFog?function(w,I,L){const D=a.a5.fromLngLat(I),j=L.elevation?L.elevation.getAtPointOrZero(D):0;return gr(w,D.x,D.y,j,L)}(this.state,c,f):0}getOpacityForTile(c){if(!this._transform.projection.supportsFog)return[1,1];const f=this._transform.calculateFogTileMatrix(c.toUnwrapped());return hr(this.state,f,0,0,a.ab,a.ab,this._transform)}getOpacityForBounds(c,f,w,I,L){return this._transform.projection.supportsFog?hr(this.state,c,f,w,I,L,this._transform):[1,1]}getFovAdjustedRange(c){return this._transform.projection.supportsFog?mr(this.state,c):[0,1]}isVisibleOnFrustum(c){if(!this._transform.projection.supportsFog)return!1;const f=[4,5,6,7];for(const w of f){const I=c.points[w];let L;if(I[2]>=0)L=I;else{const D=c.points[w-4];L=a.ac(D,I,D[2]/(D[2]-I[2]))}if(gr(this.state,L[0],L[1],0,this._transform)>=bn)return!0}return!1}updateConfig(c){this._transitionable.setTransitionOrValue(this._options,new Map(c))}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}_validate(c,f,w){return(!w||w.validate!==!1)&&Tt(this,c.call(Nr,a.l({value:f,style:{glyphs:!0,sprite:!0},styleSpec:a._})))}}class an extends a.E{constructor(c,f,w,I){super(),this.scope=w,this._options=c,this.properties=new a.a8(f),this._transitionable=new a.$(f,w,new Map(I)),this._transitionable.setTransitionOrValue(c.properties),this._transitioning=this._transitionable.untransitioned()}updateConfig(c){this._transitionable.setTransitionOrValue(this._options.properties,new Map(c))}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}get(){return this._options.properties=this._transitionable.serialize(),this._options}set(c,f){this._options=c,this._transitionable.setTransitionOrValue(c.properties,f)}shadowsEnabled(){return!!this.properties&&this.properties.get("cast-shadows")===!0}}let Cn,Yn;class xr{constructor(c,f,w,I){this.screenBounds=c,this.cameraPoint=f,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=w,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,I)}static createFromScreenPoints(c,f){let w,I;if(c instanceof a.P||typeof c[0]=="number"){const L=a.P.convert(c);w=[L],I=f.isPointAboveHorizon(L)}else{const L=a.P.convert(c[0]),D=a.P.convert(c[1]);w=[L,D],I=a.ae(L,D).every(j=>f.isPointAboveHorizon(j))}return new xr(w,f.getCameraPoint(),I,f)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(c){return a.ae(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],c)}bufferedCameraGeometry(c){const f=this.screenBounds[0],w=this.screenBounds.length===1?this.screenBounds[0].add(new a.P(1,1)):this.screenBounds[1],I=a.ae(f,w,0,!1);return this.cameraPoint.y>w.y&&(this.cameraPoint.x>f.x&&this.cameraPoint.x<w.x?I.splice(3,0,this.cameraPoint):this.cameraPoint.x>=w.x?I[2]=this.cameraPoint:this.cameraPoint.x<=f.x&&(I[3]=this.cameraPoint)),a.af(I,c)}bufferedCameraGeometryGlobe(c){const f=this.screenBounds[0],w=this.screenBounds.length===1?this.screenBounds[0].add(new a.P(1,1)):this.screenBounds[1],I=a.ae(f,w,c),L=this.cameraPoint.clone();switch(3*((L.y>f.y)+(L.y>w.y))+((L.x>f.x)+(L.x>w.x))){case 0:I[0]=L,I[4]=L.clone();break;case 1:I.splice(1,0,L);break;case 2:I[1]=L;break;case 3:I.splice(4,0,L);break;case 5:I.splice(2,0,L);break;case 6:I[3]=L;break;case 7:I.splice(3,0,L);break;case 8:I[2]=L}return I}containsTile(c,f,w,I=0){const L=c.queryPadding/f._pixelsPerMercatorPixel+1,D=w?this._bufferedCameraMercator(L,f):this._bufferedScreenMercator(L,f);let j=c.tileID.wrap+(D.unwrapped?I:0);const K=D.polygon.map(Ae=>a.ag(c.tileTransform,Ae,j));if(!a.ah(K,0,0,a.ab,a.ab))return;j=c.tileID.wrap+(this.screenGeometryMercator.unwrapped?I:0);const Z=this.screenGeometryMercator.polygon.map(Ae=>a.ai(c.tileTransform,Ae,j)),J=Z.map(Ae=>new a.P(Ae[0],Ae[1])),oe=f.getFreeCameraOptions().position||new a.a5(0,0,0),ce=a.ai(c.tileTransform,oe,j),he=Z.map(Ae=>{const ke=a.a6.vec3.sub(Ae,Ae,ce);return a.a6.vec3.normalize(ke,ke),new a.aj(ce,ke)}),Ce=a.ak(c,1,f.zoom)*f._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:J,tilespaceRays:he,bufferedTilespaceGeometry:K,bufferedTilespaceBounds:(Me=a.al(K),Me.min.x=a.ap(Me.min.x,0,a.ab),Me.min.y=a.ap(Me.min.y,0,a.ab),Me.max.x=a.ap(Me.max.x,0,a.ab),Me.max.y=a.ap(Me.max.y,0,a.ab),Me),tile:c,tileID:c.tileID,pixelToTileUnitsFactor:Ce};var Me}_bufferedScreenMercator(c,f){const w=bo(c);if(this._screenRaycastCache[w])return this._screenRaycastCache[w];{let I;return I=f.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(c),f):{polygon:this.bufferedScreenGeometry(c).map(L=>f.pointCoordinate3D(L)),unwrapped:!0},this._screenRaycastCache[w]=I,I}}_bufferedCameraMercator(c,f){const w=bo(c);if(this._cameraRaycastCache[w])return this._cameraRaycastCache[w];{let I;return I=f.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(c),f):{polygon:this.bufferedCameraGeometry(c).map(L=>f.pointCoordinate3D(L)),unwrapped:!0},this._cameraRaycastCache[w]=I,I}}_projectAndResample(c,f){const w=function(L,D){const j=a.a6.mat4.multiply([],D.pixelMatrix,D.globeMatrix),K=[0,-a.aq,0,1],Z=[0,a.aq,0,1],J=[0,0,0,1];a.a6.vec4.transformMat4(K,K,j),a.a6.vec4.transformMat4(Z,Z,j),a.a6.vec4.transformMat4(J,J,j);const oe=new a.P(K[0]/K[3],K[1]/K[3]),ce=new a.P(Z[0]/Z[3],Z[1]/Z[3]),he=a.an(L,oe)&&K[3]<J[3],Ce=a.an(L,ce)&&Z[3]<J[3];if(!he&&!Ce)return null;const Me=function(at,nt,st){for(let gt=1;gt<at.length;gt++){const ft=ia(nt.pointCoordinate3D(at[gt-1]).x),ct=ia(nt.pointCoordinate3D(at[gt]).x);if(st<0){if(ft<ct)return{idx:gt,t:-ft/(ct-1-ft)}}else if(ct<ft)return{idx:gt,t:(1-ft)/(ct+1-ft)}}return null}(L,D,he?-1:1);if(!Me)return null;const{idx:Ae,t:ke}=Me;let He=Ae>1?Oi(L.slice(0,Ae),D):[],Ge=Ae<L.length?Oi(L.slice(Ae),D):[];He=He.map(at=>new a.P(ia(at.x),at.y)),Ge=Ge.map(at=>new a.P(ia(at.x),at.y));const $e=[...He];$e.length===0&&$e.push(Ge[Ge.length-1]);const Ke=a.aa($e[$e.length-1].y,(Ge.length===0?He[0]:Ge[0]).y,ke);let qe;return qe=he?[new a.P(0,Ke),new a.P(0,0),new a.P(1,0),new a.P(1,Ke)]:[new a.P(1,Ke),new a.P(1,1),new a.P(0,1),new a.P(0,Ke)],$e.push(...qe),Ge.length===0?$e.push(He[0]):$e.push(...Ge),{polygon:$e.map(at=>new a.a5(at.x,at.y)),unwrapped:!1}}(c,f);if(w)return w;const I=function(L,D){let j=!1,K=-1/0,Z=0;for(let oe=0;oe<L.length-1;oe++)L[oe].x>K&&(K=L[oe].x,Z=oe);for(let oe=0;oe<L.length-1;oe++){const ce=(Z+oe)%(L.length-1),he=L[ce],Ce=L[ce+1];Math.abs(he.x-Ce.x)>.5&&(he.x<Ce.x?(he.x+=1,ce===0&&(L[L.length-1].x+=1)):(Ce.x+=1,ce+1===L.length-1&&(L[0].x+=1)),j=!0)}const J=a.am(D.center.lng);return j&&J<Math.abs(J-1)&&L.forEach(oe=>{oe.x-=1}),{polygon:L,unwrapped:j}}(Oi(c,f).map(L=>new a.P(ia(L.x),L.y)),f);return{polygon:I.polygon.map(L=>new a.a5(L.x,L.y)),unwrapped:I.unwrapped}}}function Oi(x,c){return a.ao(x,f=>{const w=c.pointCoordinate3D(f);f.x=w.x,f.y=w.y},1/256)}function ia(x){return x<0?1+x%1:x%1}function bo(x){return 100*x|0}function yl(x,c,f,w,I){const L=function(j,K){if(j)return I(j);if(K){if(x.url&&K.tiles&&x.tiles&&delete x.tiles,K.variants){if(!Array.isArray(K.variants))return I(new Error("variants must be an array"));for(const J of K.variants){if(J==null||typeof J!="object"||J.constructor!==Object)return I(new Error("variant must be an object"));if(!Array.isArray(J.capabilities))return I(new Error("capabilities must be an array"));if(J.capabilities.length===1&&J.capabilities[0]==="meshopt"){K=a.l(K,J);break}}}const Z=a.ar(a.l(K,x),["tilejson","tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);K.vector_layers&&(Z.vectorLayers=K.vector_layers,Z.vectorLayerIds=Z.vectorLayers.map(J=>J.id)),K.raster_layers&&(Z.rasterLayers=K.raster_layers,Z.rasterLayerIds=Z.rasterLayers.map(J=>J.id)),Z.tiles=c.canonicalizeTileset(Z,x.url),I(null,Z)}},D=function(j,K,Z){if(!j)return null;if(!K&&!Z)return j;Z=Z||j.worldview_default;const J=Object.values(j.language||{});if(J.length===0)return null;const oe=Object.values(j.worldview||{});if(oe.length===0)return null;const ce=J.every(Ce=>Ce===K),he=oe.every(Ce=>Ce===Z);return ce&&he?j:K in(j.language_options||{})||Z in(j.worldview_options||{})?null:j.language_options&&j.worldview_options?j:null}(x.data,f,w);return D?a.q.frame(()=>L(null,D)):x.url?a.n(c.transformRequest(c.normalizeSourceURL(x.url,null,f,w),a.R.Source),L):a.q.frame(()=>{const{data:j,...K}=x;L(null,K)})}class Ou{constructor(c,f,w){this.bounds=a.as.convert(this.validateBounds(c)),this.minzoom=f||0,this.maxzoom=w||24}validateBounds(c){return Array.isArray(c)&&c.length===4?[Math.max(-180,c[0]),Math.max(-90,c[1]),Math.min(180,c[2]),Math.min(90,c[3])]:[-180,-90,180,90]}contains(c){const f=Math.pow(2,c.z),w=Math.floor(a.am(this.bounds.getWest())*f),I=Math.floor(a.at(this.bounds.getNorth())*f),L=Math.ceil(a.am(this.bounds.getEast())*f),D=Math.ceil(a.at(this.bounds.getSouth())*f);return c.x>=w&&c.x<L&&c.y>=I&&c.y<D}}class R0 extends a.E{constructor(c,f,w,I){if(super(),this.id=c,this.dispatcher=w,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.l(this,a.ar(f,["url","scheme","tileSize","promoteId"])),this._options=a.l({type:"vector"},f),this._collectResourceTiming=!!f.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(I),this._tileWorkers={},this._deduped=new a.au}load(c){this._loaded=!1,this.fire(new a.x("dataloading",{dataType:"source"}));const f=Array.isArray(this.map._language)?this.map._language.join():this.map._language,w=this.map._worldview;this._tileJSONRequest=yl(this._options,this.map._requestManager,f,w,(I,L)=>{this._tileJSONRequest=null,this._loaded=!0,I?(f&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${f}`),w&&w.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${w}`),this.fire(new a.t(I))):L&&(a.l(this,L),L.bounds&&(this.tileBounds=new Ou(L.bounds,this.minzoom,this.maxzoom)),Ye(L.tiles,this.map._requestManager._customAccessToken),this.fire(new a.x("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.x("data",{dataType:"source",sourceDataType:"content"}))),c&&c(I)})}loaded(){return this._loaded}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}onAdd(c){this.map=c,this.load()}reload(){this.cancelTileJSONRequest();const c=a.av(this.id,this.scope);this.load(()=>this.map.style.clearSource(c))}setTiles(c){return this._options.tiles=c,this.reload(),this}setUrl(c){return this.url=c,this._options.url=c,this.reload(),this}onRemove(c){this.cancelTileJSONRequest()}serialize(){return a.l({},this._options)}loadTile(c,f){const w=this.map._requestManager.normalizeTileURL(c.tileID.canonical.url(this.tiles,this.scheme)),I=this.map._requestManager.transformRequest(w,a.R.Tile),L=this.map.style?this.map.style.getLut(this.scope):null,D={request:I,data:void 0,uid:c.uid,tileID:c.tileID,tileZoom:c.tileZoom,zoom:c.tileID.overscaledZ,lut:L?{image:L.image.clone()}:null,tileSize:this.tileSize*c.tileID.overscaleFactor(),type:this.type,source:this.id,scope:this.scope,pixelRatio:a.q.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:c.isSymbolTile,brightness:this.map.style&&this.map.style.getBrightness()||0,extraShadowCaster:c.isExtraShadowCaster,tessellationStep:this.map._tessellationStep};if(D.request.collectResourceTiming=this._collectResourceTiming,c.actor&&c.state!=="expired")c.state==="loading"?c.reloadCallback=f:c.request=c.actor.send("reloadTile",D,j.bind(this));else if(c.actor=this._tileWorkers[w]=this._tileWorkers[w]||this.dispatcher.getActor(),this.dispatcher.ready)c.request=c.actor.send("loadTile",D,j.bind(this),void 0,!0);else{const K=a.aw.call({deduped:this._deduped},D,(Z,J)=>{Z||!J?j.call(this,Z):(D.data={cacheControl:J.cacheControl,expires:J.expires,rawData:J.rawData.slice(0)},c.actor&&c.actor.send("loadTile",D,j.bind(this),void 0,!0))},!0);c.request={cancel:K}}function j(K,Z){return delete c.request,c.aborted?f(null):K&&K.status!==404?f(K):(Z&&Z.resourceTiming&&(c.resourceTiming=Z.resourceTiming),this.map._refreshExpiredTiles&&Z&&c.setExpiryData(Z),c.loadVectorData(Z,this.map.painter),a.ax(this.dispatcher),f(null),void(c.reloadCallback&&(this.loadTile(c,c.reloadCallback),c.reloadCallback=null)))}}abortTile(c){c.request&&(c.request.cancel(),delete c.request),c.actor&&c.actor.send("abortTile",{uid:c.uid,type:this.type,source:this.id,scope:this.scope})}unloadTile(c,f){c.actor&&c.actor.send("removeTile",{uid:c.uid,type:this.type,source:this.id,scope:this.scope}),c.destroy()}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class Sp extends a.E{constructor(c,f,w,I){super(),this.id=c,this.dispatcher=w,this.setEventedParent(I),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.l({type:"raster"},f),a.l(this,a.ar(f,["url","scheme","tileSize"]))}load(c){this._loaded=!1,this.fire(new a.x("dataloading",{dataType:"source"})),this._tileJSONRequest=yl(this._options,this.map._requestManager,null,null,(f,w)=>{this._tileJSONRequest=null,this._loaded=!0,f?this.fire(new a.t(f)):w&&(a.l(this,w),w.bounds&&(this.tileBounds=new Ou(w.bounds,this.minzoom,this.maxzoom)),Ye(w.tiles),this.fire(new a.x("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.x("data",{dataType:"source",sourceDataType:"content"}))),c&&c(f)})}loaded(){return this._loaded}onAdd(c){this.map=c,this.load()}reload(){this.cancelTileJSONRequest();const c=a.av(this.id,this.scope);this.load(()=>this.map.style.clearSource(c))}setTiles(c){return this._options.tiles=c,this.reload(),this}setUrl(c){return this.url=c,this._options.url=c,this.reload(),this}onRemove(c){this.cancelTileJSONRequest()}serialize(){return a.l({},this._options)}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}loadTile(c,f){const w=a.q.devicePixelRatio>=2,I=this.map._requestManager.normalizeTileURL(c.tileID.canonical.url(this.tiles,this.scheme),w,this.tileSize);c.request=a.o(this.map._requestManager.transformRequest(I,a.R.Tile),(L,D,j,K)=>(delete c.request,c.aborted?(c.state="unloaded",f(null)):L?(c.state="errored",f(L)):D?(this.map._refreshExpiredTiles&&c.setExpiryData({cacheControl:j,expires:K}),c.setTexture(D,this.map.painter),c.state="loaded",a.ax(this.dispatcher),void f(null)):f(null)))}abortTile(c,f){c.request&&(c.request.cancel(),delete c.request),f&&f()}unloadTile(c,f){c.texture&&c.texture instanceof a.T?(c.destroy(!0),c.texture&&c.texture instanceof a.T&&this.map.painter.saveTileTexture(c.texture)):c.destroy(),f&&f()}hasTransition(){return!1}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class Sh extends Sp{constructor(c,f,w,I){super(c,f,w,I),this.type="raster-array",this.maxzoom=22,this._options=a.l({type:"raster-array"},f)}triggerRepaint(c){const f=this.map.painter._terrain,w=this.map.style.getSourceCache(this.id);f&&f.enabled&&w&&f._clearRenderCacheForTile(w.id,c.tileID),this.map.triggerRepaint()}loadTile(c,f){const w=this.map._requestManager.normalizeTileURL(c.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize),I=this.map._requestManager.transformRequest(w,a.R.Tile);c.requestParams=I,c.actor||(c.actor=this.dispatcher.getActor()),c.request=c.fetchHeader(void 0,(L,D,j,K)=>{if(delete c.request,c.aborted)return c.state="unloaded",f(null);if(L)return L.code===20?void 0:(c.state="errored",f(L));this.map._refreshExpiredTiles&&c.setExpiryData({cacheControl:j,expires:K}),c.state="empty",f(null)})}unloadTile(c,f){const w=c.texture;w&&w instanceof a.T?(c.destroy(!0),this.map.painter.saveTileTexture(w)):(c.destroy(),c.flushQueues(),c._isHeaderLoaded=!1,delete c._mrt,delete c.textureDescriptor),c.fbo&&(c.fbo.destroy(),delete c.fbo),delete c.request,delete c.requestParams,delete c.neighboringTiles,c.state="unloaded"}prepareTile(c,f,w){c._isHeaderLoaded&&(c.state!=="empty"&&(c.state="reloading"),c.fetchBand(f,w,(I,L)=>{if(I)return c.state="errored",this.fire(new a.t(I)),void this.triggerRepaint(c);L&&(c.setTexture(L,this.map.painter),c.state="loaded",this.triggerRepaint(c))}))}getInitialBand(c){if(!this.rasterLayers)return 0;const f=this.rasterLayers.find(({id:L})=>L===c),w=f&&f.fields,I=w&&w.bands&&w.bands;return I?I[0]:0}getTextureDescriptor(c,f,w){if(!c)return;const I=f.sourceLayer||this.rasterLayerIds&&this.rasterLayerIds[0];if(!I)return;let L=null;f instanceof a.aB?L=f.paint.get("raster-array-band"):f instanceof a.aC&&(L=f.paint.get("raster-particle-array-band"));const D=L||this.getInitialBand(I);if(D!=null)if(c.textureDescriptor){if(!c.updateNeeded(I,D)||w)return Object.assign({},c.textureDescriptor,{texture:c.texture})}else this.prepareTile(c,I,D)}}const D0={vector:R0,raster:Sp,"raster-dem":class extends Sp{constructor(x,c,f,w){super(x,c,f,w),this.type="raster-dem",this.maxzoom=22,this._options=a.l({type:"raster-dem"},c),this.encoding=c.encoding||"mapbox"}loadTile(x,c){const f=this.map._requestManager.normalizeTileURL(x.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function w(I,L){I&&(x.state="errored",c(I)),L&&(x.dem=L,x.dem.onDeserialize(),x.needsHillshadePrepare=!0,x.needsDEMTextureUpload=!0,x.state="loaded",c(null))}x.request=a.o(this.map._requestManager.transformRequest(f,a.R.Tile),(function(I,L,D,j){if(delete x.request,x.aborted)x.state="unloaded",c(null);else if(I)x.state="errored",c(I);else if(L){this.map._refreshExpiredTiles&&x.setExpiryData({cacheControl:D,expires:j});const K=ImageBitmap&&L instanceof ImageBitmap&&a.ay(),Z=1-(L.width-a.az(L.width))/2;Z<1||x.neighboringTiles||(x.neighboringTiles=this._getNeighboringTiles(x.tileID));const J=K?L:a.q.getImageData(L,Z),oe={uid:x.uid,coord:x.tileID,source:this.id,scope:this.scope,rawImageData:J,encoding:this.encoding,padding:Z};x.actor&&x.state!=="expired"||(x.actor=this.dispatcher.getActor(),x.actor.send("loadDEMTile",oe,w.bind(this),void 0,!0))}}).bind(this))}_getNeighboringTiles(x){const c=x.canonical,f=Math.pow(2,c.z),w=(c.x-1+f)%f,I=c.x===0?x.wrap-1:x.wrap,L=(c.x+1+f)%f,D=c.x+1===f?x.wrap+1:x.wrap,j={};return j[new a.aA(x.overscaledZ,I,c.z,w,c.y).key]={backfilled:!1},j[new a.aA(x.overscaledZ,D,c.z,L,c.y).key]={backfilled:!1},c.y>0&&(j[new a.aA(x.overscaledZ,I,c.z,w,c.y-1).key]={backfilled:!1},j[new a.aA(x.overscaledZ,x.wrap,c.z,c.x,c.y-1).key]={backfilled:!1},j[new a.aA(x.overscaledZ,D,c.z,L,c.y-1).key]={backfilled:!1}),c.y+1<f&&(j[new a.aA(x.overscaledZ,I,c.z,w,c.y+1).key]={backfilled:!1},j[new a.aA(x.overscaledZ,x.wrap,c.z,c.x,c.y+1).key]={backfilled:!1},j[new a.aA(x.overscaledZ,D,c.z,L,c.y+1).key]={backfilled:!1}),j}},"raster-array":Sh,geojson:class extends a.E{constructor(x,c,f,w){super(),this.id=x,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=f.getActor(),this.setEventedParent(w),this._data=c.data,this._options=a.l({},c),this._collectResourceTiming=c.collectResourceTiming,c.maxzoom!==void 0&&(this.maxzoom=c.maxzoom),c.minzoom!==void 0&&(this.minzoom=c.minzoom),c.type&&(this.type=c.type),c.attribution&&(this.attribution=c.attribution),this.promoteId=c.promoteId;const I=a.ab/this.tileSize;this.workerOptions=a.l({source:this.id,scope:this.scope,cluster:c.cluster||!1,geojsonVtOptions:{buffer:(c.buffer!==void 0?c.buffer:128)*I,tolerance:(c.tolerance!==void 0?c.tolerance:.375)*I,extent:a.ab,maxZoom:this.maxzoom,lineMetrics:c.lineMetrics||!1,generateId:c.generateId||!1},superclusterOptions:{maxZoom:c.clusterMaxZoom!==void 0?c.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,c.clusterMinPoints||2),extent:a.ab,radius:(c.clusterRadius!==void 0?c.clusterRadius:50)*I,log:!1,generateId:c.generateId||!1},clusterProperties:c.clusterProperties,filter:c.filter,dynamic:c.dynamic},c.workerOptions)}onAdd(x){this.map=x,this.setData(this._data)}setData(x){return this._data=x,this._updateWorkerData(),this}updateData(x){if(!this._options.dynamic)return this.fire(new a.t(new Error("Can't call updateData on a GeoJSON source with dynamic set to false.")));if(typeof x!="string"&&(x.type==="Feature"&&(x={type:"FeatureCollection",features:[x]}),x.type!=="FeatureCollection"))return this.fire(new a.t(new Error("Data to update should be a feature or a feature collection.")));if(this._coalesce&&typeof x!="string"&&typeof this._data!="string"&&this._data.type==="FeatureCollection"){const c=new Map;for(const f of this._data.features)c.set(f.id,f);for(const f of x.features)c.set(f.id,f);this._data.features=[...c.values()]}else this._data=x;return this._updateWorkerData(!0),this}getClusterExpansionZoom(x,c){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:x,source:this.id,scope:this.scope},c),this}getClusterChildren(x,c){return this.actor.send("geojson.getClusterChildren",{clusterId:x,source:this.id,scope:this.scope},c),this}getClusterLeaves(x,c,f,w){return this.actor.send("geojson.getClusterLeaves",{source:this.id,scope:this.scope,clusterId:x,limit:c,offset:f},w),this}_updateWorkerData(x=!1){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new a.x("dataloading",{dataType:"source"})),this._loaded=!1;const c=a.l({append:x},this.workerOptions);c.scope=this.scope;const f=this._data;typeof f=="string"?(c.request=this.map._requestManager.transformRequest(a.q.resolveURL(f),a.R.Source),c.request.collectResourceTiming=this._collectResourceTiming):c.data=JSON.stringify(f),this._pendingLoad=this.actor.send(`${this.type}.loadData`,c,(w,I)=>{if(this._loaded=!0,this._pendingLoad=null,w)this.fire(new a.t(w));else{const L={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&I&&I.resourceTiming&&I.resourceTiming[this.id]&&(L.resourceTiming=I.resourceTiming[this.id]),x&&(this._partialReload=!0),this.fire(new a.x("data",L)),this._partialReload=!1,this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(x),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(x,c){const f=x.actor?"reloadTile":"loadTile";x.actor=this.actor;const w=this.map.style?this.map.style.getLut(this.scope):null,I=this._partialReload,L={type:this.type,uid:x.uid,tileID:x.tileID,tileZoom:x.tileZoom,zoom:x.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,lut:w?{image:w.image.clone()}:null,scope:this.scope,pixelRatio:a.q.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,brightness:this.map.style&&this.map.style.getBrightness()||0,partial:I};x.request=this.actor.send(f,L,(D,j)=>I&&!j?(x.state="loaded",c(null)):(delete x.request,x.destroy(),x.aborted?c(null):D?c(D):(x.loadVectorData(j,this.map.painter,f==="reloadTile"),c(null))),void 0,f==="loadTile")}abortTile(x){x.request&&(x.request.cancel(),delete x.request),x.aborted=!0}unloadTile(x,c){this.actor.send("removeTile",{uid:x.uid,type:this.type,source:this.id,scope:this.scope}),x.destroy()}onRemove(x){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return a.l({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends a.aD{constructor(x,c,f,w){super(x,c,f,w),this.roundZoom=!0,this.type="video",this.options=c}load(){this._loaded=!1;const x=this.options;this.urls=[];for(const c of x.urls)this.urls.push(this.map._requestManager.transformRequest(c,a.R.Source).url);a.aE(this.urls,(c,f)=>{this._loaded=!0,c?this.fire(new a.t(c)):f&&(this.video=f,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(x){if(this.video){const c=this.video.seekable;x<c.start(0)||x>c.end(0)?this.fire(new a.t(new a.V(`sources.${this.id}`,null,`Playback for this video can be set only between the ${c.start(0)} and ${c.end(0)}-second mark.`))):this.video.currentTime=x}}getVideo(){return this.video}onAdd(x){this.map||(this.map=x,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const x=this.map.painter.context,c=x.gl;this.texture?this.video.paused||(this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE),c.texSubImage2D(c.TEXTURE_2D,0,0,0,c.RGBA,c.UNSIGNED_BYTE,this.video)):(this.texture=new a.T(x,this.video,c.RGBA8),this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(x)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:a.aD,model:class extends a.E{constructor(x,c,f,w){super(),this.id=x,this.type="model",this.models=[],this._loaded=!1,this._options=c}load(){const x=[];for(const c in this._options.models){const f=this._options.models[c],w=a.aG(this.map._requestManager.transformRequest(f.uri,a.R.Model).url).then(I=>{if(!I)return;const L=a.aH(I),D=new a.aI(c,f.position,f.orientation,L);D.computeBoundsAndApplyParent(),this.models.push(D)}).catch(I=>{this.fire(new a.t(new Error(`Could not load model ${c} from ${f.uri}: ${I.message}`)))});x.push(w)}return Promise.allSettled(x).then(()=>{this._loaded=!0,this.fire(new a.x("data",{dataType:"source",sourceDataType:"metadata"}))}).catch(c=>{this.fire(new a.t(new Error(`Could not load models: ${c.message}`)))})}onAdd(x){this.map=x,this.load()}hasTransition(){return!1}loaded(){return this._loaded}getModels(){return this.models}loadTile(x,c){}serialize(){return{type:"model"}}},"batched-model":class extends a.E{constructor(x,c,f,w){super(),this.type="batched-model",this.id=x,this.tileSize=512,this._options=c,this.tiles=this._options.tiles,this.maxzoom=c.maxzoom||19,this.minzoom=c.minzoom||0,this.roundZoom=!0,this.usedInConflation=!0,this.dispatcher=f,this.reparseOverscaled=!1,this.scheme="xyz",this._loaded=!1,this.setEventedParent(w)}onAdd(x){this.map=x,this.load()}load(x){this._loaded=!1,this.fire(new a.x("dataloading",{dataType:"source"}));const c=Array.isArray(this.map._language)?this.map._language.join():this.map._language,f=this.map._worldview;this._tileJSONRequest=yl(this._options,this.map._requestManager,c,f,(w,I)=>{this._tileJSONRequest=null,this._loaded=!0,w?(c&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${c}`),f&&f.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${f}`),this.fire(new a.t(w))):I&&(a.l(this,I),I.bounds&&(this.tileBounds=new Ou(I.bounds,this.minzoom,this.maxzoom)),Ye(I.tiles,this.map._requestManager._customAccessToken),this.fire(new a.x("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.x("data",{dataType:"source",sourceDataType:"content"}))),x&&x(w)})}hasTransition(){return!1}hasTile(x){return!this.tileBounds||this.tileBounds.contains(x.canonical)}loaded(){return this._loaded}loadTile(x,c){const f=this.map._requestManager.normalizeTileURL(x.tileID.canonical.url(this.tiles,this.scheme)),w={request:this.map._requestManager.transformRequest(f,a.R.Tile),data:void 0,uid:x.uid,tileID:x.tileID,tileZoom:x.tileZoom,zoom:x.tileID.overscaledZ,tileSize:this.tileSize*x.tileID.overscaleFactor(),type:this.type,source:this.id,scope:this.scope,showCollisionBoxes:this.map.showCollisionBoxes,isSymbolTile:x.isSymbolTile,brightness:this.map.style&&this.map.style.getBrightness()||0};if(x.actor&&x.state!=="expired")if(x.state==="loading")x.reloadCallback=c;else{if(x.buckets){const L=Object.values(x.buckets);for(const D of L)D.dirty=!0;return void(x.state="loaded")}x.request=x.actor.send("reloadTile",w,I.bind(this))}else x.actor=this.dispatcher.getActor(),x.request=x.actor.send("loadTile",w,I.bind(this),void 0,!0);function I(L,D){return x.aborted?c(null):L&&L.status!==404?c(L):(D&&(D.resourceTiming&&(x.resourceTiming=D.resourceTiming),this.map._refreshExpiredTiles&&x.setExpiryData(D),x.buckets={...x.buckets,...D.buckets},D.featureIndex&&(x.latestFeatureIndex=D.featureIndex)),x.state="loaded",void c(null))}}serialize(){return a.l({},this._options)}},canvas:class extends a.aD{constructor(x,c,f,w){super(x,c,f,w),c.coordinates?Array.isArray(c.coordinates)&&c.coordinates.length===4&&!c.coordinates.some(I=>!Array.isArray(I)||I.length!==2||I.some(L=>typeof L!="number"))||this.fire(new a.t(new a.V(`sources.${x}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.t(new a.V(`sources.${x}`,null,'missing required property "coordinates"'))),c.animate&&typeof c.animate!="boolean"&&this.fire(new a.t(new a.V(`sources.${x}`,null,'optional "animate" property must be a boolean value'))),c.canvas?typeof c.canvas=="string"||c.canvas instanceof HTMLCanvasElement||this.fire(new a.t(new a.V(`sources.${x}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.t(new a.V(`sources.${x}`,null,'missing required property "canvas"'))),this.options=c,this.animate=c.animate===void 0||c.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.t(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(x){this.map=x,this.load(),this.canvas&&this.animate&&this.play()}onRemove(x){this.pause()}prepare(){let x=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,x=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,x=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const c=this.map.painter.context;this.texture?!x&&!this._playing||this.texture instanceof a.aF||this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.T(c,this.canvas,c.gl.RGBA8,{premultiply:!0}),this._prepareData(c)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const x of[this.canvas.width,this.canvas.height])if(isNaN(x)||x<=0)return!0;return!1}},custom:class extends a.E{constructor(x,c,f,w){super(),this.id=x,this.type="custom",this._dataType="raster",this._dispatcher=f,this._implementation=c,this.setEventedParent(w),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new a.t(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new a.t(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new Ou(this._implementation.bounds,this.minzoom,this.maxzoom)),c.update=this._update.bind(this),c.clearTiles=this._clearTiles.bind(this),c.coveringTiles=this._coveringTiles.bind(this),a.l(this,a.ar(c,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return a.ar(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new a.x("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.x("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(x){this.map=x,this._loaded=!1,this.fire(new a.x("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(x),this.load()}onRemove(x){this._implementation.onRemove&&this._implementation.onRemove(x)}hasTile(x){if(this._implementation.hasTile){const{x:c,y:f,z:w}=x.canonical;return this._implementation.hasTile({x:c,y:f,z:w})}return!this.tileBounds||this.tileBounds.contains(x.canonical)}loadTile(x,c){const{x:f,y:w,z:I}=x.tileID.canonical,L=new AbortController;x.request=Promise.resolve(this._implementation.loadTile({x:f,y:w,z:I},{signal:L.signal})).then((function(D){return delete x.request,x.aborted?(x.state="unloaded",c(null)):D===void 0?(x.state="errored",c(null)):D===null?(this.loadTileData(x,{width:this.tileSize,height:this.tileSize,data:null}),x.state="loaded",c(null)):function(j){return j instanceof ImageData||j instanceof HTMLCanvasElement||j instanceof ImageBitmap||j instanceof HTMLImageElement}(D)?(this.loadTileData(x,D),x.state="loaded",void c(null)):(x.state="errored",c(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}).bind(this)).catch(D=>{D.code!==20&&(x.state="errored",c(D))}),x.request.cancel=()=>L.abort()}loadTileData(x,c){x.setTexture(c,this.map.painter)}unloadTile(x,c){if(x.texture&&x.texture instanceof a.T?(x.destroy(!0),x.texture&&x.texture instanceof a.T&&this.map.painter.saveTileTexture(x.texture)):x.destroy(),this._implementation.unloadTile){const{x:f,y:w,z:I}=x.tileID.canonical;this._implementation.unloadTile({x:f,y:w,z:I})}c&&c()}abortTile(x,c){x.request&&x.request.cancel&&(x.request.cancel(),delete x.request),c&&c()}hasTransition(){return!1}_coveringTiles(){return this.map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(x=>({x:x.canonical.x,y:x.canonical.y,z:x.canonical.z}))}_clearTiles(){const x=a.av(this.id,this.scope);this.map.style.clearSource(x)}_update(){this.fire(new a.x("data",{dataType:"source",sourceDataType:"content"}))}}},Ch=function(x,c,f,w){const I=new D0[c.type](x,c,f,w);if(I.id!==x)throw new Error(`Expected Source id to be ${x} instead of ${I.id}`);return a.aJ(["load","abort","unload","serialize","prepare"],I),I};function X_(x,c){const f=a.a6.mat4.identity([]);return a.a6.mat4.scale(f,f,[.5*x.width,.5*-x.height,1]),a.a6.mat4.translate(f,f,[1,-1,0]),a.a6.mat4.multiply(f,f,x.calculateProjMatrix(c.toUnwrapped())),Float32Array.from(f)}function J_(x,c,f,w,I,L,D,j=!1){const K=x.tilesIn(w,D,j);K.sort(Th);const Z=[];for(const oe of K)Z.push({wrappedTileID:oe.tile.tileID.wrapped().key,queryResults:oe.tile.queryRenderedFeatures(c,f,x._state,oe,I,L,X_(x.transform,oe.tile.tileID),j)});const J=function(oe){const ce={},he={};for(const Ce of oe){const Me=Ce.queryResults,Ae=Ce.wrappedTileID,ke=he[Ae]=he[Ae]||{};for(const He in Me){const Ge=Me[He],$e=ke[He]=ke[He]||{},Ke=ce[He]=ce[He]||[];for(const qe of Ge)$e[qe.featureIndex]||($e[qe.featureIndex]=!0,Ke.push(qe))}}return ce}(Z);for(const oe in J)J[oe].forEach(ce=>{const he=ce.feature,Ce=he.layer;Ce&&Ce.type!=="background"&&Ce.type!=="sky"&&Ce.type!=="slot"&&(he.source=Ce.source,Ce["source-layer"]&&(he.sourceLayer=Ce["source-layer"]),he.state=he.id!==void 0?x.getFeatureState(Ce["source-layer"],he.id):{})});return J}function Cp(x,c){const f=x.getRenderableIds().map(L=>x.getTileByID(L)),w=[],I={};for(let L=0;L<f.length;L++){const D=f[L],j=D.tileID.canonical.key;I[j]||(I[j]=!0,D.querySourceFeatures(w,c))}return w}function Th(x,c){const f=x.tileID,w=c.tileID;return f.overscaledZ-w.overscaledZ||f.canonical.y-w.canonical.y||f.wrap-w.wrap||f.canonical.x-w.canonical.x}const Ks=32,bl=33,xl=new Uint16Array(8184);for(let x=0;x<2046;x++){let c=x+2,f=0,w=0,I=0,L=0,D=0,j=0;for(1&c?I=L=D=Ks:f=w=j=Ks;(c>>=1)>1;){const Z=f+I>>1,J=w+L>>1;1&c?(I=f,L=w,f=D,w=j):(f=I,w=L,I=D,L=j),D=Z,j=J}const K=4*x;xl[K+0]=f,xl[K+1]=w,xl[K+2]=I,xl[K+3]=L}const rs=new Uint16Array(2178),ql=new Uint8Array(1089),Tp=new Uint16Array(1089);function Q_(x){return x===0?-.03125:x===32?.03125:0}const ey={type:2,extent:a.ab,loadGeometry:()=>[[new a.P(0,0),new a.P(a.ab+1,0),new a.P(a.ab+1,a.ab+1),new a.P(0,a.ab+1),new a.P(0,0)]]};class Kl{constructor(c,f,w,I,L){this.tileID=c,this.uid=a.aP(),this.uses=0,this.tileSize=f,this.tileZoom=w,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=L,I&&I.style&&(this._lastUpdatedBrightness=I.style.getBrightness()),this.expiredRequestCount=0,this.state="loading",I&&I.transform&&(this.projection=I.transform.projection)}registerFadeDuration(c){const f=c+this.timeAdded;f<a.q.now()||this.fadeEndTime&&f<this.fadeEndTime||(this.fadeEndTime=f)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=a.aK(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(c,f,w){if(this.unloadVectorData(),this.state="loaded",c){c.featureIndex&&(this.latestFeatureIndex=c.featureIndex,c.rawTileData?(this.latestRawTileData=c.rawTileData,this.latestFeatureIndex.rawTileData=c.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=c.collisionBoxArray,this.buckets=function(I,L){const D={};if(!L)return D;for(const j of I){const K=j.layerIds.map(Z=>L.getLayer(Z)).filter(Boolean);if(K.length!==0){j.layers=K,j.stateDependentLayerIds&&(j.stateDependentLayers=j.stateDependentLayerIds.map(Z=>K.filter(J=>J.id===Z)[0]));for(const Z of K)D[Z.fqid]=j}}return D}(c.buckets,f.style),this.hasSymbolBuckets=!1;for(const I in this.buckets){const L=this.buckets[I];if(L instanceof a.aR){if(this.hasSymbolBuckets=!0,!w)break;L.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const I in this.buckets){const L=this.buckets[I];if(L instanceof a.aR&&L.hasRTLText){this.hasRTLText=!0,a.aS();break}}this.queryPadding=0;for(const I in this.buckets){const L=this.buckets[I],D=f.style.getOwnLayer(I);if(!D)continue;const j=D.queryRadius(L);this.queryPadding=Math.max(this.queryPadding,j)}c.imageAtlas&&(this.imageAtlas=c.imageAtlas),c.glyphAtlasImage&&(this.glyphAtlasImage=c.glyphAtlasImage),c.lineAtlas&&(this.lineAtlas=c.lineAtlas),this._lastUpdatedBrightness=c.brightness}else this.collisionBoxArray=new a.aQ}unloadVectorData(){if(this.hasData()){for(const c in this.buckets)this.buckets[c].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(c){return this.buckets[c.fqid]}upload(c){for(const I in this.buckets){const L=this.buckets[I];L.uploadPending()&&L.upload(c)}const f=c.gl,w=this.imageAtlas;if(w&&!w.uploaded){const I=!!Object.keys(w.patternPositions).length;this.imageAtlasTexture=new a.T(c,w.image,f.RGBA8,{useMipmap:I}),this.imageAtlas.uploaded=!0}this.glyphAtlasImage&&(this.glyphAtlasTexture=new a.T(c,this.glyphAtlasImage,f.R8),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new a.T(c,this.lineAtlas.image,f.R8),this.lineAtlas.uploaded=!0)}prepare(c,f,w){if(this.imageAtlas&&this.imageAtlasTexture&&this.imageAtlas.patchUpdatedImages(c,this.imageAtlasTexture,w),!f||!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData)return;const I=f.style.getBrightness();(this._lastUpdatedBrightness||I)&&(this._lastUpdatedBrightness&&I&&Math.abs(this._lastUpdatedBrightness-I)<.001||(this._lastUpdatedBrightness=I,this.updateBuckets(f)))}queryRenderedFeatures(c,f,w,I,L,D,j,K){return this.latestFeatureIndex&&(this.latestFeatureIndex.rawTileData||this.latestFeatureIndex.is3DTile)?this.latestFeatureIndex.query({tileResult:I,pixelPosMatrix:j,transform:D,params:L,tileTransform:this.tileTransform},c,f,w):{}}querySourceFeatures(c,f){const w=this.latestFeatureIndex;if(!w||!w.rawTileData)return;const I=w.loadVTLayers(),L=f?f.sourceLayer:"",D=I._geojsonTileLayer||I[L];if(!D)return;const j=a.aT(f&&f.filter),{z:K,x:Z,y:J}=this.tileID.canonical,oe={z:K,x:Z,y:J};for(let ce=0;ce<D.length;ce++){const he=D.feature(ce);if(j.needGeometry){const Ae=a.aU(he,!0);if(!j.filter(new a.a3(this.tileID.overscaledZ),Ae,this.tileID.canonical))continue}else if(!j.filter(new a.a3(this.tileID.overscaledZ),he))continue;const Ce=w.getId(he,L),Me=new a.aV(he,K,Z,J,Ce);Me.tile=oe,c.push(Me)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(c){const f=this.expirationTime;if(c.cacheControl){const w=a.aW(c.cacheControl);w["max-age"]&&(this.expirationTime=Date.now()+1e3*w["max-age"])}else c.expires&&(this.expirationTime=new Date(c.expires).getTime());if(this.expirationTime){const w=Date.now();let I=!1;if(this.expirationTime>w)I=!1;else if(f)if(this.expirationTime<f)I=!0;else{const L=this.expirationTime-f;L?this.expirationTime=w+Math.max(L,3e4):I=!0}else I=!0;I?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(c,f){this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&Object.keys(c).length!==0&&f&&this.updateBuckets(f)}updateBuckets(c){if(!this.latestFeatureIndex)return;const f=this.latestFeatureIndex.loadVTLayers(),w=c.style.listImages(),I=c.style.getBrightness();for(const L in this.buckets){if(!c.style.hasLayer(L))continue;const D=this.buckets[L],j=D.layers[0].sourceLayer||"_geojsonTileLayer",K=f[j],Z=c.style.getOwnSourceCache(D.layers[0].source);let J={};Z&&(J=Z._state.getState(j,void 0)),D.update(J,K,w,this.imageAtlas&&this.imageAtlas.patternPositions||{},I),(D instanceof a.aX||D instanceof a.aY)&&c._terrain&&c._terrain.enabled&&Z&&D.programConfigurations.needsUpload&&c._terrain._clearRenderCacheForTile(Z.id,this.tileID);const oe=c&&c.style&&c.style.getOwnLayer(L);oe&&(this.queryPadding=Math.max(this.queryPadding,oe.queryRadius(D)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<a.q.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(c){this.symbolFadeHoldUntil=a.q.now()+c}setTexture(c,f){const w=f.context,I=w.gl;this.texture=this.texture||f.getTileTexture(c.width),this.texture&&this.texture instanceof a.T?this.texture.update(c):(this.texture=new a.T(w,c,I.RGBA8,{useMipmap:!0}),this.texture.bind(I.LINEAR,I.CLAMP_TO_EDGE))}setDependencies(c,f){const w={};for(const I of f)w[I]=!0;this.dependencies[c]=w}hasDependency(c,f){for(const w of c){const I=this.dependencies[w];if(I){for(const L of f)if(I[L])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(c,f){if(!f||f.name==="mercator"||this._tileDebugBuffer)return;const w=a.aZ(ey,this.tileID.canonical,this.tileTransform)[0],I=new a.a_,L=new a.a$;for(let D=0;D<w.length;D++){const{x:j,y:K}=w[D];I.emplaceBack(j,K),L.emplaceBack(D)}L.emplaceBack(0),this._tileDebugIndexBuffer=c.createIndexBuffer(L),this._tileDebugBuffer=c.createVertexBuffer(I,a.b0.members),this._tileDebugSegments=a.b1.simpleSegment(0,0,I.length,L.length)}_makeTileBoundsBuffers(c,f){if(this._tileBoundsBuffer||!f||f.name==="mercator")return;const w=a.aZ(ey,this.tileID.canonical,this.tileTransform)[0];let I,L;if(this.isRaster){const D=function(j,K){const Z=a.aK(j,K),J=Math.pow(2,j.z);for(let Ae=0;Ae<bl;Ae++)for(let ke=0;ke<bl;ke++){const He=a.aL((j.x+(ke+Q_(ke))/Ks)/J),Ge=a.aM((j.y+(Ae+Q_(Ae))/Ks)/J),$e=K.project(He,Ge),Ke=Ae*bl+ke;rs[2*Ke+0]=Math.round(($e.x*Z.scale-Z.x)*a.ab),rs[2*Ke+1]=Math.round(($e.y*Z.scale-Z.y)*a.ab)}ql.fill(0),Tp.fill(0);for(let Ae=2045;Ae>=0;Ae--){const ke=4*Ae,He=xl[ke+0],Ge=xl[ke+1],$e=xl[ke+2],Ke=xl[ke+3],qe=He+$e>>1,at=Ge+Ke>>1,nt=qe+at-Ge,st=at+He-qe,gt=Ge*bl+He,ft=Ke*bl+$e,ct=at*bl+qe,Pt=Math.hypot((rs[2*gt+0]+rs[2*ft+0])/2-rs[2*ct+0],(rs[2*gt+1]+rs[2*ft+1])/2-rs[2*ct+1])>=16;ql[ct]=ql[ct]||(Pt?1:0),Ae<1022&&(ql[ct]=ql[ct]||ql[(Ge+st>>1)*bl+(He+nt>>1)]||ql[(Ke+st>>1)*bl+($e+nt>>1)])}const oe=new a.aN,ce=new a.aO;let he=0;function Ce(Ae,ke){const He=ke*bl+Ae;return Tp[He]===0&&(oe.emplaceBack(rs[2*He+0],rs[2*He+1],Ae*a.ab/Ks,ke*a.ab/Ks),Tp[He]=++he),Tp[He]-1}function Me(Ae,ke,He,Ge,$e,Ke){const qe=Ae+He>>1,at=ke+Ge>>1;if(Math.abs(Ae-$e)+Math.abs(ke-Ke)>1&&ql[at*bl+qe])Me($e,Ke,Ae,ke,qe,at),Me(He,Ge,$e,Ke,qe,at);else{const nt=Ce(Ae,ke),st=Ce(He,Ge),gt=Ce($e,Ke);ce.emplaceBack(nt,st,gt)}}return Me(0,0,Ks,Ks,Ks,0),Me(Ks,Ks,0,0,0,Ks),{vertices:oe,indices:ce}}(this.tileID.canonical,f);I=D.vertices,L=D.indices}else{I=new a.aN,L=new a.aO;for(const{x:j,y:K}of w)I.emplaceBack(j,K,0,0);const D=a.b2(I.int16,void 0,4);for(let j=0;j<D.length;j+=3)L.emplaceBack(D[j],D[j+1],D[j+2])}this._tileBoundsBuffer=c.createVertexBuffer(I,a.b3.members),this._tileBoundsIndexBuffer=c.createIndexBuffer(L),this._tileBoundsSegments=a.b1.simpleSegment(0,0,I.length,L.length)}_makeGlobeTileDebugBuffers(c,f){const w=f.projection;if(!w||w.name!=="globe"||f.freezeTileCoverage)return;const I=this.tileID.canonical,L=a.b4(I,f),D=a.b5(L),j=a.a9(f.zoom);let K;j>0&&(K=a.a6.mat4.invert(new Float64Array(16),f.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(c,I,f,D,K,j),this._makeGlobeTileDebugTextBuffer(c,I,f,D,K,j)}_globePoint(c,f,w,I,L,D,j){let K=a.b6(c,f,w);if(D){const Z=1<<w.z,J=a.am(I.center.lng),oe=a.at(I.center.lat),ce=(w.x+.5)/Z-J;let he=0;ce>.5?he=-1:ce<-.5&&(he=1);let Ce=(c/a.ab+w.x)/Z+he,Me=(f/a.ab+w.y)/Z;Ce=(Ce-J)*I._pixelsPerMercatorPixel+J,Me=(Me-oe)*I._pixelsPerMercatorPixel+oe;const Ae=[Ce*I.worldSize,Me*I.worldSize,0];a.a6.vec3.transformMat4(Ae,Ae,D),K=a.b7(K,Ae,j)}return a.a6.vec3.transformMat4(K,K,L)}_makeGlobeTileDebugBorderBuffer(c,f,w,I,L,D){const j=new a.a_,K=new a.a$,Z=new a.b8,J=(ce,he,Ce,Me,Ae)=>{const ke=(Ce-ce)/(Ae-1),He=(Me-he)/(Ae-1),Ge=j.length;for(let $e=0;$e<Ae;$e++){const Ke=ce+$e*ke,qe=he+$e*He;j.emplaceBack(Ke,qe);const at=this._globePoint(Ke,qe,f,w,I,L,D);Z.emplaceBack(at[0],at[1],at[2]),K.emplaceBack(Ge+$e)}},oe=a.ab;J(0,0,oe,0,16),J(oe,0,oe,oe,16),J(oe,oe,0,oe,16),J(0,oe,0,0,16),this._tileDebugIndexBuffer=c.createIndexBuffer(K),this._tileDebugBuffer=c.createVertexBuffer(j,a.b0.members),this._globeTileDebugBorderBuffer=c.createVertexBuffer(Z,a.b9.members),this._tileDebugSegments=a.b1.simpleSegment(0,0,j.length,K.length)}_makeGlobeTileDebugTextBuffer(c,f,w,I,L,D){const j=a.ab/4,K=new a.a_,Z=new a.aO,J=new a.b8,oe=25;Z.reserve(32),K.reserve(oe),J.reserve(oe);const ce=(he,Ce)=>oe*he+Ce;for(let he=0;he<oe;he++){const Ce=he*j;for(let Me=0;Me<oe;Me++){const Ae=Me*j;K.emplaceBack(Ae,Ce);const ke=this._globePoint(Ae,Ce,f,w,I,L,D);J.emplaceBack(ke[0],ke[1],ke[2])}}for(let he=0;he<4;he++)for(let Ce=0;Ce<4;Ce++){const Me=ce(he,Ce),Ae=ce(he,Ce+1),ke=ce(he+1,Ce),He=ce(he+1,Ce+1);Z.emplaceBack(Me,Ae,ke),Z.emplaceBack(ke,Ae,He)}this._tileDebugTextIndexBuffer=c.createIndexBuffer(Z),this._tileDebugTextBuffer=c.createVertexBuffer(K,a.b0.members),this._globeTileDebugTextBuffer=c.createVertexBuffer(J,a.b9.members),this._tileDebugTextSegments=a.b1.simpleSegment(0,0,oe,32)}destroy(c=!1){for(const f in this.buckets)this.buckets[f].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&(this.imageAtlasTexture.destroy(),delete this.imageAtlasTexture),this.glyphAtlasTexture&&(this.glyphAtlasTexture.destroy(),delete this.glyphAtlasTexture),this.lineAtlasTexture&&(this.lineAtlasTexture.destroy(),delete this.lineAtlasTexture),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),!c&&this.texture&&this.texture instanceof a.T&&(this.texture.destroy(),delete this.texture),this.hillshadeFBO&&(this.hillshadeFBO.destroy(),delete this.hillshadeFBO),this.dem&&delete this.dem,this.neighboringTiles&&delete this.neighboringTiles,this.demTexture&&(this.demTexture.destroy(),delete this.demTexture),this.rasterParticleState&&(this.rasterParticleState.destroy(),delete this.rasterParticleState),this.latestFeatureIndex=null,this.state="unloaded"}}a.ba.setPbf(a.bb);class O0 extends Kl{constructor(c,f,w,I,L){super(c,f,w,I,L),this._workQueue=[],this._fetchQueue=[],this._isHeaderLoaded=!1}setTexture(c,f){const w=f.context,I=w.gl;this.texture=this.texture||f.getTileTexture(c.width),this.texture&&this.texture instanceof a.T?this.texture.update(c,{premultiply:!1}):this.texture=new a.T(w,c,I.RGBA8,{premultiply:!1})}flushQueues(){for(;this._workQueue.length;)this._workQueue.pop()();for(;this._fetchQueue.length;)this._fetchQueue.pop()()}fetchHeader(c=16384,f){const w=this._mrt=new a.ba(30),I=Object.assign({},this.requestParams,{headers:{Range:"bytes=0-"+(c-1)}});return this.entireBuffer=null,this.request=a.bc(I,(L,D,j,K)=>{if(L)f(L);else try{const Z=w.getHeaderLength(D);if(Z>c)return void(this.request=this.fetchHeader(Z,f));w.parseHeader(D),this._isHeaderLoaded=!0;let J=0;for(const oe of Object.values(w.layers))J=Math.max(J,oe.dataIndex[oe.dataIndex.length-1].last_byte);D.byteLength>=J&&(this.entireBuffer=D),f(null,this.entireBuffer||D,j,K)}catch(Z){f(Z)}}),this.request}fetchBand(c,f,w){const I=this._mrt;if(!this._isHeaderLoaded||!I)return void w(new Error("Tile header is not ready"));const L=this.actor;if(!L)return void w(new Error("Can't fetch tile band without an actor"));let D;const j=(oe,ce)=>{D.complete(oe,ce),oe?w(oe):(this.updateTextureDescriptor(c,f),w(null,this.textureDescriptor&&this.textureDescriptor.img))},K=(oe,ce)=>{if(oe)return w(oe);const he=L.send("decodeRasterArray",{buffer:ce,task:D},j,void 0,!0);this._workQueue.push(()=>{he&&he.cancel(),D.cancel()})},Z=I.getLayer(c);if(!Z)return void w(new Error(`Unknown sourceLayer "${c}"`));if(Z.hasDataForBand(f))return this.updateTextureDescriptor(c,f),void w(null,this.textureDescriptor?this.textureDescriptor.img:null);const J=Z.getDataRange([f]);if(D=I.createDecodingTask(J),!D||D.tasks.length)if(this.flushQueues(),this.entireBuffer)K(null,this.entireBuffer.slice(J.firstByte,J.lastByte+1));else{const oe=Object.assign({},this.requestParams,{headers:{Range:`bytes=${J.firstByte}-${J.lastByte}`}}),ce=a.bc(oe,K);this._fetchQueue.push(()=>{ce.cancel(),D.cancel()})}else w(null)}updateNeeded(c,f){return(!this.textureDescriptor||this.textureDescriptor.band!==f||this.textureDescriptor.layer!==c)&&this.state!=="errored"}updateTextureDescriptor(c,f){if(!this._mrt)return;const w=this._mrt.getLayer(c);if(!w||!w.hasBand(f)||!w.hasDataForBand(f))return;const{bytes:I,tileSize:L,buffer:D,offset:j,scale:K}=w.getBandView(f),Z=L+2*D,J={data:I,width:Z,height:Z},oe=this.texture;oe&&oe instanceof a.T&&oe.update(J,{premultiply:!1}),this.textureDescriptor={layer:c,band:f,img:J,buffer:D,offset:j,tileSize:L,format:w.pixelFormat,mix:[K,256*K,65536*K,16777216*K]}}}class Iw{constructor(c,f){this.max=c,this.onRemove=f,this.reset()}reset(){for(const c in this.data)for(const f of this.data[c])f.timeout&&clearTimeout(f.timeout),this.onRemove(f.value);return this.data={},this.order=[],this}add(c,f,w){const I=c.wrapped().key;this.data[I]===void 0&&(this.data[I]=[]);const L={value:f,timeout:void 0};if(w!==void 0&&(L.timeout=setTimeout(()=>{this.remove(c,L)},w)),this.data[I].push(L),this.order.push(I),this.order.length>this.max){const D=this._getAndRemoveByKey(this.order[0]);D&&this.onRemove(D)}return this}has(c){return c.wrapped().key in this.data}getAndRemove(c){return this.has(c)?this._getAndRemoveByKey(c.wrapped().key):null}_getAndRemoveByKey(c){const f=this.data[c].shift();return f.timeout&&clearTimeout(f.timeout),this.data[c].length===0&&delete this.data[c],this.order.splice(this.order.indexOf(c),1),f.value}getByKey(c){const f=this.data[c];return f?f[0].value:null}get(c){return this.has(c)?this.data[c.wrapped().key][0].value:null}remove(c,f){if(!this.has(c))return this;const w=c.wrapped().key,I=f===void 0?0:this.data[w].indexOf(f),L=this.data[w][I];return this.data[w].splice(I,1),L.timeout&&clearTimeout(L.timeout),this.data[w].length===0&&delete this.data[w],this.onRemove(L.value),this.order.splice(this.order.indexOf(w),1),this}setMaxSize(c){for(this.max=c;this.order.length>this.max;){const f=this._getAndRemoveByKey(this.order[0]);f&&this.onRemove(f)}return this}filter(c){const f=[];for(const w in this.data)for(const I of this.data[w])c(I.value)||f.push(I);for(const w of f)this.remove(w.value.tileID,w)}}class pT{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(c,f,w){const I=String(f);if(this.stateChanges[c]=this.stateChanges[c]||{},this.stateChanges[c][I]=this.stateChanges[c][I]||{},a.l(this.stateChanges[c][I],w),this.deletedStates[c]===null){this.deletedStates[c]={};for(const L in this.state[c])L!==I&&(this.deletedStates[c][L]=null)}else if(this.deletedStates[c]&&this.deletedStates[c][I]===null){this.deletedStates[c][I]={};for(const L in this.state[c][I])w[L]||(this.deletedStates[c][I][L]=null)}else for(const L in w)this.deletedStates[c]&&this.deletedStates[c][I]&&this.deletedStates[c][I][L]===null&&delete this.deletedStates[c][I][L]}removeFeatureState(c,f,w){if(this.deletedStates[c]===null)return;const I=String(f);if(this.deletedStates[c]=this.deletedStates[c]||{},w&&f!==void 0)this.deletedStates[c][I]!==null&&(this.deletedStates[c][I]=this.deletedStates[c][I]||{},this.deletedStates[c][I][w]=null);else if(f!==void 0)if(this.stateChanges[c]&&this.stateChanges[c][I])for(w in this.deletedStates[c][I]={},this.stateChanges[c][I])this.deletedStates[c][I][w]=null;else this.deletedStates[c][I]=null;else this.deletedStates[c]=null}getState(c,f){const w=this.state[c]||{},I=this.stateChanges[c]||{},L=this.deletedStates[c];if(L===null)return{};if(f!==void 0){const j=String(f),K=a.l({},w[j],I[j]);if(L){const Z=L[f];if(Z===null)return{};for(const J in Z)delete K[J]}return K}const D=a.l({},w,I);if(L)for(const j in L)delete D[j];return D}initializeTileState(c,f){c.setFeatureState(this.state,f)}coalesceChanges(c,f){const w={};for(const I in this.stateChanges){this.state[I]=this.state[I]||{};const L={};for(const D in this.stateChanges[I])this.state[I][D]||(this.state[I][D]={}),a.l(this.state[I][D],this.stateChanges[I][D]),L[D]=this.state[I][D];w[I]=L}for(const I in this.deletedStates){this.state[I]=this.state[I]||{};const L={};if(this.deletedStates[I]===null)for(const D in this.state[I])L[D]={},this.state[I][D]={};else for(const D in this.deletedStates[I]){if(this.deletedStates[I][D]===null)this.state[I][D]={};else if(this.state[I][D])for(const j of Object.keys(this.deletedStates[I][D]))delete this.state[I][D][j];L[D]=this.state[I][D]}w[I]=w[I]||{},a.l(w[I],L)}if(this.stateChanges={},this.deletedStates={},Object.keys(w).length!==0)for(const I in c)c[I].setFeatureState(w,f)}}class is extends a.E{constructor(c,f,w){super(),this.id=c,this._onlySymbols=w,f.on("data",I=>{I.dataType==="source"&&I.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&I.dataType==="source"&&I.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),f.on("error",()=>{this._sourceErrored=!0}),this._source=f,this._tiles={},this._cache=new Iw(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=f.minTileCacheSize,this._maxTileCacheSize=f.maxTileCacheSize,this._loadedParentTiles={},this.castsShadows=!1,this.tileCoverLift=0,this._coveredTiles={},this._shadowCasterTiles={},this._state=new pT,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="raster-array"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(c){this.map=c,this._minTileCacheSize=this._minTileCacheSize===void 0&&c?c._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&c?c._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const c in this._tiles){const f=this._tiles[c];if(f.state!=="loaded"&&f.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const c=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,c&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(c,f){return c.isSymbolTile=this._onlySymbols,c.isExtraShadowCaster=this._shadowCasterTiles[c.tileID.key],this._source.loadTile(c,f)}_unloadTile(c){if(this._source.unloadTile)return this._source.unloadTile(c)}_abortTile(c){if(this._source.abortTile)return this._source.abortTile(c)}serialize(){return this._source.serialize()}prepare(c){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const f in this._tiles){const w=this._tiles[f];w.upload(c),w.prepare(this.map.style.imageManager,this.map?this.map.painter:null,this._source.scope)}}getIds(){return a.bd(this._tiles).map(c=>c.tileID).sort(Cc).map(c=>c.key)}getRenderableIds(c,f){const w=[];for(const I in this._tiles)this._isIdRenderable(+I,c,f)&&w.push(this._tiles[I]);return c?w.sort((I,L)=>{const D=I.tileID,j=L.tileID,K=new a.P(D.canonical.x,D.canonical.y)._rotate(this.transform.angle),Z=new a.P(j.canonical.x,j.canonical.y)._rotate(this.transform.angle);return D.overscaledZ-j.overscaledZ||Z.y-K.y||Z.x-K.x}).map(I=>I.tileID.key):w.map(I=>I.tileID).sort(Cc).map(I=>I.key)}hasRenderableParent(c){const f=this.findLoadedParent(c,0);return!!f&&this._isIdRenderable(f.tileID.key)}_isIdRenderable(c,f,w){return this._tiles[c]&&this._tiles[c].hasData()&&!this._coveredTiles[c]&&(f||!this._tiles[c].holdingForFade())&&(w||!this._shadowCasterTiles[c])}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const c in this._tiles)this._tiles[c].state!=="errored"&&this._reloadTile(+c,"reloading")}}_reloadTile(c,f){const w=this._tiles[c];w&&(w.state!=="loading"&&(w.state=f),this._loadTile(w,this._tileLoaded.bind(this,w,c,f)))}_tileLoaded(c,f,w,I){if(I)if(c.state="errored",I.status!==404)this._source.fire(new a.t(I,{tile:c}));else{if(this._source.fire(new a.x("data",{dataType:"source",sourceDataType:"error",sourceId:this._source.id,tile:c})),!(c.tileID.key in this._loadedParentTiles))return;if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const L=this.map.painter.terrain;this.update(this.transform,L.getScaledDemTileSize(),!0),L.resetTileLookupCache(this.id)}else this.update(this.transform)}else c.timeAdded=a.q.now(),w==="expired"&&(c.refreshedUponExpiration=!0),this._setTileReloadTimer(f,c),this._source.type==="raster-dem"&&c.dem&&this._backfillDEM(c),this._state.initializeTileState(c,this.map?this.map.painter:null),this._source.fire(new a.x("data",{dataType:"source",tile:c,coord:c.tileID,sourceCacheId:this.id}))}_backfillDEM(c){const f=this.getRenderableIds();for(let I=0;I<f.length;I++){const L=f[I];if(c.neighboringTiles&&c.neighboringTiles[L]){const D=this.getTileByID(L);w(c,D),w(D,c)}}function w(I,L){if(!I.dem||I.dem.borderReady)return;I.needsHillshadePrepare=!0,I.needsDEMTextureUpload=!0;let D=L.tileID.canonical.x-I.tileID.canonical.x;const j=L.tileID.canonical.y-I.tileID.canonical.y,K=Math.pow(2,I.tileID.canonical.z),Z=L.tileID.key;D===0&&j===0||Math.abs(j)>1||(Math.abs(D)>1&&(Math.abs(D+K)===1?D+=K:Math.abs(D-K)===1&&(D-=K)),L.dem&&I.dem&&(I.dem.backfillBorder(L.dem,D,j),I.neighboringTiles&&I.neighboringTiles[Z]&&(I.neighboringTiles[Z].backfilled=!0)))}}getTile(c){return this.getTileByID(c.key)}getTileByID(c){return this._tiles[c]}_retainLoadedChildren(c,f,w,I){for(const L in this._tiles){let D=this._tiles[L];if(I[L]||!D.hasData()||D.tileID.overscaledZ<=f||D.tileID.overscaledZ>w)continue;let j=D.tileID;for(;D&&D.tileID.overscaledZ>f+1;){const Z=D.tileID.scaledTo(D.tileID.overscaledZ-1);D=this._tiles[Z.key],D&&D.hasData()&&(j=Z)}let K=j;for(;K.overscaledZ>f;)if(K=K.scaledTo(K.overscaledZ-1),c[K.key]){I[j.key]=j;break}}}findLoadedParent(c,f){if(c.key in this._loadedParentTiles){const w=this._loadedParentTiles[c.key];return w&&w.tileID.overscaledZ>=f?w:null}for(let w=c.overscaledZ-1;w>=f;w--){const I=c.scaledTo(w),L=this._getLoadedTile(I);if(L)return L}}_getLoadedTile(c){const f=this._tiles[c.key];return f&&f.hasData()?f:this._cache.getByKey(this._source.reparseOverscaled?c.wrapped().key:c.canonical.key)}updateCacheSize(c,f){f=f||this._source.tileSize;const w=Math.ceil(c.width/f)+1,I=Math.ceil(c.height/f)+1,L=Math.floor(w*I*5),D=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,L):L,j=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,D):D;this._cache.setMaxSize(j)}handleWrapJump(c){const f=Math.round((c-(this._prevLng===void 0?c:this._prevLng))/360);if(this._prevLng=c,f){const w={};for(const I in this._tiles){const L=this._tiles[I];L.tileID=L.tileID.unwrapTo(L.tileID.wrap+f),w[L.tileID.key]=L}this._tiles=w;for(const I in this._timers)clearTimeout(this._timers[I]),delete this._timers[I];for(const I in this._tiles)this._setTileReloadTimer(+I,this._tiles[I])}}update(c,f,w,I){if(this.transform=c,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!w)return;this.updateCacheSize(c,f),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._shadowCasterTiles={},this._coveredTiles={};const L=this._source.type==="batched-model";let D;if(this.used||this.usedForTerrain){if(this._source.tileID)D=c.getVisibleUnwrappedCoordinates(this._source.tileID).map(Z=>new a.aA(Z.canonical.z,Z.wrap,Z.canonical.z,Z.canonical.x,Z.canonical.y));else if(this.tileCoverLift!==0){const Z=c.clone();Z.tileCoverLift=this.tileCoverLift,D=Z.coveringTiles({tileSize:f||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!w,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain,calculateQuadrantVisibility:L}),this._source.minzoom<=1&&c.projection.name==="globe"&&(D.push(new a.aA(1,0,1,0,0)),D.push(new a.aA(1,0,1,1,0)),D.push(new a.aA(1,0,1,0,1)),D.push(new a.aA(1,0,1,1,1)))}else if(D=c.coveringTiles({tileSize:f||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!w,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain,calculateQuadrantVisibility:L}),this._source.hasTile){const Z=this._source.hasTile.bind(this._source);D=D.filter(J=>Z(J))}}else D=[];if(D.length>0&&this.castsShadows&&I&&this.transform.projection.name!=="globe"&&!this.usedForTerrain&&!Mp(this._source.type)){const Z=c.coveringZoomLevel({tileSize:f||this._source.tileSize,roundZoom:this._source.roundZoom&&!w}),J=Math.min(Z,this._source.maxzoom);if(L){const oe=c.extendTileCover(D,J);for(const ce of oe)D.push(ce)}else{const oe=c.extendTileCover(D,J,I);for(const ce of oe)this._shadowCasterTiles[ce.key]=!0,D.push(ce)}}const j=this._updateRetainedTiles(D);if(Mp(this._source.type)&&D.length!==0){const Z={},J={},oe=Object.keys(j);for(const he of oe){const Ce=j[he],Me=this._tiles[he];if(!Me||Me.fadeEndTime&&Me.fadeEndTime<=a.q.now())continue;const Ae=this.findLoadedParent(Ce,Math.max(Ce.overscaledZ-is.maxOverzooming,this._source.minzoom));Ae&&(this._addTile(Ae.tileID),Z[Ae.tileID.key]=Ae.tileID),J[he]=Ce}const ce=D[D.length-1].overscaledZ;for(const he in this._tiles){const Ce=this._tiles[he];if(j[he]||!Ce.hasData())continue;let Me=Ce.tileID;for(;Me.overscaledZ>ce;){Me=Me.scaledTo(Me.overscaledZ-1);const Ae=this._tiles[Me.key];if(Ae&&Ae.hasData()&&J[Me.key]){j[he]=Ce.tileID;break}}}for(const he in Z)j[he]||(this._coveredTiles[he]=!0,j[he]=Z[he])}for(const Z in j)this._tiles[Z].clearFadeHold();const K=a.be(this._tiles,j);for(const Z of K){const J=this._tiles[Z];J.hasSymbolBuckets&&!J.holdingForFade()?J.setHoldDuration(this.map._fadeDuration):J.hasSymbolBuckets&&!J.symbolFadeFinished()||this._removeTile(+Z)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const c in this._tiles)this._tiles[c].holdingForFade()&&this._removeTile(+c)}_updateRetainedTiles(c){const f={};if(c.length===0)return f;const w={},I=c.reduce((Z,J)=>Math.min(Z,J.overscaledZ),1/0),L=c[0].overscaledZ,D=Math.max(L-is.maxOverzooming,this._source.minzoom),j=Math.max(L+is.maxUnderzooming,this._source.minzoom),K={};for(const Z of c){const J=this._addTile(Z);f[Z.key]=Z,J.hasData()||I<this._source.maxzoom&&(K[Z.key]=Z)}this._retainLoadedChildren(K,I,j,f);for(const Z of c){let J=this._tiles[Z.key];if(J.hasData())continue;if(Z.canonical.z>=this._source.maxzoom){const ce=Z.children(this._source.maxzoom)[0],he=this.getTile(ce);if(he&&he.hasData()){f[ce.key]=ce;continue}}else{const ce=Z.children(this._source.maxzoom);if(f[ce[0].key]&&f[ce[1].key]&&f[ce[2].key]&&f[ce[3].key])continue}let oe=J.wasRequested();for(let ce=Z.overscaledZ-1;ce>=D;--ce){const he=Z.scaledTo(ce);if(w[he.key]||(w[he.key]=!0,J=this.getTile(he),!J&&oe&&(J=this._addTile(he)),J&&(f[he.key]=he,oe=J.wasRequested(),J.hasData())))break}}return f}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const c in this._tiles){const f=[];let w,I=this._tiles[c].tileID;for(;I.overscaledZ>0;){if(I.key in this._loadedParentTiles){w=this._loadedParentTiles[I.key];break}f.push(I.key);const L=I.scaledTo(I.overscaledZ-1);if(w=this._getLoadedTile(L),w)break;I=L}for(const L of f)this._loadedParentTiles[L]=w}}_addTile(c){let f=this._tiles[c.key];if(f)return f.isExtraShadowCaster!==!0||this._shadowCasterTiles[c.key]||this._reloadTile(c.key,"reloading"),f;f=this._cache.getAndRemove(c),f&&(this._setTileReloadTimer(c.key,f),f.tileID=c,this._state.initializeTileState(f,this.map?this.map.painter:null),this._cacheTimers[c.key]&&(clearTimeout(this._cacheTimers[c.key]),delete this._cacheTimers[c.key],this._setTileReloadTimer(c.key,f)));const w=!!f;if(!w){const I=this.map?this.map.painter:null,L=this._source.tileSize*c.overscaleFactor();f=this._source.type==="raster-array"?new O0(c,L,this.transform.tileZoom,I,this._isRaster):new Kl(c,L,this.transform.tileZoom,I,this._isRaster),this._loadTile(f,this._tileLoaded.bind(this,f,c.key,f.state))}return f?(f.uses++,this._tiles[c.key]=f,w||this._source.fire(new a.x("dataloading",{tile:f,coord:f.tileID,dataType:"source"})),f):null}_setTileReloadTimer(c,f){c in this._timers&&(clearTimeout(this._timers[c]),delete this._timers[c]);const w=f.getExpiryTimeout();w&&(this._timers[c]=setTimeout(()=>{this._reloadTile(c,"expired"),delete this._timers[c]},w))}_removeTile(c){const f=this._tiles[c];f&&(f.uses--,delete this._tiles[c],this._timers[c]&&(clearTimeout(this._timers[c]),delete this._timers[c]),f.uses>0||(f.hasData()&&f.state!=="reloading"||f.state==="empty"?this._cache.add(f.tileID,f,f.getExpiryTimeout()):(f.aborted=!0,this._abortTile(f),this._unloadTile(f))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const c in this._tiles)this._removeTile(+c);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(c,f,w){const I=[],L=this.transform;if(!L)return I;const D=L.projection.name==="globe",j=a.am(L.center.lng);for(const K in this._tiles){const Z=this._tiles[K];if(w&&Z.clearQueryDebugViz(),Z.holdingForFade())continue;let J;if(D){const oe=Z.tileID.canonical;if(oe.z===0){const ce=[Math.abs(a.ap(j,...Mh(oe,-1))-j),Math.abs(a.ap(j,...Mh(oe,1))-j)];J=[0,2*ce.indexOf(Math.min(...ce))-1]}else{const ce=[Math.abs(a.ap(j,...Mh(oe,-1))-j),Math.abs(a.ap(j,...Mh(oe,0))-j),Math.abs(a.ap(j,...Mh(oe,1))-j)];J=[ce.indexOf(Math.min(...ce))-1]}}else J=[0];for(const oe of J){const ce=c.containsTile(Z,L,f,oe);ce&&I.push(ce)}}return I}getShadowCasterCoordinates(){return this._getRenderableCoordinates(!1,!0)}getVisibleCoordinates(c){return this._getRenderableCoordinates(c)}_getRenderableCoordinates(c,f){const w=this.getRenderableIds(c,f).map(L=>this._tiles[L].tileID),I=this.transform.projection.name==="globe";for(const L of w)L.projMatrix=this.transform.calculateProjMatrix(L.toUnwrapped()),L.expandedProjMatrix=I?this.transform.calculateProjMatrix(L.toUnwrapped(),!1,!0):L.projMatrix;return w}sortCoordinatesByDistance(c){const f=c.slice(),w=this.transform._camera.position,I=this.transform._camera.forward(),L={};for(const D of f){const j=1/(1<<D.canonical.z);L[D.key]=((D.canonical.x+.5)*j+D.wrap-w[0])*I[0]+((D.canonical.y+.5)*j-w[1])*I[1]-w[2]*I[2]}return f.sort((D,j)=>L[D.key]-L[j.key]),f}hasTransition(){if(this._source.hasTransition())return!0;if(Mp(this._source.type))for(const c in this._tiles){const f=this._tiles[c];if(f.fadeEndTime!==void 0&&f.fadeEndTime>=a.q.now())return!0}return!1}setFeatureState(c,f,w){this._state.updateState(c=c||"_geojsonTileLayer",f,w)}removeFeatureState(c,f,w){this._state.removeFeatureState(c=c||"_geojsonTileLayer",f,w)}getFeatureState(c,f){return this._state.getState(c=c||"_geojsonTileLayer",f)}setDependencies(c,f,w){const I=this._tiles[c];I&&I.setDependencies(f,w)}reloadTilesForDependencies(c,f){for(const w in this._tiles)this._tiles[w].hasDependency(c,f)&&this._reloadTile(+w,"reloading");this._cache.filter(w=>!w.hasDependency(c,f))}_preloadTiles(c,f){if(!this._sourceLoaded){const K=()=>{this._sourceLoaded&&(this._source.off("data",K),this._preloadTiles(c,f))};return void this._source.on("data",K)}const w=new Map,I=Array.isArray(c)?c:[c],L=this.map.painter.terrain,D=this.usedForTerrain&&L?L.getScaledDemTileSize():this._source.tileSize;for(const K of I){const Z=K.coveringTiles({tileSize:D,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const J of Z)w.set(J.key,J);this.usedForTerrain&&K.updateElevation(!1)}const j=Array.from(w.values());a.bf(j,(K,Z)=>{const J=new Kl(K,this._source.tileSize*K.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(J,oe=>{this._source.type==="raster-dem"&&J.dem&&this._backfillDEM(J),Z(oe,J)})},f)}}function Cc(x,c){const f=Math.abs(2*x.wrap)-+(x.wrap<0),w=Math.abs(2*c.wrap)-+(c.wrap<0);return x.overscaledZ-c.overscaledZ||w-f||c.canonical.y-x.canonical.y||c.canonical.x-x.canonical.x}function Mp(x){return x==="raster"||x==="image"||x==="video"||x==="custom"}function Mh(x,c){const f=1<<x.z;return[x.x/f+c,(x.x+1)/f+c]}is.maxOverzooming=10,is.maxUnderzooming=3;class ty{constructor(c){this.style=c,this.layersGotHidden=!1,this.layers=[]}processLayersChanged(){this.layers=[];const c=!1,f=!1;for(const w in this.style._mergedLayers){const I=this.style._mergedLayers[w];if(I.type==="fill-extrusion")this.layers.push({layer:I,visible:c,visibilityChanged:f});else if(I.type==="model"){const L=this.style.getLayerSource(I);L&&L.type==="batched-model"&&this.layers.push({layer:I,visible:c,visibilityChanged:f})}}}onNewFrame(c){this.layersGotHidden=!1;for(const f of this.layers){const w=f.layer;let I=!1;w.type==="fill-extrusion"?I=!w.isHidden(c)&&w.paint.get("fill-extrusion-opacity")>0:w.type==="model"&&(I=!w.isHidden(c)&&w.paint.get("model-opacity")>0),this.layersGotHidden=this.layersGotHidden||!I&&f.visible,f.visible=I}}updateZOffset(c,f){this.currentBuildingBuckets=[];for(const I of this.layers){const L=I.layer,D=this.style.getLayerSourceCache(L);let j=1;L.type==="fill-extrusion"&&(j=I.visible?L.paint.get("fill-extrusion-vertical-scale"):0);let K=D?D.getTile(f):null;if(!K&&D&&f.canonical.z>D.getSource().minzoom){let Z=f.scaledTo(Math.min(D.getSource().maxzoom,f.overscaledZ-1));for(;Z.overscaledZ>=D.getSource().minzoom&&(K=D.getTile(Z),!K&&Z.overscaledZ!==0);)Z=Z.scaledTo(Z.overscaledZ-1)}this.currentBuildingBuckets.push({bucket:K?K.getBucket(L):null,tileID:K?K.tileID:f,verticalScale:j})}c.hasAnyZOffset=!1;let w=!1;for(let I=0;I<c.symbolInstances.length;I++){const L=c.symbolInstances.get(I),D=L.zOffset,j=this._getHeightAtTileOffset(f,L.tileAnchorX,L.tileAnchorY);L.zOffset=j!==Number.NEGATIVE_INFINITY?j:D,w||D===L.zOffset||(w=!0),c.hasAnyZOffset||L.zOffset===0||(c.hasAnyZOffset=!0)}w&&(c.zOffsetBuffersNeedUpload=!0,c.zOffsetSortDirty=!0)}_mapCoordToOverlappingTile(c,f,w,I){let L=f,D=w;if(c.canonical.z!==I.canonical.z){const j=I.canonical,K=1/(1<<c.canonical.z-j.z);L=(f+c.canonical.x*a.ab)*K-j.x*a.ab|0,D=(w+c.canonical.y*a.ab)*K-j.y*a.ab|0}return{tileX:L,tileY:D}}_getHeightAtTileOffset(c,f,w){let I,L;for(let D=0;D<this.layers.length;++D){if(this.layers[D].layer.type!=="fill-extrusion")continue;const{bucket:j,tileID:K,verticalScale:Z}=this.currentBuildingBuckets[D];if(!j)continue;const{tileX:J,tileY:oe}=this._mapCoordToOverlappingTile(c,f,w,K),ce=j.getHeightAtTileCoord(J,oe);ce&&ce.height!==void 0&&(ce.hidden?I=ce.height:L=Math.max(ce.height*Z,L||0))}if(L!==void 0)return L;for(let D=0;D<this.layers.length;++D){const j=this.layers[D];if(j.layer.type!=="model"||!j.visible)continue;const{bucket:K,tileID:Z}=this.currentBuildingBuckets[D];if(!K)continue;const{tileX:J,tileY:oe}=this._mapCoordToOverlappingTile(c,f,w,Z),ce=K.getHeightAtTileCoord(J,oe);if(ce&&!ce.hidden)return ce.height===void 0&&I!==void 0?Math.min(ce.maxHeight,I)*ce.verticalScale:ce.height?ce.height*ce.verticalScale:Number.NEGATIVE_INFINITY}return this.layersGotHidden?0:Number.NEGATIVE_INFINITY}}function Eh(x,c){const f={};for(const w in x)w!=="ref"&&(f[w]=x[w]);return a.bg.forEach(w=>{w in c&&(f[w]=c[w])}),f}function ny(x){x=x.slice();const c=Object.create(null);for(let f=0;f<x.length;f++)c[x[f].id]=x[f];for(let f=0;f<x.length;f++)"ref"in x[f]&&(x[f]=Eh(x[f],c[x[f].ref]));return x}const _i={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setSlot:"setSlot",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setCamera:"setCamera",setLights:"setLights",setProjection:"setProjection",addImport:"addImport",removeImport:"removeImport",updateImport:"updateImport"};function ry(x,c,f){f.push({command:_i.addSource,args:[x,c[x]]})}function Ii(x,c,f){c.push({command:_i.removeSource,args:[x]}),f[x]=!0}function mT(x,c,f,w){Ii(x,f,w),ry(x,c,f)}function _r(x,c,f){let w;for(w in x[f])if(x[f].hasOwnProperty(w)&&w!=="data"&&!a.bh(x[f][w],c[f][w]))return!1;for(w in c[f])if(c[f].hasOwnProperty(w)&&w!=="data"&&!a.bh(x[f][w],c[f][w]))return!1;return!0}function Ep(x,c,f,w,I,L){let D;for(D in c=c||{},x=x||{})x.hasOwnProperty(D)&&(a.bh(x[D],c[D])||f.push({command:L,args:[w,D,c[D],I]}));for(D in c)c.hasOwnProperty(D)&&!x.hasOwnProperty(D)&&(a.bh(x[D],c[D])||f.push({command:L,args:[w,D,c[D],I]}))}function xd(x){return x.id}function Ah(x,c){return x[c.id]=c,x}class Yl{constructor(c,f){this.reset(c,f)}reset(c,f){this.points=c||[],this._distances=[0];for(let w=1;w<this.points.length;w++)this._distances[w]=this._distances[w-1]+this.points[w].dist(this.points[w-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(f||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(c){if(this.points.length===1)return this.points[0];c=a.ap(c,0,1);let f=1,w=this._distances[f];const I=c*this.paddedLength+this.padding;for(;w<I&&f<this._distances.length;)w=this._distances[++f];const L=f-1,D=this._distances[L],j=w-D,K=j>0?(I-D)/j:0;return this.points[L].mult(1-K).add(this.points[f].mult(K))}}class z0{constructor(c,f,w){const I=this.boxCells=[],L=this.circleCells=[];this.xCellCount=Math.ceil(c/w),this.yCellCount=Math.ceil(f/w);for(let D=0;D<this.xCellCount*this.yCellCount;D++)I.push([]),L.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=c,this.height=f,this.xScale=this.xCellCount/c,this.yScale=this.yCellCount/f,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(c,f,w,I,L){this._forEachCell(f,w,I,L,this._insertBoxCell,this.boxUid++),this.boxKeys.push(c),this.bboxes.push(f),this.bboxes.push(w),this.bboxes.push(I),this.bboxes.push(L)}insertCircle(c,f,w,I){this._forEachCell(f-I,w-I,f+I,w+I,this._insertCircleCell,this.circleUid++),this.circleKeys.push(c),this.circles.push(f),this.circles.push(w),this.circles.push(I)}_insertBoxCell(c,f,w,I,L,D){this.boxCells[L].push(D)}_insertCircleCell(c,f,w,I,L,D){this.circleCells[L].push(D)}_query(c,f,w,I,L,D){if(w<0||c>this.width||I<0||f>this.height)return!L&&[];const j=[];if(c<=0&&f<=0&&this.width<=w&&this.height<=I){if(L)return!0;for(let K=0;K<this.boxKeys.length;K++)j.push({key:this.boxKeys[K],x1:this.bboxes[4*K],y1:this.bboxes[4*K+1],x2:this.bboxes[4*K+2],y2:this.bboxes[4*K+3]});for(let K=0;K<this.circleKeys.length;K++){const Z=this.circles[3*K],J=this.circles[3*K+1],oe=this.circles[3*K+2];j.push({key:this.circleKeys[K],x1:Z-oe,y1:J-oe,x2:Z+oe,y2:J+oe})}return D?j.filter(D):j}return this._forEachCell(c,f,w,I,this._queryCell,j,{hitTest:L,seenUids:{box:{},circle:{}}},D),L?j.length>0:j}_queryCircle(c,f,w,I,L){const D=c-w,j=c+w,K=f-w,Z=f+w;if(j<0||D>this.width||Z<0||K>this.height)return!I&&[];const J=[];return this._forEachCell(D,K,j,Z,this._queryCellCircle,J,{hitTest:I,circle:{x:c,y:f,radius:w},seenUids:{box:{},circle:{}}},L),I?J.length>0:J}query(c,f,w,I,L){return this._query(c,f,w,I,!1,L)}hitTest(c,f,w,I,L){return this._query(c,f,w,I,!0,L)}hitTestCircle(c,f,w,I){return this._queryCircle(c,f,w,!0,I)}_queryCell(c,f,w,I,L,D,j,K){const Z=j.seenUids,J=this.boxCells[L];if(J!==null){const ce=this.bboxes;for(const he of J)if(!Z.box[he]){Z.box[he]=!0;const Ce=4*he;if(c<=ce[Ce+2]&&f<=ce[Ce+3]&&w>=ce[Ce+0]&&I>=ce[Ce+1]&&(!K||K(this.boxKeys[he]))){if(j.hitTest)return D.push(!0),!0;D.push({key:this.boxKeys[he],x1:ce[Ce],y1:ce[Ce+1],x2:ce[Ce+2],y2:ce[Ce+3]})}}}const oe=this.circleCells[L];if(oe!==null){const ce=this.circles;for(const he of oe)if(!Z.circle[he]){Z.circle[he]=!0;const Ce=3*he;if(this._circleAndRectCollide(ce[Ce],ce[Ce+1],ce[Ce+2],c,f,w,I)&&(!K||K(this.circleKeys[he]))){if(j.hitTest)return D.push(!0),!0;{const Me=ce[Ce],Ae=ce[Ce+1],ke=ce[Ce+2];D.push({key:this.circleKeys[he],x1:Me-ke,y1:Ae-ke,x2:Me+ke,y2:Ae+ke})}}}}}_queryCellCircle(c,f,w,I,L,D,j,K){const Z=j.circle,J=j.seenUids,oe=this.boxCells[L];if(oe!==null){const he=this.bboxes;for(const Ce of oe)if(!J.box[Ce]){J.box[Ce]=!0;const Me=4*Ce;if(this._circleAndRectCollide(Z.x,Z.y,Z.radius,he[Me+0],he[Me+1],he[Me+2],he[Me+3])&&(!K||K(this.boxKeys[Ce])))return D.push(!0),!0}}const ce=this.circleCells[L];if(ce!==null){const he=this.circles;for(const Ce of ce)if(!J.circle[Ce]){J.circle[Ce]=!0;const Me=3*Ce;if(this._circlesCollide(he[Me],he[Me+1],he[Me+2],Z.x,Z.y,Z.radius)&&(!K||K(this.circleKeys[Ce])))return D.push(!0),!0}}}_forEachCell(c,f,w,I,L,D,j,K){const Z=this._convertToXCellCoord(c),J=this._convertToYCellCoord(f),oe=this._convertToXCellCoord(w),ce=this._convertToYCellCoord(I);for(let he=Z;he<=oe;he++)for(let Ce=J;Ce<=ce;Ce++)if(L.call(this,c,f,w,I,this.xCellCount*Ce+he,D,j,K))return}_convertToXCellCoord(c){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(c*this.xScale)))}_convertToYCellCoord(c){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(c*this.yScale)))}_circlesCollide(c,f,w,I,L,D){const j=I-c,K=L-f,Z=w+D;return Z*Z>j*j+K*K}_circleAndRectCollide(c,f,w,I,L,D,j){const K=(D-I)/2,Z=Math.abs(c-(I+K));if(Z>K+w)return!1;const J=(j-L)/2,oe=Math.abs(f-(L+J));if(oe>J+w)return!1;if(Z<=K||oe<=J)return!0;const ce=Z-K,he=oe-J;return ce*ce+he*he<=w*w}}const wl={unknown:0,flipRequired:1,flipNotRequired:2},Wn=Math.tan(85*Math.PI/180);function ui(x,c,f,w,I,L,D){const j=a.a6.mat4.create();if(f)if(L.name==="globe"){const K=a.bi(I,c);a.a6.mat4.multiply(j,j,K)}else{const K=a.a6.mat2.invert([],D);j[0]=K[0],j[1]=K[1],j[4]=K[2],j[5]=K[3],w||a.a6.mat4.rotateZ(j,j,I.angle)}else a.a6.mat4.multiply(j,I.labelPlaneMatrix,x);return j}function ci(x,c,f,w,I,L,D){const j=ui(x,c,f,w,I,L,D);return L.name==="globe"&&f||(j[2]=j[6]=j[10]=j[14]=0),j}function as(x,c,f,w,I,L,D){if(f){if(L.name==="globe"){const j=ui(x,c,f,w,I,L,D);return a.a6.mat4.invert(j,j),a.a6.mat4.multiply(j,x,j),j}{const j=a.a6.mat4.clone(x),K=a.a6.mat4.identity([]);return K[0]=D[0],K[1]=D[1],K[4]=D[2],K[5]=D[3],a.a6.mat4.multiply(j,j,K),w||a.a6.mat4.rotateZ(j,j,-I.angle),j}}return I.glCoordMatrix}function Oo(x,c,f,w){const I=[x,c,f,1];f?a.a6.vec4.transformMat4(I,I,w):F0(I,I,w);const L=I[3];return I[0]/=L,I[1]/=L,I[2]/=L,I}function pi(x,c){return Math.min(.5+x/c*.5,1.5)}function B0(x,c){const f=x[0]/x[3],w=x[1]/x[3];return f>=-c[0]&&f<=c[0]&&w>=-c[1]&&w<=c[1]}function Ih(x,c,f,w,I,L,D,j,K,Z){const J=f.transform,oe=w?x.textSizeData:x.iconSizeData,ce=a.bj(oe,f.transform.zoom),he=J.projection.name==="globe",Ce=[256/f.width*2+1,256/f.height*2+1],Me=w?x.text.dynamicLayoutVertexArray:x.icon.dynamicLayoutVertexArray;Me.clear();let Ae=null;he&&(Ae=w?x.text.globeExtVertexArray:x.icon.globeExtVertexArray);const ke=x.lineVertexArray,He=w?x.text.placedSymbolArray:x.icon.placedSymbolArray,Ge=f.transform.width/f.transform.height;let $e,Ke=!1;for(let qe=0;qe<He.length;qe++){const at=He.get(qe),{numGlyphs:nt,writingMode:st}=at;if(st!==a.bk.vertical||Ke||$e===a.bk.horizontal||(Ke=!0),$e=st,(at.hidden||st===a.bk.vertical)&&!Ke){Zl(nt,Me);continue}Ke=!1;const gt=new a.P(at.tileAnchorX,at.tileAnchorY);let{x:ft,y:ct,z:Pt}=J.projection.projectTilePoint(gt.x,gt.y,Z.canonical);if(K){const[sn,vn,ar]=K(gt);ft+=sn,ct+=vn,Pt+=ar}const Yt=[ft,ct,Pt,1];if(a.a6.vec4.transformMat4(Yt,Yt,c),!B0(Yt,Ce)){Zl(nt,Me);continue}const cn=Yt[3],Kt=pi(f.transform.getCameraToCenterDistance(J.projection),cn),_n=a.bl(oe,ce,at),Lt=D?_n/Kt:_n*Kt,on=Oo(ft,ct,Pt,I);if(on[3]<=0){Zl(nt,Me);continue}let Qt={};const xn=D?null:K,Sn=Ea(at,Lt,!1,j,c,I,L,x.glyphOffsetArray,ke,Me,Ae,on,gt,Qt,Ge,xn,J.projection,Z,D);Ke=Sn.useVertical,xn&&Sn.needsFlipping&&(Qt={}),(Sn.notEnoughRoom||Ke||Sn.needsFlipping&&Ea(at,Lt,!0,j,c,I,L,x.glyphOffsetArray,ke,Me,Ae,on,gt,Qt,Ge,xn,J.projection,Z,D).notEnoughRoom)&&Zl(nt,Me)}w?(x.text.dynamicLayoutVertexBuffer.updateData(Me),Ae&&x.text.globeExtVertexBuffer&&x.text.globeExtVertexBuffer.updateData(Ae)):(x.icon.dynamicLayoutVertexBuffer.updateData(Me),Ae&&x.icon.globeExtVertexBuffer&&x.icon.globeExtVertexBuffer.updateData(Ae))}function kh(x,c,f,w,I,L,D,j,K,Z,J,oe,ce,he,Ce,Me){const{lineStartIndex:Ae,glyphStartIndex:ke,segment:He}=j,Ge=ke+j.numGlyphs,$e=Ae+j.lineLength,Ke=c.getoffsetX(ke),qe=c.getoffsetX(Ge-1),at=Lh(x*Ke,f,w,I,L,D,He,Ae,$e,K,Z,J,oe,ce,!0,he,Ce,Me);if(!at)return null;const nt=Lh(x*qe,f,w,I,L,D,He,Ae,$e,K,Z,J,oe,ce,!0,he,Ce,Me);return nt?{first:at,last:nt}:null}function jo(x,c,f,w){return x===a.bk.horizontal&&Math.abs(w)>Math.abs(f)?{useVertical:!0}:x===a.bk.vertical?w>0?{needsFlipping:!0}:null:c!==wl.unknown&&function(I,L){return I===0||Math.abs(L/I)>Wn}(f,w)?c===wl.flipRequired?{needsFlipping:!0}:null:f<0?{needsFlipping:!0}:null}function Ea(x,c,f,w,I,L,D,j,K,Z,J,oe,ce,he,Ce,Me,Ae,ke,He){const Ge=c/24,$e=x.lineOffsetX*Ge,Ke=x.lineOffsetY*Ge,{lineStartIndex:qe,glyphStartIndex:at,numGlyphs:nt,segment:st,writingMode:gt,flipState:ft}=x,ct=qe+x.lineLength,Pt=Yt=>{if(J){const[Lt,on,Qt]=Yt.up,xn=Z.length;a.bm(J,xn+0,Lt,on,Qt),a.bm(J,xn+1,Lt,on,Qt),a.bm(J,xn+2,Lt,on,Qt),a.bm(J,xn+3,Lt,on,Qt)}const[cn,Kt,_n]=Yt.point;a.bn(Z,cn,Kt,_n,Yt.angle)};if(nt>1){const Yt=kh(Ge,j,$e,Ke,f,oe,ce,x,K,L,he,Me,!1,Ae,ke,He);if(!Yt)return{notEnoughRoom:!0};if(w&&!f){let[cn,Kt,_n]=Yt.first.point,[Lt,on,Qt]=Yt.last.point;[cn,Kt]=Oo(cn,Kt,_n,D),[Lt,on]=Oo(Lt,on,Qt,D);const xn=jo(gt,ft,(Lt-cn)*Ce,on-Kt);if(x.flipState=xn&&xn.needsFlipping?wl.flipRequired:wl.flipNotRequired,xn)return xn}Pt(Yt.first);for(let cn=at+1;cn<at+nt-1;cn++){const Kt=Lh(Ge*j.getoffsetX(cn),$e,Ke,f,oe,ce,st,qe,ct,K,L,he,Me,!1,!1,Ae,ke,He);if(!Kt)return Z.length-=4*(cn-at),{notEnoughRoom:!0};Pt(Kt)}Pt(Yt.last)}else{if(w&&!f){const cn=Oo(ce.x,ce.y,0,I),Kt=qe+st+1,_n=new a.P(K.getx(Kt),K.gety(Kt)),Lt=Oo(_n.x,_n.y,0,I),on=Lt[3]>0?Lt:Ph(ce,_n,cn,1,I,void 0,Ae,ke.canonical),Qt=jo(gt,ft,(on[0]-cn[0])*Ce,on[1]-cn[1]);if(x.flipState=Qt&&Qt.needsFlipping?wl.flipRequired:wl.flipNotRequired,Qt)return Qt}const Yt=Lh(Ge*j.getoffsetX(at),$e,Ke,f,oe,ce,st,qe,ct,K,L,he,Me,!1,!1,Ae,ke,He);if(!Yt)return{notEnoughRoom:!0};Pt(Yt)}return{}}function kw(x,c,f,w,I){const{x:L,y:D,z:j}=w.projectTilePoint(x.x,x.y,c);if(!I)return Oo(L,D,j,f);const[K,Z,J]=I(x);return Oo(L+K,D+Z,j+J,f)}function Ph(x,c,f,w,I,L,D,j){const K=kw(x.sub(c)._unit()._add(x),j,I,D,L);return a.a6.vec3.sub(K,f,K),a.a6.vec3.normalize(K,K),a.a6.vec3.scaleAndAdd(K,f,K,w)}function Lh(x,c,f,w,I,L,D,j,K,Z,J,oe,ce,he,Ce,Me,Ae,ke){const He=w?x-c:x+c;let Ge=He>0?1:-1,$e=0;w&&(Ge*=-1,$e=Math.PI),Ge<0&&($e+=Math.PI);let Ke=j+D+(Ge>0?0:1)|0,qe=I,at=I,nt=0,st=0;const gt=Math.abs(He),ft=[],ct=[];let Pt=L,Yt=Pt;const cn=()=>Ph(Yt,Pt,at,gt-nt+1,J,ce,Me,Ae.canonical);for(;nt+st<=gt;){if(Ke+=Ge,Ke<j||Ke>=K)return null;if(at=qe,Yt=Pt,ft.push(at),he&&ct.push(Yt),Pt=new a.P(Z.getx(Ke),Z.gety(Ke)),qe=oe[Ke],!qe){const vn=kw(Pt,Ae.canonical,J,Me,ce);qe=vn[3]>0?oe[Ke]=vn:cn()}nt+=st,st=a.a6.vec3.distance(at,qe)}Ce&&ce&&(oe[Ke]&&(qe=cn(),st=a.a6.vec3.distance(at,qe)),oe[Ke]=qe);const Kt=(gt-nt)/st,_n=Pt.sub(Yt)._mult(Kt)._add(Yt),Lt=a.a6.vec3.sub([],qe,at),on=a.a6.vec3.scaleAndAdd([],at,Lt,Kt);let Qt=[0,0,1],xn=Lt[0],Sn=Lt[1];if(ke&&(Qt=Me.upVector(Ae.canonical,_n.x,_n.y),Qt[0]!==0||Qt[1]!==0||Qt[2]!==1)){const vn=[Qt[2],0,-Qt[0]],ar=a.a6.vec3.cross([],Qt,vn);a.a6.vec3.normalize(vn,vn),a.a6.vec3.normalize(ar,ar),xn=a.a6.vec3.dot(Lt,vn),Sn=a.a6.vec3.dot(Lt,ar)}if(f){const vn=a.a6.vec3.cross([],Qt,Lt);a.a6.vec3.normalize(vn,vn),a.a6.vec3.scaleAndAdd(on,on,vn,f*Ge)}const sn=$e+Math.atan2(Sn,xn);return ft.push(on),he&&ct.push(_n),{point:on,angle:sn,path:ft,tilePath:ct,up:Qt}}function Zl(x,c){const f=c.length,w=f+4*x;c.resize(w),c.float32.fill(-1/0,4*f,4*w)}function F0(x,c,f){const w=c[0],I=c[1];return x[0]=f[0]*w+f[4]*I+f[12],x[1]=f[1]*w+f[5]*I+f[13],x[3]=f[3]*w+f[7]*I+f[15],x}const Ts=100;class zo{constructor(c,f,w=new z0(c.width+200,c.height+200,25),I=new z0(c.width+200,c.height+200,25)){this.transform=c,this.grid=w,this.ignoredGrid=I,this.pitchfactor=Math.cos(c._pitch)*c.cameraToCenterDistance,this.screenRightBoundary=c.width+Ts,this.screenBottomBoundary=c.height+Ts,this.gridRightBoundary=c.width+200,this.gridBottomBoundary=c.height+200,this.fogState=f}placeCollisionBox(c,f,w,I,L,D,j,K){let Z=w.projectedAnchorX,J=w.projectedAnchorY,oe=w.projectedAnchorZ;const ce=w.elevation,he=w.tileID,Ce=c.getProjection();if(ce&&he){const[qe,at,nt]=Ce.upVector(he.canonical,w.tileAnchorX,w.tileAnchorY),st=Ce.upVectorScale(he.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;Z+=qe*ce*st,J+=at*ce*st,oe+=nt*ce*st}const Me=this.projectAndGetPerspectiveRatio(j,Z,J,oe,w.tileID,Ce.name==="globe"||!!ce||this.transform.pitch>0,Ce),Ae=D*Me.perspectiveRatio,ke=(w.x1*f+I.x-w.padding)*Ae+Me.point.x,He=(w.y1*f+I.y-w.padding)*Ae+Me.point.y,Ge=(w.x2*f+I.x+w.padding)*Ae+Me.point.x,$e=(w.y2*f+I.y+w.padding)*Ae+Me.point.y,Ke=Me.perspectiveRatio<=.55||Me.occluded;return!this.isInsideGrid(ke,He,Ge,$e)||!L&&this.grid.hitTest(ke,He,Ge,$e,K)||Ke?{box:[],offscreen:!1,occluded:Me.occluded}:{box:[ke,He,Ge,$e],offscreen:this.isOffscreen(ke,He,Ge,$e),occluded:!1}}placeCollisionCircles(c,f,w,I,L,D,j,K,Z,J,oe,ce,he,Ce,Me){const Ae=[],ke=this.transform.elevation,He=c.getProjection(),Ge=ke?ke.getAtTileOffsetFunc(Me,this.transform.center.lat,this.transform.worldSize,He):null,$e=new a.P(w.tileAnchorX,w.tileAnchorY);let{x:Ke,y:qe,z:at}=He.projectTilePoint($e.x,$e.y,Me.canonical);if(Ge){const[_n,Lt,on]=Ge($e);Ke+=_n,qe+=Lt,at+=on}const nt=He.name==="globe",st=this.projectAndGetPerspectiveRatio(j,Ke,qe,at,Me,nt||!!ke||this.transform.pitch>0,He),{perspectiveRatio:gt}=st,ft=(oe?D/gt:D*gt)/a.bq,ct=Oo(Ke,qe,at,K),Pt=st.signedDistanceFromCamera>0?kh(ft,L,w.lineOffsetX*ft,w.lineOffsetY*ft,!1,ct,$e,w,I,K,{},ke&&!oe?Ge:null,oe&&!!ke,He,Me,oe):null;let Yt=!1,cn=!1,Kt=!0;if(Pt&&!st.occluded){const _n=.5*he*gt+Ce,Lt=new a.P(-100,-100),on=new a.P(this.screenRightBoundary,this.screenBottomBoundary),Qt=new Yl,{first:xn,last:Sn}=Pt,sn=xn.path.length;let vn=[];for(let $n=sn-1;$n>=1;$n--)vn.push(xn.path[$n]);for(let $n=1;$n<Sn.path.length;$n++)vn.push(Sn.path[$n]);const ar=2.5*_n;Z&&(vn=vn.map(([$n,wr,Xn],fr)=>(Ge&&!nt&&(Xn=Ge(fr<sn-1?xn.tilePath[sn-1-fr]:Sn.tilePath[fr-sn+2])[2]),Oo($n,wr,Xn,Z))),vn.some($n=>$n[3]<=0)&&(vn=[]));let In=[];if(vn.length>0){let $n=1/0,wr=-1/0,Xn=1/0,fr=-1/0;for(const jr of vn)$n=Math.min($n,jr[0]),Xn=Math.min(Xn,jr[1]),wr=Math.max(wr,jr[0]),fr=Math.max(fr,jr[1]);wr>=Lt.x&&$n<=on.x&&fr>=Lt.y&&Xn<=on.y&&(In=[vn.map(jr=>new a.P(jr[0],jr[1]))],($n<Lt.x||wr>on.x||Xn<Lt.y||fr>on.y)&&(In=a.bo(In,Lt.x,Lt.y,on.x,on.y)))}for(const $n of In){Qt.reset($n,.25*_n);let wr=0;wr=Qt.length<=.5*_n?1:Math.ceil(Qt.paddedLength/ar)+1;for(let Xn=0;Xn<wr;Xn++){const fr=Xn/Math.max(wr-1,1),jr=Qt.lerp(fr),Fr=jr.x+Ts,Ri=jr.y+Ts;Ae.push(Fr,Ri,_n,0);const Ui=Fr-_n,ea=Ri-_n,Ys=Fr+_n,Fa=Ri+_n;if(Kt=Kt&&this.isOffscreen(Ui,ea,Ys,Fa),cn=cn||this.isInsideGrid(Ui,ea,Ys,Fa),!f&&this.grid.hitTestCircle(Fr,Ri,_n,ce)&&(Yt=!0,!J))return{circles:[],offscreen:!1,collisionDetected:Yt,occluded:!1}}}}return{circles:!J&&Yt||!cn?[]:Ae,offscreen:Kt,collisionDetected:Yt,occluded:st.occluded}}queryRenderedSymbols(c){if(c.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const f=[];let w=1/0,I=1/0,L=-1/0,D=-1/0;for(const J of c){const oe=new a.P(J.x+Ts,J.y+Ts);w=Math.min(w,oe.x),I=Math.min(I,oe.y),L=Math.max(L,oe.x),D=Math.max(D,oe.y),f.push(oe)}const j=this.grid.query(w,I,L,D).concat(this.ignoredGrid.query(w,I,L,D)),K={},Z={};for(const J of j){const oe=J.key;if(K[oe.bucketInstanceId]===void 0&&(K[oe.bucketInstanceId]={}),K[oe.bucketInstanceId][oe.featureIndex])continue;const ce=[new a.P(J.x1,J.y1),new a.P(J.x2,J.y1),new a.P(J.x2,J.y2),new a.P(J.x1,J.y2)];a.bp(f,ce)&&(K[oe.bucketInstanceId][oe.featureIndex]=!0,Z[oe.bucketInstanceId]===void 0&&(Z[oe.bucketInstanceId]=[]),Z[oe.bucketInstanceId].push(oe.featureIndex))}return Z}insertCollisionBox(c,f,w,I,L){(f?this.ignoredGrid:this.grid).insert({bucketInstanceId:w,featureIndex:I,collisionGroupID:L},c[0],c[1],c[2],c[3])}insertCollisionCircles(c,f,w,I,L){const D=f?this.ignoredGrid:this.grid,j={bucketInstanceId:w,featureIndex:I,collisionGroupID:L};for(let K=0;K<c.length;K+=4)D.insertCircle(j,c[K],c[K+1],c[K+2])}projectAndGetPerspectiveRatio(c,f,w,I,L,D,j){const K=[f,w,I,1];let Z=!1;I||this.transform.pitch>0?(a.a6.vec4.transformMat4(K,K,c),this.fogState&&L&&j.name!=="globe"&&(Z=function(ce,he,Ce,Me,Ae,ke){const He=ke.calculateFogTileMatrix(Ae),Ge=[he,Ce,Me];return a.a6.vec3.transformMat4(Ge,Ge,He),Rn(ce,a.a6.vec3.length(Ge),ke.pitch,ke._fov)}(this.fogState,f,w,I,L.toUnwrapped(),this.transform)>.9)):F0(K,K,c);const J=K[3];return{point:new a.P((K[0]/J+1)/2*this.transform.width+Ts,(-K[1]/J+1)/2*this.transform.height+Ts),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(j)/J*.5,1.5),signedDistanceFromCamera:J,occluded:D&&K[2]>J||Z}}isOffscreen(c,f,w,I){return w<Ts||c>=this.screenRightBoundary||I<Ts||f>this.screenBottomBoundary}isInsideGrid(c,f,w,I){return w>=0&&c<this.gridRightBoundary&&I>=0&&f<this.gridBottomBoundary}getViewportMatrix(){const c=a.a6.mat4.identity([]);return a.a6.mat4.translate(c,c,[-100,-100,0]),c}}function Go(x,c,f){const w=c.createTileMatrix(x,x.worldSize,f.toUnwrapped());return a.a6.mat4.multiply(new Float32Array(16),x.projMatrix,w)}function Pw(x,c,f){if(c.projection.name===f.projection.name)return x.projMatrix;const w=f.clone();return w.setProjection(c.projection),Go(w,c.getProjection(),x)}function Tc(x,c,f){return c.name===f.projection.name?x.projMatrix:Go(f,c,x)}class ja{constructor(c,f,w,I){this.opacity=c?Math.max(0,Math.min(1,c.opacity+(c.placed?f:-f))):I&&w?1:0,this.placed=w}isHidden(){return this.opacity===0&&!this.placed}}class Wo{constructor(c,f,w,I,L,D=!1){this.text=new ja(c?c.text:null,f,w,L),this.icon=new ja(c?c.icon:null,f,I,L),this.clipped=D}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Sl{constructor(c,f,w,I=!1){this.text=c,this.icon=f,this.skipFade=w,this.clipped=I}}class ao{constructor(){this.invProjMatrix=a.a6.mat4.create(),this.viewportMatrix=a.a6.mat4.create(),this.circles=[]}}class iy{constructor(c,f,w,I,L){this.bucketInstanceId=c,this.featureIndex=f,this.sourceLayerIndex=w,this.bucketIndex=I,this.tileID=L}}class Cl{constructor(c){this.crossSourceCollisions=c,this.maxGroupID=0,this.collisionGroups={}}get(c){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[c]){const f=++this.maxGroupID;this.collisionGroups[c]={ID:f,predicate:w=>w.collisionGroupID===f}}return this.collisionGroups[c]}}function Rh(x,c,f,w,I){const{horizontalAlign:L,verticalAlign:D}=a.bx(x),j=-(L-.5)*c,K=-(D-.5)*f,Z=a.bw(x,w);return new a.P(j+Z[0]*I,K+Z[1]*I)}function wd(x,c,f,w,I){const L=new a.P(x,c);return f&&L._rotate(w?I:-I),L}class Sd{constructor(c,f,w,I,L,D){this.transform=c.clone(),this.projection=c.projection.name,this.collisionIndex=new zo(this.transform,L),this.buildingIndex=D,this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=f,this.retainedQueryData={},this.collisionGroups=new Cl(w),this.collisionCircleArrays={},this.prevPlacement=I,I&&(I.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(c,f,w,I){const L=w.getBucket(f),D=w.latestFeatureIndex;if(!L||!D||f.fqid!==L.layerIds[0])return;const j=L.layers[0].layout,K=L.layers[0].paint,Z=w.collisionBoxArray,J=Math.pow(2,this.transform.zoom-w.tileID.overscaledZ),oe=w.tileSize/a.ab,ce=w.tileID.toUnwrapped();this.transform.setProjection(L.projection);const he=(Ce=w.tileID,Me=L.getProjection(),Ae=this.transform,Me.name===this.projection?Ae.calculateProjMatrix(Ce.toUnwrapped()):Go(Ae,Me,Ce));var Ce,Me,Ae;const ke=j.get("text-pitch-alignment")==="map",He=j.get("text-rotation-alignment")==="map";f.compileFilter();const Ge=f.dynamicFilter(),$e=f.dynamicFilterNeedsFeature(),Ke=this.transform.calculatePixelsToTileUnitsMatrix(w),qe=ci(he,w.tileID.canonical,ke,He,this.transform,L.getProjection(),Ke);let at=null;if(ke){const gt=as(he,w.tileID.canonical,ke,He,this.transform,L.getProjection(),Ke);at=a.a6.mat4.multiply([],this.transform.labelPlaneMatrix,gt)}let nt=null;Ge&&w.latestFeatureIndex&&(nt={unwrappedTileID:ce,dynamicFilter:Ge,dynamicFilterNeedsFeature:$e}),this.retainedQueryData[L.bucketInstanceId]=new iy(L.bucketInstanceId,D,L.sourceLayerIndex,L.index,w.tileID);const st={bucket:L,layout:j,paint:K,posMatrix:he,textLabelPlaneMatrix:qe,labelToScreenMatrix:at,clippingData:nt,scale:J,textPixelRatio:oe,holdingForFade:w.holdingForFade(),collisionBoxArray:Z,partiallyEvaluatedTextSize:a.bj(L.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:a.bj(L.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(L.sourceID),latestFeatureIndex:w.latestFeatureIndex};if(I)for(const gt of L.sortKeyRanges){const{sortKey:ft,symbolInstanceStart:ct,symbolInstanceEnd:Pt}=gt;c.push({sortKey:ft,symbolInstanceStart:ct,symbolInstanceEnd:Pt,parameters:st})}else c.push({symbolInstanceStart:0,symbolInstanceEnd:L.symbolInstances.length,parameters:st})}attemptAnchorPlacement(c,f,w,I,L,D,j,K,Z,J,oe,ce,he,Ce,Me,Ae,ke,He){const{textOffset0:Ge,textOffset1:$e,crossTileID:Ke}=ce,qe=[Ge,$e],at=Rh(c,w,I,qe,L),nt=this.collisionIndex.placeCollisionBox(Ce,L,f,wd(at.x,at.y,D,j,this.transform.angle),oe,K,Z,J.predicate);if(Ae){const st=Ce.getSymbolInstanceIconSize(He,this.transform.zoom,ce.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(Ce,st,Ae,wd(at.x,at.y,D,j,this.transform.angle),oe,K,Z,J.predicate).box.length===0)return}if(nt.box.length>0){let st;return this.prevPlacement&&this.prevPlacement.variableOffsets[Ke]&&this.prevPlacement.placements[Ke]&&this.prevPlacement.placements[Ke].text&&(st=this.prevPlacement.variableOffsets[Ke].anchor),this.variableOffsets[Ke]={textOffset:qe,width:w,height:I,anchor:c,textScale:L,prevAnchor:st},this.markUsedJustification(Ce,c,ce,Me),Ce.allowVerticalPlacement&&(this.markUsedOrientation(Ce,Me,ce),this.placedOrientations[Ke]=Me),{shift:at,placedGlyphBoxes:nt}}}placeLayerBucketPart(c,f,w,I){const{bucket:L,layout:D,paint:j,posMatrix:K,textLabelPlaneMatrix:Z,labelToScreenMatrix:J,clippingData:oe,textPixelRatio:ce,holdingForFade:he,collisionBoxArray:Ce,partiallyEvaluatedTextSize:Me,partiallyEvaluatedIconSize:Ae,collisionGroup:ke,latestFeatureIndex:He}=c.parameters,Ge=D.get("text-optional"),$e=D.get("icon-optional"),Ke=D.get("text-allow-overlap"),qe=D.get("icon-allow-overlap"),at=D.get("text-rotation-alignment")==="map",nt=D.get("text-pitch-alignment")==="map",st=D.get("symbol-z-elevate"),gt=j.get("symbol-z-offset"),ft=j.get("symbol-elevation-reference")==="sea";this.transform.setProjection(L.projection);let ct=Ke&&(qe||!L.hasIconData()||$e),Pt=qe&&(Ke||!L.hasTextData()||Ge);const Yt=!gt.isConstant();!L.collisionArrays&&Ce&&L.deserializeCollisionBoxes(Ce),w&&I&&L.updateCollisionDebugBuffers(this.transform.zoom,Ce);const cn=(Kt,_n,Lt)=>{const{crossTileID:on,numVerticalGlyphVertices:Qt}=Kt;let xn=null;if(oe&&oe.dynamicFilterNeedsFeature||Yt){const $r=this.retainedQueryData[L.bucketInstanceId];xn=He.loadFeature({featureIndex:Kt.featureIndex,bucketIndex:$r.bucketIndex,sourceLayerIndex:$r.sourceLayerIndex,layoutVertexArrayOffset:0})}if(oe&&!(0,oe.dynamicFilter)({zoom:this.transform.zoom,pitch:this.transform.pitch},xn,this.retainedQueryData[L.bucketInstanceId].tileID.canonical,new a.P(Kt.tileAnchorX,Kt.tileAnchorY),this.transform.calculateDistanceTileData(oe.unwrappedTileID)))return this.placements[on]=new Sl(!1,!1,!1,!0),void f.add(on);const Sn=gt.evaluate(xn,{});if(f.has(on))return;if(he)return void(this.placements[on]=new Sl(!1,!1,!1));let sn=!1,vn=!1,ar=!0,In=!1,$n=!1,wr=null,Xn={box:null,offscreen:null,occluded:null},fr={box:null,offscreen:null,occluded:null},jr=null,Fr=null,Ri=null,Ui=0,ea=0,Ys=0;Lt.textFeatureIndex?Ui=Lt.textFeatureIndex:Kt.useRuntimeCollisionCircles&&(Ui=Kt.featureIndex),Lt.verticalTextFeatureIndex&&(ea=Lt.verticalTextFeatureIndex);const Fa=$r=>{$r.tileID=this.retainedQueryData[L.bucketInstanceId].tileID;const bi=this.transform.elevation;$r.elevation=ft?Sn:Sn+(bi?bi.getAtTileOffset($r.tileID,$r.tileAnchorX,$r.tileAnchorY):0),$r.elevation+=Kt.zOffset},ni=Lt.textBox;if(ni){Fa(ni);const $r=ki=>{let xa=a.bk.horizontal;if(L.allowVerticalPlacement&&!ki&&this.prevPlacement){const Na=this.prevPlacement.placedOrientations[on];Na&&(this.placedOrientations[on]=Na,xa=Na,this.markUsedOrientation(L,xa,Kt))}return xa},bi=(ki,xa)=>{if(L.allowVerticalPlacement&&Qt>0&&Lt.verticalTextBox){for(const Na of L.writingModes)if(Na===a.bk.vertical?(Xn=xa(),fr=Xn):Xn=ki(),Xn&&Xn.box&&Xn.box.length)break}else Xn=ki()};if(D.get("text-variable-anchor")){let ki=D.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[on]){const hi=this.prevPlacement.variableOffsets[on];ki.indexOf(hi.anchor)>0&&(ki=ki.filter(Qa=>Qa!==hi.anchor),ki.unshift(hi.anchor))}const xa=(hi,Qa,oo)=>{const eo=L.getSymbolInstanceTextSize(Me,Kt,this.transform.zoom,_n),Yi=(hi.x2-hi.x1)*eo+2*hi.padding,Ko=(hi.y2-hi.y1)*eo+2*hi.padding,Yo=Kt.hasIconTextFit&&!qe?Qa:null;Yo&&Fa(Yo);let Zs={box:[],offscreen:!1,occluded:!1};const Ps=Ke?2*ki.length:ki.length;for(let us=0;us<Ps;++us){const Xs=this.attemptAnchorPlacement(ki[us%ki.length],hi,Yi,Ko,eo,at,nt,ce,K,ke,us>=ki.length,Kt,_n,L,oo,Yo,Me,Ae);if(Xs&&(Zs=Xs.placedGlyphBoxes,Zs&&Zs.box&&Zs.box.length)){sn=!0,wr=Xs.shift;break}}return Zs};bi(()=>xa(ni,Lt.iconBox,a.bk.horizontal),()=>{const hi=Lt.verticalTextBox;return hi&&Fa(hi),L.allowVerticalPlacement&&!(Xn&&Xn.box&&Xn.box.length)&&Qt>0&&hi?xa(hi,Lt.verticalIconBox,a.bk.vertical):{box:null,offscreen:null,occluded:null}}),Xn&&(sn=Xn.box,ar=Xn.offscreen,In=Xn.occluded);const Na=$r(!(!Xn||!Xn.box));if(!sn&&this.prevPlacement){const hi=this.prevPlacement.variableOffsets[on];hi&&(this.variableOffsets[on]=hi,this.markUsedJustification(L,hi.anchor,Kt,Na))}}else{const ki=(xa,Na)=>{const hi=L.getSymbolInstanceTextSize(Me,Kt,this.transform.zoom,_n),Qa=this.collisionIndex.placeCollisionBox(L,hi,xa,new a.P(0,0),Ke,ce,K,ke.predicate);return Qa&&Qa.box&&Qa.box.length&&(this.markUsedOrientation(L,Na,Kt),this.placedOrientations[on]=Na),Qa};bi(()=>ki(ni,a.bk.horizontal),()=>{const xa=Lt.verticalTextBox;return L.allowVerticalPlacement&&Qt>0&&xa?(Fa(xa),ki(xa,a.bk.vertical)):{box:null,offscreen:null,occluded:null}}),$r(!!(Xn&&Xn.box&&Xn.box.length))}}if(jr=Xn,sn=jr&&jr.box&&jr.box.length>0,ar=jr&&jr.offscreen,In=jr&&jr.occluded,Kt.useRuntimeCollisionCircles){const $r=L.text.placedSymbolArray.get(Kt.centerJustifiedTextSymbolIndex>=0?Kt.centerJustifiedTextSymbolIndex:Kt.verticalPlacedTextSymbolIndex),bi=a.bl(L.textSizeData,Me,$r),ki=D.get("text-padding");Fr=this.collisionIndex.placeCollisionCircles(L,Ke,$r,L.lineVertexArray,L.glyphOffsetArray,bi,K,Z,J,w,nt,ke.predicate,Kt.collisionCircleDiameter*bi/a.bq,ki,this.retainedQueryData[L.bucketInstanceId].tileID),sn=Ke||Fr.circles.length>0&&!Fr.collisionDetected,ar=ar&&Fr.offscreen,In=Fr.occluded}if(Lt.iconFeatureIndex&&(Ys=Lt.iconFeatureIndex),Lt.iconBox){const $r=bi=>{Fa(bi);const ki=Kt.hasIconTextFit&&wr?wd(wr.x,wr.y,at,nt,this.transform.angle):new a.P(0,0),xa=L.getSymbolInstanceIconSize(Ae,this.transform.zoom,Kt.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(L,xa,bi,ki,qe,ce,K,ke.predicate)};fr&&fr.box&&fr.box.length&&Lt.verticalIconBox?(Ri=$r(Lt.verticalIconBox),vn=Ri.box.length>0):(Ri=$r(Lt.iconBox),vn=Ri.box.length>0),ar=ar&&Ri.offscreen,$n=Ri.occluded}const Ni=Ge||Kt.numHorizontalGlyphVertices===0&&Qt===0,ua=$e||Kt.numIconVertices===0;if(Ni||ua?ua?Ni||(vn=vn&&sn):sn=vn&&sn:vn=sn=vn&&sn,sn&&jr&&jr.box&&this.collisionIndex.insertCollisionBox(jr.box,D.get("text-ignore-placement"),L.bucketInstanceId,fr&&fr.box&&ea?ea:Ui,ke.ID),vn&&Ri&&this.collisionIndex.insertCollisionBox(Ri.box,D.get("icon-ignore-placement"),L.bucketInstanceId,Ys,ke.ID),Fr&&(sn&&this.collisionIndex.insertCollisionCircles(Fr.circles,D.get("text-ignore-placement"),L.bucketInstanceId,Ui,ke.ID),w)){const $r=L.bucketInstanceId;let bi=this.collisionCircleArrays[$r];bi===void 0&&(bi=this.collisionCircleArrays[$r]=new ao);for(let ki=0;ki<Fr.circles.length;ki+=4)bi.circles.push(Fr.circles[ki+0]),bi.circles.push(Fr.circles[ki+1]),bi.circles.push(Fr.circles[ki+2]),bi.circles.push(Fr.collisionDetected?1:0)}const zi=L.projection.name!=="globe";ct=ct&&(zi||!In),Pt=Pt&&(zi||!$n),this.placements[on]=new Sl(sn||ct,vn||Pt,ar||L.justReloaded),f.add(on)};if(st&&this.buildingIndex&&(this.buildingIndex.updateZOffset(L,this.retainedQueryData[L.bucketInstanceId].tileID),L.updateZOffset()),L.sortFeaturesByY){const Kt=L.getSortedSymbolIndexes(this.transform.angle);for(let _n=Kt.length-1;_n>=0;--_n){const Lt=Kt[_n];cn(L.symbolInstances.get(Lt),Lt,L.collisionArrays[Lt])}L.hasAnyZOffset&&a.w(`${L.layerIds[0]} layer symbol-z-elevate: symbols are not sorted by elevation if symbol-z-order is evaluated to viewport-y`)}else if(L.hasAnyZOffset){const Kt=L.getSortedIndexesByZOffset();for(let _n=0;_n<Kt.length;++_n){const Lt=Kt[_n];cn(L.symbolInstances.get(Lt),Lt,L.collisionArrays[Lt])}}else for(let Kt=c.symbolInstanceStart;Kt<c.symbolInstanceEnd;Kt++)cn(L.symbolInstances.get(Kt),Kt,L.collisionArrays[Kt]);if(w&&L.bucketInstanceId in this.collisionCircleArrays){const Kt=this.collisionCircleArrays[L.bucketInstanceId];a.a6.mat4.invert(Kt.invProjMatrix,K),Kt.viewportMatrix=this.collisionIndex.getViewportMatrix()}L.justReloaded=!1}markUsedJustification(c,f,w,I){const{leftJustifiedTextSymbolIndex:L,centerJustifiedTextSymbolIndex:D,rightJustifiedTextSymbolIndex:j,verticalPlacedTextSymbolIndex:K,crossTileID:Z}=w,J=a.bv(f),oe=I===a.bk.vertical?K:J==="left"?L:J==="center"?D:J==="right"?j:-1;L>=0&&(c.text.placedSymbolArray.get(L).crossTileID=oe>=0&&L!==oe?0:Z),D>=0&&(c.text.placedSymbolArray.get(D).crossTileID=oe>=0&&D!==oe?0:Z),j>=0&&(c.text.placedSymbolArray.get(j).crossTileID=oe>=0&&j!==oe?0:Z),K>=0&&(c.text.placedSymbolArray.get(K).crossTileID=oe>=0&&K!==oe?0:Z)}markUsedOrientation(c,f,w){const I=f===a.bk.horizontal||f===a.bk.horizontalOnly?f:0,L=f===a.bk.vertical?f:0,{leftJustifiedTextSymbolIndex:D,centerJustifiedTextSymbolIndex:j,rightJustifiedTextSymbolIndex:K,verticalPlacedTextSymbolIndex:Z}=w,J=c.text.placedSymbolArray;D>=0&&(J.get(D).placedOrientation=I),j>=0&&(J.get(j).placedOrientation=I),K>=0&&(J.get(K).placedOrientation=I),Z>=0&&(J.get(Z).placedOrientation=L)}commit(c){this.commitTime=c,this.zoomAtLastRecencyCheck=this.transform.zoom;const f=this.prevPlacement;let w=!1;this.prevZoomAdjustment=f?f.zoomAdjustment(this.transform.zoom):0;const I=f?f.symbolFadeChange(c):1,L=f?f.opacities:{},D=f?f.variableOffsets:{},j=f?f.placedOrientations:{};for(const K in this.placements){const Z=this.placements[K],J=L[K];J?(this.opacities[K]=new Wo(J,I,Z.text,Z.icon,null,Z.clipped),w=w||Z.text!==J.text.placed||Z.icon!==J.icon.placed):(this.opacities[K]=new Wo(null,I,Z.text,Z.icon,Z.skipFade,Z.clipped),w=w||Z.text||Z.icon)}for(const K in L){const Z=L[K];if(!this.opacities[K]){const J=new Wo(Z,I,!1,!1);J.isHidden()||(this.opacities[K]=J,w=w||Z.text.placed||Z.icon.placed)}}for(const K in D)this.variableOffsets[K]||!this.opacities[K]||this.opacities[K].isHidden()||(this.variableOffsets[K]=D[K]);for(const K in j)this.placedOrientations[K]||!this.opacities[K]||this.opacities[K].isHidden()||(this.placedOrientations[K]=j[K]);w?this.lastPlacementChangeTime=c:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=f?f.lastPlacementChangeTime:c)}updateLayerOpacities(c,f,w,I){const L=new Set;for(const D of f){const j=D.getBucket(c);j&&D.latestFeatureIndex&&c.fqid===j.layerIds[0]&&(this.updateBucketOpacities(j,L,D,D.collisionBoxArray,w,I,D.tileID,c.scope),j.layers[0].layout.get("symbol-z-elevate")&&this.buildingIndex&&(this.buildingIndex.updateZOffset(j,D.tileID),j.updateZOffset()))}}updateBucketOpacities(c,f,w,I,L,D,j,K){c.hasTextData()&&c.text.opacityVertexArray.clear(),c.hasIconData()&&c.icon.opacityVertexArray.clear(),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexArray.clear(),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexArray.clear();const Z=c.layers[0].layout,J=c.layers[0].paint,oe=!!c.layers[0].dynamicFilter(),ce=new Wo(null,0,!1,!1,!0),he=Z.get("text-allow-overlap"),Ce=Z.get("icon-allow-overlap"),Me=Z.get("text-variable-anchor"),Ae=Z.get("text-rotation-alignment")==="map",ke=Z.get("text-pitch-alignment")==="map",He=J.get("symbol-z-offset"),Ge=J.get("symbol-elevation-reference")==="sea",$e=!He.isConstant(),Ke=new Wo(null,0,he&&(Ce||!c.hasIconData()||Z.get("icon-optional")),Ce&&(he||!c.hasTextData()||Z.get("text-optional")),!0);!c.collisionArrays&&I&&(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData())&&c.deserializeCollisionBoxes(I);const qe=(nt,st,gt)=>{for(let ft=0;ft<st/4;ft++)nt.opacityVertexArray.emplaceBack(gt)};let at=0;D&&c.updateReplacement(j,D);for(let nt=0;nt<c.symbolInstances.length;nt++){const st=c.symbolInstances.get(nt),{numHorizontalGlyphVertices:gt,numVerticalGlyphVertices:ft,crossTileID:ct,numIconVertices:Pt,tileAnchorX:Yt,tileAnchorY:cn}=st;let Kt=null;if(st&&$e){const In=this.retainedQueryData[c.bucketInstanceId];Kt=w.latestFeatureIndex.loadFeature({featureIndex:st.featureIndex,bucketIndex:In.bucketIndex,sourceLayerIndex:In.sourceLayerIndex,layoutVertexArrayOffset:0})}const _n=He.evaluate(Kt,{}),Lt=f.has(ct);let on=this.opacities[ct];Lt?on=ce:on||(on=Ke,this.opacities[ct]=on),f.add(ct);const Qt=gt>0||ft>0,xn=Pt>0,Sn=this.placedOrientations[ct],sn=Sn===a.bk.vertical,vn=Sn===a.bk.horizontal||Sn===a.bk.horizontalOnly;!Qt&&!xn||on.isHidden()||at++;let ar=!1;if((Qt||xn)&&D)for(const In of c.activeReplacements){if(a.br(In,L,a.bs.Symbol,K)||In.min.x>Yt||Yt>In.max.x||In.min.y>cn||cn>In.max.y)continue;const $n=a.bt(Yt,cn,j.canonical,In.footprintTileId.canonical);if(ar=a.bu($n,In.footprint),ar)break}if(Qt){const In=ar?Oh:Dh(on.text);qe(c.text,gt,sn?Oh:In),qe(c.text,ft,vn?Oh:In);const $n=on.text.isHidden(),{leftJustifiedTextSymbolIndex:wr,centerJustifiedTextSymbolIndex:Xn,rightJustifiedTextSymbolIndex:fr,verticalPlacedTextSymbolIndex:jr}=st,Fr=c.text.placedSymbolArray,Ri=$n||sn?1:0;wr>=0&&(Fr.get(wr).hidden=Ri),Xn>=0&&(Fr.get(Xn).hidden=Ri),fr>=0&&(Fr.get(fr).hidden=Ri),jr>=0&&(Fr.get(jr).hidden=$n||vn?1:0);const Ui=this.variableOffsets[ct];Ui&&this.markUsedJustification(c,Ui.anchor,st,Sn);const ea=this.placedOrientations[ct];ea&&(this.markUsedJustification(c,"left",st,ea),this.markUsedOrientation(c,ea,st))}if(xn){const In=ar?Oh:Dh(on.icon),{placedIconSymbolIndex:$n,verticalPlacedIconSymbolIndex:wr}=st,Xn=c.icon.placedSymbolArray,fr=on.icon.isHidden()?1:0;$n>=0&&(qe(c.icon,Pt,sn?Oh:In),Xn.get($n).hidden=fr),wr>=0&&(qe(c.icon,st.numVerticalIconVertices,vn?Oh:In),Xn.get(wr).hidden=fr)}if(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData()){const In=c.collisionArrays[nt];if(In){let $n=new a.P(0,0),wr=!0;if(In.textBox||In.verticalTextBox){if(Me){const fr=this.variableOffsets[ct];fr?($n=Rh(fr.anchor,fr.width,fr.height,fr.textOffset,fr.textScale),Ae&&$n._rotate(ke?this.transform.angle:-this.transform.angle)):wr=!1}oe&&(wr=!on.clipped),In.textBox&&N0(c.textCollisionBox.collisionVertexArray,on.text.placed,!wr||sn,_n,Ge,$n.x,$n.y),In.verticalTextBox&&N0(c.textCollisionBox.collisionVertexArray,on.text.placed,!wr||vn,_n,Ge,$n.x,$n.y)}const Xn=wr&&!!(!vn&&In.verticalIconBox);In.iconBox&&N0(c.iconCollisionBox.collisionVertexArray,on.icon.placed,Xn,_n,Ge,st.hasIconTextFit?$n.x:0,st.hasIconTextFit?$n.y:0),In.verticalIconBox&&N0(c.iconCollisionBox.collisionVertexArray,on.icon.placed,!Xn,_n,Ge,st.hasIconTextFit?$n.x:0,st.hasIconTextFit?$n.y:0)}}}if(c.fullyClipped=at===0,c.sortFeatures(this.transform.angle),this.retainedQueryData[c.bucketInstanceId]&&(this.retainedQueryData[c.bucketInstanceId].featureSortOrder=c.featureSortOrder),c.hasTextData()&&c.text.opacityVertexBuffer&&c.text.opacityVertexBuffer.updateData(c.text.opacityVertexArray),c.hasIconData()&&c.icon.opacityVertexBuffer&&c.icon.opacityVertexBuffer.updateData(c.icon.opacityVertexArray),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexBuffer&&c.iconCollisionBox.collisionVertexBuffer.updateData(c.iconCollisionBox.collisionVertexArray),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexBuffer&&c.textCollisionBox.collisionVertexBuffer.updateData(c.textCollisionBox.collisionVertexArray),c.bucketInstanceId in this.collisionCircleArrays){const nt=this.collisionCircleArrays[c.bucketInstanceId];c.placementInvProjMatrix=nt.invProjMatrix,c.placementViewportMatrix=nt.viewportMatrix,c.collisionCircleArray=nt.circles,delete this.collisionCircleArrays[c.bucketInstanceId]}}symbolFadeChange(c){return this.fadeDuration===0?1:(c-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(c){return Math.max(0,(this.transform.zoom-c)/1.5)}hasTransitions(c){return this.stale||c-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(c,f){const w=this.zoomAtLastRecencyCheck===f?1-this.zoomAdjustment(f):1;return this.zoomAtLastRecencyCheck=f,this.commitTime+this.fadeDuration*w>c}setStale(){this.stale=!0}}function N0(x,c,f,w,I,L,D){x.emplaceBack(c?1:0,f?1:0,L||0,D||0,w,I?1:0),x.emplaceBack(c?1:0,f?1:0,L||0,D||0,w,I?1:0),x.emplaceBack(c?1:0,f?1:0,L||0,D||0,w,I?1:0),x.emplaceBack(c?1:0,f?1:0,L||0,D||0,w,I?1:0)}const zu=Math.pow(2,25),vT=Math.pow(2,24),Lw=Math.pow(2,17),os=Math.pow(2,16),gT=Math.pow(2,9),$0=Math.pow(2,8),Rw=Math.pow(2,1);function Dh(x){if(x.opacity===0&&!x.placed)return 0;if(x.opacity===1&&x.placed)return 4294967295;const c=x.placed?1:0,f=Math.floor(127*x.opacity);return f*zu+c*vT+f*Lw+c*os+f*gT+c*$0+f*Rw+c}const Oh=0;class _T{constructor(c){this._sortAcrossTiles=c.layout.get("symbol-z-order")!=="viewport-y"&&c.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs=new Set,this._bucketParts=[]}continuePlacement(c,f,w,I,L){const D=this._bucketParts;for(;this._currentTileIndex<c.length;)if(f.getBucketParts(D,I,c[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,L())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,D.sort((j,K)=>j.sortKey-K.sortKey));this._currentPartIndex<D.length;){const j=D[this._currentPartIndex];if(f.placeLayerBucketPart(j,this._seenCrossTileIDs,w,j.symbolInstanceStart===0),this._currentPartIndex++,L())return!0}return!1}}class Ap{constructor(c,f,w,I,L,D,j,K,Z){this.placement=new Sd(c,L,D,j,K,Z),this._currentPlacementIndex=f.length-1,this._forceFullPlacement=w,this._showCollisionBoxes=I,this._done=!1}isDone(){return this._done}continuePlacement(c,f,w,I){const L=a.q.now(),D=()=>{const j=a.q.now()-L;return!this._forceFullPlacement&&j>2};for(;this._currentPlacementIndex>=0;){const j=f[c[this._currentPlacementIndex]],K=this.placement.collisionIndex.transform.zoom;if(j.type==="symbol"&&(!j.minzoom||j.minzoom<=K)&&(!j.maxzoom||j.maxzoom>K)){const Z=j,J=Z.layout.get("symbol-z-elevate"),oe=Z.layout.get("symbol-sort-key").constantOr(1)!==void 0,ce=Z.layout.get("symbol-z-order"),he=ce==="viewport-y"||ce==="auto"&&!(ce!=="viewport-y"&&oe),Ce=Z.layout.get("text-allow-overlap")||Z.layout.get("icon-allow-overlap")||Z.layout.get("text-ignore-placement")||Z.layout.get("icon-ignore-placement"),Me=he&&Ce,Ae=this._inProgressLayer=this._inProgressLayer||new _T(Z),ke=a.av(j.source,j.scope);if(Ae.continuePlacement(J||Me?I[ke]:w[ke],this.placement,this._showCollisionBoxes,j,D))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(c){return this.placement.commit(c),this.placement}}const Cd=512/a.ab/2;class yT{constructor(c,f,w){this.tileID=c,this.bucketInstanceId=w,this.index=new a.by(f.length,16,Int32Array),this.keys=[],this.crossTileIDs=[];const I=c.canonical.x*a.ab,L=c.canonical.y*a.ab;for(let D=0;D<f.length;D++){const{key:j,crossTileID:K,tileAnchorX:Z,tileAnchorY:J}=f.get(D),oe=Math.floor((I+Z)*Cd),ce=Math.floor((L+J)*Cd);this.index.add(oe,ce),this.keys.push(j),this.crossTileIDs.push(K)}this.index.finish()}findMatches(c,f,w){const I=this.tileID.canonical.z<f.canonical.z?1:Math.pow(2,this.tileID.canonical.z-f.canonical.z),L=Cd/Math.pow(2,f.canonical.z-this.tileID.canonical.z),D=f.canonical.x*a.ab,j=f.canonical.y*a.ab;for(let K=0;K<c.length;K++){const Z=c.get(K);if(Z.crossTileID)continue;const{key:J,tileAnchorX:oe,tileAnchorY:ce}=Z,he=Math.floor((D+oe)*L),Ce=Math.floor((j+ce)*L),Me=this.index.range(he-I,Ce-I,he+I,Ce+I);for(const Ae of Me){const ke=this.crossTileIDs[Ae];if(this.keys[Ae]===J&&!w.has(ke)){w.add(ke),Z.crossTileID=ke;break}}}}}class zh{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Dw{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(c){const f=Math.round((c-this.lng)/360);if(f!==0)for(const w in this.indexes){const I=this.indexes[w],L={};for(const D in I){const j=I[D];j.tileID=j.tileID.unwrapTo(j.tileID.wrap+f),L[j.tileID.key]=j}this.indexes[w]=L}this.lng=c}addBucket(c,f,w){if(this.indexes[c.overscaledZ]&&this.indexes[c.overscaledZ][c.key]){if(this.indexes[c.overscaledZ][c.key].bucketInstanceId===f.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(c.overscaledZ,this.indexes[c.overscaledZ][c.key])}for(let L=0;L<f.symbolInstances.length;L++)f.symbolInstances.get(L).crossTileID=0;this.usedCrossTileIDs[c.overscaledZ]||(this.usedCrossTileIDs[c.overscaledZ]=new Set);const I=this.usedCrossTileIDs[c.overscaledZ];for(const L in this.indexes){const D=this.indexes[L];if(Number(L)>c.overscaledZ)for(const j in D){const K=D[j];K.tileID.isChildOf(c)&&K.findMatches(f.symbolInstances,c,I)}else{const j=D[c.scaledTo(Number(L)).key];j&&j.findMatches(f.symbolInstances,c,I)}}for(let L=0;L<f.symbolInstances.length;L++){const D=f.symbolInstances.get(L);D.crossTileID||(D.crossTileID=w.generate(),I.add(D.crossTileID))}return this.indexes[c.overscaledZ]===void 0&&(this.indexes[c.overscaledZ]={}),this.indexes[c.overscaledZ][c.key]=new yT(c,f.symbolInstances,f.bucketInstanceId),!0}removeBucketCrossTileIDs(c,f){for(const w of f.crossTileIDs)this.usedCrossTileIDs[c].delete(w)}removeStaleBuckets(c){let f=!1;for(const w in this.indexes){const I=this.indexes[w];for(const L in I)c[I[L].bucketInstanceId]||(this.removeBucketCrossTileIDs(w,I[L]),delete I[L],f=!0)}return f}}class V0{constructor(){this.layerIndexes={},this.crossTileIDs=new zh,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(c,f,w,I){let L=this.layerIndexes[c.fqid];L===void 0&&(L=this.layerIndexes[c.fqid]=new Dw);let D=!1;const j={};I.name!=="globe"&&L.handleWrapJump(w);for(const K of f){const Z=K.getBucket(c);Z&&c.fqid===Z.layerIds[0]&&(Z.bucketInstanceId||(Z.bucketInstanceId=++this.maxBucketInstanceId),L.addBucket(K.tileID,Z,this.crossTileIDs)&&(D=!0),j[Z.bucketInstanceId]=!0)}return L.removeStaleBuckets(j)&&(D=!0),D}pruneUnusedLayers(c){const f={};c.forEach(w=>{f[w]=!0});for(const w in this.layerIndexes)f[w]||delete this.layerIndexes[w]}}const Ms=771;class ei{constructor(c,f,w,I){this.blendFunction=c,this.blendColor=f,this.mask=w,this.blendEquation=I}}ei.Replace=[1,0,1,0],ei.disabled=new ei(ei.Replace,a.bz.transparent,[!1,!1,!1,!1]),ei.unblended=new ei(ei.Replace,a.bz.transparent,[!0,!0,!0,!0]),ei.alphaBlended=new ei([1,Ms,1,Ms],a.bz.transparent,[!0,!0,!0,!0]),ei.alphaBlendedNonPremultiplied=new ei([770,Ms,770,Ms],a.bz.transparent,[!0,!0,!0,!0]),ei.multiply=new ei([774,0,774,0],a.bz.transparent,[!0,!0,!0,!0]);class lr{constructor(c,f,w){this.func=c,this.mask=f,this.range=w}}lr.ReadOnly=!1,lr.ReadWrite=!0,lr.disabled=new lr(519,lr.ReadOnly,[0,1]);const ay=7680;class Ir{constructor(c,f,w,I,L,D){this.test=c,this.ref=f,this.mask=w,this.fail=I,this.depthFail=L,this.pass=D}}Ir.disabled=new Ir({func:519,mask:0},0,0,ay,ay,ay);const oy=1029,Ip=2305;class Sr{constructor(c,f,w){this.enable=c,this.mode=f,this.frontFace=w}}function sy(x,c){const f=a.bC(x,3);a.a6.mat4.fromQuat(x,c),a.bE(x,3,f)}function H0(x,c){const f=a.a6.quat.identity([]);return a.a6.quat.rotateZ(f,f,-c),a.a6.quat.rotateX(f,f,-x),f}function ly(x,c){const f=[x[0],x[1],0],w=[c[0],c[1],0];if(a.a6.vec3.length(f)>=1e-15){const D=a.a6.vec3.normalize([],f);a.a6.vec3.scale(w,D,a.a6.vec3.dot(w,D)),c[0]=w[0],c[1]=w[1]}const I=a.a6.vec3.cross([],c,x);if(a.a6.vec3.len(I)<1e-15)return null;const L=Math.atan2(-I[1],I[0]);return H0(Math.atan2(Math.sqrt(x[0]*x[0]+x[1]*x[1]),-x[2]),L)}Sr.disabled=new Sr(!1,oy,Ip),Sr.backCCW=new Sr(!0,oy,Ip),Sr.backCW=new Sr(!0,oy,2304),Sr.frontCW=new Sr(!0,1028,2304),Sr.frontCCW=new Sr(!0,1028,Ip);class Mc{constructor(c,f){this.position=c,this.orientation=f}get position(){return this._position}set position(c){if(c){const f=c instanceof a.a5?c:new a.a5(c[0],c[1],c[2]);this._renderWorldCopies&&(f.x=a.bA(f.x,0,1)),this._position=f}else this._position=null}lookAtPoint(c,f){if(this.orientation=null,!this.position)return;const w=this.position,I=this._elevation?this._elevation.getAtPointOrZero(a.a5.fromLngLat(c)):0,L=a.a5.fromLngLat(c,I),D=[L.x-w.x,L.y-w.y,L.z-w.z];f||(f=[0,0,1]),f[2]=Math.abs(f[2]),this.orientation=ly(D,f)}setPitchBearing(c,f){this.orientation=H0(a.bB(c),a.bB(-f))}}class Td{constructor(c,f){this._transform=a.a6.mat4.identity([]),this.orientation=f,this.position=c}get mercatorPosition(){const c=this.position;return new a.a5(c[0],c[1],c[2])}get position(){const c=a.bC(this._transform,3);return[c[0],c[1],c[2]]}set position(c){var f;c&&a.bE(this._transform,3,[(f=c)[0],f[1],f[2],1])}get orientation(){return this._orientation}set orientation(c){this._orientation=c||a.a6.quat.identity([]),c&&sy(this._transform,this._orientation)}getPitchBearing(){const c=this.forward(),f=this.right();return{bearing:Math.atan2(-f[1],f[0]),pitch:Math.atan2(Math.sqrt(c[0]*c[0]+c[1]*c[1]),-c[2])}}setPitchBearing(c,f){this._orientation=H0(c,f),sy(this._transform,this._orientation)}forward(){const c=a.bC(this._transform,2);return[-c[0],-c[1],-c[2]]}up(){const c=a.bC(this._transform,1);return[-c[0],-c[1],-c[2]]}right(){const c=a.bC(this._transform,0);return[c[0],c[1],c[2]]}getCameraToWorld(c,f){const w=new Float64Array(16);return a.a6.mat4.invert(w,this.getWorldToCamera(c,f)),w}getCameraToWorldMercator(){return this._transform}getWorldToCameraPosition(c,f,w){const I=this.position;a.a6.vec3.scale(I,I,-c);const L=new Float64Array(16);return a.a6.mat4.fromScaling(L,[w,w,w]),a.a6.mat4.translate(L,L,I),L[10]*=f,L}getWorldToCamera(c,f){const w=new Float64Array(16),I=new Float64Array(4),L=this.position;return a.a6.quat.conjugate(I,this._orientation),a.a6.vec3.scale(L,L,-c),a.a6.mat4.fromQuat(w,I),a.a6.mat4.translate(w,w,L),w[1]*=-1,w[5]*=-1,w[9]*=-1,w[13]*=-1,w[8]*=f,w[9]*=f,w[10]*=f,w[11]*=f,w}getCameraToClipPerspective(c,f,w,I){const L=new Float64Array(16);return a.a6.mat4.perspective(L,c,f,w,I),L}getCameraToClipOrthographic(c,f,w,I,L,D){const j=new Float64Array(16);return a.a6.mat4.ortho(j,c,f,w,I,L,D),j}getDistanceToElevation(c,f=!1){const w=c===0?0:a.bD(c,f?a.aM(this.position[1]):this.position[1]),I=this.forward();return(w-this.position[2])/I[2]}clone(){return new Td([...this.position],[...this.orientation])}}const To={BaseColor:5,MetallicRoughness:6,Normal:7,Occlusion:8,Emission:9,LUT:10,ShadowMap0:11};class U0{constructor(c=0,f=0,w=0,I=0){if(isNaN(c)||c<0||isNaN(f)||f<0||isNaN(w)||w<0||isNaN(I)||I<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=c,this.bottom=f,this.left=w,this.right=I}interpolate(c,f,w){return f.top!=null&&c.top!=null&&(this.top=a.aa(c.top,f.top,w)),f.bottom!=null&&c.bottom!=null&&(this.bottom=a.aa(c.bottom,f.bottom,w)),f.left!=null&&c.left!=null&&(this.left=a.aa(c.left,f.left,w)),f.right!=null&&c.right!=null&&(this.right=a.aa(c.right,f.right,w)),this}getCenter(c,f){const w=a.ap((this.left+c-this.right)/2,0,c),I=a.ap((this.top+f-this.bottom)/2,0,f);return new a.P(w,I)}equals(c){return this.top===c.top&&this.bottom===c.bottom&&this.left===c.left&&this.right===c.right}clone(){return new U0(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}const Bh=(x,c,f)=>(1-f)*x+f*c,Fh=x=>x*x*x*x*x;class j0{constructor(c,f,w,I,L,D,j){this.tileSize=512,this._renderWorldCopies=L===void 0||L,this._minZoom=c||0,this._maxZoom=f||22,this._minPitch=w??0,this._maxPitch=I??60,this.setProjection(D),this.setMaxBounds(j),this.width=0,this.height=0,this._center=new a.bK(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new U0,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._expandedProjMatrixCache={},this._distanceTileDataCache={},this._camera=new Td,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._tileCoverLift=0,this.freezeTileCoverage=!1,this._horizonShift=.1,this._orthographicProjectionAtLowPitch=!1}clone(){const c=new j0(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return c._elevation=this._elevation,c._centerAltitude=this._centerAltitude,c._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,c.tileSize=this.tileSize,c.mercatorFromTransition=this.mercatorFromTransition,c.width=this.width,c.height=this.height,c.cameraElevationReference=this.cameraElevationReference,c._center=this._center,c._setZoom(this.zoom),c._seaLevelZoom=this._seaLevelZoom,c.angle=this.angle,c._fov=this._fov,c._pitch=this._pitch,c._nearZ=this._nearZ,c._farZ=this._farZ,c._averageElevation=this._averageElevation,c._orthographicProjectionAtLowPitch=this._orthographicProjectionAtLowPitch,c._unmodified=this._unmodified,c._edgeInsets=this._edgeInsets.clone(),c._camera=this._camera.clone(),c._calcMatrices(),c.freezeTileCoverage=this.freezeTileCoverage,c.frustumCorners=this.frustumCorners,c}get isOrthographic(){return this.projection.name!=="globe"&&this._orthographicProjectionAtLowPitch&&this.pitch<15}get elevation(){return this._elevation}set elevation(c){this._elevation!==c&&(this._elevation=c,this._updateCameraOnTerrain(),this._calcMatrices())}get depthOcclusionForSymbolsAndCircles(){return this.projection.name!=="globe"&&!this.isOrthographic}updateElevation(c,f=!1){const w=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||w)&&this._updateCameraOnTerrain(),(c||w)&&this._constrainCamera(f),this._calcMatrices()}getProjection(){return a.ar(this.projection,["name","center","parallels"])}setProjection(c){this.projectionOptions=c||{name:"mercator"};const f=this.projection?this.getProjection():void 0;this.projection=a.bL(this.projectionOptions);const w=this.getProjection(),I=!a.bh(f,w);return I&&this._calcMatrices(),this.mercatorFromTransition=!1,I}setOrthographicProjectionAtLowPitch(c){return this._orthographicProjectionAtLowPitch!==c&&(this._orthographicProjectionAtLowPitch=c,this._calcMatrices(),!0)}setMercatorFromTransition(){const c=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=a.bL({name:"mercator"});const f=c!==this.projection.name;return f&&this._calcMatrices(),f}get minZoom(){return this._minZoom}set minZoom(c){this._minZoom!==c&&(this._minZoom=c,this.zoom=Math.max(this.zoom,c))}get maxZoom(){return this._maxZoom}set maxZoom(c){this._maxZoom!==c&&(this._maxZoom=c,this.zoom=Math.min(this.zoom,c))}get minPitch(){return this._minPitch}set minPitch(c){this._minPitch!==c&&(this._minPitch=c,this.pitch=Math.max(this.pitch,c))}get maxPitch(){return this._maxPitch}set maxPitch(c){this._maxPitch!==c&&(this._maxPitch=c,this.pitch=Math.min(this.pitch,c))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(c){c===void 0?c=!0:c===null&&(c=!1),this._renderWorldCopies=c}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const c=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(c))}get cameraWorldSize(){const c=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(c))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return a.bD(1,this.center.lat)*this.cameraWorldSizeForFog}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.P(this.width,this.height)}get bearing(){return a.bA(this.rotation,-180,180)}set bearing(c){this.rotation=c}get rotation(){return-this.angle/Math.PI*180}set rotation(c){const f=-c*Math.PI/180;this.angle!==f&&(this._unmodified=!1,this.angle=f,this._calcMatrices(),this.rotationMatrix=a.a6.mat2.create(),a.a6.mat2.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(c){const f=a.ap(c,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==f&&(this._unmodified=!1,this._pitch=f,this._calcMatrices())}get aspect(){return this.width/this.height}get fov(){return this._fov/Math.PI*180}get fovX(){return this._fov}get fovY(){const c=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/c)}set fov(c){c=Math.max(.01,Math.min(60,c)),this._fov!==c&&(this._unmodified=!1,this._fov=a.bB(c),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(c){this._averageElevation=c,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(c){const f=Math.min(Math.max(c,this.minZoom),this.maxZoom);this._zoom!==f&&(this._unmodified=!1,this._setZoom(f),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(c){this._zoom=c,this.scale=this.zoomScale(c),this.tileZoom=Math.floor(c),this.zoomFraction=c-this.tileZoom}get tileCoverLift(){return this._tileCoverLift}set tileCoverLift(c){this._tileCoverLift!==c&&(this._tileCoverLift=c)}_updateCameraOnTerrain(){const c=this.elevation?this.elevation.getAtPoint(this.locationCoordinate(this.center),Number.NEGATIVE_INFINITY):Number.NEGATIVE_INFINITY,f=this.elevation&&c===Number.NEGATIVE_INFINITY&&this.elevation.visibleDemTiles.length>0&&this.elevation.exaggeration()>0&&this._centerAltitudeValidForExaggeration;if(!this._elevation||c===Number.NEGATIVE_INFINITY&&(!f||!this._centerAltitude))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const w=this._elevation;f||this._centerAltitude&&this._centerAltitudeValidForExaggeration&&w.exaggeration()&&this._centerAltitudeValidForExaggeration!==w.exaggeration()?(this._centerAltitude=this._centerAltitude/this._centerAltitudeValidForExaggeration*w.exaggeration(),this._centerAltitudeValidForExaggeration=w.exaggeration()):(this._centerAltitude=c||0,this._centerAltitudeValidForExaggeration=w.exaggeration()),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const c=this._elevation,f=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],w=this.horizonLineFromTop();let I=0,L=0;for(let D=0;D<f.length;D++){const j=new a.P(f[D][0]*this.width,w+f[D][1]*(this.height-w)),K=c.pointCoordinate(j);if(!K)continue;const Z=1/Math.hypot(K[0]-this._camera.position[0],K[1]-this._camera.position[1]);I+=K[3]*Z,L+=Z}return L===0?NaN:I/L}get center(){return this._center}set center(c){c.lat===this._center.lat&&c.lng===this._center.lng||(this._unmodified=!1,this._center=c,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const c=this._seaLevelZoom,f=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),w=this.pixelsPerMeter/this.worldSize*f,I=this._mercatorZfromZoom(c),L=this._mercatorZfromZoom(this._maxZoom),D=Math.max(I-w,L);this._setZoom(this._zoomFromMercatorZ(D))}get padding(){return this._edgeInsets.toJSON()}set padding(c){this._edgeInsets.equals(c)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,c,1),this._calcMatrices())}computeZoomRelativeTo(c){const f=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,c.toAltitude()));let w;w=c.z<this._camera.position[2]?[f.x,f.y,f.z]:[c.x,c.y,c.z];const I=a.a6.vec3.length(a.a6.vec3.sub([],this._camera.position,w));return a.ap(this._zoomFromMercatorZ(I),this._minZoom,this._maxZoom)}setFreeCameraOptions(c){if(!this.height||!c.position&&!c.orientation)return;this._updateCameraState();let f=!1;if(c.orientation&&!a.a6.quat.exactEquals(c.orientation,this._camera.orientation)&&(f=this._setCameraOrientation(c.orientation)),c.position){const w=[c.position.x,c.position.y,c.position.z];a.a6.vec3.exactEquals(w,this._camera.position)||(this._setCameraPosition(w),f=!0)}f&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const c=this._camera.position,f=new Mc;return f.position=new a.a5(c[0],c[1],c[2]),f.orientation=this._camera.orientation,f._elevation=this.elevation,f._renderWorldCopies=this.renderWorldCopies,f}_setCameraOrientation(c){if(!a.a6.quat.length(c))return!1;a.a6.quat.normalize(c,c);const f=a.a6.vec3.transformQuat([],[0,0,-1],c),w=a.a6.vec3.transformQuat([],[0,-1,0],c);if(w[2]<0)return!1;const I=ly(f,w);return!!I&&(this._camera.orientation=I,!0)}_setCameraPosition(c){const f=this.zoomScale(this.minZoom)*this.tileSize,w=this.zoomScale(this.maxZoom)*this.tileSize,I=this.cameraToCenterDistance;c[2]=a.ap(c[2],I/w,I/f),this._camera.position=c}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(c){return this._edgeInsets.equals(c)}interpolatePadding(c,f,w){this._unmodified=!1,this._edgeInsets.interpolate(c,f,w),this._constrain(),this._calcMatrices()}coveringZoomLevel(c){const f=(c.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/c.tileSize));return Math.max(0,f)}getVisibleUnwrappedCoordinates(c){const f=[new a.bM(0,c)];if(this.renderWorldCopies){const w=this.pointCoordinate(new a.P(0,0)),I=this.pointCoordinate(new a.P(this.width,0)),L=this.pointCoordinate(new a.P(this.width,this.height)),D=this.pointCoordinate(new a.P(0,this.height)),j=Math.floor(Math.min(w.x,I.x,L.x,D.x)),K=Math.floor(Math.max(w.x,I.x,L.x,D.x)),Z=1;for(let J=j-Z;J<=K+Z;J++)J!==0&&f.push(new a.bM(J,c))}return f}isLODDisabled(c){return(!c||this.pitch<=60)&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace}extendTileCover(c,f,w){let I=[];const L=w!==void 0,D=!L;if(D&&this.zoom<f||L&&w[0]===0&&w[1]===0)return I;const j=new Set,K=(J,oe,ce,he,Ce)=>{const Me=a.c1(oe,J,ce,he,Ce);j.has(Me)||(I.push(new a.aA(J,oe,ce,he,Ce)),j.add(Me))};for(let J=0;J<c.length;J++){const oe=c[J];if(D&&oe.canonical.z!==f)continue;const ce=oe.canonical,he=oe.overscaledZ,Ce=oe.wrap,Me=1<<ce.z,Ae=ce.x+1<Me,ke=ce.x>0,He=ce.y+1<Me,Ge=ce.y>0,$e=oe.wrap-(ke?0:1),Ke=oe.wrap+(Ae?0:1),qe=ke?ce.x-1:Me-1,at=Ae?ce.x+1:0;if(L)w[0]<0?(K(he,Ke,ce.z,at,ce.y),w[1]<0&&He&&(K(he,Ce,ce.z,ce.x,ce.y+1),K(he,Ke,ce.z,at,ce.y+1)),w[1]>0&&Ge&&(K(he,Ce,ce.z,ce.x,ce.y-1),K(he,Ke,ce.z,at,ce.y-1))):w[0]>0?(K(he,$e,ce.z,qe,ce.y),w[1]<0&&He&&(K(he,Ce,ce.z,ce.x,ce.y+1),K(he,$e,ce.z,qe,ce.y+1)),w[1]>0&&Ge&&(K(he,Ce,ce.z,ce.x,ce.y-1),K(he,$e,ce.z,qe,ce.y-1))):w[1]<0&&He?K(he,Ce,ce.z,ce.x,ce.y+1):Ge&&K(he,Ce,ce.z,ce.x,ce.y-1);else{const nt=oe.visibleQuadrants;1&nt&&(K(he,$e,ce.z,qe,ce.y),Ge&&(K(he,Ce,ce.z,ce.x,ce.y-1),K(he,$e,ce.z,qe,ce.y-1))),2&nt&&(K(he,Ke,ce.z,at,ce.y),Ge&&(K(he,Ce,ce.z,ce.x,ce.y-1),K(he,Ke,ce.z,at,ce.y-1))),4&nt&&(K(he,$e,ce.z,qe,ce.y),He&&(K(he,Ce,ce.z,ce.x,ce.y+1),K(he,$e,ce.z,qe,ce.y+1))),8&nt&&(K(he,Ke,ce.z,at,ce.y),He&&(K(he,Ce,ce.z,ce.x,ce.y+1),K(he,Ke,ce.z,at,ce.y+1)))}}const Z=[];for(const J of I)I.some(oe=>J.isChildOf(oe))||Z.push(J);if(I=Z.filter(J=>!c.some(oe=>!!(J.overscaledZ<f&&oe.isChildOf(J))||J.equals(oe)||J.isChildOf(oe))),D){const J=1<<f,oe=this.projection.name==="globe"?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),ce=[J*oe.x,J*oe.y],he=4,Ce=he*he;I=I.filter(Me=>{const Ae=Me.canonical.x+.5-ce[0],ke=Me.canonical.y+.5-ce[1];return Ae*Ae+ke*ke<Ce})}return I}coveringTiles(c){let f=this.coveringZoomLevel(c);const w=f,I=this.elevation&&this.elevation.exaggeration(),L=I&&!c.isTerrainDEM,D=this.projection.name==="mercator";if(c.minzoom!==void 0&&f<c.minzoom)return[];c.maxzoom!==void 0&&f>c.maxzoom&&(f=c.maxzoom);const j=this.locationCoordinate(this.center),K=this.center.lat,Z=1<<f,J=[Z*j.x,Z*j.y,0],oe=this.projection.name==="globe",ce=!oe,he=a.bN.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,f,ce),Ce=oe?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),Me=Z*a.bD(1,this.center.lat),Ae=this._camera.position[2]/a.bD(1,this.center.lat),ke=[Z*Ce.x,Z*Ce.y,Ae*(ce?1:Me)],He=oe||I,Ge=this.cameraToCenterDistance/c.tileSize*(c.roundZoom?1:.502),$e=this.isLODDisabled(!0)?f:0;let Ke;if(this._elevation&&c.isTerrainDEM)Ke=1e4*this._elevation.exaggeration();else if(this._elevation){const Lt=this._elevation.getMinMaxForVisibleTiles();Ke=Lt?Lt.max:this._centerAltitude}else Ke=this._centerAltitude;const qe=c.isTerrainDEM?-Ke:this._elevation?this._elevation.getMinElevationBelowMSL():0,at=this.projection.isReprojectedInTileSpace?a.bO(this):1,nt=Lt=>{const Qt=new a.a5(Lt.x+25e-6,Lt.y,Lt.z),xn=new a.a5(Lt.x,Lt.y+25e-6,Lt.z),Sn=Lt.toLngLat(),sn=Qt.toLngLat(),vn=xn.toLngLat(),ar=this.locationCoordinate(Sn),In=this.locationCoordinate(sn),$n=this.locationCoordinate(vn),wr=Math.hypot(In.x-ar.x,In.y-ar.y),Xn=Math.hypot($n.x-ar.x,$n.y-ar.y);return Math.sqrt(wr*Xn)*at/25e-6},st=Lt=>{const on=Ke,Qt=qe;return{aabb:a.bR(this,Z,0,0,0,Lt,Qt,on,this.projection),zoom:0,x:0,y:0,minZ:Qt,maxZ:on,wrap:Lt,fullyVisible:!1}},gt=[];let ft=[];const ct=f,Pt=c.reparseOverscaled?w:f,Yt=(Ae-this._centerAltitude)*Me,cn=Lt=>{if(!this._elevation||!Lt.tileID||!D)return;const on=this._elevation.getMinMaxForTile(Lt.tileID),Qt=Lt.aabb;on?(Qt.min[2]=on.min,Qt.max[2]=on.max,Qt.center[2]=(Qt.min[2]+Qt.max[2])/2):(Lt.shouldSplit=_n(Lt),Lt.shouldSplit||(Qt.min[2]=Qt.max[2]=Qt.center[2]=this._centerAltitude))},Kt=(Lt,on)=>{if(.707*on<Lt)return 1;const Qt=on/Lt;return Qt/(1.4144271570014144+(Math.pow(1.1,Qt-1.4144271570014144+1)-1)/(1.1-1)-1)},_n=Lt=>{if(Lt.zoom<$e)return!0;if(Lt.zoom===ct)return!1;if(Lt.shouldSplit!=null)return Lt.shouldSplit;const on=Lt.aabb.distanceX(ke),Qt=Lt.aabb.distanceY(ke);let xn=Yt,Sn=1;if(oe){xn=Lt.aabb.distanceZ(ke);const Xn=Math.pow(2,Lt.zoom),fr=a.aM((Lt.y+1)/Xn),jr=a.aM(Lt.y/Xn),Fr=Math.min(Math.max(K,fr),jr),Ri=a.c5(Fr)/a.c5(K);if(Sn=Fr===K?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,Ri/this._mercatorScaleRatio),this.zoom<=a.c2&&Lt.zoom===ct-1&&Ri>=.9)return!0}else if(L&&(xn=Lt.aabb.distanceZ(ke)*Me),this.projection.isReprojectedInTileSpace&&w<=5){const Xn=Math.pow(2,Lt.zoom),fr=nt(new a.a5((Lt.x+.5)/Xn,(Lt.y+.5)/Xn));Sn=fr>.85?1:fr}if(!D){const Xn=Math.sqrt(on*on+Qt*Qt+xn*xn);let fr=(1<<ct-Lt.zoom)*Ge*Sn;return fr*=Kt(Math.max(xn,Yt),Xn),Xn<fr}let sn=Number.MAX_VALUE,vn=0;const ar=Lt.aabb.getCorners(),In=[];for(const Xn of ar){a.a6.vec3.sub(In,Xn,ke),oe||(L?In[2]*=Me:In[2]=Yt);const fr=a.a6.vec3.dot(In,this._camera.forward());fr<sn&&(sn=fr,vn=Math.abs(In[2]))}let $n=(1<<ct-Lt.zoom)*Ge*Sn;if($n*=Kt(Math.max(vn,Yt),sn),sn<$n)return!0;const wr=Lt.aabb.closestPoint(J);return wr[0]===J[0]&&wr[1]===J[1]};if(this.renderWorldCopies)for(let Lt=1;Lt<=3;Lt++)gt.push(st(-Lt)),gt.push(st(Lt));for(gt.push(st(0));gt.length>0;){const Lt=gt.pop(),on=Lt.x,Qt=Lt.y;let xn=Lt.fullyVisible;const Sn=()=>this.projection.name==="globe"&&(Lt.y===0||Lt.y===(1<<Lt.zoom)-1);if(!xn){let sn=He?Lt.aabb.intersects(he):Lt.aabb.intersectsFlat(he);if(sn===0&&Sn()){const vn=new a.bP(Lt.zoom,on,Qt);sn=a.bQ(this,Z,vn,!0).intersects(he)}if(sn===0)continue;xn=sn===2}if(Lt.zoom!==ct&&_n(Lt))for(let sn=0;sn<4;sn++){const vn=(on<<1)+sn%2,ar=(Qt<<1)+(sn>>1),In={aabb:D?Lt.aabb.quadrant(sn):a.bR(this,Z,Lt.zoom+1,vn,ar,Lt.wrap,Lt.minZ,Lt.maxZ,this.projection),zoom:Lt.zoom+1,x:vn,y:ar,wrap:Lt.wrap,fullyVisible:xn,tileID:void 0,shouldSplit:void 0,minZ:Lt.minZ,maxZ:Lt.maxZ};L&&!oe&&(In.tileID=new a.aA(Lt.zoom+1===ct?Pt:Lt.zoom+1,Lt.wrap,Lt.zoom+1,vn,ar),cn(In)),gt.push(In)}else{const sn=Lt.zoom===ct?Pt:Lt.zoom;if(c.minzoom&&c.minzoom>sn)continue;let vn=0;if(!xn){let wr=He?Lt.aabb.intersectsPrecise(he):Lt.aabb.intersectsPreciseFlat(he);if(wr===0&&Sn()){const Xn=new a.bP(Lt.zoom,on,Qt);wr=a.bQ(this,Z,Xn,!0).intersectsPrecise(he)}if(wr===0)continue;if(c.calculateQuadrantVisibility)if(he.containsPoint(Lt.aabb.center))vn=15;else for(let Xn=0;Xn<4;Xn++)Lt.aabb.quadrant(Xn).intersects(he)!==0&&(vn|=1<<Xn)}const ar=J[0]-(.5+on+(Lt.wrap<<Lt.zoom))*(1<<f-Lt.zoom),In=J[1]-.5-Qt,$n=Lt.tileID?Lt.tileID:new a.aA(sn,Lt.wrap,Lt.zoom,on,Qt);c.calculateQuadrantVisibility&&($n.visibleQuadrants=vn),ft.push({tileID:$n,distanceSq:ar*ar+In*In})}}if(this.fogCullDistSq){const Lt=this.fogCullDistSq,on=this.horizonLineFromTop();ft=ft.filter(Qt=>{const xn=[0,0,0,1],Sn=[a.ab,a.ab,0,1],sn=this.calculateFogTileMatrix(Qt.tileID.toUnwrapped());a.a6.vec4.transformMat4(xn,xn,sn),a.a6.vec4.transformMat4(Sn,Sn,sn);const vn=a.a6.vec4.min([],xn,Sn),ar=a.a6.vec4.max([],xn,Sn),In=a.bS(vn,ar);if(In===0)return!0;let $n=!1;const wr=this._elevation;if(wr&&In>Lt&&on!==0){const Xn=this.calculateProjMatrix(Qt.tileID.toUnwrapped());let fr;c.isTerrainDEM||(fr=wr.getMinMaxForTile(Qt.tileID)),fr||(fr={min:qe,max:Ke});const jr=a.c3(this.rotation),Fr=[jr[0]*a.ab,jr[1]*a.ab,fr.max];a.a6.vec3.transformMat4(Fr,Fr,Xn),$n=(1-Fr[1])*this.height*.5<on}return In<Lt||$n})}return ft.sort((Lt,on)=>Lt.distanceSq-on.distanceSq).map(Lt=>Lt.tileID)}resize(c,f){this.width=c,this.height=f,this.pixelsToGLUnits=[2/c,-2/f],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(c){return Math.pow(2,c)}scaleZoom(c){return Math.log(c)/Math.LN2}project(c){const f=a.ap(c.lat,-a.bT,a.bT),w=this.projection.project(c.lng,f);return new a.P(w.x*this.worldSize,w.y*this.worldSize)}unproject(c){return this.projection.unproject(c.x/this.worldSize,c.y/this.worldSize)}get point(){return this.project(this.center)}get pointMerc(){return this.point._div(this.worldSize)}get pixelsPerMeterRatio(){return this.pixelsPerMeter/a.bD(1,this.center.lat)/this.worldSize}setLocationAtPoint(c,f){let w,I;const L=this.centerPoint;if(this.projection.name==="globe"){const j=this.worldSize;w=(f.x-L.x)/j,I=(f.y-L.y)/j}else{const j=this.pointCoordinate(f),K=this.pointCoordinate(L);w=j.x-K.x,I=j.y-K.y}const D=this.locationCoordinate(c);this.setLocation(new a.a5(D.x-w,D.y-I))}setLocation(c){this.center=this.coordinateLocation(c),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(c){return this.projection.locationPoint(this,c)}locationPoint3D(c){return this.projection.locationPoint(this,c,!0)}pointLocation(c){return this.coordinateLocation(this.pointCoordinate(c))}pointLocation3D(c){return this.coordinateLocation(this.pointCoordinate3D(c))}locationCoordinate(c,f){const w=f?a.bD(f,c.lat):void 0,I=this.projection.project(c.lng,c.lat);return new a.a5(I.x,I.y,w)}coordinateLocation(c){return this.projection.unproject(c.x,c.y)}pointRayIntersection(c,f){const w=f??this._centerAltitude,I=[c.x,c.y,0,1],L=[c.x,c.y,1,1];a.a6.vec4.transformMat4(I,I,this.pixelMatrixInverse),a.a6.vec4.transformMat4(L,L,this.pixelMatrixInverse);const D=L[3];a.a6.vec4.scale(I,I,1/I[3]),a.a6.vec4.scale(L,L,1/D);const j=I[2],K=L[2];return{p0:I,p1:L,t:j===K?0:(w-j)/(K-j)}}screenPointToMercatorRay(c){const f=[c.x,c.y,0,1],w=[c.x,c.y,1,1];return a.a6.vec4.transformMat4(f,f,this.pixelMatrixInverse),a.a6.vec4.transformMat4(w,w,this.pixelMatrixInverse),a.a6.vec4.scale(f,f,1/f[3]),a.a6.vec4.scale(w,w,1/w[3]),f[2]=a.bD(f[2],this._center.lat)*this.worldSize,w[2]=a.bD(w[2],this._center.lat)*this.worldSize,a.a6.vec4.scale(f,f,1/this.worldSize),a.a6.vec4.scale(w,w,1/this.worldSize),new a.aj([f[0],f[1],f[2]],a.a6.vec3.normalize([],a.a6.vec3.sub([],w,f)))}rayIntersectionCoordinate(c){const{p0:f,p1:w,t:I}=c,L=a.bD(f[2],this._center.lat),D=a.bD(w[2],this._center.lat);return new a.a5(a.aa(f[0],w[0],I)/this.worldSize,a.aa(f[1],w[1],I)/this.worldSize,a.aa(L,D,I))}pointCoordinate(c,f=this._centerAltitude){return this.projection.pointCoordinate(this,c.x,c.y,f)}pointCoordinate3D(c){if(!this.elevation)return this.pointCoordinate(c);let f=this.projection.pointCoordinate3D(this,c.x,c.y);if(f)return new a.a5(f[0],f[1],f[2]);let w=0,I=this.horizonLineFromTop();if(c.y>I)return this.pointCoordinate(c);const L=.02*I,D=c.clone();for(let j=0;j<10&&I-w>L;j++){D.y=a.aa(w,I,.66);const K=this.projection.pointCoordinate3D(this,D.x,D.y);K?(I=D.y,f=K):w=D.y}return f?new a.a5(f[0],f[1],f[2]):this.pointCoordinate(c)}isPointAboveHorizon(c){return this.projection.isPointAboveHorizon(this,c)}isPointOnSurface(c){if(c.y<0||c.y>this.height||c.x<0||c.x>this.width)return!1;if(this.elevation||this.zoom>=a.bU)return!this.isPointAboveHorizon(c);const f=this.pointCoordinate(c);return f.y>=0&&f.y<=1}_coordinatePoint(c,f){const w=f&&this.elevation?this.elevation.getAtPointOrZero(c,this._centerAltitude):this._centerAltitude,I=[c.x*this.worldSize,c.y*this.worldSize,w+c.toAltitude(),1];return a.a6.vec4.transformMat4(I,I,this.pixelMatrix),I[3]>0?new a.P(I[0]/I[3],I[1]/I[3]):new a.P(Number.MAX_VALUE,Number.MAX_VALUE)}_getBoundsNonRectangular(){const{top:c,left:f}=this._edgeInsets,w=this.height-this._edgeInsets.bottom,I=this.width-this._edgeInsets.right,L=this.pointLocation3D(new a.P(f,c)),D=this.pointLocation3D(new a.P(I,c)),j=this.pointLocation3D(new a.P(I,w)),K=this.pointLocation3D(new a.P(f,w));let Z=Math.min(L.lng,D.lng,j.lng,K.lng),J=Math.max(L.lng,D.lng,j.lng,K.lng),oe=Math.min(L.lat,D.lat,j.lat,K.lat),ce=Math.max(L.lat,D.lat,j.lat,K.lat);const he=Math.pow(2,-this.zoom)/16*270,Ce=this.projection.name==="globe"?1:4,Me=(Ae,ke,He,Ge,$e)=>{const Ke=(Ae+He)/2,qe=(ke+Ge)/2,at=new a.P(Ke,qe),{lng:nt,lat:st}=this.pointLocation3D(at),gt=Math.max(0,Z-nt,oe-st,nt-J,st-ce);Z=Math.min(Z,nt),J=Math.max(J,nt),oe=Math.min(oe,st),ce=Math.max(ce,st),($e<Ce||gt>he)&&(Me(Ae,ke,Ke,qe,$e+1),Me(Ke,qe,He,Ge,$e+1))};if(Me(f,c,I,c,1),Me(I,c,I,w,1),Me(I,w,f,w,1),Me(f,w,f,c,1),this.projection.name==="globe"){const[Ae,ke]=a.bV(this);Ae?(ce=90,J=180,Z=-180):ke&&(oe=-90,J=180,Z=-180)}return new a.as(new a.bK(Z,oe),new a.bK(J,ce))}_getBoundsRectangular(c,f){const{top:w,left:I}=this._edgeInsets,L=this.height-this._edgeInsets.bottom,D=this.width-this._edgeInsets.right,j=new a.P(I,w),K=new a.P(D,w),Z=new a.P(D,L),J=new a.P(I,L);let oe=this.pointCoordinate(j,c),ce=this.pointCoordinate(K,c);const he=this.pointCoordinate(Z,f),Ce=this.pointCoordinate(J,f),Me=(Ae,ke)=>(ke.y-Ae.y)/(ke.x-Ae.x);return oe.y>1&&ce.y>=0?oe=new a.a5((1-Ce.y)/Me(Ce,oe)+Ce.x,1):oe.y<0&&ce.y<=1&&(oe=new a.a5(-Ce.y/Me(Ce,oe)+Ce.x,0)),ce.y>1&&oe.y>=0?ce=new a.a5((1-he.y)/Me(he,ce)+he.x,1):ce.y<0&&oe.y<=1&&(ce=new a.a5(-he.y/Me(he,ce)+he.x,0)),new a.as().extend(this.coordinateLocation(oe)).extend(this.coordinateLocation(ce)).extend(this.coordinateLocation(Ce)).extend(this.coordinateLocation(he))}_getBoundsRectangularTerrain(){const c=this.elevation;if(!c.visibleDemTiles.length||c.isUsingMockSource())return this._getBoundsRectangular(0,0);const f=c.visibleDemTiles.reduce((w,I)=>{if(I.dem){const L=I.dem.tree;w.min=Math.min(w.min,L.minimums[0]),w.max=Math.max(w.max,L.maximums[0])}return w},{min:Number.MAX_VALUE,max:0});return this._getBoundsRectangular(f.min*c.exaggeration(),f.max*c.exaggeration())}getBounds(){return this.projection.name==="mercator"||this.projection.name==="equirectangular"?this._terrainEnabled()?this._getBoundsRectangularTerrain():this._getBoundsRectangular(0,0):this._getBoundsNonRectangular()}horizonLineFromTop(c=!0){const f=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))-this.centerOffset.y,w=this.height/2-f*(1-this._horizonShift);return c?Math.max(0,w):w}getMaxBounds(){return this.maxBounds}setMaxBounds(c){this.maxBounds=c,this.minLat=-a.bT,this.maxLat=a.bT,this.minLng=-180,this.maxLng=180,c&&(this.minLat=c.getSouth(),this.maxLat=c.getNorth(),this.minLng=c.getWest(),this.maxLng=c.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=a.am(this.minLng)*this.tileSize,this.worldMaxX=a.am(this.maxLng)*this.tileSize,this.worldMinY=a.at(this.maxLat)*this.tileSize,this.worldMaxY=a.at(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(c,f){return this.projection.createTileMatrix(this,f,c)}calculateDistanceTileData(c){const f=c.key,w=this._distanceTileDataCache;if(w[f])return w[f];const I=c.canonical,L=1/this.height,D=this.cameraWorldSize,j=D/this.zoomScale(I.z),K=(I.x+Math.pow(2,I.z)*c.wrap)*j,Z=I.y*j,J=this.point;J.x*=D/this.worldSize,J.y*=D/this.worldSize;const oe=this.angle,ce=Math.sin(-oe),he=-Math.cos(-oe);return w[f]={bearing:[ce,he],center:[(J.x-K)*L,(J.y-Z)*L],scale:j/a.ab*L},w[f]}calculateFogTileMatrix(c){const f=c.key,w=this._fogTileMatrixCache;if(w[f])return w[f];const I=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,c);return a.a6.mat4.multiply(I,this.worldToFogMatrix,I),w[f]=new Float32Array(I),w[f]}calculateProjMatrix(c,f=!1,w=!1){const I=c.key;let L;if(L=w?this._expandedProjMatrixCache:f?this._alignedProjMatrixCache:this._projMatrixCache,L[I])return L[I];const D=this.calculatePosMatrix(c,this.worldSize);let j;return j=this.projection.isReprojectedInTileSpace?this.mercatorMatrix:w?this.expandedFarZProjMatrix:f?this.alignedProjMatrix:this.projMatrix,a.a6.mat4.multiply(D,j,D),L[I]=new Float32Array(D),L[I]}calculatePixelsToTileUnitsMatrix(c){const f=c.tileID.key,w=this._pixelsToTileUnitsCache;if(w[f])return w[f];const I=a.bW(c,this);return w[f]=I,w[f]}customLayerMatrix(){return this.mercatorMatrix.slice()}globeToMercatorMatrix(){if(this.projection.name==="globe"){const c=1/this.worldSize,f=a.a6.mat4.fromScaling([],[c,c,c]);return a.a6.mat4.multiply(f,f,this.globeMatrix),f}}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const c=this._elevation;this._updateCameraState();const f=a.bD(1,this._center.lat)*this.worldSize,w=this._computeCameraPosition(f),I=this._camera.forward(),L=a.bD(1,this._center.lat);w[2]/=L,I[2]/=L,a.a6.vec3.normalize(I,I);const D=c.raycast(w,I,c.exaggeration());if(D){const j=a.a6.vec3.scaleAndAdd([],w,I,D),K=new a.a5(j[0],j[1],a.bD(j[2],a.aM(j[1]))),Z=(K.z+a.a6.vec3.length([K.x-w[0],K.y-w[1],K.z-w[2]*L]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(Z),this._centerAltitude=K.toAltitude(),this._center=this.coordinateLocation(K),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(c=!1){if(!this._elevation)return;const f=this._elevation,w=a.bD(1,this._center.lat)*this.worldSize,I=this._computeCameraPosition(w),L=f.getAtPointOrZero(new a.a5(...I)),D=this.pixelsPerMeter/this.worldSize*L,j=this._minimumHeightOverTerrain(),K=I[2]-D;if(K<=j)if(K<0||c){const Z=this.locationCoordinate(this._center,this._centerAltitude),J=[I[0],I[1],Z.z-I[2]],oe=a.a6.vec3.length(J);J[2]-=(j-K)/this._pixelsPerMercatorPixel;const ce=a.a6.vec3.length(J);if(ce===0)return;a.a6.vec3.scale(J,J,oe/ce*this._pixelsPerMercatorPixel),this._camera.position=[I[0],I[1],Z.z*this._pixelsPerMercatorPixel-J[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const c=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||c){const ce=this.center;return ce.lat=a.ap(ce.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!c)&&(ce.lng=a.ap(ce.lng,this.minLng,this.maxLng)),this.center=ce,void(this._constraining=!1)}const f=this._unmodified,{x:w,y:I}=this.point;let L=0,D=w,j=I;const K=this.width/2,Z=this.height/2,J=this.worldMinY*this.scale,oe=this.worldMaxY*this.scale;if(I-Z<J&&(j=J+Z),I+Z>oe&&(j=oe-Z),oe-J<this.height&&(L=Math.max(L,this.height/(oe-J)),j=(oe+J)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const ce=this.worldMinX*this.scale,he=this.worldMaxX*this.scale,Ce=this.worldSize/2-(ce+he)/2;D=(w+Ce+this.worldSize)%this.worldSize-Ce,D-K<ce&&(D=ce+K),D+K>he&&(D=he-K),he-ce<this.width&&(L=Math.max(L,this.width/(he-ce)),D=(he+ce)/2)}D===w&&j===I||(this.center=this.unproject(new a.P(D,j))),L&&(this.zoom+=this.scaleZoom(L)),this._constrainCamera(),this._unmodified=f,this._constraining=!1}_minZoomForBounds(){let c=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(c=Math.max(c,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),c}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const c=this.centerOffset,f=this.projection.name==="globe",w=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=a.bD(1,this.center.lat)/a.bD(1,a.c4));const I=a.bX(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,I),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const L=this.projection.zAxisUnit==="meters"?w:1,D=this._camera.getWorldToCamera(this.worldSize,L);let j;const K=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);if(K[8]=2*-c.x/this.width,K[9]=2*c.y/this.height,this.isOrthographic){let st=.5*this.height/Math.tan(this._fov/2)*1*Math.tan(.5*this._fov),gt=st*this.aspect,ft=-gt,ct=-st;gt-=c.x,ft-=c.x,st+=c.y,ct+=c.y,j=this._camera.getCameraToClipOrthographic(ft,gt,ct,st,this._nearZ,this._farZ),((Pt,Yt,cn,Kt)=>{for(let _n=0;_n<16;_n++)Pt[_n]=Bh(Yt[_n],cn[_n],Kt)})(j,j,K,Fh(this.pitch>=15?1:this.pitch/15))}else j=K;const Z=a.a6.mat4.mul([],K,D);let J=a.a6.mat4.mul([],j,D);if(this.projection.isReprojectedInTileSpace){const st=this.locationCoordinate(this.center),gt=a.a6.mat4.identity([]);a.a6.mat4.translate(gt,gt,[st.x*this.worldSize,st.y*this.worldSize,0]),a.a6.mat4.multiply(gt,gt,a.bY(this)),a.a6.mat4.translate(gt,gt,[-st.x*this.worldSize,-st.y*this.worldSize,0]),a.a6.mat4.multiply(J,J,gt),a.a6.mat4.multiply(Z,Z,gt),this.inverseAdjustmentMatrix=a.bZ(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];if(this.mercatorMatrix=a.a6.mat4.scale([],J,[this.worldSize,this.worldSize,this.worldSize/L,1]),this.projMatrix=J,this.invProjMatrix=a.a6.mat4.invert(new Float64Array(16),this.projMatrix),f){const st=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,1/0);st[8]=2*-c.x/this.width,st[9]=2*c.y/this.height,this.expandedFarZProjMatrix=a.a6.mat4.mul([],st,D)}else this.expandedFarZProjMatrix=this.projMatrix;const oe=a.a6.mat4.invert([],j);this.frustumCorners=a.b_.fromInvProjectionMatrix(oe,this.horizonLineFromTop(),this.height),this.cameraFrustum=a.bN.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,0,!f);const ce=new Float32Array(16);a.a6.mat4.identity(ce),a.a6.mat4.scale(ce,ce,[1,-1,1]),a.a6.mat4.rotateX(ce,ce,this._pitch),a.a6.mat4.rotateZ(ce,ce,this.angle);const he=a.a6.mat4.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ);this.starsProjMatrix=a.a6.mat4.clone(he);const Ce=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;he[8]=2*-c.x/this.width,he[9]=2*(c.y+Ce)/this.height,this.skyboxMatrix=a.a6.mat4.multiply(ce,he,ce);const Me=this.point,Ae=Me.x,ke=Me.y,He=this.width%2/2,Ge=this.height%2/2,$e=Math.cos(this.angle),Ke=Math.sin(this.angle),qe=Ae-Math.round(Ae)+$e*He+Ke*Ge,at=ke-Math.round(ke)+$e*Ge+Ke*He,nt=new Float64Array(J);if(a.a6.mat4.translate(nt,nt,[qe>.5?qe-1:qe,at>.5?at-1:at,0]),this.alignedProjMatrix=nt,J=a.a6.mat4.create(),a.a6.mat4.scale(J,J,[this.width/2,-this.height/2,1]),a.a6.mat4.translate(J,J,[1,-1,0]),this.labelPlaneMatrix=J,J=a.a6.mat4.create(),a.a6.mat4.scale(J,J,[1,-1,1]),a.a6.mat4.translate(J,J,[-1,-1,0]),a.a6.mat4.scale(J,J,[2/this.width,2/this.height,1]),this.glCoordMatrix=J,this.pixelMatrix=a.a6.mat4.multiply(new Float64Array(16),this.labelPlaneMatrix,Z),this._calcFogMatrices(),this._distanceTileDataCache={},J=a.a6.mat4.invert(new Float64Array(16),this.pixelMatrix),!J)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=J,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=a.b$(this);const st=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=a.a6.vec3.transformMat4(st,st,D),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=J;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={},this._expandedProjMatrixCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const c=this.cameraWorldSizeForFog,f=this.cameraPixelsPerMeter,w=this._camera.position,I=1/this.height/this._pixelsPerMercatorPixel,L=[c,c,f];a.a6.vec3.scale(L,L,I),a.a6.vec3.scale(w,w,-1),a.a6.vec3.multiply(w,w,L);const D=a.a6.mat4.create();a.a6.mat4.translate(D,D,w),a.a6.mat4.scale(D,D,L),this.mercatorFogMatrix=D,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(c,f,I)}_computeCameraPosition(c){const f=(c=c||this.pixelsPerMeter)/this.pixelsPerMeter,w=this._camera.forward(),I=this.point,L=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*f-c/this.worldSize*this._centerAltitude;return[I.x/this.worldSize-w[0]*L,I.y/this.worldSize-w[1]*L,c/this.worldSize*this._centerAltitude-w[2]*L]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(c){const f=this._maxCameraBoundsDistance()*Math.cos(this._pitch),w=this._camera.position[2],I=c[2];let L=1;this.projection.wrap&&(this.center=this.center.wrap()),I>0&&(L=Math.min((f-w)/I,1)),this._camera.position=a.a6.vec3.scaleAndAdd([],this._camera.position,c,L),this._updateStateFromCamera()}_updateStateFromCamera(){const c=this._camera.position,f=this._camera.forward(),{pitch:w,bearing:I}=this._camera.getPitchBearing(),L=a.bD(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,D=this._mercatorZfromZoom(this._maxZoom)*Math.cos(a.bB(this._maxPitch)),j=Math.max((c[2]-L)/Math.cos(w),D),K=this._zoomFromMercatorZ(j);a.a6.vec3.scaleAndAdd(c,c,f,j),this._pitch=a.ap(w,a.bB(this.minPitch),a.bB(this.maxPitch)),this.angle=a.bA(I,-Math.PI,Math.PI),this._setZoom(a.ap(K,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new a.a5(c[0],c[1],c[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(c){return Math.pow(2,c)*this.tileSize}_mercatorZfromZoom(c){return this.cameraToCenterDistance/this._worldSizeFromZoom(c)}_minimumHeightOverTerrain(){const c=Math.min(this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom,this._maxZoom)+4;return this._mercatorZfromZoom(c)}_zoomFromMercatorZ(c){return this.scaleZoom(this.cameraToCenterDistance/(c*this.tileSize))}zoomFromMercatorZAdjusted(c){let f=0,w=a.bU,I=0,L=1/0;for(;w-f>1e-6&&w>f;){const D=f+.5*(w-f),j=this.tileSize*Math.pow(2,D),K=this.getCameraToCenterDistance(this.projection,D,j),Z=this.scaleZoom(K/(c*this.tileSize)),J=Math.abs(D-Z);J<L&&(L=J,I=D),D<Z?f=D:w=D}return I}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(a.w("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(c,f){const w=Math.min(c.x,f.x),I=Math.max(c.x,f.x),L=Math.min(c.y,f.y),D=Math.max(c.y,f.y);if(L<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const j=[new a.P(w,L),new a.P(I,D),new a.P(w,D),new a.P(I,L)],K=this.renderWorldCopies?-3:0,Z=this.renderWorldCopies?4:1;for(const J of j){const oe=this.pointRayIntersection(J);if(oe.t<0)return!0;const ce=this.rayIntersectionCoordinate(oe);if(ce.x<K||ce.y<0||ce.x>Z||ce.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+a.c0(this.fovAboveCenter)>88||this.anyCornerOffEdge(new a.P(0,0),new a.P(this.width,this.height))}zoomDeltaToMovement(c,f){const w=a.a6.vec3.length(a.a6.vec3.sub([],this._camera.position,c)),I=this._zoomFromMercatorZ(w)+f;return w-this._mercatorZfromZoom(I)}getCameraPoint(){if(this.projection.name==="globe"){const c=function([f,w,I],L){const D=[f,w,I,1];a.a6.vec4.transformMat4(D,D,L);const j=D[3]=Math.max(D[3],1e-6);return D[0]/=j,D[1]/=j,D[2]/=j,D}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new a.P(c[0],c[1])}{const c=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.P(0,c))}}getCameraToCenterDistance(c,f=this.zoom,w=this.worldSize){const I=a.bX(c,f,this.width,this.height,1024),L=c.pixelSpaceConversion(this.center.lat,w,I);let D=.5/Math.tan(.5*this._fov)*this.height*L;return this.isOrthographic&&(D=Bh(1,D,Fh(this.pitch>=15?1:this.pitch/15))),D}getWorldToCameraMatrix(){const c=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&a.a6.mat4.multiply(c,c,this.globeMatrix),c}getFrustum(c){return a.bN.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,c,this.projection.zAxisUnit==="meters")}}const Bu=(x,c)=>{if(c>0&&x.terrain&&a.w("Cutoff is currently disabled on terrain"),c<=0||x.terrain)return{shouldRenderCutoff:!1,uniformValues:{u_cutoff_params:[0,0,0,1]}};const f=x.transform,w=Math.max(Math.abs(f._zoom-(x.minCutoffZoom-1)),1),I=f.isLODDisabled(!1)?a.a7(60,45,f.pitch):a.a7(30,15,f.pitch),L=f._farZ-f._nearZ,D=c*f.height,j=((1-(K=I))*f.cameraToCenterDistance+K*(f._farZ+D))*w;var K;return{shouldRenderCutoff:I<1,uniformValues:{u_cutoff_params:[f._nearZ,f._farZ,(j-f._nearZ)/L,(j-D-f._nearZ)/L]}}},pa={cascadeCount:2,normalOffset:3,shadowMapResolution:2048};class uy{constructor(c,f){this.aabb=c,this.lastCascade=f}}class Ln{add(c,f){const w=this.receivers[c.key];w!==void 0?(w.aabb.min[0]=Math.min(w.aabb.min[0],f.min[0]),w.aabb.min[1]=Math.min(w.aabb.min[1],f.min[1]),w.aabb.min[2]=Math.min(w.aabb.min[2],f.min[2]),w.aabb.max[0]=Math.max(w.aabb.max[0],f.max[0]),w.aabb.max[1]=Math.max(w.aabb.max[1],f.max[1]),w.aabb.max[2]=Math.max(w.aabb.max[2],f.max[2])):this.receivers[c.key]=new uy(f,null)}clear(){this.receivers={}}get(c){return this.receivers[c.key]}computeRequiredCascades(c,f,w){const I=a.c9.fromPoints(c.points);let L=0;for(const D in this.receivers){const j=this.receivers[D];if(!j||!I.intersectsAabb(j.aabb))continue;j.aabb.min=I.closestPoint(j.aabb.min),j.aabb.max=I.closestPoint(j.aabb.max);const K=j.aabb.getCorners();for(let Z=0;Z<w.length;Z++){let J=!0;for(const oe of K){const ce=[oe[0]*f,oe[1]*f,oe[2]];if(a.a6.vec3.transformMat4(ce,ce,w[Z].matrix),ce[0]<-1||ce[0]>1||ce[1]<-1||ce[1]>1){J=!1;break}}if(j.lastCascade=Z,L=Math.max(L,Z),J)break}}return L+1}}class Ow{constructor(c){this.painter=c,this._enabled=!1,this._shadowLayerCount=0,this._numCascadesToRender=0,this._cascades=[],this._groundShadowTiles=[],this._receivers=new Ln,this._depthMode=new lr(c.context.gl.LEQUAL,lr.ReadWrite,[0,1]),this._uniformValues={u_light_matrix_0:new Float32Array(16),u_light_matrix_1:new Float32Array(16),u_shadow_intensity:0,u_fade_range:[0,0],u_shadow_normal_offset:[1,1,1],u_shadow_texel_size:1,u_shadow_map_resolution:1,u_shadow_direction:[0,0,1],u_shadow_bias:[36e-5,.0012,.012],u_shadowmap_0:0,u_shadowmap_1:0},this._forceDisable=!1,this.useNormalOffset=!1,c.tp.registerParameter(this,["Shadows"],"_forceDisable",{label:"forceDisable"},()=>{this.painter.style.map.triggerRepaint()}),c.tp.registerParameter(pa,["Shadows"],"cascadeCount",{min:1,max:2,step:1}),c.tp.registerParameter(pa,["Shadows"],"normalOffset",{min:0,max:10,step:.05}),c.tp.registerParameter(pa,["Shadows"],"shadowMapResolution",{min:32,max:2048,step:32}),c.tp.registerBinding(this,["Shadows"],"_numCascadesToRender",{readonly:!0,label:"numCascadesToRender"})}destroy(){for(const c of this._cascades)c.texture.destroy(),c.framebuffer.destroy();this._cascades=[]}updateShadowParameters(c,f){const w=this.painter;if(this._enabled=!1,this._shadowLayerCount=0,this._receivers.clear(),!f||!f.properties)return;const I=f.properties.get("shadow-intensity");if(!f.shadowsEnabled()||I<=0||(this._shadowLayerCount=w.style.order.reduce((Ce,Me)=>{const Ae=w.style._mergedLayers[Me];return Ce+(Ae.hasShadowPass()&&!Ae.isHidden(c.zoom)?1:0)},0),this._enabled=this._shadowLayerCount>0,!this.enabled))return;const L=w.context,D=pa.shadowMapResolution,j=pa.shadowMapResolution;if(this._cascades.length===0||pa.shadowMapResolution!==this._cascades[0].texture.size[0]){this._cascades=[];for(let Ce=0;Ce<pa.cascadeCount;++Ce){const Me=w._shadowMapDebug,Ae=L.gl,ke=L.createFramebuffer(D,j,Me,"texture"),He=new a.T(L,{width:D,height:j,data:null},Ae.DEPTH_COMPONENT16);if(ke.depthAttachment.set(He.texture),Me){const Ge=new a.T(L,{width:D,height:j,data:null},Ae.RGBA8);ke.colorAttachment.set(Ge.texture)}this._cascades.push({framebuffer:ke,texture:He,matrix:[],far:0,boundingSphereRadius:0,frustum:new a.bN,scale:0})}}this.shadowDirection=G0(f);let K=0;if(c.elevation){const Ce=c.elevation,Me=[1e4,-1e4];Ce.visibleDemTiles.filter(Ae=>Ae.dem).forEach(Ae=>{const ke=Ae.dem.tree;Me[0]=Math.min(Me[0],ke.minimums[0]),Me[1]=Math.max(Me[1],ke.maximums[0])}),Me[0]!==1e4&&(K=(Me[1]-Me[0])*Ce.exaggeration())}const Z=1.5*c.cameraToCenterDistance,J=3*Z,oe=new Float64Array(16);for(let Ce=0;Ce<this._cascades.length;++Ce){const Me=this._cascades[Ce];let Ae=c.height/50,ke=1;pa.cascadeCount===1?ke=J:Ce===0?ke=Z:(Ae=Z,ke=J);const[He,Ge]=q0(c,this.shadowDirection,Ae,ke,pa.shadowMapResolution,K);Me.scale=c.scale,Me.matrix=He,Me.boundingSphereRadius=Ge,a.a6.mat4.invert(oe,Me.matrix),Me.frustum=a.bN.fromInvProjectionMatrix(oe,1,0,!0),Me.far=ke}const ce=this._cascades.length-1;this._uniformValues.u_fade_range=[.75*this._cascades[ce].far,this._cascades[ce].far],this._uniformValues.u_shadow_intensity=I,this._uniformValues.u_shadow_direction=[this.shadowDirection[0],this.shadowDirection[1],this.shadowDirection[2]],this._uniformValues.u_shadow_texel_size=1/pa.shadowMapResolution,this._uniformValues.u_shadow_map_resolution=pa.shadowMapResolution,this._uniformValues.u_shadowmap_0=To.ShadowMap0,this._uniformValues.u_shadowmap_1=To.ShadowMap0+1,this._groundShadowTiles=w.transform.coveringTiles({tileSize:512,renderWorldCopies:!0});const he=w.transform.elevation;for(const Ce of this._groundShadowTiles){let Me={min:0,max:0};if(he){const Ae=he.getMinMaxForTile(Ce);Ae&&(Me=Ae)}this.addShadowReceiver(Ce.toUnwrapped(),Me.min,Me.max)}}get enabled(){return this._enabled&&!this._forceDisable}set enabled(c){this._enabled=c}drawShadowPass(c,f){if(!this.enabled)return;const w=this.painter,I=w.context;this._numCascadesToRender=this._receivers.computeRequiredCascades(w.transform.getFrustum(0),w.transform.worldSize,this._cascades),I.viewport.set([0,0,pa.shadowMapResolution,pa.shadowMapResolution]);for(let L=0;L<this._numCascadesToRender;++L){w.currentShadowCascade=L,I.bindFramebuffer.set(this._cascades[L].framebuffer.framebuffer),I.clear({color:a.bz.white,depth:1});for(const D of c.order){const j=c._mergedLayers[D];if(!j.hasShadowPass()||j.isHidden(w.transform.zoom))continue;const K=c.getLayerSourceCache(j),Z=K?f[K.id]:void 0;(j.type==="model"||Z&&Z.length)&&w.renderLayer(w,K,j,Z)}}w.currentShadowCascade=0}drawGroundShadows(){if(!this.enabled)return;const c=this.painter,f=c.style,w=c.context,I=f.directionalLight,L=f.ambientLight;if(!I||!L)return;const D=[],j=Bu(c,c.longestCutoffRange);j.shouldRenderCutoff&&D.push("RENDER_CUTOFF");const K=W0(f,I,L),Z=new lr(w.gl.LEQUAL,lr.ReadOnly,c.depthRangeFor3D);for(const J of this._groundShadowTiles){const oe=J.toUnwrapped(),ce=c.isTileAffectedByFog(J),he=c.getOrCreateProgram("groundShadow",{defines:D,overrideFog:ce});this.setupShadows(oe,he),c.uploadCommonUniforms(w,he,oe,null,j);const Ce={u_matrix:c.transform.calculateProjMatrix(oe),u_ground_shadow_factor:K};he.draw(c,w.gl.TRIANGLES,Z,Ir.disabled,ei.multiply,Sr.disabled,Ce,"ground_shadow",c.tileExtentBuffer,c.quadTriangleIndexBuffer,c.tileExtentSegments,{},c.transform.zoom,null,null)}}getShadowPassColorMode(){return this.painter._shadowMapDebug?ei.unblended:ei.disabled}getShadowPassDepthMode(){return this._depthMode}getShadowCastingLayerCount(){return this._shadowLayerCount}calculateShadowPassMatrixFromTile(c){const f=this.painter.transform,w=f.calculatePosMatrix(c,f.worldSize);return a.a6.mat4.multiply(w,this._cascades[this.painter.currentShadowCascade].matrix,w),Float32Array.from(w)}calculateShadowPassMatrixFromMatrix(c){return a.a6.mat4.multiply(c,this._cascades[this.painter.currentShadowCascade].matrix,c),Float32Array.from(c)}setupShadows(c,f,w,I=0){if(!this.enabled)return;const L=this.painter.transform,D=this.painter.context,j=D.gl,K=this._uniformValues,Z=new Float64Array(16),J=L.calculatePosMatrix(c,L.worldSize);for(let oe=0;oe<this._cascades.length;oe++)a.a6.mat4.multiply(Z,this._cascades[oe].matrix,J),K[oe===0?"u_light_matrix_0":"u_light_matrix_1"]=Float32Array.from(Z),D.activeTexture.set(j.TEXTURE0+To.ShadowMap0+oe),this._cascades[oe].texture.bind(j.NEAREST,j.CLAMP_TO_EDGE);if(this.useNormalOffset=!!w,this.useNormalOffset){const oe=a.c8(c.canonical),ce=2/L.tileSize*a.ab/pa.shadowMapResolution,he=ce*this._cascades[0].boundingSphereRadius,Ce=ce*this._cascades[this._cascades.length-1].boundingSphereRadius,Me=(w==="vector-tile"?1:3)/Math.pow(2,I-c.canonical.z-(1-L.zoom+Math.floor(L.zoom)));K.u_shadow_normal_offset=[oe,he*Me,Ce*Me],K.u_shadow_bias=[6e-5,.0012,.012]}else K.u_shadow_bias=[36e-5,.0012,.012];f.setShadowUniformValues(D,K)}setupShadowsFromMatrix(c,f,w=!1){if(!this.enabled)return;const I=this.painter.context,L=I.gl,D=this._uniformValues,j=new Float64Array(16);for(let K=0;K<pa.cascadeCount;K++)a.a6.mat4.multiply(j,this._cascades[K].matrix,c),D[K===0?"u_light_matrix_0":"u_light_matrix_1"]=Float32Array.from(j),I.activeTexture.set(L.TEXTURE0+To.ShadowMap0+K),this._cascades[K].texture.bind(L.NEAREST,L.CLAMP_TO_EDGE);if(this.useNormalOffset=w,w){const K=pa.normalOffset;D.u_shadow_normal_offset=[1,K,K],D.u_shadow_bias=[6e-5,.0012,.012]}else D.u_shadow_bias=[36e-5,.0012,.012];f.setShadowUniformValues(I,D)}getShadowUniformValues(){return this._uniformValues}getCurrentCascadeFrustum(){return this._cascades[this.painter.currentShadowCascade].frustum}computeSimplifiedTileShadowVolume(c,f,w,I){if(I[2]>=0)return{};const L=function(K,Z,J){const oe=J/(1<<K.canonical.z);return new a.c9([K.canonical.x*oe+K.wrap*J,K.canonical.y*oe+K.wrap*J,0],[(K.canonical.x+1)*oe+K.wrap*J,(K.canonical.y+1)*oe+K.wrap*J,Z])}(c,f,w).getCorners(),D=f/-I[2];I[0]<0?(a.a6.vec3.add(L[0],L[0],[I[0]*D,0,0]),a.a6.vec3.add(L[3],L[3],[I[0]*D,0,0])):I[0]>0&&(a.a6.vec3.add(L[1],L[1],[I[0]*D,0,0]),a.a6.vec3.add(L[2],L[2],[I[0]*D,0,0])),I[1]<0?(a.a6.vec3.add(L[0],L[0],[0,I[1]*D,0]),a.a6.vec3.add(L[1],L[1],[0,I[1]*D,0])):I[1]>0&&(a.a6.vec3.add(L[2],L[2],[0,I[1]*D,0]),a.a6.vec3.add(L[3],L[3],[0,I[1]*D,0]));const j={};return j.vertices=L,j.planes=[Nh(L[1],L[0],L[4]),Nh(L[2],L[1],L[5]),Nh(L[3],L[2],L[6]),Nh(L[0],L[3],L[7])],j}addShadowReceiver(c,f,w){this._receivers.add(c,a.c9.fromTileIdAndHeight(c,f,w))}getMaxCascadeForTile(c){const f=this._receivers.get(c);return f&&f.lastCascade?f.lastCascade:0}}function Nh(x,c,f){const w=a.a6.vec3.sub([],f,c),I=a.a6.vec3.sub([],x,c),L=a.a6.vec3.cross([],w,I),D=a.a6.vec3.length(L);return D===0?[0,0,1,0]:(a.a6.vec3.scale(L,L,1/D),[L[0],L[1],L[2],-a.a6.vec3.dot(L,c)])}function G0(x){const c=x.properties.get("direction"),f=a.c7(c.x,c.y,c.z);f[2]=a.ap(f[2],0,75);const w=a.ca([f[0],f[1],f[2]]);return a.a6.vec3.fromValues(w.x,w.y,w.z)}function W0(x,c,f){const w=c.properties.get("color"),I=c.properties.get("intensity"),L=c.properties.get("direction"),D=[L.x,L.y,L.z],j=f.properties.get("color"),K=f.properties.get("intensity"),Z=Math.max(a.a6.vec3.dot([0,0,1],D),0),J=[0,0,0];a.a6.vec3.scale(J,j.toRenderColor(x.getLut(c.scope)).toArray01Linear().slice(0,3),K);const oe=[0,0,0];return a.a6.vec3.scale(oe,w.toRenderColor(x.getLut(f.scope)).toArray01Linear().slice(0,3),Z*I),a.cb([J[0]>0?J[0]/(J[0]+oe[0]):0,J[1]>0?J[1]/(J[1]+oe[1]):0,J[2]>0?J[2]/(J[2]+oe[2]):0])}function q0(x,c,f,w,I,L){const D=x.zoom,j=x.scale,K=x.worldSize,Z=1/K,J=x.aspect,oe=Math.sqrt(1+J*J)*Math.tan(.5*x.fovX),ce=oe*oe,he=w-f,Ce=w+f;let Me,Ae;ce>he/Ce?(Me=w,Ae=w*oe):(Me=.5*Ce*(1+ce),Ae=.5*Math.sqrt(he*he+2*(w*w+f*f)*ce+Ce*Ce*ce*ce));const ke=x.projection.pixelsPerMeter(x.center.lat,K),He=x._camera.getCameraToWorldMercator(),Ge=[0,0,-Me*Z];a.a6.vec3.transformMat4(Ge,Ge,He);let $e=Ae*Z;const Ke=x._edgeInsets;if(!(Ke.left===0&&Ke.top===0&&Ke.right===0&&Ke.bottom===0||Ke.left===Ke.right&&Ke.top===Ke.bottom)){const xn=x._camera.getWorldToCamera(x.worldSize,x.projection.zAxisUnit==="meters"?ke:1),Sn=x._camera.getCameraToClipPerspective(x._fov,x.width/x.height,f,w);Sn[8]=2*-x.centerOffset.x/x.width,Sn[9]=2*x.centerOffset.y/x.height;const sn=new Float64Array(16);a.a6.mat4.mul(sn,Sn,xn);const vn=new Float64Array(16);a.a6.mat4.invert(vn,sn);const ar=a.bN.fromInvProjectionMatrix(vn,K,D,!0);for(const In of ar.points){const $n=((qe=In)[0]/=j,qe[1]/=j,qe[2]=a.bD(qe[2],x._center.lat),qe);$e=Math.max($e,a.a6.vec3.len(a.a6.vec3.subtract([],Ge,$n)))}}var qe;$e*=I/(I-1);const at=Math.acos(c[2]),nt=Math.atan2(-c[0],-c[1]),st=new Td;st.position=Ge,st.setPitchBearing(at,nt);const gt=st.getWorldToCamera(K,ke),ft=$e*K,ct=Math.min(x._mercatorZfromZoom(17)*K*-2,-2*ft),Pt=st.getCameraToClipOrthographic(-ft,ft,-ft,ft,ct,(ft+L*ke)/c[2]),Yt=new Float64Array(16);a.a6.mat4.multiply(Yt,Pt,gt);const cn=a.a6.vec3.fromValues(Math.floor(1e6*Ge[0])/1e6*K,Math.floor(1e6*Ge[1])/1e6*K,0),Kt=.5*I,_n=[0,0,0];a.a6.vec3.transformMat4(_n,cn,Yt),a.a6.vec3.scale(_n,_n,Kt);const Lt=[Math.floor(_n[0]),Math.floor(_n[1]),Math.floor(_n[2])],on=[0,0,0];a.a6.vec3.sub(on,_n,Lt),a.a6.vec3.scale(on,on,-1/Kt);const Qt=new Float64Array(16);return a.a6.mat4.identity(Qt),a.a6.mat4.translate(Qt,Qt,on),a.a6.mat4.multiply(Yt,Qt,Yt),[Yt,ft]}class Fu extends a.E{constructor(c){super(),this.requestManager=c,this.models={"":{}},this.numModelsLoading={}}loadModel(c,f){return a.aG(this.requestManager.transformRequest(f,a.R.Model).url).then(w=>{if(!w)return;const I=a.aH(w),L=new a.aI(c,void 0,void 0,I);return L.computeBoundsAndApplyParent(),L}).catch(w=>{if(w&&w.status===404)return null;this.fire(new a.t(new Error(`Could not load model ${c} from ${f}: ${w.message}`)))})}load(c,f){this.models[f]||(this.models[f]={});const w=Object.keys(c);this.numModelsLoading[f]=(this.numModelsLoading[f]||0)+w.length;const I=[];for(const L of w)I.push(this.loadModel(L,c[L]));Promise.allSettled(I).then(L=>{for(let D=0;D<L.length;D++){const{status:j,value:K}=L[D];j==="fulfilled"&&K&&(this.models[f][w[D]]={model:K,numReferences:1})}this.numModelsLoading[f]-=w.length,this.fire(new a.x("data",{dataType:"style"}))}).catch(L=>{this.fire(new a.t(new Error(`Could not load models: ${L.message}`)))})}isLoaded(){for(const c in this.numModelsLoading)if(this.numModelsLoading[c]>0)return!1;return!0}hasModel(c,f){return!!this.getModel(c,f)}getModel(c,f){return this.models[f]||(this.models[f]={}),this.models[f][c]?this.models[f][c].model:void 0}addModel(c,f,w){this.models[w]||(this.models[w]={}),this.hasModel(c,w)&&this.models[w][c].numReferences++,this.load({[c]:this.requestManager.normalizeModelURL(f)},w)}addModels(c,f){this.models[f]||(this.models[f]={});const w={};for(const I in c)this.models[f][I]={},w[I]=this.requestManager.normalizeModelURL(c[I]);this.load(w,f)}addModelsFromBucket(c,f){this.models[f]||(this.models[f]={});const w={};for(const I of c)this.hasModel(I,f)?this.models[f][I].numReferences++:w[I]=this.requestManager.normalizeModelURL(I);this.load(w,f)}removeModel(c,f){if(this.models[f]&&this.models[f][c]&&(this.models[f][c].numReferences--,this.models[f][c].numReferences===0)){const w=this.models[f][c].model;delete this.models[f][c],w.destroy()}}listModels(c){return this.models[c]||(this.models[c]={}),Object.keys(this.models[c])}upload(c,f){this.models[f]||(this.models[f]={});for(const w in this.models[f])this.models[f][w].model&&this.models[f][w].model.upload(c.context)}}const cy=new a.a0({data:new a.a1(a._.colorTheme.data)}),Es=(x,c)=>Tt(x,c&&c.filter(f=>f.identifier!=="source.canvas")),K0=a.ar(_i,["addLayer","removeLayer","setLights","setPaintProperty","setLayoutProperty","setSlot","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection","setCamera","addImport","removeImport","updateImport"]),$h=a.ar(_i,["setCenter","setZoom","setBearing","setPitch"]),zw={version:8,layers:[],sources:{}},Bw={duration:300,delay:0};class As extends a.E{constructor(c,f={}){super(),this.map=c,this.scope=f.scope||"",this.globalId=null,this.fragments=[],this.importDepth=f.importDepth||0,this.importsCache=f.importsCache||new Map,this.resolvedImports=f.resolvedImports||new Set,this.transition=a.l({},Bw),this._buildingIndex=new ty(this),this.crossTileSymbolIndex=new V0,this._mergedOrder=[],this._drapedFirstOrder=[],this._mergedLayers={},this._mergedSourceCaches={},this._mergedOtherSourceCaches={},this._mergedSymbolSourceCaches={},this._clipLayerPresent=!1,this._has3DLayers=!1,this._hasCircleLayers=!1,this._hasSymbolLayers=!1,this._changes=f.styleChanges||new et,this.dispatcher=f.dispatcher?f.dispatcher:new a.cd(a.ce(),this),f.imageManager?this.imageManager=f.imageManager:(this.imageManager=new nn,this.imageManager.setEventedParent(this)),this.imageManager.createScope(this.scope),this.glyphManager=f.glyphManager?f.glyphManager:new a.cf(c._requestManager,f.localFontFamily?a.cg.all:f.localIdeographFontFamily?a.cg.ideographs:a.cg.none,f.localFontFamily||f.localIdeographFontFamily),f.modelManager?this.modelManager=f.modelManager:(this.modelManager=new Fu(c._requestManager),this.modelManager.setEventedParent(this)),this._layers={},this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._precompileDone=!1,this._shouldPrecompile=!1,this._availableImages=[],this._order=[],this._markersNeedUpdate=!1,this._styleColorTheme={lut:null,lutLoading:!1,lutLoadingCorrelationID:0,colorTheme:null},this._styleColorThemeForScope={},this.options=f.configOptions?f.configOptions:new Map,this._configDependentLayers=f.configDependentLayers?f.configDependentLayers:new Set,this._config=f.config,this._initialConfig=f.initialConfig,this.dispatcher.broadcast("setReferrer",a.ch());const w=this;this._rtlTextPluginCallback=As.registerForPluginStateChange(I=>{w.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:I.pluginStatus,pluginURL:I.pluginURL},(L,D)=>{if(a.ci(L),D&&D.every(j=>j))for(const j in w._sourceCaches){const K=w._sourceCaches[j],Z=K.getSource().type;Z!=="vector"&&Z!=="geojson"||K.reload()}})}),this.on("data",I=>{if(I.dataType!=="source"||I.sourceDataType!=="metadata")return;const L=this.getOwnSource(I.sourceId);if(L&&L.vectorLayerIds)for(const D in this._layers){const j=this._layers[D];j.source===L.id&&this._validateLayer(j)}})}load(c){return c?(typeof c=="string"?this.loadURL(c):this.loadJSON(c),this):this}_getGlobalId(c){if(!c)return null;if(typeof c=="string"){if(a.f(c))return c;const f=a.cj(c);if(!f.startsWith("http"))try{return new URL(f,location.href).toString()}catch{return f}return f}return`json://${a.ck(JSON.stringify(c))}`}_diffStyle(c,f,w){this.globalId=this._getGlobalId(c);const I=(L,D)=>{try{D(null,this.setState(L,w))}catch(j){D(j,!1)}};if(typeof c=="string"){const L=this.map._requestManager.normalizeStyleURL(c),D=this.map._requestManager.transformRequest(L,a.R.Style);a.n(D,(j,K)=>{j?this.fire(new a.t(j)):K&&I(K,f)})}else typeof c=="object"&&I(c,f)}loadURL(c,f={}){this.fire(new a.x("dataloading",{dataType:"style"}));const w=typeof f.validate=="boolean"?f.validate:!a.f(c);this.globalId=this._getGlobalId(c),c=this.map._requestManager.normalizeStyleURL(c,f.accessToken),this.resolvedImports.add(c);const I=this.importsCache.get(c);if(I)return this._load(I,w);const L=this.map._requestManager.transformRequest(c,a.R.Style);this._request=a.n(L,(D,j)=>{if(this._request=null,D)this.fire(new a.t(D));else if(j)return this.importsCache.set(c,j),this._load(j,w)})}loadJSON(c,f={}){this.fire(new a.x("dataloading",{dataType:"style"})),this.globalId=this._getGlobalId(c),this._request=a.q.frame(()=>{this._request=null,this._load(c,f.validate!==!1)})}loadEmpty(){this.fire(new a.x("dataloading",{dataType:"style"})),this._load(zw,!1)}_loadImports(c,f,w){if(this.importDepth>=4)return a.w("Style doesn't support nesting deeper than 5"),Promise.resolve();const I=[];for(const L of c){const D=this._createFragmentStyle(L),j=new Promise(J=>{D.once("style.import.load",J),D.once("error",J)}).then(()=>this.mergeAll());if(I.push(j),this.resolvedImports.has(L.url)){D.loadEmpty();continue}const K=L.data||this.importsCache.get(L.url);K?(D.loadJSON(K,{validate:f}),this._isInternalStyle(K)&&(D.globalId=null)):L.url?D.loadURL(L.url,{validate:f}):D.loadEmpty();const Z={style:D,id:L.id,config:L.config};if(w){const J=this.fragments.findIndex(({id:oe})=>oe===w);this.fragments=this.fragments.slice(0,J).concat(Z).concat(this.fragments.slice(J))}else this.fragments.push(Z)}return Promise.allSettled(I)}getImportGlobalIds(c=this,f=new Set){for(const w of c.fragments)w.style.globalId&&f.add(w.style.globalId),this.getImportGlobalIds(w.style,f);return[...f.values()]}_createFragmentStyle(c){const f=this.scope?a.av(c.id,this.scope):c.id;let w;const I=this._initialConfig&&this._initialConfig[f];(c.config||I)&&(w=a.l({},c.config,I));const L=new As(this.map,{scope:f,styleChanges:this._changes,importDepth:this.importDepth+1,importsCache:this.importsCache,resolvedImports:new Set(this.resolvedImports),dispatcher:this.dispatcher,imageManager:this.imageManager,glyphManager:this.glyphManager,modelManager:this.modelManager,config:w,configOptions:this.options,configDependentLayers:this._configDependentLayers});return L.setEventedParent(this.map,{style:L}),L}_reloadImports(){this.mergeAll(),this._updateMapProjection(),this.updateConfigDependencies(),this.map._triggerCameraUpdate(this.camera),this.dispatcher.broadcast("setLayers",{layers:this._serializeLayers(this._order),scope:this.scope,options:this.options}),this._shouldPrecompile=this.map._precompilePrograms&&this.isRootStyle()}_isInternalStyle(c){return this.isRootStyle()&&(c.fragment||!!c.schema&&c.fragment!==!1)}_load(c,f){const w=c.schema;if(this._isInternalStyle(c)){const D=a.l({},zw,{imports:[{id:"basemap",data:c,url:""}]});return void this._load(D,f)}if(this.updateConfig(this._config,w),f&&Es(this,Nr(c)))return;this._loaded=!0,this.stylesheet=a.cl(c);const I=()=>{for(const Z in c.sources)this.addSource(Z,c.sources[Z],{validate:!1,isInitialLoad:!0});c.sprite?this._loadSprite(c.sprite):(this.imageManager.setLoaded(!0,this.scope),this.dispatcher.broadcast("spriteLoaded",{scope:this.scope,isLoaded:!0})),this.glyphManager.setURL(c.glyphs,this.scope);const D=ny(this.stylesheet.layers);if(this._order=D.map(Z=>Z.id),this.stylesheet.light&&a.w("The `light` root property is deprecated, prefer using `lights` with `flat` light type instead."),this.stylesheet.lights)if(this.stylesheet.lights.length===1&&this.stylesheet.lights[0].type==="flat"){const Z=this.stylesheet.lights[0];this.light=new kt(Z.properties,Z.id)}else this.setLights(this.stylesheet.lights);this.light||(this.light=new kt(this.stylesheet.light)),this._layers={},this._serializedLayers={};for(const Z of D){const J=a.cq(Z,this.scope,this._styleColorTheme.lut,this.options);J.configDependencies.size!==0&&this._configDependentLayers.add(J.fqid),J.setEventedParent(this,{layer:{id:J.id}}),this._layers[J.id]=J,this._serializedLayers[J.id]=J.serialize();const oe=this.getOwnLayerSourceCache(J),ce=!!this.directionalLight&&this.directionalLight.shadowsEnabled();oe&&J.canCastShadows()&&ce&&(oe.castsShadows=!0)}this.stylesheet.models&&this.modelManager.addModels(this.stylesheet.models,this.scope);const j=this.stylesheet.terrain;j&&(this.checkCanvasFingerprintNoise(),this.disableElevatedTerrain||this.terrainSetForDrapingOnly()||this._createTerrain(j,1)),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this.stylesheet.transition&&this.setTransition(this.stylesheet.transition),this.fire(new a.x("data",{dataType:"style"}));const K=this.isRootStyle();c.imports?this._loadImports(c.imports,f).then(()=>{this._reloadImports(),this.fire(new a.x(K?"style.load":"style.import.load"))}):(this._reloadImports(),this.fire(new a.x(K?"style.load":"style.import.load")))},L=this.stylesheet["color-theme"];if(this._styleColorTheme.colorTheme=L,L){const D=this._evaluateColorThemeData(L);this._loadColorTheme(D).then(()=>{I()}).catch(j=>{a.w(`Couldn't load color theme from the stylesheet: ${j}`),I()})}else this._styleColorTheme.lut=null,I()}isRootStyle(){return this.importDepth===0}mergeAll(){let c,f,w,I,L,D,j,K;const Z={};this.terrain&&this.terrain.scope!==this.scope&&delete this.terrain,this.forEachFragmentStyle(J=>{if(J.stylesheet){if(J.light!=null&&(c=J.light),J.stylesheet.lights)for(const oe of J.stylesheet.lights)oe.type==="ambient"&&J.ambientLight!=null&&(f=J.ambientLight),oe.type==="directional"&&J.directionalLight!=null&&(w=J.directionalLight);I=this._prioritizeTerrain(I,J.terrain,J.stylesheet.terrain),J.stylesheet.fog&&J.fog!=null&&(L=J.fog),J.stylesheet.camera!=null&&(K=J.stylesheet.camera),J.stylesheet.projection!=null&&(D=J.stylesheet.projection),J.stylesheet.transition!=null&&(j=J.stylesheet.transition),Z[J.scope]=J._styleColorTheme}}),this.light=c,this.ambientLight=f,this.directionalLight=w,this.fog=L,this._styleColorThemeForScope=Z,I===null?delete this.terrain:this.terrain=I,this.camera=K||{"camera-projection":"perspective"},this.projection=D||{name:"mercator"},this.transition=a.l({},Bw,j),this.mergeSources(),this.mergeLayers()}forEachFragmentStyle(c){const f=w=>{for(const I of w.fragments)f(I.style);c(w)};f(this)}_prioritizeTerrain(c,f,w){const I=c&&c.drapeRenderMode===0;return w===null?f&&f.drapeRenderMode===0?f:I?c:null:f!=null&&(!c||I||f&&f.drapeRenderMode===1)?f:c}mergeTerrain(){let c;this.terrain&&this.terrain.scope!==this.scope&&delete this.terrain,this.forEachFragmentStyle(f=>{c=this._prioritizeTerrain(c,f.terrain,f.stylesheet.terrain)}),c===null?delete this.terrain:this.terrain=c}mergeProjection(){let c;this.forEachFragmentStyle(f=>{f.stylesheet.projection!=null&&(c=f.stylesheet.projection)}),this.projection=c||{name:"mercator"}}mergeSources(){const c={},f={},w={};this.forEachFragmentStyle(I=>{for(const L in I._sourceCaches){const D=a.av(L,I.scope);c[D]=I._sourceCaches[L]}for(const L in I._otherSourceCaches){const D=a.av(L,I.scope);f[D]=I._otherSourceCaches[L]}for(const L in I._symbolSourceCaches){const D=a.av(L,I.scope);w[D]=I._symbolSourceCaches[L]}}),this._mergedSourceCaches=c,this._mergedOtherSourceCaches=f,this._mergedSymbolSourceCaches=w}mergeLayers(){const c={},f=[],w={};this._mergedSlots=[],this._has3DLayers=!1,this._hasCircleLayers=!1,this._hasSymbolLayers=!1,this.forEachFragmentStyle(L=>{for(const D of L._order){const j=L._layers[D];if(j.type==="slot"){const K=a.cm(D);if(c[K])continue;c[K]=[]}j.slot&&c[j.slot]?c[j.slot].push(j):f.push(j)}}),this._mergedOrder=[];const I=(L=[])=>{for(const D of L)if(D.type==="slot"){const j=a.cm(D.id);c[j]&&I(c[j]),this._mergedSlots.push(j)}else{const j=a.av(D.id,D.scope);this._mergedOrder.push(j),w[j]=D,D.is3D()&&(this._has3DLayers=!0),D.type==="circle"&&(this._hasCircleLayers=!0),D.type==="symbol"&&(this._hasSymbolLayers=!0),D.type==="clip"&&(this._clipLayerPresent=!0)}};I(f),this._mergedOrder.sort((L,D)=>{const j=w[L],K=w[D];return j.hasInitialOcclusionOpacityProperties?K.is3D()?1:0:j.is3D()&&K.hasInitialOcclusionOpacityProperties?-1:0}),this._mergedLayers=w,this.updateDrapeFirstLayers(),this._buildingIndex.processLayersChanged()}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}getCamera(){return this.stylesheet.camera}setCamera(c){return this.stylesheet.camera=a.l({},this.stylesheet.camera,c),this.camera=this.stylesheet.camera,this}_evaluateColorThemeData(c){return c.data?function(f,w,I){const L=a.l({},w);for(const j of Object.keys(a._.colorTheme))L[j]===void 0&&(L[j]=a._.colorTheme[j].default);const D=new a.$(cy,f,new Map(I));return D.setTransitionOrValue(L,I),D.untransitioned().possiblyEvaluate(new a.a3(0))}(this.scope,c,this.options).get("data"):null}_loadColorTheme(c){this._styleColorTheme.lutLoading=!0,this._styleColorTheme.lutLoadingCorrelationID+=1;const f=this._styleColorTheme.lutLoadingCorrelationID;return new Promise((w,I)=>{const L="data:image/png;base64,";if(!c||c.length===0)return this._styleColorTheme.lut=null,this._styleColorTheme.lutLoading=!1,void w();let D=c;D.startsWith(L)||(D=L+D);const j="mapbox-reserved-lut",K=new Image;K.src=D,K.onerror=()=>{this._styleColorTheme.lutLoading=!1,I(new Error("Failed to load image data"))},K.onload=()=>{if(this._styleColorTheme.lutLoadingCorrelationID!==f)return void w();this._styleColorTheme.lutLoading=!1;const{width:Z,height:J,data:oe}=a.q.getImageData(K);if(J>32)return void I(new Error("The height of the image must be less than or equal to 32 pixels."));if(Z!==J*J)return void I(new Error("The width of the image must be equal to the height squared."));this.getImage(j)&&this.removeImage(j),this.addImage(j,{data:new a.r({width:Z,height:J},oe),pixelRatio:1,sdf:!1,version:0});const ce=this.imageManager.getImage(j,this.scope);ce?(this._styleColorTheme.lut={image:ce.data,data:c},w()):I(new Error("Missing LUT image."))}})}getLut(c){const f=this._styleColorThemeForScope[c];return f?f.lut:null}setProjection(c){c?this.stylesheet.projection=c:delete this.stylesheet.projection,this.mergeProjection(),this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?(this.getTerrain()||this.stylesheet.terrain)&&!this.disableElevatedTerrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null,0))}_updateMapProjection(){this.isRootStyle()&&(this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.projection))}_loadSprite(c){this._spriteRequest=function(f,w,I){let L,D,j;const K=a.q.devicePixelRatio>1?"@2x":"";let Z=a.n(w.transformRequest(w.normalizeSpriteURL(f,K,".json"),a.R.SpriteJSON),(ce,he)=>{Z=null,j||(j=ce,L=he,oe())}),J=a.o(w.transformRequest(w.normalizeSpriteURL(f,K,".png"),a.R.SpriteImage),(ce,he)=>{J=null,j||(j=ce,D=he,oe())});function oe(){if(j)I(j);else if(L&&D){const ce=a.q.getImageData(D),he={};for(const Ce in L){const{width:Me,height:Ae,x:ke,y:He,sdf:Ge,pixelRatio:$e,stretchX:Ke,stretchY:qe,content:at}=L[Ce],nt=new a.r({width:Me,height:Ae});a.r.copy(ce,nt,{x:ke,y:He},{x:0,y:0},{width:Me,height:Ae},null),he[Ce]={data:nt,pixelRatio:$e,sdf:Ge,stretchX:Ke,stretchY:qe,content:at}}I(null,he)}}return{cancel(){Z&&(Z.cancel(),Z=null),J&&(J.cancel(),J=null)}}}(c,this.map._requestManager,(f,w)=>{if(this._spriteRequest=null,f)this.fire(new a.t(f));else if(w)for(const I in w)this.imageManager.addImage(I,this.scope,w[I]);this.imageManager.setLoaded(!0,this.scope),this._availableImages=this.imageManager.listImages(this.scope),this.dispatcher.broadcast("setImages",{scope:this.scope,images:this._availableImages}),this.dispatcher.broadcast("spriteLoaded",{scope:this.scope,isLoaded:!0}),this.fire(new a.x("data",{dataType:"style"}))})}_validateLayer(c){const f=this.getOwnSource(c.source);if(!f)return;const w=c.sourceLayer;w&&(f.type==="geojson"||f.vectorLayerIds&&f.vectorLayerIds.indexOf(w)===-1)&&this.fire(new a.t(new Error(`Source layer "${w}" does not exist on source "${f.id}" as specified by style layer "${c.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._changes.getUpdatedSourceCaches()).length)return!1;for(const c in this._sourceCaches)if(!this._sourceCaches[c].loaded())return!1;if(!this.imageManager.isLoaded()||!this.modelManager.isLoaded()||this._styleColorTheme.lutLoading)return!1;for(const{style:c}of this.fragments)if(!c.loaded())return!1;return!0}_serializeImports(){if(this.stylesheet.imports)return this.stylesheet.imports.map((c,f)=>{const w=this.fragments[f];return w&&w.style&&(c.data=w.style.serialize()),c})}_serializeSources(){const c={};for(const f in this._sourceCaches){const w=this._sourceCaches[f].getSource();c[w.id]||(c[w.id]=w.serialize())}return c}_serializeLayers(c){const f=[];for(const w of c){const I=this._layers[w];I&&I.type!=="custom"&&f.push(I.serialize())}return f}hasLightTransitions(){return!(!this.light||!this.light.hasTransition())||!(!this.ambientLight||!this.ambientLight.hasTransition())||!(!this.directionalLight||!this.directionalLight.hasTransition())}hasFogTransition(){return!!this.fog&&this.fog.hasTransition()}hasTransitions(){if(this.hasLightTransitions()||this.hasFogTransition())return!0;for(const c in this._sourceCaches)if(this._sourceCaches[c].hasTransition())return!0;for(const c in this._layers)if(this._layers[c].hasTransition())return!0;return!1}get order(){return this.terrain?this._drapedFirstOrder:this._mergedOrder}isLayerDraped(c){return!!this.terrain&&c.isDraped(this.getLayerSourceCache(c))}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}_checkLayer(c){const f=this.getOwnLayer(c);if(f)return f;this.fire(new a.t(new Error(`The layer '${c}' does not exist in the map's style.`)))}_checkSource(c){const f=this.getOwnSource(c);if(f)return f;this.fire(new a.t(new Error(`The source '${c}' does not exist in the map's style.`)))}precompilePrograms(c,f){const w=this.map.painter;if(w)for(let I=c.minzoom||0;I<(c.maxzoom||25.5);I++){const L=c.getProgramIds();if(L)for(const D of L){const j=c.getDefaultProgramParams(D,f.zoom,this._styleColorTheme.lut);j&&(w.style=this,this.fog&&(w._fogVisible=!0,j.overrideFog=!0,w.getOrCreateProgram(D,j)),w._fogVisible=!1,j.overrideFog=!1,w.getOrCreateProgram(D,j),(this.stylesheet.terrain||this.stylesheet.projection&&this.stylesheet.projection.name==="globe")&&(j.overrideRtt=!0,w.getOrCreateProgram(D,j)))}}}update(c){if(!this._loaded)return;this.ambientLight&&this.ambientLight.recalculate(c),this.directionalLight&&this.directionalLight.recalculate(c);const f=this.calculateLightsBrightness();c.brightness=f||0,f!==this._brightness&&(this._brightness=f,this.dispatcher.broadcast("setBrightness",f));const w=this._changes.isDirty();let I=!1;if(this._changes.isDirty()){const D=this._changes.getLayerUpdatesByScope();for(const j in D){const{updatedIds:K,removedIds:Z}=D[j];(K||Z)&&(this._updateWorkerLayers(j,K,Z),I=!0)}this.updateSourceCaches(),this._updateTilesForChangedImages(),this.updateLayers(c),this.light&&this.light.updateTransitions(c),this.ambientLight&&this.ambientLight.updateTransitions(c),this.directionalLight&&this.directionalLight.updateTransitions(c),this.fog&&this.fog.updateTransitions(c),this._changes.reset()}const L={};for(const D in this._mergedSourceCaches){const j=this._mergedSourceCaches[D];L[D]=j.used,j.used=!1,j.tileCoverLift=0}for(const D of this._mergedOrder){const j=this._mergedLayers[D];if(j.recalculate(c,this._availableImages),!j.isHidden(c.zoom)){const K=this.getLayerSourceCache(j);K&&(K.used=!0,K.tileCoverLift=Math.max(K.tileCoverLift,j.tileCoverLift()))}!this._precompileDone&&this._shouldPrecompile&&("requestIdleCallback"in window?requestIdleCallback(()=>{this.precompilePrograms(j,c)}):this.precompilePrograms(j,c))}this._shouldPrecompile&&(this._precompileDone=!0),this.terrain&&I&&this.mergeLayers();for(const D in L){const j=this._mergedSourceCaches[D];L[D]!==j.used&&j.getSource().fire(new a.x("data",{sourceDataType:"visibility",dataType:"source",sourceId:j.getSource().id}))}this.light&&this.light.recalculate(c),this.terrain&&this.terrain.recalculate(c),this.fog&&this.fog.recalculate(c),this.z=c.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),w&&this.fire(new a.x("data",{dataType:"style"}))}_updateTilesForChangedImages(){const c=this._changes.getUpdatedImages();if(c.length){for(const f in this._sourceCaches)this._sourceCaches[f].reloadTilesForDependencies(["icons","patterns"],c);this._changes.resetUpdatedImages()}}_updateWorkerLayers(c,f,w){const I=this.getFragmentStyle(c);I&&this.dispatcher.broadcast("updateLayers",{layers:f?I._serializeLayers(f):[],scope:c,removedIds:w||[],options:I.options})}setState(c,f){if(this._checkLoaded(),Es(this,Nr(c)))return!1;(c=a.cl(c)).layers=ny(c.layers);const w=function(D,j){if(!D)return[{command:_i.setStyle,args:[j]}];let K=[];try{if(!a.bh(D.version,j.version))return[{command:_i.setStyle,args:[j]}];if(a.bh(D.center,j.center)||K.push({command:_i.setCenter,args:[j.center]}),a.bh(D.zoom,j.zoom)||K.push({command:_i.setZoom,args:[j.zoom]}),a.bh(D.bearing,j.bearing)||K.push({command:_i.setBearing,args:[j.bearing]}),a.bh(D.pitch,j.pitch)||K.push({command:_i.setPitch,args:[j.pitch]}),a.bh(D.sprite,j.sprite)||K.push({command:_i.setSprite,args:[j.sprite]}),a.bh(D.glyphs,j.glyphs)||K.push({command:_i.setGlyphs,args:[j.glyphs]}),a.bh(D.imports,j.imports)||function(he=[],Ce=[],Me){Ce=Ce||[];const Ae=(he=he||[]).map(xd),ke=Ce.map(xd),He=he.reduce(Ah,{}),Ge=Ce.reduce(Ah,{}),$e=Ae.slice();let Ke,qe,at,nt;for(Ke=0,qe=0;Ke<Ae.length;Ke++)at=Ae[Ke],Ge.hasOwnProperty(at)?qe++:(Me.push({command:_i.removeImport,args:[at]}),$e.splice($e.indexOf(at,qe),1));for(Ke=0,qe=0;Ke<ke.length;Ke++)at=ke[ke.length-1-Ke],$e[$e.length-1-Ke]!==at&&(He.hasOwnProperty(at)?(Me.push({command:_i.removeImport,args:[at]}),$e.splice($e.lastIndexOf(at,$e.length-qe),1)):qe++,nt=$e[$e.length-Ke],Me.push({command:_i.addImport,args:[Ge[at],nt]}),$e.splice($e.length-Ke,0,at));for(const st of Ce){const gt=He[st.id];gt&&!a.bh(gt,st)&&Me.push({command:_i.updateImport,args:[st.id,st]})}}(D.imports,j.imports,K),a.bh(D.transition,j.transition)||K.push({command:_i.setTransition,args:[j.transition]}),a.bh(D.light,j.light)||K.push({command:_i.setLight,args:[j.light]}),a.bh(D.fog,j.fog)||K.push({command:_i.setFog,args:[j.fog]}),a.bh(D.projection,j.projection)||K.push({command:_i.setProjection,args:[j.projection]}),a.bh(D.lights,j.lights)||K.push({command:_i.setLights,args:[j.lights]}),a.bh(D.camera,j.camera)||K.push({command:_i.setCamera,args:[j.camera]}),!a.bh(D["color-theme"],j["color-theme"]))return[{command:_i.setStyle,args:[j]}];const Z={},J=[];(function(he,Ce,Me,Ae){let ke;for(ke in Ce=Ce||{},he=he||{})he.hasOwnProperty(ke)&&(Ce.hasOwnProperty(ke)||Ii(ke,Me,Ae));for(ke in Ce){if(!Ce.hasOwnProperty(ke))continue;const He=Ce[ke];he.hasOwnProperty(ke)?a.bh(he[ke],He)||(he[ke].type==="geojson"&&He.type==="geojson"&&_r(he,Ce,ke)?Me.push({command:_i.setGeoJSONSourceData,args:[ke,He.data]}):mT(ke,Ce,Me,Ae)):ry(ke,Ce,Me)}})(D.sources,j.sources,J,Z);const oe=[];D.layers&&D.layers.forEach(he=>{he.source&&Z[he.source]?K.push({command:_i.removeLayer,args:[he.id]}):oe.push(he)});let ce=D.terrain;ce&&Z[ce.source]&&(K.push({command:_i.setTerrain,args:[void 0]}),ce=void 0),K=K.concat(J),a.bh(ce,j.terrain)||K.push({command:_i.setTerrain,args:[j.terrain]}),function(he,Ce,Me){Ce=Ce||[];const Ae=(he=he||[]).map(xd),ke=Ce.map(xd),He=he.reduce(Ah,{}),Ge=Ce.reduce(Ah,{}),$e=Ae.slice(),Ke=Object.create(null);let qe,at,nt,st,gt,ft,ct;for(qe=0,at=0;qe<Ae.length;qe++)nt=Ae[qe],Ge.hasOwnProperty(nt)?at++:(Me.push({command:_i.removeLayer,args:[nt]}),$e.splice($e.indexOf(nt,at),1));for(qe=0,at=0;qe<ke.length;qe++)nt=ke[ke.length-1-qe],$e[$e.length-1-qe]!==nt&&(He.hasOwnProperty(nt)?(Me.push({command:_i.removeLayer,args:[nt]}),$e.splice($e.lastIndexOf(nt,$e.length-at),1)):at++,ft=$e[$e.length-qe],Me.push({command:_i.addLayer,args:[Ge[nt],ft]}),$e.splice($e.length-qe,0,nt),Ke[nt]=!0);for(qe=0;qe<ke.length;qe++)if(nt=ke[qe],st=He[nt],gt=Ge[nt],!Ke[nt]&&!a.bh(st,gt))if(a.bh(st.source,gt.source)&&a.bh(st["source-layer"],gt["source-layer"])&&a.bh(st.type,gt.type)){for(ct in Ep(st.layout,gt.layout,Me,nt,null,_i.setLayoutProperty),Ep(st.paint,gt.paint,Me,nt,null,_i.setPaintProperty),a.bh(st.slot,gt.slot)||Me.push({command:_i.setSlot,args:[nt,gt.slot]}),a.bh(st.filter,gt.filter)||Me.push({command:_i.setFilter,args:[nt,gt.filter]}),a.bh(st.minzoom,gt.minzoom)&&a.bh(st.maxzoom,gt.maxzoom)||Me.push({command:_i.setLayerZoomRange,args:[nt,gt.minzoom,gt.maxzoom]}),st)st.hasOwnProperty(ct)&&ct!=="layout"&&ct!=="paint"&&ct!=="filter"&&ct!=="metadata"&&ct!=="minzoom"&&ct!=="maxzoom"&&ct!=="slot"&&(ct.indexOf("paint.")===0?Ep(st[ct],gt[ct],Me,nt,ct.slice(6),_i.setPaintProperty):a.bh(st[ct],gt[ct])||Me.push({command:_i.setLayerProperty,args:[nt,ct,gt[ct]]}));for(ct in gt)gt.hasOwnProperty(ct)&&!st.hasOwnProperty(ct)&&ct!=="layout"&&ct!=="paint"&&ct!=="filter"&&ct!=="metadata"&&ct!=="minzoom"&&ct!=="maxzoom"&&ct!=="slot"&&(ct.indexOf("paint.")===0?Ep(st[ct],gt[ct],Me,nt,ct.slice(6),_i.setPaintProperty):a.bh(st[ct],gt[ct])||Me.push({command:_i.setLayerProperty,args:[nt,ct,gt[ct]]}))}else Me.push({command:_i.removeLayer,args:[nt]}),ft=$e[$e.lastIndexOf(nt)+1],Me.push({command:_i.addLayer,args:[gt,ft]})}(oe,j.layers,K)}catch(Z){console.warn("Unable to compute style diff:",Z),K=[{command:_i.setStyle,args:[j]}]}return K}(this.serialize(),c).filter(D=>!(D.command in $h));if(w.length===0)return!1;const I=w.filter(D=>!(D.command in K0));if(I.length>0)throw new Error(`Unimplemented: ${I.map(D=>D.command).join(", ")}.`);const L=[];return w.forEach(D=>{L.push(this[D.command].apply(this,D.args))}),f&&Promise.all(L).then(f),this.stylesheet=c,this.mergeAll(),this.dispatcher.broadcast("setLayers",{layers:this._serializeLayers(this._order),scope:this.scope,options:this.options}),!0}addImage(c,f){return this.getImage(c)?this.fire(new a.t(new Error("An image with this name already exists."))):(this.imageManager.addImage(c,this.scope,f),this._afterImageUpdated(c),this)}updateImage(c,f){this.imageManager.updateImage(c,this.scope,f)}getImage(c){return this.imageManager.getImage(c,this.scope)}removeImage(c){return this.getImage(c)?(this.imageManager.removeImage(c,this.scope),this._afterImageUpdated(c),this):this.fire(new a.t(new Error("No image with this name exists.")))}_afterImageUpdated(c){this._availableImages=this.imageManager.listImages(this.scope),this._changes.updateImage(c),this.dispatcher.broadcast("setImages",{scope:this.scope,images:this._availableImages}),this.fire(new a.x("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addModel(c,f,w={}){return this._checkLoaded(),this._validate(ut,`models.${c}`,f,null,w)||(this.modelManager.addModel(c,f,this.scope),this._changes.setDirty()),this}hasModel(c){return this.modelManager.hasModel(c,this.scope)}removeModel(c){return this.hasModel(c)?(this.modelManager.removeModel(c,this.scope),this):this.fire(new a.t(new Error("No model with this ID exists.")))}listModels(){return this._checkLoaded(),this.modelManager.listModels(this.scope)}addSource(c,f,w={}){if(this._checkLoaded(),this.getOwnSource(c)!==void 0)throw new Error(`There is already a source with ID "${c}".`);if(!f.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(f).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(f.type)>=0&&this._validate(qr,`sources.${c}`,f,null,w))return;this.map&&this.map._collectResourceTiming&&(f.collectResourceTiming=!0);const I=Ch(c,f,this.dispatcher,this);I.scope=this.scope,I.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(I.id),source:I.serialize(),sourceId:I.id}));const L=D=>{const j=(D?"symbol:":"other:")+I.id,K=a.av(j,this.scope),Z=this._sourceCaches[j]=new is(K,I,D);(D?this._symbolSourceCaches:this._otherSourceCaches)[I.id]=Z,Z.onAdd(this.map)};L(!1),f.type!=="vector"&&f.type!=="geojson"||L(!0),I.onAdd&&I.onAdd(this.map),w.isInitialLoad||(this.mergeSources(),this._changes.setDirty())}removeSource(c){this._checkLoaded();const f=this.getOwnSource(c);if(!f)throw new Error("There is no source with this ID");for(const I in this._layers)if(this._layers[I].source===c)return this.fire(new a.t(new Error(`Source "${c}" cannot be removed while layer "${I}" is using it.`)));if(this.terrain&&this.terrain.scope===this.scope&&this.terrain.get().source===c)return this.fire(new a.t(new Error(`Source "${c}" cannot be removed while terrain is using it.`)));const w=this.getOwnSourceCaches(c);for(const I of w){const L=a.cm(I.id);delete this._sourceCaches[L],this._changes.discardSourceCacheUpdate(I.id),I.fire(new a.x("data",{sourceDataType:"metadata",dataType:"source",sourceId:I.getSource().id})),I.setEventedParent(null),I.clearTiles()}return delete this._otherSourceCaches[c],delete this._symbolSourceCaches[c],this.mergeSources(),f.setEventedParent(null),f.onRemove&&f.onRemove(this.map),this._changes.setDirty(),this}setGeoJSONSourceData(c,f){this._checkLoaded(),this.getOwnSource(c).setData(f),this._changes.setDirty()}getOwnSource(c){const f=this.getOwnSourceCache(c);return f&&f.getSource()}getOwnSources(){const c=[];for(const f in this._otherSourceCaches){const w=this.getOwnSourceCache(f);w&&c.push(w.getSource())}return c}areTilesLoaded(){const c=this._mergedSourceCaches;for(const f in c){const w=c[f]._tiles;for(const I in w){const L=w[I];if(L.state!=="loaded"&&L.state!=="errored")return!1}}return!0}setLights(c){if(this._checkLoaded(),!c)return delete this.ambientLight,void delete this.directionalLight;const f=this._getTransitionParameters();for(const I of c){if(this._validate(Ya,"lights",I))return;switch(I.type){case"ambient":if(this.ambientLight){const L=this.ambientLight;L.set(I),L.updateTransitions(f)}else this.ambientLight=new an(I,Cn||(Cn=new a.a0({color:new a.a1(a._.properties_light_ambient.color),intensity:new a.a1(a._.properties_light_ambient.intensity)})),this.scope,this.options);break;case"directional":if(this.directionalLight){const L=this.directionalLight;L.set(I),L.updateTransitions(f)}else this.directionalLight=new an(I,Yn||(Yn=new a.a0({direction:new a.ad(a._.properties_light_directional.direction),color:new a.a1(a._.properties_light_directional.color),intensity:new a.a1(a._.properties_light_directional.intensity),"cast-shadows":new a.a1(a._.properties_light_directional["cast-shadows"]),"shadow-intensity":new a.a1(a._.properties_light_directional["shadow-intensity"])})),this.scope,this.options)}}const w=new a.a3(this.z||0,f);this.ambientLight&&this.ambientLight.recalculate(w),this.directionalLight&&this.directionalLight.recalculate(w),this._brightness=this.calculateLightsBrightness(),this.dispatcher.broadcast("setBrightness",this._brightness)}calculateLightsBrightness(){const c=this.directionalLight,f=this.ambientLight;if(!c||!f)return;const w=oe=>.2126*(oe[0]<=.03928?oe[0]/12.92:Math.pow((oe[0]+.055)/1.055,2.4))+.7152*(oe[1]<=.03928?oe[1]/12.92:Math.pow((oe[1]+.055)/1.055,2.4))+.0722*(oe[2]<=.03928?oe[2]/12.92:Math.pow((oe[2]+.055)/1.055,2.4)),I=c.properties.get("color").toRenderColor(null).toArray01(),L=c.properties.get("intensity"),D=c.properties.get("direction"),j=1-a.c7(D.x,D.y,D.z)[2]/90,K=w(I)*L*j,Z=f.properties.get("color").toRenderColor(null).toArray01(),J=f.properties.get("intensity");return(K+w(Z)*J)/2}getBrightness(){return this._brightness}getLights(){if(!this.enable3dLights())return null;const c=[];return this.directionalLight&&c.push(this.directionalLight.get()),this.ambientLight&&c.push(this.ambientLight.get()),c}enable3dLights(){return!!this.ambientLight&&!!this.directionalLight}getFragmentStyle(c){if(!c)return this;if(a.cn(c)){const f=a.co(c),w=this.fragments.find(({id:L})=>L===f);if(!w)throw new Error(`Style import not found: ${c}`);const I=a.cm(c);return w.style.getFragmentStyle(I)}{const f=this.fragments.find(({id:w})=>w===c);if(!f)throw new Error(`Style import not found: ${c}`);return f.style}}getConfigProperty(c,f){const w=this.getFragmentStyle(c);if(!w)return null;const I=a.av(f,w.scope),L=w.options.get(I),D=L?L.value||L.default:null;return D?D.serialize():null}setConfigProperty(c,f,w){const I=this.getFragmentStyle(c);if(!I)return;const L=I.stylesheet.schema;if(!L||!L[f])return;const D=a.M(w);if(D.result!=="success")return void Es(this,D.value);const j=D.value.expression,K=a.av(f,I.scope),Z=I.options.get(K);if(!Z)return;let J;const{minValue:oe,maxValue:ce,stepValue:he,type:Ce,values:Me}=L[f],Ae=a.M(L[f].default);Ae.result==="success"&&(J=Ae.value.expression),J?(this.options.set(K,{...Z,value:j,default:J,minValue:oe,maxValue:ce,stepValue:he,type:Ce,values:Me}),this.updateConfigDependencies(f)):this.fire(new a.t(new Error(`No schema defined for the config option "${f}" in the "${c}" fragment.`)))}getConfig(c){const f=this.getFragmentStyle(c);if(!f)return null;const w=f.stylesheet.schema;if(!w)return null;const I={};for(const L in w){const D=a.av(L,f.scope),j=f.options.get(D),K=j?j.value||j.default:null;I[L]=K?K.serialize():null}return I}setConfig(c,f){const w=this.getFragmentStyle(c);w&&(w.updateConfig(f,w.stylesheet.schema),this.updateConfigDependencies())}getSchema(c){const f=this.getFragmentStyle(c);return f?f.stylesheet.schema:null}setSchema(c,f){const w=this.getFragmentStyle(c);w&&(w.stylesheet.schema=f,w.updateConfig(w._config,f),this.updateConfigDependencies())}updateConfig(c,f){if(this._config=c,c||f)if(f)for(const w in f){let I,L;const D=a.M(f[w].default);if(D.result==="success"&&(I=D.value.expression),c&&c[w]!==void 0){const ce=a.M(c[w]);ce.result==="success"&&(L=ce.value.expression)}const{minValue:j,maxValue:K,stepValue:Z,type:J,values:oe}=f[w];if(I){const ce=a.av(w,this.scope);this.options.set(ce,{default:I,value:L,minValue:j,maxValue:K,stepValue:Z,type:J,values:oe})}else this.fire(new a.t(new Error(`No schema defined for config option "${w}".`)))}else this.fire(new a.t(new Error("Attempting to set config for a style without schema.")))}updateConfigDependencies(c){for(const f of this._configDependentLayers){const w=this.getLayer(f);if(w){if(c&&!w.configDependencies.has(c))continue;w.possiblyEvaluateVisibility(),this._updateLayer(w)}}this.ambientLight&&this.ambientLight.updateConfig(this.options),this.directionalLight&&this.directionalLight.updateConfig(this.options),this.fog&&this.fog.updateConfig(this.options),this.forEachFragmentStyle(f=>{if(f._styleColorTheme.colorTheme){const w=f._evaluateColorThemeData(f._styleColorTheme.colorTheme);(!f._styleColorTheme.lut&&w!==""||f._styleColorTheme.lut&&w!==f._styleColorTheme.lut.data)&&f.setColorTheme(f._styleColorTheme.colorTheme)}}),this._changes.setDirty()}addLayer(c,f,w={}){this._checkLoaded();const I=c.id;if(this._layers[I])return void this.fire(new a.t(new Error(`Layer with id "${I}" already exists on this map`)));let L;if(c.type==="custom"){if(Es(this,a.cp(c)))return;L=a.cq(c,this.scope,this._styleColorTheme.lut,this.options)}else{if(typeof c.source=="object"&&(this.addSource(I,c.source),c=a.cl(c),c=a.l(c,{source:I})),this._validate(Ht,`layers.${I}`,c,{arrayIndex:-1},w))return;L=a.cq(c,this.scope,this._styleColorTheme.lut,this.options),this._validateLayer(L),L.setEventedParent(this,{layer:{id:I}}),this._serializedLayers[L.id]=L.serialize()}L.configDependencies.size!==0&&this._configDependentLayers.add(L.fqid);let D=this._order.length;if(f){const J=this._order.indexOf(f);if(J===-1)return void this.fire(new a.t(new Error(`Layer with id "${f}" does not exist on this map.`)));L.slot===this._layers[f].slot?D=J:a.w(`Layer with id "${f}" has a different slot. Layers can only be rearranged within the same slot.`)}this._order.splice(D,0,I),this._layerOrderChanged=!0,this._layers[I]=L;const j=this.getOwnLayerSourceCache(L),K=!!this.directionalLight&&this.directionalLight.shadowsEnabled();j&&L.canCastShadows()&&K&&(j.castsShadows=!0);const Z=this._changes.getRemovedLayer(L);if(Z&&L.source&&j&&L.type!=="custom"){this._changes.discardLayerRemoval(L);const J=a.av(L.source,L.scope);Z.type!==L.type?this._changes.updateSourceCache(J,"clear"):(this._changes.updateSourceCache(J,"reload"),j.pause())}this._updateLayer(L),L.onAdd&&L.onAdd(this.map),L.scope=this.scope,this.mergeLayers()}moveLayer(c,f){this._checkLoaded();const w=this._checkLayer(c);if(!w||c===f)return;const I=this._order.indexOf(c);this._order.splice(I,1);let L=this._order.length;if(f){const D=this._order.indexOf(f);if(D===-1)return void this.fire(new a.t(new Error(`Layer with id "${f}" does not exist on this map.`)));w.slot===this._layers[f].slot?L=D:a.w(`Layer with id "${f}" has a different slot. Layers can only be rearranged within the same slot.`)}this._order.splice(L,0,c),this._changes.setDirty(),this._layerOrderChanged=!0,this.mergeLayers()}removeLayer(c){this._checkLoaded();const f=this._checkLayer(c);if(!f)return;f.setEventedParent(null);const w=this._order.indexOf(c);this._order.splice(w,1),delete this._layers[c],delete this._serializedLayers[c],this._changes.setDirty(),this._layerOrderChanged=!0,this._configDependentLayers.delete(f.fqid),this._changes.removeLayer(f);const I=this.getOwnLayerSourceCache(f);if(I&&I.castsShadows){let L=!1;for(const D in this._layers)if(this._layers[D].source===f.source&&this._layers[D].canCastShadows()){L=!0;break}I.castsShadows=L}f.onRemove&&f.onRemove(this.map),this.mergeLayers()}getOwnLayer(c){return this._layers[c]}hasLayer(c){return c in this._mergedLayers}hasLayerType(c){for(const f in this._layers)if(this._layers[f].type===c)return!0;return!1}setLayerZoomRange(c,f,w){this._checkLoaded();const I=this._checkLayer(c);I&&(I.minzoom===f&&I.maxzoom===w||(f!=null&&(I.minzoom=f),w!=null&&(I.maxzoom=w),this._updateLayer(I)))}getSlots(){return this._checkLoaded(),this._mergedSlots}setSlot(c,f){this._checkLoaded();const w=this._checkLayer(c);w&&w.slot!==f&&(w.slot=f,this._updateLayer(w))}setFilter(c,f,w={}){this._checkLoaded();const I=this._checkLayer(c);if(I&&!a.bh(I.filter,f))return f==null?(I.filter=void 0,void this._updateLayer(I)):void(this._validate(Pe,`layers.${I.id}.filter`,f,{layerType:I.type},w)||(I.filter=a.cl(f),this._updateLayer(I)))}getFilter(c){const f=this._checkLayer(c);if(f)return a.cl(f.filter)}setLayoutProperty(c,f,w,I={}){this._checkLoaded();const L=this._checkLayer(c);if(L&&!a.bh(L.getLayoutProperty(f),w)){if(w!=null&&(!I||I.validate!==!1)&&Es(L,Xe.call(Nr,{key:`layers.${c}.layout.${f}`,layerType:L.type,objectKey:f,value:w,styleSpec:a._,style:{glyphs:!0,sprite:!0}})))return;L.setLayoutProperty(f,w),L.configDependencies.size!==0&&this._configDependentLayers.add(L.fqid),this._updateLayer(L)}}getLayoutProperty(c,f){const w=this._checkLayer(c);if(w)return w.getLayoutProperty(f)}setPaintProperty(c,f,w,I={}){this._checkLoaded();const L=this._checkLayer(c);if(!L||a.bh(L.getPaintProperty(f),w)||w!=null&&(!I||I.validate!==!1)&&Es(L,Oe.call(Nr,{key:`layers.${c}.paint.${f}`,layerType:L.type,objectKey:f,value:w,styleSpec:a._})))return;const D=L.setPaintProperty(f,w);L.configDependencies.size!==0&&this._configDependentLayers.add(L.fqid),D&&this._updateLayer(L),this._changes.updatePaintProperties(L)}getPaintProperty(c,f){const w=this._checkLayer(c);if(w)return w.getPaintProperty(f)}setFeatureState(c,f){this._checkLoaded();const w=c.source,I=c.sourceLayer,L=this._checkSource(w);if(!L)return;const D=L.type;if(D==="geojson"&&I)return void this.fire(new a.t(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(D==="vector"&&!I)return void this.fire(new a.t(new Error("The sourceLayer parameter must be provided for vector source types.")));c.id===void 0&&this.fire(new a.t(new Error("The feature id parameter must be provided.")));const j=this.getOwnSourceCaches(w);for(const K of j)K.setFeatureState(I,c.id,f)}removeFeatureState(c,f){this._checkLoaded();const w=c.source,I=this._checkSource(w);if(!I)return;const L=I.type,D=L==="vector"?c.sourceLayer:void 0;if(L==="vector"&&!D)return void this.fire(new a.t(new Error("The sourceLayer parameter must be provided for vector source types.")));if(f&&typeof c.id!="string"&&typeof c.id!="number")return void this.fire(new a.t(new Error("A feature id is required to remove its specific state property.")));const j=this.getOwnSourceCaches(w);for(const K of j)K.removeFeatureState(D,c.id,f)}getFeatureState(c){this._checkLoaded();const f=c.source,w=c.sourceLayer,I=this._checkSource(f);if(I){if(I.type!=="vector"||w)return c.id===void 0&&this.fire(new a.t(new Error("The feature id parameter must be provided."))),this.getOwnSourceCaches(f)[0].getFeatureState(w,c.id);this.fire(new a.t(new Error("The sourceLayer parameter must be provided for vector source types.")))}}setTransition(c){return this.stylesheet.transition=a.l({},this.stylesheet.transition,c),this.transition=this.stylesheet.transition,this}getTransition(){return a.l({},this.stylesheet.transition)}serialize(){this._checkLoaded();const c=this.getTerrain(),f=c&&this.terrain&&this.terrain.scope===this.scope?c:this.stylesheet.terrain;return a.cr({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,fragment:this.stylesheet.fragment,imports:this._serializeImports(),schema:this.stylesheet.schema,camera:this.stylesheet.camera,light:this.stylesheet.light,lights:this.stylesheet.lights,terrain:f,fog:this.stylesheet.fog,center:this.stylesheet.center,"color-theme":this.stylesheet["color-theme"],zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:this._serializeSources(),layers:this._serializeLayers(this._order)},w=>w!==void 0)}_updateLayer(c){this._changes.updateLayer(c);const f=this.getLayerSourceCache(c),w=a.av(c.source,c.scope),I=this._changes.getUpdatedSourceCaches();c.source&&!I[w]&&f&&f.getSource().type!=="raster"&&(this._changes.updateSourceCache(w,"reload"),f.pause()),c.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(c){const f=j=>this._mergedLayers[j].is3D(),w=this.order,I={},L=[];for(let j=w.length-1;j>=0;j--){const K=w[j];if(f(K)){I[K]=j;for(const Z of c){const J=Z[K];if(J)for(const oe of J)L.push(oe)}}}L.sort((j,K)=>K.intersectionZ-j.intersectionZ);const D=[];for(let j=w.length-1;j>=0;j--){const K=w[j];if(f(K))for(let Z=L.length-1;Z>=0;Z--){const J=L[Z].feature;if(J.layer&&I[J.layer.id]<j)break;D.push(J),L.pop()}else for(const Z of c){const J=Z[K];if(J)for(const oe of J)D.push(oe.feature)}}return D}queryRenderedFeatures(c,f,w){f&&f.filter&&this._validate(Pe,"queryRenderedFeatures.filter",f.filter,null,f),f.scope=this.scope,f.availableImages=this._availableImages,f.serializedLayers=this._serializedLayers;const I={};if(f&&f.layers){if(!Array.isArray(f.layers))return this.fire(new a.t(new Error("parameters.layers must be an Array."))),[];for(const Z of f.layers){const J=this._mergedLayers[Z];if(!J)return this.fire(new a.t(new Error(`The layer '${Z}' does not exist in the map's style and cannot be queried for features.`))),[];I[J.source]=!0}}const L=[],D=f.serializedLayers||{},j=f&&f.layers?f.layers.some(Z=>{const J=this.getLayer(Z);return J&&J.is3D()}):this.has3DLayers(),K=xr.createFromScreenPoints(c,w);for(const Z in this._mergedSourceCaches){const J=this._mergedSourceCaches[Z].getSource();if(!J||J.scope!==f.scope)continue;const oe=this._mergedSourceCaches[Z].getSource().id;f.layers&&!I[oe]||L.push(J_(this._mergedSourceCaches[Z],this._mergedLayers,D,K,f,w,j,!!this.map._showQueryGeometry))}return this.placement&&L.push(function(Z,J,oe,ce,he,Ce,Me){const Ae={},ke=Ce.queryRenderedSymbols(ce),He=[];for(const Ge of Object.keys(ke).map(Number))He.push(Me[Ge]);He.sort(Th);for(const Ge of He){const $e=Ge.featureIndex.lookupSymbolFeatures(ke[Ge.bucketInstanceId],J,Ge.bucketIndex,Ge.sourceLayerIndex,he.filter,he.layers,he.availableImages,Z);for(const Ke in $e){const qe=Ae[Ke]=Ae[Ke]||[],at=$e[Ke];at.sort((nt,st)=>{const gt=Ge.featureSortOrder;if(gt){const ft=gt.indexOf(nt.featureIndex);return gt.indexOf(st.featureIndex)-ft}return st.featureIndex-nt.featureIndex});for(const nt of at)qe.push(nt)}}for(const Ge in Ae)Ae[Ge].forEach($e=>{const Ke=$e.feature,qe=oe(Z[Ge]);if(!qe)return;const at=qe.getFeatureState(Ke.layer["source-layer"],Ke.id);Ke.source=Ke.layer.source,Ke.layer["source-layer"]&&(Ke.sourceLayer=Ke.layer["source-layer"]),Ke.state=at});return Ae}(this._mergedLayers,D,this.getLayerSourceCache.bind(this),K.screenGeometry,f,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(L)}querySourceFeatures(c,f){f&&f.filter&&this._validate(Pe,"querySourceFeatures.filter",f.filter,null,f);const w=this.getOwnSourceCaches(c);let I=[];for(const L of w)I=I.concat(Cp(L,f));return I}addSourceType(c,f,w){return As.getSourceType(c)?w(new Error(`A source type called "${c}" already exists.`)):(As.setSourceType(c,f),f.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:c,url:f.workerSourceURL},w):w(null,null))}getFlatLight(){return this.light.getLight()}setFlatLight(c,f,w={}){this._checkLoaded();const I=this.light.getLight();let L=!1;for(const j in c)if(!a.bh(c[j],I[j])){L=!0;break}if(!L)return;const D=this._getTransitionParameters();this.light.setLight(c,f,w),this.light.updateTransitions(D)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}checkCanvasFingerprintNoise(){this.disableElevatedTerrain===void 0&&(this.disableElevatedTerrain=a.q.hasCanvasFingerprintNoise(),this.disableElevatedTerrain&&a.w("Terrain and hillshade are disabled because of Canvas2D limitations when fingerprinting protection is enabled (e.g. in private browsing mode)."))}setTerrain(c,f=1){if(this._checkLoaded(),!c)return this.terrainSetForDrapingOnly()||(delete this.terrain,this.map.transform.projection.requiresDraping&&this.setTerrainForDraping()),f===0&&delete this.terrain,c===null?this.stylesheet.terrain=null:delete this.stylesheet.terrain,this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);this.checkCanvasFingerprintNoise();let w=c;const I=c.source==null;if(f===1){if(this.disableElevatedTerrain)return;if(typeof w.source=="object"){const j="terrain-dem-src";this.addSource(j,w.source),w=a.cl(w),w=a.l(w,{source:j})}const L=a.l({},w),D={};if(this.terrain&&I){L.source=this.terrain.get().source;const j=this.terrain?this.getFragmentStyle(this.terrain.scope):null;j&&(D.style=j.serialize())}if(this._validate(Wl,"terrain",L,D))return}if(!this.terrain||this.terrain.scope!==this.scope&&!I||this.terrain&&f!==this.terrain.drapeRenderMode){if(!w)return;this._createTerrain(w,f),this.fire(new a.x("data",{dataType:"style"}))}else{const L=this.terrain,D=L.get();for(const j of Object.keys(a._.terrain))!w.hasOwnProperty(j)&&a._.terrain[j].default&&(w[j]=a._.terrain[j].default);for(const j in c)if(!a.bh(c[j],D[j])){L.set(c,this.options),this.stylesheet.terrain=c;const K=this._getTransitionParameters({duration:0});L.updateTransitions(K),this.fire(new a.x("data",{dataType:"style"}));break}}this.mergeTerrain(),this.updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(c){const f=this.fog=new li(c,this.map.transform,this.scope,this.options);this.stylesheet.fog=f.get();const w=this._getTransitionParameters({duration:0});f.updateTransitions(w)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const c of this.map._markers)c._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(c){if(this._checkLoaded(),!c)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const f=this.fog;if(!a.bh(f.get(),c)){f.set(c,this.options),this.stylesheet.fog=f.get();const w=this._getTransitionParameters({duration:0});f.updateTransitions(w)}}else this._createFog(c);this._markersNeedUpdate=!0}setColorTheme(c){this._checkLoaded();const f=()=>{for(const I in this._layers)this._layers[I].lut=this._styleColorTheme.lut;for(const I in this._sourceCaches)this._sourceCaches[I].clearTiles()};if(this._styleColorTheme.colorTheme=c,!c)return this._styleColorTheme.lut=null,void f();const w=this._evaluateColorThemeData(c);this._loadColorTheme(w).then(()=>{this.fire(new a.x("colorthemeset")),f()}).catch(I=>{a.w(`Couldn't set color theme: ${I}`)})}_getTransitionParameters(c){return{now:a.q.now(),transition:a.l(this.transition,c)}}updateDrapeFirstLayers(){if(!this.terrain)return;const c=[],f=[];for(const w of this._mergedOrder)this.isLayerDraped(this._mergedLayers[w])?c.push(w):f.push(w);this._drapedFirstOrder=[],this._drapedFirstOrder.push(...c),this._drapedFirstOrder.push(...f)}_createTerrain(c,f){const w=this.terrain=new rt(c,f,this.scope,this.options);f===1&&(this.stylesheet.terrain=c),this.mergeTerrain(),this.updateDrapeFirstLayers(),this._force3DLayerUpdate();const I=this._getTransitionParameters({duration:0});w.updateTransitions(I)}_force3DLayerUpdate(){for(const c in this._layers){const f=this._layers[c];f.type==="fill-extrusion"&&this._updateLayer(f)}}_forceSymbolLayerUpdate(){for(const c in this._layers){const f=this._layers[c];f.type==="symbol"&&this._updateLayer(f)}}_validate(c,f,w,I,L={}){if(L&&L.validate===!1)return!1;const D=a.l({},this.serialize());return Es(this,c.call(Nr,a.l({key:f,style:D,value:w,styleSpec:a._},I)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.cs.off("pluginStateChange",this._rtlTextPluginCallback);for(const c in this._mergedLayers)this._mergedLayers[c].setEventedParent(null);for(const c in this._mergedSourceCaches)this._mergedSourceCaches[c].clearTiles(),this._mergedSourceCaches[c].setEventedParent(null);this.setEventedParent(null),delete this.fog,delete this.terrain,delete this.ambientLight,delete this.directionalLight,this.isRootStyle()&&(this.imageManager.setEventedParent(null),this.modelManager.setEventedParent(null),this.dispatcher.remove())}clearSource(c){const f=this.getSourceCaches(c);for(const w of f)w.clearTiles()}clearSources(){for(const c in this._mergedSourceCaches)this._mergedSourceCaches[c].clearTiles()}reloadSource(c){const f=this.getSourceCaches(c);for(const w of f)w.resume(),w.reload()}reloadSources(){for(const c of this.getSources())c.reload&&c.reload()}updateSources(c){let f;this.directionalLight&&(f=G0(this.directionalLight));for(const w in this._mergedSourceCaches)this._mergedSourceCaches[w].update(c,void 0,void 0,f)}_generateCollisionBoxes(){for(const c in this._sourceCaches){const f=this._sourceCaches[c];f.resume(),f.reload()}}_updatePlacement(c,f,w,I,L,D,j=!1){let K=!1,Z=!1;const J={},oe={};for(const ce of this._mergedOrder){const he=this._mergedLayers[ce];if(he.type!=="symbol")continue;const Ce=a.av(he.source,he.scope);let Me=J[Ce];if(!Me){const ke=this.getLayerSourceCache(he);if(!ke)continue;const He=ke.getRenderableIds(!0).map(Ge=>ke.getTileByID(Ge));oe[Ce]=He.slice(),Me=J[Ce]=He.sort((Ge,$e)=>$e.tileID.overscaledZ-Ge.tileID.overscaledZ||(Ge.tileID.isLessThan($e.tileID)?-1:1))}const Ae=this.crossTileSymbolIndex.addLayer(he,Me,f.center.lng,f.projection);K=K||Ae}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._mergedOrder),j=j||this._layerOrderChanged||I===0,this._layerOrderChanged&&this.fire(new a.x("neworder")),(j||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.q.now(),f.zoom))&&(this.pauseablePlacement=new Ap(f,this._mergedOrder,j,w,I,L,this.placement,this.fog&&f.projection.supportsFog?this.fog.state:null,this._buildingIndex),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._mergedOrder,this._mergedLayers,J,oe),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.q.now()),Z=!0),K&&this.pauseablePlacement.placement.setStale()),Z||K){this._buildingIndex.onNewFrame(f.zoom);for(let ce=0;ce<this._mergedOrder.length;ce++){const he=this._mergedLayers[this._mergedOrder[ce]];if(he.type!=="symbol")continue;const Ce=this.isLayerClipped(he);this.placement.updateLayerOpacities(he,J[a.av(he.source,he.scope)],ce,Ce?D:null)}}return{needsRerender:!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.q.now())}}_releaseSymbolFadeTiles(){for(const c in this._sourceCaches)this._sourceCaches[c].releaseSymbolFadeTiles()}addImport(c,f){this._checkLoaded();const w=this.stylesheet.imports=this.stylesheet.imports||[];if(w.findIndex(({id:L})=>L===c.id)!==-1)return void this.fire(new a.t(new Error(`Import with id '${c.id}' already exists in the map's style.`)));if(!f)return w.push(c),this._loadImports([c],!0);const I=w.findIndex(({id:L})=>L===f);return I===-1&&this.fire(new a.t(new Error(`Import with id "${f}" does not exist on this map.`))),this.stylesheet.imports=w.slice(0,I).concat(c).concat(w.slice(I)),this._loadImports([c],!0,f)}updateImport(c,f){this._checkLoaded();const w=this.stylesheet.imports||[],I=this.getImportIndex(c);return I===-1?this:typeof f=="string"?(this.setImportUrl(c,f),this):(f.url&&f.url!==w[I].url&&this.setImportUrl(c,f.url),a.bh(f.config,w[I].config)||this.setImportConfig(c,f.config),a.bh(f.data,w[I].data)||this.setImportData(c,f.data),this)}moveImport(c,f){this._checkLoaded();let w=this.stylesheet.imports||[];const I=this.getImportIndex(c);if(I===-1)return this;const L=this.getImportIndex(f);if(L===-1)return this;const D=w[I],j=this.fragments[I];return w=w.filter(({id:K})=>K!==c),this.fragments=this.fragments.filter(({id:K})=>K!==c),this.stylesheet.imports=w.slice(0,L).concat(D).concat(w.slice(L)),this.fragments=this.fragments.slice(0,L).concat(j).concat(this.fragments.slice(L)),this.mergeLayers(),this}setImportUrl(c,f){this._checkLoaded();const w=this.stylesheet.imports||[],I=this.getImportIndex(c);if(I===-1)return this;w[I].url=f;const L=this.fragments[I];return L.style=this._createFragmentStyle(w[I]),L.style.on("style.import.load",()=>this.mergeAll()),L.style.loadURL(f),this}setImportData(c,f){this._checkLoaded();const w=this.getImportIndex(c),I=this.stylesheet.imports||[];return w===-1?this:f?(this.fragments[w].style.setState(f),this._reloadImports(),this):(delete I[w].data,this.setImportUrl(c,I[w].url))}setImportConfig(c,f){this._checkLoaded();const w=this.getImportIndex(c),I=this.stylesheet.imports||[];if(w===-1)return this;f?I[w].config=f:delete I[w].config;const L=this.fragments[w],D=L.style.stylesheet&&L.style.stylesheet.schema;return L.config=f,L.style.updateConfig(f,D),this.updateConfigDependencies(),this}removeImport(c){this._checkLoaded();const f=this.stylesheet.imports||[],w=this.getImportIndex(c);w!==-1&&(f.splice(w,1),this.fragments[w].style._remove(),this.fragments.splice(w,1),this._reloadImports())}getImportIndex(c){const f=(this.stylesheet.imports||[]).findIndex(w=>w.id===c);return f===-1&&this.fire(new a.t(new Error(`Import '${c}' does not exist in the map's style and cannot be updated.`))),f}getLayer(c){return this._mergedLayers[c]}getSources(){const c=[];for(const f in this._mergedOtherSourceCaches){const w=this._mergedOtherSourceCaches[f];w&&c.push(w.getSource())}return c}getSource(c,f){const w=this.getSourceCache(c,f);return w&&w.getSource()}getLayerSource(c){const f=this.getLayerSourceCache(c);return f&&f.getSource()}getSourceCache(c,f){const w=a.av(c,f);return this._mergedOtherSourceCaches[w]}getLayerSourceCache(c){const f=a.av(c.source,c.scope);return c.type==="symbol"?this._mergedSymbolSourceCaches[f]:this._mergedOtherSourceCaches[f]}getSourceCaches(c){if(c==null)return Object.values(this._mergedSourceCaches);const f=[];return this._mergedOtherSourceCaches[c]&&f.push(this._mergedOtherSourceCaches[c]),this._mergedSymbolSourceCaches[c]&&f.push(this._mergedSymbolSourceCaches[c]),f}updateSourceCaches(){const c=this._changes.getUpdatedSourceCaches();for(const f in c){const w=c[f];w==="reload"?this.reloadSource(f):w==="clear"&&this.clearSource(f)}}updateLayers(c){const f=this._changes.getUpdatedPaintProperties();for(const w of f){const I=this.getLayer(w);I&&I.updateTransitions(c)}}getImages(c,f,w){this.imageManager.getImages(f.icons,f.scope,w),this._updateTilesForChangedImages();const I=L=>{L&&L.setDependencies(f.tileID.key,f.type,f.icons)};I(this._otherSourceCaches[f.source]),I(this._symbolSourceCaches[f.source])}getGlyphs(c,f,w){this.glyphManager.getGlyphs(f.stacks,f.scope,w)}getResource(c,f,w){return a.ct(f,w)}getOwnSourceCache(c){return this._otherSourceCaches[c]}getOwnLayerSourceCache(c){return c.type==="symbol"?this._symbolSourceCaches[c.source]:this._otherSourceCaches[c.source]}getOwnSourceCaches(c){const f=[];return this._otherSourceCaches[c]&&f.push(this._otherSourceCaches[c]),this._symbolSourceCaches[c]&&f.push(this._symbolSourceCaches[c]),f}_isSourceCacheLoaded(c){const f=this.getOwnSourceCaches(c);return f.length===0?(this.fire(new a.t(new Error(`There is no source with ID '${c}'`))),!1):f.every(w=>w.loaded())}has3DLayers(){return this._has3DLayers}hasSymbolLayers(){return this._hasSymbolLayers}hasCircleLayers(){return this._hasCircleLayers}isLayerClipped(c,f){if(!this._clipLayerPresent&&c.type!=="fill-extrusion")return!1;const w=c.type==="fill-extrusion"&&c.sourceLayer==="building";if(c.is3D()){if(w||f&&f.type==="batched-model"||c.type==="model")return!0}else if(c.type==="symbol")return!0;return!1}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.fragments.forEach(c=>{c.style._remove()}),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}As.getSourceType=function(x){return D0[x]},As.setSourceType=function(x,c){D0[x]=c},As.registerForPluginStateChange=a.cc;var Fw=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#ifdef RENDER_CUTOFF
float cutoff_opacity(vec4 cutoff_params,float depth) {float near=cutoff_params.x;float far=cutoff_params.y;float cutoffStart=cutoff_params.z;float cutoffEnd=cutoff_params.w;float linearDepth=(depth-near)/(far-near);return clamp((linearDepth-cutoffStart)/(cutoffEnd-cutoffStart),0.0,1.0);}
#endif`,dy=`
out vec4 glFragColor;highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}
#ifdef INDICATOR_CUTOUT
uniform vec2 u_indicator_cutout_centers;uniform vec4 u_indicator_cutout_params;
#endif
vec4 applyCutout(vec4 color) {
#ifdef INDICATOR_CUTOUT
float holeMinOpacity=u_indicator_cutout_params.x;float holeRadius=max(u_indicator_cutout_params.y,0.0);float holeAspectRatio=u_indicator_cutout_params.z;float fadeStart=u_indicator_cutout_params.w;float distA=distance(vec2(gl_FragCoord.x,gl_FragCoord.y*holeAspectRatio),vec2(u_indicator_cutout_centers[0],u_indicator_cutout_centers[1]*holeAspectRatio));return color*min(smoothstep(fadeStart,holeRadius,distA)+holeMinOpacity,1.0);
#else
return color;
#endif
}
#ifdef DEBUG_WIREFRAME
#define HANDLE_WIREFRAME_DEBUG \\
glFragColor=vec4(0.7,0.0,0.0,0.7); \\
gl_FragDepth=gl_FragCoord.z-0.0001;
#else
#define HANDLE_WIREFRAME_DEBUG
#endif
#ifdef RENDER_CUTOFF
uniform highp vec4 u_cutoff_params;in float v_cutoff_opacity;
#endif
vec4 textureLodCustom(sampler2D image,highp vec2 pos,highp vec2 lod_coord) {highp vec2 size=vec2(textureSize(image,0));highp vec2 dx=dFdx(lod_coord.xy*size);highp vec2 dy=dFdy(lod_coord.xy*size);highp float delta_max_sqr=max(dot(dx,dx),dot(dy,dy));highp float lod=0.5*log2(delta_max_sqr);return textureLod(image,pos,lod);}vec4 applyLUT(highp sampler3D lut,vec4 col) {vec3 size=vec3(textureSize(lut,0));vec3 uvw=(col.rbg*float(size-1.0)+0.5)/size;return vec4(texture(lut,uvw).rgb,col.a);}vec3 applyLUT(highp sampler3D lut,vec3 col) {return applyLUT(lut,vec4(col,1.0)).rgb;}`,hy=`
#define EXTENT 8192.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const vec2 units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (units_to_pixels*pos+offset)/pattern_size;}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {return get_pattern_pos(pixel_coord_upper,pixel_coord_lower,pattern_size,vec2(tile_units_to_pixels),pos);}float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(PI/4.0+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}
#ifdef RENDER_CUTOFF
uniform vec4 u_cutoff_params;out float v_cutoff_opacity;
#endif
const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);const float skirtOffset=24575.0;vec3 decomposeToPosAndSkirt(vec2 posWithComposedSkirt)
{float skirt=float(posWithComposedSkirt.x >=skirtOffset);vec2 pos=posWithComposedSkirt-vec2(skirt*skirtOffset,0.0);return vec3(pos,skirt);}`,Y0="in highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;out highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",Nw=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
#ifdef TERRAIN
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture(u_dem,pos).r;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=texture(u_dem,pos).r;float tr=texture(u_dem,pos+vec2(dd,0)).r;float bl=texture(u_dem,pos+vec2(0,dd)).r;float br=texture(u_dem,pos+vec2(dd,dd)).r;return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture(u_dem_prev,pos).r;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=texture(u_dem_prev,pos).r;float tr=texture(u_dem_prev,pos+vec2(dd,0)).r;float bl=texture(u_dem_prev,pos+vec2(0,dd)).r;float br=texture(u_dem_prev,pos+vec2(dd,dd)).r;return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
vec4 fourSample(vec2 pos,vec2 off) {float tl=texture(u_dem,pos).r;float tr=texture(u_dem,pos+vec2(off.x,0.0)).r;float bl=texture(u_dem,pos+vec2(0.0,off.y)).r;float br=texture(u_dem,pos+off).r;return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }
#endif
#ifdef DEPTH_OCCLUSION
uniform highp sampler2D u_depth;uniform highp vec2 u_depth_size_inv;uniform highp vec2 u_depth_range_unpack;uniform highp float u_occluder_half_size;uniform highp float u_occlusion_depth_offset;
#ifdef DEPTH_D24
float unpack_depth(float depth) {return depth*u_depth_range_unpack.x+u_depth_range_unpack.y;}vec4 unpack_depth4(vec4 depth) {return depth*u_depth_range_unpack.x+vec4(u_depth_range_unpack.y);}
#else
highp float unpack_depth_rgba(vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}
#endif
bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;
#ifdef DEPTH_D24
float depth=unpack_depth(texture(u_depth,(coord.xy+1.0)*0.5).r);
#else
float depth=unpack_depth_rgba(texture(u_depth,(coord.xy+1.0)*0.5));
#endif
return coord.z+u_occlusion_depth_offset > depth;}highp vec4 getCornerDepths(vec2 coord) {highp vec3 df=vec3(u_occluder_half_size*u_depth_size_inv,0.0);highp vec2 uv=0.5*coord.xy+0.5;
#ifdef DEPTH_D24
highp vec4 depth=vec4(
texture(u_depth,uv-df.xz).r,texture(u_depth,uv+df.xz).r,texture(u_depth,uv-df.zy).r,texture(u_depth,uv+df.zy).r
);depth=unpack_depth4(depth);
#else
highp vec4 depth=vec4(
unpack_depth_rgba(texture(u_depth,uv-df.xz)),unpack_depth_rgba(texture(u_depth,uv+df.xz)),unpack_depth_rgba(texture(u_depth,uv-df.zy)),unpack_depth_rgba(texture(u_depth,uv+df.zy))
);
#endif
return depth;}highp float occlusionFadeMultiSample(vec4 frag) {highp vec3 coord=frag.xyz/frag.w;highp vec2 uv=0.5*coord.xy+0.5;int NX=3;int NY=4;highp vec2 df=u_occluder_half_size*u_depth_size_inv;highp vec2 oneStep=2.0*u_occluder_half_size*u_depth_size_inv/vec2(NX-1,NY-1);highp float res=0.0;for (int y=0; y < NY;++y) {for (int x=0; x < NX;++x) {
#ifdef DEPTH_D24
highp float depth=unpack_depth(texture(u_depth,uv-df+vec2(float(x)*oneStep.x,float(y)*oneStep.y)).r);
#else
highp float depth=unpack_depth_rgba(texture(u_depth,uv-df+vec2(float(x)*oneStep.x,float(y)*oneStep.y)));
#endif
res+=1.0-clamp(300.0*(coord.z+u_occlusion_depth_offset-depth),0.0,1.0);}}res=clamp(2.0*res/float(NX*NY)-0.5,0.0,1.0);return res;}highp float occlusionFade(vec4 frag) {highp vec3 coord=frag.xyz/frag.w;highp vec4 depth=getCornerDepths(coord.xy);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z+u_occlusion_depth_offset)-depth),0.0,1.0));}
#else
bool isOccluded(vec4 frag) { return false; }highp float occlusionFade(vec4 frag) { return 1.0; }highp float occlusionFadeMultiSample(vec4 frag) { return 1.0; }
#endif//DEPTH_OCCLUSION`,$w=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;out vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,Vw=`highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}
#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump vec2 u_fog_vertical_limit;uniform mediump float u_fog_temporal_offset;in vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos,float opacity_limit) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,min(opacity,opacity_limit));}vec3 fog_apply(vec3 color,vec3 pos) {return fog_apply(color,pos,1.0);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec4 fog_apply_premultiplied(vec4 color,vec3 pos,float heightMeters) {float verticalProgress=(u_fog_vertical_limit.x > 0.0 || u_fog_vertical_limit.y > 0.0) ? smoothstep(u_fog_vertical_limit.x,u_fog_vertical_limit.y,heightMeters) : 0.0;float opacityLimit=1.0-smoothstep(0.9,1.0,fog_opacity(pos));return mix(fog_apply_premultiplied(color,pos),color,min(verticalProgress,opacityLimit));}vec3 fog_dither(vec3 color) {
#ifdef FOG_DITHERING
vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);
#else
return color;
#endif
}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`,Hw=`#ifdef RASTER_ARRAY
uniform sampler2D u_image0;uniform sampler2D u_image1;const vec4 NODATA=vec4(1);ivec4 _raTexLinearCoord(highp vec2 texCoord,highp vec2 texResolution,out highp vec2 fxy) {texCoord=texCoord*texResolution-0.5;fxy=fract(texCoord);texCoord-=fxy;return ivec4(texCoord.xxyy+vec2(1.5,0.5).xyxy);}vec2 _raTexLinearMix(highp vec2 fxy,highp vec4 colorMix,highp float colorOffset,highp vec4 t00,highp vec4 t10,highp vec4 t01,highp vec4 t11) {vec2 c00=t00==NODATA ? vec2(0) : vec2(colorOffset+dot(t00,colorMix),1);vec2 c10=t10==NODATA ? vec2(0) : vec2(colorOffset+dot(t10,colorMix),1);vec2 c01=t01==NODATA ? vec2(0) : vec2(colorOffset+dot(t01,colorMix),1);vec2 c11=t11==NODATA ? vec2(0) : vec2(colorOffset+dot(t11,colorMix),1);return mix(mix(c01,c11,fxy.x),mix(c00,c10,fxy.x),fxy.y);}vec2 raTexture2D_image0_linear(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec2 fxy;ivec4 c=_raTexLinearCoord(texCoord,texResolution,fxy);return _raTexLinearMix(fxy,colorMix,colorOffset,texelFetch(u_image0,c.yz,0),texelFetch(u_image0,c.xz,0),texelFetch(u_image0,c.yw,0),texelFetch(u_image0,c.xw,0)
);}vec2 raTexture2D_image1_linear(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec2 fxy;ivec4 c=_raTexLinearCoord(texCoord,texResolution,fxy);return _raTexLinearMix(fxy,colorMix,colorOffset,texelFetch(u_image1,c.yz,0),texelFetch(u_image1,c.xz,0),texelFetch(u_image1,c.yw,0),texelFetch(u_image1,c.xw,0)
);}vec2 raTexture2D_image0_nearest(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec4 t=texelFetch(u_image0,ivec2(texCoord*texResolution),0);return t==NODATA ? vec2(0) : vec2(colorOffset+dot(t,colorMix),1);}vec2 raTexture2D_image1_nearest(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec4 t=texelFetch(u_image1,ivec2(texCoord*texResolution),0);return t==NODATA ? vec2(0) : vec2(colorOffset+dot(t,colorMix),1);}
#endif`,fy=`#ifdef RASTER_ARRAY
uniform sampler2D u_velocity;uniform mediump vec2 u_velocity_res;uniform mediump float u_max_speed;const vec4 NO_DATA=vec4(1);const vec2 INVALID_VELOCITY=vec2(-1);uniform highp vec2 u_uv_offset;uniform highp float u_data_offset;uniform highp vec2 u_data_scale;ivec4 rasterArrayLinearCoord(highp vec2 texCoord,highp vec2 texResolution,out highp vec2 fxy) {texCoord=texCoord*texResolution-0.5;fxy=fract(texCoord);texCoord-=fxy;return ivec4(texCoord.xxyy+vec2(1.5,0.5).xyxy);}highp vec2 lookup_velocity(highp vec2 uv) {uv=u_uv_offset.x+u_uv_offset.y*uv;highp vec2 fxy;ivec4 c=rasterArrayLinearCoord(uv,u_velocity_res,fxy);highp vec4 tl=texelFetch(u_velocity,c.yz,0);highp vec4 tr=texelFetch(u_velocity,c.xz,0);highp vec4 bl=texelFetch(u_velocity,c.yw,0);highp vec4 br=texelFetch(u_velocity,c.xw,0);if (tl==NO_DATA) {return INVALID_VELOCITY;}if (tr==NO_DATA) {return INVALID_VELOCITY;}if (bl==NO_DATA) {return INVALID_VELOCITY;}if (br==NO_DATA) {return INVALID_VELOCITY;}highp vec4 t=mix(mix(bl,br,fxy.x),mix(tl,tr,fxy.x),fxy.y);highp vec2 velocity=u_data_offset+vec2(dot(t.rg,u_data_scale),dot(t.ba,u_data_scale));velocity.y=-velocity.y;velocity/=max(u_max_speed,length(velocity));return velocity;}
#endif
uniform highp float u_particle_pos_scale;uniform highp vec2 u_particle_pos_offset;highp vec4 pack_pos_to_rgba(highp vec2 p) {highp vec2 v=(p+u_particle_pos_offset)/u_particle_pos_scale;highp vec4 r=vec4(v.x,fract(v.x*255.0),v.y,fract(v.y*255.0));return vec4(r.x-r.y/255.0,r.y,r.z-r.w/255.0,r.w);}highp vec2 unpack_pos_from_rgba(highp vec4 v) {v=floor(v*255.0+0.5)/255.0;highp vec2 p=vec2(v.x+(v.y/255.0),v.z+(v.w/255.0));return u_particle_pos_scale*p-u_particle_pos_offset;}`,Uw=`#ifdef RENDER_SHADOWS
uniform mediump vec3 u_shadow_direction;uniform highp vec3 u_shadow_normal_offset;vec3 shadow_normal_offset(vec3 normal) {float tileInMeters=u_shadow_normal_offset[0];vec3 n=vec3(-normal.xy,tileInMeters*normal.z);float dotScale=min(1.0-dot(normal,u_shadow_direction),1.0)*0.5+0.5;return n*dotScale;}vec3 shadow_normal_offset_model(vec3 normal) {vec3 transformed_normal=vec3(-normal.xy,normal.z);float NDotL=dot(normalize(transformed_normal),u_shadow_direction);float dotScale=min(1.0-NDotL,1.0)*0.5+0.5;return normal*dotScale;}float shadow_normal_offset_multiplier0() {return u_shadow_normal_offset[1];}float shadow_normal_offset_multiplier1() {return u_shadow_normal_offset[2];}
#endif//RENDER_SHADOWS`,kp=`#ifdef RENDER_SHADOWS
#ifdef DEPTH_TEXTURE
uniform highp sampler2D u_shadowmap_0;uniform highp sampler2D u_shadowmap_1;
#else
uniform sampler2D u_shadowmap_0;uniform sampler2D u_shadowmap_1;
#endif
uniform float u_shadow_intensity;uniform float u_shadow_map_resolution;uniform float u_shadow_texel_size;uniform highp vec3 u_shadow_normal_offset;uniform vec2 u_fade_range;uniform mediump vec3 u_shadow_direction;uniform highp vec3 u_shadow_bias;highp float shadow_sample_1(highp vec2 uv,highp float compare) {highp float shadow_depth;
#ifdef DEPTH_TEXTURE
shadow_depth=texture(u_shadowmap_1,uv).r;
#else
shadow_depth=unpack_depth(texture(u_shadowmap_1,uv))*0.5+0.5;
#endif
return step(shadow_depth,compare);}highp float shadow_sample_0(highp vec2 uv,highp float compare) {highp float shadow_depth;
#ifdef DEPTH_TEXTURE
shadow_depth=texture(u_shadowmap_0,uv).r;
#else
shadow_depth=unpack_depth(texture(u_shadowmap_0,uv))*0.5+0.5;
#endif
return step(shadow_depth,compare);}float shadow_occlusion_1(highp vec4 pos,highp float bias) {highp vec2 uv=pos.xy;return shadow_sample_1(uv,pos.z-bias);}float shadow_occlusion_0(highp vec4 pos,highp float bias) {highp float compare0=pos.z-bias;
#ifdef NATIVE
highp vec2 uv=pos.xy;highp vec4 samples=textureGather(u_shadowmap_0,uv,0);lowp vec4 stepSamples=step(samples,vec4(compare0));
#else
highp vec2 uv00=pos.xy-vec2(0.5*u_shadow_texel_size);highp vec2 uv10=uv00+vec2(u_shadow_texel_size,0.0);highp vec2 uv01=uv00+vec2(0.0,u_shadow_texel_size);highp vec2 uv11=uv01+vec2(u_shadow_texel_size,0.0);lowp vec4 stepSamples=vec4(
shadow_sample_0(uv01,compare0),shadow_sample_0(uv11,compare0),shadow_sample_0(uv10,compare0),shadow_sample_0(uv00,compare0)
);
#endif
vec2 f=fract(pos.xy*u_shadow_map_resolution-vec2(0.5));lowp vec2 lerpx=mix(stepSamples.wx,stepSamples.zy,f.xx);return mix(lerpx.x,lerpx.y,f.y);}float shadow_occlusion(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth,highp float bias) {
#ifdef SHADOWS_SINGLE_CASCADE
light_view_pos0.xyz=light_view_pos0.xyz/light_view_pos0.w*0.5+0.5;return shadow_occlusion_0(light_view_pos0,bias);
#else
light_view_pos0.xyz/=light_view_pos0.w;light_view_pos1.xyz/=light_view_pos1.w;vec4 uv=vec4(light_view_pos0.xy,light_view_pos1.xy);vec4 abs_bounds=abs(uv);if (abs_bounds.x < 1.0 && abs_bounds.y < 1.0) {light_view_pos0.xyz=light_view_pos0.xyz*0.5+0.5;return shadow_occlusion_0(light_view_pos0,bias);}if (abs_bounds.z >=1.0 || abs_bounds.w >=1.0) {return 0.0;}light_view_pos1.xyz=light_view_pos1.xyz*0.5+0.5;float occlusion1=shadow_occlusion_1(light_view_pos1,bias);return mix(occlusion1,0.0,smoothstep(u_fade_range.x,u_fade_range.y,view_depth));
#endif
}highp float calculate_shadow_bias(float NDotL) {
#ifdef NORMAL_OFFSET
return 0.5*u_shadow_bias.x;
#else
return 0.5*(u_shadow_bias.x+clamp(u_shadow_bias.y*tan(acos(NDotL)),0.0,u_shadow_bias.z));
#endif
}float shadowed_light_factor_normal(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float NDotL=dot(N,u_shadow_direction);float bias=calculate_shadow_bias(NDotL);float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}float shadowed_light_factor_normal_opacity(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth,float shadow_opacity) {float NDotL=dot(N,u_shadow_direction);float bias=calculate_shadow_bias(NDotL);float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias)*shadow_opacity;return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}float shadowed_light_factor_normal_unbiased(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float NDotL=dot(N,u_shadow_direction);float bias=0.0;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}float shadowed_light_factor(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float bias=0.0;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return 1.0-(u_shadow_intensity*occlusion);}float shadow_occlusion(float ndotl,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float bias=calculate_shadow_bias(ndotl);return shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);}
#endif`;const Z0=[];Ac(Fw,Z0),Ac(hy,Z0),Ac(dy,Z0);const Pp={"_prelude_fog.vertex.glsl":$w,"_prelude_terrain.vertex.glsl":Nw,"_prelude_shadow.vertex.glsl":Uw,"_prelude_fog.fragment.glsl":Vw,"_prelude_shadow.fragment.glsl":kp,"_prelude_lighting.glsl":`
#ifdef LIGHTING_3D_MODE
uniform mediump vec3 u_lighting_ambient_color;uniform mediump vec3 u_lighting_directional_dir;uniform mediump vec3 u_lighting_directional_color;uniform mediump vec3 u_ground_radiance;float calculate_ambient_directional_factor(vec3 normal) {float NdotL=dot(normal,u_lighting_directional_dir);const float factor_reduction_max=0.3;float dir_luminance=dot(u_lighting_directional_color,vec3(0.2126,0.7152,0.0722));float directional_factor_min=1.0-factor_reduction_max*min(dir_luminance,1.0);float ambient_directional_factor=mix(directional_factor_min,1.0,min((NdotL+1.0),1.0));const float vertical_factor_min=0.92;float vertical_factor=mix(vertical_factor_min,1.0,normal.z*0.5+0.5);return vertical_factor*ambient_directional_factor;}vec3 linearProduct(vec3 srgbIn,vec3 k) {return srgbIn*pow(k,vec3(1./2.2));}vec3 apply_lighting(vec3 color,vec3 normal,float dir_factor) {float ambient_directional_factor=calculate_ambient_directional_factor(normal);vec3 ambient_contrib=ambient_directional_factor*u_lighting_ambient_color;vec3 directional_contrib=u_lighting_directional_color*dir_factor;return linearProduct(color,ambient_contrib+directional_contrib);}vec4 apply_lighting(vec4 color,vec3 normal,float dir_factor) {return vec4(apply_lighting(color.rgb,normal,dir_factor),color.a);}vec3 apply_lighting(vec3 color,vec3 normal) {float dir_factor=max(dot(normal,u_lighting_directional_dir),0.0);return apply_lighting(color.rgb,normal,dir_factor);}vec4 apply_lighting(vec4 color,vec3 normal) {float dir_factor=max(dot(normal,u_lighting_directional_dir),0.0);return vec4(apply_lighting(color.rgb,normal,dir_factor),color.a);}vec3 apply_lighting_ground(vec3 color) {return color*u_ground_radiance;}vec4 apply_lighting_ground(vec4 color) {return vec4(apply_lighting_ground(color.rgb),color.a);}float calculate_NdotL(vec3 normal) {const float ext=0.70710678118;return (clamp(dot(normal,u_lighting_directional_dir),-ext,1.0)+ext)/(1.0+ext);}vec4 apply_lighting_with_emission_ground(vec4 color,float emissive_strength) {return mix(apply_lighting_ground(color),color,emissive_strength);}vec3 compute_flood_lighting(vec3 flood_light_color,float fully_occluded_factor,float occlusion,vec3 ground_shadow_factor) {vec3 fully_occluded_color=flood_light_color*mix(ground_shadow_factor,vec3(1.0),fully_occluded_factor);float occlusion_ramp=smoothstep(0.0,0.2,1.0-occlusion);return mix(fully_occluded_color,flood_light_color,occlusion_ramp);}vec3 compute_emissive_draped(vec3 unlit_color,float fully_occluded_factor,float occlusion,vec3 ground_shadow_factor) {vec3 fully_occluded_color=unlit_color*mix(ground_shadow_factor,vec3(1.0),fully_occluded_factor);return mix(fully_occluded_color,unlit_color,1.0-occlusion);}
#endif//LIGHTING_3D_MODE`,"_prelude_raster_array.glsl":Hw,"_prelude_raster_particle.glsl":fy},Vh={};di("",Nw),di(Vw,$w),di(kp,Uw),di(Hw,""),di(fy,"");const Lp=di(dy,hy),X0=Fw;var Ec={background:di(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
in vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_lighting.glsl"
in vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform mediump vec4 u_color;out vec4 v_color;uniform float u_emissive_strength;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting_with_emission_ground(u_color,u_emissive_strength);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:di(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform float u_emissive_strength;uniform sampler2D u_image;in highp vec2 v_pos;void main() {highp vec2 imagecoord=mod(v_pos,1.0);highp vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=textureLodCustom(u_image,pos,v_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec2 u_pattern_units_to_pixels;in vec2 a_pos;out highp vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_pattern_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:di(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
uniform float u_emissive_strength;void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float blur_positive=blur < 0.0 ? 0.0 : 1.0;lowp float antialiasblur=v_data.z;float extrude_length=length(extrude)+antialiasblur*(1.0-blur_positive);float antialiased_blur=-max(abs(blur),antialiasblur);float opacity_t=smoothstep((1.0-blur_positive)*antialiased_blur,blur_positive*antialiased_blur,extrude_length-1.0)-smoothstep(0.0,antialiasblur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
glFragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:di("void main() {glFragColor=vec4(1.0);}","in vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:di(`#include "_prelude_fog.fragment.glsl"
uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);glFragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {glFragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_terrain.vertex.glsl"
#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:di(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));glFragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(0.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,"in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:di("in float v_placed;in float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);glFragColor =mix(red,blue,step(0.5,v_placed))*0.5;glFragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`#include "_prelude_terrain.vertex.glsl"
in vec3 a_pos;in vec2 a_anchor_pos;in vec2 a_extrude;in vec2 a_placed;in vec2 a_shift;in vec2 a_elevation_from_sea;in float a_size_scale;in vec2 a_padding;in float a_auto_z_offset;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;out float v_placed;out float v_notUsed;void main() {float feature_elevation=a_elevation_from_sea.x+a_auto_z_offset;float terrain_elevation=(a_elevation_from_sea.y==1.0 ? 0.0 : elevation(a_anchor_pos));vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*(feature_elevation+terrain_elevation),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:di("in float v_radius;in vec2 v_extrude;in float v_perspective_ratio;in float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);glFragColor=color*alpha*opacity_t;}",`in vec2 a_pos_2f;in float a_radius;in vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;out float v_radius;out vec2 v_extrude;out float v_perspective_ratio;out float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:di("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);glFragColor=mix(u_color,overlay_color,overlay_color.a);}",`#include "_prelude_terrain.vertex.glsl"
in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;
#endif
out vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:di(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
uniform float u_emissive_strength;void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
in vec2 a_pos;
#ifdef ELEVATED_ROADS
in float a_road_z_offset;
#endif
uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp float z_offset
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp float z_offset
#ifdef ELEVATED_ROADS
z_offset+=a_road_z_offset;
#endif
float hidden=float(opacity==0.0);gl_Position=mix(u_matrix*vec4(a_pos,z_offset,1),AWAY,hidden);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:di(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
in highp vec2 v_pos;uniform float u_emissive_strength;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
in vec2 a_pos;
#ifdef ELEVATED_ROADS
in float a_road_z_offset;
#endif
uniform mat4 u_matrix;uniform vec2 u_world;out highp vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp float z_offset
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp float z_offset
#ifdef ELEVATED_ROADS
z_offset+=a_road_z_offset;
#endif
float hidden=float(opacity==0.0);gl_Position=mix(u_matrix*vec4(a_pos,z_offset,1),AWAY,hidden);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:di(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_emissive_strength;in highp vec2 v_pos;in highp vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;highp vec2 imagecoord=mod(v_pos,1.0);highp vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);highp vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;in vec2 a_pos;
#ifdef ELEVATED_ROADS
in float a_road_z_offset;
#endif
out highp vec2 v_pos;out highp vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define highp float z_offset
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize highp float z_offset
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;
#ifdef ELEVATED_ROADS
z_offset+=a_road_z_offset;
#endif
float hidden=float(opacity==0.0);gl_Position=mix(u_matrix*vec4(a_pos,z_offset,1),AWAY,hidden);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:di(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;in highp vec2 v_pos;uniform float u_emissive_strength;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;highp vec2 imagecoord=mod(v_pos,1.0);highp vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);highp vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;in vec2 a_pos;
#ifdef ELEVATED_ROADS
in float a_road_z_offset;
#endif
out highp vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define highp float z_offset
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize highp float z_offset
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;
#ifdef ELEVATED_ROADS
z_offset+=a_road_z_offset;
#endif
float hidden=float(opacity==0.0);gl_Position=mix(u_matrix*vec4(a_pos,z_offset,1),AWAY,hidden);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:di(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
in vec4 v_color;in vec4 v_flat;
#ifdef RENDER_SHADOWS
in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;
#endif
uniform lowp float u_opacity;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;in vec2 v_ao;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
in vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
in highp vec3 v_normal;
#endif
uniform vec3 u_flood_light_color;uniform highp float u_vertical_scale;uniform float u_flood_light_intensity;uniform vec3 u_ground_shadow_factor;
#if defined(LIGHTING_3D_MODE) && defined(FLOOD_LIGHT)
in float v_flood_radius;in float v_has_floodlight;
#endif
in float v_height;
#pragma mapbox: define highp float emissive_strength
void main() {
#pragma mapbox: initialize highp float emissive_strength
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
vec3 normal=normalize(v_normal);
#endif
float z;vec4 color=v_color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);
#ifdef LIGHTING_3D_MODE
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#else
color=mix(v_color,v_roof_color,z);
#endif
#endif
float h=max(0.0,v_height);float ao_shade=1.0;
#ifdef FAUX_AO
float intensity=u_ao[0];float h_floors=h/(u_ao[1]*u_vertical_scale);float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);ao_shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);ao_shade*=mix(1.0,x_shade*x_shade*x_shade,concave);
#ifdef LIGHTING_3D_MODE
#ifdef FLOOD_LIGHT
color.rgb*=mix(ao_shade,1.0,v_has_floodlight);
#else
color.rgb*=ao_shade;
#endif
#else
color.rgb*=ao_shade;
#endif
#endif
#ifdef LIGHTING_3D_MODE
float flood_radiance=0.0;
#ifdef FLOOD_LIGHT
flood_radiance=(1.0-min(h/v_flood_radius,1.0))*u_flood_light_intensity*v_has_floodlight;
#endif
#ifdef RENDER_SHADOWS
#ifdef FLOOD_LIGHT
float ndotl_unclamped=dot(normal,u_shadow_direction);float ndotl=max(0.0,ndotl_unclamped);float occlusion=ndotl_unclamped < 0.0 ? 1.0 : shadow_occlusion(ndotl,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);vec3 litColor=apply_lighting(color.rgb,normal,(1.0-u_shadow_intensity*occlusion)*ndotl);vec3 floodLitColor=compute_flood_lighting(u_flood_light_color*u_opacity,1.0-u_shadow_intensity,occlusion,u_ground_shadow_factor);color.rgb=mix(litColor,floodLitColor,flood_radiance);
#else
float shadowed_lighting_factor;
#ifdef RENDER_CUTOFF
shadowed_lighting_factor=shadowed_light_factor_normal_opacity(normal,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w,v_cutoff_opacity);if (v_cutoff_opacity==0.0) {discard;}
#else
shadowed_lighting_factor=shadowed_light_factor_normal(normal,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);
#endif
color.rgb=apply_lighting(color.rgb,normal,shadowed_lighting_factor);
#endif
#else
color.rgb=apply_lighting(color.rgb,normal);
#ifdef FLOOD_LIGHT
color.rgb=mix(color.rgb,u_flood_light_color*u_opacity,flood_radiance);
#endif
#endif
color.rgb=mix(color.rgb,v_flat.rgb,emissive_strength);color*=u_opacity;
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos,h));
#endif
#ifdef INDICATOR_CUTOUT
color=applyCutout(color);
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
#include "_prelude_lighting.glsl"
uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;uniform float u_width_scale;in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#ifdef RENDER_WALL_MODE
in vec3 a_join_normal_inside;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
uniform highp float u_vertical_scale;out vec4 v_color;out vec4 v_flat;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
out vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
out highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;out vec2 v_ao;
#endif
#if defined(LIGHTING_3D_MODE) && defined(FLOOD_LIGHT)
out float v_flood_radius;out float v_has_floodlight;
#endif
out float v_height;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
#pragma mapbox: define highp float flood_light_wall_radius
#pragma mapbox: define highp float line_width
#pragma mapbox: define highp float emissive_strength
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize highp float flood_light_wall_radius
#pragma mapbox: initialize highp float line_width
#pragma mapbox: initialize highp float emissive_strength
base*=u_vertical_scale;height*=u_vertical_scale;vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
v_normal=normal;
#endif
base=max(0.0,base);float attr_height=height;height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele=0.0;vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float cutoff=1.0;vec3 scaled_pos=pos;
#ifdef RENDER_CUTOFF
vec3 centroid_random=vec3(centroid_pos.xy,centroid_pos.x+centroid_pos.y+1.0);vec3 ground_pos=centroid_pos.x==0.0 ? pos.xyz : (centroid_random/8.0);vec4 ground=u_matrix*vec4(ground_pos.xy,ele,1.0);cutoff=cutoff_opacity(u_cutoff_params,ground.z);if (centroid_pos.y !=0.0 && centroid_pos.x !=0.0) {vec3 g=floor(ground_pos);vec3 mod_=centroid_random-g*8.0;float seed=min(1.0,0.1*(min(3.5,max(mod_.x+mod_.y,0.2*attr_height))*0.35+mod_.z));if (cutoff < 0.8-seed) {cutoff=0.0;}}float cutoff_scale=cutoff;v_cutoff_opacity=cutoff;scaled_pos.z=mix(c_ele,h,cutoff_scale);
#endif
float hidden=float((centroid_pos.x==0.0 && centroid_pos.y==1.0) || (cutoff==0.0 && centroid_pos.x !=0.0) || (color.a==0.0));
#ifdef RENDER_WALL_MODE
vec2 wall_offset=u_width_scale*line_width*(a_join_normal_inside.xy/EXTENT);scaled_pos.xy+=(1.0-a_join_normal_inside.z)*wall_offset*0.5;scaled_pos.xy-=a_join_normal_inside.z*wall_offset*0.5;
#endif
gl_Position=mix(u_matrix*vec4(scaled_pos,1),AWAY,hidden);h=h-ele;v_height=h;
#ifdef RENDER_SHADOWS
vec3 shd_pos0=pos;vec3 shd_pos1=pos;
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(normal);shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifndef LIGHTING_3D_MODE
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);if (normal.y !=0.0) {float r=0.84;r=mix(0.7,0.98,1.0-u_lightintensity);NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#endif
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec2(mix(concave,-concave,start),y_ground);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
#ifdef FLOOD_LIGHT
float is_wall=1.0-float(t > 0.0 && top_up_ny.y > 0.0);v_has_floodlight=float(flood_light_wall_radius > 0.0 && is_wall > 0.0);v_flood_radius=flood_light_wall_radius*u_vertical_scale;
#endif
v_color=vec4(color.rgb,1.0);v_flat=vec4(linearProduct(color.rgb,vec3(calculate_NdotL(normal))),1.0);
#else
v_color=vec4(0.0,0.0,0.0,1.0);v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color=vec4(0.0,0.0,0.0,1.0);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionDepth:di(`in highp float v_depth;void main() {
#ifndef DEPTH_TEXTURE
glFragColor=pack_depth(v_depth);
#endif
}`,`#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;uniform float u_edge_radius;uniform float u_width_scale;uniform float u_vertical_scale;in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#ifdef RENDER_WALL_MODE
in vec3 a_join_normal_inside;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp float line_width
#pragma mapbox: define highp vec4 color
out highp float v_depth;void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp float line_width
#pragma mapbox: initialize highp vec4 color
base*=u_vertical_scale;height*=u_vertical_scale;vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;float ele=elevation(pos_nx.xy);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base);pos=vec3(pos_nx.xy,h);
#else
pos=vec3(pos_nx.xy,t > 0.0 ? height : base);
#endif
#ifdef RENDER_WALL_MODE
vec2 wall_offset=u_width_scale*line_width*(a_join_normal_inside.xy/EXTENT);pos.xy+=(1.0-a_join_normal_inside.z)*wall_offset*0.5;pos.xy-=a_join_normal_inside.z*wall_offset*0.5;
#endif
float hidden=float((centroid_pos.x==0.0 && centroid_pos.y==1.0) || (color.a==0.0));gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);v_depth=gl_Position.z/gl_Position.w;}`),fillExtrusionPattern:di(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;in vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
in vec3 v_normal;
#endif
in highp vec2 v_pos;in vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define highp float pixel_ratio
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize highp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;highp vec2 imagecoord=mod(v_pos,1.0);highp vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);highp vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,normalize(v_normal))*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef INDICATOR_CUTOUT
out_color=applyCutout(out_color);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#include "_prelude_lighting.glsl"
uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_width_scale;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#ifdef RENDER_WALL_MODE
in vec3 a_join_normal_inside;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
out highp vec2 v_pos;out vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;out vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
out vec3 v_normal;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define highp float pixel_ratio
#pragma mapbox: define highp float line_width
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize highp float pixel_ratio
#pragma mapbox: initialize highp float line_width
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
#ifdef RENDER_WALL_MODE
vec2 wall_offset=u_width_scale*line_width*(a_join_normal_inside.xy/EXTENT);p.xy+=(1.0-a_join_normal_inside.z)*wall_offset*0.5;p.xy-=a_join_normal_inside.z*wall_offset*0.5;
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_normal=normal;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),groundShadow:di(`#include "_prelude_shadow.fragment.glsl"
precision highp float;uniform vec3 u_ground_shadow_factor;in vec4 v_pos_light_view_0;in vec4 v_pos_light_view_1;
#ifdef FOG
in float v_fog_opacity;
#endif
void main() {float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);vec3 shadow=mix(u_ground_shadow_factor,vec3(1.0),light);
#ifdef RENDER_CUTOFF
shadow=mix(vec3(1.0),shadow,cutoff_opacity(u_cutoff_params,1.0/gl_FragCoord.w));
#endif
#ifdef FOG
shadow=mix(shadow,vec3(1.0),v_fog_opacity);
#endif
#ifdef INDICATOR_CUTOUT
shadow=mix(shadow,vec3(1.0),1.0-applyCutout(vec4(1.0)).r);
#endif
glFragColor=vec4(shadow,1.0);}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;in vec2 a_pos;out vec4 v_pos_light_view_0;out vec4 v_pos_light_view_1;
#ifdef FOG
out float v_fog_opacity;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0.0,1.0);v_pos_light_view_0=u_light_matrix_0*vec4(a_pos,0.0,1.0);v_pos_light_view_1=u_light_matrix_1*vec4(a_pos,0.0,1.0);
#ifdef FOG
v_fog_pos=fog_position(a_pos);v_fog_opacity=fog(v_fog_pos);
#endif
}`),fillExtrusionGroundEffect:di(`uniform highp float u_ao_pass;uniform highp float u_opacity;uniform highp float u_flood_light_intensity;uniform highp vec3 u_flood_light_color;uniform highp float u_attenuation;uniform sampler2D u_fb;uniform float u_fb_size;
#ifdef SDF_SUBPASS
in highp vec2 v_pos;in highp vec4 v_line_segment;in highp float v_flood_light_radius_tile;in highp vec2 v_ao;float line_df(highp vec2 a,highp vec2 b,highp vec2 p) {highp vec2 ba=b-a;highp vec2 pa=p-a;highp float r=clamp(dot(pa,ba)/dot(ba,ba),0.0,1.0);return length(pa-r*ba);}
#ifdef FOG
in highp float v_fog;
#endif
#endif
void main() {
#ifdef CLEAR_SUBPASS
vec4 color=vec4(1.0);
#ifdef CLEAR_FROM_TEXTURE
color=texture(u_fb,gl_FragCoord.xy/vec2(u_fb_size));
#endif
glFragColor=color;
#else
#ifdef SDF_SUBPASS
highp float d=line_df(v_line_segment.xy,v_line_segment.zw,v_pos);highp float effect_radius=mix(v_flood_light_radius_tile,v_ao.y,u_ao_pass);d/=effect_radius;d=min(d,1.0);d=1.0-pow(1.0-d,u_attenuation);highp float effect_intensity=mix(u_flood_light_intensity,v_ao.x,u_ao_pass);highp float fog=1.0;
#ifdef FOG
fog=v_fog;
#endif
#ifdef RENDER_CUTOFF
fog*=v_cutoff_opacity;
#endif
glFragColor=vec4(vec3(0.0),mix(1.0,d,effect_intensity*u_opacity*fog));
#else
vec4 color=mix(vec4(u_flood_light_color,1.0),vec4(vec3(0.0),1.0),u_ao_pass);
#ifdef OVERDRAW_INSPECTOR
color=vec4(1.0);
#endif
glFragColor=color;
#endif
HANDLE_WIREFRAME_DEBUG;
#endif
}`,`#include "_prelude_fog.vertex.glsl"
in highp vec4 a_pos_end;in highp float a_angular_offset_factor;in highp float a_hidden_by_landmark;
#ifdef SDF_SUBPASS
out highp vec2 v_pos;out highp vec4 v_line_segment;out highp float v_flood_light_radius_tile;out highp vec2 v_ao;
#ifdef FOG
out highp float v_fog;
#endif
#endif
uniform highp float u_flood_light_intensity;uniform highp mat4 u_matrix;uniform highp float u_ao_pass;uniform highp float u_meter_to_tile;uniform highp float u_edge_radius;uniform highp float u_dynamic_offset;uniform highp vec2 u_ao;
#pragma mapbox: define highp float flood_light_ground_radius
const float TANGENT_CUTOFF=4.0;const float NORM=32767.0;void main() {
#pragma mapbox: initialize highp float flood_light_ground_radius
vec2 p=a_pos_end.xy;vec2 q=floor(a_pos_end.zw*0.5);vec2 start_bottom=a_pos_end.zw-q*2.0;float fl_ground_radius=flood_light_ground_radius;fl_ground_radius=abs(flood_light_ground_radius);float direction=flood_light_ground_radius < 0.0 ?-1.0 : 1.0;float flood_radius_tile=fl_ground_radius*u_meter_to_tile;vec2 v=normalize(q-p);float ao_radius=u_ao.y/3.5;float effect_radius=mix(flood_radius_tile,ao_radius,u_ao_pass)+u_edge_radius;float angular_offset_factor=a_angular_offset_factor/NORM*TANGENT_CUTOFF;float angular_offset=direction*angular_offset_factor*effect_radius;float top=1.0-start_bottom.y;float side=(0.5-start_bottom.x)*2.0;vec2 extrusion_parallel=v*side*mix(u_dynamic_offset,angular_offset,top);vec2 perp=vec2(v.y,-v.x);vec2 extrusion_perp=direction*perp*effect_radius*top;vec3 pos=vec3(mix(q,p,start_bottom.x),0.0);pos.xy+=extrusion_parallel+extrusion_perp;
#ifdef SDF_SUBPASS
v_pos=pos.xy;v_line_segment=vec4(p,q)+perp.xyxy*u_edge_radius;v_flood_light_radius_tile=flood_radius_tile;v_ao=vec2(u_ao.x,ao_radius);
#ifdef FOG
v_fog_pos=fog_position(pos);v_fog=1.0-fog(v_fog_pos);
#endif
#endif
float hidden_by_landmark=0.0;
#ifdef HAS_CENTROID
hidden_by_landmark=a_hidden_by_landmark;
#endif
float isFloodlit=float(fl_ground_radius > 0.0 && u_flood_light_intensity > 0.0);float hidden=mix(1.0-isFloodlit,isFloodlit,u_ao_pass);hidden+=hidden_by_landmark;gl_Position=mix(u_matrix*vec4(pos,1.0),AWAY,float(hidden > 0.0));
#ifdef RENDER_CUTOFF
v_cutoff_opacity=cutoff_opacity(u_cutoff_params,gl_Position.z);
#endif
}`),hillshadePrepare:di(`precision highp float;uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;float getElevation(vec2 coord) {return texture(u_image,coord).r/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));glFragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:di(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;uniform float u_emissive_strength;void main() {vec4 pixel=texture(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);glFragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
glFragColor=apply_lighting_with_emission_ground(glFragColor,u_emissive_strength);
#endif
#ifdef FOG
glFragColor=fog_dither(fog_apply_premultiplied(glFragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:di(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;uniform highp vec2 u_trim_fade_range;uniform lowp vec4 u_trim_color;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;in vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}uniform float u_emissive_strength;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float border_width
#pragma mapbox: define lowp vec4 border_color
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float border_width
#pragma mapbox: initialize lowp vec4 border_color
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture(u_dash_image,v_tex).r;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
float trim_alpha=1.0;
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {highp float start_transition=max(0.0,min(1.0,(line_progress-trim_start)/max(u_trim_fade_range[0],1.0e-9)));highp float end_transition=max(0.0,min(1.0,(trim_end-line_progress)/max(u_trim_fade_range[1],1.0e-9)));highp float transition_factor=min(start_transition,end_transition);out_color=mix(out_color,u_trim_color,transition_factor);trim_alpha=out_color.a;}
#endif
if (u_alpha_discard_threshold !=0.0) {if (alpha < u_alpha_discard_threshold) {discard;}}
#ifdef RENDER_LINE_BORDER
float edgeBlur=(border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);if (border_color.a==0.0) {float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}} else {out_color.rgb=mix(border_color.rgb*border_color.a*trim_alpha,out_color.rgb,smoothAlpha);}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
out_color*=(alpha*opacity);
#ifdef INDICATOR_CUTOUT
out_color=applyCutout(out_color);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#define EXTRUDE_SCALE 0.015873016
in vec2 a_pos_normal;in vec4 a_data;
#if defined(ELEVATED) || defined(ELEVATED_ROADS)
in float a_z_offset;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
in highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
in float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;out vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float border_width
#pragma mapbox: define lowp vec4 border_color
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float border_width
#pragma mapbox: initialize lowp vec4 border_color
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);float hidden=float(opacity==0.0);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);
#ifdef ELEVATED_ROADS
gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,a_z_offset+0.01*step(0.01,a_z_offset),1.0)+projected_extrude;
#else
#ifdef ELEVATED
vec2 offsetTile=offset2*u_pixels_to_tile_units;vec2 halfCellProgress=normal.yx*32.0;float ele0=elevation(pos);float ele_line=max(ele0,max(elevation(pos+halfCellProgress),elevation(pos-halfCellProgress)));float ele1=elevation(pos+offsetTile);float ele2=elevation(pos-offsetTile);float ele_max=max(ele_line,0.5*(ele1+ele2));float ele=ele_max-ele0+ele1+a_z_offset ;gl_Position=u_matrix*vec4(pos+offsetTile,ele,1.0)+projected_extrude;float z=clamp(gl_Position.z/gl_Position.w,0.5,1.0);float zbias=max(0.00005,(pow(z,0.8)-z)*0.1*u_exaggeration);gl_Position.z-=(gl_Position.w*zbias);gl_Position=mix(gl_Position,AWAY,hidden);
#else
gl_Position=mix(u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude,AWAY,hidden);
#endif
#endif
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:di(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform highp float u_device_pixel_ratio;uniform highp float u_alpha_discard_threshold;uniform highp vec2 u_texsize;uniform highp float u_tile_units_to_pixels;uniform highp vec2 u_trim_offset;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in highp float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef RENDER_LINE_TRIM_OFFSET
in highp vec4 v_uv;
#endif
#ifdef LINE_JOIN_NONE
in vec2 v_pattern_data;
#endif
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define mediump float pixel_ratio
#pragma mapbox: define mediump float blur
#pragma mapbox: define mediump float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize mediump float pixel_ratio
#pragma mapbox: initialize mediump float blur
#pragma mapbox: initialize mediump float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;float pattern_size=display_size.x/u_tile_units_to_pixels;float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);highp float pattern_x=v_linesofar/pattern_size*aspect;highp float x=mod(pattern_x,1.0);highp float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;highp vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));highp vec2 lod_pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(pattern_x,y));vec4 color=textureLodCustom(u_image,pos,lod_pos);
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {color=vec4(0,0,0,0);}}
#endif
#ifdef LINE_JOIN_NONE
float pattern_len=pattern_size/aspect;float segment_phase=pattern_len-mod(v_linesofar-v_pattern_data.x+pattern_len,pattern_len);float visible_start=segment_phase-step(pattern_len*0.5,segment_phase)*pattern_len;float visible_end=floor((v_pattern_data.y-segment_phase)/pattern_len)*pattern_len+segment_phase;visible_end+=step(pattern_len*0.5,v_pattern_data.y-visible_end)*pattern_len;if (v_pattern_data.x < visible_start || v_pattern_data.x >=visible_end) {color=vec4(0.0);}
#endif
#ifdef LIGHTING_3D_MODE
color=apply_lighting_ground(color);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
color*=(alpha*opacity);if (u_alpha_discard_threshold !=0.0) {if (color.a < u_alpha_discard_threshold) {discard;}}
#ifdef INDICATOR_CUTOUT
color=applyCutout(color);
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;
#if defined(ELEVATED) || defined(ELEVATED_ROADS)
in float a_z_offset;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
in highp vec4 a_packed;
#endif
in highp float a_linesofar;
#ifdef LINE_JOIN_NONE
in highp vec3 a_pattern_data;out vec2 v_pattern_data;
#endif
uniform mat4 u_matrix;uniform float u_tile_units_to_pixels;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out highp float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef RENDER_LINE_TRIM_OFFSET
out highp vec4 v_uv;
#endif
#pragma mapbox: define mediump float blur
#pragma mapbox: define mediump float opacity
#pragma mapbox: define mediump float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define mediump float floorwidth
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define mediump float pixel_ratio
void main() {
#pragma mapbox: initialize mediump float blur
#pragma mapbox: initialize mediump float opacity
#pragma mapbox: initialize mediump float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize mediump float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize mediump float pixel_ratio
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);vec2 dist=outset*a_extrude*scale;float u=0.5*a_direction;float t=1.0-abs(u);vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float hidden=float(opacity==0.0);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);
#ifdef ELEVATED_ROADS
gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,a_z_offset+0.01*step(0.01,a_z_offset),1.0)+projected_extrude;
#else
#ifdef ELEVATED
vec2 offsetTile=offset2*u_pixels_to_tile_units;vec2 halfCellProgress=normal.yx*32.0;float ele0=elevation(pos);float ele_line=max(ele0,max(elevation(pos+halfCellProgress),elevation(pos-halfCellProgress)));float ele1=elevation(pos+offsetTile);float ele2=elevation(pos-offsetTile);float ele_max=max(ele_line,0.5*(ele1+ele2));float ele=ele_max-ele0+ele1+a_z_offset ;gl_Position=u_matrix*vec4(pos+offsetTile,ele,1.0)+projected_extrude;float z=clamp(gl_Position.z/gl_Position.w,0.5,1.0);float zbias=max(0.00005,(pow(z,0.8)-z)*0.1*u_exaggeration);gl_Position.z-=(gl_Position.w*zbias);gl_Position=mix(gl_Position,AWAY,hidden);
#else
gl_Position=mix(u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude,AWAY,hidden);
#endif
#endif
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
float a_uv_x=a_packed[0];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef LINE_JOIN_NONE
v_width=floorwidth+ANTIALIASING;mediump float pixels_to_tile_units=1.0/u_tile_units_to_pixels;mediump float pixel_ratio_inverse=1.0/pixel_ratio;mediump float aspect=v_width/((pattern.w-pattern.y)*pixel_ratio_inverse);highp float subt_multiple=(pattern.z-pattern.x)*pixel_ratio_inverse*pixels_to_tile_units*aspect*32.0;highp float subt=floor(a_pattern_data.z/subt_multiple)*subt_multiple;float offset_sign=(fract(a_pattern_data.x)-0.5)*4.0;float line_progress_offset=offset_sign*v_width*0.5*pixels_to_tile_units;v_linesofar=(a_pattern_data.z-subt)+a_linesofar+line_progress_offset;v_pattern_data=vec2(a_pattern_data.x+line_progress_offset,a_pattern_data.y);
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:di(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_raster_array.glsl"
uniform float u_fade_t;uniform float u_opacity;uniform highp float u_raster_elevation;uniform highp float u_zoom_transition;in vec2 v_pos0;in vec2 v_pos1;in float v_depth;
#ifdef PROJECTION_GLOBE_VIEW
in float v_split_fade;
#endif
uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;uniform float u_emissive_strength;
#ifndef RASTER_ARRAY
uniform sampler2D u_image0;uniform sampler2D u_image1;
#endif
#ifdef RASTER_COLOR
uniform sampler2D u_color_ramp;uniform highp vec4 u_colorization_mix;uniform highp float u_colorization_offset;uniform vec2 u_texture_res;
#endif
void main() {vec4 color0,color1,color;vec2 value;
#ifdef RASTER_COLOR
#ifdef RASTER_ARRAY
#ifdef RASTER_ARRAY_LINEAR
value=mix(
raTexture2D_image0_linear(v_pos0,u_texture_res,u_colorization_mix,u_colorization_offset),raTexture2D_image1_linear(v_pos1,u_texture_res,u_colorization_mix,u_colorization_offset),u_fade_t
);
#else
value=mix(
raTexture2D_image0_nearest(v_pos0,u_texture_res,u_colorization_mix,u_colorization_offset),raTexture2D_image1_nearest(v_pos1,u_texture_res,u_colorization_mix,u_colorization_offset),u_fade_t
);
#endif
if (value.y > 0.0) value.x/=value.y;
#else
color=mix(texture(u_image0,v_pos0),texture(u_image1,v_pos1),u_fade_t);value=vec2(u_colorization_offset+dot(color.rgb,u_colorization_mix.rgb),color.a);
#endif
color=texture(u_color_ramp,vec2(value.x,0.5));if (color.a > 0.0) color.rgb/=color.a;color.a*=value.y;
#else
color0=texture(u_image0,v_pos0);color1=texture(u_image1,v_pos1);if (color0.a > 0.0) color0.rgb/=color0.a;if (color1.a > 0.0) color1.rgb/=color1.a;color=mix(color0,color1,u_fade_t);
#endif
color.a*=u_opacity;
#ifdef GLOBE_POLES
color.a*=1.0-smoothstep(0.0,0.05,u_zoom_transition);
#endif
vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(vec4(out_color,1.0),u_emissive_strength).rgb;
#endif
#ifdef FOG
highp float fog_limit_high_meters=1000000.0;highp float fog_limit_low_meters=600000.0;float fog_limit=1.0-smoothstep(fog_limit_low_meters,fog_limit_high_meters,u_raster_elevation);out_color=fog_dither(fog_apply(out_color,v_fog_pos,fog_limit));
#endif
glFragColor=vec4(out_color*color.a,color.a);
#ifdef PROJECTION_GLOBE_VIEW
glFragColor*=mix(1.0,1.0-smoothstep(0.0,0.05,u_zoom_transition),smoothstep(0.8,0.9,v_split_fade));
#endif
#ifdef RENDER_CUTOFF
glFragColor=glFragColor*cutoff_opacity(u_cutoff_params,v_depth);
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform mat3 u_grid_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;uniform vec2 u_texture_offset;uniform float u_raster_elevation;uniform float u_zoom_transition;uniform vec2 u_merc_center;
#define GLOBE_UPSCALE GLOBE_RADIUS/6371008.8
#ifdef GLOBE_POLES
in vec3 a_globe_pos;in vec2 a_uv;
#else
in vec2 a_pos;in vec2 a_texture_pos;
#endif
out vec2 v_pos0;out vec2 v_pos1;out float v_depth;
#ifdef PROJECTION_GLOBE_VIEW
out float v_split_fade;
#endif
void main() {vec2 uv;
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;gl_Position=u_matrix*u_globe_matrix*vec4(globe_pos   ,1.0);uv=a_uv;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(a_globe_pos,1.0)).xyz);
#endif
#else
float w=1.0+dot(a_texture_pos,u_perspective_transform);uv=a_texture_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);vec3 globe_pos=latLngToECEF(latLng.xy);globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);float mercatorY=mercatorYfromLat(latLng[0]);float mercatorX=mercatorXfromLng(latLng[1]);    
v_split_fade=0.0;if (u_zoom_transition > 0.0) {vec2 merc_pos=vec2(mercatorX,mercatorY);merc_world_pos=vec4(merc_pos,u_raster_elevation,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;float opposite_merc_center=mod(u_merc_center.x+0.5,1.0);float dist_from_poles=(abs(mercatorY-0.5)*2.0);float range=0.1;v_split_fade=abs(opposite_merc_center-mercatorX);v_split_fade=clamp(1.0-v_split_fade,0.0,1.0);v_split_fade=max(smoothstep(1.0-range,1.0,dist_from_poles),max(smoothstep(1.0-range,1.0,v_split_fade),smoothstep(1.0-range,1.0,1.0-v_split_fade)));}float tiles=u_grid_matrix[0][2];if (tiles > 0.0) {float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];float uvY=mercatorY*tiles-idy;float uvX=mercatorX*tiles-idx;uv=vec2(uvX,uvY);}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition)*w,w);gl_Position=u_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
#else
gl_Position=u_matrix*vec4(a_pos*w,u_raster_elevation*w,w);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
#endif
#endif
v_pos0=uv;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;v_pos0=u_texture_offset.x+u_texture_offset.y*v_pos0;v_pos1=u_texture_offset.x+u_texture_offset.y*v_pos1;
#ifdef RENDER_CUTOFF
v_depth=gl_Position.z;
#endif
}`),rasterParticle:di(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform float u_fade_t;uniform float u_opacity;uniform highp float u_raster_elevation;in vec2 v_pos0;in vec2 v_pos1;uniform sampler2D u_image0;uniform sampler2D u_image1;void main() {vec4 color0,color1,color;color0=texture(u_image0,v_pos0);color1=texture(u_image1,v_pos1);if (color0.a > 0.0) color0.rgb/=color0.a;if (color1.a > 0.0) color1.rgb/=color1.a;color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 out_color=color.rgb;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(vec4(out_color,1.0),0.0).rgb;
#endif
#ifdef FOG
highp float fog_limit_high_meters=1000000.0;highp float fog_limit_low_meters=600000.0;float fog_limit=1.0-smoothstep(fog_limit_low_meters,fog_limit_high_meters,u_raster_elevation);out_color=fog_dither(fog_apply(out_color,v_fog_pos,fog_limit));
#endif
glFragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform mat3 u_grid_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_raster_elevation;uniform float u_zoom_transition;uniform vec2 u_merc_center;
#define GLOBE_UPSCALE GLOBE_RADIUS/6371008.8
in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {float w=1.0;vec2 uv;
#ifdef PROJECTION_GLOBE_VIEW
vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float mercatorX=mercatorXfromLng(latLng[1]);float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];float uvX=mercatorX*tiles-idx;float uvY=mercatorY*tiles-idy;uv=vec2(uvX,uvY);vec3 globe_pos=latLngToECEF(latLng.xy);globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {vec2 merc_pos=vec2(mercatorX,mercatorY);merc_world_pos=vec4(merc_pos,u_raster_elevation,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition)*w,w);gl_Position=u_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
#else
uv=a_texture_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*w,u_raster_elevation*w,w);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
#endif
v_pos0=uv;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),rasterParticleDraw:di("uniform sampler2D u_color_ramp;in float v_particle_speed;void main() {glFragColor=texture(u_color_ramp,vec2(v_particle_speed,0.5));}",`#include "_prelude_raster_particle.glsl"
in float a_index;uniform sampler2D u_particle_texture;uniform float u_particle_texture_side_len;uniform vec2 u_tile_offset;out float v_particle_speed;void main() {ivec2 pixel_coord=ivec2(
mod(a_index,u_particle_texture_side_len),a_index/u_particle_texture_side_len);vec4 pixel=texelFetch(u_particle_texture,pixel_coord,0);vec2 pos=unpack_pos_from_rgba(pixel)+u_tile_offset;vec2 tex_coord=fract(pos);vec2 velocity=lookup_velocity(tex_coord);if (velocity==INVALID_VELOCITY) {gl_Position=AWAY;v_particle_speed=0.0;} else {gl_Position=vec4(2.0*pos-1.0,0,1);v_particle_speed=length(velocity);}gl_PointSize=1.0;}`),rasterParticleTexture:di("uniform sampler2D u_texture;uniform float u_opacity;in vec2 v_tex_pos;void main() {vec4 color=texture(u_texture,v_tex_pos);glFragColor=vec4(floor(255.0*color*u_opacity)/255.0);}","in vec2 a_pos;out vec2 v_tex_pos;void main() {vec2 uv=0.5*a_pos+vec2(0.5);v_tex_pos=uv;gl_Position=vec4(a_pos,0.0,1.0);}"),rasterParticleUpdate:di(`#include "_prelude_raster_particle.glsl"
uniform sampler2D u_particle_texture;uniform mediump float u_particle_texture_side_len;uniform mediump float u_speed_factor;uniform highp float u_reset_rate;uniform highp float u_rand_seed;in highp vec2 v_tex_coord;vec2 linearstep(vec2 edge0,vec2 edge1,vec2 x) {return  clamp((x-edge0)/(edge1-edge0),vec2(0),vec2(1));}const highp vec3 rand_constants=vec3(12.9898,78.233,4375.85453);highp float rand(const highp vec2 co) {highp float t=dot(rand_constants.xy,co);return fract(sin(t)*(rand_constants.z+t));}void main() {ivec2 pixel_coord=ivec2(v_tex_coord*u_particle_texture_side_len);highp vec4 pixel=texelFetch(u_particle_texture,pixel_coord,0);highp vec2 pos=unpack_pos_from_rgba(pixel);highp vec2 velocity=lookup_velocity(clamp(pos,0.0,1.0));highp vec2 dp=velocity==INVALID_VELOCITY ? vec2(0) : velocity*u_speed_factor;pos=pos+dp;highp vec2 seed=(pos+v_tex_coord)*u_rand_seed;highp vec2 random_pos=vec2(rand(seed+1.3),rand(seed+2.1));highp vec2 persist_rate=pow(
linearstep(vec2(-u_particle_pos_offset),vec2(0),pos)*linearstep(vec2(1.0+u_particle_pos_offset),vec2(1),pos),vec2(4)
);highp vec2 per_frame_persist=pow(persist_rate,abs(dp)/u_particle_pos_offset);highp float drop_rate=1.0-per_frame_persist.x*per_frame_persist.y;drop_rate=any(greaterThanEqual(abs(pos-0.5),vec2(0.5+u_particle_pos_offset))) ? 1.0 : drop_rate;highp float drop=step(1.0-drop_rate-u_reset_rate,rand(seed));highp vec2 next_pos=mix(pos,random_pos,drop);glFragColor=pack_pos_to_rgba(next_pos);}`,"in vec2 a_pos;out vec2 v_tex_coord;void main() {v_tex_coord=0.5*(a_pos+vec2(1.0));gl_Position=vec4(a_pos,0.0,1.0);}"),symbol:di(`#include "_prelude_lighting.glsl"
#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;uniform bool u_is_halo;
#ifdef ICON_TRANSITION
uniform float u_icon_transition;
#endif
#ifdef COLOR_ADJUSTMENT
uniform mat4 u_color_adj_mat;
#endif
in vec2 v_tex_a;
#ifdef ICON_TRANSITION
in vec2 v_tex_b;
#endif
in float v_draw_halo;in vec3 v_gamma_scale_size_fade_opacity;
#ifdef RENDER_TEXT_AND_SYMBOL
in float is_sdf;in vec2 v_tex_a_icon;
#endif
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
#pragma mapbox: define lowp float emissive_strength
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
#pragma mapbox: initialize lowp float emissive_strength
vec4 out_color;float fade_opacity=v_gamma_scale_size_fade_opacity[2];
#ifdef RENDER_TEXT_AND_SYMBOL
if (is_sdf==ICON) {vec2 tex_icon=v_tex_a_icon;lowp float alpha=opacity*fade_opacity;glFragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
return;}
#endif
#ifdef RENDER_SDF
float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_gamma_scale_size_fade_opacity.x;float size=v_gamma_scale_size_fade_opacity.y;float fontScale=u_is_text ? size/24.0 : size;out_color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;bool draw_halo=v_draw_halo > 0.0;if (draw_halo) {out_color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,v_tex_a).r;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);out_color*=alpha;
#else
#ifdef ICON_TRANSITION
vec4 a=texture(u_texture,v_tex_a)*(1.0-u_icon_transition);vec4 b=texture(u_texture,v_tex_b)*u_icon_transition;out_color=(a+b);
#else
out_color=texture(u_texture,v_tex_a);
#endif
#ifdef COLOR_ADJUSTMENT
out_color=u_color_adj_mat*out_color;
#endif
#endif
out_color*=opacity*fade_opacity;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,emissive_strength);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_terrain.vertex.glsl"
in vec4 a_pos_offset;in vec4 a_tex_size;in vec4 a_pixeloffset;in vec4 a_projected_pos;in float a_fade_opacity;
#ifdef Z_OFFSET
in float a_auto_z_offset;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_globe_anchor;in vec3 a_globe_normal;
#endif
#ifdef ICON_TRANSITION
in vec2 a_texb;
#endif
#ifdef OCCLUSION_QUERIES
in float a_occlusion_query_opacity;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_elevation_from_sea;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;uniform bool u_is_halo;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
out vec2 v_tex_a;
#ifdef ICON_TRANSITION
out vec2 v_tex_b;
#endif
out float v_draw_halo;out vec3 v_gamma_scale_size_fade_opacity;
#ifdef RENDER_TEXT_AND_SYMBOL
out float is_sdf;out vec2 v_tex_a_icon;
#endif
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
#pragma mapbox: define lowp float emissive_strength
#pragma mapbox: define lowp float occlusion_opacity
#pragma mapbox: define lowp float z_offset
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
#pragma mapbox: initialize lowp float emissive_strength
#pragma mapbox: initialize lowp float occlusion_opacity
#pragma mapbox: initialize lowp float z_offset
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;float e=u_elevation_from_sea ? z_offset : z_offset+elevation(tile_anchor);
#ifdef Z_OFFSET
e+=a_auto_z_offset;
#endif
vec3 h=elevationVector(tile_anchor)*e;float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;vec3 world_pos_globe;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos_globe=a_globe_anchor+h;world_pos=mix_globe_mercator(world_pos_globe,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;vec2 a;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);vec4 projected_point_globe=u_matrix*vec4(world_pos_globe,1);a=projected_point_globe.xy/projected_point_globe.w;
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);a=projected_point.xy/projected_point.w;
#endif
vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
#ifdef Z_OFFSET
z+=u_pitch_with_map ? a_auto_z_offset+(u_elevation_from_sea ? z_offset : z_offset) : 0.0;
#else
z+=u_pitch_with_map ? (u_elevation_from_sea ? z_offset : z_offset) : 0.0;
#endif
float occlusion_fade=globe_occlusion_fade;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float out_fade_opacity=interpolated_fade_opacity*projection_transition_fade;
#ifdef DEPTH_OCCLUSION
float depth_occlusion=occlusionFadeMultiSample(projected_point);float depth_occlusion_multplier=mix(occlusion_opacity,1.0,depth_occlusion);out_fade_opacity*=depth_occlusion_multplier;
#endif
#ifdef OCCLUSION_QUERIES
float occludedFadeMultiplier=mix(occlusion_opacity,1.0,a_occlusion_query_opacity);out_fade_opacity*=occludedFadeMultiplier;
#endif
float alpha=opacity*out_fade_opacity;float hidden=float(alpha==0.0 || projected_point.w <=0.0 || occlusion_fade==0.0);
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,hidden);
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,hidden);
#endif
float gamma_scale=gl_Position.w;v_draw_halo=(u_is_halo && float(gl_InstanceID)==0.0) ? 1.0 : 0.0;v_gamma_scale_size_fade_opacity=vec3(gamma_scale,size,out_fade_opacity);v_tex_a=a_tex/u_texsize;
#ifdef RENDER_TEXT_AND_SYMBOL
is_sdf=a_size[0]-2.0*a_size_min;v_tex_a_icon=a_tex/u_texsize_icon;
#endif
#ifdef ICON_TRANSITION
v_tex_b=a_texb/u_texsize;
#endif
}`),terrainRaster:di(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image0;in vec2 v_pos0;
#ifdef FOG
in float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
in vec4 v_pos_light_view_0;in vec4 v_pos_light_view_1;
#endif
uniform vec3 u_ground_shadow_factor;void main() {vec4 image_color=texture(u_image0,v_pos0);vec4 color;
#ifdef LIGHTING_3D_MODE
const vec3 normal=vec3(0.0,0.0,1.0);
#ifdef RENDER_SHADOWS
float cutoffOpacity=1.0;
#ifdef RENDER_CUTOFF
cutoffOpacity=cutoff_opacity(u_cutoff_params,1.0/gl_FragCoord.w);
#endif
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
vec3 unlit_base=image_color.rgb*(1.0-image_color.a);vec3 emissive_base=image_color.rgb*image_color.a;float ndotl=u_shadow_direction.z;float occlusion=ndotl < 0.0 ? 1.0 : shadow_occlusion(v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w,0.0);ndotl=max(0.0,ndotl);vec3 lit=apply_lighting(unlit_base,normal,mix(1.0,(1.0-(u_shadow_intensity*occlusion))*ndotl,cutoffOpacity));vec3 emissive=compute_emissive_draped(emissive_base,1.0-u_shadow_intensity,occlusion,u_ground_shadow_factor);color.rgb=lit+emissive;color.a=1.0;
#else
float lighting_factor=shadowed_light_factor_normal_unbiased(normal,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);color=apply_lighting(image_color,normal,mix(1.0,lighting_factor,cutoffOpacity));
#endif
#else
float lighting_factor=u_lighting_directional_dir.z;color=apply_lighting(image_color,normal,lighting_factor);
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
color.rgb=mix(color.rgb,image_color.rgb,image_color.a);color.a=1.0;
#endif
#endif
#else
color=image_color;
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;uniform float u_skirt_height;in vec2 a_pos;out vec2 v_pos0;
#ifdef FOG
out float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out vec4 v_pos_light_view_0;out vec4 v_pos_light_view_1;out float v_depth;
#endif
void main() {vec3 decomposedPosAndSkirt=decomposeToPosAndSkirt(a_pos);float skirt=decomposedPosAndSkirt.z;vec2 decodedPos=decomposedPosAndSkirt.xy;float elevation=elevation(decodedPos)-skirt*u_skirt_height;v_pos0=decodedPos/8192.0;gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);
#endif
}`),terrainDepth:di("precision highp float;in float v_depth;void main() {glFragColor=pack_depth(v_depth);}",`#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;in vec2 a_pos;out float v_depth;void main() {float elevation=elevation(a_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}`),skybox:di(`#include "_prelude_fog.fragment.glsl"
in lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=texture(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);glFragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,Y0),skyboxGradient:di(`#include "_prelude_fog.fragment.glsl"
in highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,Y0),skyboxCapture:di(`
in highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;precision highp float;
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;glFragColor=vec4(color,1.0);}`,"in highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;out highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:di(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image0;uniform float u_far_z_cutoff;in vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture(u_image0,v_pos0);
#ifdef LIGHTING_3D_MODE
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
raster=apply_lighting_with_emission_ground(raster,raster.a);color=vec4(raster.rgb*antialias,antialias);
#else
raster=apply_lighting_ground(raster);color=vec4(raster.rgb*antialias,raster.a*antialias);
#endif
#else
color=vec4(raster.rgb*antialias,raster.a*antialias);
#endif
#else
color=texture(u_image0,v_pos0);
#ifdef LIGHTING_3D_MODE
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
color=apply_lighting_with_emission_ground(color,color.a);color.a=1.0;
#else
color=apply_lighting_ground(color);
#endif
#endif
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
color*=1.0-step(u_far_z_cutoff,1.0/gl_FragCoord.w);glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;uniform float u_skirt_height;
#ifdef GLOBE_POLES
in vec3 a_globe_pos;in vec2 a_uv;
#else
in vec2 a_pos;
#endif
out vec2 v_pos0;void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;vec3 globe_derived_up_vector=normalize(globe_pos)*u_tile_up_scale;
#ifdef GLOBE_POLES
vec3 up_vector=globe_derived_up_vector;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);globe_pos+=up_vector*height;
#ifndef GLOBE_POLES
globe_pos-=globe_derived_up_vector*u_skirt_height*decomposed_pos_and_skirt.z;
#endif
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height-u_skirt_height*decomposed_pos_and_skirt.z,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:di(`#include "_prelude_fog.fragment.glsl"
uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec4 u_color;uniform vec4 u_high_color;uniform vec4 u_space_color;uniform float u_horizon_angle;in highp vec3 v_ray_dir;in highp vec3 v_horizon_dir;void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {
#ifdef ALPHA_PASS
glFragColor=vec4(0,0,0,0);return;
#else
#ifdef NATIVE
glFragColor=vec4(1,1,1,1);
#else
glFragColor=vec4(0,0,0,1);
#endif
return;
#endif
}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(clamp(dot(dir,horizon_dir),-1.0,1.0)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;highp float closest_point_to_center=length(closest_point-u_globe_pos);highp float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;
#ifdef ALPHA_PASS
float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);glFragColor=vec4(1.0,1.0,1.0,a);
#else
vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c=c2;
#ifndef NATIVE
c=dither(c,gl_FragCoord.xy+u_temporal_offset);
#endif
glFragColor=vec4(c*t,t);
#endif
}`,`in vec3 a_pos;in vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;out highp vec3 v_ray_dir;out highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`),model:di(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform float u_opacity;uniform vec3 u_lightcolor;uniform vec3 u_lightpos;uniform float u_lightintensity;uniform vec4 u_baseColorFactor;uniform vec4 u_emissiveFactor;uniform float u_metallicFactor;uniform float u_roughnessFactor;uniform float u_emissive_strength;in highp vec4 v_position_height;in lowp vec4 v_color_mix;
#ifdef RENDER_SHADOWS
in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in float v_depth_shadows;
#endif
#ifdef OCCLUSION_TEXTURE_TRANSFORM
uniform vec4 u_occlusionTextureTransform;
#endif
#pragma mapbox: define-attribute highp vec3 normal_3f
#pragma mapbox: define-attribute highp vec3 color_3f
#pragma mapbox: define-attribute highp vec4 color_4f
#pragma mapbox: define-attribute highp vec2 uv_2f
#pragma mapbox: initialize-attribute highp vec3 normal_3f
#pragma mapbox: initialize-attribute highp vec3 color_3f
#pragma mapbox: initialize-attribute highp vec4 color_4f
#pragma mapbox: initialize-attribute highp vec2 uv_2f
#ifdef HAS_ATTRIBUTE_a_pbr
in lowp vec4 v_roughness_metallic_emissive_alpha;in mediump vec4 v_height_based_emission_params;
#endif
#ifdef HAS_TEXTURE_u_baseColorTexture
uniform sampler2D u_baseColorTexture;uniform bool u_baseTextureIsAlpha;uniform bool u_alphaMask;uniform float u_alphaCutoff;
#endif
#ifdef HAS_TEXTURE_u_metallicRoughnessTexture
uniform sampler2D u_metallicRoughnessTexture;
#endif
#ifdef HAS_TEXTURE_u_occlusionTexture
uniform sampler2D u_occlusionTexture;uniform float u_aoIntensity;
#endif
#ifdef HAS_TEXTURE_u_normalTexture
uniform sampler2D u_normalTexture;
#endif
#ifdef HAS_TEXTURE_u_emissionTexture
uniform sampler2D u_emissionTexture;
#endif
#ifdef APPLY_LUT_ON_GPU
uniform highp sampler3D u_lutTexture;
#endif
#ifdef TERRAIN_FRAGMENT_OCCLUSION
in highp float v_depth;uniform highp sampler2D u_depthTexture;uniform highp vec2 u_inv_depth_size;uniform highp vec2 u_depth_range_unpack;
#ifdef DEPTH_D24
highp float unpack_depth(highp float depth) {return  depth*u_depth_range_unpack.x+u_depth_range_unpack.y;}
#else
highp float unpack_depth_rgba(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}
#endif
bool isOccluded() {highp vec2 coord=gl_FragCoord.xy*u_inv_depth_size;
#ifdef DEPTH_D24
highp float depth=unpack_depth(texture(u_depthTexture,coord).r);
#else
highp float depth=unpack_depth_rgba(texture(u_depthTexture,coord));
#endif
return v_depth > depth+0.0005;}
#endif
#define saturate(_x) clamp(_x,0.,1.)
vec3 linearTosRGB(vec3 color) {return pow(color,vec3(1./2.2));}vec3 sRGBToLinear(vec3 srgbIn) {return pow(srgbIn,vec3(2.2));}float calculate_NdotL(vec3 normal,vec3 lightDir) {const float ext=0.70710678118;return (clamp(dot(normal,lightDir),-ext,1.0)+ext)/(1.0+ext);}vec3 getDiffuseShadedColor(vec3 albedo,vec3 normal,vec3 lightDir,vec3 lightColor)
{
#ifdef LIGHTING_3D_MODE
vec3 transformed_normal=vec3(-normal.xy,normal.z);float lighting_factor;
#ifdef RENDER_SHADOWS
lighting_factor=shadowed_light_factor_normal(transformed_normal,v_pos_light_view_0,v_pos_light_view_1,v_depth_shadows);
#else
lighting_factor=saturate(dot(transformed_normal,u_lighting_directional_dir));
#endif
return apply_lighting(albedo,transformed_normal,lighting_factor);
#else
vec3 n=normal;float colorvalue=((albedo.x*0.2126)+(albedo.y*0.7152))+(albedo.z*0.0722);vec3 c=vec3(0.03,0.03,0.03);float directional=clamp(dot(n,vec3(lightDir)),0.0,1.0);directional=mix(1.0-u_lightintensity,max((1.0-colorvalue)+u_lightintensity,1.0),directional);vec3 c3=c+clamp((albedo*directional)*lightColor,mix(vec3(0.0),vec3(0.3),vec3(1.0)-lightColor),vec3(1.0));return c3;
#endif
}vec4 getBaseColor() {vec4 albedo=u_baseColorFactor;
#ifdef HAS_ATTRIBUTE_a_color_3f
albedo*=vec4(color_3f,1.0);
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
#else
#ifdef HAS_ATTRIBUTE_a_color_4f
albedo*=color_4f;
#endif
#endif
#if defined (HAS_TEXTURE_u_baseColorTexture) && defined (HAS_ATTRIBUTE_a_uv_2f)
vec4 texColor=texture(u_baseColorTexture,uv_2f);if(u_alphaMask) {if (texColor.w < u_alphaCutoff) {discard;}}
#ifdef UNPREMULT_TEXTURE_IN_SHADER
if(texColor.w > 0.0) {texColor.rgb/=texColor.w;}texColor.w=1.0;
#endif
if(u_baseTextureIsAlpha) {if (texColor.r < 0.5) {discard;}} else {texColor.rgb=sRGBToLinear(texColor.rgb);albedo*=texColor;}
#endif
vec4 color=vec4(mix(albedo.rgb,v_color_mix.rgb,v_color_mix.a),albedo.a);
#ifdef APPLY_LUT_ON_GPU
color=applyLUT(u_lutTexture,color);
#endif
return color;}highp mat3 cotangentFrame(highp vec3 N,highp vec3 p,highp vec2 uv ) {
#ifdef HAS_TEXTURE_u_normalTexture
highp vec3 dp1=vec3(dFdx(p.x),dFdx(p.y),dFdx(p.z));highp vec3 dp2=vec3(dFdy(p.x),dFdy(p.y),dFdy(p.z));highp vec2 duv1=vec2(dFdx(uv.x),dFdx(uv.y));highp vec2 duv2=vec2(dFdy(uv.x),dFdy(uv.y));highp vec3 dp2perp=cross( dp2,N );highp vec3 dp1perp=cross( N,dp1 );highp vec3 T=dp2perp*duv1.x+dp1perp*duv2.x;highp vec3 B=dp2perp*duv1.y+dp1perp*duv2.y;highp float lengthT=dot(T,T);highp float lengthB=dot(B,B);highp float maxLength=max(lengthT,lengthB);highp float invmax=inversesqrt( maxLength );highp mat3 res=mat3( T*invmax,B*invmax,N );return res;
#else
return mat3(1.0);
#endif
}highp vec3 getNormal(){highp vec3 n;
#ifdef HAS_ATTRIBUTE_a_normal_3f
n=normalize(normal_3f);
#else
highp vec3 fdx=vec3(dFdx(v_position_height.x),dFdx(v_position_height.y),dFdx(v_position_height.z));highp vec3 fdy=vec3(dFdy(v_position_height.x),dFdy(v_position_height.y),dFdy(v_position_height.z));n=normalize(cross(fdx,fdy))*-1.0;
#endif
#if defined(HAS_TEXTURE_u_normalTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
vec3 nMap=texture( u_normalTexture,uv_2f).xyz;nMap=normalize(2.0*nMap-vec3(1.0));highp vec3 v=normalize(-v_position_height.xyz);highp mat3 TBN=cotangentFrame(n,v,uv_2f);n=normalize(TBN*nMap);
#endif
return n;}struct Material {float perceptualRoughness;float alphaRoughness;float metallic;vec3 f90;vec4 baseColor;vec3 diffuseColor;vec3 specularColor;highp vec3 normal;};Material getPBRMaterial() {Material mat;mat.baseColor=getBaseColor();mat.perceptualRoughness=u_roughnessFactor;mat.metallic=u_metallicFactor;
#ifdef HAS_ATTRIBUTE_a_pbr
mat.perceptualRoughness=v_roughness_metallic_emissive_alpha.x;mat.metallic=v_roughness_metallic_emissive_alpha.y;mat.baseColor.w*=v_roughness_metallic_emissive_alpha.w;
#endif
#if defined(HAS_TEXTURE_u_metallicRoughnessTexture) && defined(HAS_ATTRIBUTE_a_uv_2f) 
vec4 mrSample=texture(u_metallicRoughnessTexture,uv_2f);mat.perceptualRoughness*=mrSample.g;mat.metallic*=mrSample.b;
#endif
const float c_minRoughness=0.04;mat.perceptualRoughness=clamp(mat.perceptualRoughness,c_minRoughness,1.0);mat.metallic=saturate(mat.metallic);mat.alphaRoughness=mat.perceptualRoughness*mat.perceptualRoughness;const vec3 f0=vec3(0.04);mat.diffuseColor=mat.baseColor.rgb*(vec3(1.0)-f0);mat.diffuseColor*=1.0-mat.metallic;mat.specularColor=mix(f0,mat.baseColor.rgb,mat.metallic);highp float reflectance=max(max(mat.specularColor.r,mat.specularColor.g),mat.specularColor.b);highp float reflectance90=saturate(reflectance*25.0);mat.f90=vec3(reflectance90);mat.normal=getNormal();return mat;}float V_GGX(float NdotL,float NdotV,float roughness)
{float a2=roughness*roughness;float GGXV=NdotL*sqrt(NdotV*NdotV*(1.0-a2)+a2);float GGXL=NdotV*sqrt(NdotL*NdotL*(1.0-a2)+a2);return 0.5/(GGXV+GGXL);}float V_GGXFast(float NdotL,float NdotV,float roughness) {float a=roughness;float GGXV=NdotL*(NdotV*(1.0-a)+a);float GGXL=NdotV*(NdotL*(1.0-a)+a);return 0.5/(GGXV+GGXL);}vec3 F_Schlick(vec3 specularColor,vec3 f90,float VdotH)
{return specularColor+(f90-specularColor)*pow(clamp(1.0-VdotH,0.0,1.0),5.0);}vec3 F_SchlickFast(vec3 specularColor,float VdotH)
{float x=1.0-VdotH;float x4=x*x*x*x;return specularColor+(1.0-specularColor)*x4*x;}float D_GGX(highp float NdotH,float alphaRoughness)
{highp float a4=alphaRoughness*alphaRoughness;highp float f=(NdotH*a4-NdotH)*NdotH+1.0;return a4/(PI*f*f);}vec3 diffuseBurley(Material mat,float LdotH,float NdotL,float NdotV)
{float f90=2.0*LdotH*LdotH*mat.alphaRoughness-0.5;return (mat.diffuseColor/PI)*(1.0+f90*pow((1.0-NdotL),5.0))*(1.0+f90*pow((1.0-NdotV),5.0));}vec3 diffuseLambertian(Material mat)
{
#ifdef LIGHTING_3D_MODE
return mat.diffuseColor;
#else
return mat.diffuseColor/PI;
#endif
}vec3 EnvBRDFApprox(vec3 specularColor,float roughness,highp float NdotV)
{vec4 c0=vec4(-1,-0.0275,-0.572,0.022);vec4 c1=vec4(1,0.0425,1.04,-0.04);highp vec4 r=roughness*c0+c1;highp float a004=min(r.x*r.x,exp2(-9.28*NdotV))*r.x+r.y;vec2 AB=vec2(-1.04,1.04)*a004+r.zw;return specularColor*AB.x+AB.y;}vec3 computeIndirectLightContribution(Material mat,float NdotV,vec3 normal)
{vec3 env_light=vec3(0.65,0.65,0.65);
#ifdef LIGHTING_3D_MODE
float ambient_factor=calculate_ambient_directional_factor(normal);env_light=u_lighting_ambient_color*ambient_factor;
#endif
vec3 envBRDF=EnvBRDFApprox(mat.specularColor,mat.perceptualRoughness,NdotV);vec3 indirectSpecular= envBRDF*env_light;vec3 indirectDiffuse=mat.diffuseColor*env_light;return indirectSpecular+indirectDiffuse;}vec3 computeLightContribution(Material mat,vec3 lightPosition,vec3 lightColor)
{highp vec3 n=mat.normal;highp vec3 v=normalize(-v_position_height.xyz);highp vec3 l=normalize(lightPosition);highp vec3 h=normalize(v+l);float NdotV=clamp(abs(dot(n,v)),0.001,1.0);float NdotL=saturate(dot(n,l));highp float NdotH=saturate(dot(n,h));float VdotH=saturate(dot(v,h));vec3 f=F_SchlickFast(mat.specularColor,VdotH);float g=V_GGXFast(NdotL,NdotV,mat.alphaRoughness);float d=D_GGX(NdotH,mat.alphaRoughness);vec3 diffuseTerm=(1.0-f)*diffuseLambertian(mat);vec3 specularTerm=f*g*d;vec3 transformed_normal=vec3(-n.xy,n.z);float lighting_factor;
#ifdef RENDER_SHADOWS
lighting_factor=shadowed_light_factor_normal(transformed_normal,v_pos_light_view_0,v_pos_light_view_1,v_depth_shadows);
#else
lighting_factor=NdotL;
#endif
vec3 directLightColor=(specularTerm+diffuseTerm)*lighting_factor*lightColor;vec3 indirectLightColor=computeIndirectLightContribution(mat,NdotV,transformed_normal);vec3 color=(saturate(directLightColor)+indirectLightColor);float intensityFactor=1.0;
#if !defined(LIGHTING_3D_MODE)
const vec3 luminosityFactor=vec3(0.2126,0.7152,0.0722);float luminance=dot(diffuseTerm,luminosityFactor);intensityFactor=mix((1.0-u_lightintensity),max((1.0-luminance+u_lightintensity),1.0),NdotL);
#endif
color*=intensityFactor;return color;}void main() {
#ifdef TERRAIN_FRAGMENT_OCCLUSION
if (isOccluded()) {discard;}
#endif
vec3 lightDir=u_lightpos;vec3 lightColor=u_lightcolor;
#ifdef LIGHTING_3D_MODE
lightDir=u_lighting_directional_dir;lightDir.xy=-lightDir.xy;lightColor=u_lighting_directional_color;
#endif
vec4 finalColor;
#ifdef DIFFUSE_SHADED
vec3 N=getNormal();vec3 baseColor=getBaseColor().rgb;vec3 diffuse=getDiffuseShadedColor(baseColor,N,lightDir,lightColor);
#ifdef HAS_TEXTURE_u_occlusionTexture
float ao=(texture(u_occlusionTexture,uv_2f).r-1.0)*u_aoIntensity+1.0;diffuse*=ao;
#endif
finalColor=vec4(mix(diffuse,baseColor,u_emissive_strength),1.0)*u_opacity;
#else
Material mat=getPBRMaterial();vec3 color=computeLightContribution(mat,lightDir,lightColor);float ao=1.0;
#if defined (HAS_TEXTURE_u_occlusionTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
#ifdef OCCLUSION_TEXTURE_TRANSFORM
vec2 uv=uv_2f.xy*u_occlusionTextureTransform.zw+u_occlusionTextureTransform.xy;
#else
vec2 uv=uv_2f;
#endif
ao=(texture(u_occlusionTexture,uv).x-1.0)*u_aoIntensity+1.0;color*=ao;
#endif
vec4 emissive=u_emissiveFactor;
#if defined(HAS_TEXTURE_u_emissionTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
emissive.rgb*=sRGBToLinear(texture(u_emissionTexture,uv_2f).rgb);
#endif
#ifdef APPLY_LUT_ON_GPU
float emissiveFactorLength=max(length(u_emissiveFactor.rgb),0.001);emissive.rgb=sRGBToLinear(applyLUT(u_lutTexture,linearTosRGB(emissive.rgb/emissiveFactorLength).rbg))*emissiveFactorLength;
#endif
color+=emissive.rgb;float opacity=mat.baseColor.w*u_opacity;
#ifdef HAS_ATTRIBUTE_a_pbr
float resEmission=v_roughness_metallic_emissive_alpha.z;resEmission*=v_height_based_emission_params.z+v_height_based_emission_params.w*pow(clamp(v_height_based_emission_params.x,0.0,1.0),v_height_based_emission_params.y);vec3 color_mix=v_color_mix.rgb;
#ifdef APPLY_LUT_ON_GPU
color_mix=applyLUT(u_lutTexture,color_mix);
#endif
color=mix(color,color_mix,min(1.0,resEmission));
#ifdef HAS_ATTRIBUTE_a_color_4f
float distance=length(vec2(1.3*max(0.0,abs(color_4f.x)-color_4f.z),color_4f.y));distance+= mix(0.5,0.0,clamp(resEmission-1.0,0.0,1.0));opacity*=v_roughness_metallic_emissive_alpha.w*saturate(1.0-distance*distance);
#endif
#endif
vec3 unlitColor=mat.baseColor.rgb*ao+emissive.rgb;color=mix(color,unlitColor,u_emissive_strength);color=linearTosRGB(color);color*=opacity;finalColor=vec4(color,opacity);
#endif
#ifdef FOG
finalColor=fog_dither(fog_apply_premultiplied(finalColor,v_fog_pos,v_position_height.w));
#endif
#ifdef RENDER_CUTOFF
finalColor*=v_cutoff_opacity;
#endif
#ifdef INDICATOR_CUTOUT
finalColor=applyCutout(finalColor);
#endif
glFragColor=finalColor;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
in vec3 a_pos_3f;
#pragma mapbox: define-attribute highp vec3 normal_3f
#pragma mapbox: define-attribute highp vec2 uv_2f
#pragma mapbox: define-attribute highp vec3 color_3f
#pragma mapbox: define-attribute highp vec4 color_4f
#pragma mapbox: define-attribute-vertex-shader-only highp vec4 pbr
#pragma mapbox: define-attribute-vertex-shader-only highp vec3 heightBasedEmissiveStrength
uniform mat4 u_matrix;uniform mat4 u_node_matrix;uniform mat4 u_lighting_matrix;uniform vec3 u_camera_pos;uniform vec4 u_color_mix;
#ifdef INSTANCED_ARRAYS
in vec4 a_normal_matrix0;in vec4 a_normal_matrix1;in vec4 a_normal_matrix2;in vec4 a_normal_matrix3;
#else
uniform highp mat4 u_normal_matrix;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out float v_depth_shadows;
#endif
out vec4 v_position_height;out lowp vec4 v_color_mix;
#ifdef TERRAIN_FRAGMENT_OCCLUSION
out highp float v_depth;
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
out lowp vec4 v_roughness_metallic_emissive_alpha;out mediump vec4 v_height_based_emission_params;
#endif
vec3 sRGBToLinear(vec3 srgbIn) {return pow(srgbIn,vec3(2.2));}void main() {
#pragma mapbox: initialize-attribute highp vec3 normal_3f
#pragma mapbox: initialize-attribute highp vec2 uv_2f
#pragma mapbox: initialize-attribute highp vec3 color_3f
#pragma mapbox: initialize-attribute highp vec4 color_4f
#pragma mapbox: initialize-attribute-custom highp vec4 pbr
#pragma mapbox: initialize-attribute-custom highp vec3 heightBasedEmissiveStrength
highp mat4 normal_matrix;
#ifdef INSTANCED_ARRAYS
normal_matrix=mat4(a_normal_matrix0,a_normal_matrix1,a_normal_matrix2,a_normal_matrix3);
#else
normal_matrix=u_normal_matrix;
#endif
vec3 local_pos;mat3 rs;
#ifdef MODEL_POSITION_ON_GPU
vec3 pos_color=normal_matrix[0].xyz;vec4 translate=normal_matrix[1];vec3 pos_a=floor(pos_color);vec3 rgb=1.05*(pos_color-pos_a);float hidden=float(pos_a.x > EXTENT);float color_mix=pos_a.z/100.0;v_color_mix=vec4(sRGBToLinear(rgb),color_mix);float meter_to_tile=normal_matrix[0].w;vec4 pos=vec4(pos_a.xy,translate.z,1.0);rs[0].x=normal_matrix[1].w;rs[0].yz=normal_matrix[2].xy;rs[1].xy=normal_matrix[2].zw;rs[1].z=normal_matrix[3].x;rs[2].xyz=normal_matrix[3].yzw;vec4 pos_node=u_lighting_matrix*vec4(a_pos_3f,1.0);vec3 rotated_pos_node=rs*pos_node.xyz;vec3 pos_model_tile=(rotated_pos_node+vec3(translate.xy,0.0))*vec3(meter_to_tile,meter_to_tile,1.0);pos.xyz+=pos_model_tile;local_pos=pos.xyz;gl_Position=mix(u_matrix*pos,AWAY,hidden);pos.z*=meter_to_tile;v_position_height.xyz=pos.xyz-u_camera_pos;
#else
local_pos=a_pos_3f;gl_Position=u_matrix*vec4(a_pos_3f,1);v_position_height.xyz=vec3(u_lighting_matrix*vec4(a_pos_3f,1));v_color_mix=vec4(sRGBToLinear(u_color_mix.rgb),u_color_mix.a);
#endif
v_position_height.w=a_pos_3f.z;
#ifdef HAS_ATTRIBUTE_a_pbr
vec4 albedo_c=decode_color(pbr.xy);vec2 e_r_m=unpack_float(pbr.z);vec2 r_m= unpack_float(e_r_m.y*16.0);r_m.r=r_m.r*16.0;v_color_mix=vec4(albedo_c.rgb,1.0);v_roughness_metallic_emissive_alpha=vec4(vec3(r_m,e_r_m.x)/255.0,albedo_c.a);v_roughness_metallic_emissive_alpha.z*=2.0;float heightBasedRelativeIntepolation=a_pos_3f.z*heightBasedEmissiveStrength.x+heightBasedEmissiveStrength.y;v_height_based_emission_params.x=heightBasedRelativeIntepolation;v_height_based_emission_params.y=heightBasedEmissiveStrength.z;vec2 emissionMultiplierValues=unpack_float(pbr.w)/256.0;v_height_based_emission_params.z=emissionMultiplierValues.x;v_height_based_emission_params.w=emissionMultiplierValues.y-emissionMultiplierValues.x;
#endif
#ifdef FOG
v_fog_pos=fog_position(local_pos);
#endif
#ifdef RENDER_CUTOFF
v_cutoff_opacity=cutoff_opacity(u_cutoff_params,gl_Position.z);
#endif
#ifdef TERRAIN_FRAGMENT_OCCLUSION
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef HAS_ATTRIBUTE_a_normal_3f
#ifdef MODEL_POSITION_ON_GPU
float x_squared_scale=dot(rs[0],rs[0]);float y_squared_scale=dot(rs[1],rs[1]);float z_squared_scale=dot(rs[2],rs[2]);vec3 squared_scale=vec3(x_squared_scale,y_squared_scale,z_squared_scale);normal_3f=rs*((u_lighting_matrix*vec4(normal_3f,0.0)).xyz/squared_scale);normal_3f=normalize(normal_3f);
#else
normal_3f=vec3(normal_matrix*vec4(normal_3f,0));
#endif
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
#ifdef HAS_ATTRIBUTE_a_color_4f
v_roughness_metallic_emissive_alpha.w=clamp(color_4f.a*v_roughness_metallic_emissive_alpha.w*(v_roughness_metallic_emissive_alpha.z-1.0),0.0,1.0);
#endif
#endif
#ifdef RENDER_SHADOWS
vec4 shadow_pos=u_node_matrix*vec4(local_pos,1.0);
#ifdef NORMAL_OFFSET
#ifdef HAS_ATTRIBUTE_a_normal_3f
#ifdef MODEL_POSITION_ON_GPU
vec3 offset=shadow_normal_offset(vec3(-normal_3f.xy,normal_3f.z));shadow_pos.xyz+=offset*shadow_normal_offset_multiplier0();
#else
vec3 offset=shadow_normal_offset_model(normal_3f);shadow_pos.xyz+=offset*shadow_normal_offset_multiplier0();
#endif
#endif
#endif
v_pos_light_view_0=u_light_matrix_0*shadow_pos;v_pos_light_view_1=u_light_matrix_1*shadow_pos;v_depth_shadows=gl_Position.w;
#endif
}`),modelDepth:di(`in highp float v_depth;void main() {
#ifndef DEPTH_TEXTURE
glFragColor=pack_depth(v_depth);
#endif
}`,`in vec3 a_pos_3f;uniform mat4 u_matrix;out highp float v_depth;
#ifdef MODEL_POSITION_ON_GPU
#ifdef INSTANCED_ARRAYS
in vec4 a_normal_matrix0;in vec4 a_normal_matrix1;in vec4 a_normal_matrix2;in vec4 a_normal_matrix3;
#else
uniform highp mat4 u_instance;
#endif
uniform highp mat4 u_node_matrix;
#endif
void main() {
#ifdef MODEL_POSITION_ON_GPU
highp mat4 instance;
#ifdef INSTANCED_ARRAYS
instance=mat4(a_normal_matrix0,a_normal_matrix1,a_normal_matrix2,a_normal_matrix3);
#else
instance=u_instance;
#endif
vec3 pos_color=instance[0].xyz;vec4 translate=instance[1];vec3 pos_a=floor(pos_color);float hidden=float(pos_a.x > EXTENT);float meter_to_tile=instance[0].w;vec4 pos=vec4(pos_a.xy,translate.z,1.0);mat3 rs;rs[0].x=instance[1].w;rs[0].yz=instance[2].xy;rs[1].xy=instance[2].zw;rs[1].z=instance[3].x;rs[2].xyz=instance[3].yzw;vec4 pos_node=u_node_matrix*vec4(a_pos_3f,1.0);vec3 rotated_pos_node=rs*pos_node.xyz;vec3 pos_model_tile=(rotated_pos_node+vec3(translate.xy,0.0))*vec3(meter_to_tile,meter_to_tile,1.0);pos.xyz+=pos_model_tile;gl_Position=mix(u_matrix*pos,AWAY,hidden);
#else
gl_Position=u_matrix*vec4(a_pos_3f,1);
#endif
v_depth=gl_Position.z/gl_Position.w;}`),stars:di(`in highp vec2 v_uv;in mediump float v_intensity;float shapeCircle(in vec2 uv)
{float beginFade=0.6;float lengthFromCenter=length(v_uv);return 1.0-clamp((lengthFromCenter-beginFade)/(1.0-beginFade),0.0,1.0);}void main() {float alpha=shapeCircle(v_uv);vec3 color=vec3(1.0,1.0,1.0);alpha*=v_intensity;glFragColor=vec4(color*alpha,alpha);HANDLE_WIREFRAME_DEBUG;}`,`
in vec3 a_pos_3f;in vec2 a_uv;in float a_size_scale;in float a_fade_opacity;uniform mat4 u_matrix;uniform vec3 u_up;uniform vec3 u_right;uniform float u_intensity_multiplier;out highp vec2 v_uv;out mediump float v_intensity;void main() {v_uv=a_uv;v_intensity=a_fade_opacity*u_intensity_multiplier;vec3 pos=a_pos_3f;pos+=a_uv.x*u_right*a_size_scale;pos+=a_uv.y*u_up*a_size_scale;gl_Position=u_matrix*vec4(pos,1.0);}`),occlusion:di("uniform vec4 u_color;void main() {glFragColor=u_color;}",`#include "_prelude_terrain.vertex.glsl"
in highp vec2 a_offset_xy;uniform highp vec3 u_anchorPos;uniform mat4 u_matrix;uniform vec2 u_screenSizePx;uniform vec2 u_occluderSizePx;void main() {vec3 world_pos=u_anchorPos;
#ifdef TERRAIN
float e=elevation(world_pos.xy);world_pos.z+=e;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1.0);projected_point.xy+=projected_point.w*a_offset_xy*0.5*u_occluderSizePx/u_screenSizePx;gl_Position=projected_point;}`)};function Ac(x,c){const f=x.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let w of f)if(w=w.trim(),w[0]==="#"&&w.includes("if")&&!w.includes("endif")){w=w.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const I=w.split(" ");for(const L of I)c.includes(L)||c.push(L)}}function di(x,c){const f=/#include\s+"([^"]+)"/g,w=/#pragma mapbox: ([\w\-]+) ([\w]+) ([\w]+) ([\w]+)/g;let I=c.match(/(attribute(\S*)|(^\s*|;)in) (highp |mediump |lowp )?([\w]+) ([\w]+)/gm);I&&(I=I.map(Z=>{const J=Z.split(" ");return J[J.length-1]}),I=[...new Set(I)]);const L={},D=[],j=[];if(x=x.replace(f,(Z,J)=>(j.push(J),"")),(c=c.replace(f,(Z,J)=>(D.push(J),""))).includes("flat out"))return void console.error('The usage of "flat" qualifier is disallowed, see: https://bugs.webkit.org/show_bug.cgi?id=268071');let K=[...Z0];Ac(x,K),Ac(c,K);for(const Z of[...D,...j])Pp[Z]||console.error(`Undefined include: ${Z}`),Vh[Z]||(Vh[Z]=[],Ac(Pp[Z],Vh[Z])),K=[...K,...Vh[Z]];return{fragmentSource:x=x.replace(w,(Z,J,oe,ce,he)=>(L[he]=!0,J==="define"?`
#ifndef HAS_UNIFORM_u_${he}
in ${oe} ${ce} ${he};
#else
uniform ${oe} ${ce} u_${he};
#endif
`:J==="initialize"?`
#ifdef HAS_UNIFORM_u_${he}
    ${oe} ${ce} ${he} = u_${he};
#endif
`:J==="define-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${he}
    in ${oe} ${ce} ${he};
#endif
`:J==="initialize-attribute"?"":void 0)),vertexSource:c=c.replace(w,(Z,J,oe,ce,he)=>{const Ce=ce==="float"?"vec2":ce,Me=he.match(/color/)?"color":Ce;return J==="define-attribute-vertex-shader-only"?`
#ifdef HAS_ATTRIBUTE_a_${he}
in ${oe} ${ce} a_${he};
#endif
`:L[he]?J==="define"?`
#ifndef HAS_UNIFORM_u_${he}
uniform lowp float u_${he}_t;
in ${oe} ${Ce} a_${he};
out ${oe} ${ce} ${he};
#else
uniform ${oe} ${ce} u_${he};
#endif
`:J==="initialize"?Me==="vec4"?`
#ifndef HAS_UNIFORM_u_${he}
    ${he} = a_${he};
#else
    ${oe} ${ce} ${he} = u_${he};
#endif
`:`
#ifndef HAS_UNIFORM_u_${he}
    ${he} = unpack_mix_${Me}(a_${he}, u_${he}_t);
#else
    ${oe} ${ce} ${he} = u_${he};
#endif
`:J==="define-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${he}
    in ${oe} ${ce} a_${he};
    out ${oe} ${ce} ${he};
#endif
`:J==="initialize-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${he}
    ${he} = a_${he};
#endif
`:void 0:J==="define"?`
#ifndef HAS_UNIFORM_u_${he}
uniform lowp float u_${he}_t;
in ${oe} ${Ce} a_${he};
#else
uniform ${oe} ${ce} u_${he};
#endif
`:J==="define-instanced"?Me==="mat4"?`
#ifdef INSTANCED_ARRAYS
in vec4 a_${he}0;
in vec4 a_${he}1;
in vec4 a_${he}2;
in vec4 a_${he}3;
#else
uniform ${oe} ${ce} u_${he};
#endif
`:`
#ifdef INSTANCED_ARRAYS
in ${oe} ${Ce} a_${he};
#else
uniform ${oe} ${ce} u_${he};
#endif
`:J==="initialize-attribute-custom"?`
#ifdef HAS_ATTRIBUTE_a_${he}
    ${oe} ${ce} ${he} = a_${he};
#endif
`:Me==="vec4"?`
#ifndef HAS_UNIFORM_u_${he}
    ${oe} ${ce} ${he} = a_${he};
#else
    ${oe} ${ce} ${he} = u_${he};
#endif
`:`
#ifndef HAS_UNIFORM_u_${he}
    ${oe} ${ce} ${he} = unpack_mix_${Me}(a_${he}, u_${he}_t);
#else
    ${oe} ${ce} ${he} = u_${he};
#endif
`}),staticAttributes:I,usedDefines:K,vertexIncludes:D,fragmentIncludes:j}}class Hh{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(c,f,w,I,L,D,j,K){this.context=c;let Z=this.boundPaintVertexBuffers.length!==I.length;for(let oe=0;!Z&&oe<I.length;oe++)this.boundPaintVertexBuffers[oe]!==I[oe]&&(Z=!0);let J=this.boundDynamicVertexBuffers.length!==j.length;for(let oe=0;!J&&oe<j.length;oe++)this.boundDynamicVertexBuffers[oe]!==j[oe]&&(J=!0);if(!this.vao||this.boundProgram!==f||this.boundLayoutVertexBuffer!==w||Z||J||this.boundIndexBuffer!==L||this.boundVertexOffset!==D)this.freshBind(f,w,I,L,D,j,K);else{c.bindVertexArrayOES.set(this.vao);for(const oe of j)oe&&(oe.bind(),K&&oe.instanceCount&&oe.setVertexAttribDivisor(c.gl,f,K));L&&L.dynamicDraw&&L.bind()}}freshBind(c,f,w,I,L,D,j){const K=c.numAttributes,Z=this.context,J=Z.gl;this.vao&&this.destroy(),this.vao=Z.gl.createVertexArray(),Z.bindVertexArrayOES.set(this.vao),this.boundProgram=c,this.boundLayoutVertexBuffer=f,this.boundPaintVertexBuffers=w,this.boundIndexBuffer=I,this.boundVertexOffset=L,this.boundDynamicVertexBuffers=D,f.enableAttributes(J,c),f.bind(),f.setVertexAttribPointers(J,c,L);for(const oe of w)oe.enableAttributes(J,c),oe.bind(),oe.setVertexAttribPointers(J,c,L);for(const oe of D)oe&&(oe.enableAttributes(J,c),oe.bind(),oe.setVertexAttribPointers(J,c,L),j&&oe.instanceCount&&oe.setVertexAttribDivisor(J,c,j));I&&I.bind(),Z.currentNumAttributes=K}destroy(){this.vao&&(this.context.gl.deleteVertexArray(this.vao),this.vao=null)}}function Rp(x,c){const f=Math.pow(2,c.canonical.z),w=c.canonical.y;return[new a.a5(0,w/f).toLngLat().lat,new a.a5(0,(w+1)/f).toLngLat().lat]}function J0(x,c,f,w,I,L,D){const j=x.context,K=j.gl,Z=f.hillshadeFBO;if(!Z)return;x.prepareDrawTile();const J=x.isTileAffectedByFog(c),oe=x.getOrCreateProgram("hillshade",{overrideFog:J});j.activeTexture.set(K.TEXTURE0),K.bindTexture(K.TEXTURE_2D,Z.colorAttachment.get());const ce=((Ae,ke,He,Ge)=>{const $e=He.paint.get("hillshade-shadow-color"),Ke=He.paint.get("hillshade-highlight-color"),qe=He.paint.get("hillshade-accent-color"),at=He.paint.get("hillshade-emissive-strength");let nt=a.bB(He.paint.get("hillshade-illumination-direction"));if(He.paint.get("hillshade-illumination-anchor")==="viewport")nt-=Ae.transform.angle;else if(Ae.style&&Ae.style.enable3dLights()&&Ae.style.directionalLight){const gt=Ae.style.directionalLight.properties.get("direction"),ft=a.c7(gt.x,gt.y,gt.z);nt=a.bB(ft[1])}const st=!Ae.options.moving;return{u_matrix:Ge||Ae.transform.calculateProjMatrix(ke.tileID.toUnwrapped(),st),u_image:0,u_latrange:Rp(0,ke.tileID),u_light:[He.paint.get("hillshade-exaggeration"),nt],u_shadow:$e.toRenderColor(He.lut),u_highlight:Ke.toRenderColor(He.lut),u_emissive_strength:at,u_accent:qe.toRenderColor(He.lut)}})(x,f,w,x.terrain?c.projMatrix:null);x.uploadCommonUniforms(j,oe,c.toUnwrapped());const{tileBoundsBuffer:he,tileBoundsIndexBuffer:Ce,tileBoundsSegments:Me}=x.getTileBoundsBuffers(f);oe.draw(x,K.TRIANGLES,I,L,D,Sr.disabled,ce,w.id,he,Ce,Me)}function Q0(x,c,f){if(!c.needsDEMTextureUpload)return;const w=x.context,I=w.gl;w.pixelStoreUnpackPremultiplyAlpha.set(!1),c.demTexture=c.demTexture||x.getTileTexture(f.stride);const L=f.getPixels();c.demTexture?c.demTexture.update(L,{premultiply:!1}):c.demTexture=new a.T(w,L,I.R32F,{premultiply:!1}),c.needsDEMTextureUpload=!1}function Dp(x,c,f){const w=x.context,I=w.gl;if(!c.dem)return;const L=c.dem;if(w.activeTexture.set(I.TEXTURE1),Q0(x,c,L),!c.demTexture)return;c.demTexture.bind(I.NEAREST,I.CLAMP_TO_EDGE);const D=L.dim;w.activeTexture.set(I.TEXTURE0);let j=c.hillshadeFBO;if(!j){const ce=new a.T(w,{width:D,height:D,data:null},I.RGBA8);ce.bind(I.LINEAR,I.CLAMP_TO_EDGE),j=c.hillshadeFBO=w.createFramebuffer(D,D,!0,"renderbuffer"),j.colorAttachment.set(ce.texture)}w.bindFramebuffer.set(j.framebuffer),w.viewport.set([0,0,D,D]);const{tileBoundsBuffer:K,tileBoundsIndexBuffer:Z,tileBoundsSegments:J}=x.getMercatorTileBoundsBuffers(),oe=[];x.linearFloatFilteringSupported()&&oe.push("TERRAIN_DEM_FLOAT_FORMAT"),x.getOrCreateProgram("hillshadePrepare",{defines:oe}).draw(x,I.TRIANGLES,lr.disabled,Ir.disabled,ei.unblended,Sr.disabled,((ce,he)=>{const Ce=he.stride,Me=a.a6.mat4.create();return a.a6.mat4.ortho(Me,0,a.ab,-a.ab,0,0,1),a.a6.mat4.translate(Me,Me,[0,-a.ab,0]),{u_matrix:Me,u_image:1,u_dimension:[Ce,Ce],u_zoom:ce.overscaledZ}})(c.tileID,L),f.id,K,Z,J),c.needsHillshadePrepare=!1}class Hi{constructor(c){this.gl=c.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(c){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class py extends Hi{getDefault(){return a.bz.transparent}set(c){const f=this.current;(c.r!==f.r||c.g!==f.g||c.b!==f.b||c.a!==f.a||this.dirty)&&(this.gl.clearColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class jw extends Hi{getDefault(){return 1}set(c){(c!==this.current||this.dirty)&&(this.gl.clearDepth(c),this.current=c,this.dirty=!1)}}class my extends Hi{getDefault(){return 0}set(c){(c!==this.current||this.dirty)&&(this.gl.clearStencil(c),this.current=c,this.dirty=!1)}}class ev extends Hi{getDefault(){return[!0,!0,!0,!0]}set(c){const f=this.current;(c[0]!==f[0]||c[1]!==f[1]||c[2]!==f[2]||c[3]!==f[3]||this.dirty)&&(this.gl.colorMask(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class Op extends Hi{getDefault(){return!0}set(c){(c!==this.current||this.dirty)&&(this.gl.depthMask(c),this.current=c,this.dirty=!1)}}class Gw extends Hi{getDefault(){return 255}set(c){(c!==this.current||this.dirty)&&(this.gl.stencilMask(c),this.current=c,this.dirty=!1)}}class Ww extends Hi{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(c){const f=this.current;(c.func!==f.func||c.ref!==f.ref||c.mask!==f.mask||this.dirty)&&(this.gl.stencilFunc(c.func,c.ref,c.mask),this.current=c,this.dirty=!1)}}class qw extends Hi{getDefault(){const c=this.gl;return[c.KEEP,c.KEEP,c.KEEP]}set(c){const f=this.current;(c[0]!==f[0]||c[1]!==f[1]||c[2]!==f[2]||this.dirty)&&(this.gl.stencilOp(c[0],c[1],c[2]),this.current=c,this.dirty=!1)}}class Uh extends Hi{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const f=this.gl;c?f.enable(f.STENCIL_TEST):f.disable(f.STENCIL_TEST),this.current=c,this.dirty=!1}}class Kw extends Hi{getDefault(){return[0,1]}set(c){const f=this.current;(c[0]!==f[0]||c[1]!==f[1]||this.dirty)&&(this.gl.depthRange(c[0],c[1]),this.current=c,this.dirty=!1)}}class bT extends Hi{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const f=this.gl;c?f.enable(f.DEPTH_TEST):f.disable(f.DEPTH_TEST),this.current=c,this.dirty=!1}}class xT extends Hi{getDefault(){return this.gl.LESS}set(c){(c!==this.current||this.dirty)&&(this.gl.depthFunc(c),this.current=c,this.dirty=!1)}}class wT extends Hi{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const f=this.gl;c?f.enable(f.BLEND):f.disable(f.BLEND),this.current=c,this.dirty=!1}}class vy extends Hi{getDefault(){const c=this.gl;return[c.ONE,c.ZERO,c.ONE,c.ZERO]}set(c){const f=this.current;(c[0]!==f[0]||c[1]!==f[1]||c[2]!==f[2]||c[3]!==f[3]||this.dirty)&&(this.gl.blendFuncSeparate(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class gy extends Hi{getDefault(){return a.bz.transparent}set(c){const f=this.current;(c.r!==f.r||c.g!==f.g||c.b!==f.b||c.a!==f.a||this.dirty)&&(this.gl.blendColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class _y extends Hi{getDefault(){return this.gl.FUNC_ADD}set(c){(c!==this.current||this.dirty)&&(this.gl.blendEquationSeparate(c,c),this.current=c,this.dirty=!1)}}class yy extends Hi{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const f=this.gl;c?f.enable(f.CULL_FACE):f.disable(f.CULL_FACE),this.current=c,this.dirty=!1}}class Yw extends Hi{getDefault(){return this.gl.BACK}set(c){(c!==this.current||this.dirty)&&(this.gl.cullFace(c),this.current=c,this.dirty=!1)}}class Zw extends Hi{getDefault(){return this.gl.CCW}set(c){(c!==this.current||this.dirty)&&(this.gl.frontFace(c),this.current=c,this.dirty=!1)}}let ST=class extends Hi{getDefault(){return null}set(x){(x!==this.current||this.dirty)&&(this.gl.useProgram(x),this.current=x,this.dirty=!1)}};class zp extends Hi{getDefault(){return this.gl.TEXTURE0}set(c){(c!==this.current||this.dirty)&&(this.gl.activeTexture(c),this.current=c,this.dirty=!1)}}class Bp extends Hi{getDefault(){const c=this.gl;return[0,0,c.drawingBufferWidth,c.drawingBufferHeight]}set(c){const f=this.current;(c[0]!==f[0]||c[1]!==f[1]||c[2]!==f[2]||c[3]!==f[3]||this.dirty)&&(this.gl.viewport(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class Xw extends Hi{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const f=this.gl;f.bindFramebuffer(f.FRAMEBUFFER,c),this.current=c,this.dirty=!1}}class Is extends Hi{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const f=this.gl;f.bindRenderbuffer(f.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class by extends Hi{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const f=this.gl;f.bindTexture(f.TEXTURE_2D,c),this.current=c,this.dirty=!1}}class tv extends Hi{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const f=this.gl;f.bindBuffer(f.ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class nv extends Hi{getDefault(){return null}set(c){const f=this.gl;f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class xy extends Hi{getDefault(){return null}set(c){this.gl&&(c!==this.current||this.dirty)&&(this.gl.bindVertexArray(c),this.current=c,this.dirty=!1)}}class wy extends Hi{getDefault(){return 4}set(c){if(c===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_ALIGNMENT,c),this.current=c,this.dirty=!1}}class rv extends Hi{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c),this.current=c,this.dirty=!1}}class Sy extends Hi{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,c),this.current=c,this.dirty=!1}}class Fp extends Hi{constructor(c,f){super(c),this.context=c,this.parent=f}getDefault(){return null}}class iv extends Fp{setDirty(){this.dirty=!0}set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,c,0),this.current=c,this.dirty=!1}}class Cy extends Fp{attachment(){return this.gl.DEPTH_ATTACHMENT}set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferRenderbuffer(f.FRAMEBUFFER,this.attachment(),f.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class Jw extends Fp{attachment(){return this.gl.DEPTH_ATTACHMENT}set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferTexture2D(f.FRAMEBUFFER,this.attachment(),f.TEXTURE_2D,c,0),this.current=c,this.dirty=!1}}class jh extends Cy{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}const CT=(x,c,f)=>({u_matrix:x,u_image0:0,u_skirt_height:c,u_ground_shadow_factor:f}),Qw=(x,c,f,w,I,L,D,j,K,Z,J,oe,ce,he,Ce,Me)=>({u_proj_matrix:Float32Array.from(x),u_globe_matrix:c,u_normalize_matrix:Float32Array.from(w),u_merc_matrix:f,u_zoom_transition:I,u_merc_center:L,u_image0:0,u_frustum_tl:D,u_frustum_tr:j,u_frustum_br:K,u_frustum_bl:Z,u_globe_pos:J,u_globe_radius:oe,u_viewport:ce,u_grid_matrix:Me?Float32Array.from(Me):new Float32Array(9),u_skirt_height:he,u_far_z_cutoff:Ce});function e4(x,c){return x!=null&&c!=null&&!(!x.hasData()||!c.hasData())&&x.demTexture!=null&&c.demTexture!=null&&x.tileID.key!==c.tileID.key}const Gh=new class{constructor(){this.operations={}}newMorphing(x,c,f,w,I){if(x in this.operations){const L=this.operations[x];L.to.tileID.key!==f.tileID.key&&(L.queued=f)}else this.operations[x]={startTime:w,phase:0,duration:I,from:c,to:f,queued:null}}getMorphValuesForProxy(x){if(!(x in this.operations))return null;const c=this.operations[x];return{from:c.from,to:c.to,phase:c.phase}}update(x){for(const c in this.operations){const f=this.operations[c];for(f.phase=(x-f.startTime)/f.duration;f.phase>=1||!this._validOp(f);)if(!this._nextOp(f,x)){delete this.operations[c];break}}}_nextOp(x,c){return!!x.queued&&(x.from=x.to,x.to=x.queued,x.queued=null,x.phase=0,x.startTime=c,!0)}_validOp(x){return x.from.hasData()&&x.to.hasData()}},t4={0:null,1:"TERRAIN_VERTEX_MORPHING"};function n4(x,c,f){if(c===0)return 0;const w=c<1&&f===514?.25/c:1;return 6*Math.pow(1.5,22-x)*Math.max(c,1)*w}function Ty(x,c){const f=1<<x.z;return!c&&(x.x===0||x.x===f-1)||x.y===0||x.y===f-1}const Np=x=>({u_matrix:x});function av(x,c,f,w,I){if(I>0){const L=a.q.now(),D=(L-x.timeAdded)/I,j=c?(L-c.timeAdded)/I:-1,K=f.getSource(),Z=w.coveringZoomLevel({tileSize:K.tileSize,roundZoom:K.roundZoom}),J=!c||Math.abs(c.tileID.overscaledZ-Z)>Math.abs(x.tileID.overscaledZ-Z),oe=J&&x.refreshedUponExpiration?1:a.ap(J?D:1-j,0,1);return x.refreshedUponExpiration&&D>=1&&(x.refreshedUponExpiration=!1),c?{opacity:1,mix:1-oe}:{opacity:oe,mix:0}}return{opacity:1,mix:0}}class Wh extends is{constructor(c){const f={type:"raster-dem",maxzoom:c.transform.maxZoom},w=new a.cd(a.ce(),null),I=Ch("mock-dem",f,w,c.style);super("mock-dem",I,!1),I.setEventedParent(this),this._sourceLoaded=!0}_loadTile(c,f){c.state="loaded",f(null)}}class r4 extends is{constructor(c){const f=Ch("proxy",{type:"geojson",maxzoom:c.transform.maxZoom},new a.cd(a.ce(),null),c.style);super("proxy",f,!1),f.setEventedParent(this),this.map=this.getSource().map=c,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(c,f,w){if(c.freezeTileCoverage)return;this.transform=c;const I=c.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((L,D)=>{if(L[D.key]="",!this._tiles[D.key]){const j=new Kl(D,this._source.tileSize*D.overscaleFactor(),c.tileZoom);j.state="loaded",this._tiles[D.key]=j}return L},{});for(const L in this._tiles)L in I||(this.freeFBO(L),this._tiles[L].unloadVectorData(),delete this._tiles[L])}freeFBO(c){const f=this.proxyCachedFBO[c];if(f!==void 0){const w=Object.values(f);this.renderCachePool.push(...w),delete this.proxyCachedFBO[c]}}deallocRenderCache(){this.renderCache.forEach(c=>c.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class My extends a.aA{constructor(c,f,w){super(c.overscaledZ,c.wrap,c.canonical.z,c.canonical.x,c.canonical.y),this.proxyTileKey=f,this.projMatrix=w}}class Ey extends a.cE{constructor(c,f){super(),this._debugParams={sortTilesHiZFirst:!0,disableRenderCache:!1},c.tp.registerParameter(this._debugParams,["Terrain"],"sortTilesHiZFirst",{},()=>{this._style.map.triggerRepaint()}),c.tp.registerParameter(this._debugParams,["Terrain"],"disableRenderCache",{},()=>{this._style.map.triggerRepaint()}),c.tp.registerButton(["Terrain"],"Invalidate Render Cache",()=>{this.invalidateRenderCache=!0,this._style.map.triggerRepaint()}),this.painter=c,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[w,I,L]=function(K){const Z=new a.a_,J=new a.aO,oe=131;Z.reserve(17161),J.reserve(33800);const ce=a.ab/128,he=a.ab+ce/2,Ce=he+ce;for(let Ae=-ce;Ae<Ce;Ae+=ce)for(let ke=-ce;ke<Ce;ke+=ce){const He=ke<0||ke>he||Ae<0||Ae>he?24575:0,Ge=a.ap(Math.round(ke),0,a.ab),$e=a.ap(Math.round(Ae),0,a.ab);Z.emplaceBack(Ge+He,$e)}const Me=(Ae,ke)=>{const He=ke*oe+Ae;J.emplaceBack(He+1,He,He+oe),J.emplaceBack(He+oe,He+oe+1,He+1)};for(let Ae=1;Ae<129;Ae++)for(let ke=1;ke<129;ke++)Me(ke,Ae);return[0,129].forEach(Ae=>{for(let ke=0;ke<130;ke++)Me(ke,Ae),Me(Ae,ke)}),[Z,J,32768]}(),D=c.context;this.gridBuffer=D.createVertexBuffer(w,a.b0.members),this.gridIndexBuffer=D.createIndexBuffer(I),this.gridSegments=a.b1.simpleSegment(0,0,w.length,I.length),this.gridNoSkirtSegments=a.b1.simpleSegment(0,0,w.length,L),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new r4(f.map),this.orthoMatrix=a.a6.mat4.create(),a.a6.mat4.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,a.ab,0,a.ab,0,1);const j=D.gl;this._overlapStencilMode=new Ir({func:j.GEQUAL,mask:255},0,255,j.KEEP,j.KEEP,j.REPLACE),this._previousZoom=c.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=f,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new Wh(f.map),this._pendingGroundEffectLayers=[]}set style(c){c.on("data",this._onStyleDataEvent.bind(this)),this._style=c,this._style.map.on("moveend",()=>{this._clearLineLayersFromRenderCache()})}update(c,f,w){if(c&&c.terrain){this._style!==c&&(this.style=c,this._evaluationZoom=void 0);const I=c.terrain.properties,L=c.terrain.drapeRenderMode===0,D=c.terrain.isZoomDependent();this._previousUpdateTimestamp=this.enabled?this._updateTimestamp:void 0,this._updateTimestamp=a.q.now();const j=c.terrain&&c.terrain.scope,K=I.get("source"),Z=L?this._mockSourceCache:c.getSourceCache(K,j);if(!Z)return void a.w(`Couldn't find terrain source "${K}".`);if(this.sourceCache=Z,this._exaggeration=D?this.calculateExaggeration(f):I.get("exaggeration"),!f.projection.requiresDraping&&D&&this._exaggeration===0)return void this._disable();this.enabled=!0;const J=()=>{this.sourceCache.used&&a.w(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const oe=this.getScaledDemTileSize();this.sourceCache.update(f,oe,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,J(),this._initializing=!0),J(),f.updateElevation(!0,w),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(f),this._emptyDEMTextureDirty=!0,this._previousZoom=f.zoom}else this._disable()}calculateExaggeration(c){const f=this._previousCameraAltitude,w=c.getFreeCameraOptions().position.z/c.pixelsPerMeter*c.worldSize;this._previousCameraAltitude=w;const I=f!=null?w-f:Number.MAX_VALUE;if(Math.abs(I)<2)return this._exaggeration;const L=c.zoom,D=this._style.terrain;if(!this._previousUpdateTimestamp)return D.getExaggeration(L);let j=L-this._previousZoom;const K=this._previousUpdateTimestamp;let Z=L;this._evaluationZoom!=null&&(Z=this._evaluationZoom,Math.abs(L-Z)>.5&&(j=.5*(L-Z+j)),j*I<0&&(Z+=j)),this._evaluationZoom=Z;const J=D.getExaggeration(Z),oe=J===D.getExaggeration(Math.max(0,Z-.1));if(oe&&Math.abs(J-this._exaggeration)<.01)return J;let ce=Math.min(.1,.00375*(this._updateTimestamp-K));return(oe||J<.1||Math.abs(j)<1e-4)&&(ce=Math.min(.2,4*ce)),a.aa(this._exaggeration,J,ce)}resetTileLookupCache(c){this._findCoveringTileCache[c]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_onStyleDataEvent(c){c.coord&&c.dataType==="source"?this._clearRenderCacheForTile(c.sourceCacheId,c.coord):c.dataType==="style"&&(this.invalidateRenderCache=!0,this._evaluationZoom=void 0,this._previousUpdateTimestamp=void 0,this._previousCameraAltitude=void 0)}_disable(){if(this.enabled&&(this.enabled=!1,this._emptyDEMTextureDirty=!0,this._sharedDepthStencil=void 0,this._evaluationZoom=void 0,this._previousUpdateTimestamp=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const c in this._style._mergedSourceCaches)this._style._mergedSourceCaches[c].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this.pool.forEach(c=>c.fb.destroy()),this.pool=[],this.framebufferCopyTexture&&this.framebufferCopyTexture.destroy()}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this.enabled?this._exaggeration:0}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const c=2*this.proxySourceCache.getSource().tileSize;return[c,c]}set useVertexMorphing(c){this._useVertexMorphing=c}updateTileBinding(c){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const f=this.proxySourceCache,w=this.painter.transform;this._initializing&&(this._initializing=w._centerAltitude===0&&this.getAtPointOrZero(a.a5.fromLngLat(w.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const I=this.proxyCoords=f.getIds().map(K=>{const Z=f.getTileByID(K).tileID;return Z.projMatrix=w.calculateProjMatrix(Z.toUnwrapped()),Z});(function(K,Z){const J=Z.transform.pointCoordinate(Z.transform.getCameraPoint()),oe=new a.P(J.x,J.y);K.sort((ce,he)=>{if(he.overscaledZ-ce.overscaledZ)return he.overscaledZ-ce.overscaledZ;const Ce=new a.P(ce.canonical.x+(1<<ce.canonical.z)*ce.wrap,ce.canonical.y),Me=new a.P(he.canonical.x+(1<<he.canonical.z)*he.wrap,he.canonical.y),Ae=oe.mult(1<<ce.canonical.z);return Ae.x-=.5,Ae.y-=.5,Ae.distSqr(Ce)-Ae.distSqr(Me)})})(I,this.painter);const L=this.proxyToSource||{};this.proxyToSource={},I.forEach(K=>{this.proxyToSource[K.key]={}}),this.terrainTileForTile={};const D=this._style._mergedSourceCaches;for(const K in D){const Z=D[K];if(!Z.used||(Z!==this.sourceCache&&this.resetTileLookupCache(Z.id),this._setupProxiedCoordsForOrtho(Z,c[K],L),Z.usedForTerrain))continue;const J=c[K];Z.getSource().reparseOverscaled&&this._assignTerrainTiles(J)}this.proxiedCoords[f.id]=I.map(K=>new My(K,K.key,this.orthoMatrix)),this._assignTerrainTiles(I),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(L),this.renderingToTexture=!1;const j={};this._visibleDemTiles=[];for(const K of this.proxyCoords){const Z=this.terrainTileForTile[K.key];if(!Z)continue;const J=Z.tileID.key;J in j||(this._visibleDemTiles.push(Z),j[J]=J)}}_assignTerrainTiles(c){this._initializing||c.forEach(f=>{if(this.terrainTileForTile[f.key])return;const w=this._findTileCoveringTileID(f,this.sourceCache);w&&(this.terrainTileForTile[f.key]=w)})}_prepareDEMTextures(){const c=this.painter.context,f=c.gl;for(const w in this.terrainTileForTile){const I=this.terrainTileForTile[w],L=I.dem;!L||I.demTexture&&!I.needsDEMTextureUpload||(c.activeTexture.set(f.TEXTURE1),Q0(this.painter,I,L))}}_prepareDemTileUniforms(c,f,w,I){if(!f||f.demTexture==null)return!1;const L=c.tileID.canonical,D=Math.pow(2,f.tileID.canonical.z-L.z),j=I||"";return w[`u_dem_tl${j}`]=[L.x*D%1,L.y*D%1],w[`u_dem_scale${j}`]=D,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}_getLoadedAreaMinimum(){if(!this.enabled)return 0;let c=0;const f=this._visibleDemTiles.reduce((w,I)=>{if(!I.dem)return w;const L=I.dem.tree.minimums[0];return L>0&&c++,w+L},0);return c?f/c:0}_updateEmptyDEMTexture(){const c=this.painter.context,f=c.gl;c.activeTexture.set(f.TEXTURE2);const w=this._getLoadedAreaMinimum(),I=new a.cF({width:1,height:1},new Float32Array([w]));this._emptyDEMTextureDirty=!1;let L=this._emptyDEMTexture;return L?L.update(I,{premultiply:!1}):L=this._emptyDEMTexture=new a.T(c,I,f.R32F,{premultiply:!1}),L}setupElevationDraw(c,f,w){const I=this.painter.context,L=I.gl,D={u_dem:2,u_dem_prev:4,u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_depth_range_unpack:[0,1],u_occluder_half_size:16,u_occlusion_depth_offset:-1e-4,u_exaggeration:0};D.u_exaggeration=this.exaggeration();let j=null,K=null,Z=1;if(w&&w.morphing&&this._useVertexMorphing){const he=w.morphing.srcDemTile,Ce=w.morphing.dstDemTile;Z=w.morphing.phase,he&&Ce&&(this._prepareDemTileUniforms(c,he,D,"_prev")&&(K=he),this._prepareDemTileUniforms(c,Ce,D)&&(j=Ce))}const J=he=>he&&he.demTexture&&this.painter.linearFloatFilteringSupported()?L.LINEAR:L.NEAREST;let oe=null;var ce;if(this.enabled?K&&j?(oe=j.demTexture,I.activeTexture.set(L.TEXTURE4),K.demTexture.bind(J(K),L.CLAMP_TO_EDGE),D.u_dem_lerp=Z):(j=this.terrainTileForTile[c.tileID.key],oe=this._prepareDemTileUniforms(c,j,D)?j.demTexture:this.emptyDEMTexture):oe=this.emptyDEMTexture,I.activeTexture.set(L.TEXTURE2),oe&&(D.u_dem_size=(ce=oe).size[0]===1?1:ce.size[0]-2,oe.bind(J(j),L.CLAMP_TO_EDGE)),this.painter.setupDepthForOcclusion(w&&w.useDepthForOcclusion,f,D),w&&w.useMeterToDem&&j){const he=(1<<j.tileID.canonical.z)*a.bD(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;D.u_meter_to_dem=he}if(w&&w.labelPlaneMatrixInv&&(D.u_label_plane_matrix_inv=w.labelPlaneMatrixInv),f.setTerrainUniformValues(I,D),this.painter.transform.projection.name==="globe"){const he=this.globeUniformValues(this.painter.transform,c.tileID.canonical,w&&w.useDenormalizedUpVectorScale);f.setGlobeUniformValues(I,he)}}globeUniformValues(c,f,w){const I=c.projection;return{u_tile_tl_up:I.upVector(f,0,0),u_tile_tr_up:I.upVector(f,a.ab,0),u_tile_br_up:I.upVector(f,a.ab,a.ab),u_tile_bl_up:I.upVector(f,0,a.ab),u_tile_up_scale:w?a.cG(1):I.upVectorScale(f,c.center.lat,c.worldSize).metersToTile}}renderToBackBuffer(c){const f=this.painter,w=this.painter.context;c.length!==0&&(w.bindFramebuffer.set(null),w.viewport.set([0,0,f.width,f.height]),f.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(I,L,D,j,K){if(I.transform.projection.name==="globe")(function(Z,J,oe,ce,he){const Ce=Z.context,Me=Ce.gl;let Ae,ke;const He=Z.transform,Ge=a.cx(Z,Ce,He),$e=(Pt,Yt)=>{if(ke===Yt)return;const cn=[t4[Yt],"PROJECTION_GLOBE_VIEW"];Ge&&cn.push("CUSTOM_ANTIALIASING");const Kt=Z.isTileAffectedByFog(Pt);Ae=Z.getOrCreateProgram("globeRaster",{defines:cn,overrideFog:Kt}),ke=Yt},Ke=Z.colorModeForRenderPass(),qe=new lr(Me.LEQUAL,lr.ReadWrite,Z.depthRangeFor3D);Gh.update(he);const at=a.cy(He),nt=[a.am(He.center.lng),a.at(He.center.lat)],st=Z.globeSharedBuffers,gt=[He.width*a.q.devicePixelRatio,He.height*a.q.devicePixelRatio],ft=Float32Array.from(He.globeMatrix),ct={useDenormalizedUpVectorScale:!0};{const Pt=Z.transform,Yt=n4(Pt.zoom,J.exaggeration(),J.sourceCache._source.tileSize);ke=-1;const cn=Me.TRIANGLES;for(const Kt of ce){const _n=oe.getTile(Kt),Lt=Ir.disabled,on=J.prevTerrainTileForTile[Kt.key],Qt=J.terrainTileForTile[Kt.key];e4(on,Qt)&&Gh.newMorphing(Kt.key,on,Qt,he,250),Ce.activeTexture.set(Me.TEXTURE0),_n.texture&&_n.texture.bind(Me.LINEAR,Me.CLAMP_TO_EDGE);const xn=Gh.getMorphValuesForProxy(Kt.key),Sn=xn?1:0;xn&&a.C(ct,{morphing:{srcDemTile:xn.from,dstDemTile:xn.to,phase:a.cw(xn.phase)}});const sn=a.cz(Kt.canonical),vn=a.cA(sn.getCenter().lat),ar=a.cB(Kt.canonical,sn,vn,Pt.worldSize/Pt._pixelsPerMercatorPixel),In=a.b5(a.cC(Kt.canonical)),$n=Qw(Pt.expandedFarZProjMatrix,ft,at,In,a.a9(Pt.zoom),nt,Pt.frustumCorners.TL,Pt.frustumCorners.TR,Pt.frustumCorners.BR,Pt.frustumCorners.BL,Pt.globeCenterInViewSpace,Pt.globeRadius,gt,Yt,Pt._farZ,ar);if($e(Kt,Sn),Ae&&(J.setupElevationDraw(_n,Ae,ct),Z.uploadCommonUniforms(Ce,Ae,Kt.toUnwrapped()),st)){const[wr,Xn,fr]=st.getGridBuffers(vn,Yt!==0);Ae.draw(Z,cn,qe,Lt,Ke,Sr.backCCW,$n,"globe_raster",wr,Xn,fr)}}}if(st&&(Z.renderDefaultNorthPole||Z.renderDefaultSouthPole)){const Pt=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];Ge&&Pt.push("CUSTOM_ANTIALIASING"),Ae=Z.getOrCreateProgram("globeRaster",{defines:Pt});for(const Yt of ce){const{x:cn,y:Kt,z:_n}=Yt.canonical,Lt=Kt===0,on=Kt===(1<<_n)-1,[Qt,xn,Sn,sn]=st.getPoleBuffers(_n,!1);if(sn&&(Lt||on)){const vn=oe.getTile(Yt);Ce.activeTexture.set(Me.TEXTURE0),vn.texture&&vn.texture.bind(Me.LINEAR,Me.CLAMP_TO_EDGE);let ar=a.cD(_n,cn,He);const In=a.b5(a.cC(Yt.canonical)),$n=(wr,Xn)=>wr.draw(Z,Me.TRIANGLES,qe,Ir.disabled,Ke,Sr.disabled,Qw(He.expandedFarZProjMatrix,ar,ar,In,0,nt,He.frustumCorners.TL,He.frustumCorners.TR,He.frustumCorners.BR,He.frustumCorners.BL,He.globeCenterInViewSpace,He.globeRadius,gt,0,He._farZ),"globe_pole_raster",Xn,Sn,sn);J.setupElevationDraw(vn,Ae,ct),Z.uploadCommonUniforms(Ce,Ae,Yt.toUnwrapped()),Lt&&Z.renderDefaultNorthPole&&$n(Ae,Qt),on&&Z.renderDefaultSouthPole&&(ar=a.a6.mat4.scale(a.a6.mat4.create(),ar,[1,-1,1]),$n(Ae,xn))}}}})(I,L,D,j,K);else{const Z=I.context,J=Z.gl;let oe,ce;const he=I.shadowRenderer,Ce=Bu(I,I.longestCutoffRange),Me=Ke=>{if(ce===Ke)return;const qe=[];qe.push(t4[Ke]),Ce.shouldRenderCutoff&&qe.push("RENDER_CUTOFF"),oe=I.getOrCreateProgram("terrainRaster",{defines:qe}),ce=Ke},Ae=I.colorModeForRenderPass(),ke=new lr(J.LEQUAL,lr.ReadWrite,I.depthRangeFor3D);Gh.update(K);const He=I.transform,Ge=n4(He.zoom,L.exaggeration(),L.sourceCache._source.tileSize);let $e=[0,0,0];if(he){const Ke=I.style.directionalLight,qe=I.style.ambientLight;Ke&&qe&&($e=W0(I.style,Ke,qe))}{ce=-1;const Ke=J.TRIANGLES,[qe,at]=[L.gridIndexBuffer,L.gridSegments];for(const nt of j){const st=D.getTile(nt),gt=Ir.disabled,ft=L.prevTerrainTileForTile[nt.key],ct=L.terrainTileForTile[nt.key];e4(ft,ct)&&Gh.newMorphing(nt.key,ft,ct,K,250),Z.activeTexture.set(J.TEXTURE0),st.texture&&st.texture.bind(J.LINEAR,J.CLAMP_TO_EDGE);const Pt=Gh.getMorphValuesForProxy(nt.key),Yt=Pt?1:0;let cn;Pt&&(cn={morphing:{srcDemTile:Pt.from,dstDemTile:Pt.to,phase:a.cw(Pt.phase)}});const Kt=CT(nt.projMatrix,Ty(nt.canonical,He.renderWorldCopies)?Ge/10:Ge,$e);if(Me(Yt),!oe)continue;L.setupElevationDraw(st,oe,cn);const _n=nt.toUnwrapped();he&&he.setupShadows(_n,oe),I.uploadCommonUniforms(Z,oe,_n,null,Ce),oe.draw(I,Ke,ke,gt,Ae,Sr.backCCW,Kt,"terrain_raster",L.gridBuffer,qe,at)}}}}(f,this,this.proxySourceCache,c,this._updateTimestamp),this.renderingToTexture=!0,f.gpuTimingDeferredRenderEnd(),c.splice(0,c.length))}renderBatch(c){if(this._drapedRenderBatches.length===0)return c+1;this.renderingToTexture=!0;const f=this.painter,w=this.painter.context,I=this.proxySourceCache,L=this.proxiedCoords[I.id],D=this._drapedRenderBatches.shift(),j=f.style.order,K=[];let Z=0;for(const J of L){const oe=I.getTileByID(J.proxyTileKey),ce=I.proxyCachedFBO[J.key]?I.proxyCachedFBO[J.key][c]:void 0,he=ce!==void 0?I.renderCache[ce]:this.pool[Z++],Ce=ce!==void 0;if(oe.texture=he.tex,Ce&&!he.dirty){K.push(oe.tileID);continue}let Me;w.bindFramebuffer.set(he.fb.framebuffer),this.renderedToTile=!1,he.dirty&&(w.clear({color:a.bz.transparent,stencil:0}),he.dirty=!1);for(let Ae=D.start;Ae<=D.end;++Ae){const ke=f.style._mergedLayers[j[Ae]];if(ke.isHidden(f.transform.zoom))continue;const He=f.style.getLayerSourceCache(ke),Ge=He?this.proxyToSource[J.key][He.id]:[J];if(!Ge)continue;const $e=Ge;w.viewport.set([0,0,he.fb.width,he.fb.height]),Me!==(He?He.id:null)&&(this._setupStencil(he,Ge,ke,He),Me=He?He.id:null),f.renderLayer(f,He,ke,$e)}if(this._drapedRenderBatches.length===0)for(const Ae of this._pendingGroundEffectLayers){const ke=f.style._mergedLayers[j[Ae]];if(ke.isHidden(f.transform.zoom))continue;const He=f.style.getLayerSourceCache(ke),Ge=He?this.proxyToSource[J.key][He.id]:[J];if(!Ge)continue;const $e=Ge;w.viewport.set([0,0,he.fb.width,he.fb.height]),Me!==(He?He.id:null)&&(this._setupStencil(he,Ge,ke,He),Me=He?He.id:null),f.renderLayer(f,He,ke,$e)}this.renderedToTile?(he.dirty=!0,K.push(oe.tileID)):Ce||--Z,Z===5&&(Z=0,this.renderToBackBuffer(K))}return this.renderToBackBuffer(K),this.renderingToTexture=!1,w.bindFramebuffer.set(null),w.viewport.set([0,0,f.width,f.height]),D.end+1}postRender(){}isLayerOrderingCorrect(c){const f=c.order.length;let w=-1,I=f;for(let L=0;L<f;++L)this._style.isLayerDraped(c._mergedLayers[c.order[L]])?w=Math.max(w,L):I=Math.min(I,L);return I>w}getMinElevationBelowMSL(){let c=0;return this._visibleDemTiles.filter(f=>f.dem).forEach(f=>{c=Math.min(c,f.dem.tree.minimums[0])}),c===0?c:(c-30)*this._exaggeration}raycast(c,f,w){if(!this._visibleDemTiles)return null;const I=this._visibleDemTiles.filter(L=>L.dem).map(L=>{const D=L.tileID,j=1<<D.overscaledZ,{x:K,y:Z}=D.canonical,J=K/j,oe=(K+1)/j,ce=Z/j,he=(Z+1)/j;return{minx:J,miny:ce,maxx:oe,maxy:he,t:L.dem.tree.raycastRoot(J,ce,oe,he,c,f,w),tile:L}});I.sort((L,D)=>(L.t!==null?L.t:Number.MAX_VALUE)-(D.t!==null?D.t:Number.MAX_VALUE));for(const L of I){if(L.t==null)return null;const D=L.tile.dem.tree.raycast(L.minx,L.miny,L.maxx,L.maxy,c,f,w);if(D!=null)return D}return null}_createFBO(){const c=this.painter.context,f=c.gl,w=this.drapeBufferSize;c.activeTexture.set(f.TEXTURE0);const I=new a.T(c,{width:w[0],height:w[1],data:null},f.RGBA8);I.bind(f.LINEAR,f.CLAMP_TO_EDGE);const L=c.createFramebuffer(w[0],w[1],!0,null);return L.colorAttachment.set(I.texture),L.depthAttachment=new jh(c,L.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=c.createRenderbuffer(c.gl.DEPTH_STENCIL,w[0],w[1]),this._stencilRef=0,L.depthAttachment.set(this._sharedDepthStencil),c.clear({stencil:0})):L.depthAttachment.set(this._sharedDepthStencil),c.extTextureFilterAnisotropic&&f.texParameterf(f.TEXTURE_2D,c.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,c.extTextureFilterAnisotropicMax),{fb:L,tex:I,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._debugParams.disableRenderCache||this._style.hasLightTransitions())return!0;for(const c in this._style._mergedSourceCaches)if(this._style._mergedSourceCaches[c].hasTransition())return!0;return this._style.order.some(c=>{const f=this._style._mergedLayers[c],w=f.isHidden(this.painter.transform.zoom);return f.type==="hillshade"||f.type==="custom"?!w&&f.shouldRedrape():!w&&f.hasTransition()})}_clearLineLayersFromRenderCache(){let c=!1;for(const w of this._style.getSources())if(w instanceof R0){c=!0;break}if(!c)return;const f={};for(let w=0;w<this._style.order.length;++w){const I=this._style._mergedLayers[this._style.order[w]],L=this._style.getLayerSourceCache(I);if(L&&!f[L.id]&&!I.isHidden(this.painter.transform.zoom)&&I.type==="line"&&I.widthExpression()instanceof a.a4){f[L.id]=!0;for(const D of this.proxyCoords){const j=this.proxyToSource[D.key][L.id];if(j)for(const K of j)this._clearRenderCacheForTile(L.id,K)}}}}_clearRasterLayersFromRenderCache(){let c=!1;for(const w in this._style._mergedSourceCaches)if(this._style._mergedSourceCaches[w]._source instanceof Sp){c=!0;break}if(!c)return;const f={};for(let w=0;w<this._style.order.length;++w){const I=this._style._mergedLayers[this._style.order[w]],L=this._style.getLayerSourceCache(I);if(!L||f[L.id]||I.isHidden(this.painter.transform.zoom)||I.type!=="raster")continue;const D=I.paint.get("raster-fade-duration");for(const j of this.proxyCoords){const K=this.proxyToSource[j.key][L.id];if(K)for(const Z of K){const J=av(L.getTile(Z),L.findLoadedParent(Z,0),L,this.painter.transform,D);(J.opacity!==1||J.mix!==0)&&this._clearRenderCacheForTile(L.id,Z)}}}}_setupDrapedRenderBatches(){const c=this._style.order,f=c.length;if(f===0)return;const w=[];this._pendingGroundEffectLayers=[];let I,L=0,D=this._style._mergedLayers[c[L]];for(;!this._style.isLayerDraped(D)&&D.isHidden(this.painter.transform.zoom)&&++L<f;)D=this._style._mergedLayers[c[L]];for(;L<f;++L){const j=this._style._mergedLayers[c[L]];j.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(j)?I===void 0&&(I=L):(j.type==="fill-extrusion"&&this._pendingGroundEffectLayers.push(L),I!==void 0&&(w.push({start:I,end:L-1}),I=void 0)))}if(I!==void 0&&w.push({start:I,end:L-1}),w.length!==0){const j=w[w.length-1];this._pendingGroundEffectLayers.every(K=>K>j.end)||a.w("fill-extrusion with flood lighting and/or ground ambient occlusion should be moved to be on top of all draped layers.")}this._drapedRenderBatches=w}_setupRenderCache(c){const f=this.proxySourceCache;if(this._shouldDisableRenderCache()||this.invalidateRenderCache){if(this.invalidateRenderCache=!1,f.renderCache.length>f.renderCachePool.length){const D=Object.values(f.proxyCachedFBO);f.proxyCachedFBO={};for(let j=0;j<D.length;++j){const K=Object.values(D[j]);f.renderCachePool.push(...K)}}return}this._clearRasterLayersFromRenderCache();const w=this.proxyCoords,I=this._tilesDirty;for(let D=w.length-1;D>=0;D--){const j=w[D];if(f.getTileByID(j.key),f.proxyCachedFBO[j.key]!==void 0){const K=c[j.key],Z=this.proxyToSource[j.key];let J=0;for(const oe in Z){const ce=Z[oe],he=K[oe];if(!he||he.length!==ce.length||ce.some((Ce,Me)=>Ce!==he[Me]||I[oe]&&I[oe].hasOwnProperty(Ce.key))){J=-1;break}++J}for(const oe in f.proxyCachedFBO[j.key])f.renderCache[f.proxyCachedFBO[j.key][oe]].dirty=J<0||J!==Object.values(K).length}}const L=[...this._drapedRenderBatches];L.sort((D,j)=>j.end-j.start-(D.end-D.start));for(const D of L)for(const j of w){if(f.proxyCachedFBO[j.key])continue;let K=f.renderCachePool.pop();K===void 0&&f.renderCache.length<50&&(K=f.renderCache.length,f.renderCache.push(this._createFBO())),K!==void 0&&(f.proxyCachedFBO[j.key]={},f.proxyCachedFBO[j.key][D.start]=K,f.renderCache[K].dirty=!0)}this._tilesDirty={}}_setupStencil(c,f,w,I){if(!I||!this._sourceTilesOverlap[I.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const L=this.painter.context,D=L.gl;if(f.length<=1)return void(this._overlapStencilType=!1);let j;if(w.isTileClipped())j=f.length,this._overlapStencilMode.test={func:D.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(f[0].overscaledZ>f[f.length-1].overscaledZ))return void(this._overlapStencilType=!1);j=1,this._overlapStencilMode.test={func:D.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+j>255&&(L.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=j,this._overlapStencilMode.ref=this._stencilRef,w.isTileClipped()&&this._renderTileClippingMasks(f,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(c){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[c.key]),this._overlapStencilMode):Ir.disabled}_renderTileClippingMasks(c,f){const w=this.painter,I=this.painter.context,L=I.gl;w._tileClippingMaskIDs={},I.setColorMode(ei.disabled),I.setDepthMode(lr.disabled);const D=w.getOrCreateProgram("clippingMask");for(const j of c){const K=w._tileClippingMaskIDs[j.key]=--f;D.draw(w,L.TRIANGLES,lr.disabled,new Ir({func:L.ALWAYS,mask:0},K,255,L.KEEP,L.KEEP,L.REPLACE),ei.disabled,Sr.disabled,Np(j.projMatrix),"$clipping",w.tileExtentBuffer,w.quadTriangleIndexBuffer,w.tileExtentSegments)}}pointCoordinate(c){const f=this.painter.transform;if(c.x<0||c.x>f.width||c.y<0||c.y>f.height)return null;const w=[c.x,c.y,1,1];a.a6.vec4.transformMat4(w,w,f.pixelMatrixInverse),a.a6.vec4.scale(w,w,1/w[3]),w[0]/=f.worldSize,w[1]/=f.worldSize;const I=f._camera.position,L=a.bD(1,f.center.lat),D=[I[0],I[1],I[2]/L,0],j=a.a6.vec3.subtract([],w.slice(0,3),D);a.a6.vec3.normalize(j,j);const K=this.raycast(D,j,this._exaggeration);return K!==null&&K?(a.a6.vec3.scaleAndAdd(D,D,j,K),D[3]=D[2],D[2]*=L,D):null}_setupProxiedCoordsForOrtho(c,f,w){if(c.getSource()instanceof a.aD)return this._setupProxiedCoordsForImageSource(c,f,w);this._findCoveringTileCache[c.id]=this._findCoveringTileCache[c.id]||{};const I=this.proxiedCoords[c.id]=[],L=this.proxyCoords;for(let K=0;K<L.length;K++){const Z=L[K],J=this._findTileCoveringTileID(Z,c);if(J){const oe=this._createProxiedId(Z,J,w[Z.key]&&w[Z.key][c.id]);I.push(oe),this.proxyToSource[Z.key][c.id]=[oe]}}let D=!1;const j=new Set;for(let K=0;K<f.length;K++){const Z=c.getTile(f[K]);if(!Z||!Z.hasData())continue;const J=this._findTileCoveringTileID(Z.tileID,this.proxySourceCache);if(J&&J.tileID.canonical.z!==Z.tileID.canonical.z){const oe=this.proxyToSource[J.tileID.key][c.id],ce=this._createProxiedId(J.tileID,Z,w[J.tileID.key]&&w[J.tileID.key][c.id]);oe?oe.splice(oe.length-1,0,ce):this.proxyToSource[J.tileID.key][c.id]=[ce];const he=this.proxyToSource[J.tileID.key][c.id];j.has(he)||j.add(he),I.push(ce),D=!0}}if(this._sourceTilesOverlap[c.id]=D,D&&this._debugParams.sortTilesHiZFirst)for(const K of j)K.sort((Z,J)=>J.overscaledZ-Z.overscaledZ)}_setupProxiedCoordsForImageSource(c,f,w){if(!c.getSource().loaded())return;const I=this.proxiedCoords[c.id]=[],L=this.proxyCoords,D=c.getSource(),j=D.tileID;if(!j)return;const K=new a.P(j.x,j.y)._div(1<<j.z),Z=D.coordinates.map(a.a5.fromLngLat).reduce((oe,ce)=>(oe.min.x=Math.min(oe.min.x,ce.x-K.x),oe.min.y=Math.min(oe.min.y,ce.y-K.y),oe.max.x=Math.max(oe.max.x,ce.x-K.x),oe.max.y=Math.max(oe.max.y,ce.y-K.y),oe),{min:new a.P(Number.MAX_VALUE,Number.MAX_VALUE),max:new a.P(-Number.MAX_VALUE,-Number.MAX_VALUE)}),J=(oe,ce)=>{const he=oe.wrap+oe.canonical.x/(1<<oe.canonical.z),Ce=oe.canonical.y/(1<<oe.canonical.z),Me=a.ab/(1<<oe.canonical.z),Ae=ce.wrap+ce.canonical.x/(1<<ce.canonical.z),ke=ce.canonical.y/(1<<ce.canonical.z);return he+Me<Ae+Z.min.x||he>Ae+Z.max.x||Ce+Me<ke+Z.min.y||Ce>ke+Z.max.y};for(let oe=0;oe<L.length;oe++){const ce=L[oe];for(let he=0;he<f.length;he++){const Ce=c.getTile(f[he]);if(!Ce||!Ce.hasData()||J(ce,Ce.tileID))continue;const Me=this._createProxiedId(ce,Ce,w[ce.key]&&w[ce.key][c.id]),Ae=this.proxyToSource[ce.key][c.id];Ae?Ae.push(Me):this.proxyToSource[ce.key][c.id]=[Me],I.push(Me)}}}_createProxiedId(c,f,w){let I=this.orthoMatrix;if(w){const L=w.find(D=>D.key===f.tileID.key);if(L)return L}if(f.tileID.key!==c.key){const L=c.canonical.z-f.tileID.canonical.z;let D,j,K;I=a.a6.mat4.create();const Z=f.tileID.wrap-c.wrap<<c.overscaledZ;L>0?(D=a.ab>>L,j=D*((f.tileID.canonical.x<<L)-c.canonical.x+Z),K=D*((f.tileID.canonical.y<<L)-c.canonical.y)):(D=a.ab<<-L,j=a.ab*(f.tileID.canonical.x-(c.canonical.x+Z<<-L)),K=a.ab*(f.tileID.canonical.y-(c.canonical.y<<-L))),a.a6.mat4.ortho(I,0,D,0,D,0,1),a.a6.mat4.translate(I,I,[j,K,0])}return new My(f.tileID,c.key,I)}_findTileCoveringTileID(c,f){let w=f.getTile(c);if(w&&w.hasData())return w;const I=this._findCoveringTileCache[f.id],L=I[c.key];if(w=L?f.getTileByID(L):null,w&&w.hasData()||L===null)return w;let D=w?w.tileID:c,j=D.overscaledZ;const K=f.getSource().minzoom,Z=[];if(!L){const oe=f.getSource().maxzoom;if(c.canonical.z>=oe){const ce=c.canonical.z-oe;f.getSource().reparseOverscaled?(j=Math.max(c.canonical.z+2,f.transform.tileZoom),D=new a.aA(j,c.wrap,oe,c.canonical.x>>ce,c.canonical.y>>ce)):ce!==0&&(j=oe,D=new a.aA(j,c.wrap,oe,c.canonical.x>>ce,c.canonical.y>>ce))}D.key!==c.key&&(Z.push(D.key),w=f.getTile(D))}const J=oe=>{Z.forEach(ce=>{I[ce]=oe}),Z.length=0};for(j-=1;j>=K&&(!w||!w.hasData());j--){w&&J(w.tileID.key);const oe=D.calculateScaledKey(j);if(w=f.getTileByID(oe),w&&w.hasData())break;const ce=I[oe];if(ce===null)break;ce===void 0?Z.push(oe):w=f.getTileByID(ce)}return J(w?w.tileID.key:null),w&&w.hasData()?w:null}findDEMTileFor(c){return this.enabled?this._findTileCoveringTileID(c,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(c,f){let w=this._tilesDirty[c];w||(w=this._tilesDirty[c]={}),w[f.key]=!0}}function Ay(x,c,f){const w=function(j,K,Z){const J=a.a6.vec3.dot(K,j),oe=a.a6.vec3.dot(Z,[.2126,.7152,.0722]),ce=(Ce,Me,Ae)=>(1-Ae)*Ce+Ae*Me,he=ce(1-.3*Math.min(oe,1),1,Math.min(J+1,1));return ce(.92,1,Math.asin(a.ap(K[2],-1,1))/Math.PI+.5)*he}(x,[0,0,1],c),I=[0,0,0];a.a6.vec3.scale(I,f.slice(0,3),w);const L=[0,0,0];a.a6.vec3.scale(L,c.slice(0,3),x[2]);const D=[0,0,0];return a.a6.vec3.add(D,I,L),a.cb(D)}const Md=["fill","fillOutline","fillPattern","line","linePattern","background","backgroundPattern","hillshade","raster"],i4=["stars","fillExtrusion","fillExtrusionGroundEffect","model","symbol"];class Ic{static cacheKey(c,f,w,I){let L=`${f}${I?I.cacheKey:""}`;for(const D of w)c.usedDefines.includes(D)&&(L+=`/${D}`);return L}constructor(c,f,w,I,L,D){const j=c.gl;this.program=j.createProgram(),this.configuration=I,this.name=f,this.fixedDefines=[...D];const K=I?I.getBinderAttributes():[],Z=(w.staticAttributes||[]).concat(K);let J=I?I.defines():[];J=J.concat(D.map(Ae=>`#define ${Ae}`));const oe=`#version 300 es
`;let ce=oe+J.concat("precision mediump float;",X0,Lp.fragmentSource).join(`
`);for(const Ae of w.fragmentIncludes)ce+=`
${Pp[Ae]}`;ce+=`
${w.fragmentSource}`;let he=oe+J.concat("precision highp float;",X0,Lp.vertexSource).join(`
`);for(const Ae of w.vertexIncludes)he+=`
${Pp[Ae]}`;he+=`
${w.vertexSource}`;const Ce=j.createShader(j.FRAGMENT_SHADER);if(j.isContextLost())return void(this.failedToCreate=!0);j.shaderSource(Ce,ce),j.compileShader(Ce),j.attachShader(this.program,Ce);const Me=j.createShader(j.VERTEX_SHADER);if(j.isContextLost())this.failedToCreate=!0;else{j.shaderSource(Me,he),j.compileShader(Me),j.attachShader(this.program,Me),this.attributes={},this.numAttributes=Z.length;for(let Ae=0;Ae<this.numAttributes;Ae++)if(Z[Ae]){const ke=Z[Ae].startsWith("a_")?Z[Ae]:`a_${Z[Ae]}`;j.bindAttribLocation(this.program,Ae,ke),this.attributes[ke]=Ae}j.linkProgram(this.program),j.deleteShader(Me),j.deleteShader(Ce),this.fixedUniforms=L(c),this.binderUniforms=I?I.getUniforms(c):[],(D.includes("TERRAIN")||f.indexOf("symbol")!==-1||f.indexOf("circle")!==-1)&&(this.terrainUniforms=(Ae=>({u_dem:new a.bJ(Ae),u_dem_prev:new a.bJ(Ae),u_dem_tl:new a.bG(Ae),u_dem_scale:new a.bI(Ae),u_dem_tl_prev:new a.bG(Ae),u_dem_scale_prev:new a.bI(Ae),u_dem_size:new a.bI(Ae),u_dem_lerp:new a.bI(Ae),u_exaggeration:new a.bI(Ae),u_depth:new a.bJ(Ae),u_depth_size_inv:new a.bG(Ae),u_depth_range_unpack:new a.bG(Ae),u_occluder_half_size:new a.bI(Ae),u_occlusion_depth_offset:new a.bI(Ae),u_meter_to_dem:new a.bI(Ae),u_label_plane_matrix_inv:new a.bF(Ae)}))(c)),D.includes("GLOBE")&&(this.globeUniforms=(Ae=>({u_tile_tl_up:new a.bH(Ae),u_tile_tr_up:new a.bH(Ae),u_tile_br_up:new a.bH(Ae),u_tile_bl_up:new a.bH(Ae),u_tile_up_scale:new a.bI(Ae)}))(c)),D.includes("FOG")&&(this.fogUniforms=(Ae=>({u_fog_matrix:new a.bF(Ae),u_fog_range:new a.bG(Ae),u_fog_color:new a.c6(Ae),u_fog_horizon_blend:new a.bI(Ae),u_fog_vertical_limit:new a.bG(Ae),u_fog_temporal_offset:new a.bI(Ae),u_frustum_tl:new a.bH(Ae),u_frustum_tr:new a.bH(Ae),u_frustum_br:new a.bH(Ae),u_frustum_bl:new a.bH(Ae),u_globe_pos:new a.bH(Ae),u_globe_radius:new a.bI(Ae),u_globe_transition:new a.bI(Ae),u_is_globe:new a.bJ(Ae),u_viewport:new a.bG(Ae)}))(c)),D.includes("RENDER_CUTOFF")&&(this.cutoffUniforms=(Ae=>({u_cutoff_params:new a.c6(Ae)}))(c)),D.includes("LIGHTING_3D_MODE")&&(this.lightsUniforms=(Ae=>({u_lighting_ambient_color:new a.bH(Ae),u_lighting_directional_dir:new a.bH(Ae),u_lighting_directional_color:new a.bH(Ae),u_ground_radiance:new a.bH(Ae)}))(c)),D.includes("RENDER_SHADOWS")&&(this.shadowUniforms=(Ae=>({u_light_matrix_0:new a.bF(Ae),u_light_matrix_1:new a.bF(Ae),u_fade_range:new a.bG(Ae),u_shadow_normal_offset:new a.bH(Ae),u_shadow_intensity:new a.bI(Ae),u_shadow_texel_size:new a.bI(Ae),u_shadow_map_resolution:new a.bI(Ae),u_shadow_direction:new a.bH(Ae),u_shadow_bias:new a.bH(Ae),u_shadowmap_0:new a.bJ(Ae),u_shadowmap_1:new a.bJ(Ae)}))(c))}}setTerrainUniformValues(c,f){if(!this.terrainUniforms)return;const w=this.terrainUniforms;if(!this.failedToCreate){c.program.set(this.program);for(const I in f)w[I]&&w[I].set(this.program,I,f[I])}}setGlobeUniformValues(c,f){if(!this.globeUniforms)return;const w=this.globeUniforms;if(!this.failedToCreate){c.program.set(this.program);for(const I in f)w[I]&&w[I].set(this.program,I,f[I])}}setFogUniformValues(c,f){if(!this.fogUniforms)return;const w=this.fogUniforms;if(!this.failedToCreate){c.program.set(this.program);for(const I in f)w[I].set(this.program,I,f[I])}}setCutoffUniformValues(c,f){if(!this.cutoffUniforms)return;const w=this.cutoffUniforms;if(!this.failedToCreate){c.program.set(this.program);for(const I in f)w[I].set(this.program,I,f[I])}}setLightsUniformValues(c,f){if(!this.lightsUniforms)return;const w=this.lightsUniforms;if(!this.failedToCreate){c.program.set(this.program);for(const I in f)w[I].set(this.program,I,f[I])}}setShadowUniformValues(c,f){if(this.failedToCreate||!this.shadowUniforms)return;const w=this.shadowUniforms;c.program.set(this.program);for(const I in f)w[I].set(this.program,I,f[I])}_drawDebugWireframe(c,f,w,I,L,D,j,K,Z,J){const oe=c.options.wireframe;if(oe.terrain===!1&&oe.layers2D===!1&&oe.layers3D===!1)return;const ce=c.context;if(!(!(!oe.terrain||this.name!=="terrainRaster"&&this.name!=="globeRaster")||!(!oe.layers2D||c._terrain&&c._terrain.renderingToTexture||!Md.includes(this.name))||!(!oe.layers3D||!i4.includes(this.name))))return;const he=ce.gl,Ce=c.wireframeDebugCache.getLinesFromTrianglesBuffer(c.frameCounter,L,ce);if(!Ce)return;const Me=[...this.fixedDefines];Me.push("DEBUG_WIREFRAME");const Ae=c.getOrCreateProgram(this.name,{config:this.configuration,defines:Me});ce.program.set(Ae.program);const ke=($e,Ke,qe)=>{if(Ke[$e]&&qe[$e])for(const at in Ke[$e])qe[$e][at]&&qe[$e][at].set(qe.program,at,Ke[$e][at].current)};Z&&Z.setUniforms(Ae.program,ce,Ae.binderUniforms,j,{zoom:K}),ke("fixedUniforms",this,Ae),ke("terrainUniforms",this,Ae),ke("globeUniforms",this,Ae),ke("fogUniforms",this,Ae),ke("lightsUniforms",this,Ae),ke("shadowUniforms",this,Ae),Ce.bind(),ce.setColorMode(new ei([he.ONE,he.ONE_MINUS_SRC_ALPHA,he.ZERO,he.ONE],a.bz.transparent,[!0,!0,!0,!1])),ce.setDepthMode(new lr(f.func===he.LESS?he.LEQUAL:f.func,lr.ReadOnly,f.range)),ce.setStencilMode(Ir.disabled);const He=3*D.primitiveLength*2,Ge=3*D.primitiveOffset*2*2;J&&J>1?he.drawElementsInstanced(he.LINES,He,he.UNSIGNED_SHORT,Ge,J):he.drawElements(he.LINES,He,he.UNSIGNED_SHORT,Ge),L.bind(),ce.program.set(this.program),ce.setDepthMode(f),ce.setStencilMode(w),ce.setColorMode(I)}draw(c,f,w,I,L,D,j,K,Z,J,oe,ce,he,Ce,Me,Ae){const ke=c.context,He=ke.gl;if(this.failedToCreate)return;ke.program.set(this.program),ke.setDepthMode(w),ke.setStencilMode(I),ke.setColorMode(L),ke.setCullFace(D);for(const Ke of Object.keys(this.fixedUniforms))this.fixedUniforms[Ke].set(this.program,Ke,j[Ke]);Ce&&Ce.setUniforms(this.program,ke,this.binderUniforms,ce,{zoom:he});const Ge={[He.POINTS]:1,[He.LINES]:2,[He.TRIANGLES]:3,[He.LINE_STRIP]:1}[f],$e=Ae&&Ae>0?1:void 0;for(const Ke of oe.get()){const qe=Ke.vaos||(Ke.vaos={});(qe[K]||(qe[K]=new Hh)).bind(ke,this,Z,Ce?Ce.getPaintVertexBuffers():[],J,Ke.vertexOffset,Me||[],$e),Ae&&Ae>1?He.drawElementsInstanced(f,Ke.primitiveLength*Ge,He.UNSIGNED_SHORT,Ke.primitiveOffset*Ge*2,Ae):J?He.drawElements(f,Ke.primitiveLength*Ge,He.UNSIGNED_SHORT,Ke.primitiveOffset*Ge*2):He.drawArrays(f,Ke.vertexOffset,Ke.vertexLength),f===He.TRIANGLES&&J&&this._drawDebugWireframe(c,w,I,L,J,Ke,ce,he,Ce,Ae)}}}function Iy(x,c){const f=Math.pow(2,c.tileID.overscaledZ),w=c.tileSize*Math.pow(2,x.transform.tileZoom)/f,I=w*(c.tileID.canonical.x+c.tileID.wrap*f),L=w*c.tileID.canonical.y;return{u_image:0,u_texsize:c.imageAtlasTexture?c.imageAtlasTexture.size:[0,0],u_tile_units_to_pixels:1/a.ak(c,1,x.transform.tileZoom),u_pixel_coord_upper:[I>>16,L>>16],u_pixel_coord_lower:[65535&I,65535&L]}}const ov=a.a6.mat4.create(),ky=(x,c,f,w,I,L,D,j,K,Z,J,oe,ce,he,Ce,Me)=>{const Ae=c.style.light,ke=Ae.properties.get("position"),He=[ke.x,ke.y,ke.z],Ge=a.a6.mat3.create();Ae.properties.get("anchor")==="viewport"&&(a.a6.mat3.fromRotation(Ge,-c.transform.angle),a.a6.vec3.transformMat3(He,He,Ge));const $e=Ae.properties.get("color"),Ke=c.transform,qe={u_matrix:x,u_lightpos:He,u_lightintensity:Ae.properties.get("intensity"),u_lightcolor:[$e.r,$e.g,$e.b],u_vertical_gradient:+f,u_opacity:w,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:ov,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:I,u_edge_radius:L,u_width_scale:D,u_flood_light_color:ce,u_vertical_scale:he,u_flood_light_intensity:Ce,u_ground_shadow_factor:Me};return Ke.projection.name==="globe"&&(qe.u_tile_id=[j.canonical.x,j.canonical.y,1<<j.canonical.z],qe.u_zoom_transition=Z,qe.u_inv_rot_matrix=oe,qe.u_merc_center=J,qe.u_up_dir=Ke.projection.upVector(new a.bP(0,0,0),J[0]*a.ab,J[1]*a.ab),qe.u_height_lift=K),qe},a4=(x,c,f,w)=>({u_matrix:x,u_edge_radius:c,u_width_scale:f,u_vertical_scale:w}),Py=(x,c,f,w,I,L,D,j,K,Z,J,oe,ce,he,Ce)=>{const Me=ky(x,c,f,w,I,L,D,j,Z,J,oe,ce,he,Ce,1,[0,0,0]),Ae={u_height_factor:-Math.pow(2,j.overscaledZ)/K.tileSize/8};return a.l(Me,Iy(c,K),Ae)},sv=(x,c)=>({u_matrix:x,u_emissive_strength:c}),o4=(x,c,f,w)=>a.l(sv(x,c),Iy(f,w)),s4=(x,c,f)=>({u_matrix:x,u_world:f,u_emissive_strength:c}),$p=(x,c,f,w,I)=>a.l(o4(x,c,f,w),{u_world:I}),TT=(x,c,f,w)=>{const I=a.ab/f.tileSize;return{u_matrix:x,u_camera_to_center_distance:c.getCameraToCenterDistance(w),u_extrude_scale:[c.pixelsToGLUnits[0]/I,c.pixelsToGLUnits[1]/I]}},l4=(x,c,f=1)=>({u_matrix:x,u_color:c.toRenderColor(null),u_overlay:0,u_overlay_scale:f}),u4=a.a6.mat4.create(),MT=(x,c,f,w,I,L,D)=>{const j=x.transform,K=j.projection.name==="globe",Z=K?a.cI(j.zoom,c.canonical)*j._pixelsPerMercatorPixel:a.ak(f,1,L),J={u_matrix:c.projMatrix,u_extrude_scale:Z,u_intensity:D,u_inv_rot_matrix:u4,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(K){J.u_inv_rot_matrix=w,J.u_merc_center=I,J.u_tile_id=[c.canonical.x,c.canonical.y,1<<c.canonical.z],J.u_zoom_transition=a.a9(j.zoom);const oe=I[0]*a.ab,ce=I[1]*a.ab;J.u_up_dir=j.projection.upVector(new a.bP(0,0,0),oe,ce)}return J};function lv(x,[c,f,w,I],[L,D]){if(L===D)return[0,0,0,0];const j=255*(x-1)/(x*(D-L));return[c*j,f*j,w*j,I*j]}function uv(x,c,[f,w]){return f===w?0:.5/x+(c-f)*(x-1)/(x*(w-f))}const Vp=(x,c,f,w,I,L,D,j,K,Z,J,oe,ce,he,Ce,Me,Ae,ke,He,Ge,$e)=>({u_matrix:x,u_normalize_matrix:c,u_globe_matrix:f,u_merc_matrix:w,u_grid_matrix:I,u_tl_parent:L,u_scale_parent:Z,u_fade_t:J.mix,u_opacity:J.opacity*oe.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:oe.paint.get("raster-brightness-min"),u_brightness_high:oe.paint.get("raster-brightness-max"),u_saturation_factor:a.cJ(oe.paint.get("raster-saturation")),u_contrast_factor:a.cK(oe.paint.get("raster-contrast")),u_spin_weights:Ly(oe.paint.get("raster-hue-rotate")),u_perspective_transform:ce,u_raster_elevation:he,u_zoom_transition:D,u_merc_center:j,u_cutoff_params:K,u_colorization_mix:lv(a.cL,Me,ke),u_colorization_offset:uv(a.cL,Ae,ke),u_color_ramp:Ce,u_texture_offset:[Ge/(He+2*Ge),He/(He+2*Ge)],u_texture_res:[He+2*Ge,He+2*Ge],u_emissive_strength:$e});function Ly(x){x*=Math.PI/180;const c=Math.sin(x),f=Math.cos(x);return[(2*f+1)/3,(-Math.sqrt(3)*c-f+1)/3,(Math.sqrt(3)*c-f+1)/3]}const Xl=.05,c4=(x,c,f,w,I,L,D,j,K,Z,J,oe)=>({u_matrix:x,u_normalize_matrix:c,u_globe_matrix:f,u_merc_matrix:w,u_grid_matrix:I,u_tl_parent:L,u_scale_parent:Z,u_fade_t:J.mix,u_opacity:J.opacity,u_image0:0,u_image1:1,u_raster_elevation:oe,u_zoom_transition:D,u_merc_center:j,u_cutoff_params:K}),cv=(x,c,f,w,I,L,D,j,K,Z)=>({u_particle_texture:x,u_particle_texture_side_len:c,u_tile_offset:f,u_velocity:w,u_color_ramp:L,u_velocity_res:I,u_max_speed:D,u_uv_offset:j,u_data_scale:[255*K[0],255*K[1]],u_data_offset:Z,u_particle_pos_scale:1.1,u_particle_pos_offset:[Xl,Xl]}),dv=(x,c,f,w,I,L,D,j,K,Z)=>({u_particle_texture:x,u_particle_texture_side_len:c,u_velocity:f,u_velocity_res:w,u_max_speed:I,u_speed_factor:L,u_reset_rate:D,u_rand_seed:Math.random(),u_uv_offset:j,u_data_scale:[255*K[0],255*K[1]],u_data_offset:Z,u_particle_pos_scale:1.1,u_particle_pos_offset:[Xl,Xl]}),hv=a.a6.mat4.create(),Ry=(x,c,f,w,I,L,D,j,K,Z,J,oe,ce,he,Ce,Me,Ae,ke,He,Ge,$e)=>{const Ke=I.transform,qe={u_is_size_zoom_constant:+(x==="constant"||x==="source"),u_is_size_feature_constant:+(x==="constant"||x==="camera"),u_size_t:c?c.uSizeT:0,u_size:c?c.uSize:0,u_camera_to_center_distance:Ke.getCameraToCenterDistance(He),u_rotate_symbol:+f,u_aspect_ratio:Ke.width/Ke.height,u_fade_change:I.options.fadeDuration?I.symbolFadeChange:1,u_matrix:L,u_label_plane_matrix:D,u_coord_matrix:j,u_is_text:+Z,u_elevation_from_sea:K?1:0,u_pitch_with_map:+w,u_texsize:J,u_texsize_icon:oe,u_texture:0,u_texture_icon:1,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:hv,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:hv,u_up_vector:[0,-1,0],u_color_adj_mat:Ge,u_icon_transition:$e||0,u_gamma_scale:w?I.transform.getCameraToCenterDistance(He)*Math.cos(I.terrain?0:I.transform._pitch):1,u_device_pixel_ratio:a.q.devicePixelRatio,u_is_halo:+ce};return He.name==="globe"&&(qe.u_tile_id=[he.canonical.x,he.canonical.y,1<<he.canonical.z],qe.u_zoom_transition=Ce,qe.u_inv_rot_matrix=Ae,qe.u_merc_center=Me,qe.u_camera_forward=Ke._camera.forward(),qe.u_ecef_origin=a.cM(Ke.globeMatrix,he.toUnwrapped()),qe.u_tile_matrix=Float32Array.from(Ke.globeMatrix),qe.u_up_vector=ke),qe},d4=(x,c,f,w)=>({u_matrix:x,u_emissive_strength:c,u_opacity:f,u_color:w}),Ed=(x,c,f,w,I,L,D,j,K)=>a.l(function(Z,J,oe,ce,he,Ce){const{width:Me,height:Ae}=ce.imageManager.getPixelSize(J),ke=Math.pow(2,Ce.tileID.overscaledZ),He=Ce.tileSize*Math.pow(2,ce.transform.tileZoom)/ke,Ge=He*(Ce.tileID.canonical.x+Ce.tileID.wrap*ke),$e=He*Ce.tileID.canonical.y;return{u_image:0,u_pattern_tl:oe.tl,u_pattern_br:oe.br,u_texsize:[Me,Ae],u_pattern_size:oe.displaySize,u_pattern_units_to_pixels:he?[ce.transform.width,-1*ce.transform.height]:[1/a.ak(Ce,1,ce.transform.tileZoom),1/a.ak(Ce,1,ce.transform.tileZoom)],u_pixel_coord_upper:[Ge>>16,$e>>16],u_pixel_coord_lower:[65535&Ge,65535&$e]}}(0,L,D,w,j,K),{u_matrix:x,u_emissive_strength:c,u_opacity:f}),qh=new Float32Array(a.a6.mat4.identity([])),Un=(x,c,f,w,I,L,D,j,K,Z,J,oe,ce,he=[0,0,0],Ce)=>{const Me=I.style.light,Ae=Me.properties.get("position"),ke=[-Ae.x,-Ae.y,Ae.z],He=a.a6.mat3.create();Me.properties.get("anchor")==="viewport"&&(a.a6.mat3.fromRotation(He,-I.transform.angle),a.a6.vec3.transformMat3(ke,ke,He));const Ge=J.alphaMode==="MASK",$e=Me.properties.get("color").toRenderColor(null),Ke=ce.paint.get("model-ambient-occlusion-intensity"),qe=ce.paint.get("model-color").constantOr(a.bz.white).toRenderColor(null),at=ce.paint.get("model-color-mix-intensity").constantOr(0);return{u_matrix:x,u_lighting_matrix:c,u_normal_matrix:f,u_node_matrix:w||qh,u_lightpos:ke,u_lightintensity:Me.properties.get("intensity"),u_lightcolor:[$e.r,$e.g,$e.b],u_camera_pos:he,u_opacity:L,u_baseTextureIsAlpha:0,u_alphaMask:+Ge,u_alphaCutoff:J.alphaCutoff,u_baseColorFactor:[D.r,D.g,D.b,D.a],u_emissiveFactor:[j[0],j[1],j[2],1],u_metallicFactor:K,u_roughnessFactor:Z,u_baseColorTexture:To.BaseColor,u_metallicRoughnessTexture:To.MetallicRoughness,u_normalTexture:To.Normal,u_occlusionTexture:To.Occlusion,u_emissionTexture:To.Emission,u_lutTexture:To.LUT,u_color_mix:[qe.r,qe.g,qe.b,at],u_aoIntensity:Ke,u_emissive_strength:oe,u_occlusionTextureTransform:Ce||[0,0,0,0]}},Dy=(x,c=qh,f=qh)=>({u_matrix:x,u_instance:c,u_node_matrix:f}),h4={fillExtrusion:x=>({u_matrix:new a.bF(x),u_lightpos:new a.bH(x),u_lightintensity:new a.bI(x),u_lightcolor:new a.bH(x),u_vertical_gradient:new a.bI(x),u_opacity:new a.bI(x),u_edge_radius:new a.bI(x),u_width_scale:new a.bI(x),u_ao:new a.bG(x),u_tile_id:new a.bH(x),u_zoom_transition:new a.bI(x),u_inv_rot_matrix:new a.bF(x),u_merc_center:new a.bG(x),u_up_dir:new a.bH(x),u_height_lift:new a.bI(x),u_flood_light_color:new a.bH(x),u_vertical_scale:new a.bI(x),u_flood_light_intensity:new a.bI(x),u_ground_shadow_factor:new a.bH(x)}),fillExtrusionDepth:x=>({u_matrix:new a.bF(x),u_edge_radius:new a.bI(x),u_width_scale:new a.bI(x),u_vertical_scale:new a.bI(x)}),fillExtrusionPattern:x=>({u_matrix:new a.bF(x),u_lightpos:new a.bH(x),u_lightintensity:new a.bI(x),u_lightcolor:new a.bH(x),u_vertical_gradient:new a.bI(x),u_height_factor:new a.bI(x),u_edge_radius:new a.bI(x),u_width_scale:new a.bI(x),u_ao:new a.bG(x),u_tile_id:new a.bH(x),u_zoom_transition:new a.bI(x),u_inv_rot_matrix:new a.bF(x),u_merc_center:new a.bG(x),u_up_dir:new a.bH(x),u_height_lift:new a.bI(x),u_image:new a.bJ(x),u_texsize:new a.bG(x),u_pixel_coord_upper:new a.bG(x),u_pixel_coord_lower:new a.bG(x),u_tile_units_to_pixels:new a.bI(x),u_opacity:new a.bI(x)}),fillExtrusionGroundEffect:x=>({u_matrix:new a.bF(x),u_opacity:new a.bI(x),u_ao_pass:new a.bI(x),u_meter_to_tile:new a.bI(x),u_ao:new a.bG(x),u_flood_light_intensity:new a.bI(x),u_flood_light_color:new a.bH(x),u_attenuation:new a.bI(x),u_edge_radius:new a.bI(x),u_fb:new a.bJ(x),u_fb_size:new a.bI(x),u_dynamic_offset:new a.bI(x)}),fill:x=>({u_matrix:new a.bF(x),u_emissive_strength:new a.bI(x)}),fillPattern:x=>({u_matrix:new a.bF(x),u_emissive_strength:new a.bI(x),u_image:new a.bJ(x),u_texsize:new a.bG(x),u_pixel_coord_upper:new a.bG(x),u_pixel_coord_lower:new a.bG(x),u_tile_units_to_pixels:new a.bI(x)}),fillOutline:x=>({u_matrix:new a.bF(x),u_emissive_strength:new a.bI(x),u_world:new a.bG(x)}),fillOutlinePattern:x=>({u_matrix:new a.bF(x),u_emissive_strength:new a.bI(x),u_world:new a.bG(x),u_image:new a.bJ(x),u_texsize:new a.bG(x),u_pixel_coord_upper:new a.bG(x),u_pixel_coord_lower:new a.bG(x),u_tile_units_to_pixels:new a.bI(x)}),circle:a.cN,collisionBox:x=>({u_matrix:new a.bF(x),u_camera_to_center_distance:new a.bI(x),u_extrude_scale:new a.bG(x)}),collisionCircle:x=>({u_matrix:new a.bF(x),u_inv_matrix:new a.bF(x),u_camera_to_center_distance:new a.bI(x),u_viewport_size:new a.bG(x)}),debug:x=>({u_color:new a.cu(x),u_matrix:new a.bF(x),u_overlay:new a.bJ(x),u_overlay_scale:new a.bI(x)}),clippingMask:x=>({u_matrix:new a.bF(x)}),heatmap:x=>({u_extrude_scale:new a.bI(x),u_intensity:new a.bI(x),u_matrix:new a.bF(x),u_inv_rot_matrix:new a.bF(x),u_merc_center:new a.bG(x),u_tile_id:new a.bH(x),u_zoom_transition:new a.bI(x),u_up_dir:new a.bH(x)}),heatmapTexture:x=>({u_image:new a.bJ(x),u_color_ramp:new a.bJ(x),u_opacity:new a.bI(x)}),hillshade:x=>({u_matrix:new a.bF(x),u_image:new a.bJ(x),u_latrange:new a.bG(x),u_light:new a.bG(x),u_shadow:new a.cu(x),u_highlight:new a.cu(x),u_emissive_strength:new a.bI(x),u_accent:new a.cu(x)}),hillshadePrepare:x=>({u_matrix:new a.bF(x),u_image:new a.bJ(x),u_dimension:new a.bG(x),u_zoom:new a.bI(x)}),line:a.cO,linePattern:a.cP,raster:x=>({u_matrix:new a.bF(x),u_normalize_matrix:new a.bF(x),u_globe_matrix:new a.bF(x),u_merc_matrix:new a.bF(x),u_grid_matrix:new a.cv(x),u_tl_parent:new a.bG(x),u_scale_parent:new a.bI(x),u_fade_t:new a.bI(x),u_opacity:new a.bI(x),u_image0:new a.bJ(x),u_image1:new a.bJ(x),u_brightness_low:new a.bI(x),u_brightness_high:new a.bI(x),u_saturation_factor:new a.bI(x),u_contrast_factor:new a.bI(x),u_spin_weights:new a.bH(x),u_perspective_transform:new a.bG(x),u_raster_elevation:new a.bI(x),u_zoom_transition:new a.bI(x),u_merc_center:new a.bG(x),u_cutoff_params:new a.c6(x),u_colorization_mix:new a.c6(x),u_colorization_offset:new a.bI(x),u_color_ramp:new a.bJ(x),u_texture_offset:new a.bG(x),u_texture_res:new a.bG(x),u_emissive_strength:new a.bI(x)}),rasterParticle:x=>({u_matrix:new a.bF(x),u_normalize_matrix:new a.bF(x),u_globe_matrix:new a.bF(x),u_merc_matrix:new a.bF(x),u_grid_matrix:new a.cv(x),u_tl_parent:new a.bG(x),u_scale_parent:new a.bI(x),u_fade_t:new a.bI(x),u_opacity:new a.bI(x),u_image0:new a.bJ(x),u_image1:new a.bJ(x),u_raster_elevation:new a.bI(x),u_zoom_transition:new a.bI(x),u_merc_center:new a.bG(x),u_cutoff_params:new a.c6(x)}),rasterParticleTexture:x=>({u_texture:new a.bJ(x),u_opacity:new a.bI(x)}),rasterParticleDraw:x=>({u_particle_texture:new a.bJ(x),u_particle_texture_side_len:new a.bI(x),u_tile_offset:new a.bG(x),u_velocity:new a.bJ(x),u_color_ramp:new a.bJ(x),u_velocity_res:new a.bG(x),u_max_speed:new a.bI(x),u_uv_offset:new a.bG(x),u_data_scale:new a.bG(x),u_data_offset:new a.bI(x),u_particle_pos_scale:new a.bI(x),u_particle_pos_offset:new a.bG(x)}),rasterParticleUpdate:x=>({u_particle_texture:new a.bJ(x),u_particle_texture_side_len:new a.bI(x),u_velocity:new a.bJ(x),u_velocity_res:new a.bG(x),u_max_speed:new a.bI(x),u_speed_factor:new a.bI(x),u_reset_rate:new a.bI(x),u_rand_seed:new a.bI(x),u_uv_offset:new a.bG(x),u_data_scale:new a.bG(x),u_data_offset:new a.bI(x),u_particle_pos_scale:new a.bI(x),u_particle_pos_offset:new a.bG(x)}),symbol:x=>({u_is_size_zoom_constant:new a.bJ(x),u_is_size_feature_constant:new a.bJ(x),u_size_t:new a.bI(x),u_size:new a.bI(x),u_camera_to_center_distance:new a.bI(x),u_rotate_symbol:new a.bJ(x),u_aspect_ratio:new a.bI(x),u_fade_change:new a.bI(x),u_matrix:new a.bF(x),u_label_plane_matrix:new a.bF(x),u_coord_matrix:new a.bF(x),u_is_text:new a.bJ(x),u_elevation_from_sea:new a.bJ(x),u_pitch_with_map:new a.bJ(x),u_texsize:new a.bG(x),u_texsize_icon:new a.bG(x),u_texture:new a.bJ(x),u_texture_icon:new a.bJ(x),u_gamma_scale:new a.bI(x),u_device_pixel_ratio:new a.bI(x),u_tile_id:new a.bH(x),u_zoom_transition:new a.bI(x),u_inv_rot_matrix:new a.bF(x),u_merc_center:new a.bG(x),u_camera_forward:new a.bH(x),u_tile_matrix:new a.bF(x),u_up_vector:new a.bH(x),u_ecef_origin:new a.bH(x),u_is_halo:new a.bJ(x),u_icon_transition:new a.bI(x),u_color_adj_mat:new a.bF(x)}),background:x=>({u_matrix:new a.bF(x),u_emissive_strength:new a.bI(x),u_opacity:new a.bI(x),u_color:new a.cu(x)}),backgroundPattern:x=>({u_matrix:new a.bF(x),u_emissive_strength:new a.bI(x),u_opacity:new a.bI(x),u_image:new a.bJ(x),u_pattern_tl:new a.bG(x),u_pattern_br:new a.bG(x),u_texsize:new a.bG(x),u_pattern_size:new a.bG(x),u_pixel_coord_upper:new a.bG(x),u_pixel_coord_lower:new a.bG(x),u_pattern_units_to_pixels:new a.bG(x)}),terrainRaster:x=>({u_matrix:new a.bF(x),u_image0:new a.bJ(x),u_skirt_height:new a.bI(x),u_ground_shadow_factor:new a.bH(x)}),skybox:x=>({u_matrix:new a.bF(x),u_sun_direction:new a.bH(x),u_cubemap:new a.bJ(x),u_opacity:new a.bI(x),u_temporal_offset:new a.bI(x)}),skyboxGradient:x=>({u_matrix:new a.bF(x),u_color_ramp:new a.bJ(x),u_center_direction:new a.bH(x),u_radius:new a.bI(x),u_opacity:new a.bI(x),u_temporal_offset:new a.bI(x)}),skyboxCapture:x=>({u_matrix_3f:new a.cv(x),u_sun_direction:new a.bH(x),u_sun_intensity:new a.bI(x),u_color_tint_r:new a.c6(x),u_color_tint_m:new a.c6(x),u_luminance:new a.bI(x)}),globeRaster:x=>({u_proj_matrix:new a.bF(x),u_globe_matrix:new a.bF(x),u_normalize_matrix:new a.bF(x),u_merc_matrix:new a.bF(x),u_zoom_transition:new a.bI(x),u_merc_center:new a.bG(x),u_image0:new a.bJ(x),u_grid_matrix:new a.cv(x),u_skirt_height:new a.bI(x),u_far_z_cutoff:new a.bI(x),u_frustum_tl:new a.bH(x),u_frustum_tr:new a.bH(x),u_frustum_br:new a.bH(x),u_frustum_bl:new a.bH(x),u_globe_pos:new a.bH(x),u_globe_radius:new a.bI(x),u_viewport:new a.bG(x)}),globeAtmosphere:x=>({u_frustum_tl:new a.bH(x),u_frustum_tr:new a.bH(x),u_frustum_br:new a.bH(x),u_frustum_bl:new a.bH(x),u_horizon:new a.bI(x),u_transition:new a.bI(x),u_fadeout_range:new a.bI(x),u_color:new a.c6(x),u_high_color:new a.c6(x),u_space_color:new a.c6(x),u_temporal_offset:new a.bI(x),u_horizon_angle:new a.bI(x)}),model:x=>({u_matrix:new a.bF(x),u_lighting_matrix:new a.bF(x),u_normal_matrix:new a.bF(x),u_node_matrix:new a.bF(x),u_lightpos:new a.bH(x),u_lightintensity:new a.bI(x),u_lightcolor:new a.bH(x),u_camera_pos:new a.bH(x),u_opacity:new a.bI(x),u_baseColorFactor:new a.c6(x),u_emissiveFactor:new a.c6(x),u_metallicFactor:new a.bI(x),u_roughnessFactor:new a.bI(x),u_baseTextureIsAlpha:new a.bJ(x),u_alphaMask:new a.bJ(x),u_alphaCutoff:new a.bI(x),u_baseColorTexture:new a.bJ(x),u_metallicRoughnessTexture:new a.bJ(x),u_normalTexture:new a.bJ(x),u_occlusionTexture:new a.bJ(x),u_emissionTexture:new a.bJ(x),u_lutTexture:new a.bJ(x),u_color_mix:new a.c6(x),u_aoIntensity:new a.bI(x),u_emissive_strength:new a.bI(x),u_occlusionTextureTransform:new a.c6(x)}),modelDepth:x=>({u_matrix:new a.bF(x),u_instance:new a.bF(x),u_node_matrix:new a.bF(x)}),groundShadow:x=>({u_matrix:new a.bF(x),u_ground_shadow_factor:new a.bH(x)}),stars:x=>({u_matrix:new a.bF(x),u_up:new a.bH(x),u_right:new a.bH(x),u_intensity_multiplier:new a.bI(x)}),occlusion:x=>({u_matrix:new a.bF(x),u_anchorPos:new a.bH(x),u_screenSizePx:new a.bG(x),u_occluderSizePx:new a.bG(x),u_color:new a.c6(x)})};class ss{constructor(c,f,w,I){this.id=ss.uniqueIdxCounter,ss.uniqueIdxCounter++,this.context=c;const L=c.gl;this.buffer=L.createBuffer(),this.dynamicDraw=!!w,this.context.unbindVAO(),c.bindElementBuffer.set(this.buffer),L.bufferData(L.ELEMENT_ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?L.DYNAMIC_DRAW:L.STATIC_DRAW),this.dynamicDraw||I||f.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(c){this.id=ss.uniqueIdxCounter,ss.uniqueIdxCounter++;const f=this.context.gl;this.context.unbindVAO(),this.bind(),f.bufferSubData(f.ELEMENT_ARRAY_BUFFER,0,c.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}ss.uniqueIdxCounter=0;const Ad={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class nr{constructor(c,f,w,I,L,D){this.length=f.length,this.attributes=w,this.itemSize=f.bytesPerElement,this.dynamicDraw=I,this.instanceCount=D,this.context=c;const j=c.gl;this.buffer=j.createBuffer(),c.bindVertexBuffer.set(this.buffer),j.bufferData(j.ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?j.DYNAMIC_DRAW:j.STATIC_DRAW),this.dynamicDraw||L||f.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(c){const f=this.context.gl;this.bind(),f.bufferSubData(f.ARRAY_BUFFER,0,c.arrayBuffer)}enableAttributes(c,f){for(let w=0;w<this.attributes.length;w++){const I=f.attributes[this.attributes[w].name];I!==void 0&&c.enableVertexAttribArray(I)}}setVertexAttribPointers(c,f,w){for(let I=0;I<this.attributes.length;I++){const L=this.attributes[I],D=f.attributes[L.name];D!==void 0&&c.vertexAttribPointer(D,L.components,c[Ad[L.type]],!1,this.itemSize,L.offset+this.itemSize*(w||0))}}setVertexAttribDivisor(c,f,w){for(let I=0;I<this.attributes.length;I++){const L=f.attributes[this.attributes[I].name];L!==void 0&&this.instanceCount&&this.instanceCount>0&&c.vertexAttribDivisor(L,w)}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class fv{constructor(c,f,w,I,L){this.context=c,this.width=f,this.height=w;const D=this.framebuffer=c.gl.createFramebuffer();I&&(this.colorAttachment=new iv(c,D)),L&&(this.depthAttachmentType=L,this.depthAttachment=L==="renderbuffer"?new Cy(c,D):new Jw(c,D))}destroy(){const c=this.context.gl;if(this.colorAttachment){const f=this.colorAttachment.get();f&&c.deleteTexture(f)}if(this.depthAttachment&&this.depthAttachmentType)if(this.depthAttachmentType==="renderbuffer"){const f=this.depthAttachment.get();f&&c.deleteRenderbuffer(f)}else{const f=this.depthAttachment.get();f&&c.deleteTexture(f)}c.deleteFramebuffer(this.framebuffer)}}class ET{constructor(c,f){this.gl=c,this.clearColor=new py(this),this.clearDepth=new jw(this),this.clearStencil=new my(this),this.colorMask=new ev(this),this.depthMask=new Op(this),this.stencilMask=new Gw(this),this.stencilFunc=new Ww(this),this.stencilOp=new qw(this),this.stencilTest=new Uh(this),this.depthRange=new Kw(this),this.depthTest=new bT(this),this.depthFunc=new xT(this),this.blend=new wT(this),this.blendFunc=new vy(this),this.blendColor=new gy(this),this.blendEquation=new _y(this),this.cullFace=new yy(this),this.cullFaceSide=new Yw(this),this.frontFace=new Zw(this),this.program=new ST(this),this.activeTexture=new zp(this),this.viewport=new Bp(this),this.bindFramebuffer=new Xw(this),this.bindRenderbuffer=new Is(this),this.bindTexture=new by(this),this.bindVertexBuffer=new tv(this),this.bindElementBuffer=new nv(this),this.bindVertexArrayOES=new xy(this),this.pixelStoreUnpack=new wy(this),this.pixelStoreUnpackPremultiplyAlpha=new rv(this),this.pixelStoreUnpackFlipY=new Sy(this),this.options=f?{...f}:{},this.options.extTextureFilterAnisotropicForceOff||(this.extTextureFilterAnisotropic=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=c.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT))),this.extDebugRendererInfo=c.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=c.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=c.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.options.extTextureFloatLinearForceOff||(this.extTextureFloatLinear=c.getExtension("OES_texture_float_linear")),this.extRenderToTextureHalfFloat=c.getExtension("EXT_color_buffer_half_float"),this.extTimerQuery=c.getExtension("EXT_disjoint_timer_query_webgl2"),this.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE),this.maxPointSize=c.getParameter(c.ALIASED_POINT_SIZE_RANGE)[1]}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArrayOES.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(c,f,w){return new ss(this,c,f,w)}createVertexBuffer(c,f,w,I,L){return new nr(this,c,f,w,I,L)}createRenderbuffer(c,f,w){const I=this.gl,L=I.createRenderbuffer();return this.bindRenderbuffer.set(L),I.renderbufferStorage(I.RENDERBUFFER,c,f,w),this.bindRenderbuffer.set(null),L}createFramebuffer(c,f,w,I){return new fv(this,c,f,w,I)}clear({color:c,depth:f,stencil:w,colorMask:I}){const L=this.gl;let D=0;c&&(D|=L.COLOR_BUFFER_BIT,this.clearColor.set(c),this.colorMask.set(I||[!0,!0,!0,!0])),f!==void 0&&(D|=L.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(f),this.depthMask.set(!0)),w!==void 0&&(D|=L.STENCIL_BUFFER_BIT,this.clearStencil.set(w),this.stencilMask.set(255)),L.clear(D)}setCullFace(c){c.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(c.mode),this.frontFace.set(c.frontFace))}setDepthMode(c){c.func!==this.gl.ALWAYS||c.mask?(this.depthTest.set(!0),this.depthFunc.set(c.func),this.depthMask.set(c.mask),this.depthRange.set(c.range)):this.depthTest.set(!1)}setStencilMode(c){c.test.func!==this.gl.ALWAYS||c.mask?(this.stencilTest.set(!0),this.stencilMask.set(c.mask),this.stencilOp.set([c.fail,c.depthFail,c.pass]),this.stencilFunc.set({func:c.test.func,ref:c.ref,mask:c.test.mask})):this.stencilTest.set(!1)}setColorMode(c){a.bh(c.blendFunction,ei.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(c.blendFunction),this.blendColor.set(c.blendColor),c.blendEquation?this.blendEquation.set(c.blendEquation):this.blendEquation.setDefault()),this.colorMask.set(c.mask)}unbindVAO(){this.bindVertexArrayOES.set(null)}}let pv;function mv(x,c,f,w,I,L,D){const j=x.context,K=j.gl,Z=x.transform,J=x.getOrCreateProgram("collisionBox"),oe=[];let ce=0,he=0;for(let $e=0;$e<w.length;$e++){const Ke=w[$e],qe=c.getTile(Ke),at=qe.getBucket(f);if(!at)continue;const nt=Pw(Ke,at,Z);let st=nt;I[0]===0&&I[1]===0||(st=x.translatePosMatrix(nt,qe,I,L));const gt=D?at.textCollisionBox:at.iconCollisionBox,ft=at.collisionCircleArray;if(ft.length>0){const ct=a.a6.mat4.create(),Pt=st;a.a6.mat4.mul(ct,at.placementInvProjMatrix,Z.glCoordMatrix),a.a6.mat4.mul(ct,ct,at.placementViewportMatrix),oe.push({circleArray:ft,circleOffset:he,transform:Pt,invTransform:ct,projection:at.getProjection()}),ce+=ft.length/4,he=ce}gt&&(x.terrain&&x.terrain.setupElevationDraw(qe,J),J.draw(x,K.LINES,lr.disabled,Ir.disabled,x.colorModeForRenderPass(),Sr.disabled,TT(st,Z,qe,at.getProjection()),f.id,gt.layoutVertexBuffer,gt.indexBuffer,gt.segments,null,Z.zoom,null,[gt.collisionVertexBuffer,gt.collisionVertexBufferExt]))}if(!D||!oe.length)return;const Ce=x.getOrCreateProgram("collisionCircle"),Me=new a.cQ;Me.resize(4*ce),Me._trim();let Ae=0;for(const $e of oe)for(let Ke=0;Ke<$e.circleArray.length/4;Ke++){const qe=4*Ke,at=$e.circleArray[qe+0],nt=$e.circleArray[qe+1],st=$e.circleArray[qe+2],gt=$e.circleArray[qe+3];Me.emplace(Ae++,at,nt,st,gt,0),Me.emplace(Ae++,at,nt,st,gt,1),Me.emplace(Ae++,at,nt,st,gt,2),Me.emplace(Ae++,at,nt,st,gt,3)}(!pv||pv.length<2*ce)&&(pv=function($e){const Ke=2*$e,qe=new a.aO;qe.resize(Ke),qe._trim();for(let at=0;at<Ke;at++){const nt=6*at;qe.uint16[nt+0]=4*at+0,qe.uint16[nt+1]=4*at+1,qe.uint16[nt+2]=4*at+2,qe.uint16[nt+3]=4*at+2,qe.uint16[nt+4]=4*at+3,qe.uint16[nt+5]=4*at+0}return qe}(ce));const ke=j.createIndexBuffer(pv,!0),He=j.createVertexBuffer(Me,a.cR.members,!0);for(const $e of oe){const Ke={u_matrix:$e.transform,u_inv_matrix:$e.invTransform,u_camera_to_center_distance:(Ge=Z).getCameraToCenterDistance($e.projection),u_viewport_size:[Ge.width,Ge.height]};Ce.draw(x,K.TRIANGLES,lr.disabled,Ir.disabled,x.colorModeForRenderPass(),Sr.disabled,Ke,f.id,He,ke,a.b1.simpleSegment(0,2*$e.circleOffset,$e.circleArray.length,$e.circleArray.length/2),null,Z.zoom)}var Ge;He.destroy(),ke.destroy()}const Hp=a.a6.mat4.create();function Oy(x){const c=x._camera.getWorldToCamera(x.worldSize,1),f=a.a6.mat4.multiply([],c,x.globeMatrix);a.a6.mat4.invert(f,f);const w=[0,0,0],I=[0,1,0,0];return a.a6.vec4.transformMat4(I,I,f),w[0]=I[0],w[1]=I[1],w[2]=I[2],a.a6.vec3.normalize(w,w),w}function AT({width:x,height:c,anchor:f,textOffset:w,textScale:I},L){const{horizontalAlign:D,verticalAlign:j}=a.bx(f),K=-(D-.5)*x,Z=-(j-.5)*c,J=a.bw(f,w);return new a.P((K/I+J[0])*L,(Z/I+J[1])*L)}function IT(x,c,f,w,I,L,D,j,K,Z,J){const oe=x.text.placedSymbolArray,ce=x.text.dynamicLayoutVertexArray,he=x.icon.dynamicLayoutVertexArray,Ce={},Me=x.getProjection(),Ae=Tc(j,Me,L),ke=L.elevation,He=Me.upVectorScale(j.canonical,L.center.lat,L.worldSize).metersToTile;ce.clear();for(let Ge=0;Ge<oe.length;Ge++){const $e=oe.get(Ge),{tileAnchorX:Ke,tileAnchorY:qe,numGlyphs:at}=$e,nt=$e.hidden||!$e.crossTileID||x.allowVerticalPlacement&&!$e.placedOrientation?null:w[$e.crossTileID];if(nt){let st=0,gt=0,ft=0;if(ke){const Qt=ke?ke.getAtTileOffset(j,Ke,qe):0,[xn,Sn,sn]=Me.upVector(j.canonical,Ke,qe);st=Qt*xn*He,gt=Qt*Sn*He,ft=Qt*sn*He}let[ct,Pt,Yt,cn]=Oo($e.projectedAnchorX+st,$e.projectedAnchorY+gt,$e.projectedAnchorZ+ft,f?Ae:D);const Kt=pi(L.getCameraToCenterDistance(Me),cn);let _n=I.evaluateSizeForFeature(x.textSizeData,Z,$e)*Kt/a.bq;f&&(_n*=x.tilePixelRatio/K);const Lt=AT(nt,_n);f?({x:ct,y:Pt,z:Yt}=Me.projectTilePoint(Ke+Lt.x,qe+Lt.y,j.canonical),[ct,Pt,Yt]=Oo(ct+st,Pt+gt,Yt+ft,D)):(c&&Lt._rotate(-L.angle),ct+=Lt.x,Pt+=Lt.y,Yt=0);const on=x.allowVerticalPlacement&&$e.placedOrientation===a.bk.vertical?Math.PI/2:0;for(let Qt=0;Qt<at;Qt++)a.bn(ce,ct,Pt,Yt,on);J&&$e.associatedIconIndex>=0&&(Ce[$e.associatedIconIndex]={x:ct,y:Pt,z:Yt,angle:on})}else Zl(at,ce)}if(J){he.clear();const Ge=x.icon.placedSymbolArray;for(let $e=0;$e<Ge.length;$e++){const Ke=Ge.get($e),{numGlyphs:qe}=Ke,at=Ce[$e];if(Ke.hidden||!at)Zl(qe,he);else{const{x:nt,y:st,z:gt,angle:ft}=at;for(let ct=0;ct<qe;ct++)a.bn(he,nt,st,gt,ft)}}x.icon.dynamicLayoutVertexBuffer.updateData(he)}x.text.dynamicLayoutVertexBuffer.updateData(ce)}function Up(x,c,f,w,I,L,D={}){const j=f.paint.get("icon-translate"),K=f.paint.get("text-translate"),Z=f.paint.get("icon-translate-anchor"),J=f.paint.get("text-translate-anchor"),oe=f.layout.get("icon-rotation-alignment"),ce=f.layout.get("text-rotation-alignment"),he=f.layout.get("icon-pitch-alignment"),Ce=f.layout.get("text-pitch-alignment"),Me=f.layout.get("icon-keep-upright"),Ae=f.layout.get("text-keep-upright"),ke=f.paint.get("icon-color-saturation"),He=f.paint.get("icon-color-contrast"),Ge=f.paint.get("icon-color-brightness-min"),$e=f.paint.get("icon-color-brightness-max"),Ke=f.paint.get("symbol-elevation-reference")==="sea",qe=f.paint.get("text-occlusion-opacity").constantOr(0),at=x.context,nt=at.gl,st=x.transform,gt=oe==="map",ft=ce==="map",ct=he==="map",Pt=Ce==="map",Yt=f.layout.get("symbol-sort-key").constantOr(1)!==void 0;let cn=!1;const Kt=x.depthModeForSublayer(0,lr.ReadOnly),_n=[a.am(st.center.lng),a.at(st.center.lat)],Lt=f.layout.get("text-variable-anchor"),on=st.projection.name==="globe",Qt=[],xn=[0,-1,0];for(const Sn of w){const sn=c.getTile(Sn),vn=sn.getBucket(f);if(!vn||vn.projection.name==="mercator"&&on||vn.fullyClipped)continue;const ar=vn.projection.name==="globe",In=ar?a.a9(st.zoom):0,$n=Tc(Sn,vn.getProjection(),st),wr=st.calculatePixelsToTileUnitsMatrix(sn),Xn=Lt&&vn.hasTextData(),fr=vn.hasIconTextFit()&&Xn&&vn.hasIconData(),jr=vn.getProjection().createInversionMatrix(st,Sn.canonical),Fr=zi=>{st.depthOcclusionForSymbolsAndCircles&&(f.hasInitialOcclusionOpacityProperties||x.terrain)&&(zi.push("DEPTH_D24"),zi.push("DEPTH_OCCLUSION"))},Ri=()=>{const zi=gt&&f.layout.get("symbol-placement")!=="point",$r=[];Fr($r);const bi=zi||fr,ki=f.paint.get("icon-image-cross-fade").constantOr(0);x.terrainRenderModeElevated()&&ct&&$r.push("PITCH_WITH_MAP_TERRAIN"),ar&&($r.push("PROJECTION_GLOBE_VIEW"),bi&&$r.push("PROJECTED_POS_ON_VIEWPORT")),ki>0&&$r.push("ICON_TRANSITION"),vn.icon.zOffsetVertexBuffer&&$r.push("Z_OFFSET"),ke===0&&He===0&&Ge===0&&$e===1||$r.push("COLOR_ADJUSTMENT"),vn.sdfIcons&&$r.push("RENDER_SDF");const xa=vn.icon.programConfigurations.get(f.id),Na=x.getOrCreateProgram("symbol",{config:xa,defines:$r}),hi=sn.imageAtlasTexture?sn.imageAtlasTexture.size:[0,0],Qa=vn.iconSizeData,oo=a.bj(Qa,st.zoom),eo=ct||st.pitch!==0,Yi=ui($n,sn.tileID.canonical,ct,gt,st,vn.getProjection(),wr),Ko=as($n,sn.tileID.canonical,ct,gt,st,vn.getProjection(),wr),Yo=x.translatePosMatrix(Ko,sn,j,Z,!0),Zs=x.translatePosMatrix($n,sn,j,Z),Ps=bi?Hp:Yi,us=gt&&!ct&&!zi;let Xs=xn;!on&&!st.mercatorFromTransition||gt||(Xs=Oy(st));const Uu=ar?Xs:xn,zc=f.getColorAdjustmentMatrix(ke,He,Ge,$e),tu=Ry(Qa.kind,oo,us,ct,x,Zs,Ps,Yo,Ke,!1,hi,[0,0],!0,Sn,In,_n,jr,Uu,vn.getProjection(),zc,ki),af=sn.imageAtlasTexture?sn.imageAtlasTexture:null,of=f.layout.get("icon-size").constantOr(0)!==1||vn.iconsNeedLinear,Lv=vn.sdfIcons||x.options.rotating||x.options.zooming||of||eo?nt.LINEAR:nt.NEAREST,sf=vn.sdfIcons&&f.paint.get("icon-halo-width").constantOr(1)!==0,Zi=x.terrain&&ct&&zi?a.a6.mat4.invert(a.a6.mat4.create(),Yi):Hp;if(zi&&vn.icon){const Dd=st.elevation,jT=Dd?Dd.getAtTileOffsetFunc(Sn,st.center.lat,st.worldSize,vn.getProjection()):null,P4=ci($n,sn.tileID.canonical,ct,gt,st,vn.getProjection(),wr);Ih(vn,$n,x,!1,P4,Ko,ct,Me,jT,Sn)}return{program:Na,buffers:vn.icon,uniformValues:tu,atlasTexture:af,atlasTextureIcon:null,atlasInterpolation:Lv,atlasInterpolationIcon:null,isSDF:vn.sdfIcons,hasHalo:sf,tile:sn,labelPlaneMatrixInv:Zi}},Ui=()=>{const zi=ft&&f.layout.get("symbol-placement")!=="point",$r=[],bi=zi||Lt||fr;x.terrainRenderModeElevated()&&Pt&&$r.push("PITCH_WITH_MAP_TERRAIN"),ar&&($r.push("PROJECTION_GLOBE_VIEW"),bi&&$r.push("PROJECTED_POS_ON_VIEWPORT")),vn.text.zOffsetVertexBuffer&&$r.push("Z_OFFSET"),vn.iconsInText&&$r.push("RENDER_TEXT_AND_SYMBOL"),$r.push("RENDER_SDF"),Fr($r);const ki=vn.text.programConfigurations.get(f.id),xa=x.getOrCreateProgram("symbol",{config:ki,defines:$r});let Na,hi=[0,0],Qa=null;const oo=vn.textSizeData;vn.iconsInText&&(hi=sn.imageAtlasTexture?sn.imageAtlasTexture.size:[0,0],Qa=sn.imageAtlasTexture?sn.imageAtlasTexture:null,Na=Pt||st.pitch!==0||x.options.rotating||x.options.zooming||oo.kind==="composite"||oo.kind==="camera"?nt.LINEAR:nt.NEAREST);const eo=sn.glyphAtlasTexture?sn.glyphAtlasTexture.size:[0,0],Yi=a.bj(oo,st.zoom),Ko=ui($n,sn.tileID.canonical,Pt,ft,st,vn.getProjection(),wr),Yo=as($n,sn.tileID.canonical,Pt,ft,st,vn.getProjection(),wr),Zs=x.translatePosMatrix(Yo,sn,K,J,!0),Ps=x.translatePosMatrix($n,sn,K,J),us=bi?Hp:Ko,Xs=ft&&!Pt&&!zi;let Uu=xn;!on&&!st.mercatorFromTransition||ft||(Uu=Oy(st));const zc=Ry(oo.kind,Yi,Xs,Pt,x,Ps,us,Zs,Ke,!0,eo,hi,!0,Sn,In,_n,jr,ar?Uu:xn,vn.getProjection(),qe),tu=sn.glyphAtlasTexture?sn.glyphAtlasTexture:null,af=nt.LINEAR,of=f.paint.get("text-halo-width").constantOr(1)!==0,Lv=x.terrain&&Pt&&zi?a.a6.mat4.invert(a.a6.mat4.create(),Ko):Hp;if(zi&&vn.text){const sf=st.elevation,Zi=sf?sf.getAtTileOffsetFunc(Sn,st.center.lat,st.worldSize,vn.getProjection()):null,Dd=ci($n,sn.tileID.canonical,Pt,ft,st,vn.getProjection(),wr);Ih(vn,$n,x,!0,Dd,Yo,Pt,Ae,Zi,Sn)}return{program:xa,buffers:vn.text,uniformValues:zc,atlasTexture:tu,atlasTextureIcon:Qa,atlasInterpolation:af,atlasInterpolationIcon:Na,isSDF:!0,hasHalo:of,tile:sn,labelPlaneMatrixInv:Lv}},ea=vn.icon.segments.get().length,Ys=vn.text.segments.get().length,Fa=ea&&!D.onlyText?Ri():null,ni=Ys&&!D.onlyIcons?Ui():null,Ni=f.paint.get("icon-opacity").constantOr(1),ua=f.paint.get("text-opacity").constantOr(1);if(Yt&&vn.canOverlap){cn=!0;const zi=Ni&&!D.onlyText?vn.icon.segments.get():[],$r=ua&&!D.onlyIcons?vn.text.segments.get():[];for(const bi of zi)Qt.push({segments:new a.b1([bi]),sortKey:bi.sortKey,state:Fa});for(const bi of $r)Qt.push({segments:new a.b1([bi]),sortKey:bi.sortKey,state:ni})}else D.onlyText||Qt.push({segments:Ni?vn.icon.segments:new a.b1([]),sortKey:0,state:Fa}),D.onlyIcons||Qt.push({segments:ua?vn.text.segments:new a.b1([]),sortKey:0,state:ni})}cn&&Qt.sort((Sn,sn)=>Sn.sortKey-sn.sortKey);for(const Sn of Qt){const sn=Sn.state;if(sn)if(x.terrain?x.terrain.setupElevationDraw(sn.tile,sn.program,{useDepthForOcclusion:st.depthOcclusionForSymbolsAndCircles,labelPlaneMatrixInv:sn.labelPlaneMatrixInv}):x.setupDepthForOcclusion(st.depthOcclusionForSymbolsAndCircles,sn.program),at.activeTexture.set(nt.TEXTURE0),sn.atlasTexture&&sn.atlasTexture.bind(sn.atlasInterpolation,nt.CLAMP_TO_EDGE,!0),sn.atlasTextureIcon&&(at.activeTexture.set(nt.TEXTURE1),sn.atlasTextureIcon&&sn.atlasTextureIcon.bind(sn.atlasInterpolationIcon,nt.CLAMP_TO_EDGE,!0)),x.uploadCommonLightUniforms(x.context,sn.program),sn.hasHalo){const vn=sn.uniformValues;vn.u_is_halo=1,jp(sn.buffers,Sn.segments,f,x,sn.program,Kt,I,L,vn,2),vn.u_is_halo=0}else{if(sn.isSDF){const vn=sn.uniformValues;sn.hasHalo&&(vn.u_is_halo=1,jp(sn.buffers,Sn.segments,f,x,sn.program,Kt,I,L,vn,1)),vn.u_is_halo=0}jp(sn.buffers,Sn.segments,f,x,sn.program,Kt,I,L,sn.uniformValues,1)}}}function jp(x,c,f,w,I,L,D,j,K,Z){const J=[x.dynamicLayoutVertexBuffer,x.opacityVertexBuffer,x.iconTransitioningVertexBuffer,x.globeExtVertexBuffer,x.zOffsetVertexBuffer];I.draw(w,w.context.gl.TRIANGLES,L,D,j,Sr.disabled,K,f.id,x.layoutVertexBuffer,x.indexBuffer,c,f.paint,w.transform.zoom,x.programConfigurations.get(f.id),J,Z)}function vv(x,c,f,w,I,L,D){const j=x.context.gl,K=f.paint.get("fill-pattern"),Z=f.is3D(),J=Z?x.stencilModeFor3D():Ir.disabled,oe=K&&K.constantOr(1);let ce,he,Ce,Me,Ae;D?(he=oe&&!f.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ce=j.LINES):(he=oe?"fillPattern":"fill",ce=j.TRIANGLES);for(const ke of w){const He=c.getTile(ke);if(oe&&!He.patternsLoaded())continue;const Ge=He.getBucket(f);if(!Ge)continue;x.prepareDrawTile();const $e=Ge.programConfigurations.get(f.id),Ke=x.isTileAffectedByFog(ke),qe=x.getOrCreateProgram(he,{config:$e,overrideFog:Ke});oe&&(x.context.activeTexture.set(j.TEXTURE0),He.imageAtlasTexture&&He.imageAtlasTexture.bind(j.LINEAR,j.CLAMP_TO_EDGE),$e.updatePaintBuffers());const at=K.constantOr(null);if(at&&He.imageAtlas){const gt=He.imageAtlas.patternPositions[at.toString()];gt&&$e.setConstantPatternPositions(gt)}const nt=x.translatePosMatrix(ke.projMatrix,He,f.paint.get("fill-translate"),f.paint.get("fill-translate-anchor")),st=f.paint.get("fill-emissive-strength");if(D){Me=Ge.indexBuffer2,Ae=Ge.segments2;const gt=x.terrain&&x.terrain.renderingToTexture?x.terrain.drapeBufferSize:[j.drawingBufferWidth,j.drawingBufferHeight];Ce=he==="fillOutlinePattern"&&oe?$p(nt,st,x,He,gt):s4(nt,st,gt)}else Me=Ge.indexBuffer,Ae=Ge.segments,Ce=oe?o4(nt,st,x,He):sv(nt,st);x.uploadCommonUniforms(x.context,qe,ke.toUnwrapped()),qe.draw(x,ce,I,Z?J:x.stencilModeForClipping(ke),L,Sr.disabled,Ce,f.id,Ge.layoutVertexBuffer,Me,Ae,f.paint,x.transform.zoom,$e,void 0)}}function Kh(x,c,f,w,I,L,D,j){f.resetLayerRenderingStats(x);const K=x.context,Z=K.gl,J=x.transform,oe=f.paint.get("fill-extrusion-pattern"),ce=oe.constantOr(1),he=f.paint.get("fill-extrusion-opacity"),Ce=x.style.enable3dLights(),Me=f.paint.get(Ce&&!ce?"fill-extrusion-ambient-occlusion-wall-radius":"fill-extrusion-ambient-occlusion-radius"),Ae=[f.paint.get("fill-extrusion-ambient-occlusion-intensity"),Me],ke=f.layout.get("fill-extrusion-edge-radius"),He=ke>0&&!f.paint.get("fill-extrusion-rounded-roof"),Ge=He?0:ke,$e=J.projection.name==="globe"?a.c_():0,Ke=J.projection.name==="globe",qe=Ke?a.a9(J.zoom):0,at=[a.am(J.center.lng),a.at(J.center.lat)],nt=f.paint.get("fill-extrusion-flood-light-color").toRenderColor(f.lut).toArray01().slice(0,3),st=f.paint.get("fill-extrusion-flood-light-intensity"),gt=f.paint.get("fill-extrusion-vertical-scale"),ft=f.paint.get("fill-extrusion-line-width").constantOr(1)!==0,ct=Bu(x,f.paint.get("fill-extrusion-cutoff-fade-range")),Pt=[];let Yt;Ke&&Pt.push("PROJECTION_GLOBE_VIEW"),Ae[0]>0&&Pt.push("FAUX_AO"),He&&Pt.push("ZERO_ROOF_RADIUS"),j&&Pt.push("HAS_CENTROID"),st>0&&Pt.push("FLOOD_LIGHT"),ct.shouldRenderCutoff&&Pt.push("RENDER_CUTOFF"),ft&&Pt.push("RENDER_WALL_MODE");const cn=x.renderPass==="shadow",Kt=x.shadowRenderer,_n=cn&&!!Kt;x.shadowRenderer&&(x.shadowRenderer.useNormalOffset=!0);let Lt=[0,0,0];if(Kt){const xn=x.style.directionalLight,Sn=x.style.ambientLight;xn&&Sn&&(Lt=W0(x.style,xn,Sn)),Yt=Pt.concat(["SHADOWS_SINGLE_CASCADE"])}const on=_n?"fillExtrusionDepth":ce?"fillExtrusionPattern":"fillExtrusion",Qt=f.getLayerRenderingStats();for(const xn of w){const Sn=c.getTile(xn),sn=Sn.getBucket(f);if(!sn||sn.projection.name!==J.projection.name)continue;let vn=!1;Kt&&(vn=Kt.getMaxCascadeForTile(xn.toUnwrapped())===0);const ar=x.isTileAffectedByFog(xn),In=sn.programConfigurations.get(f.id),$n=x.getOrCreateProgram(on,{config:In,defines:vn?Yt:Pt,overrideFog:ar});if(x.terrain&&x.terrain.setupElevationDraw(Sn,$n,{useMeterToDem:!0}),!sn.centroidVertexBuffer){const Ui=$n.attributes.a_centroid_pos;Ui!==void 0&&Z.vertexAttrib2f(Ui,0,0)}!cn&&Kt&&Kt.setupShadows(Sn.tileID.toUnwrapped(),$n,"vector-tile",Sn.tileID.overscaledZ),ce&&(x.context.activeTexture.set(Z.TEXTURE0),Sn.imageAtlasTexture&&Sn.imageAtlasTexture.bind(Z.LINEAR,Z.CLAMP_TO_EDGE),In.updatePaintBuffers());const wr=oe.constantOr(null);if(wr&&Sn.imageAtlas){const Ui=Sn.imageAtlas.patternPositions[wr.toString()];Ui&&In.setConstantPatternPositions(Ui)}const Xn=f.paint.get("fill-extrusion-vertical-gradient"),fr=1/sn.tileToMeter;let jr;if(cn&&Kt){if(Fy(Sn.tileID,sn,x))continue;const Ui=Kt.calculateShadowPassMatrixFromTile(Sn.tileID.toUnwrapped());jr=a4(Ui,Ge,fr,gt)}else{const Ui=x.translatePosMatrix(xn.expandedProjMatrix,Sn,f.paint.get("fill-extrusion-translate"),f.paint.get("fill-extrusion-translate-anchor")),ea=J.projection.createInversionMatrix(J,xn.canonical);jr=ce?Py(Ui,x,Xn,he,Ae,Ge,fr,xn,Sn,$e,qe,at,ea,nt,gt):ky(Ui,x,Xn,he,Ae,Ge,fr,xn,$e,qe,at,ea,nt,gt,st,Lt)}x.uploadCommonUniforms(K,$n,xn.toUnwrapped(),null,ct);let Fr=sn.segments;if(J.projection.name==="mercator"&&!cn&&(Fr=sn.getVisibleSegments(Sn.tileID,x.terrain,x.transform.getFrustum(0)),!Fr.get().length))continue;if(Qt)if(cn)for(const Ui of Fr.get())Qt.numRenderedVerticesInShadowPass+=Ui.primitiveLength;else for(const Ui of Fr.get())Qt.numRenderedVerticesInTransparentPass+=Ui.primitiveLength;const Ri=[];(x.terrain||j)&&Ri.push(sn.centroidVertexBuffer),Ke&&Ri.push(sn.layoutVertexExtBuffer),ft&&Ri.push(sn.wallVertexBuffer),$n.draw(x,K.gl.TRIANGLES,I,L,D,Sr.backCCW,jr,f.id,sn.layoutVertexBuffer,sn.indexBuffer,Fr,f.paint,x.transform.zoom,In,Ri)}x.shadowRenderer&&(x.shadowRenderer.useNormalOffset=!1)}function uo(x,c,f,w,I,L,D,j,K,Z,J,oe,ce,he,Ce,Me,Ae,ke,He){const Ge=x.context,$e=Ge.gl,Ke=x.transform,qe=x.transform.zoom,at=[],nt=Bu(x,f.paint.get("fill-extrusion-cutoff-fade-range"));Z==="clear"?(at.push("CLEAR_SUBPASS"),He&&(at.push("CLEAR_FROM_TEXTURE"),Ge.activeTexture.set($e.TEXTURE0),He.bind($e.LINEAR,$e.CLAMP_TO_EDGE))):Z==="sdf"&&at.push("SDF_SUBPASS"),Ae&&at.push("HAS_CENTROID"),nt.shouldRenderCutoff&&at.push("RENDER_CUTOFF");const st=f.layout.get("fill-extrusion-edge-radius"),gt=(ft,ct,Pt,Yt,cn)=>{const Kt=ct.programConfigurations.get(f.id),_n=x.isTileAffectedByFog(ft),Lt=x.getOrCreateProgram("fillExtrusionGroundEffect",{config:Kt,defines:at,overrideFog:_n}),on=((xn,Sn,sn,vn,ar,In,$n,wr,Xn,fr,jr)=>({u_matrix:Sn,u_opacity:sn,u_ao_pass:vn?1:0,u_meter_to_tile:ar,u_ao:In,u_flood_light_intensity:$n,u_flood_light_color:wr,u_attenuation:Xn,u_edge_radius:fr,u_fb:0,u_fb_size:jr,u_dynamic_offset:1}))(0,Yt,J,K,cn,[oe,ce*cn],he,Ce,Me,qe>=17?0:st*cn,He?He.size[0]:0),Qt=[];Ae&&Qt.push(ct.hiddenByLandmarkVertexBuffer),x.uploadCommonUniforms(Ge,Lt,ft.toUnwrapped(),null,nt),Lt.draw(x,Ge.gl.TRIANGLES,I,L,D,j,on,f.id,ct.vertexBuffer,ct.indexBuffer,Pt,f.paint,qe,Kt,Qt)};for(const ft of w){const ct=c.getTile(ft),Pt=ct.getBucket(f);if(!Pt||Pt.projection.name!==Ke.projection.name||!Pt.groundEffect||Pt.groundEffect&&!Pt.groundEffect.hasData())continue;const Yt=Pt.groundEffect,cn=1/Pt.tileToMeter;{const Kt=x.translatePosMatrix(ft.projMatrix,ct,f.paint.get("fill-extrusion-translate"),f.paint.get("fill-extrusion-translate-anchor")),_n=Yt.getDefaultSegment();gt(ft,Yt,_n,Kt,cn)}if(ke)for(let Kt=0;Kt<4;Kt++){const _n=a.c$[Kt](ft),Lt=c.getTile(_n);if(!Lt)continue;const on=Lt.getBucket(f);if(!on||on.projection.name!==Ke.projection.name||!on.groundEffect||on.groundEffect&&!on.groundEffect.hasData())continue;const Qt=on.groundEffect;let xn,Sn;Kt===0?(xn=[-a.ab,0,0],Sn=1):Kt===1?(xn=[a.ab,0,0],Sn=0):Kt===2?(xn=[0,-a.ab,0],Sn=3):(xn=[0,a.ab,0],Sn=2);const sn=Qt.regionSegments[Sn];if(!sn)continue;const vn=new Float32Array(16);a.a6.mat4.translate(vn,ft.projMatrix,xn),gt(ft,Qt,sn,x.translatePosMatrix(vn,ct,f.paint.get("fill-extrusion-translate"),f.paint.get("fill-extrusion-translate-anchor")),cn)}}}function kc(x,c,f,w,I,L,D){w.centroidVertexArray.length===0&&w.createCentroidsBuffer();const j=L?L.findDEMTileFor(f):null;if(!(j&&j.dem||D))return;const K=ke=>new a.P(Math.ceil((ke+a.d2)*a.d3),0),Z=ke=>{const He=c.getSource().minzoom,Ge=Ke=>{const qe=c.getTileByID(Ke);if(qe&&qe.hasData())return qe.getBucket(I)},$e=[0,-1,1];for(const Ke of $e){if(ke.overscaledZ+Ke<He)continue;const qe=Ge(ke.calculateScaledKey(ke.overscaledZ+Ke));if(qe)return qe}},J=[0,0,0],oe=(ke,He)=>(J[0]=Math.min(ke.min.y,He.min.y),J[1]=Math.max(ke.max.y,He.max.y),J[2]=a.ab-He.min.x>ke.max.x?He.min.x-a.ab:ke.max.x,J),ce=(ke,He)=>(J[0]=Math.min(ke.min.x,He.min.x),J[1]=Math.max(ke.max.x,He.max.x),J[2]=a.ab-He.min.y>ke.max.y?He.min.y-a.ab:ke.max.y,J),he=[(ke,He)=>oe(ke,He),(ke,He)=>oe(He,ke),(ke,He)=>ce(ke,He),(ke,He)=>ce(He,ke)],Ce=(ke,He,Ge,$e,Ke,qe,at)=>{if(!L)return 0;const nt=[[qe?Ge:ke,qe?ke:Ge,0],[qe?Ge:He,qe?He:Ge,0]],st=at<0?a.ab+at:at,gt=[qe?st:(ke+He)/2,qe?(ke+He)/2:st,0];return Ge===0&&at<0||Ge!==0&&at>0?L.getForTilePoints(Ke,[gt],!0,$e):nt.push(gt),L.getForTilePoints(f,nt,!0,j),Math.max(nt[0][2],nt[1][2],gt[2])/L.exaggeration()};for(let ke=0;ke<4;ke++){const He=w.borderFeatureIndices[ke];if(He.length===0)continue;const Ge=a.c$[ke](f),$e=Z(Ge);if(!($e&&$e instanceof a.d0)||w.borderDoneWithNeighborZ[ke]===$e.canonical.z)continue;$e.centroidVertexArray.length===0&&$e.createCentroidsBuffer();const Ke=L?L.findDEMTileFor(Ge):null;if(!(Ke&&Ke.dem||D))continue;const qe=(ke<2?1:5)-ke,at=$e.borderDoneWithNeighborZ[qe]!==w.canonical.z,nt=$e.borderFeatureIndices[qe];let st=0;if(w.canonical.z!==$e.canonical.z){for(const gt of He)w.showCentroid(w.featuresOnBorder[gt]);if(at)for(const gt of nt)$e.showCentroid($e.featuresOnBorder[gt]);w.borderDoneWithNeighborZ[ke]=$e.canonical.z,$e.borderDoneWithNeighborZ[qe]=w.canonical.z}for(const gt of He){const ft=w.featuresOnBorder[gt],ct=w.centroidData[ft.centroidDataIndex],Pt=ft.borders[ke];let Yt;for(;st<nt.length;){Yt=$e.featuresOnBorder[nt[st]];const cn=Yt.borders[qe];if(cn[1]>Pt[0]+3||cn[0]>Pt[0]-3)break;$e.showCentroid(Yt),st++}if(Yt&&st<nt.length){const cn=st;let Kt=0;for(;!(Yt.borders[qe][0]>Pt[1]-3)&&(Kt++,++st!==nt.length);)Yt=$e.featuresOnBorder[nt[st]];Yt=$e.featuresOnBorder[nt[cn]];let _n=!1;if(Kt>=1){const Qt=Yt.borders[qe];Math.abs(Pt[0]-Qt[0])<3&&Math.abs(Pt[1]-Qt[1])<3&&(Kt=1,_n=!0,st=cn+1)}else if(Kt===0){w.showCentroid(ft);continue}const Lt=$e.centroidData[Yt.centroidDataIndex];D&&_n&&(((Me=ct).flags|(Ae=Lt).flags)&a.d1?(Me.flags|=a.d1,Ae.flags|=a.d1):(Me.flags&=~a.d1,Ae.flags&=~a.d1));const on=ft.intersectsCount()>1||Yt.intersectsCount()>1;if(Kt>1)st=cn,ct.centroidXY=Lt.centroidXY=new a.P(0,0);else if(Ke&&Ke.dem&&!on){const Qt=he[ke](ct,Lt),xn=ke%2?a.ab-1:0,Sn=Ce(Qt[0],Math.min(a.ab-1,Qt[1]),xn,Ke,Ge,ke<2,Qt[2]);ct.centroidXY=Lt.centroidXY=K(Sn)}else on?ct.centroidXY=Lt.centroidXY=new a.P(0,0):(ct.centroidXY=w.encodeBorderCentroid(ft),Lt.centroidXY=$e.encodeBorderCentroid(Yt));w.writeCentroidToBuffer(ct),$e.writeCentroidToBuffer(Lt)}else w.showCentroid(ft)}w.borderDoneWithNeighborZ[ke]=$e.canonical.z,$e.borderDoneWithNeighborZ[qe]=w.canonical.z}var Me,Ae;(w.needsCentroidUpdate||!w.centroidVertexBuffer&&w.centroidVertexArray.length!==0)&&w.uploadCentroid(x)}const f4=[1,0,0],zy=[0,1,0],By=[0,0,1];function Fy(x,c,f){const w=f.transform,I=f.shadowRenderer;if(!I)return!0;const L=x.toUnwrapped(),D=w.tileSize*I._cascades[f.currentShadowCascade].scale;let j=c.maxHeight;if(w.elevation){const Me=w.elevation.getMinMaxForTile(x);Me&&(j+=Me.max)}const K=[...I.shadowDirection];K[2]=-K[2];const Z=I.computeSimplifiedTileShadowVolume(L,j,D,K);if(!Z)return!1;const J=[f4,zy,By,K,[K[0],0,K[2]],[0,K[1],K[2]]],oe=w.projection.name==="globe",ce=w.scaleZoom(D),he=a.bN.fromInvProjectionMatrix(w.invProjMatrix,w.worldSize,ce,!oe),Ce=I.getCurrentCascadeFrustum();return he.intersectsPrecise(Z.vertices,Z.planes,J)===0||Ce.intersectsPrecise(Z.vertices,Z.planes,J)===0}function Ny(x){return[x[0]*a.d4,x[1]*a.d4,x[2]*a.d4,0]}function ls(x,c,f,w,I,L,D,j,K){const Z=w.getSource(),J=f.globeSharedBuffers;if(!J)return;let oe,ce,he;if(c&&(oe=w.getTile(c)),Z instanceof a.aD?(ce=Z.texture,he=a.cD(0,0,f.transform)):oe&&c&&(ce=oe.texture,he=a.cD(c.canonical.z,c.canonical.x,f.transform)),!ce||!he)return;x||(he=a.a6.mat4.scale(a.a6.mat4.create(),he,[1,-1,1]));const Ce=f.context,Me=Ce.gl,Ae=I.paint.get("raster-resampling")==="nearest"?Me.NEAREST:Me.LINEAR,ke=f.colorModeForDrapableLayerRenderPass(L),He=D.defines;He.push("GLOBE_POLES");const Ge=new lr(Me.LEQUAL,lr.ReadWrite,f.depthRangeFor3D),$e=Float32Array.from(f.transform.expandedFarZProjMatrix),Ke=Float32Array.from(a.b5(a.cC(new a.bP(0,0,0))));f.terrain&&f.terrain.prepareDrawTile(),Ce.activeTexture.set(Me.TEXTURE0),ce.bind(Ae,Me.CLAMP_TO_EDGE),Ce.activeTexture.set(Me.TEXTURE1),ce.bind(Ae,Me.CLAMP_TO_EDGE),ce.useMipmap&&Ce.extTextureFilterAnisotropic&&f.transform.pitch>20&&Me.texParameterf(Me.TEXTURE_2D,Ce.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Ce.extTextureFilterAnisotropicMax);const[qe,at,nt,st]=c?J.getPoleBuffers(c.canonical.z,!1):J.getPoleBuffers(0,!0),gt=I.paint.get("raster-elevation");let ft;x?(ft=qe,f.renderDefaultNorthPole=gt!==0):(ft=at,f.renderDefaultSouthPole=gt!==0);const ct=Ny(D.mix),Pt=((cn,Kt,_n,Lt,on,Qt,xn,Sn,sn,vn,ar,In,$n)=>Vp(cn,Kt,_n,new Float32Array(16),new Float32Array(9),[0,0],Lt,[0,0],[0,0,0,0],1,{opacity:1,mix:0},Qt,[0,0],Sn,2,vn,ar,In,1,0,$n))($e,Ke,he,a.a9(f.transform.zoom),0,I,0,gt,0,ct,D.offset,D.range,L),Yt=f.getOrCreateProgram("raster",{defines:He});f.uploadCommonUniforms(Ce,Yt,null),Yt.draw(f,Me.TRIANGLES,Ge,K,ke,j,Pt,I.id,ft,nt,st)}function ya(x){const c=x._nearZ,f=x.projection.farthestPixelDistance(x),w=f-c,I=.2*x.height,L=c+I;return[c,f,(L-I-c)/w,(L-c)/w]}function gv(x,c,f,w){if(x)return c instanceof Sh&&x instanceof O0?c.getTextureDescriptor(x,f,!0):{texture:x.texture,mix:Ny(w.mix),offset:w.offset,buffer:0,tileSize:1}}var $y=a.d5([{name:"a_index",type:"Int16",components:1}]);class p4{constructor(c,f,w,I){const L={width:w[0],height:w[1],data:null},D=c.gl;this.targetColorTexture=new a.T(c,L,D.RGBA8,{useMipmap:!1}),this.backgroundColorTexture=new a.T(c,L,D.RGBA8,{useMipmap:!1}),this.context=c,this.updateParticleTexture(f,I),this.lastInvalidatedAt=0}updateParticleTexture(c,f){if(this.particleTextureDimension===f.width)return;(this.particleTexture0||this.particleTexture1||this.particleIndexBuffer||this.particleSegment)&&(this.particleTexture0.destroy(),this.particleTexture1.destroy(),this.particleIndexBuffer.destroy(),this.particleSegment.destroy());const w=this.context.gl,I=f.width*f.height;this.particleTexture0=new a.T(this.context,f,w.RGBA8,{premultiply:!1,useMipmap:!1}),this.particleTexture1=new a.T(this.context,f,w.RGBA8,{premultiply:!1,useMipmap:!1});const L=new a.d6;L.reserve(I);for(let D=0;D<I;D++)L.emplaceBack(D);this.particleIndexBuffer=this.context.createVertexBuffer(L,$y.members,!0),this.particleSegment=a.b1.simpleSegment(0,0,this.particleIndexBuffer.length,0),this.particleTextureDimension=f.width}update(c){return!(this.lastInvalidatedAt<c&&(this.lastInvalidatedAt=a.q.now(),1))}destroy(){this.targetColorTexture.destroy(),this.backgroundColorTexture.destroy(),this.particleIndexBuffer.destroy(),this.particleTexture0.destroy(),this.particleTexture1.destroy(),this.particleSegment.destroy()}}function m4(x,c,f){if(!x)return null;const w=c.getTextureDescriptor(x,f,!0);if(!w)return null;let{texture:I,mix:L,offset:D,tileSize:j,buffer:K,format:Z}=w;if(!I||!Z)return null;let J=!1;return Z==="uint32"&&(J=!0,L[3]=0,L=lv(a.d7,L,[0,f.paint.get("raster-particle-max-speed")]),D=uv(a.d7,D,[0,f.paint.get("raster-particle-max-speed")])),{texture:I,textureOffset:[K/(j+2*K),j/(j+2*K)],tileSize:j,scalarData:J,scale:L,offset:D,defines:["RASTER_ARRAY",{uint8:"DATA_FORMAT_UINT8",uint16:"DATA_FORMAT_UINT16",uint32:"DATA_FORMAT_UINT32"}[Z]]}}function v4(x){const c=x._nearZ,f=x.projection.farthestPixelDistance(x),w=f-c,I=.2*x.height,L=c+I;return[c,f,(L-I-c)/w,(L-c)/w]}const kT=new a.bz(1,0,0,1),Yh=new a.bz(0,1,0,1),Zh=new a.bz(0,0,1,1),Mn=new a.bz(1,0,1,1),ir=new a.bz(0,1,1,1);function Tl(x,c,f,w,I,L,D){const j=x.context,K=x.transform,Z=j.gl,J=K.projection.name==="globe",oe=J?["PROJECTION_GLOBE_VIEW"]:[];let ce=a.a6.mat4.clone(f.projMatrix);if(J&&a.a9(K.zoom)>0){const ct=a.b4(f.canonical,K),Pt=a.d8(ct);ce=a.a6.mat4.multiply(new Float32Array(16),K.globeMatrix,Pt),a.a6.mat4.multiply(ce,K.projMatrix,ce)}const he=a.a6.mat4.create();he[12]+=2*I/(a.q.devicePixelRatio*K.width),he[13]+=2*L/(a.q.devicePixelRatio*K.height),a.a6.mat4.multiply(ce,he,ce);const Ce=x.getOrCreateProgram("debug",{defines:oe}),Me=c.getTileByID(f.key);x.terrain&&x.terrain.setupElevationDraw(Me,Ce);const Ae=lr.disabled,ke=Ir.disabled,He=x.colorModeForRenderPass(),Ge="$debug";j.activeTexture.set(Z.TEXTURE0),x.emptyTexture.bind(Z.LINEAR,Z.CLAMP_TO_EDGE),J?Me._makeGlobeTileDebugBuffers(x.context,K):Me._makeDebugTileBoundsBuffers(x.context,K.projection);const $e=Me._tileDebugBuffer||x.debugBuffer,Ke=Me._tileDebugIndexBuffer||x.debugIndexBuffer,qe=Me._tileDebugSegments||x.debugSegments;if(Ce.draw(x,Z.LINE_STRIP,Ae,ke,He,Sr.disabled,l4(ce,w),Ge,$e,Ke,qe,null,null,null,[Me._globeTileDebugBorderBuffer]),D){const ct=Me.latestRawTileData,Pt=Math.floor((ct&&ct.byteLength||0)/1024);let Yt=f.canonical.toString();f.overscaledZ!==f.canonical.z&&(Yt+=` => ${f.overscaledZ}`),Yt+=` ${Me.state}`,Yt+=` ${Pt}kb`,function(cn,Kt){cn.initDebugOverlayCanvas();const _n=cn.debugOverlayCanvas,Lt=cn.context.gl,on=cn.debugOverlayCanvas.getContext("2d");on.clearRect(0,0,_n.width,_n.height),on.shadowColor="white",on.shadowBlur=2,on.lineWidth=1.5,on.strokeStyle="white",on.textBaseline="top",on.font="bold 36px Open Sans, sans-serif",on.fillText(Kt,5,5),on.strokeText(Kt,5,5),cn.debugOverlayTexture.update(_n),cn.debugOverlayTexture.bind(Lt.LINEAR,Lt.CLAMP_TO_EDGE)}(x,Yt)}const at=c.getTile(f).tileSize,nt=512/Math.min(at,512)*(f.overscaledZ/K.zoom)*.5,st=Me._tileDebugTextBuffer||x.debugBuffer,gt=Me._tileDebugTextIndexBuffer||x.quadTriangleIndexBuffer,ft=Me._tileDebugTextSegments||x.debugSegments;Ce.draw(x,Z.TRIANGLES,Ae,ke,ei.alphaBlended,Sr.disabled,l4(ce,a.bz.transparent,nt),Ge,st,gt,ft,null,null,null,[Me._globeTileDebugTextBuffer])}function la(x,c,f,w){Gp(x,0,c+f/2,x.transform.width,f,w)}function Ot(x,c,f,w){Gp(x,c-f/2,0,f,x.transform.height,w)}function Gp(x,c,f,w,I,L){const D=x.context,j=D.gl;j.enable(j.SCISSOR_TEST),j.scissor(c*a.q.devicePixelRatio,f*a.q.devicePixelRatio,w*a.q.devicePixelRatio,I*a.q.devicePixelRatio),D.clear({color:L}),j.disable(j.SCISSOR_TEST)}const _v=a.d5([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:Vy}=_v;function Ml(x,c,f,w){x.emplaceBack(c,f,w)}class Hy{constructor(c){this.vertexArray=new a.d9,this.indices=new a.aO,Ml(this.vertexArray,-1,-1,1),Ml(this.vertexArray,1,-1,1),Ml(this.vertexArray,-1,1,1),Ml(this.vertexArray,1,1,1),Ml(this.vertexArray,-1,-1,-1),Ml(this.vertexArray,1,-1,-1),Ml(this.vertexArray,-1,1,-1),Ml(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=c.createVertexBuffer(this.vertexArray,Vy),this.indexBuffer=c.createIndexBuffer(this.indices),this.segment=a.b1.simpleSegment(0,0,36,12)}}function Id(x,c,f,w,I,L){const D=x.context.gl,j=c.paint.get("sky-atmosphere-color"),K=c.paint.get("sky-atmosphere-halo-color"),Z=c.paint.get("sky-atmosphere-sun-intensity"),J=((oe,ce,he,Ce,Me)=>({u_matrix_3f:oe,u_sun_direction:ce,u_sun_intensity:he,u_color_tint_r:[Ce.r,Ce.g,Ce.b,Ce.a],u_color_tint_m:[Me.r,Me.g,Me.b,Me.a],u_luminance:5e-5}))(a.a6.mat3.fromMat4(a.a6.mat3.create(),w),I,Z,j,K);D.framebufferTexture2D(D.FRAMEBUFFER,D.COLOR_ATTACHMENT0,D.TEXTURE_CUBE_MAP_POSITIVE_X+L,c.skyboxTexture,0),f.draw(x,D.TRIANGLES,lr.disabled,Ir.disabled,ei.unblended,Sr.frontCW,J,"skyboxCapture",c.skyboxGeometry.vertexBuffer,c.skyboxGeometry.indexBuffer,c.skyboxGeometry.segment)}const Xh=a.d5([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class PT{constructor(c){const f=new a.da;f.emplaceBack(-1,1,1,0,0),f.emplaceBack(1,1,1,1,0),f.emplaceBack(1,-1,1,1,1),f.emplaceBack(-1,-1,1,0,1);const w=new a.aO;w.emplaceBack(0,1,2),w.emplaceBack(2,3,0),this.vertexBuffer=c.createVertexBuffer(f,Xh.members),this.indexBuffer=c.createIndexBuffer(w),this.segments=a.b1.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const LT=a.d5([{type:"Float32",name:"a_pos_3f",components:3},{type:"Float32",name:"a_uv",components:2},{type:"Float32",name:"a_size_scale",components:1},{type:"Float32",name:"a_fade_opacity",components:1}]);class g4{constructor(){this.starsCount=16e3,this.sizeMultiplier=.15,this.sizeRange=100,this.intensityRange=200}}class yv{constructor(c){this.colorModeAlphaBlendedWriteRGB=new ei([1,Ms,1,Ms],a.bz.transparent,[!0,!0,!0,!1]),this.colorModeWriteAlpha=new ei([1,0,1,0],a.bz.transparent,[!1,!1,!1,!0]),this.params=new g4,this.updateNeeded=!0,c.tp.registerParameter(this.params,["Stars"],"starsCount",{min:100,max:16e3,step:1},()=>{this.updateNeeded=!0}),c.tp.registerParameter(this.params,["Stars"],"sizeMultiplier",{min:.01,max:2,step:.01}),c.tp.registerParameter(this.params,["Stars"],"sizeRange",{min:0,max:200,step:1},()=>{this.updateNeeded=!0}),c.tp.registerParameter(this.params,["Stars"],"intensityRange",{min:0,max:200,step:1},()=>{this.updateNeeded=!0})}update(c){const f=c.context;if(!this.atmosphereBuffer||this.updateNeeded){this.updateNeeded=!1,this.atmosphereBuffer=new PT(f);const w=this.params.sizeRange,I=this.params.intensityRange,L=function(J){const oe=a.dd(30),ce=[];for(let he=0;he<J;++he){const Ce=2*Math.PI*oe(),Me=Math.acos(1-2*oe())-.5*Math.PI;ce.push(a.a6.vec3.fromValues(Math.cos(Me)*Math.cos(Ce),Math.cos(Me)*Math.sin(Ce),Math.sin(Me)))}return ce}(this.params.starsCount),D=a.dd(300),j=new a.db,K=new a.aO;let Z=0;for(let J=0;J<L.length;++J){const oe=a.a6.vec3.scale([],L[J],200),ce=Math.max(0,1+.01*w*(1*D()-.5)),he=Math.max(0,1+.01*I*(1*D()-.5));j.emplaceBack(oe[0],oe[1],oe[2],-1,-1,ce,he),j.emplaceBack(oe[0],oe[1],oe[2],1,-1,ce,he),j.emplaceBack(oe[0],oe[1],oe[2],1,1,ce,he),j.emplaceBack(oe[0],oe[1],oe[2],-1,1,ce,he),K.emplaceBack(Z+0,Z+1,Z+2),K.emplaceBack(Z+0,Z+2,Z+3),Z+=4}this.starsVx=f.createVertexBuffer(j,LT.members),this.starsIdx=f.createIndexBuffer(K),this.starsSegments=a.b1.simpleSegment(0,0,j.length,K.length)}}destroy(){this.atmosphereBuffer&&this.atmosphereBuffer.destroy(),this.starsVx&&this.starsVx.destroy(),this.starsIdx&&this.starsIdx.destroy()}drawAtmosphereGlow(c,f){const w=c.context,I=w.gl,L=c.transform,D=new lr(I.LEQUAL,lr.ReadOnly,[0,1]),j=a.a9(L.zoom),K=c.style.getLut(f.scope),Z=f.properties.get("color").toRenderColor(K).toArray01(),J=f.properties.get("high-color").toRenderColor(K).toArray01(),oe=f.properties.get("space-color").toRenderColor(K).toArray01PremultipliedAlpha(),ce=5e-4,he=a.dc(f.properties.get("horizon-blend"),0,1,ce,.25),Ce=a.cx(c,w,L)&&he===ce?L.worldSize/(2*Math.PI*1.025)-1:L.globeRadius,Me=c.frameCounter/1e3%1,Ae=a.a6.vec3.length(L.globeCenterInViewSpace),ke=Math.sqrt(Math.pow(Ae,2)-Math.pow(Ce,2)),He=Math.acos(ke/Ae),Ge=$e=>{const Ke=L.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"];$e&&Ke.push("ALPHA_PASS");const qe=c.getOrCreateProgram("globeAtmosphere",{defines:Ke}),at=((st,gt,ft,ct,Pt,Yt,cn,Kt,_n,Lt,on,Qt)=>({u_frustum_tl:st,u_frustum_tr:gt,u_frustum_br:ft,u_frustum_bl:ct,u_horizon:Pt,u_transition:Yt,u_fadeout_range:cn,u_color:Kt,u_high_color:_n,u_space_color:Lt,u_temporal_offset:on,u_horizon_angle:Qt}))(L.frustumCorners.TL,L.frustumCorners.TR,L.frustumCorners.BR,L.frustumCorners.BL,L.frustumCorners.horizon,j,he,Z,J,oe,Me,He);c.uploadCommonUniforms(w,qe);const nt=this.atmosphereBuffer;nt&&qe.draw(c,I.TRIANGLES,D,Ir.disabled,$e?this.colorModeWriteAlpha:this.colorModeAlphaBlendedWriteRGB,Sr.backCW,at,$e?"atmosphere_glow_alpha":"atmosphere_glow",nt.vertexBuffer,nt.indexBuffer,nt.segments)};Ge(!1),Ge(!0)}drawStars(c,f){const w=a.ap(f.properties.get("star-intensity"),0,1);if(w===0)return;const I=c.context,L=I.gl,D=c.transform,j=c.getOrCreateProgram("stars"),K=a.a6.quat.identity([]);a.a6.quat.rotateX(K,K,-D._pitch),a.a6.quat.rotateZ(K,K,-D.angle),a.a6.quat.rotateX(K,K,a.bB(D._center.lat)),a.a6.quat.rotateY(K,K,-a.bB(D._center.lng));const Z=a.a6.mat4.fromQuat(new Float32Array(16),K),J=a.a6.mat4.multiply([],D.starsProjMatrix,Z),oe=a.a6.mat3.fromMat4([],Z),ce=a.a6.mat3.invert([],oe),he=[0,1,0];a.a6.vec3.transformMat3(he,he,ce),a.a6.vec3.scale(he,he,this.params.sizeMultiplier);const Ce=[1,0,0];a.a6.vec3.transformMat3(Ce,Ce,ce),a.a6.vec3.scale(Ce,Ce,this.params.sizeMultiplier);const Me=(Ae=he,ke=Ce,He=w,{u_matrix:Float32Array.from(J),u_up:Ae,u_right:ke,u_intensity_multiplier:He});var Ae,ke,He;c.uploadCommonUniforms(I,j),this.starsVx&&this.starsIdx&&j.draw(c,L.TRIANGLES,lr.disabled,Ir.disabled,this.colorModeAlphaBlendedWriteRGB,Sr.disabled,Me,"atmosphere_stars",this.starsVx,this.starsIdx,this.starsSegments)}}function bv(x,c){const f=[...x],w=c.cameraWorldSizeForFog/c.worldSize,I=a.a6.mat4.identity([]);return a.a6.mat4.scale(I,I,[w,w,1]),a.a6.mat4.multiply(f,I,f),a.a6.mat4.multiply(f,c.worldToFogMatrix,f),f}function xv(x,c,f,w,I){const L=f.material,D=w.context,{baseColorTexture:j,metallicRoughnessTexture:K}=L.pbrMetallicRoughness,{normalTexture:Z,occlusionTexture:J,emissionTexture:oe}=L;function ce(he,Ce,Me){if(he&&(x.push(Ce),D.activeTexture.set(D.gl.TEXTURE0+Me),he.gfxTexture)){const{minFilter:Ae,magFilter:ke,wrapS:He,wrapT:Ge}=he.sampler;he.gfxTexture.bindExtraParam(Ae,ke,He,Ge)}}ce(j,"HAS_TEXTURE_u_baseColorTexture",To.BaseColor),ce(K,"HAS_TEXTURE_u_metallicRoughnessTexture",To.MetallicRoughness),ce(Z,"HAS_TEXTURE_u_normalTexture",To.Normal),ce(J,"HAS_TEXTURE_u_occlusionTexture",To.Occlusion),ce(oe,"HAS_TEXTURE_u_emissionTexture",To.Emission),I&&(I.texture||(I.texture=new a.df(w.context,I.image,[I.image.height,I.image.height,I.image.height],D.gl.RGBA8)),D.activeTexture.set(D.gl.TEXTURE0+To.LUT),I.texture&&I.texture.bind(D.gl.LINEAR,D.gl.CLAMP_TO_EDGE),x.push("APPLY_LUT_ON_GPU")),f.texcoordBuffer&&(x.push("HAS_ATTRIBUTE_a_uv_2f"),c.push(f.texcoordBuffer)),f.colorBuffer&&(x.push(f.colorBuffer.itemSize===12?"HAS_ATTRIBUTE_a_color_3f":"HAS_ATTRIBUTE_a_color_4f"),c.push(f.colorBuffer)),f.normalBuffer&&(x.push("HAS_ATTRIBUTE_a_normal_3f"),c.push(f.normalBuffer)),f.pbrBuffer&&(x.push("HAS_ATTRIBUTE_a_pbr"),x.push("HAS_ATTRIBUTE_a_heightBasedEmissiveStrength"),c.push(f.pbrBuffer)),L.alphaMode!=="OPAQUE"&&L.alphaMode!=="MASK"||x.push("UNPREMULT_TEXTURE_IN_SHADER"),L.defined||x.push("DIFFUSE_SHADED"),x.push("USE_STANDARD_DERIVATIVES")}function Wp(x,c,f,w,I,L){const D=f.paint.get("model-opacity"),j=c.context,K=new lr(c.context.gl.LEQUAL,lr.ReadWrite,c.depthRangeFor3D),Z=c.transform,J=x.mesh,oe=J.material,ce=oe.pbrMetallicRoughness,he=c.style.fog;let Ce;Ce=c.transform.projection.zAxisUnit==="pixels"?[...x.nodeModelMatrix]:a.a6.mat4.multiply([],w.zScaleMatrix,x.nodeModelMatrix),a.a6.mat4.multiply(Ce,w.negCameraPosMatrix,Ce);const Me=a.a6.mat4.invert([],Ce);a.a6.mat4.transpose(Me,Me);const Ae=f.paint.get("model-emissive-strength").constantOr(0),ke=Un(new Float32Array(x.worldViewProjection),new Float32Array(Ce),new Float32Array(Me),null,c,D,ce.baseColorFactor.toRenderColor(null),oe.emissiveFactor,ce.metallicFactor,ce.roughnessFactor,oe,Ae,f),He={defines:[]},Ge=[];xv(He.defines,Ge,J,c,f.lut);const $e=c.shadowRenderer;$e&&($e.useNormalOffset=!1);let Ke=null;if(he){const nt=bv(x.nodeModelMatrix,c.transform);if(Ke=new Float32Array(nt),Z.projection.name!=="globe"){const st=J.aabb.min,gt=J.aabb.max,[ft,ct]=he.getOpacityForBounds(nt,st[0],st[1],gt[0],gt[1]);He.overrideFog=ft>=bn||ct>=bn}}const qe=Bu(c,f.paint.get("model-cutoff-fade-range"));qe.shouldRenderCutoff&&He.defines.push("RENDER_CUTOFF");const at=c.getOrCreateProgram("model",He);c.uploadCommonUniforms(j,at,null,Ke,qe),c.renderPass!=="shadow"&&$e&&$e.setupShadowsFromMatrix(x.nodeModelMatrix,at),at.draw(c,j.gl.TRIANGLES,K,I,L,J.material.doubleSided?Sr.disabled:Sr.backCCW,ke,f.id,J.vertexBuffer,J.indexBuffer,J.segments,f.paint,c.transform.zoom,void 0,Ge)}function qp(x,c,f,w,I,L,D){let j;j=x.projection.name==="globe"?a.dg(f,x):[...f],a.a6.mat4.multiply(j,j,c.matrix);const K=a.a6.mat4.multiply([],w,j);if(c.meshes)for(const Z of c.meshes){if(Z.material.alphaMode!=="BLEND"){D.push({mesh:Z,depth:0,modelIndex:I,worldViewProjection:K,nodeModelMatrix:j});continue}const J=a.a6.vec3.transformMat4([],Z.centroid,K);J[2]>0&&L.push({mesh:Z,depth:J[2],modelIndex:I,worldViewProjection:K,nodeModelMatrix:j})}if(c.children)for(const Z of c.children)qp(x,Z,f,w,I,L,D)}function Jh(x,c,f,w){const I=f.shadowRenderer;if(!I)return;const L=I.getShadowPassDepthMode(),D=I.getShadowPassColorMode(),j=I.calculateShadowPassMatrixFromMatrix(c),K=Dy(j);f.getOrCreateProgram("modelDepth",{defines:f._shadowMapDebug?[]:["DEPTH_TEXTURE"]}).draw(f,f.context.gl.TRIANGLES,L,Ir.disabled,D,Sr.backCCW,K,w.id,x.vertexBuffer,x.indexBuffer,x.segments,w.paint,f.transform.zoom,void 0,void 0)}function _4(x,c,f){const w=c.updateZoomBasedPaintProperties(),I=function(L,D,j){let K,Z,J,oe=L.terrain?L.terrain.exaggeration():0;if(L.terrain&&oe>0){const ce=L.terrain,he=ce.findDEMTileFor(j);he&&he.dem?K=a.di.create(ce,j,he):oe=0}if(oe===0&&(D.terrainElevationMin=0,D.terrainElevationMax=0),oe===D.validForExaggeration&&(oe===0||K&&K._demTile&&K._demTile.tileID===D.validForDEMTile.id&&K._dem._timestamp===D.validForDEMTile.timestamp))return!1;for(const ce in D.instancesPerModel){const he=D.instancesPerModel[ce];for(let Ce=0;Ce<he.instancedDataArray.length;++Ce){const Me=(K?oe*K.getElevationAt(0|he.instancedDataArray.float32[16*Ce],0|he.instancedDataArray.float32[16*Ce+1],!0,!0):0)+he.instancesEvaluatedElevation[Ce];he.instancedDataArray.float32[16*Ce+6]=Me,Z=Z?Math.min(D.terrainElevationMin,Me):Me,J=J?Math.max(D.terrainElevationMax,Me):Me}}return D.terrainElevationMin=Z||0,D.terrainElevationMax=J||0,D.validForExaggeration=oe,D.validForDEMTile=K&&K._demTile?{id:K._demTile.tileID,timestamp:K._dem._timestamp}:{id:void 0,timestamp:0},!0}(x,c,f);(w||I)&&(c.uploaded=!1,c.upload(x.context))}const El={shadowUniformsInitialized:!1,useSingleShadowCascade:!1,tileMatrix:new Float64Array(16),shadowTileMatrix:new Float32Array(16),aabb:new a.c9([0,0,0],[a.ab,a.ab,0])};function RT(x,c){const f=1<<x.canonical.z,w=c.getFreeCameraOptions().position,I=c.elevation,L=x.canonical.x/f,D=(x.canonical.x+1)/f,j=x.canonical.y/f,K=(x.canonical.y+1)/f;let Z=c._centerAltitude;if(I){const he=I.getMinMaxForTile(x);he&&he.max>Z&&(Z=he.max)}const J=a.ap(w.x,L,D)-w.x,oe=a.ap(w.y,j,K)-w.y,ce=a.bD(Z,c.center.lat)-w.z;return c._zoomFromMercatorZ(Math.sqrt(J*J+oe*oe+ce*ce))}function Bo(x,c,f,w,I,L,D){const j=x.context,K=x.renderPass==="shadow",Z=x.shadowRenderer,J=K&&Z?Z.getShadowPassDepthMode():new lr(j.gl.LEQUAL,lr.ReadWrite,x.depthRangeFor3D),oe=x.isTileAffectedByFog(L);if(f.meshes)for(const ce of f.meshes){const he=["MODEL_POSITION_ON_GPU"],Ce=[];let Me,Ae,ke;w.instancedDataArray.length>20&&he.push("INSTANCED_ARRAYS");const He=Bu(x,c.paint.get("model-cutoff-fade-range"));if(He.shouldRenderCutoff&&he.push("RENDER_CUTOFF"),K&&Z)Me=x.getOrCreateProgram("modelDepth",{defines:he}),Ae=Dy(D.shadowTileMatrix,D.shadowTileMatrix,Float32Array.from(f.matrix)),ke=Z.getShadowPassColorMode();else{xv(he,Ce,ce,x,c.lut),Me=x.getOrCreateProgram("model",{defines:he,overrideFog:oe});const $e=ce.material,Ke=$e.pbrMetallicRoughness,qe=c.paint.get("model-opacity"),at=c.paint.get("model-emissive-strength").constantOr(0);Ae=Un(L.expandedProjMatrix,Float32Array.from(f.matrix),new Float32Array(16),null,x,qe,Ke.baseColorFactor.toRenderColor(null),$e.emissiveFactor,Ke.metallicFactor,Ke.roughnessFactor,$e,at,c,I),Z&&(D.shadowUniformsInitialized?Me.setShadowUniformValues(j,Z.getShadowUniformValues()):(Z.setupShadows(L.toUnwrapped(),Me,"model-tile",L.overscaledZ),D.shadowUniformsInitialized=!0)),ke=He.shouldRenderCutoff||qe<1||$e.alphaMode!=="OPAQUE"?ei.alphaBlended:ei.unblended}x.uploadCommonUniforms(j,Me,L.toUnwrapped(),null,He);const Ge=ce.material.doubleSided?Sr.disabled:Sr.backCCW;if(w.instancedDataArray.length>20)Ce.push(w.instancedDataBuffer),Me.draw(x,j.gl.TRIANGLES,J,Ir.disabled,ke,Ge,Ae,c.id,ce.vertexBuffer,ce.indexBuffer,ce.segments,c.paint,x.transform.zoom,void 0,Ce,w.instancedDataArray.length);else{const $e=K?"u_instance":"u_normal_matrix";for(let Ke=0;Ke<w.instancedDataArray.length;++Ke)Ae[$e]=new Float32Array(w.instancedDataArray.arrayBuffer,64*Ke,16),Me.draw(x,j.gl.TRIANGLES,J,Ir.disabled,ke,Ge,Ae,c.id,ce.vertexBuffer,ce.indexBuffer,ce.segments,c.paint,x.transform.zoom,void 0,Ce)}}if(f.children)for(const ce of f.children)Bo(x,c,ce,w,I,L,D)}const DT=[1,-1,1];function Kp(x,c,f,w){if(!f.modelManager)return!0;const I=f.modelManager;if(!f.shadowRenderer)return!0;const L=f.shadowRenderer,D=c.aabb;let j=!0,K=x.maxHeight;if(K===0){let J=0;for(const oe in x.instancesPerModel){const ce=I.getModel(oe,w);ce?J=Math.max(J,Math.max(Math.max(ce.aabb.max[0],ce.aabb.max[1]),ce.aabb.max[2])):j=!1}K=x.maxScale*J*1.41+x.maxVerticalOffset,j&&(x.maxHeight=K)}D.max[2]=K,D.min[2]+=x.terrainElevationMin,D.max[2]+=x.terrainElevationMax,a.a6.vec3.transformMat4(D.min,D.min,c.tileMatrix),a.a6.vec3.transformMat4(D.max,D.max,c.tileMatrix);const Z=D.intersects(L.getCurrentCascadeFrustum());return f.currentShadowCascade===0&&(x.isInsideFirstShadowMapFrustum=Z===2),Z===0}function oa(x,c){const f=x.uniformValues.u_cutoff_params[0],w=x.uniformValues.u_cutoff_params[1],I=x.uniformValues.u_cutoff_params[2],L=x.uniformValues.u_cutoff_params[3];return w===f||L===I?1:a.ap(((c-f)/(w-f)-I)/(L-I),0,1)}function yi(x,c,f,w){if(c.pitch<20)return 1;const I=c.getWorldToCameraMatrix();a.a6.mat4.multiply(I,I,x);const L=a.a6.vec4.fromValues(f.min[0],f.min[1],f.min[2],1);let D=a.a6.vec4.transformMat4(a.a6.vec4.create(),L,I),j=D,K=D;L[1]=f.max[1],D=a.a6.vec4.transformMat4(a.a6.vec4.create(),L,I),j=D[1]<j[1]?D:j,K=D[1]>K[1]?D:K,L[0]=f.max[0],D=a.a6.vec4.transformMat4(a.a6.vec4.create(),L,I),j=D[1]<j[1]?D:j,K=D[1]>K[1]?D:K,L[1]=f.min[1],D=a.a6.vec4.transformMat4(a.a6.vec4.create(),L,I),j=D[1]<j[1]?D:j,K=D[1]>K[1]?D:K;const Z=a.ap(w[0],0,1),J=100*c.pixelsPerMeter*a.ap(w[1],0,1),oe=a.ap(w[2],0,1),ce=a.a6.vec4.lerp(a.a6.vec4.create(),j,K,Z),he=Math.tan(.5*c.fovX),Ce=-ce[2]*he;if(J===0)return ce[1]<-Math.abs(Ce)?oe:1;const Me=(-Math.abs(Ce)-ce[1])/J,Ae=(He,Ge,$e)=>(1-$e)*He+$e*Ge,ke=a.ap(Ae(1,oe,Me),oe,1);return Ae(1,ke,a.ap((c.pitch-20)/20,0,1))}class y4{}class Pc{constructor(){this._storage=new Map}getLinesFromTrianglesBuffer(c,f,w){{const oe=this._storage.get(f.id);if(oe)return oe.lastUsedFrameIdx=c,oe.buf}const I=w.gl,L=I.getBufferParameter(I.ELEMENT_ARRAY_BUFFER,I.BUFFER_SIZE),D=new ArrayBuffer(L),j=new Int16Array(D);I.getBufferSubData(I.ELEMENT_ARRAY_BUFFER,0,new Int16Array(D));const K=new a.dk;for(let oe=0;oe<L/2;oe+=3){const ce=j[oe],he=j[oe+1],Ce=j[oe+2];K.emplaceBack(ce,he),K.emplaceBack(he,Ce),K.emplaceBack(Ce,ce)}const Z=w.bindVertexArrayOES.current,J=new y4;return J.buf=new ss(w,K),J.lastUsedFrameIdx=c,this._storage.set(f.id,J),w.bindVertexArrayOES.set(Z),J.buf}update(c){for(const[f,w]of this._storage)c-w.lastUsedFrameIdx>30&&(w.buf.destroy(),this._storage.delete(f))}destroy(){for(const[c,f]of this._storage)f.buf.destroy(),this._storage.delete(c)}}class wv{constructor(c){this.occluderSize=30,this.depthOffset=-1e-4,c.registerParameter(this,["Occlusion"],"occluderSize",{min:1,max:100,step:1}),c.registerParameter(this,["Occlusion"],"depthOffset",{min:-.05,max:0,step:1e-5})}}const Lc={symbol:function(x,c,f,w,I){if(x.renderPass!=="translucent")return;const L=Ir.disabled,D=x.colorModeForRenderPass();f.layout.get("text-variable-anchor")&&function(Z,J,oe,ce,he,Ce,Me){const Ae=J.transform,ke=he==="map",He=Ce==="map";for(const Ge of Z){const $e=ce.getTile(Ge),Ke=$e.getBucket(oe);if(!Ke||!Ke.text||!Ke.text.segments.get().length)continue;const qe=a.bj(Ke.textSizeData,Ae.zoom),at=Tc(Ge,Ke.getProjection(),Ae),nt=Ae.calculatePixelsToTileUnitsMatrix($e),st=ui(at,$e.tileID.canonical,He,ke,Ae,Ke.getProjection(),nt),gt=Ke.hasIconTextFit()&&Ke.hasIconData();if(qe){const ft=Math.pow(2,Ae.zoom-$e.tileID.overscaledZ);IT(Ke,ke,He,Me,a.cS,Ae,st,Ge,ft,qe,gt)}}}(w,x,f,c,f.layout.get("text-rotation-alignment"),f.layout.get("text-pitch-alignment"),I);const j=f.paint.get("icon-opacity").constantOr(1)!==0,K=f.paint.get("text-opacity").constantOr(1)!==0;f.layout.get("symbol-sort-key").constantOr(1)!==void 0&&(j||K)?Up(x,c,f,w,L,D):(j&&Up(x,c,f,w,L,D,{onlyIcons:!0}),K&&Up(x,c,f,w,L,D,{onlyText:!0})),c.map.showCollisionBoxes&&(mv(x,c,f,w,f.paint.get("text-translate"),f.paint.get("text-translate-anchor"),!0),mv(x,c,f,w,f.paint.get("icon-translate"),f.paint.get("icon-translate-anchor"),!1))},circle:function(x,c,f,w){if(x.renderPass!=="translucent")return;const I=f.paint.get("circle-opacity"),L=f.paint.get("circle-stroke-width"),D=f.paint.get("circle-stroke-opacity"),j=f.layout.get("circle-sort-key").constantOr(1)!==void 0,K=f.paint.get("circle-emissive-strength");if(I.constantOr(1)===0&&(L.constantOr(1)===0||D.constantOr(1)===0))return;const Z=x.context,J=Z.gl,oe=x.transform,ce=x.depthModeForSublayer(0,lr.ReadOnly),he=Ir.disabled,Ce=x.colorModeForDrapableLayerRenderPass(K),Me=oe.projection.name==="globe",Ae=[a.am(oe.center.lng),a.at(oe.center.lat)],ke=[];for(let Ge=0;Ge<w.length;Ge++){const $e=w[Ge],Ke=c.getTile($e),qe=Ke.getBucket(f);if(!qe||qe.projection.name!==oe.projection.name)continue;const at=qe.programConfigurations.get(f.id),nt=a.cT(f),st=x.isTileAffectedByFog($e);Me&&nt.push("PROJECTION_GLOBE_VIEW"),nt.push("DEPTH_D24"),x.terrain&&oe.depthOcclusionForSymbolsAndCircles&&nt.push("DEPTH_OCCLUSION");const gt=x.getOrCreateProgram("circle",{config:at,defines:nt,overrideFog:st}),ft=qe.layoutVertexBuffer,ct=qe.globeExtVertexBuffer,Pt=qe.indexBuffer,Yt=oe.projection.createInversionMatrix(oe,$e.canonical),cn={programConfiguration:at,program:gt,layoutVertexBuffer:ft,globeExtVertexBuffer:ct,indexBuffer:Pt,uniformValues:a.cU(x,$e,Ke,Yt,Ae,f),tile:Ke};if(j){const Kt=qe.segments.get();for(const _n of Kt)ke.push({segments:new a.b1([_n]),sortKey:_n.sortKey,state:cn})}else ke.push({segments:qe.segments,sortKey:0,state:cn})}j&&ke.sort((Ge,$e)=>Ge.sortKey-$e.sortKey);const He={useDepthForOcclusion:oe.depthOcclusionForSymbolsAndCircles};for(const Ge of ke){const{programConfiguration:$e,program:Ke,layoutVertexBuffer:qe,globeExtVertexBuffer:at,indexBuffer:nt,uniformValues:st,tile:gt}=Ge.state,ft=Ge.segments;x.terrain&&x.terrain.setupElevationDraw(gt,Ke,He),x.uploadCommonUniforms(Z,Ke,gt.tileID.toUnwrapped()),Ke.draw(x,J.TRIANGLES,ce,he,Ce,Sr.disabled,st,f.id,qe,nt,ft,f.paint,oe.zoom,$e,[at])}},heatmap:function(x,c,f,w){if(f.paint.get("heatmap-opacity")!==0)if(x.renderPass==="offscreen"){const I=x.context,L=I.gl,D=Ir.disabled,j=new ei([L.ONE,L.ONE,L.ONE,L.ONE],a.bz.transparent,[!0,!0,!0,!0]);(function(he,Ce,Me,Ae){const ke=he.gl,He=Ce.width*Ae,Ge=Ce.height*Ae;he.activeTexture.set(ke.TEXTURE1),he.viewport.set([0,0,He,Ge]);let $e=Me.heatmapFbo;if(!$e||$e&&($e.width!==He||$e.height!==Ge)){$e&&$e.destroy();const Ke=ke.createTexture();ke.bindTexture(ke.TEXTURE_2D,Ke),ke.texParameteri(ke.TEXTURE_2D,ke.TEXTURE_WRAP_S,ke.CLAMP_TO_EDGE),ke.texParameteri(ke.TEXTURE_2D,ke.TEXTURE_WRAP_T,ke.CLAMP_TO_EDGE),ke.texParameteri(ke.TEXTURE_2D,ke.TEXTURE_MIN_FILTER,ke.LINEAR),ke.texParameteri(ke.TEXTURE_2D,ke.TEXTURE_MAG_FILTER,ke.LINEAR),$e=Me.heatmapFbo=he.createFramebuffer(He,Ge,!0,null),function(qe,at,nt,st,gt,ft){const ct=qe.gl;ct.texImage2D(ct.TEXTURE_2D,0,qe.extRenderToTextureHalfFloat?ct.RGBA16F:ct.RGBA,gt,ft,0,ct.RGBA,qe.extRenderToTextureHalfFloat?ct.HALF_FLOAT:ct.UNSIGNED_BYTE,null),st.colorAttachment.set(nt)}(he,0,Ke,$e,He,Ge)}else ke.bindTexture(ke.TEXTURE_2D,$e.colorAttachment.get()),he.bindFramebuffer.set($e.framebuffer)})(I,x,f,x.transform.projection.name==="globe"?.5:.25),I.clear({color:a.bz.transparent});const K=x.transform,Z=K.projection.name==="globe",J=Z?["PROJECTION_GLOBE_VIEW"]:[],oe=Z?Sr.frontCCW:Sr.disabled,ce=[a.am(K.center.lng),a.at(K.center.lat)];for(let he=0;he<w.length;he++){const Ce=w[he];if(c.hasRenderableParent(Ce))continue;const Me=c.getTile(Ce),Ae=Me.getBucket(f);if(!Ae||Ae.projection.name!==K.projection.name)continue;const ke=x.isTileAffectedByFog(Ce),He=Ae.programConfigurations.get(f.id),Ge=x.getOrCreateProgram("heatmap",{config:He,defines:J,overrideFog:ke}),{zoom:$e}=x.transform;x.terrain&&x.terrain.setupElevationDraw(Me,Ge),x.uploadCommonUniforms(I,Ge,Ce.toUnwrapped());const Ke=K.projection.createInversionMatrix(K,Ce.canonical);Ge.draw(x,L.TRIANGLES,lr.disabled,D,j,oe,MT(x,Ce,Me,Ke,ce,$e,f.paint.get("heatmap-intensity")),f.id,Ae.layoutVertexBuffer,Ae.indexBuffer,Ae.segments,f.paint,x.transform.zoom,He,Z?[Ae.globeExtVertexBuffer]:null)}I.viewport.set([0,0,x.width,x.height])}else x.renderPass==="translucent"&&(x.context.setColorMode(x.colorModeForRenderPass()),function(I,L){const D=I.context,j=D.gl,K=L.heatmapFbo;if(!K)return;D.activeTexture.set(j.TEXTURE0),j.bindTexture(j.TEXTURE_2D,K.colorAttachment.get()),D.activeTexture.set(j.TEXTURE1);let Z=L.colorRampTexture;Z||(Z=L.colorRampTexture=new a.T(D,L.colorRamp,j.RGBA8)),Z.bind(j.LINEAR,j.CLAMP_TO_EDGE),I.getOrCreateProgram("heatmapTexture").draw(I,j.TRIANGLES,lr.disabled,Ir.disabled,I.colorModeForRenderPass(),Sr.disabled,((J,oe,ce,he)=>({u_image:0,u_color_ramp:1,u_opacity:oe.paint.get("heatmap-opacity")}))(0,L),L.id,I.viewportBuffer,I.quadTriangleIndexBuffer,I.viewportSegments,L.paint,I.transform.zoom)}(x,f))},line:function(x,c,f,w){if(x.renderPass!=="translucent")return;const I=f.paint.get("line-opacity"),L=f.paint.get("line-width");if(I.constantOr(1)===0||L.constantOr(1)===0)return;const D=f.paint.get("line-emissive-strength"),j=f.paint.get("line-occlusion-opacity"),K=x.context,Z=K.gl,J=f.layout.get("line-z-offset"),oe=!J.isConstant()||!!J.constantOr(0),ce=oe?new lr(x.depthOcclusion?Z.GREATER:Z.LEQUAL,lr.ReadOnly,x.depthRangeFor3D):x.depthModeForSublayer(0,lr.ReadOnly),he=x.colorModeForDrapableLayerRenderPass(D),Ce=x.terrain&&x.terrain.renderingToTexture,Me=Ce?1:a.q.devicePixelRatio,Ae=f.paint.get("line-dasharray"),ke=Ae.constantOr(1),He=f.layout.get("line-cap"),Ge=Ae.constantOr(null),$e=He.constantOr(null),Ke=f.paint.get("line-pattern"),qe=Ke.constantOr(1),at=Ke.constantOr(null),nt=f.paint.get("line-opacity").constantOr(1);let st=!qe&&nt!==1||x.depthOcclusion&&j>0&&j<1;const gt=f.paint.get("line-gradient"),ft=qe?"linePattern":"line",ct=a.cV(f);let Pt;if(Ce&&x.terrain&&x.terrain.clipOrMaskOverlapStencilType()&&(st=!1),j!==0&&x.depthOcclusion){const cn=f.paint._values["line-opacity"];cn&&cn.value&&cn.value.kind==="constant"?Pt=cn.value:a.w(`Occlusion opacity for layer ${f.id} is supported only when line-opacity isn't data-driven.`)}if(oe&&(x.forceTerrainMode=!0),!oe&&j!==0&&x.terrain&&!Ce)return void a.w(`Occlusion opacity for layer ${f.id} is supported on terrain only if the layer has non-zero line-z-offset.`);const Yt=st&&oe?x.stencilModeFor3D():Ir.disabled;for(const cn of w){const Kt=c.getTile(cn);if(qe&&!Kt.patternsLoaded())continue;const _n=Kt.getBucket(f);if(!_n)continue;x.prepareDrawTile();const Lt=_n.programConfigurations.get(f.id),on=x.isTileAffectedByFog(cn),Qt=x.getOrCreateProgram(ft,{config:Lt,defines:oe?[...ct,"ELEVATED"]:ct,overrideFog:on});if(at&&Kt.imageAtlas){const In=Kt.imageAtlas.patternPositions[at.toString()];In&&Lt.setConstantPatternPositions(In)}if(!qe&&Ge&&$e&&Kt.lineAtlas){const In=Kt.lineAtlas.getDash(Ge,$e);In&&Lt.setConstantPatternPositions(In)}let[xn,Sn]=f.paint.get("line-trim-offset");($e==="round"||$e==="square")&&xn!==Sn&&(xn===0&&(xn-=1),Sn===1&&(Sn+=1));const sn=Ce?cn.projMatrix:null,vn=qe?a.cW(x,Kt,f,sn,Me,[xn,Sn]):a.cX(x,Kt,f,sn,_n.lineClipsArray.length,Me,[xn,Sn]);if(gt){const In=_n.gradients[f.id];let $n=In.texture;if(f.gradientVersion!==In.version){let wr=256;if(f.stepInterpolant){const Xn=c.getSource().maxzoom,fr=cn.canonical.z===Xn?Math.ceil(1<<x.transform.maxZoom-cn.canonical.z):1;wr=a.ap(a.cY(_n.maxLineLength/a.ab*1024*fr),256,K.maxTextureSize)}In.gradient=a.cZ({expression:f.gradientExpression(),evaluationKey:"lineProgress",resolution:wr,image:In.gradient||void 0,clips:_n.lineClipsArray}),In.texture?In.texture.update(In.gradient):In.texture=new a.T(K,In.gradient,Z.RGBA8),In.version=f.gradientVersion,$n=In.texture}K.activeTexture.set(Z.TEXTURE1),$n.bind(f.stepInterpolant?Z.NEAREST:Z.LINEAR,Z.CLAMP_TO_EDGE)}ke&&(K.activeTexture.set(Z.TEXTURE0),Kt.lineAtlasTexture&&Kt.lineAtlasTexture.bind(Z.LINEAR,Z.REPEAT),Lt.updatePaintBuffers()),qe&&(K.activeTexture.set(Z.TEXTURE0),Kt.imageAtlasTexture&&Kt.imageAtlasTexture.bind(Z.LINEAR,Z.CLAMP_TO_EDGE),Lt.updatePaintBuffers()),oe&&x.terrain.setupElevationDraw(Kt,Qt),x.uploadCommonUniforms(K,Qt,cn.toUnwrapped());const ar=In=>{Pt!=null&&(Pt.value=nt*j),Qt.draw(x,Z.TRIANGLES,ce,In,he,Sr.disabled,vn,f.id,_n.layoutVertexBuffer,_n.indexBuffer,_n.segments,f.paint,x.transform.zoom,Lt,[_n.layoutVertexBuffer2,_n.patternVertexBuffer,_n.zOffsetVertexBuffer]),Pt!=null&&(Pt.value=nt)};if(st&&!oe){const In=x.stencilModeForClipping(cn).ref;In===0&&Ce&&K.clear({stencil:0});const $n={func:Z.EQUAL,mask:255};vn.u_alpha_discard_threshold=.8,ar(new Ir($n,In,255,Z.KEEP,Z.KEEP,Z.INVERT)),vn.u_alpha_discard_threshold=0,ar(new Ir($n,In,255,Z.KEEP,Z.KEEP,Z.KEEP))}else st&&oe&&(vn.u_alpha_discard_threshold=.001),ar(oe?Yt:x.stencilModeForClipping(cn))}st&&(x.resetStencilClippingMasks(),Ce&&K.clear({stencil:0})),j===0||x.depthOcclusion||Ce||x.layersWithOcclusionOpacity.push(x.currentLayer),oe&&(x.forceTerrainMode=!1)},fill:function(x,c,f,w){const I=f.paint.get("fill-color"),L=f.paint.get("fill-opacity"),D=f.is3D(),j=new lr(x.context.gl.LEQUAL,lr.ReadWrite,x.depthRangeFor3D);if(L.constantOr(1)===0)return;const K=f.paint.get("fill-emissive-strength"),Z=x.colorModeForDrapableLayerRenderPass(K),J=f.paint.get("fill-pattern"),oe=x.opaquePassEnabledForLayer()&&!J.constantOr(1)&&I.constantOr(a.bz.transparent).a===1&&L.constantOr(0)===1?"opaque":"translucent";if(x.renderPass===oe){const ce=D?j:x.depthModeForSublayer(1,x.renderPass==="opaque"?lr.ReadWrite:lr.ReadOnly);vv(x,c,f,w,ce,Z,!1)}if(!D&&x.renderPass==="translucent"&&f.paint.get("fill-antialias")){const ce=D?j:x.depthModeForSublayer(f.getPaintProperty("fill-outline-color")?2:0,lr.ReadOnly);vv(x,c,f,w,ce,Z,!0)}},"fill-extrusion":function(x,c,f,w){const I=f.paint.get("fill-extrusion-opacity"),L=x.context,D=L.gl,j=x.terrain,K=j&&j.renderingToTexture;if(I===0)return;const Z=x.conflationActive&&x.style.isLayerClipped(f,c.getSource()),J=x.style.order.indexOf(f.fqid);if(Z&&function(oe,ce,he,Ce,Me){for(const Ae of Ce){const ke=ce.getTile(Ae).getBucket(he);ke&&(ke.updateReplacement(Ae,oe.replacementSource,Me),ke.uploadCentroid(oe.context))}}(x,c,f,w,J),j||Z)for(const oe of w){const ce=c.getTile(oe).getBucket(f);ce&&kc(x.context,c,oe,ce,f,j,Z)}if(x.renderPass==="shadow"&&x.shadowRenderer){const oe=x.shadowRenderer;if(j&&I<.65&&f._transitionablePaint._values["fill-extrusion-opacity"].value.expression instanceof a.a4)return;const ce=oe.getShadowPassDepthMode(),he=oe.getShadowPassColorMode();Kh(x,c,f,w,ce,Ir.disabled,he,Z)}else if(x.renderPass==="translucent"){const oe=!f.paint.get("fill-extrusion-pattern").constantOr(1),ce=f.paint.get("fill-extrusion-color").constantOr(a.bz.white);if(!K&&ce.a!==0){const he=new lr(x.context.gl.LEQUAL,lr.ReadWrite,x.depthRangeFor3D);I===1&&oe?Kh(x,c,f,w,he,Ir.disabled,ei.unblended,Z):(Kh(x,c,f,w,he,Ir.disabled,ei.disabled,Z),Kh(x,c,f,w,he,x.stencilModeFor3D(),x.colorModeForRenderPass(),Z),x.resetStencilClippingMasks())}if(x.style.enable3dLights()&&oe&&(!j&&x.transform.projection.name!=="globe"||K)){const he=f.paint.get("fill-extrusion-opacity"),Ce=f.paint.get("fill-extrusion-ambient-occlusion-intensity"),Me=f.paint.get("fill-extrusion-ambient-occlusion-ground-radius"),Ae=f.paint.get("fill-extrusion-flood-light-intensity"),ke=f.paint.get("fill-extrusion-flood-light-color").toRenderColor(f.lut).toArray01().slice(0,3),He=Ce>0&&Me>0,Ge=Ae>0,$e=(qe,at,nt)=>(1-nt)*qe+nt*at,Ke=qe=>{const at=x.depthModeForSublayer(1,lr.ReadOnly,D.LEQUAL,!0),nt=f.paint.get(qe?"fill-extrusion-ambient-occlusion-ground-attenuation":"fill-extrusion-flood-light-ground-attenuation"),st=$e(.1,3,nt),gt=x._showOverdrawInspector;if(!gt){const ft=new Ir({func:D.ALWAYS,mask:255},255,255,D.KEEP,D.KEEP,D.REPLACE),ct=new ei([D.ONE,D.ONE,D.ONE,D.ONE],a.bz.transparent,[!1,!1,!1,!0],D.MIN);uo(x,c,f,w,at,ft,ct,Sr.disabled,qe,"sdf",he,Ce,Me,Ae,ke,st,Z,!1)}{const ft=gt?Ir.disabled:new Ir({func:D.EQUAL,mask:255},255,255,D.KEEP,D.DECR,D.DECR),ct=gt?x.colorModeForRenderPass():new ei([D.ONE_MINUS_DST_ALPHA,D.DST_ALPHA,D.ONE,D.ONE],a.bz.transparent,[!0,!0,!0,!0]);uo(x,c,f,w,at,ft,ct,Sr.disabled,qe,"color",he,Ce,Me,Ae,ke,st,Z,!1)}};if(K){const qe=(at,nt,st)=>{const gt=x.depthModeForSublayer(1,lr.ReadOnly,D.LEQUAL,!1),ft=f.paint.get(at?"fill-extrusion-ambient-occlusion-ground-attenuation":"fill-extrusion-flood-light-ground-attenuation"),ct=$e(.1,3,ft);{const Pt=new ei([D.ONE,D.ONE,D.ONE,D.ONE],a.bz.transparent,[!1,!1,!1,!0]);uo(x,c,f,w,gt,Ir.disabled,Pt,Sr.disabled,at,"clear",he,Ce,Me,Ae,ke,ct,Z,nt)}{const Pt=new Ir({func:D.ALWAYS,mask:255},255,255,D.KEEP,D.KEEP,D.REPLACE),Yt=new ei([D.ONE,D.ONE,D.ONE,D.ONE],a.bz.transparent,[!1,!1,!1,!0],D.MIN);uo(x,c,f,w,gt,Pt,Yt,Sr.disabled,at,"sdf",he,Ce,Me,Ae,ke,ct,Z,nt)}{const Pt=at?D.ZERO:D.ONE_MINUS_DST_ALPHA,Yt=new Ir({func:D.EQUAL,mask:255},255,255,D.KEEP,D.DECR,D.DECR),cn=new ei([Pt,D.DST_ALPHA,D.ONE_MINUS_DST_ALPHA,D.ZERO],a.bz.transparent,[!0,!0,!0,!0]);uo(x,c,f,w,gt,Yt,cn,Sr.disabled,at,"color",he,Ce,Me,Ae,ke,ct,Z,nt)}{const Pt=new ei([D.ONE,D.ONE,D.ONE,at?D.ZERO:D.ONE],a.bz.transparent,[!1,!1,!1,!0],at?D.FUNC_ADD:D.MAX);uo(x,c,f,w,gt,Ir.disabled,Pt,Sr.disabled,at,"clear",he,Ce,Me,Ae,ke,ct,Z,nt,st)}};if(He||Ge){let at;if(x.prepareDrawTile(),j){const nt=j.drapeBufferSize[0],st=j.drapeBufferSize[1];at=j.framebufferCopyTexture,at&&(!at||at.size[0]===nt&&at.size[1]===st)||(at&&at.destroy(),at=j.framebufferCopyTexture=new a.T(L,new a.r({width:nt,height:st}),D.RGBA8)),at.bind(D.LINEAR,D.CLAMP_TO_EDGE),D.copyTexImage2D(D.TEXTURE_2D,0,D.RGBA,0,0,nt,st,0)}He&&qe(!0,!1,at),Ge&&qe(!1,!0,at)}}else He&&Ke(!0),Ge&&Ke(!1),(He||Ge)&&x.resetStencilClippingMasks()}}},hillshade:function(x,c,f,w){if(x.renderPass!=="offscreen"&&x.renderPass!=="translucent"||x.style.disableElevatedTerrain)return;const I=x.context,L=x.terrain&&x.terrain.renderingToTexture,[D,j]=x.renderPass!=="translucent"||L?[{},w]:x.stencilConfigForOverlap(w);for(const K of j){const Z=c.getTile(K);if(Z.needsHillshadePrepare&&x.renderPass==="offscreen")Dp(x,Z,f);else if(x.renderPass==="translucent"){const J=x.depthModeForSublayer(0,lr.ReadOnly),oe=f.paint.get("hillshade-emissive-strength"),ce=x.colorModeForDrapableLayerRenderPass(oe),he=L&&x.terrain?x.terrain.stencilModeForRTTOverlap(K):D[K.overscaledZ];J0(x,K,Z,f,J,he,ce)}}I.viewport.set([0,0,x.width,x.height]),x.resetStencilClippingMasks()},raster:function(x,c,f,w,I,L){if(x.renderPass!=="translucent"||f.paint.get("raster-opacity")===0)return;const D=x.transform.projection.name==="globe",j=f.paint.get("raster-elevation")!==0,K=j&&D;if(x.renderElevatedRasterBackface&&!K)return;const Z=x.context,J=Z.gl,oe=c.getSource(),ce=function(qe,at,nt,st){const gt=at.paint.get("raster-color"),ft=qe.type==="raster-array",ct=[],Pt=at.paint.get("raster-resampling"),Yt=at.paint.get("raster-color-mix");let cn=at.paint.get("raster-color-range");const Kt=[Yt[0],Yt[1],Yt[2],0],_n=Yt[3];let Lt=Pt==="nearest"?st.NEAREST:st.LINEAR;if(ft&&(ct.push("RASTER_ARRAY"),gt||ct.push("RASTER_COLOR"),Pt==="linear"&&ct.push("RASTER_ARRAY_LINEAR"),Lt=st.NEAREST,!cn&&qe.rasterLayers)){const on=qe.rasterLayers.find(({id:Qt})=>Qt===at.sourceLayer);on&&on.fields&&on.fields.range&&(cn=on.fields.range)}if(cn=cn||[0,1],gt){ct.push("RASTER_COLOR"),nt.activeTexture.set(st.TEXTURE2),at.updateColorRamp(cn);let on=at.colorRampTexture;on||(on=at.colorRampTexture=new a.T(nt,at.colorRamp,st.RGBA8)),on.bind(st.LINEAR,st.CLAMP_TO_EDGE)}return{mix:Kt,range:cn,offset:_n,defines:ct,resampling:Lt}}(oe,f,Z,J);if(oe instanceof a.aD&&!w.length&&!D)return;const he=f.paint.get("raster-emissive-strength"),Ce=x.colorModeForDrapableLayerRenderPass(he),Me=x.terrain&&x.terrain.renderingToTexture,Ae=!x.options.moving,ke=f.paint.get("raster-resampling")==="nearest"?J.NEAREST:J.LINEAR;if(oe instanceof a.aD&&!w.length&&(oe.onNorthPole||oe.onSouthPole)){const qe=j?x.stencilModeFor3D():Ir.disabled;return void ls(!!oe.onNorthPole,null,x,c,f,he,ce,Sr.disabled,qe)}if(!w.length)return;const[He,Ge]=oe instanceof a.aD||Me?[{},w]:x.stencilConfigForOverlap(w),$e=Ge[Ge.length-1].overscaledZ;K&&ce.defines.push("PROJECTION_GLOBE_VIEW"),j&&ce.defines.push("RENDER_CUTOFF");const Ke=(qe,at,nt)=>{for(const st of qe){const gt=st.toUnwrapped(),ft=c.getTile(st);if(Me&&(!ft||!ft.hasData()))continue;Z.activeTexture.set(J.TEXTURE0);const ct=gv(ft,oe,f,ce);if(!ct||!ct.texture)continue;const{texture:Pt,mix:Yt,offset:cn,tileSize:Kt,buffer:_n}=ct;let Lt,on;Me?(Lt=lr.disabled,on=st.projMatrix):j?(Lt=new lr(J.LEQUAL,lr.ReadWrite,x.depthRangeFor3D),on=D?Float32Array.from(x.transform.expandedFarZProjMatrix):x.transform.calculateProjMatrix(gt,Ae)):(Lt=x.depthModeForSublayer(st.overscaledZ-$e,f.paint.get("raster-opacity")===1?lr.ReadWrite:lr.ReadOnly,J.LESS),on=x.transform.calculateProjMatrix(gt,Ae));const Qt=x.terrain&&Me?x.terrain.stencilModeForRTTOverlap(st):He[st.overscaledZ],xn=L?0:f.paint.get("raster-fade-duration");ft.registerFadeDuration(xn);const Sn=c.findLoadedParent(st,0),sn=av(ft,Sn,c,x.transform,xn);let vn,ar;x.terrain&&x.terrain.prepareDrawTile(),Z.activeTexture.set(J.TEXTURE0),Pt.bind(ke,J.CLAMP_TO_EDGE),Z.activeTexture.set(J.TEXTURE1),Sn?(Sn.texture&&Sn.texture.bind(ke,J.CLAMP_TO_EDGE),vn=Math.pow(2,Sn.tileID.overscaledZ-ft.tileID.overscaledZ),ar=[ft.tileID.canonical.x*vn%1,ft.tileID.canonical.y*vn%1]):Pt.bind(ke,J.CLAMP_TO_EDGE),Pt.useMipmap&&Z.extTextureFilterAnisotropic&&x.transform.pitch>20&&J.texParameterf(J.TEXTURE_2D,Z.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Z.extTextureFilterAnisotropicMax);const In=x.transform;let $n;const wr=j?ya(In):[0,0,0,0];let Xn,fr,jr,Fr,Ri,Ui=0;if(K&&oe instanceof a.aD&&oe.coordinates.length>3)Xn=Float32Array.from(a.b5(a.cC(new a.bP(0,0,0)))),fr=Float32Array.from(In.globeMatrix),jr=Float32Array.from(a.cy(In)),Fr=[a.am(In.center.lng),a.at(In.center.lat)],$n=oe.elevatedGlobePerspectiveTransform,Ri=oe.elevatedGlobeGridMatrix||new Float32Array(9);else if(K){const ni=a.cz(st.canonical);Ui=a.cA(ni.getCenter().lat),Xn=Float32Array.from(a.b5(a.cC(st.canonical))),fr=Float32Array.from(In.globeMatrix),jr=Float32Array.from(a.cy(In)),Fr=[a.am(In.center.lng),a.at(In.center.lat)],$n=[0,0],Ri=Float32Array.from(a.cB(st.canonical,ni,Ui,In.worldSize/In._pixelsPerMercatorPixel))}else $n=oe instanceof a.aD?oe.perspectiveTransform:[0,0],Xn=new Float32Array(16),fr=new Float32Array(9),jr=new Float32Array(16),Fr=[0,0],Ri=new Float32Array(9);const ea=Vp(on,Xn,fr,jr,Ri,ar||[0,0],a.a9(x.transform.zoom),Fr,wr,vn||1,sn,f,$n,j?f.paint.get("raster-elevation"):0,2,Yt,cn,ce.range,Kt,_n,he),Ys=x.isTileAffectedByFog(st),Fa=x.getOrCreateProgram("raster",{defines:ce.defines,overrideFog:Ys});if(x.uploadCommonUniforms(Z,Fa,gt),oe instanceof a.aD){const ni=oe.elevatedGlobeVertexBuffer,Ni=oe.elevatedGlobeIndexBuffer;if(Me||!D)oe.boundsBuffer&&oe.boundsSegments&&Fa.draw(x,J.TRIANGLES,Lt,Ir.disabled,Ce,Sr.disabled,ea,f.id,oe.boundsBuffer,x.quadTriangleIndexBuffer,oe.boundsSegments);else if(ni&&Ni){const ua=In.zoom<=a.c2?oe.elevatedGlobeSegments:oe.getSegmentsForLongitude(In.center.lng);ua&&Fa.draw(x,J.TRIANGLES,Lt,Ir.disabled,Ce,at,ea,f.id,ni,Ni,ua)}}else if(K){Lt=new lr(J.LEQUAL,lr.ReadOnly,x.depthRangeFor3D);const ni=x.globeSharedBuffers;if(ni){const[Ni,ua,zi]=ni.getGridBuffers(Ui,!1);Fa.draw(x,J.TRIANGLES,Lt,nt||Qt,x.colorModeForRenderPass(),at,ea,f.id,Ni,ua,zi)}}else{const{tileBoundsBuffer:ni,tileBoundsIndexBuffer:Ni,tileBoundsSegments:ua}=x.getTileBoundsBuffers(ft);Fa.draw(x,J.TRIANGLES,Lt,Qt,Ce,Sr.disabled,ea,f.id,ni,Ni,ua)}}if(!(oe instanceof a.aD)&&K)for(const st of qe){const gt=st.canonical.y===(1<<st.canonical.z)-1;st.canonical.y===0&&ls(!0,st,x,c,f,he,ce,at,nt||Ir.disabled),gt&&ls(!1,st,x,c,f,he,ce,at===Sr.frontCW?Sr.backCW:Sr.frontCW,nt||Ir.disabled)}};K?Ke(Ge,x.renderElevatedRasterBackface?Sr.backCW:Sr.frontCW,x.stencilModeFor3D()):Ke(Ge,Sr.disabled,void 0),x.resetStencilClippingMasks()},"raster-particle":function(x,c,f,w,I,L){x.renderPass==="offscreen"&&function(D,j,K,Z){if(!Z.length)return;const J=D.context,oe=J.gl,ce=j.getSource();if(!(ce instanceof Sh))return;const he=Math.ceil(Math.sqrt(K.paint.get("raster-particle-count")));let Ce=K.particlePositionRGBAImage;if(!Ce||Ce.width!==he){const Ge=function($e){const Ke=$e*$e,qe=new Uint8Array(4*Ke),at=function(st){return st|=0,st=Math.imul(2747636419^st,2654435769),st=Math.imul(st^st>>>16,2654435769),((st=Math.imul(st^st>>>16,2654435769))>>>0)/4294967296},nt=1/1.1;for(let st=0;st<Ke;st++){const gt=nt*(at(2*st+0)+Xl),ft=nt*(at(2*st+1)+Xl),ct=255*gt%1,Pt=255*ft%1,Yt=ct,cn=ft-Pt/255,Kt=Pt;qe[4*st+0]=255*(gt-ct/255),qe[4*st+1]=255*Yt,qe[4*st+2]=255*cn,qe[4*st+3]=255*Kt}return qe}(he);Ce=K.particlePositionRGBAImage=new a.r({width:he,height:he},Ge)}let Me=K.particleFramebuffer;Me?Me.width!==he&&(Me.destroy(),Me=K.particleFramebuffer=J.createFramebuffer(he,he,!0,null)):Me=K.particleFramebuffer=J.createFramebuffer(he,he,!0,null);const Ae=[];for(const Ge of Z){const $e=j.getTile(Ge);if(!($e instanceof O0))continue;const Ke=m4($e,ce,K);if(!Ke)continue;const qe=[$e.tileSize,$e.tileSize];let at=K.tileFramebuffer;at||(at=K.tileFramebuffer=J.createFramebuffer(qe[0],qe[1],!0,null));let nt=$e.rasterParticleState;nt||(nt=$e.rasterParticleState=new p4(J,Ge,qe,Ce));const st=nt.update(K.lastInvalidatedAt);nt.particleTextureDimension!==he&&nt.updateParticleTexture(Ge,Ce);const gt=nt.targetColorTexture;nt.targetColorTexture=nt.backgroundColorTexture,nt.backgroundColorTexture=gt;const ft=nt.particleTexture0;nt.particleTexture0=nt.particleTexture1,nt.particleTexture1=ft,Ae.push([Ge,Ke,nt,st])}if(Ae.length===0)return;const ke=a.q.now(),He=K.previousDrawTimestamp?.001*(ke-K.previousDrawTimestamp):.0167;if(K.previousDrawTimestamp=ke,K.hasColorMap()){J.activeTexture.set(oe.TEXTURE0+2);let Ge=K.colorRampTexture;Ge||(Ge=K.colorRampTexture=new a.T(J,K.colorRamp,oe.RGBA8)),Ge.bind(oe.LINEAR,oe.CLAMP_TO_EDGE)}J.bindFramebuffer.set(K.tileFramebuffer.framebuffer),function(Ge,$e,Ke){const qe=Ge.context,at=qe.gl,nt=$e.tileFramebuffer;qe.activeTexture.set(at.TEXTURE0);const st={u_texture:0,u_opacity:1.05*(ft=$e.paint.get("raster-particle-fade-opacity-factor"))/(ft+.05)},gt=Ge.getOrCreateProgram("rasterParticleTexture",{defines:[],overrideFog:!1});var ft;for(const ct of Ke){const[,,Pt,Yt]=ct;nt.colorAttachment.set(Pt.targetColorTexture.texture),qe.viewport.set([0,0,nt.width,nt.height]),qe.clear({color:a.bz.transparent}),Yt&&(Pt.backgroundColorTexture.bind(at.NEAREST,at.CLAMP_TO_EDGE),gt.draw(Ge,at.TRIANGLES,lr.disabled,Ir.disabled,ei.alphaBlended,Sr.disabled,st,$e.id,Ge.viewportBuffer,Ge.quadTriangleIndexBuffer,Ge.viewportSegments))}}(D,K,Ae),function(Ge,$e,Ke,qe){const at=Ge.context,nt=at.gl,st=Ke.tileFramebuffer,gt=Ge.transform.projection.name==="globe",ft=Ke.paint.get("raster-particle-max-speed");for(const ct of qe){const[Pt,Yt,cn]=ct;at.activeTexture.set(nt.TEXTURE0+0),Yt.texture.bind(nt.LINEAR,nt.CLAMP_TO_EDGE),st.colorAttachment.set(cn.targetColorTexture.texture);const Kt=Ge.getOrCreateProgram("rasterParticleDraw",{defines:Yt.defines,overrideFog:!1});at.activeTexture.set(nt.TEXTURE0+1);const _n=Yt.scalarData?[]:[0,1,2,3].map(Qt=>a.c$[Qt](Pt));_n.push(Pt);const Lt=Pt.canonical.x,on=Pt.canonical.y;for(const Qt of _n){const xn=$e.getTile(gt?Qt.wrapped():Qt);if(!xn)continue;const Sn=xn.rasterParticleState;if(!Sn)continue;const sn=Qt.canonical.x+(1<<Qt.canonical.z)*(Qt.wrap-Pt.wrap),vn=Qt.canonical.y;Sn.particleTexture0.bind(nt.NEAREST,nt.CLAMP_TO_EDGE);const ar=cv(1,Sn.particleTexture0.size[0],[sn-Lt,vn-on],0,Yt.texture.size,2,ft,Yt.textureOffset,Yt.scale,Yt.offset);Kt.draw(Ge,nt.POINTS,lr.disabled,Ir.disabled,ei.alphaBlended,Sr.disabled,ar,Ke.id,Sn.particleIndexBuffer,void 0,Sn.particleSegment)}}}(D,j,K,Ae),J.bindFramebuffer.set(K.particleFramebuffer.framebuffer),function(Ge,$e,Ke,qe){const at=Ge.context,nt=at.gl,st=$e.paint.get("raster-particle-max-speed"),gt=qe*$e.paint.get("raster-particle-speed-factor")*.15,ft=function(Pt){return Math.pow(Pt,6)}(.01+1*$e.paint.get("raster-particle-reset-rate-factor")),ct=$e.particleFramebuffer;at.viewport.set([0,0,ct.width,ct.height]);for(const Pt of Ke){const[,Yt,cn]=Pt;at.activeTexture.set(nt.TEXTURE0+0),Yt.texture.bind(nt.LINEAR,nt.CLAMP_TO_EDGE),at.activeTexture.set(nt.TEXTURE0+1);const Kt=cn.particleTexture0;Kt.bind(nt.NEAREST,nt.CLAMP_TO_EDGE);const _n=dv(1,Kt.size[0],0,Yt.texture.size,st,gt,ft,Yt.textureOffset,Yt.scale,Yt.offset);ct.colorAttachment.set(cn.particleTexture1.texture),at.clear({color:a.bz.transparent}),Ge.getOrCreateProgram("rasterParticleUpdate",{defines:Yt.defines}).draw(Ge,nt.TRIANGLES,lr.disabled,Ir.disabled,ei.unblended,Sr.disabled,_n,$e.id,Ge.viewportBuffer,Ge.quadTriangleIndexBuffer,Ge.viewportSegments)}}(D,K,Ae,He)}(x,c,f,w),x.renderPass==="translucent"&&(function(D,j,K,Z,J){const oe=D.context,ce=oe.gl,he=j.getSource().tileSize,Ce=5*(1-a.a7(a.bU,a.bU+1,D.transform.zoom))*he+K.paint.get("raster-particle-elevation"),Me=!D.options.moving,Ae=D.transform.projection.name==="globe";if(!Z.length)return;const[ke,He]=D.stencilConfigForOverlap(Z),Ge=[];Ae&&Ge.push("PROJECTION_GLOBE_VIEW");const $e=D.stencilModeFor3D();for(const Ke of He){const qe=Ke.toUnwrapped(),at=j.getTile(Ke);if(!at.rasterParticleState)continue;const nt=at.rasterParticleState,st=100;at.registerFadeDuration(st);const gt=j.findLoadedParent(Ke,0),ft=av(at,gt,j,D.transform,st);let ct,Pt;D.terrain&&D.terrain.prepareDrawTile(),oe.activeTexture.set(ce.TEXTURE0),nt.targetColorTexture.bind(ce.LINEAR,ce.CLAMP_TO_EDGE),oe.activeTexture.set(ce.TEXTURE1),gt&&gt.rasterParticleState?(gt.rasterParticleState.targetColorTexture.bind(ce.LINEAR,ce.CLAMP_TO_EDGE),ct=Math.pow(2,gt.tileID.overscaledZ-at.tileID.overscaledZ),Pt=[at.tileID.canonical.x*ct%1,at.tileID.canonical.y*ct%1]):nt.targetColorTexture.bind(ce.LINEAR,ce.CLAMP_TO_EDGE);const Yt=Ae?Float32Array.from(D.transform.expandedFarZProjMatrix):D.transform.calculateProjMatrix(qe,Me),cn=D.transform,Kt=v4(cn),_n=a.cz(Ke.canonical),Lt=a.cA(_n.getCenter().lat);let on,Qt,xn,Sn,sn;Ae?(on=Float32Array.from(a.b5(a.cC(Ke.canonical))),Qt=Float32Array.from(cn.globeMatrix),xn=Float32Array.from(a.cy(cn)),Sn=[a.am(cn.center.lng),a.at(cn.center.lat)],sn=Float32Array.from(a.cB(Ke.canonical,_n,Lt,cn.worldSize/cn._pixelsPerMercatorPixel))):(on=new Float32Array(16),Qt=new Float32Array(9),xn=new Float32Array(16),Sn=[0,0],sn=new Float32Array(9));const vn=c4(Yt,on,Qt,xn,sn,Pt||[0,0],a.a9(D.transform.zoom),Sn,Kt,ct||1,ft,Ce),ar=D.isTileAffectedByFog(Ke),In=D.getOrCreateProgram("rasterParticle",{defines:Ge,overrideFog:ar});if(D.uploadCommonUniforms(oe,In,qe),Ae){const $n=new lr(ce.LEQUAL,lr.ReadOnly,D.depthRangeFor3D),wr=0,Xn=D.globeSharedBuffers;if(Xn){const[fr,jr,Fr]=Xn.getGridBuffers(Lt,wr!==0);In.draw(D,ce.TRIANGLES,$n,$e,ei.alphaBlended,D.renderElevatedRasterBackface?Sr.frontCCW:Sr.backCCW,vn,K.id,fr,jr,Fr)}}else{const $n=D.depthModeForSublayer(0,lr.ReadOnly),wr=ke[Ke.overscaledZ],{tileBoundsBuffer:Xn,tileBoundsIndexBuffer:fr,tileBoundsSegments:jr}=D.getTileBoundsBuffers(at);In.draw(D,ce.TRIANGLES,$n,wr,ei.alphaBlended,Sr.disabled,vn,K.id,Xn,fr,jr)}}D.resetStencilClippingMasks()}(x,c,f,w),x.style.map.triggerRepaint())},background:function(x,c,f,w){const I=f.paint.get("background-color"),L=f.paint.get("background-opacity"),D=f.paint.get("background-emissive-strength"),j=f.paint.get("background-pitch-alignment")==="viewport";if(L===0)return;const K=x.context,Z=K.gl,J=x.transform,oe=J.tileSize,ce=f.paint.get("background-pattern");let he;if(ce!==void 0&&(ce===null||(he=x.imageManager.getPattern(ce.toString(),f.scope,x.style.getLut(f.scope)),!he)))return;const Ce=!ce&&I.a===1&&L===1&&x.opaquePassEnabledForLayer()?"opaque":"translucent";if(x.renderPass!==Ce)return;const Me=Ir.disabled,Ae=x.depthModeForSublayer(0,Ce==="opaque"?lr.ReadWrite:lr.ReadOnly),ke=x.colorModeForDrapableLayerRenderPass(D),He=ce?"backgroundPattern":"background";let Ge,$e=w;if($e||(Ge=x.getBackgroundTiles(),$e=Object.values(Ge).map(Ke=>Ke.tileID)),ce&&(K.activeTexture.set(Z.TEXTURE0),x.imageManager.bind(x.context,f.scope)),j){const Ke=x.getOrCreateProgram(He,{overrideFog:!1,overrideRtt:!0}),qe=new Float32Array(a.a6.mat4.identity([])),at=new a.aA(0,0,0,0,0),nt=ce?Ed(qe,D,L,x,0,f.scope,he,j,{tileID:at,tileSize:oe}):d4(qe,D,L,I.toRenderColor(f.lut));Ke.draw(x,Z.TRIANGLES,Ae,Me,ke,Sr.disabled,nt,f.id,x.viewportBuffer,x.quadTriangleIndexBuffer,x.viewportSegments)}else for(const Ke of $e){const qe=x.isTileAffectedByFog(Ke),at=x.getOrCreateProgram(He,{overrideFog:qe}),nt=Ke.toUnwrapped(),st=w?Ke.projMatrix:x.transform.calculateProjMatrix(nt);x.prepareDrawTile();const gt=c?c.getTile(Ke):Ge?Ge[Ke.key]:new Kl(Ke,oe,J.zoom,x),ft=ce?Ed(st,D,L,x,0,f.scope,he,j,{tileID:Ke,tileSize:oe}):d4(st,D,L,I.toRenderColor(f.lut));x.uploadCommonUniforms(K,at,nt);const{tileBoundsBuffer:ct,tileBoundsIndexBuffer:Pt,tileBoundsSegments:Yt}=x.getTileBoundsBuffers(gt);at.draw(x,Z.TRIANGLES,Ae,Me,ke,Sr.disabled,ft,f.id,ct,Pt,Yt)}},sky:function(x,c,f){const w=x._atmosphere?a.a9(x.transform.zoom):1,I=f.paint.get("sky-opacity")*w;if(I===0)return;const L=x.context,D=f.paint.get("sky-type"),j=new lr(L.gl.LEQUAL,lr.ReadOnly,[0,1]),K=x.frameCounter/1e3%1;D==="atmosphere"?x.renderPass==="offscreen"?f.needsSkyboxCapture(x)&&(function(Z,J,oe,ce){const he=Z.context,Ce=he.gl;let Me=J.skyboxFbo;if(!Me){Me=J.skyboxFbo=he.createFramebuffer(32,32,!0,null),J.skyboxGeometry=new Hy(he),J.skyboxTexture=he.gl.createTexture(),Ce.bindTexture(Ce.TEXTURE_CUBE_MAP,J.skyboxTexture),Ce.texParameteri(Ce.TEXTURE_CUBE_MAP,Ce.TEXTURE_WRAP_S,Ce.CLAMP_TO_EDGE),Ce.texParameteri(Ce.TEXTURE_CUBE_MAP,Ce.TEXTURE_WRAP_T,Ce.CLAMP_TO_EDGE),Ce.texParameteri(Ce.TEXTURE_CUBE_MAP,Ce.TEXTURE_MIN_FILTER,Ce.LINEAR),Ce.texParameteri(Ce.TEXTURE_CUBE_MAP,Ce.TEXTURE_MAG_FILTER,Ce.LINEAR);for(let Ge=0;Ge<6;++Ge)Ce.texImage2D(Ce.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0,Ce.RGBA,32,32,0,Ce.RGBA,Ce.UNSIGNED_BYTE,null)}he.bindFramebuffer.set(Me.framebuffer),he.viewport.set([0,0,32,32]);const Ae=J.getCenter(Z,!0),ke=Z.getOrCreateProgram("skyboxCapture"),He=new Float64Array(16);a.a6.mat4.identity(He),a.a6.mat4.rotateY(He,He,.5*-Math.PI),Id(Z,J,ke,He,Ae,0),a.a6.mat4.identity(He),a.a6.mat4.rotateY(He,He,.5*Math.PI),Id(Z,J,ke,He,Ae,1),a.a6.mat4.identity(He),a.a6.mat4.rotateX(He,He,.5*-Math.PI),Id(Z,J,ke,He,Ae,2),a.a6.mat4.identity(He),a.a6.mat4.rotateX(He,He,.5*Math.PI),Id(Z,J,ke,He,Ae,3),a.a6.mat4.identity(He),Id(Z,J,ke,He,Ae,4),a.a6.mat4.identity(He),a.a6.mat4.rotateY(He,He,Math.PI),Id(Z,J,ke,He,Ae,5),he.viewport.set([0,0,Z.width,Z.height])}(x,f),f.markSkyboxValid(x)):x.renderPass==="sky"&&function(Z,J,oe,ce,he){const Ce=Z.context,Me=Ce.gl,Ae=Z.transform,ke=Z.getOrCreateProgram("skybox");Ce.activeTexture.set(Me.TEXTURE0),Me.bindTexture(Me.TEXTURE_CUBE_MAP,J.skyboxTexture);const He=((Ge,$e,Ke,qe,at)=>({u_matrix:Ge,u_sun_direction:$e,u_cubemap:0,u_opacity:qe,u_temporal_offset:at}))(Ae.skyboxMatrix,J.getCenter(Z,!1),0,ce,he);Z.uploadCommonUniforms(Ce,ke),ke.draw(Z,Me.TRIANGLES,oe,Ir.disabled,Z.colorModeForRenderPass(),Sr.backCW,He,"skybox",J.skyboxGeometry.vertexBuffer,J.skyboxGeometry.indexBuffer,J.skyboxGeometry.segment)}(x,f,j,I,K):D==="gradient"&&x.renderPass==="sky"&&function(Z,J,oe,ce,he){const Ce=Z.context,Me=Ce.gl,Ae=Z.transform,ke=Z.getOrCreateProgram("skyboxGradient");J.skyboxGeometry||(J.skyboxGeometry=new Hy(Ce)),Ce.activeTexture.set(Me.TEXTURE0);let He=J.colorRampTexture;He||(He=J.colorRampTexture=new a.T(Ce,J.colorRamp,Me.RGBA8)),He.bind(Me.LINEAR,Me.CLAMP_TO_EDGE);const Ge=(($e,Ke,qe,at,nt)=>({u_matrix:$e,u_color_ramp:0,u_center_direction:Ke,u_radius:a.bB(qe),u_opacity:at,u_temporal_offset:nt}))(Ae.skyboxMatrix,J.getCenter(Z,!1),J.paint.get("sky-gradient-radius"),ce,he);Z.uploadCommonUniforms(Ce,ke),ke.draw(Z,Me.TRIANGLES,oe,Ir.disabled,Z.colorModeForRenderPass(),Sr.backCW,Ge,"skyboxGradient",J.skyboxGeometry.vertexBuffer,J.skyboxGeometry.indexBuffer,J.skyboxGeometry.segment)}(x,f,j,I,K)},debug:function(x,c,f,w,I,L){for(let D=0;D<f.length;D++)if(I){const Z=new a.bz(w.r*.8,w.g*.8,w.b*.8,1);Tl(x,c,f[D],w,-1,-1,L),Tl(x,c,f[D],w,-1,1,L),Tl(x,c,f[D],w,1,1,L),Tl(x,c,f[D],w,1,-1,L),Tl(x,c,f[D],Z,0,0,L)}else Tl(x,c,f[D],w,0,0,L)},custom:function(x,c,f,w){const I=x.context,L=f.implementation;if(!x.transform.projection.unsupportedLayers||!x.transform.projection.unsupportedLayers.includes("custom")||x.terrain&&(x.terrain.renderingToTexture||x.renderPass==="offscreen")&&f.isDraped(c)){if(x.renderPass==="offscreen"){const D=L.prerender;if(D){if(x.setCustomLayerDefaults(),I.setColorMode(x.colorModeForRenderPass()),x.transform.projection.name==="globe"){const j=x.transform.pointMerc;D.call(L,I.gl,x.transform.customLayerMatrix(),x.transform.getProjection(),x.transform.globeToMercatorMatrix(),a.a9(x.transform.zoom),[j.x,j.y],x.transform.pixelsPerMeterRatio)}else D.call(L,I.gl,x.transform.customLayerMatrix());I.setDirty(),x.setBaseState()}}else if(x.renderPass==="translucent"){if(x.terrain&&x.terrain.renderingToTexture){const j=L.renderToTile;if(j){const K=w[0].canonical,Z=new a.a5(K.x+w[0].wrap*(1<<K.z),K.y,K.z);I.setDepthMode(lr.disabled),I.setStencilMode(Ir.disabled),I.setColorMode(x.colorModeForRenderPass()),x.setCustomLayerDefaults(),j.call(L,I.gl,Z),I.setDirty(),x.setBaseState()}return}x.setCustomLayerDefaults(),I.setColorMode(x.colorModeForRenderPass()),I.setStencilMode(Ir.disabled);const D=L.renderingMode==="3d"?new lr(x.context.gl.LEQUAL,lr.ReadWrite,x.depthRangeFor3D):x.depthModeForSublayer(0,lr.ReadOnly);if(I.setDepthMode(D),x.transform.projection.name==="globe"){const j=x.transform.pointMerc;L.render(I.gl,x.transform.customLayerMatrix(),x.transform.getProjection(),x.transform.globeToMercatorMatrix(),a.a9(x.transform.zoom),[j.x,j.y],x.transform.pixelsPerMeterRatio)}else L.render(I.gl,x.transform.customLayerMatrix());I.setDirty(),x.setBaseState(),I.bindFramebuffer.set(null)}}else a.w("Custom layers are not yet supported with this projection. Use mercator or globe to enable usage of custom layers.")},model:function(x,c,f,w){if(x.renderPass==="opaque")return;const I=f.paint.get("model-opacity");if(I===0)return;const L=f.paint.get("model-cast-shadows");if(x.renderPass==="shadow"&&(!L||x.terrain&&I<.65&&f._transitionablePaint._values["model-opacity"].value.expression instanceof a.a4))return;const D=x.shadowRenderer,j=f.paint.get("model-receive-shadows");D&&(D.useNormalOffset=!0,j||(D.enabled=!1));const K=()=>{D&&(D.useNormalOffset=!0,j||(D.enabled=!0))},Z=c.getSource();if(x.renderPass==="light-beam"&&Z.type!=="batched-model")return;if(Z.type==="vector"||Z.type==="geojson")return function(ke,He,Ge,$e,Ke){const qe=ke.transform;if(qe.projection.name!=="mercator")return void a.w(`Drawing 3D models for ${qe.projection.name} projection is not yet implemented`);const at=qe.getFreeCameraOptions().position;if(!ke.modelManager)return;const nt=ke.modelManager;Ge.modelManager=nt;const st=ke.shadowRenderer;if(!Ge._unevaluatedLayout._values.hasOwnProperty("model-id"))return;const gt=Ge._unevaluatedLayout._values["model-id"],ft={...Ge.layout.get("model-id").parameters},ct=ke.style.order.indexOf(Ge.fqid);for(const Pt of $e){const Yt=He.getTile(Pt).getBucket(Ge);if(!Yt||Yt.projection.name!==qe.projection.name)continue;const cn=Yt.getModelUris();cn&&!Yt.modelsRequested&&(nt.addModelsFromBucket(cn,Ke),Yt.modelsRequested=!0);const Kt=RT(Pt,qe);ft.zoom=Kt;const _n=gt.possiblyEvaluate(ft);if(_4(ke,Yt,Pt),El.shadowUniformsInitialized=!1,El.useSingleShadowCascade=!!st&&st.getMaxCascadeForTile(Pt.toUnwrapped())===0,ke.renderPass==="shadow"&&st){if(ke.currentShadowCascade===1&&Yt.isInsideFirstShadowMapFrustum)continue;const Qt=qe.calculatePosMatrix(Pt.toUnwrapped(),qe.worldSize);if(El.tileMatrix.set(Qt),El.shadowTileMatrix=Float32Array.from(st.calculateShadowPassMatrixFromMatrix(Qt)),El.aabb.min.fill(0),El.aabb.max[0]=El.aabb.max[1]=a.ab,El.aabb.max[2]=0,Kp(Yt,El,ke,Ge.scope))continue}const Lt=1<<Pt.canonical.z,on=[((at.x-Pt.wrap)*Lt-Pt.canonical.x)*a.ab,(at.y*Lt-Pt.canonical.y)*a.ab,at.z*Lt*a.ab];ke.conflationActive&&Object.keys(Yt.instancesPerModel).length>0&&ke.style.isLayerClipped(Ge,He.getSource())&&Yt.updateReplacement(Pt,ke.replacementSource,ct,Ke)&&(Yt.uploaded=!1,Yt.upload(ke.context));for(let Qt in Yt.instancesPerModel){const xn=Yt.instancesPerModel[Qt];xn.features.length>0&&(Qt=_n.evaluate(xn.features[0].feature,{}));const Sn=nt.getModel(Qt,Ke);if(Sn&&Sn.uploaded)for(const sn of Sn.nodes)Bo(ke,Ge,sn,xn,on,Pt,El)}}}(x,c,f,w,Z.type==="vector"?f.scope:""),void K();if(!Z.loaded())return;if(Z.type==="batched-model")return function(ke,He,Ge,$e){Ge.resetLayerRenderingStats(ke);const Ke=ke.context,qe=ke.transform,at=ke.style.fog,nt=ke.shadowRenderer;if(qe.projection.name!=="mercator")return void a.w(`Drawing 3D landmark models for ${qe.projection.name} projection is not yet implemented`);const st=ke.transform.getFreeCameraOptions().position,gt=a.a6.vec3.scale([],[st.x,st.y,st.z],ke.transform.worldSize),ft=a.a6.vec3.negate([],gt),ct=a.a6.mat4.identity([]),Pt=a.de(qe.center.lat,qe.zoom),Yt=a.a6.mat4.fromScaling([],[1,1,1/Pt]);a.a6.mat4.translate(ct,ct,ft);const cn=Ge.paint.get("model-opacity"),Kt=new lr(Ke.gl.LEQUAL,lr.ReadWrite,ke.depthRangeFor3D),_n=new lr(Ke.gl.LEQUAL,lr.ReadOnly,ke.depthRangeFor3D),Lt=new a.c9([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),on=ke.renderPass==="shadow",Qt=on&&nt?nt.getCurrentCascadeFrustum():qe.getFrustum(qe.scaleZoom(qe.worldSize)),xn=Ge.paint.get("model-front-cutoff"),Sn=xn[2]<1,sn=Bu(ke,Ge.paint.get("model-cutoff-fade-range")),vn=Ge.getLayerRenderingStats();(function(ar,In,$n,wr){const Xn=ar.terrain?ar.terrain.exaggeration():0,fr=ar.transform.zoom;for(const jr of wr){const Fr=In.getTile(jr).getBucket($n);Fr&&(ar.conflationActive&&Fr.updateReplacement(jr,ar.replacementSource),Fr.evaluateScale(ar,$n),ar.terrain&&Xn>0&&Fr.elevationUpdate(ar.terrain,Xn,jr,$n.source),Fr.needsReEvaluation(ar,fr,$n)&&Fr.evaluate($n))}})(ke,He,Ge,$e),function(){let ar,In,$n;Sn?(ar=$e.length-1,In=-1,$n=-1):(ar=0,In=$e.length,$n=1);const wr=new Float64Array(16),Xn=a.a6.vec3.create(),fr=new a.P(0,0);for(let jr=ar;jr!==In;jr+=$n){const Fr=$e[jr],Ri=He.getTile(Fr).getBucket(Ge);if(!Ri||!Ri.uploaded)continue;let Ui=!1;nt&&(Ui=nt.getMaxCascadeForTile(Fr.toUnwrapped())===0);const ea=qe.calculatePosMatrix(Fr.toUnwrapped(),qe.worldSize),Ys=Ri.modelTraits;!on&&Sn&&(a.a6.mat4.invert(wr,ea),a.a6.vec3.transformMat4(Xn,gt,wr),fr.x=Xn[0],fr.y=Xn[1]);const Fa=[];for(const ni of Ri.getNodesInfo()){if(ni.hiddenByReplacement||!ni.node.meshes)continue;const Ni=ni.node;let ua=0;ke.terrain&&Ni.elevation&&(ua=Ni.elevation*ke.terrain.exaggeration());const zi=(()=>{const Yi=ni.aabb;return Lt.min=[...Yi.min],Lt.max=[...Yi.max],Lt.min[2]+=ua,Lt.max[2]+=ua,a.a6.vec3.transformMat4(Lt.min,Lt.min,ea),a.a6.vec3.transformMat4(Lt.max,Lt.max,ea),Lt})(),$r=ni.evaluatedScale;if($r[0]<=1&&$r[1]<=1&&$r[2]<=1&&zi.intersects(Qt)===0)continue;if(!on&&Sn){const Yi=.16666666666666666;ni.cameraCollisionOpacity=gt[0]>zi.min[0]&&gt[0]<zi.max[0]&&gt[1]>zi.min[1]&&gt[1]<zi.max[1]&&gt[2]*Pt<zi.max[2]&&Ni.footprint&&a.bu(fr,Ni.footprint)?Math.max(ni.cameraCollisionOpacity-Yi,0):Math.min(1,ni.cameraCollisionOpacity+Yi)}const bi=[...ea],ki=Ni.anchor?Ni.anchor[0]:0,xa=Ni.anchor?Ni.anchor[1]:0;a.a6.mat4.translate(bi,bi,[ki*($r[0]-1),xa*($r[1]-1),ua]),a.a6.vec3.exactEquals($r,a.dh)||a.a6.mat4.scale(bi,bi,$r);const Na=a.a6.mat4.multiply([],bi,Ni.matrix),hi=a.a6.mat4.multiply([],qe.expandedFarZProjMatrix,Na),Qa=a.a6.mat4.multiply([],qe.expandedFarZProjMatrix,bi),oo=a.a6.vec4.transformMat4([],[ki,xa,ua,1],hi)[2];Ni.hidden=!1;let eo=cn;on||(Sn&&(eo*=ni.cameraCollisionOpacity,eo*=yi(bi,qe,ni.aabb,xn)),eo*=oa(sn,oo)),eo!==0?Fa.push({nodeInfo:ni,depth:oo,opacity:eo,wvpForNode:hi,wvpForTile:Qa,nodeModelMatrix:Na,tileModelMatrix:bi}):Ni.hidden=!0}on||Fa.sort((ni,Ni)=>!Sn||ni.opacity===1&&Ni.opacity===1?ni.depth<Ni.depth?-1:1:ni.opacity===1?-1:Ni.opacity===1?1:ni.depth>Ni.depth?-1:1);for(const ni of Fa){const Ni=ni.nodeInfo,ua=Ni.node;let zi=a.a6.mat4.multiply([],Yt,ni.tileModelMatrix);a.a6.mat4.multiply(zi,ct,zi);const $r=a.a6.mat4.invert([],zi);a.a6.mat4.transpose($r,$r),a.a6.mat4.scale($r,$r,DT),zi=a.a6.mat4.multiply(zi,zi,ua.matrix);const bi=ke.renderPass==="light-beam",ki=Ys&a.dj.HasMapboxMeshFeatures,xa=ki?0:Ni.evaluatedRMEA[0][2];for(let Na=0;Na<ua.meshes.length;++Na){const hi=ua.meshes[Na],Qa=Na===ua.lightMeshIndex;let oo=ni.wvpForNode;if(Qa){if(!bi&&!ke.terrain&&ke.shadowRenderer){ke.currentLayer<ke.firstLightBeamLayer&&(ke.firstLightBeamLayer=ke.currentLayer);continue}oo=ni.wvpForTile}else if(bi)continue;const eo={defines:[]},Yi=[];if(xv(eo.defines,Yi,hi,ke,Ge.lut),ki||eo.defines.push("DIFFUSE_SHADED"),Ui&&eo.defines.push("SHADOWS_SINGLE_CASCADE"),vn&&(on?vn.numRenderedVerticesInShadowPass+=hi.vertexArray.length:vn.numRenderedVerticesInTransparentPass+=hi.vertexArray.length),on){Jh(hi,ni.nodeModelMatrix,ke,Ge);continue}let Ko=null;if(at){const Uu=bv(ni.nodeModelMatrix,ke.transform);if(Ko=new Float32Array(Uu),qe.projection.name!=="globe"){const zc=hi.aabb.min,tu=hi.aabb.max,[af,of]=at.getOpacityForBounds(Uu,zc[0],zc[1],tu[0],tu[1]);eo.overrideFog=af>=bn||of>=bn}}const Yo=hi.material;let Zs;Yo.occlusionTexture&&Yo.occlusionTexture.offsetScale&&(Zs=Yo.occlusionTexture.offsetScale,eo.defines.push("OCCLUSION_TEXTURE_TRANSFORM")),!on&&nt&&(nt.useNormalOffset=!!hi.normalBuffer);const Ps=ke.getOrCreateProgram("model",eo);!on&&nt&&nt.setupShadowsFromMatrix(ni.tileModelMatrix,Ps,nt.useNormalOffset),ke.uploadCommonUniforms(Ke,Ps,null,Ko);const us=Yo.pbrMetallicRoughness;us.metallicFactor=.9,us.roughnessFactor=.5;const Xs=Un(new Float32Array(oo),new Float32Array(zi),new Float32Array($r),new Float32Array(ua.matrix),ke,ni.opacity,us.baseColorFactor.toRenderColor(null),Yo.emissiveFactor,us.metallicFactor,us.roughnessFactor,Yo,xa,Ge,[0,0,0],Zs);!Qa&&(Ni.hasTranslucentParts||ni.opacity<1)&&Ps.draw(ke,Ke.gl.TRIANGLES,Kt,Ir.disabled,ei.disabled,Sr.backCCW,Xs,Ge.id,hi.vertexBuffer,hi.indexBuffer,hi.segments,Ge.paint,ke.transform.zoom,void 0,Yi),Ps.draw(ke,Ke.gl.TRIANGLES,Qa?_n:Kt,Ir.disabled,Qa||ni.opacity<1||Ni.hasTranslucentParts?ei.alphaBlended:ei.unblended,Sr.backCCW,Xs,Ge.id,hi.vertexBuffer,hi.indexBuffer,hi.segments,Ge.paint,ke.transform.zoom,void 0,Yi)}}}}()}(x,c,f,w),void K();if(Z.type!=="model")return;const J=Z.getModels(),oe=[],ce=x.transform.getFreeCameraOptions().position,he=a.a6.vec3.scale([],[ce.x,ce.y,ce.z],x.transform.worldSize);a.a6.vec3.negate(he,he);const Ce=[],Me=[];let Ae=0;for(const ke of J){const He=f.paint.get("model-rotation").constantOr(null),Ge=f.paint.get("model-scale").constantOr(null),$e=f.paint.get("model-translation").constantOr(null);ke.computeModelMatrix(x,He,Ge,$e,!0,!0,!1);const Ke=a.a6.mat4.identity([]),qe=a.de(ke.position.lat,x.transform.zoom),at=a.a6.mat4.fromScaling([],[1,1,1/qe]);a.a6.mat4.translate(Ke,Ke,he),oe.push({zScaleMatrix:at,negCameraPosMatrix:Ke});for(const nt of ke.nodes)qp(x.transform,nt,ke.matrix,x.transform.expandedFarZProjMatrix,Ae,Ce,Me);Ae++}if(Ce.sort((ke,He)=>He.depth-ke.depth),x.renderPass!=="shadow"){if(I===1)for(const ke of Me)Wp(ke,x,f,oe[ke.modelIndex],Ir.disabled,x.colorModeForRenderPass());else{for(const ke of Me)Wp(ke,x,f,oe[ke.modelIndex],Ir.disabled,ei.disabled);for(const ke of Me)Wp(ke,x,f,oe[ke.modelIndex],x.stencilModeFor3D(),x.colorModeForRenderPass());x.resetStencilClippingMasks()}for(const ke of Ce)Wp(ke,x,f,oe[ke.modelIndex],Ir.disabled,x.colorModeForRenderPass());K()}else{for(const ke of Me)Jh(ke.mesh,ke.nodeModelMatrix,x,f);for(const ke of Ce)Jh(ke.mesh,ke.nodeModelMatrix,x,f);K()}}},Sv={model:function(x,c,f){const w=c.getSource();if(!w.loaded())return;if(w.type==="vector"||w.type==="geojson")return void(f.modelManager&&f.modelManager.upload(f,w.type==="vector"?x.scope:""));if(w.type==="batched-model"||w.type!=="model")return;const I=w.getModels();for(const L of I)L.upload(f.context)},raster:function(x,c,f){const w=c.getSource();if(!(w instanceof Sh&&w.loaded()))return;const I=x.sourceLayer||w.rasterLayerIds&&w.rasterLayerIds[0];if(!I)return;const L=x.paint.get("raster-array-band")||w.getInitialBand(I);if(L==null)return;const D=c.getIds().map(j=>c.getTileByID(j));for(const j of D)j.updateNeeded(I,L)&&w.prepareTile(j,I,L)},"raster-particle":function(x,c,f){const w=c.getSource();if(!(w instanceof Sh&&w.loaded()))return;const I=x.sourceLayer||w.rasterLayerIds&&w.rasterLayerIds[0];if(!I)return;const L=x.paint.get("raster-particle-array-band")||w.getInitialBand(I);if(L==null)return;const D=c.getIds().map(j=>c.getTileByID(j));for(const j of D)j.updateNeeded(I,L)&&w.prepareTile(j,I,L)}};class Uy{constructor(c,f,w,I){this.context=new ET(c,f),this.transform=w,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.tp=I,this._timeStamp=a.q.now(),this._averageFPS=0,this._fpsHistory=[],this._dt=0,this._debugParams={showTerrainProxyTiles:!1,fpsWindow:30,continousRedraw:!1,enabledLayers:{}};const L=["fill","line","symbol","circle","heatmap","fill-extrusion","raster","raster-particle","hillshade","model","background","sky"];for(const j of L)this._debugParams.enabledLayers[j]=!0;I.registerParameter(this._debugParams,["Terrain"],"showTerrainProxyTiles",{},()=>{this.style.map.triggerRepaint()}),I.registerParameter(this._debugParams,["FPS"],"fpsWindow",{min:1,max:100,step:1}),I.registerBinding(this._debugParams,["FPS"],"continousRedraw",{readonly:!0,label:"continuous redraw"}),I.registerBinding(this,["FPS"],"_averageFPS",{readonly:!0,label:"value"}),I.registerBinding(this,["FPS"],"_averageFPS",{readonly:!0,label:"graph",view:"graph",min:0,max:200});for(const j of L)I.registerParameter(this._debugParams.enabledLayers,["Debug","Layers"],j);this.occlusionParams=new wv(I),this.setup(),this.numSublayers=is.maxUnderzooming+is.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={},this.conflationActive=!1,this.replacementSource=new a.dl,this.longestCutoffRange=0,this.minCutoffZoom=0,this._fogVisible=!1,this._cachedTileFogOpacities={},this._shadowRenderer=new Ow(this),this._wireframeDebugCache=new Pc,this.renderDefaultNorthPole=!0,this.renderDefaultSouthPole=!0,this.layersWithOcclusionOpacity=[];const D=new a.r({width:1,height:1},Uint8Array.of(0,0,0,0));this.emptyDepthTexture=new a.T(this.context,D,c.RGBA8),this._clippingActiveLastFrame=!1}updateTerrain(c,f){const w=!!c&&!!c.terrain&&this.transform.projection.supportsTerrain;if(!(w||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new Ey(this,c));const I=this._terrain;this.transform.elevation=w?I:null,I.update(c,this.transform,f),this.transform.elevation&&!I.enabled&&(this.transform.elevation=null)}_updateFog(c){const f=c.fog;if(!f||this.transform.projection.name==="globe"||f.getOpacity(this.transform.pitch)<1||f.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[w,I]=f.getFovAdjustedRange(this.transform._fov);if(w>I)return void(this.transform.fogCullDistSq=null);const L=w+.78*(I-w);this.transform.fogCullDistSq=L*L}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled||this._forceTerrainMode?this._terrain:null}get forceTerrainMode(){return this._forceTerrainMode}set forceTerrainMode(c){c&&!this._terrain&&(this._terrain=new Ey(this,this.style)),this._forceTerrainMode=c}get shadowRenderer(){return this._shadowRenderer&&this._shadowRenderer.enabled?this._shadowRenderer:null}get wireframeDebugCache(){return this._wireframeDebugCache}resize(c,f){if(this.width=c*a.q.devicePixelRatio,this.height=f*a.q.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const w of this.style.order)this.style._mergedLayers[w].resize()}setup(){const c=this.context,f=new a.a_;f.emplaceBack(0,0),f.emplaceBack(a.ab,0),f.emplaceBack(0,a.ab),f.emplaceBack(a.ab,a.ab),this.tileExtentBuffer=c.createVertexBuffer(f,a.b0.members),this.tileExtentSegments=a.b1.simpleSegment(0,0,4,2);const w=new a.a_;w.emplaceBack(0,0),w.emplaceBack(a.ab,0),w.emplaceBack(0,a.ab),w.emplaceBack(a.ab,a.ab),this.debugBuffer=c.createVertexBuffer(w,a.b0.members),this.debugSegments=a.b1.simpleSegment(0,0,4,5);const I=new a.a_;I.emplaceBack(-1,-1),I.emplaceBack(1,-1),I.emplaceBack(-1,1),I.emplaceBack(1,1),this.viewportBuffer=c.createVertexBuffer(I,a.b0.members),this.viewportSegments=a.b1.simpleSegment(0,0,4,2);const L=new a.aN;L.emplaceBack(0,0,0,0),L.emplaceBack(a.ab,0,a.ab,0),L.emplaceBack(0,a.ab,0,a.ab),L.emplaceBack(a.ab,a.ab,a.ab,a.ab),this.mercatorBoundsBuffer=c.createVertexBuffer(L,a.b3.members),this.mercatorBoundsSegments=a.b1.simpleSegment(0,0,4,2);const D=new a.aO;D.emplaceBack(0,1,2),D.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=c.createIndexBuffer(D);const j=new a.a$;for(const Z of[0,1,3,2,0])j.emplaceBack(Z);this.debugIndexBuffer=c.createIndexBuffer(j),this.emptyTexture=new a.T(c,new a.r({width:1,height:1},Uint8Array.of(0,0,0,0)),c.gl.RGBA8),this.identityMat=a.a6.mat4.create();const K=this.context.gl;this.stencilClearMode=new Ir({func:K.ALWAYS,mask:0},0,255,K.ZERO,K.ZERO,K.ZERO),this.loadTimeStamps.push(performance.now())}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(c){return c._makeTileBoundsBuffers(this.context,this.transform.projection),c._tileBoundsBuffer?{tileBoundsBuffer:c._tileBoundsBuffer,tileBoundsIndexBuffer:c._tileBoundsIndexBuffer,tileBoundsSegments:c._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const c=this.context.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.getOrCreateProgram("clippingMask").draw(this,c.TRIANGLES,lr.disabled,this.stencilClearMode,ei.disabled,Sr.disabled,Np(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(c,f,w){if(!f||this.currentStencilSource===f.id||!c.isTileClipped()||!w||w.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let j=!1;for(const K of w)if(this._tileClippingMaskIDs[K.key]===void 0){j=!0;break}if(!j)return}this.currentStencilSource=f.id;const I=this.context,L=I.gl;this.nextStencilID+w.length>256&&this.clearStencil(),I.setColorMode(ei.disabled),I.setDepthMode(lr.disabled);const D=this.getOrCreateProgram("clippingMask");this._tileClippingMaskIDs={};for(const j of w){const K=f.getTile(j),Z=this._tileClippingMaskIDs[j.key]=this.nextStencilID++,{tileBoundsBuffer:J,tileBoundsIndexBuffer:oe,tileBoundsSegments:ce}=this.getTileBoundsBuffers(K);D.draw(this,L.TRIANGLES,lr.disabled,new Ir({func:L.ALWAYS,mask:0},Z,255,L.KEEP,L.KEEP,L.REPLACE),ei.disabled,Sr.disabled,Np(j.projMatrix),"$clipping",J,oe,ce)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const c=this.nextStencilID++,f=this.context.gl;return new Ir({func:f.NOTEQUAL,mask:255},c,255,f.KEEP,f.KEEP,f.REPLACE)}stencilModeForClipping(c){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(c);const f=this.context.gl;return new Ir({func:f.EQUAL,mask:255},this._tileClippingMaskIDs[c.key],0,f.KEEP,f.KEEP,f.REPLACE)}stencilConfigForOverlap(c){const f=this.context.gl,w=c.sort((D,j)=>j.overscaledZ-D.overscaledZ),I=w[w.length-1].overscaledZ,L=w[0].overscaledZ-I+1;if(L>1){this.currentStencilSource=void 0,this.nextStencilID+L>256&&this.clearStencil();const D={};for(let j=0;j<L;j++)D[j+I]=new Ir({func:f.GEQUAL,mask:255},j+this.nextStencilID,255,f.KEEP,f.KEEP,f.REPLACE);return this.nextStencilID+=L,[D,w]}return[{[I]:Ir.disabled},w]}colorModeForRenderPass(){const c=this.context.gl;return this._showOverdrawInspector?new ei([c.CONSTANT_COLOR,c.ONE,c.CONSTANT_COLOR,c.ONE],new a.bz(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?ei.unblended:ei.alphaBlended}colorModeForDrapableLayerRenderPass(c){const f=this.context.gl;return this.style&&this.style.enable3dLights()&&this.terrain&&this.terrain.renderingToTexture&&this.renderPass==="translucent"?new ei([f.ONE,f.ONE_MINUS_SRC_ALPHA,f.CONSTANT_ALPHA,f.ONE_MINUS_SRC_ALPHA],new a.bz(0,0,0,c===void 0?0:c),[!0,!0,!0,!0]):this.colorModeForRenderPass()}depthModeForSublayer(c,f,w,I=!1){if(this.depthOcclusion)return new lr(this.context.gl.GREATER,lr.ReadOnly,this.depthRangeFor3D);if(!this.opaquePassEnabledForLayer()&&!I)return lr.disabled;const L=1-((1+this.currentLayer)*this.numSublayers+c)*this.depthEpsilon;return new lr(w||this.context.gl.LEQUAL,f,[L,L])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}blitDepth(){const c=this.context.gl,f=Math.ceil(this.width),w=Math.ceil(this.height),I=this.context.bindFramebuffer.get(),L=c.getParameter(c.TEXTURE_BINDING_2D);this.depthFBO&&this.depthFBO.width===f&&this.depthFBO.height===w||(this.depthFBO&&(this.depthFBO.destroy(),this.depthFBO=void 0,this.depthTexture=void 0),f!==0&&w!==0&&(this.depthFBO=new fv(this.context,f,w,!1,"texture"),this.depthTexture=new a.T(this.context,{width:f,height:w,data:null},c.DEPTH24_STENCIL8),this.depthFBO.depthAttachment.set(this.depthTexture.texture))),this.context.bindFramebuffer.set(I),c.bindTexture(c.TEXTURE_2D,L),this.depthFBO&&(c.bindFramebuffer(c.READ_FRAMEBUFFER,null),c.bindFramebuffer(c.DRAW_FRAMEBUFFER,this.depthFBO.framebuffer),c.blitFramebuffer(0,0,f,w,0,0,f,w,c.DEPTH_BUFFER_BIT,c.NEAREST),c.bindFramebuffer(c.FRAMEBUFFER,this.context.bindFramebuffer.current))}updateAverageFPS(){this._fpsHistory.push(this._dt===0?0:1e3/this._dt),this._fpsHistory.length>this._debugParams.fpsWindow&&this._fpsHistory.splice(0,this._fpsHistory.length-this._debugParams.fpsWindow),this._averageFPS=Math.round(this._fpsHistory.reduce((c,f)=>c+f/this._fpsHistory.length,0))}render(c,f){const w=a.q.now();this._dt=w-this._timeStamp,this._timeStamp=w,this._wireframeDebugCache.update(this.frameCounter),this._debugParams.continousRedraw=c.map.repaint,this.style=c,this.options=f;const I=this.style._mergedLayers,L=this.style.order.filter(ft=>{const ct=I[ft];return!(ct.type in this._debugParams.enabledLayers)||this._debugParams.enabledLayers[ct.type]});let D=!1,j=!1;for(const ft of L){const ct=I[ft];ct.type==="circle"&&(D=!0),ct.type==="symbol"&&(ct.hasInitialOcclusionOpacityProperties?j=!0:D=!0)}const K=L.map(ft=>I[ft]),Z=this.style._mergedSourceCaches;this.imageManager=c.imageManager,this.modelManager=c.modelManager,this.symbolFadeChange=c.placement.symbolFadeChange(a.q.now()),this.imageManager.beginFrame();let J=0,oe=!1;for(const ft in Z){const ct=Z[ft];ct.used&&(ct.prepare(this.context),ct.getSource().usedInConflation&&++J)}let ce=!1;for(const ft of K)ft.isHidden(this.transform.zoom)||(ft.type==="clip"&&(ce=!0),this.prepareLayer(ft));const he={},Ce={},Me={},Ae={},ke={};for(const ft in Z){const ct=Z[ft];he[ft]=ct.getVisibleCoordinates(),Ce[ft]=he[ft].slice().reverse(),Me[ft]=ct.getVisibleCoordinates(!0).reverse(),Ae[ft]=ct.getShadowCasterCoordinates(),ke[ft]=ct.sortCoordinatesByDistance(he[ft])}const He=ft=>{const ct=this.style.getLayerSourceCache(ft);return ct&&ct.used?ct.getSource():null};if(J||ce||this._clippingActiveLastFrame){const ft=[],ct=[];let Pt=0;for(const Yt of K)this.isSourceForClippingOrConflation(Yt,He(Yt))&&(ft.push(Yt),ct.push(Pt)),Pt++;if(ft&&(ce||ft.length>1)||this._clippingActiveLastFrame){ce=!1;const Yt=[];for(let cn=0;cn<ft.length;cn++){const Kt=ft[cn],_n=ct[cn],Lt=this.style.getLayerSourceCache(Kt);if(!Lt||!Lt.used||!Lt.getSource().usedInConflation&&Kt.type!=="clip")continue;let on=a.dn,Qt=a.bs.None;const xn=[];let Sn=!0;if(Kt.type==="clip"){on=_n;for(const sn of Kt.layout.get("clip-layer-types"))Qt|=sn==="model"?a.bs.Model:sn==="symbol"?a.bs.Symbol:a.bs.FillExtrusion;for(const sn of Kt.layout.get("clip-layer-scope"))xn.push(sn);Kt.isHidden(this.transform.zoom)?Sn=!1:ce=!0}Sn&&Yt.push({layer:Kt.fqid,cache:Lt,order:on,clipMask:Qt,clipScope:xn})}this.replacementSource.setSources(Yt),oe=!0}}this._clippingActiveLastFrame=ce,oe||this.replacementSource.clear(),this.conflationActive=oe,this.minCutoffZoom=0,this.longestCutoffRange=0,this.opaquePassCutoff=1/0,this._lastOcclusionLayer=-1,this.layersWithOcclusionOpacity=[];for(let ft=0;ft<K.length;ft++){const ct=K[ft],Pt=ct.cutoffRange();if(this.longestCutoffRange=Math.max(Pt,this.longestCutoffRange),Pt>0){const Yt=He(ct);Yt&&(this.minCutoffZoom=Math.max(Yt.minzoom,this.minCutoffZoom)),ct.minzoom&&(this.minCutoffZoom=Math.max(ct.minzoom,this.minCutoffZoom))}ct.is3D()&&(this.opaquePassCutoff===1/0&&(this.opaquePassCutoff=ft),this._lastOcclusionLayer=ft)}const Ge=this.style&&this.style.fog;Ge?(this._fogVisible=Ge.getOpacity(this.transform.pitch)!==0,this._fogVisible&&this.transform.projection.name!=="globe"&&(this._fogVisible=Ge.isVisibleOnFrustum(this.transform.cameraFrustum))):this._fogVisible=!1,this._cachedTileFogOpacities={},this.terrain&&(this.terrain.updateTileBinding(Me),this.opaquePassCutoff=0);const $e=this._shadowRenderer;if($e){$e.updateShadowParameters(this.transform,this.style.directionalLight);for(const ft in Z)for(const ct of he[ft]){let Pt={min:0,max:0};this.terrain&&(Pt=this.terrain.getMinMaxForTile(ct)||Pt),$e.addShadowReceiver(ct.toUnwrapped(),Pt.min,Pt.max)}}if(this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new a.dm(this.context)),this.style.fog&&this.transform.projection.supportsFog?(this._atmosphere||(this._atmosphere=new yv(this)),this._atmosphere.update(this)):this._atmosphere&&(this._atmosphere.destroy(),this._atmosphere=void 0),!pt.has(this.context.gl))return;this.renderPass="offscreen";for(const ft of K){const ct=c.getLayerSourceCache(ft);if(!ft.hasOffscreenPass()||ft.isHidden(this.transform.zoom))continue;const Pt=ct?Ce[ct.id]:void 0;(ft.type==="custom"||ft.type==="raster"||ft.type==="raster-particle"||ft.isSky()||Pt&&Pt.length)&&this.renderLayer(this,ct,ft,Pt)}this.depthRangeFor3D=[0,1-(K.length+2)*this.numSublayers*this.depthEpsilon],this._shadowRenderer&&(this.renderPass="shadow",this._shadowRenderer.drawShadowPass(this.style,Ae)),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]);const Ke=this.transform.projection.name==="globe"||this.transform.isHorizonVisible(),qe=(()=>{if(f.showOverdrawInspector)return a.bz.black;const ft=this.style.fog;if(ft&&this.transform.projection.supportsFog){const ct=this.style.getLut(ft.scope);if(!Ke){const Pt=ft.properties.get("color").toRenderColor(ct).toArray01();return new a.bz(...Pt)}if(Ke){const Pt=ft.properties.get("space-color").toRenderColor(ct).toArray01();return new a.bz(...Pt)}}return a.bz.transparent})();if(this.context.clear({color:qe,depth:1}),this.clearStencil(),this._showOverdrawInspector=f.showOverdrawInspector,this.renderPass="opaque",this.style.fog&&this.transform.projection.supportsFog&&this._atmosphere&&!this._showOverdrawInspector&&Ke&&this._atmosphere.drawStars(this,this.style.fog),!this.terrain)for(this.currentLayer=L.length-1;this.currentLayer>=0;this.currentLayer--){const ft=K[this.currentLayer],ct=c.getLayerSourceCache(ft);if(ft.isSky())continue;const Pt=ct?(ft.is3D()?ke:Ce)[ct.id]:void 0;this._renderTileClippingMasks(ft,ct,Pt),this.renderLayer(this,ct,ft,Pt)}if(this.style.fog&&this.transform.projection.supportsFog&&this._atmosphere&&!this._showOverdrawInspector&&Ke&&this._atmosphere.drawAtmosphereGlow(this,this.style.fog),this.renderPass="sky",(!this._atmosphere||a.a9(this.transform.zoom)>0)&&(this.transform.projection.name==="globe"||this.transform.isHorizonVisible()))for(this.currentLayer=0;this.currentLayer<L.length;this.currentLayer++){const ft=K[this.currentLayer],ct=c.getLayerSourceCache(ft);ft.isSky()&&this.renderLayer(this,ct,ft,ct?Ce[ct.id]:void 0)}function at(ft,ct){let Pt;return ct&&(Pt=(ft.type==="symbol"?Me:ft.is3D()?ke:Ce)[ct.id]),Pt}if(this.renderPass="translucent",this.transform.projection.name==="globe"){for(this.renderElevatedRasterBackface=!0,this.currentLayer=0;this.currentLayer<L.length;){const ft=K[this.currentLayer];if(ft.type==="raster"||ft.type==="raster-particle"){const ct=c.getLayerSourceCache(ft);this.renderLayer(this,ct,ft,at(ft,ct))}++this.currentLayer}this.renderElevatedRasterBackface=!1}this.currentLayer=0,this.firstLightBeamLayer=Number.MAX_SAFE_INTEGER;let nt=0;$e&&(nt=$e.getShadowCastingLayerCount());let st=!1,gt=-1;for(let ft=0;ft<L.length;++ft){const ct=K[ft];ct.isHidden(this.transform.zoom)||ct.is3D()&&(gt=ft)}for(j&&gt===-1&&(D=!0);this.currentLayer<L.length;){const ft=K[this.currentLayer],ct=c.getLayerSourceCache(ft);if(ft.isSky())++this.currentLayer;else if(this.terrain&&this.style.isLayerDraped(ft)){if(ft.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer),this._lastOcclusionLayer=Math.max(this.currentLayer,this._lastOcclusionLayer)}else{if(D&&!st&&this.terrain&&!this.transform.isOrthographic&&(st=!0,this.blitDepth()),j&&gt!==-1&&this.currentLayer===gt+1&&!this.transform.isOrthographic&&this.blitDepth(),ft.is3D()||this.terrain||this._renderTileClippingMasks(ft,ct,ct?he[ct.id]:void 0),this.renderLayer(this,ct,ft,at(ft,ct)),!this.terrain&&$e&&nt>0&&ft.hasShadowPass()&&--nt==0&&($e.drawGroundShadows(),this.firstLightBeamLayer<=this.currentLayer)){const Pt=this.currentLayer;for(this.renderPass="light-beam",this.currentLayer=this.firstLightBeamLayer;this.currentLayer<=Pt;this.currentLayer++){const Yt=K[this.currentLayer];if(!Yt.hasLightBeamPass())continue;const cn=c.getLayerSourceCache(Yt);this.renderLayer(this,cn,Yt,cn?Ce[cn.id]:void 0)}this.currentLayer=Pt,this.renderPass="translucent"}if(this.currentLayer>=this._lastOcclusionLayer&&this.layersWithOcclusionOpacity.length>0){const Pt=this.currentLayer;this.depthOcclusion=!0;for(const Yt of this.layersWithOcclusionOpacity){this.currentLayer=Yt;const cn=K[this.currentLayer],Kt=c.getLayerSourceCache(cn),_n=Kt?Ce[Kt.id]:void 0;cn.is3D()||this.terrain||this._renderTileClippingMasks(cn,Kt,Kt?he[Kt.id]:void 0),this.renderLayer(this,Kt,cn,_n)}this.depthOcclusion=!1,this.currentLayer=Pt,this.renderPass="translucent",this.layersWithOcclusionOpacity=[]}++this.currentLayer}}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let ft=null;K.forEach(ct=>{const Pt=c.getLayerSourceCache(ct);Pt&&!ct.isHidden(this.transform.zoom)&&Pt.getVisibleCoordinates().length&&(!ft||ft.getSource().maxzoom<Pt.getSource().maxzoom)&&(ft=Pt)}),ft&&this.options.showTileBoundaries&&Lc.debug(this,ft,ft.getVisibleCoordinates(),a.bz.red,!1,this.options.showParseStatus)}this.terrain&&this._debugParams.showTerrainProxyTiles&&Lc.debug(this,this.terrain.proxySourceCache,this.terrain.proxyCoords,new a.bz(1,.8,.1,1),!0,this.options.showParseStatus),this.options.showPadding&&function(ft){const ct=ft.transform.padding;la(ft,ft.transform.height-(ct.top||0),3,kT),la(ft,ct.bottom||0,3,Yh),Ot(ft,ct.left||0,3,Zh),Ot(ft,ft.transform.width-(ct.right||0),3,Mn);const Pt=ft.transform.centerPoint;(function(Yt,cn,Kt,_n){Gp(Yt,cn-1,Kt-10,2,20,_n),Gp(Yt,cn-10,Kt-1,20,2,_n)})(ft,Pt.x,ft.transform.height-Pt.y,ir)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(performance.now()),this.saveCanvasCopy()),oe||(this.conflationActive=!1)}prepareLayer(c){this.gpuTimingStart(c);const{unsupportedLayers:f}=this.transform.projection,w=!f||!f.includes(c.type);if(Sv[c.type]&&(w||this.terrain&&c.type==="custom")){const I=this.style.getLayerSourceCache(c);Sv[c.type](c,I,this)}this.gpuTimingEnd()}renderLayer(c,f,w,I){w.isHidden(this.transform.zoom)||(w.type==="background"||w.type==="sky"||w.type==="custom"||w.type==="model"||w.type==="raster"||w.type==="raster-particle"||I&&I.length)&&(this.id=w.id,this.gpuTimingStart(w),c.transform.projection.unsupportedLayers&&c.transform.projection.unsupportedLayers.includes(w.type)&&(!c.terrain||w.type!=="custom")||w.type==="clip"||Lc[w.type](c,f,w,I,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(c){if(!this.options.gpuTiming)return;const f=this.context.extTimerQuery,w=this.context.gl;let I=this.gpuTimers[c.id];I||(I=this.gpuTimers[c.id]={calls:0,cpuTime:0,query:w.createQuery()}),I.calls++,w.beginQuery(f.TIME_ELAPSED_EXT,I.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const c=this.context.extTimerQuery,f=this.context.gl,w=f.createQuery();this.deferredRenderGpuTimeQueries.push(w),f.beginQuery(c.TIME_ELAPSED_EXT,w)}}gpuTimingDeferredRenderEnd(){this.options.gpuTimingDeferredRender&&this.context.gl.endQuery(this.context.extTimerQuery.TIME_ELAPSED_EXT)}gpuTimingEnd(){this.options.gpuTiming&&this.context.gl.endQuery(this.context.extTimerQuery.TIME_ELAPSED_EXT)}collectGpuTimers(){const c=this.gpuTimers;return this.gpuTimers={},c}collectDeferredRenderGpuQueries(){const c=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],c}queryGpuTimers(c){const f={};for(const w in c){const I=c[w],L=this.context.extTimerQuery,D=L.getQueryParameter(I.query,this.context.gl.QUERY_RESULT)/1e6;L.deleteQueryEXT(I.query),f[w]=D}return f}queryGpuTimeDeferredRender(c){if(!this.options.gpuTimingDeferredRender)return 0;const f=this.context.extTimerQuery,w=this.context.gl;let I=0;for(const L of c)I+=f.getQueryParameter(L,w.QUERY_RESULT)/1e6,f.deleteQueryEXT(L);return I}translatePosMatrix(c,f,w,I,L){if(!w[0]&&!w[1])return c;const D=L?I==="map"?this.transform.angle:0:I==="viewport"?-this.transform.angle:0;if(D){const Z=Math.sin(D),J=Math.cos(D);w=[w[0]*J-w[1]*Z,w[0]*Z+w[1]*J]}const j=[L?w[0]:a.ak(f,w[0],this.transform.zoom),L?w[1]:a.ak(f,w[1],this.transform.zoom),0],K=new Float32Array(16);return a.a6.mat4.translate(K,c,j),K}saveTileTexture(c){const f=c.size[0],w=this._tileTextures[f];w?w.push(c):this._tileTextures[f]=[c]}getTileTexture(c){const f=this._tileTextures[c];return f&&f.length>0?f.pop():null}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture||this.forceTerrainMode}linearFloatFilteringSupported(){return this.context.extTextureFloatLinear!=null}currentGlobalDefines(c,f,w){const I=w===void 0?this.terrain&&this.terrain.renderingToTexture:w,L=[];return this.style&&this.style.enable3dLights()&&(c==="globeRaster"||c==="terrainRaster"?(L.push("LIGHTING_3D_MODE"),L.push("LIGHTING_3D_ALPHA_EMISSIVENESS")):I||L.push("LIGHTING_3D_MODE")),this.renderPass==="shadow"?this._shadowMapDebug||L.push("DEPTH_TEXTURE"):this.shadowRenderer&&(this.shadowRenderer.useNormalOffset?L.push("RENDER_SHADOWS","DEPTH_TEXTURE","NORMAL_OFFSET"):L.push("RENDER_SHADOWS","DEPTH_TEXTURE")),this.terrainRenderModeElevated()&&(L.push("TERRAIN"),this.linearFloatFilteringSupported()&&L.push("TERRAIN_DEM_FLOAT_FORMAT")),this.transform.projection.name==="globe"&&L.push("GLOBE"),!this._fogVisible||I||f!==void 0&&!f||L.push("FOG","FOG_DITHERING"),I&&L.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&L.push("OVERDRAW_INSPECTOR"),L}getOrCreateProgram(c,f){this.cache=this.cache||{};const w=f&&f.defines||[],I=f&&f.config,L=this.currentGlobalDefines(c,f&&f.overrideFog,f&&f.overrideRtt).concat(w),D=Ic.cacheKey(Ec[c],c,L,I);return this.cache[D]||(this.cache[D]=new Ic(this.context,c,Ec[c],I,h4[c],L)),this.cache[D]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const c=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(c.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new a.T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA8))}destroy(){this._terrain&&this._terrain.destroy(),this._atmosphere&&(this._atmosphere.destroy(),this._atmosphere=void 0),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this._wireframeDebugCache.destroy(),this.depthFBO&&(this.depthFBO.destroy(),this.depthFBO=void 0,this.depthTexture=void 0),this.emptyDepthTexture&&this.emptyDepthTexture.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}uploadCommonLightUniforms(c,f){if(this.style.enable3dLights()){const w=this.style.directionalLight,I=this.style.ambientLight;if(w&&I){const L=((D,j,K)=>{const Z=D.properties.get("direction"),J=D.properties.get("color").toRenderColor(K.getLut(D.scope)).toArray01(),oe=D.properties.get("intensity"),ce=j.properties.get("color").toRenderColor(K.getLut(j.scope)).toArray01(),he=j.properties.get("intensity"),Ce=[Z.x,Z.y,Z.z],Me=a.cH(ce,he),Ae=a.cH(J,oe);return{u_lighting_ambient_color:Me,u_lighting_directional_dir:Ce,u_lighting_directional_color:Ae,u_ground_radiance:Ay(Ce,Ae,Me)}})(w,I,this.style);f.setLightsUniformValues(c,L)}}}uploadCommonUniforms(c,f,w,I,L){if(this.uploadCommonLightUniforms(c,f),this.terrain&&this.terrain.renderingToTexture)return;const D=this.style.fog;if(D){const j=D.getOpacity(this.transform.pitch),K=((Z,J,oe,ce,he,Ce,Me,Ae,ke,He,Ge,$e)=>{const Ke=Z.transform,qe=J.properties.get("color").toRenderColor(Z.style.getLut(J.scope)).toArray01();qe[3]=ce;const at=Z.frameCounter/1e3%1,[nt,st]=J.properties.get("vertical-range");return{u_fog_matrix:oe?Ke.calculateFogTileMatrix(oe):$e||Z.identityMat,u_fog_range:J.getFovAdjustedRange(Ke._fov),u_fog_color:qe,u_fog_horizon_blend:J.properties.get("horizon-blend"),u_fog_vertical_limit:[Math.min(nt,st),st],u_fog_temporal_offset:at,u_frustum_tl:he,u_frustum_tr:Ce,u_frustum_br:Me,u_frustum_bl:Ae,u_globe_pos:ke,u_globe_radius:He,u_viewport:Ge,u_globe_transition:a.a9(Ke.zoom),u_is_globe:+(Ke.projection.name==="globe")}})(this,D,w,j,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*a.q.devicePixelRatio,this.transform.height*a.q.devicePixelRatio],I);f.setFogUniformValues(c,K)}L&&f.setCutoffUniformValues(c,L.uniformValues)}setTileLoadedFlag(c){this.tileLoaded=c}saveCanvasCopy(){const c=this.canvasCopy();c&&(this.frameCopies.push(c),this.tileLoaded=!1)}canvasCopy(){const c=this.context.gl,f=c.createTexture();return c.bindTexture(c.TEXTURE_2D,f),c.copyTexImage2D(c.TEXTURE_2D,0,c.RGBA,0,0,c.drawingBufferWidth,c.drawingBufferHeight,0),f}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const c=this.style&&this.style.fog;return!!c&&c.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const c=this._backgroundTiles,f=this._backgroundTiles={},w=this.transform.coveringTiles({tileSize:512});for(const I of w)f[I.key]=c[I.key]||new Kl(I,512,this.transform.tileZoom,this);return f}clearBackgroundTiles(){this._backgroundTiles={}}isSourceForClippingOrConflation(c,f){return!(!c.is3D()||c.type!=="clip"&&(c.minzoom&&c.minzoom>this.transform.zoom||(this.style._clipLayerPresent||c.sourceLayer!=="building")&&(!f||f.type!=="batched-model")))}isTileAffectedByFog(c){if(!this.style||!this.style.fog)return!1;if(this.transform.projection.name==="globe")return!0;let f=this._cachedTileFogOpacities[c.key];return f||(this._cachedTileFogOpacities[c.key]=f=this.style.fog.getOpacityForTile(c)),f[0]>=bn||f[1]>=bn}setupDepthForOcclusion(c,f,w){const I=this.context,L=I.gl,D=!!w;var j;w||(w={u_dem:2,u_dem_prev:4,u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_depth_range_unpack:[0,1],u_occluder_half_size:16,u_occlusion_depth_offset:-1e-4,u_exaggeration:0}),I.activeTexture.set(L.TEXTURE3),c&&this.depthFBO&&this.depthTexture?(this.depthTexture.bind(L.NEAREST,L.CLAMP_TO_EDGE),w.u_depth_size_inv=[1/this.depthFBO.width,1/this.depthFBO.height],w.u_depth_range_unpack=[2/((j=this.depthRangeFor3D)[1]-j[0]),-1-2*j[0]/(j[1]-j[0])],w.u_occluder_half_size=.5*this.occlusionParams.occluderSize,w.u_occlusion_depth_offset=this.occlusionParams.depthOffset):this.emptyDepthTexture.bind(L.NEAREST,L.CLAMP_TO_EDGE),I.activeTexture.set(L.TEXTURE0),D||f.setTerrainUniformValues(I,w)}}function Nu(x,c){let f=!1,w=null;const I=()=>{w=null,f&&(x(),w=setTimeout(I,c),f=!1)};return()=>(f=!0,w||I(),w)}class Rc{constructor(c){this._hashName=c&&encodeURIComponent(c),a.aJ(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Nu(this._updateHashUnthrottled.bind(this),300)}addTo(c){return this._map=c,window.addEventListener("hashchange",this._onHashChange,!1),c.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const c=this._map;if(!c)return"";const f=$u(c);if(this._hashName){const w=this._hashName;let I=!1;const L=location.hash.slice(1).split("&").map(D=>{const j=D.split("=")[0];return j===w?(I=!0,`${j}=${f}`):D}).filter(D=>D);return I||L.push(`${w}=${f}`),`#${L.join("&")}`}return`#${f}`}_getCurrentHash(){const c=location.hash.replace("#","");if(this._hashName){let f;return c.split("&").map(w=>w.split("=")).forEach(w=>{w[0]===this._hashName&&(f=w)}),(f&&f[1]||"").split("/")}return c.split("/")}_onHashChange(){const c=this._map;if(!c)return!1;const f=this._getCurrentHash();if(f.length>=3&&!f.some(w=>isNaN(w))){const w=c.dragRotate.isEnabled()&&c.touchZoomRotate.isEnabled()?+(f[3]||0):c.getBearing();return c.jumpTo({center:[+f[2],+f[1]],zoom:+f[0],bearing:w,pitch:+(f[4]||0)}),!0}return!1}_updateHashUnthrottled(){history.replaceState(history.state,"",location.href.replace(/(#.+)?$/,this.getHashString()))}}function $u(x,c){const f=x.getCenter(),w=Math.round(100*x.getZoom())/100,I=Math.ceil((w*Math.LN2+Math.log(512/360/.5))/Math.LN10),L=Math.pow(10,I),D=Math.round(f.lng*L)/L,j=Math.round(f.lat*L)/L,K=x.getBearing(),Z=x.getPitch();let J=c?`/${D}/${j}/${w}`:`${w}/${j}/${D}`;return(K||Z)&&(J+="/"+Math.round(10*K)/10),Z&&(J+=`/${Math.round(Z)}`),J}const kd={linearity:.3,easing:a.dp(0,0,.3,1)},Cv=a.l({deceleration:2500,maxSpeed:1400},kd),jy=a.l({deceleration:20,maxSpeed:1400},kd),Gy=a.l({deceleration:1e3,maxSpeed:360},kd),Wy=a.l({deceleration:1e3,maxSpeed:90},kd);class Dc{constructor(c){this._map=c,this.clear()}clear(){this._inertiaBuffer=[]}record(c){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.q.now(),settings:c})}_drainInertiaBuffer(){const c=this._inertiaBuffer,f=a.q.now();for(;c.length>0&&f-c[0].time>160;)c.shift()}_onMoveEnd(c){if(this._map._prefersReducedMotion()||(this._drainInertiaBuffer(),this._inertiaBuffer.length<2))return;const f={zoom:0,bearing:0,pitch:0,pan:new a.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:L}of this._inertiaBuffer)f.zoom+=L.zoomDelta||0,f.bearing+=L.bearingDelta||0,f.pitch+=L.pitchDelta||0,L.panDelta&&f.pan._add(L.panDelta),L.around&&(f.around=L.around),L.pinchAround&&(f.pinchAround=L.pinchAround);const w=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,I={};if(f.pan.mag()){const L=Pd(f.pan.mag(),w,a.l({},Cv,c||{}));I.offset=f.pan.mult(L.amount/f.pan.mag()),I.center=this._map.transform.center,Qh(I,L)}if(f.zoom){const L=Pd(f.zoom,w,jy);I.zoom=this._map.transform.zoom+L.amount,Qh(I,L)}if(f.bearing){const L=Pd(f.bearing,w,Gy);I.bearing=this._map.transform.bearing+a.ap(L.amount,-179,179),Qh(I,L)}if(f.pitch){const L=Pd(f.pitch,w,Wy);I.pitch=this._map.transform.pitch+L.amount,Qh(I,L)}if(I.zoom||I.bearing){const L=f.pinchAround===void 0?f.around:f.pinchAround;I.around=L?this._map.unproject(L):this._map.getCenter()}return this.clear(),I.noMoveStart=!0,I}}function Qh(x,c){(!x.duration||x.duration<c.duration)&&(x.duration=c.duration,x.easing=c.easing)}function Pd(x,c,f){const{maxSpeed:w,linearity:I,deceleration:L}=f,D=a.ap(x*I/(c/1e3),-w,w),j=Math.abs(D)/(L*I);return{easing:f.easing,duration:1e3*j,amount:D*(j/2)}}class qo extends a.x{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,f,w,I={}){const L=ie(f.getCanvasContainer(),w),D=f.unproject(L);super(c,a.l({point:L,lngLat:D,originalEvent:w},I)),this._defaultPrevented=!1,this.target=f}}class ef extends a.x{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,f,w){const I=c==="touchend"?w.changedTouches:w.touches,L=ae(f.getCanvasContainer(),I),D=L.map(K=>f.unproject(K)),j=L.reduce((K,Z,J,oe)=>K.add(Z.div(oe.length)),new a.P(0,0));super(c,{points:L,point:j,lngLats:D,lngLat:f.unproject(j),originalEvent:w}),this._defaultPrevented=!1}}class xo extends a.x{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,f){super("wheel",{originalEvent:f}),this._defaultPrevented=!1}}class qy{constructor(c,f){this._map=c,this._clickTolerance=f.clickTolerance}reset(){this._mousedownPos=void 0}wheel(c){return this._firePreventable(new xo(this._map,c))}mousedown(c,f){return this._mousedownPos=f,this._firePreventable(new qo(c.type,this._map,c))}mouseup(c){this._map.fire(new qo(c.type,this._map,c))}preclick(c){const f=a.l({},c);f.type="preclick",this._map.fire(new qo(f.type,this._map,f))}click(c,f){this._mousedownPos&&this._mousedownPos.dist(f)>=this._clickTolerance||(this.preclick(c),this._map.fire(new qo(c.type,this._map,c)))}dblclick(c){return this._firePreventable(new qo(c.type,this._map,c))}mouseover(c){this._map.fire(new qo(c.type,this._map,c))}mouseout(c){this._map.fire(new qo(c.type,this._map,c))}touchstart(c){return this._firePreventable(new ef(c.type,this._map,c))}touchmove(c){this._map.fire(new ef(c.type,this._map,c))}touchend(c){this._map.fire(new ef(c.type,this._map,c))}touchcancel(c){this._map.fire(new ef(c.type,this._map,c))}_firePreventable(c){if(this._map.fire(c),c.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Ky{constructor(c){this._map=c}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(c){this._map.fire(new qo(c.type,this._map,c))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new qo("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(c){this._delayContextMenu?this._contextMenuEvent=c:this._map.fire(new qo(c.type,this._map,c)),this._map.listens("contextmenu")&&c.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class tf{constructor(c,f){this._map=c,this._el=c.getCanvasContainer(),this._container=c.getContainer(),this._clickTolerance=f.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(c,f){this.isEnabled()&&c.shiftKey&&c.button===0&&(W(),this._startPos=this._lastPos=f,this._active=!0)}mousemoveWindow(c,f){if(!this._active)return;const w=f,I=this._startPos,L=this._lastPos;if(!I||!L||L.equals(w)||!this._box&&w.dist(I)<this._clickTolerance)return;this._lastPos=w,this._box||(this._box=E("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",c));const D=Math.min(I.x,w.x),j=Math.max(I.x,w.x),K=Math.min(I.y,w.y),Z=Math.max(I.y,w.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${D}px,${K}px)`,this._box.style.width=j-D+"px",this._box.style.height=Z-K+"px")})}mouseupWindow(c,f){if(!this._active)return;const w=this._startPos,I=f;if(w&&c.button===0){if(this.reset(),te(),w.x!==I.x||w.y!==I.y)return this._map.fire(new a.x("boxzoomend",{originalEvent:c})),{cameraAnimation:L=>L.fitScreenCoordinates(w,I,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",c)}}keydown(c){this._active&&c.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",c))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),q(),delete this._startPos,delete this._lastPos}_fireEvent(c,f){return this._map.fire(new a.x(c,{originalEvent:f}))}}function Vu(x,c){const f={};for(let w=0;w<x.length;w++)f[x[w].identifier]=c[w];return f}class Yy{constructor(c){this.reset(),this.numTouches=c.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(c,f,w){(this.centroid||w.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=c.timeStamp),w.length===this.numTouches&&(this.centroid=function(I){const L=new a.P(0,0);for(const D of I)L._add(D);return L.div(I.length)}(f),this.touches=Vu(w,f)))}touchmove(c,f,w){if(this.aborted||!this.centroid)return;const I=Vu(w,f);for(const L in this.touches){const D=I[L];(!D||D.dist(this.touches[L])>30)&&(this.aborted=!0)}}touchend(c,f,w){if((!this.centroid||c.timeStamp-this.startTime>500)&&(this.aborted=!0),w.length===0){const I=!this.aborted&&this.centroid;if(this.reset(),I)return I}}}class Yp{constructor(c){this.singleTap=new Yy(c),this.numTaps=c.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(c,f,w){this.singleTap.touchstart(c,f,w)}touchmove(c,f,w){this.singleTap.touchmove(c,f,w)}touchend(c,f,w){const I=this.singleTap.touchend(c,f,w);if(I){const L=c.timeStamp-this.lastTime<500,D=!this.lastTap||this.lastTap.dist(I)<30;if(L&&D||this.reset(),this.count++,this.lastTime=c.timeStamp,this.lastTap=I,this.count===this.numTaps)return this.reset(),I}}}class Zy{constructor(){this._zoomIn=new Yp({numTouches:1,numTaps:2}),this._zoomOut=new Yp({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(c,f,w){this._zoomIn.touchstart(c,f,w),this._zoomOut.touchstart(c,f,w)}touchmove(c,f,w){this._zoomIn.touchmove(c,f,w),this._zoomOut.touchmove(c,f,w)}touchend(c,f,w){const I=this._zoomIn.touchend(c,f,w),L=this._zoomOut.touchend(c,f,w);return I?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:D=>D.easeTo({duration:300,zoom:D.getZoom()+1,around:D.unproject(I)},{originalEvent:c})}):L?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:D=>D.easeTo({duration:300,zoom:D.getZoom()-1,around:D.unproject(L)},{originalEvent:c})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Zp={0:1,2:2};class Xp{constructor(c){this.reset(),this._clickTolerance=c.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(c,f){return!1}_move(c,f){return{}}mousedown(c,f){if(this._lastPoint)return;const w=re(c);this._correctButton(c,w)&&(this._lastPoint=f,this._eventButton=w)}mousemoveWindow(c,f){const w=this._lastPoint;if(w){if(c.preventDefault(),this._eventButton!=null&&function(I,L){const D=Zp[L];return I.buttons===void 0||(I.buttons&D)!==D}(c,this._eventButton))this.reset();else if(this._moved||!(f.dist(w)<this._clickTolerance))return this._moved=!0,this._lastPoint=f,this._move(w,f)}}mouseupWindow(c){this._lastPoint&&re(c)===this._eventButton&&(this._moved&&te(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Tv extends Xp{mousedown(c,f){super.mousedown(c,f),this._lastPoint&&(this._active=!0)}_correctButton(c,f){return f===0&&!c.ctrlKey}_move(c,f){return{around:f,panDelta:f.sub(c)}}}class Mv extends Xp{_correctButton(c,f){return f===0&&c.ctrlKey||f===2}_move(c,f){const w=.8*(f.x-c.x);if(w)return this._active=!0,{bearingDelta:w}}contextmenu(c){c.preventDefault()}}class Ev extends Xp{_correctButton(c,f){return f===0&&c.ctrlKey||f===2}_move(c,f){const w=-.5*(f.y-c.y);if(w)return this._active=!0,{pitchDelta:w}}contextmenu(c){c.preventDefault()}}class b4{constructor(c,f){this._map=c,this._el=c.getCanvasContainer(),this._minTouches=1,this._clickTolerance=f.clickTolerance||1,this.reset(),a.aJ(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new a.P(0,0)}touchstart(c,f,w){return this._calculateTransform(c,f,w)}touchmove(c,f,w){if(this._active&&!(w.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(w.length===1&&!a.dq())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return c.cancelable&&c.preventDefault(),this._calculateTransform(c,f,w)}}touchend(c,f,w){this._calculateTransform(c,f,w),this._active&&w.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(c,f,w){w.length>0&&(this._active=!0);const I=Vu(w,f),L=new a.P(0,0),D=new a.P(0,0);let j=0;for(const Z in I){const J=I[Z],oe=this._touches[Z];oe&&(L._add(J),D._add(J.sub(oe)),j++,I[Z]=J)}if(this._touches=I,j<this._minTouches||!D.mag())return;const K=D.div(j);return this._sum._add(K),this._sum.mag()<this._clickTolerance?void 0:{around:L.div(j),panDelta:K}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=E("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=window.setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.removeAttribute("role")},500)}}class Av{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(c){}_move(c,f,w){return{}}touchstart(c,f,w){this._firstTwoTouches||w.length<2||(this._firstTwoTouches=[w[0].identifier,w[1].identifier],this._start([f[0],f[1]]))}touchmove(c,f,w){const I=this._firstTwoTouches;if(!I)return;c.preventDefault();const[L,D]=I,j=Jp(w,f,L),K=Jp(w,f,D);if(!j||!K)return;const Z=this._aroundCenter?null:j.add(K).div(2);return this._move([j,K],Z,c)}touchend(c,f,w){if(!this._firstTwoTouches)return;const[I,L]=this._firstTwoTouches,D=Jp(w,f,I),j=Jp(w,f,L);D&&j||(this._active&&te(),this.reset())}touchcancel(){this.reset()}enable(c){this._enabled=!0,this._aroundCenter=!!c&&c.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Jp(x,c,f){for(let w=0;w<x.length;w++)if(x[w].identifier===f)return c[w]}function Xy(x,c){return Math.log(x/c)/Math.LN2}class x4 extends Av{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(c){this._startDistance=this._distance=c[0].dist(c[1])}_move(c,f){const w=this._distance;if(this._distance=c[0].dist(c[1]),this._active||!(Math.abs(Xy(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Xy(this._distance,w),pinchAround:f}}}function Jy(x,c){return 180*x.angleWith(c)/Math.PI}class w4 extends Av{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(c){this._startVector=this._vector=c[0].sub(c[1]),this._minDiameter=c[0].dist(c[1])}_move(c,f){const w=this._vector;if(this._vector=c[0].sub(c[1]),w&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Jy(this._vector,w),pinchAround:f}}_isBelowThreshold(c){this._minDiameter=Math.min(this._minDiameter,c.mag());const f=25/(Math.PI*this._minDiameter)*360,w=this._startVector;if(!w)return!1;const I=Jy(c,w);return Math.abs(I)<f}}function Iv(x){return Math.abs(x.y)>Math.abs(x.x)}class S4 extends Av{constructor(c){super(),this._map=c}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(c){this._lastPoints=c,Iv(c[0].sub(c[1]))&&(this._valid=!1)}_move(c,f,w){const I=this._lastPoints;if(!I)return;const L=c[0].sub(I[0]),D=c[1].sub(I[1]);return this._map._cooperativeGestures&&!a.dq()&&w.touches.length<3||(this._valid=this.gestureBeginsVertically(L,D,w.timeStamp),!this._valid)?void 0:(this._lastPoints=c,this._active=!0,{pitchDelta:(L.y+D.y)/2*-.5})}gestureBeginsVertically(c,f,w){if(this._valid!==void 0)return this._valid;const I=c.mag()>=2,L=f.mag()>=2;if(!I&&!L)return;if(!I||!L)return this._firstMove==null&&(this._firstMove=w),w-this._firstMove<100&&void 0;const D=c.y>0==f.y>0;return Iv(c)&&Iv(f)&&D}}const C4={panStep:100,bearingStep:15,pitchStep:10};class T4{constructor(){const c=C4;this._panStep=c.panStep,this._bearingStep=c.bearingStep,this._pitchStep=c.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(c){if(c.altKey||c.ctrlKey||c.metaKey)return;let f=0,w=0,I=0,L=0,D=0;switch(c.keyCode){case 61:case 107:case 171:case 187:f=1;break;case 189:case 109:case 173:f=-1;break;case 37:c.shiftKey?w=-1:(c.preventDefault(),L=-1);break;case 39:c.shiftKey?w=1:(c.preventDefault(),L=1);break;case 38:c.shiftKey?I=1:(c.preventDefault(),D=-1);break;case 40:c.shiftKey?I=-1:(c.preventDefault(),D=1);break;default:return}return this._rotationDisabled&&(w=0,I=0),{cameraAnimation:j=>{const K=j.getZoom();j.easeTo({duration:300,easeId:"keyboardHandler",easing:M4,zoom:f?Math.round(K)+f*(c.shiftKey?2:1):K,bearing:j.getBearing()+w*this._bearingStep,pitch:j.getPitch()+I*this._pitchStep,offset:[-L*this._panStep,-D*this._panStep],center:j.getCenter()},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function M4(x){return x*(2-x)}const Qy=4.000244140625,OT=1/450;class zT{constructor(c,f){this._map=c,this._el=c.getCanvasContainer(),this._handler=f,this._delta=0,this._lastDelta=0,this._defaultZoomRate=.01,this._wheelZoomRate=OT,a.aJ(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(c){this._defaultZoomRate=c}setWheelZoomRate(c){this._wheelZoomRate=c}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(c){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!c&&c.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(c){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(c.ctrlKey||c.metaKey||this.isZooming()||a.dq()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let f=c.deltaMode===WheelEvent.DOM_DELTA_LINE?40*c.deltaY:c.deltaY;const w=a.q.now(),I=w-(this._lastWheelEventTime||0);this._lastWheelEventTime=w,f!==0&&f%Qy==0?this._type="wheel":f!==0&&Math.abs(f)<4?this._type="trackpad":I>400?(this._type=null,this._lastValue=f,this._timeout=window.setTimeout(this._onTimeout,40,c)):this._type||(this._type=Math.abs(I*f)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,f+=this._lastValue)),c.shiftKey&&f&&(f/=4),this._type&&(this._lastWheelEvent=c,this._delta-=f,this._active||this._start(c)),c.preventDefault()}_onTimeout(c){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(c)}_start(c){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const f=ie(this._el,c);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:f,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const c=this._map.transform;this._type==="wheel"&&c.projection.wrap&&(c._center.lng>=180||c._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const f=()=>c._terrainEnabled()&&this._aroundCoord?c.computeZoomRelativeTo(this._aroundCoord):c.zoom;if(this._delta!==0){const Z=this._type==="wheel"&&Math.abs(this._delta)>Qy?this._wheelZoomRate:this._defaultZoomRate;let J=2/(1+Math.exp(-Math.abs(this._delta*Z)));this._delta<0&&J!==0&&(J=1/J);const oe=f(),ce=Math.pow(2,oe),he=typeof this._targetZoom=="number"?c.zoomScale(this._targetZoom):ce;this._targetZoom=Math.min(c.maxZoom,Math.max(c.minZoom,c.scaleZoom(he*J))),this._type==="wheel"&&(this._startZoom=oe,this._easing=this._smoothOutEasing(200)),this._lastDelta=this._delta,this._delta=0}const w=typeof this._targetZoom=="number"?this._targetZoom:f(),I=this._startZoom,L=this._easing;let D,j=!1;if(this._type==="wheel"&&I&&L){const Z=Math.min((a.q.now()-this._lastWheelEventTime)/200,1),J=L(Z);D=a.aa(I,w,J),Z<1?this._frameId||(this._frameId=!0):j=!0}else D=w,j=!0;this._active=!0,j&&(this._active=!1,this._finishTimeout=window.setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200));let K=D-f();return K*this._lastDelta<0&&(K=0),{noInertia:!0,needsRenderFrame:!j,zoomDelta:K,around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(c){let f=a.dr;if(this._prevEase){const w=this._prevEase,I=(a.q.now()-w.start)/w.duration,L=w.easing(I+.01)-w.easing(I),D=.27/Math.sqrt(L*L+1e-4)*.01,j=Math.sqrt(.0729-D*D);f=a.dp(D,j,.25,1)}return this._prevEase={start:a.q.now(),duration:c,easing:f},f}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=E("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=window.setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.removeAttribute("role")},200)}}class ba{constructor(c,f){this._clickZoom=c,this._tapZoom=f}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class E4{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(c,f){return c.preventDefault(),{cameraAnimation:w=>{w.easeTo({duration:300,zoom:w.getZoom()+(c.shiftKey?-1:1),around:w.unproject(f)},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class BT{constructor(){this._tap=new Yp({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(c,f,w){this._swipePoint||(this._tapTime&&c.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?w.length>0&&(this._swipePoint=f[0],this._swipeTouch=w[0].identifier):this._tap.touchstart(c,f,w))}touchmove(c,f,w){if(this._tapTime){if(this._swipePoint){if(w[0].identifier!==this._swipeTouch)return;const I=f[0],L=I.y-this._swipePoint.y;return this._swipePoint=I,c.preventDefault(),this._active=!0,{zoomDelta:L/128}}}else this._tap.touchmove(c,f,w)}touchend(c,f,w){this._tapTime?this._swipePoint&&w.length===0&&this.reset():this._tap.touchend(c,f,w)&&(this._tapTime=c.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class FT{constructor(c,f,w){this._el=c,this._mousePan=f,this._touchPan=w}enable(c){this._inertiaOptions=c||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Qp{constructor(c,f,w){this._pitchWithRotate=c.pitchWithRotate,this._mouseRotate=f,this._mousePitch=w}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class A4{constructor(c,f,w,I){this._el=c,this._touchZoom=f,this._touchRotate=w,this._tapDragZoom=I,this._rotationDisabled=!1,this._enabled=!0}enable(c){this._touchZoom.enable(c),this._rotationDisabled||this._touchRotate.enable(c),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const nf=x=>x.zoom||x.drag||x.pitch||x.rotate;class kv extends a.x{}class Hu{constructor(){this.constants=[1,1,.01],this.radius=0}setup(c,f){const w=a.a6.vec3.sub([],f,c);this.radius=a.a6.vec3.length(w[2]<0?a.a6.vec3.div([],w,this.constants):[w[0],w[1],0])}projectRay(c){a.a6.vec3.div(c,c,this.constants),a.a6.vec3.normalize(c,c),a.a6.vec3.mul(c,c,this.constants);const f=a.a6.vec3.scale([],c,this.radius);if(f[2]>0){const w=a.a6.vec3.scale([],[0,0,1],a.a6.vec3.dot(f,[0,0,1])),I=a.a6.vec3.scale([],a.a6.vec3.normalize([],[f[0],f[1],0]),this.radius),L=a.a6.vec3.add([],f,a.a6.vec3.scale([],a.a6.vec3.sub([],a.a6.vec3.add([],I,w),f),2));f[0]=L[0],f[1]=L[1]}return f}}function Ld(x){return x.panDelta&&x.panDelta.mag()||x.zoomDelta||x.bearingDelta||x.pitchDelta}class Fo{constructor(c,f){this._map=c,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Dc(c),this._bearingSnap=f.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new Hu,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(f),a.aJ(["handleEvent","handleWindowEvent"],this);const w=this._el;this._listeners=[[w,"touchstart",{passive:!0}],[w,"touchmove",{passive:!1}],[w,"touchend",void 0],[w,"touchcancel",void 0],[w,"mousedown",void 0],[w,"mousemove",void 0],[w,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[w,"mouseover",void 0],[w,"mouseout",void 0],[w,"dblclick",void 0],[w,"click",void 0],[w,"keydown",{capture:!1}],[w,"keyup",void 0],[w,"wheel",{passive:!1}],[w,"contextmenu",void 0],[window,"blur",void 0]];for(const[I,L,D]of this._listeners){const j=I===document?this.handleWindowEvent:this.handleEvent;I.addEventListener(L,j,D)}}destroy(){for(const[c,f,w]of this._listeners){const I=c===document?this.handleWindowEvent:this.handleEvent;c.removeEventListener(f,I,w)}}_addDefaultHandlers(c){const f=this._map,w=f.getCanvasContainer();this._add("mapEvent",new qy(f,c));const I=f.boxZoom=new tf(f,c);this._add("boxZoom",I);const L=new Zy,D=new E4;f.doubleClickZoom=new ba(D,L),this._add("tapZoom",L),this._add("clickZoom",D);const j=new BT;this._add("tapDragZoom",j);const K=f.touchPitch=new S4(f);this._add("touchPitch",K);const Z=new Mv(c),J=new Ev(c);f.dragRotate=new Qp(c,Z,J),this._add("mouseRotate",Z,["mousePitch"]),this._add("mousePitch",J,["mouseRotate"]);const oe=new Tv(c),ce=new b4(f,c);f.dragPan=new FT(w,oe,ce),this._add("mousePan",oe),this._add("touchPan",ce,["touchZoom","touchRotate"]);const he=new w4,Ce=new x4;f.touchZoomRotate=new A4(w,Ce,he,j),this._add("touchRotate",he,["touchPan","touchZoom"]),this._add("touchZoom",Ce,["touchPan","touchRotate"]),this._add("blockableMapEvent",new Ky(f));const Me=f.scrollZoom=new zT(f,this);this._add("scrollZoom",Me,["mousePan"]);const Ae=f.keyboard=new T4;this._add("keyboard",Ae);for(const ke of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])c.interactive&&c[ke]&&f[ke].enable(c[ke])}_add(c,f,w){this._handlers.push({handlerName:c,handler:f,allowed:w}),this._handlersById[c]=f}stop(c){if(!this._updatingCamera){for(const{handler:f}of this._handlers)f.reset();this._inertia.clear(),this._fireEvents({},{},c),this._changes=[],this._originalZoom=void 0}}isActive(){for(const{handler:c}of this._handlers)if(c.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!nf(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(c,f,w){for(const I in c)if(I!==w&&(!f||f.indexOf(I)<0))return!0;return!1}handleWindowEvent(c){this.handleEvent(c,`${c.type}Window`)}_getMapTouches(c){const f=[];for(const w of c)this._el.contains(w.target)&&f.push(w);return f}handleEvent(c,f){this._updatingCamera=!0;const w=c.type==="renderFrame",I=w?void 0:c,L={needsRenderFrame:!1},D={},j={},K=c.touches?this._getMapTouches(c.touches):void 0,Z=K?ae(this._el,K):w?void 0:ie(this._el,c);for(const{handlerName:ce,handler:he,allowed:Ce}of this._handlers){if(!he.isEnabled())continue;let Me;this._blockedByActive(j,Ce,ce)?he.reset():he[f||c.type]&&(Me=he[f||c.type](c,Z,K),this.mergeHandlerResult(L,D,Me,ce,I),Me&&Me.needsRenderFrame&&this._triggerRenderFrame()),(Me||he.isActive())&&(j[ce]=he)}const J={};for(const ce in this._previousActiveHandlers)j[ce]||(J[ce]=I);this._previousActiveHandlers=j,(Object.keys(J).length||Ld(L))&&(this._changes.push([L,D,J]),this._triggerRenderFrame()),(Object.keys(j).length||Ld(L))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:oe}=L;oe&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],oe(this._map))}mergeHandlerResult(c,f,w,I,L){if(!w)return;a.l(c,w);const D={handlerName:I,originalEvent:w.originalEvent||L};w.zoomDelta!==void 0&&(f.zoom=D),w.panDelta!==void 0&&(f.drag=D),w.pitchDelta!==void 0&&(f.pitch=D),w.bearingDelta!==void 0&&(f.rotate=D)}_applyChanges(){const c={},f={},w={};for(const[I,L,D]of this._changes)I.panDelta&&(c.panDelta=(c.panDelta||new a.P(0,0))._add(I.panDelta)),I.zoomDelta&&(c.zoomDelta=(c.zoomDelta||0)+I.zoomDelta),I.bearingDelta&&(c.bearingDelta=(c.bearingDelta||0)+I.bearingDelta),I.pitchDelta&&(c.pitchDelta=(c.pitchDelta||0)+I.pitchDelta),I.around!==void 0&&(c.around=I.around),I.aroundCoord!==void 0&&(c.aroundCoord=I.aroundCoord),I.pinchAround!==void 0&&(c.pinchAround=I.pinchAround),I.noInertia&&(c.noInertia=I.noInertia),a.l(f,L),a.l(w,D);this._updateMapTransform(c,f,w),this._changes=[]}_updateMapTransform(c,f,w){const I=this._map,L=I.transform,D=He=>[He.x,He.y,He.z];if((He=>{const Ge=this._eventsInProgress.drag;return Ge&&!this._handlersById[Ge.handlerName].isActive()})()&&!Ld(c)){const He=L.zoom;L.cameraElevationReference="sea",this._originalZoom!=null&&L._orthographicProjectionAtLowPitch&&L.projection.name!=="globe"&&L.pitch===0?(L.cameraElevationReference="ground",L.zoom=this._originalZoom):(L.recenterOnTerrain(),L.cameraElevationReference="ground"),He!==L.zoom&&this._map._update(!0)}if(L._isCameraConstrained&&I._stop(!0),!Ld(c))return void this._fireEvents(f,w,!0);let{panDelta:j,zoomDelta:K,bearingDelta:Z,pitchDelta:J,around:oe,aroundCoord:ce,pinchAround:he}=c;L._isCameraConstrained&&(K>0&&(K=0),L._isCameraConstrained=!1),he!==void 0&&(oe=he),(K||(He=>f[He]&&!this._eventsInProgress[He])("drag"))&&oe&&(this._dragOrigin=D(L.pointCoordinate3D(oe)),this._originalZoom=L.zoom,this._trackingEllipsoid.setup(L._camera.position,this._dragOrigin)),L.cameraElevationReference="sea",I._stop(!0),oe=oe||I.transform.centerPoint,Z&&(L.bearing+=Z),J&&(L.pitch+=J),L._updateCameraState();const Ce=[0,0,0];if(j)if(L.projection.name==="mercator"){const He=this._trackingEllipsoid.projectRay(L.screenPointToMercatorRay(oe).dir),Ge=this._trackingEllipsoid.projectRay(L.screenPointToMercatorRay(oe.sub(j)).dir);Ce[0]=Ge[0]-He[0],Ce[1]=Ge[1]-He[1]}else{const He=L.pointCoordinate(oe);if(L.projection.name==="globe"){j=j.rotate(-L.angle);const Ge=L._pixelsPerMercatorPixel/L.worldSize;Ce[0]=-j.x*a.ds(a.aM(He.y))*Ge,Ce[1]=-j.y*a.ds(L.center.lat)*Ge}else{const Ge=L.pointCoordinate(oe.sub(j));He&&Ge&&(Ce[0]=Ge.x-He.x,Ce[1]=Ge.y-He.y)}}const Me=L.zoom,Ae=[0,0,0];if(K){const He=D(ce||L.pointCoordinate3D(oe)),Ge={dir:a.a6.vec3.normalize([],a.a6.vec3.sub([],He,L._camera.position))};if(Ge.dir[2]<0){const $e=L.zoomDeltaToMovement(He,K);a.a6.vec3.scale(Ae,Ge.dir,$e)}}const ke=a.a6.vec3.add(Ce,Ce,Ae);L._translateCameraConstrained(ke),K&&Math.abs(L.zoom-Me)>1e-4&&L.recenterOnTerrain(),L.cameraElevationReference="ground",this._map._update(),c.noInertia||this._inertia.record(c),this._fireEvents(f,w,!0)}_fireEvents(c,f,w){const I=nf(this._eventsInProgress),L=nf(c),D={};for(const J in c){const{originalEvent:oe}=c[J];this._eventsInProgress[J]||(D[`${J}start`]=oe),this._eventsInProgress[J]=c[J]}!I&&L&&this._fireEvent("movestart",L.originalEvent);for(const J in D)this._fireEvent(J,D[J]);L&&this._fireEvent("move",L.originalEvent);for(const J in c){const{originalEvent:oe}=c[J];this._fireEvent(J,oe)}const j={};let K;for(const J in this._eventsInProgress){const{handlerName:oe,originalEvent:ce}=this._eventsInProgress[J];this._handlersById[oe].isActive()||(delete this._eventsInProgress[J],K=f[oe]||ce,j[`${J}end`]=K)}for(const J in j)this._fireEvent(J,j[J]);const Z=nf(this._eventsInProgress);if(w&&(I||L)&&!Z){this._updatingCamera=!0;const J=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),oe=ce=>ce!==0&&-this._bearingSnap<ce&&ce<this._bearingSnap;J?(oe(J.bearing||this._map.getBearing())&&(J.bearing=0),this._map.easeTo(J,{originalEvent:K})):(this._map.fire(new a.x("moveend",{originalEvent:K})),oe(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(c,f){this._map.fire(new a.x(c,f?{originalEvent:f}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(c=>{this._frameId=void 0,this.handleEvent(new kv("renderFrame",{timeStamp:c})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const Jl="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class e1 extends a.E{constructor(c,f){super(),this._moving=!1,this._zooming=!1,this.transform=c,this._bearingSnap=f.bearingSnap,this._respectPrefersReducedMotion=f.respectPrefersReducedMotion!==!1,a.aJ(["_renderFrameCallback"],this)}getCenter(){return new a.bK(this.transform.center.lng,this.transform.center.lat)}setCenter(c,f){return this.jumpTo({center:c},f)}panBy(c,f,w){return c=a.P.convert(c).mult(-1),this.panTo(this.transform.center,a.l({offset:c},f),w)}panTo(c,f,w){return this.easeTo(a.l({center:c},f),w)}getZoom(){return this.transform.zoom}setZoom(c,f){return this.jumpTo({zoom:c},f),this}zoomTo(c,f,w){return this.easeTo(a.l({zoom:c},f),w)}zoomIn(c,f){return this.zoomTo(this.getZoom()+1,c,f),this}zoomOut(c,f){return this.zoomTo(this.getZoom()-1,c,f),this}getBearing(){return this.transform.bearing}setBearing(c,f){return this.jumpTo({bearing:c},f),this}getPadding(){return this.transform.padding}setPadding(c,f){return this.jumpTo({padding:c},f),this}rotateTo(c,f,w){return this.easeTo(a.l({bearing:c},f),w)}resetNorth(c,f){return this.rotateTo(0,a.l({duration:1e3},c),f),this}resetNorthPitch(c,f){return this.easeTo(a.l({bearing:0,pitch:0,duration:1e3},c),f),this}snapToNorth(c,f){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(c,f):this}getPitch(){return this.transform.pitch}setPitch(c,f){return this.jumpTo({pitch:c},f),this}cameraForBounds(c,f){c=a.as.convert(c);const w=f&&f.bearing||0,I=f&&f.pitch||0,L=c.getNorthWest(),D=c.getSouthEast();return this._cameraForBounds(this.transform,L,D,w,I,f)}_extendPadding(c){const f={top:0,right:0,bottom:0,left:0};return c==null?a.l({},f,this.transform.padding):typeof c=="number"?{top:c,bottom:c,right:c,left:c}:a.l({},f,c)}_extendCameraOptions(c){return(c=a.l({offset:[0,0],maxZoom:this.transform.maxZoom},c)).padding=this._extendPadding(c.padding),c}_minimumAABBFrustumDistance(c,f){const w=f.max[0]-f.min[0],I=f.max[1]-f.min[1];return w/I>c.aspect?w/(2*Math.tan(.5*c.fovX)*c.aspect):I/(2*Math.tan(.5*c.fovY)*c.aspect)}_cameraForBoundsOnGlobe(c,f,w,I,L,D){const j=c.clone(),K=this._extendCameraOptions(D);j.bearing=I,j.pitch=L;const Z=a.bK.convert(f),J=a.bK.convert(w),oe=.5*(Z.lat+J.lat),ce=.5*(Z.lng+J.lng),he=a.dt(oe,ce),Ce=a.a6.vec3.normalize([],he),Me=a.a6.vec3.normalize([],a.a6.vec3.cross([],Ce,[0,1,0])),Ae=a.a6.vec3.cross([],Me,Ce),ke=[Me[0],Me[1],Me[2],0,Ae[0],Ae[1],Ae[2],0,Ce[0],Ce[1],Ce[2],0,0,0,0,1],He=[he,a.dt(Z.lat,Z.lng),a.dt(J.lat,Z.lng),a.dt(J.lat,J.lng),a.dt(Z.lat,J.lng),a.dt(oe,Z.lng),a.dt(oe,J.lng),a.dt(Z.lat,ce),a.dt(J.lat,ce)];let Ge=a.c9.fromPoints(He.map(Qt=>[a.a6.vec3.dot(Me,Qt),a.a6.vec3.dot(Ae,Qt),a.a6.vec3.dot(Ce,Qt)]));const $e=a.a6.vec3.transformMat4([],Ge.center,ke);a.a6.vec3.squaredLength($e)===0&&a.a6.vec3.set($e,0,0,1),a.a6.vec3.normalize($e,$e),a.a6.vec3.scale($e,$e,a.aq),j.center=a.du($e);const Ke=j.getWorldToCameraMatrix(),qe=a.a6.mat4.invert(new Float64Array(16),Ke);Ge=a.c9.applyTransform(Ge,a.a6.mat4.multiply([],Ke,ke));const at=this._extendAABB(Ge,j,K,I);if(!at)return void a.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");Ge=at,a.a6.vec3.transformMat4($e,$e,Ke);const nt=.5*(Ge.max[2]-Ge.min[2]),st=this._minimumAABBFrustumDistance(j,Ge),gt=a.a6.vec3.scale([],[0,0,1],nt),ft=a.a6.vec3.add(gt,$e,gt),ct=st+(j.pitch===0?0:a.a6.vec3.distance($e,ft)),Pt=j.globeCenterInViewSpace,Yt=a.a6.vec3.sub([],$e,[Pt[0],Pt[1],Pt[2]]);a.a6.vec3.normalize(Yt,Yt),a.a6.vec3.scale(Yt,Yt,ct);const cn=a.a6.vec3.add([],$e,Yt);a.a6.vec3.transformMat4(cn,cn,qe);const Kt=a.dw/a.aq,_n=a.a6.vec3.length(cn),Lt=a.bD(Math.max(_n*Kt-a.dw,Number.EPSILON),0),on=Math.min(j.zoomFromMercatorZAdjusted(Lt),K.maxZoom);return on>.5*(a.c2+a.bU)?(j.setProjection({name:"mercator"}),j.zoom=on,this._cameraForBounds(j,f,w,I,L,D)):{center:j.center,zoom:on,bearing:I,pitch:L}}_extendAABB(c,f,w,I){const L=.5*((w.padding.left||0)+(w.padding.right||0)),D=.5*((w.padding.top||0)+(w.padding.bottom||0)),j=D,K=L,Z=L,J=D,oe=f.width-(K+Z),ce=f.height-(j+J),he=a.a6.vec3.sub([],c.max,c.min),Ce=Math.min(oe/he[0],ce/he[1]),Me=Math.min(f.scaleZoom(f.scale*Ce),w.maxZoom);if(isNaN(Me))return null;const Ae=f.scale/f.zoomScale(Me),ke=new a.c9([c.min[0]-K*Ae,c.min[1]-J*Ae,c.min[2]],[c.max[0]+Z*Ae,c.max[1]+j*Ae,c.max[2]]),He=(typeof w.offset.x=="number"&&typeof w.offset.y=="number"?new a.P(w.offset.x,w.offset.y):a.P.convert(w.offset)).rotate(-a.bB(I));return ke.center[0]-=He.x*Ae,ke.center[1]+=He.y*Ae,ke}queryTerrainElevation(c,f){const w=this.transform.elevation;return w?(f=a.l({},{exaggerated:!0},f),w.getAtPoint(a.a5.fromLngLat(c),null,f.exaggerated)):null}_cameraForBounds(c,f,w,I,L,D){if(c.projection.name==="globe")return this._cameraForBoundsOnGlobe(c,f,w,I,L,D);const j=c.clone(),K=this._extendCameraOptions(D);j.bearing=I,j.pitch=L;const Z=a.bK.convert(f),J=a.bK.convert(w),oe=new a.bK(Z.lng,J.lat),ce=new a.bK(J.lng,Z.lat),he=j.project(Z),Ce=j.project(J),Me=this.queryTerrainElevation(Z),Ae=this.queryTerrainElevation(J),ke=this.queryTerrainElevation(oe),He=this.queryTerrainElevation(ce),Ge=[[he.x,he.y,Math.min(Me||0,Ae||0,ke||0,He||0)],[Ce.x,Ce.y,Math.max(Me||0,Ae||0,ke||0,He||0)]];let $e=a.c9.fromPoints(Ge);const Ke=j.getWorldToCameraMatrix(),qe=a.a6.mat4.invert(new Float64Array(16),Ke);$e=a.c9.applyTransform($e,Ke);const at=this._extendAABB($e,j,K,I);if(!at)return void a.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");$e=at;const nt=.5*a.a6.vec3.sub([],$e.max,$e.min)[2],st=this._minimumAABBFrustumDistance(j,$e),gt=[0,0,1,0];a.a6.vec4.transformMat4(gt,gt,Ke),a.a6.vec4.normalize(gt,gt);const ft=a.a6.vec3.scale([],gt,st+nt),ct=a.a6.vec3.add([],$e.center,ft);a.a6.vec3.transformMat4($e.center,$e.center,qe),a.a6.vec3.transformMat4(ct,ct,qe);const Pt=j.unproject(new a.P($e.center[0],$e.center[1])),Yt=a.dv(j.projection,Pt),cn=Math.pow(2,Yt),Kt=Math.min(j._zoomFromMercatorZ(ct[2]*j.pixelsPerMeter*cn/j.worldSize),K.maxZoom);return j.mercatorFromTransition&&Kt<.5*(a.c2+a.bU)?(j.setProjection({name:"globe"}),j.zoom=Kt,this._cameraForBounds(j,f,w,I,L,D)):{center:Pt,zoom:Kt,bearing:I,pitch:L}}fitBounds(c,f,w){const I=this.cameraForBounds(c,f);return this._fitInternal(I,f,w)}fitScreenCoordinates(c,f,w,I,L){const D=a.P.convert(c),j=a.P.convert(f),K=new a.P(Math.min(D.x,j.x),Math.min(D.y,j.y)),Z=new a.P(Math.max(D.x,j.x),Math.max(D.y,j.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(D,j))return this;const J=this.transform.pointLocation3D(K),oe=this.transform.pointLocation3D(Z),ce=this.transform.pointLocation3D(new a.P(K.x,Z.y)),he=this.transform.pointLocation3D(new a.P(Z.x,K.y)),Ce=[Math.min(J.lng,oe.lng,ce.lng,he.lng),Math.min(J.lat,oe.lat,ce.lat,he.lat)],Me=[Math.max(J.lng,oe.lng,ce.lng,he.lng),Math.max(J.lat,oe.lat,ce.lat,he.lat)],Ae=I&&I.pitch?I.pitch:this.getPitch(),ke=this._cameraForBounds(this.transform,Ce,Me,w,Ae,I);return this._fitInternal(ke,I,L)}_fitInternal(c,f,w){return c?(f=a.l(c,f)).linear?this.easeTo(f,w):this.flyTo(f,w):this}jumpTo(c,f){this.stop();const w=c.preloadOnly?this.transform.clone():this.transform;let I=!1,L=!1,D=!1;"zoom"in c&&w.zoom!==+c.zoom&&(I=!0,w.zoom=+c.zoom),c.center!==void 0&&(w.center=a.bK.convert(c.center)),"bearing"in c&&w.bearing!==+c.bearing&&(L=!0,w.bearing=+c.bearing),"pitch"in c&&w.pitch!==+c.pitch&&(D=!0,w.pitch=+c.pitch);const j=typeof c.padding=="number"?this._extendPadding(c.padding):c.padding;if(c.padding!=null&&!w.isPaddingEqual(j))if(c.retainPadding===!1){const K=w.clone();K.padding=j,w.setLocationAtPoint(w.center,K.centerPoint)}else w.padding=j;return c.preloadOnly?(this._preloadTiles(w),this):(this.fire(new a.x("movestart",f)).fire(new a.x("move",f)),I&&this.fire(new a.x("zoomstart",f)).fire(new a.x("zoom",f)).fire(new a.x("zoomend",f)),L&&this.fire(new a.x("rotatestart",f)).fire(new a.x("rotate",f)).fire(new a.x("rotateend",f)),D&&this.fire(new a.x("pitchstart",f)).fire(new a.x("pitch",f)).fire(new a.x("pitchend",f)),this.fire(new a.x("moveend",f)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||a.w(Jl),this.transform.getFreeCameraOptions()}setFreeCameraOptions(c,f){const w=this.transform;if(!w.projection.supportsFreeCamera)return a.w(Jl),this;this.stop();const I=w.zoom,L=w.pitch,D=w.bearing;w.setFreeCameraOptions(c);const j=I!==w.zoom,K=L!==w.pitch,Z=D!==w.bearing;return this.fire(new a.x("movestart",f)).fire(new a.x("move",f)),j&&this.fire(new a.x("zoomstart",f)).fire(new a.x("zoom",f)).fire(new a.x("zoomend",f)),Z&&this.fire(new a.x("rotatestart",f)).fire(new a.x("rotate",f)).fire(new a.x("rotateend",f)),K&&this.fire(new a.x("pitchstart",f)).fire(new a.x("pitch",f)).fire(new a.x("pitchend",f)),this.fire(new a.x("moveend",f)),this}easeTo(c,f){this._stop(!1,c.easeId),((c=a.l({offset:[0,0],duration:500,easing:a.dr},c)).animate===!1||this._prefersReducedMotion(c))&&(c.duration=0);const w=this.transform,I=this.getZoom(),L=this.getBearing(),D=this.getPitch(),j=this.getPadding(),K="zoom"in c?+c.zoom:I,Z="bearing"in c?this._normalizeBearing(c.bearing,L):L,J="pitch"in c?+c.pitch:D,oe=this._extendPadding(c.padding),ce=a.P.convert(c.offset);let he,Ce,Me;if(w.projection.name==="globe"){const gt=a.a5.fromLngLat(w.center),ft=ce.rotate(-w.angle);gt.x+=ft.x/w.worldSize,gt.y+=ft.y/w.worldSize;const ct=gt.toLngLat(),Pt=a.bK.convert(c.center||ct);this._normalizeCenter(Pt),he=w.centerPoint.add(ft),Ce=new a.P(gt.x,gt.y).mult(w.worldSize),Me=new a.P(a.am(Pt.lng),a.at(Pt.lat)).mult(w.worldSize).sub(Ce)}else{he=w.centerPoint.add(ce);const gt=w.pointLocation(he),ft=a.bK.convert(c.center||gt);this._normalizeCenter(ft),Ce=w.project(gt),Me=w.project(ft).sub(Ce)}const Ae=w.zoomScale(K-I);let ke,He;c.around&&(ke=a.bK.convert(c.around),He=w.locationPoint(ke));const Ge=this._zooming||K!==I,$e=this._rotating||L!==Z,Ke=this._pitching||J!==D,qe=!w.isPaddingEqual(oe),at=c.retainPadding===!1?w.clone():w,nt=gt=>ft=>{if(Ge&&(gt.zoom=a.aa(I,K,ft)),$e&&(gt.bearing=a.aa(L,Z,ft)),Ke&&(gt.pitch=a.aa(D,J,ft)),qe&&(at.interpolatePadding(j,oe,ft),he=at.centerPoint.add(ce)),ke)gt.setLocationAtPoint(ke,He);else{const ct=gt.zoomScale(gt.zoom-I),Pt=K>I?Math.min(2,Ae):Math.max(.5,Ae),Yt=Math.pow(Pt,1-ft),cn=gt.unproject(Ce.add(Me.mult(ft*Yt)).mult(ct));gt.setLocationAtPoint(gt.renderWorldCopies?cn.wrap():cn,he)}return c.preloadOnly||this._fireMoveEvents(f),gt};if(c.preloadOnly){const gt=this._emulate(nt,c.duration,w);return this._preloadTiles(gt),this}const st={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=Ge,this._rotating=$e,this._pitching=Ke,this._padding=qe,this._easeId=c.easeId,this._prepareEase(f,c.noMoveStart,st),this._ease(nt(w),gt=>{w.cameraElevationReference==="sea"&&w.recenterOnTerrain(),this._afterEase(f,gt)},c),this}_prepareEase(c,f,w={}){this._moving=!0,this.transform.cameraElevationReference="sea",this.transform._orthographicProjectionAtLowPitch&&this.transform.pitch===0&&this.transform.projection.name!=="globe"&&(this.transform.cameraElevationReference="ground"),f||w.moving||this.fire(new a.x("movestart",c)),this._zooming&&!w.zooming&&this.fire(new a.x("zoomstart",c)),this._rotating&&!w.rotating&&this.fire(new a.x("rotatestart",c)),this._pitching&&!w.pitching&&this.fire(new a.x("pitchstart",c))}_fireMoveEvents(c){this.fire(new a.x("move",c)),this._zooming&&this.fire(new a.x("zoom",c)),this._rotating&&this.fire(new a.x("rotate",c)),this._pitching&&this.fire(new a.x("pitch",c))}_afterEase(c,f){if(this._easeId&&f&&this._easeId===f)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const w=this._zooming,I=this._rotating,L=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,w&&this.fire(new a.x("zoomend",c)),I&&this.fire(new a.x("rotateend",c)),L&&this.fire(new a.x("pitchend",c)),this.fire(new a.x("moveend",c))}flyTo(c,f){if(this._prefersReducedMotion(c)){const Qt=a.ar(c,["center","zoom","bearing","pitch","around","padding","retainPadding"]);return this.jumpTo(Qt,f)}this.stop(),c=a.l({offset:[0,0],speed:1.2,curve:1.42,easing:a.dr},c);const w=this.transform,I=this.getZoom(),L=this.getBearing(),D=this.getPitch(),j=this.getPadding(),K="zoom"in c?a.ap(+c.zoom,w.minZoom,w.maxZoom):I,Z="bearing"in c?this._normalizeBearing(c.bearing,L):L,J="pitch"in c?+c.pitch:D,oe=this._extendPadding(c.padding),ce=w.zoomScale(K-I),he=a.P.convert(c.offset);let Ce=w.centerPoint.add(he);const Me=w.pointLocation(Ce),Ae=a.bK.convert(c.center||Me);this._normalizeCenter(Ae);const ke=w.project(Me),He=w.project(Ae).sub(ke);let Ge=c.curve;const $e=Math.max(w.width,w.height),Ke=$e/ce,qe=He.mag();if("minZoom"in c){const Qt=a.ap(Math.min(c.minZoom,I,K),w.minZoom,w.maxZoom),xn=$e/w.zoomScale(Qt-I);Ge=Math.sqrt(xn/qe*2)}const at=Ge*Ge;function nt(Qt){const xn=(Ke*Ke-$e*$e+(Qt?-1:1)*at*at*qe*qe)/(2*(Qt?Ke:$e)*at*qe);return Math.log(Math.sqrt(xn*xn+1)-xn)}function st(Qt){return(Math.exp(Qt)-Math.exp(-Qt))/2}function gt(Qt){return(Math.exp(Qt)+Math.exp(-Qt))/2}const ft=nt(0);let ct=function(Qt){return gt(ft)/gt(ft+Ge*Qt)},Pt=function(Qt){return $e*((gt(ft)*(st(xn=ft+Ge*Qt)/gt(xn))-st(ft))/at)/qe;var xn},Yt=(nt(1)-ft)/Ge;if(Math.abs(qe)<1e-6||!isFinite(Yt)){if(Math.abs($e-Ke)<1e-6)return this.easeTo(c,f);const Qt=Ke<$e?-1:1;Yt=Math.abs(Math.log(Ke/$e))/Ge,Pt=function(){return 0},ct=function(xn){return Math.exp(Qt*Ge*xn)}}c.duration="duration"in c?+c.duration:1e3*Yt/("screenSpeed"in c?+c.screenSpeed/Ge:+c.speed),c.maxDuration&&c.duration>c.maxDuration&&(c.duration=0);const cn=L!==Z,Kt=J!==D,_n=!w.isPaddingEqual(oe),Lt=c.retainPadding===!1?w.clone():w,on=Qt=>xn=>{const Sn=xn*Yt,sn=1/ct(Sn);Qt.zoom=xn===1?K:I+Qt.scaleZoom(sn),cn&&(Qt.bearing=a.aa(L,Z,xn)),Kt&&(Qt.pitch=a.aa(D,J,xn)),_n&&(Lt.interpolatePadding(j,oe,xn),Ce=Lt.centerPoint.add(he));const vn=xn===1?Ae:Qt.unproject(ke.add(He.mult(Pt(Sn))).mult(sn));return Qt.setLocationAtPoint(Qt.renderWorldCopies?vn.wrap():vn,Ce),Qt._updateCameraOnTerrain(),c.preloadOnly||this._fireMoveEvents(f),Qt};if(c.preloadOnly){const Qt=this._emulate(on,c.duration,w);return this._preloadTiles(Qt),this}return this._zooming=!0,this._rotating=cn,this._pitching=Kt,this._padding=_n,this._prepareEase(f,!1),this._ease(on(w),()=>this._afterEase(f),c),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_requestRenderFrame(c){}_cancelRenderFrame(c){}_stop(c,f){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const w=this._onEaseEnd;this._onEaseEnd=void 0,w.call(this,f)}if(!c){const w=this.handlers;w&&w.stop(!1)}return this}_ease(c,f,w){w.animate===!1||w.duration===0?(c(1),f()):(this._easeStart=a.q.now(),this._easeOptions=w,this._onEaseFrame=c,this._onEaseEnd=f,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const c=Math.min((a.q.now()-this._easeStart)/this._easeOptions.duration,1),f=this._onEaseFrame;f&&f(this._easeOptions.easing(c)),c<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(c,f){c=a.bA(c,-180,180);const w=Math.abs(c-f);return Math.abs(c-360-f)<w&&(c-=360),Math.abs(c+360-f)<w&&(c+=360),c}_normalizeCenter(c){const f=this.transform;if(f.maxBounds||f.projection.name!=="globe"&&!f.renderWorldCopies)return;const w=c.lng-f.center.lng;c.lng+=w>180?-360:w<-180?360:0}_prefersReducedMotion(c){return this._respectPrefersReducedMotion&&a.q.prefersReducedMotion&&!(c&&c.essential)}_emulate(c,f,w){const I=Math.ceil(15*f/1e3),L=[],D=c(w.clone());for(let j=0;j<=I;j++){const K=D(j/I);L.push(K.clone())}return L}_preloadTiles(c,f){}}class Pv{constructor(c={}){this.options=c,a.aJ(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(c){const f=this.options&&this.options.compact,w=c._getUIString("AttributionControl.ToggleAttribution");this._map=c,this._container=E("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=E("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._compactButton.setAttribute("aria-label",w);const I=E("span","mapboxgl-ctrl-icon",this._compactButton);return I.setAttribute("aria-hidden","true"),I.setAttribute("title",w),this._innerContainer=E("div","mapboxgl-ctrl-attrib-inner",this._container),f&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),f===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let c=this._editLink;c||(c=this._editLink=this._container.querySelector(".mapbox-improve-map"));const f=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||a.e.ACCESS_TOKEN}];if(c){const w=f.reduce((I,L,D)=>(L.value&&(I+=`${L.key}=${L.value}${D<f.length-1?"&":""}`),I),"?");c.href=`${a.e.FEEDBACK_URL}/${w}#${$u(this._map,!0)}`,c.rel="noopener nofollow"}}_updateData(c){!c||c.sourceDataType!=="metadata"&&c.sourceDataType!=="visibility"&&c.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let c=[];if(this._map.style.stylesheet){const I=this._map.style.stylesheet;this.styleOwner=I.owner,this.styleId=I.id}const f=this._map.style._mergedSourceCaches;for(const I in f){const L=f[I];if(L.used){const D=L.getSource();D.attribution&&c.indexOf(D.attribution)<0&&c.push(D.attribution)}}c.sort((I,L)=>I.length-L.length),c=c.filter((I,L)=>{for(let D=L+1;D<c.length;D++)if(c[D].indexOf(I)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?c=[...this.options.customAttribution,...c]:c.unshift(this.options.customAttribution));const w=c.join(" | ");w!==this._attribHTML&&(this._attribHTML=w,c.length?(this._innerContainer.innerHTML=w,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class t1{constructor(){a.aJ(["_updateLogo","_updateCompact"],this)}onAdd(c){this._map=c,this._container=E("div","mapboxgl-ctrl");const f=E("a","mapboxgl-ctrl-logo");return f.target="_blank",f.rel="noopener nofollow",f.href="https://www.mapbox.com/",f.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),f.setAttribute("rel","noopener nofollow"),this._container.appendChild(f),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(c){c&&c.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const c=this._map.style._sourceCaches;if(Object.entries(c).length===0)return!0;for(const f in c){const w=c[f].getSource();if(w.hasOwnProperty("mapbox_logo")&&!w.mapbox_logo)return!1}return!0}_updateCompact(){const c=this._container.children;if(c.length){const f=c[0];this._map.getCanvasContainer().offsetWidth<250?f.classList.add("mapboxgl-compact"):f.classList.remove("mapboxgl-compact")}}}class I4{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(c){const f=++this._id;return this._queue.push({callback:c,id:f,cancelled:!1}),f}remove(c){const f=this._currentlyRunning,w=f?this._queue.concat(f):this._queue;for(const I of w)if(I.id===c)return void(I.cancelled=!0)}run(c=0){const f=this._currentlyRunning=this._queue;this._queue=[];for(const w of f)if(!w.cancelled&&(w.callback(c),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}class em{constructor(c){this.jumpTo(c)}getValue(c){if(c<=this._startTime)return this._start;if(c>=this._endTime)return this._end;const f=a.cw((c-this._startTime)/(this._endTime-this._startTime));return this._start*(1-f)+this._end*f}isEasing(c){return c>=this._startTime&&c<=this._endTime}jumpTo(c){this._startTime=-1/0,this._endTime=-1/0,this._start=c,this._end=c}easeTo(c,f,w){this._start=this.getValue(f),this._end=c,this._startTime=f,this._endTime=f+w}}const NT={"AttributionControl.ToggleAttribution":"Toggle attribution","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox homepage","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use  + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"};class $T{registerParameter(){}registerButton(){}registerBinding(){}refreshUI(){}}class n1{constructor(c){this.map=c,this.interactionsByType=new Map,this.typeById=new Map,this.filters=new Map,this.handleType=this.handleType.bind(this)}add(c,f){if(this.typeById.has(c))throw new Error(`Interaction id "${c}" already exists.`);const{type:w,filter:I}=f;if(I){const D=a.M(I,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(D.result==="error")throw new Error(D.value.map(j=>`${j.key}: ${j.message}`).join(", "));this.filters.set(c,D.value)}const L=this.interactionsByType.get(w)||new Map;L.size===0&&(this.map.on(w,this.handleType),this.interactionsByType.set(w,L)),L.set(c,f),this.typeById.set(c,w)}remove(c){const f=this.typeById.get(c);if(!f)return;this.typeById.delete(c),this.filters.delete(c);const w=this.interactionsByType.get(f);w&&(w.delete(c),w.size===0&&this.map.off(f,this.handleType))}handleType(c){const f=c.features||this.map.queryRenderedFeatures(c.point);if(!f)return;const w=this.interactionsByType.get(c.type),I={zoom:0};for(const[L,D]of w){const j=this.filters.get(L),{handler:K,layers:Z}=D;for(const J of f)if((!Z||Z.includes(J.layer.id))&&(!j||j.evaluate(I,J))&&K({id:L,feature:J,interaction:D})!==!1)break}}}const r1={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,antialias:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,respectPrefersReducedMotion:!0,crossSourceCollisions:!0,collectResourceTiming:!1,testMode:!1,precompilePrograms:!0},tm={showCompass:!0,showZoom:!0,visualizePitch:!1};class rf{constructor(c,f,w=!1){this._clickTolerance=10,this.element=f,this.mouseRotate=new Mv({clickTolerance:c.dragRotate._mouseRotate._clickTolerance}),this.map=c,w&&(this.mousePitch=new Ev({clickTolerance:c.dragRotate._mousePitch._clickTolerance})),a.aJ(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),f.addEventListener("mousedown",this.mousedown),f.addEventListener("touchstart",this.touchstart,{passive:!1}),f.addEventListener("touchmove",this.touchmove),f.addEventListener("touchend",this.touchend),f.addEventListener("touchcancel",this.reset)}down(c,f){this.mouseRotate.mousedown(c,f),this.mousePitch&&this.mousePitch.mousedown(c,f),W()}move(c,f){const w=this.map,I=this.mouseRotate.mousemoveWindow(c,f),L=I&&I.bearingDelta;if(L&&w.setBearing(w.getBearing()+L),this.mousePitch){const D=this.mousePitch.mousemoveWindow(c,f),j=D&&D.pitchDelta;j&&w.setPitch(w.getPitch()+j)}}off(){const c=this.element;c.removeEventListener("mousedown",this.mousedown),c.removeEventListener("touchstart",this.touchstart,{passive:!1}),c.removeEventListener("touchmove",this.touchmove),c.removeEventListener("touchend",this.touchend),c.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){q(),window.removeEventListener("mousemove",this.mousemove),window.removeEventListener("mouseup",this.mouseup)}mousedown(c){this.down(a.l({},c,{ctrlKey:!0,preventDefault:()=>c.preventDefault()}),ie(this.element,c)),window.addEventListener("mousemove",this.mousemove),window.addEventListener("mouseup",this.mouseup)}mousemove(c){this.move(c,ie(this.element,c))}mouseup(c){this.mouseRotate.mouseupWindow(c),this.mousePitch&&this.mousePitch.mouseupWindow(c),this.offTemp()}touchstart(c){c.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=ae(this.element,c.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>c.preventDefault()},this._startPos))}touchmove(c){c.targetTouches.length!==1?this.reset():(this._lastPos=ae(this.element,c.targetTouches)[0],this.move({preventDefault:()=>c.preventDefault()},this._lastPos))}touchend(c){c.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}function Ql(x,c,f){if(x=new a.bK(x.lng,x.lat),c){const w=new a.bK(x.lng-360,x.lat),I=new a.bK(x.lng+360,x.lat),L=360*Math.ceil(Math.abs(x.lng-f.center.lng)/360),D=f.locationPoint(x).distSqr(c),j=c.x<0||c.y<0||c.x>f.width||c.y>f.height;f.locationPoint(w).distSqr(c)<D&&(j||Math.abs(w.lng-f.center.lng)<L)?x=w:f.locationPoint(I).distSqr(c)<D&&(j||Math.abs(I.lng-f.center.lng)<L)&&(x=I)}for(;Math.abs(x.lng-f.center.lng)>180;){const w=f.locationPoint(x);if(w.x>=0&&w.y>=0&&w.x<=f.width&&w.y<=f.height)break;x.lng>f.center.lng?x.lng-=360:x.lng+=360}return x}const ks={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class eu extends a.E{constructor(c,f){if(super(),(c instanceof HTMLElement||f)&&(c=a.l({element:c},f)),a.aJ(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=c&&c.anchor||"center",this._color=c&&c.color||"#3FB1CE",this._scale=c&&c.scale||1,this._draggable=c&&c.draggable||!1,this._clickTolerance=c&&c.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=c&&c.rotation||0,this._rotationAlignment=c&&c.rotationAlignment||"auto",this._pitchAlignment=c&&c.pitchAlignment&&c.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=c&&c.occludedOpacity||.2,c&&c.element)this._element=c.element,this._offset=a.P.convert(c&&c.offset||[0,0]);else{this._defaultMarker=!0,this._element=E("div");const L=41,D=27,j=k("svg",{display:"block",height:L*this._scale+"px",width:D*this._scale+"px",viewBox:`0 0 ${D} ${L}`},this._element),K=k("radialGradient",{id:"shadowGradient"},k("defs",{},j));k("stop",{offset:"10%","stop-opacity":.4},K),k("stop",{offset:"100%","stop-opacity":.05},K),k("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},j),k("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},j),k("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},j),k("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},j),this._offset=a.P.convert(c&&c.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.hasAttribute("role")||this._element.setAttribute("role","img"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",L=>{L.preventDefault()}),this._element.addEventListener("mousedown",L=>{L.preventDefault()});const w=this._element.classList;for(const L in ks)w.remove(`mapboxgl-marker-anchor-${L}`);w.add(`mapboxgl-marker-anchor-${this._anchor}`);const I=c&&c.className?c.className.trim().split(/\s+/):[];w.add(...I),this._popup=null}addTo(c){return c===this._map||(this.remove(),this._map=c,c.getCanvasContainer().appendChild(this._element),c.on("move",this._updateMoving),c.on("moveend",this._update),c.on("remove",this._clearFadeTimer),c._addMarker(this),this.setDraggable(this._draggable),this._update(),c.on("click",this._onMapClick)),this}remove(){const c=this._map;return c&&(c.off("click",this._onMapClick),c.off("move",this._updateMoving),c.off("moveend",this._update),c.off("mousedown",this._addDragHandler),c.off("touchstart",this._addDragHandler),c.off("mouseup",this._onUp),c.off("touchend",this._onUp),c.off("mousemove",this._onMove),c.off("touchmove",this._onMove),c.off("remove",this._clearFadeTimer),c._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(c){return this._lngLat=a.bK.convert(c),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(c){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),c){if(!("offset"in c.options)){const I=Math.sqrt(Math.pow(13.5,2)/2);c.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[I,-1*(38.1-13.5+I)],"bottom-right":[-I,-1*(38.1-13.5+I)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=c,c._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(c){const f=c.code,w=c.charCode||c.keyCode;f!=="Space"&&f!=="Enter"&&w!==32&&w!==13||this.togglePopup()}_onMapClick(c){const f=c.originalEvent.target,w=this._element;this._popup&&(f===w||w.contains(f))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const c=this._popup;return c?(c.isOpen()?(c.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(c.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const c=this._map,f=this._pos;if(!c||!f)return!1;const w=c.unproject(f),I=c.getFreeCameraOptions();if(!I.position)return!1;const L=I.position.toLngLat();return L.distanceTo(w)<.9*L.distanceTo(this._lngLat)}_evaluateOpacity(){const c=this._map;if(!c)return;const f=this._pos;if(!f||f.x<0||f.x>c.transform.width||f.y<0||f.y>c.transform.height)return void this._clearFadeTimer();const w=c.unproject(f);let I;c._showingGlobe()&&a.dz(c.transform,this._lngLat)?I=0:(I=1-c._queryFogOpacity(w),c.transform._terrainEnabled()&&c.getTerrain()&&this._behindTerrain()&&(I*=this._occludedOpacity)),this._element.style.opacity=`${I}`,this._element.style.pointerEvents=I>0?"auto":"none",this._popup&&this._popup._setOpacity(I),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const c=this._pos;if(!c||!this._map)return;const f=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${c.x}px,${c.y}px)
            ${ks[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${f.x}px,${f.y}px)
        `}_calculateXYTransform(){const c=this._pos,f=this._map,w=this.getPitchAlignment();if(!f||!c||w!=="map")return"";if(!f._showingGlobe()){const K=f.getPitch();return K?`rotateX(${K}deg)`:""}const I=a.c0(a.dA(f.transform,this._lngLat)),L=c.sub(a.dB(f.transform)),D=Math.abs(L.x)+Math.abs(L.y);if(D===0)return"";const j=I/D;return`rotateX(${-L.y*j}deg) rotateY(${L.x*j}deg)`}_calculateZTransform(){const c=this._pos,f=this._map;if(!f||!c)return"";let w=0;const I=this.getRotationAlignment();if(I==="map")if(f._showingGlobe()){const L=f.project(new a.bK(this._lngLat.lng,this._lngLat.lat+.001)),D=f.project(new a.bK(this._lngLat.lng,this._lngLat.lat-.001)).sub(L);w=a.c0(Math.atan2(D.y,D.x))-90}else w=-f.getBearing();else if(I==="horizon"){const L=a.a7(4,6,f.getZoom()),D=a.dB(f.transform);D.y+=L*f.transform.height;const j=c.sub(D),K=a.c0(Math.atan2(j.y,j.x));w=(K>90?K-270:K+90)*(1-L)}return w+=this._rotation,w?`rotateZ(${w}deg)`:""}_update(c){cancelAnimationFrame(this._updateFrameId);const f=this._map;f&&(f.transform.renderWorldCopies&&(this._lngLat=Ql(this._lngLat,this._pos,f.transform)),this._pos=f.project(this._lngLat),c===!0?this._updateFrameId=requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),f._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(f._showingGlobe()||f.getTerrain()||f.getFog())&&!this._fadeTimer&&(this._fadeTimer=window.setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(c){return this._offset=a.P.convert(c),this._update(),this}addClassName(c){return this._element.classList.add(c),this}removeClassName(c){return this._element.classList.remove(c),this}toggleClassName(c){return this._element.classList.toggle(c)}_onMove(c){const f=this._map;if(!f)return;const w=this._pointerdownPos,I=this._positionDelta;if(w&&I){if(!this._isDragging){const L=this._clickTolerance||f._clickTolerance;if(c.point.dist(w)<L)return;this._isDragging=!0}this._pos=c.point.sub(I),this._lngLat=f.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.x("dragstart"))),this.fire(new a.x("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const c=this._map;c&&(c.off("mousemove",this._onMove),c.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new a.x("dragend")),this._state="inactive"}_addDragHandler(c){const f=this._map,w=this._pos;f&&w&&this._element.contains(c.originalEvent.target)&&(c.preventDefault(),this._positionDelta=c.point.sub(w),this._pointerdownPos=c.point,this._state="pending",f.on("mousemove",this._onMove),f.on("touchmove",this._onMove),f.once("mouseup",this._onUp),f.once("touchend",this._onUp))}setDraggable(c){this._draggable=!!c;const f=this._map;return f&&(c?(f.on("mousedown",this._addDragHandler),f.on("touchstart",this._addDragHandler)):(f.off("mousedown",this._addDragHandler),f.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(c){return this._rotation=c||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(c){return this._rotationAlignment=c||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(c){return this._pitchAlignment=c||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(c){return this._occludedOpacity=c||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const Rd={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},Oc={maxWidth:100,unit:"metric"},VT={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"},HT={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},UT=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function k4(x=new a.P(0,0),c="bottom"){if(typeof x=="number"){const f=Math.round(Math.sqrt(.5*Math.pow(x,2)));switch(c){case"top":return new a.P(0,x);case"top-left":return new a.P(f,f);case"top-right":return new a.P(-f,f);case"bottom":return new a.P(0,-x);case"bottom-left":return new a.P(f,-f);case"bottom-right":return new a.P(-f,-f);case"left":return new a.P(x,0);case"right":return new a.P(-x,0)}return new a.P(0,0)}return x instanceof a.P||Array.isArray(x)?a.P.convert(x):a.P.convert(x[c]||[0,0])}return{version:h,supported:M.supported,setRTLTextPlugin:a.dC,getRTLTextPluginStatus:a.dD,Map:class extends e1{constructor(x){v.mark(m.create);const c=x;if((x=a.l({},r1,x)).minZoom!=null&&x.maxZoom!=null&&x.minZoom>x.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(x.minPitch!=null&&x.maxPitch!=null&&x.minPitch>x.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(x.minPitch!=null&&x.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(x.maxPitch!=null&&x.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(x.antialias&&a.dx(window)&&(x.antialias=!1,a.w("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new j0(x.minZoom,x.maxZoom,x.minPitch,x.maxPitch,x.renderWorldCopies),x),this._repaint=!!x.repaint,this._interactive=x.interactive,this._minTileCacheSize=x.minTileCacheSize,this._maxTileCacheSize=x.maxTileCacheSize,this._failIfMajorPerformanceCaveat=x.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=x.preserveDrawingBuffer,this._antialias=x.antialias,this._trackResize=x.trackResize,this._bearingSnap=x.bearingSnap,this._refreshExpiredTiles=x.refreshExpiredTiles,this._fadeDuration=x.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=x.crossSourceCollisions,this._collectResourceTiming=x.collectResourceTiming,this._language=this._parseLanguage(x.language),this._worldview=x.worldview,this._renderTaskQueue=new I4,this._domRenderTaskQueue=new I4,this._controls=[],this._markers=[],this._popups=[],this._mapId=a.aP(),this._locale=a.l({},NT,x.locale),this._clickTolerance=x.clickTolerance,this._cooperativeGestures=x.cooperativeGestures,this._performanceMetricsCollection=x.performanceMetricsCollection,this._tessellationStep=x.tessellationStep,this._containerWidth=0,this._containerHeight=0,this._showParseStatus=!0,this._precompilePrograms=x.precompilePrograms,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new em(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._frameId=0,this._requestManager=new Se(x.transformRequest,x.accessToken,x.testMode),this._silenceAuthErrors=!!x.testMode,this._contextCreateOptions=x.contextCreateOptions?{...x.contextCreateOptions}:{},typeof x.container=="string"){const f=document.getElementById(x.container);if(!f)throw new Error(`Container '${x.container.toString()}' not found.`);this._container=f}else{if(!(x.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=x.container}if(this._container.childNodes.length>0&&a.w("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),x.maxBounds&&this.setMaxBounds(x.maxBounds),a.aJ(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._tp||(this._tp=new $T),this._tp.registerParameter(this,["Debug"],"showOverdrawInspector"),this._tp.registerParameter(this,["Debug"],"showTileBoundaries"),this._tp.registerParameter(this,["Debug"],"showParseStatus"),this._tp.registerParameter(this,["Debug"],"repaint"),this._tp.registerParameter(this,["Debug"],"showTileAABBs"),this._tp.registerParameter(this,["Debug"],"showPadding"),this._tp.registerParameter(this,["Debug"],"showCollisionBoxes",{noSave:!0}),this._tp.registerParameter(this.transform,["Debug"],"freezeTileCoverage",{noSave:!0},()=>{this._update()}),this._tp.registerParameter(this,["Debug","Wireframe"],"showTerrainWireframe"),this._tp.registerParameter(this,["Debug","Wireframe"],"showLayers2DWireframe"),this._tp.registerParameter(this,["Debug","Wireframe"],"showLayers3DWireframe"),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");if(this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this._fullscreenchangeEvent="onfullscreenchange"in document?"fullscreenchange":"webkitfullscreenchange",window.addEventListener("online",this._onWindowOnline,!1),window.addEventListener("resize",this._onWindowResize,!1),window.addEventListener("orientationchange",this._onWindowResize,!1),window.addEventListener(this._fullscreenchangeEvent,this._onWindowResize,!1),window.addEventListener("visibilitychange",this._onVisibilityChange,!1),this.handlers=new Fo(this,x),this._localFontFamily=x.localFontFamily,this._localIdeographFontFamily=x.localIdeographFontFamily,(x.style||!x.testMode)&&this.setStyle(x.style||a.e.DEFAULT_STYLE,{config:x.config,localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),x.projection&&this.setProjection(x.projection),x.hash&&(this._hash=new Rc(typeof x.hash=="string"&&x.hash||void 0).addTo(this)),!this._hash||!this._hash._onHashChange()){c.center==null&&c.zoom==null||(this.transform._unmodified=!1),this.jumpTo({center:x.center,zoom:x.zoom,bearing:x.bearing,pitch:x.pitch});const f=x.bounds;f&&(this.resize(),this.fitBounds(f,a.l({},x.fitBoundsOptions,{duration:0})))}this.resize(),x.attributionControl&&this.addControl(new Pv({customAttribution:x.customAttribution})),this._logoControl=new t1,this.addControl(this._logoControl,x.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet),this._postStyleLoadEvent()}),this.on("data",f=>{this._update(f.dataType==="style"),this.fire(new a.x(`${f.dataType}data`,f))}),this.on("dataloading",f=>{this.fire(new a.x(`${f.dataType}dataloading`,f))}),this._interactions=new n1(this)}_getMapId(){return this._mapId}addControl(x,c){if(c===void 0&&(c=x.getDefaultPosition?x.getDefaultPosition():"top-right"),!x||!x.onAdd)return this.fire(new a.t(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const f=x.onAdd(this);this._controls.push(x);const w=this._controlPositions[c];return c.indexOf("bottom")!==-1?w.insertBefore(f,w.firstChild):w.appendChild(f),this}removeControl(x){if(!x||!x.onRemove)return this.fire(new a.t(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const c=this._controls.indexOf(x);return c>-1&&this._controls.splice(c,1),x.onRemove(this),this}hasControl(x){return this._controls.indexOf(x)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(x){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const c=!this._moving;return c&&this.fire(new a.x("movestart",x)).fire(new a.x("move",x)),this.fire(new a.x("resize",x)),c&&this.fire(new a.x("moveend",x)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(x){return this.transform.setMaxBounds(a.as.convert(x)),this._update()}setMinZoom(x){if((x=x??-2)>=-2&&x<=this.transform.maxZoom)return this.transform.minZoom=x,this._update(),this.getZoom()<x?this.setZoom(x):this.fire(new a.x("zoomstart")).fire(new a.x("zoom")).fire(new a.x("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(x){if((x=x??22)>=this.transform.minZoom)return this.transform.maxZoom=x,this._update(),this.getZoom()>x?this.setZoom(x):this.fire(new a.x("zoomstart")).fire(new a.x("zoom")).fire(new a.x("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(x){if((x=x??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(x>=0&&x<=this.transform.maxPitch)return this.transform.minPitch=x,this._update(),this.getPitch()<x?this.setPitch(x):this.fire(new a.x("pitchstart")).fire(new a.x("pitch")).fire(new a.x("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(x){if((x=x??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(x>=this.transform.minPitch)return this.transform.maxPitch=x,this._update(),this.getPitch()>x?this.setPitch(x):this.fire(new a.x("pitchstart")).fire(new a.x("pitch")).fire(new a.x("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(x){return this.transform.renderWorldCopies=x,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(x){return x==="auto"?navigator.language:Array.isArray(x)?x.length===0?void 0:x.map(c=>c==="auto"?navigator.language:c):x}setLanguage(x){const c=this._parseLanguage(x);if(!this.style||c===this._language)return this;this._language=c,this.style.reloadSources();for(const f of this._controls)f._setLanguage&&f._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(x){return this.style&&x!==this._worldview?(this._worldview=x,this.style.reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(x){return this._lazyInitEmptyStyle(),x?typeof x=="string"&&(x={name:x}):x=null,this._useExplicitProjection=!!x,this._prioritizeAndUpdateProjection(x,this.style.projection)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const x=this.transform,c=x.projection.name;let f;c==="globe"&&x.zoom>=a.bU?(x.setMercatorFromTransition(),f=!0):c==="mercator"&&x.zoom<a.bU&&(x.setProjection({name:"globe"}),f=!0),f&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(x,c){return this._updateProjection(x||c||{name:"mercator"})}_updateProjection(x){let c;return c=x.name==="globe"&&this.transform.zoom>=a.bU?this.transform.setMercatorFromTransition():this.transform.setProjection(x),this.style.applyProjectionUpdate(),c&&(this.painter.clearBackgroundTiles(),this.style.clearSources(),this._update(!0),this._forceMarkerAndPopupUpdate(!0)),this}project(x){return this.transform.locationPoint3D(a.bK.convert(x))}unproject(x){return this.transform.pointLocation3D(a.P.convert(x))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(x,c,f){if(x==="mouseenter"||x==="mouseover"){let w=!1;const I=D=>{const j=c.filter(Z=>this.getLayer(Z)),K=j.length?this.queryRenderedFeatures(D.point,{layers:j}):[];K.length?w||(w=!0,f.call(this,new qo(x,this,D.originalEvent,{features:K}))):w=!1},L=()=>{w=!1};return{layers:new Set(c),listener:f,delegates:{mousemove:I,mouseout:L}}}if(x==="mouseleave"||x==="mouseout"){let w=!1;const I=D=>{const j=c.filter(K=>this.getLayer(K));(j.length?this.queryRenderedFeatures(D.point,{layers:j}):[]).length?w=!0:w&&(w=!1,f.call(this,new qo(x,this,D.originalEvent)))},L=D=>{w&&(w=!1,f.call(this,new qo(x,this,D.originalEvent)))};return{layers:new Set(c),listener:f,delegates:{mousemove:I,mouseout:L}}}{const w=I=>{const L=c.filter(j=>this.getLayer(j)),D=L.length?this.queryRenderedFeatures(I.point,{layers:L}):[];D.length&&(I.features=D,f.call(this,I),delete I.features)};return{layers:new Set(c),listener:f,delegates:{[x]:w}}}}on(x,c,f){if(typeof c=="function"||f===void 0)return super.on(x,c);if(Array.isArray(c)||(c=[c]),c){for(const I of c)if(!this._isValidId(I))return this}const w=this._createDelegatedListener(x,c,f);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[x]=this._delegatedListeners[x]||[],this._delegatedListeners[x].push(w);for(const I in w.delegates)this.on(I,w.delegates[I]);return this}once(x,c,f){if(typeof c=="function"||f===void 0)return super.once(x,c);if(Array.isArray(c)||(c=[c]),c){for(const I of c)if(!this._isValidId(I))return this}const w=this._createDelegatedListener(x,c,f);for(const I in w.delegates)this.once(I,w.delegates[I]);return this}off(x,c,f){if(typeof c=="function"||f===void 0)return super.off(x,c);const w=new Set(Array.isArray(c)?c:[c]);for(const D of w)if(!this._isValidId(D))return this;const I=(D,j)=>{if(D.size!==j.size)return!1;for(const K of D)if(!j.has(K))return!1;return!0},L=this._delegatedListeners?this._delegatedListeners[x]:void 0;return L&&(D=>{for(let j=0;j<D.length;j++){const K=D[j];if(K.listener===f&&I(K.layers,w)){for(const Z in K.delegates)this.off(Z,K.delegates[Z]);return D.splice(j,1),this}}})(L),this}queryRenderedFeatures(x,c){if(!this.style)return[];if(c!==void 0||x===void 0||x instanceof a.P||Array.isArray(x)||(c=x,x=void 0),x=x||[[0,0],[this.transform.width,this.transform.height]],(c=c||{}).layers&&Array.isArray(c.layers)){for(const f of c.layers)if(!this._isValidId(f))return[]}return this.style.queryRenderedFeatures(x,c,this.transform)}querySourceFeatures(x,c){return this._isValidId(x)?this.style.querySourceFeatures(x,c):[]}isPointOnSurface(x){const{name:c}=this.transform.projection;return c!=="globe"&&c!=="mercator"&&a.w(`${c} projection does not support isPointOnSurface, this API may behave unexpectedly.`),this.transform.isPointOnSurface(a.P.convert(x))}addInteraction(x,c){return this._interactions.add(x,c),this}removeInteraction(x){return this._interactions.remove(x),this}setStyle(x,c){return c=a.l({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},c),this.style&&x&&c.diff!==!1&&c.localFontFamily===this._localFontFamily&&c.localIdeographFontFamily===this._localIdeographFontFamily&&!c.config?(this.style._diffStyle(x,(f,w)=>{f?(a.w(`Unable to perform style diff: ${String(f.message||f.error||f)}. Rebuilding the style from scratch.`),this._updateStyle(x,c)):w&&this._update(!0)},()=>{this._postStyleLoadEvent()}),this):(this._localIdeographFontFamily=c.localIdeographFontFamily,this._localFontFamily=c.localFontFamily,this._updateStyle(x,c))}_getUIString(x){const c=this._locale[x];if(c==null)throw new Error(`Missing UI string '${x}'`);return c}_updateStyle(x,c){if(this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),x){const f=a.l({},c);c&&c.config&&(f.initialConfig=c.config,delete f.config),this.style=new As(this,f).load(x),this.style.setEventedParent(this,{style:this.style})}return this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new As(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(a.w("There is no style added to the map."),!1)}_isValidId(x){return x==null?(this.fire(new a.t(new Error("IDs can't be empty."))),!1):!a.cn(x)||(this.fire(new a.t(new Error(`IDs can't contain special symbols: "${x}".`))),!1)}addSource(x,c){return this._isValidId(x)?(this._lazyInitEmptyStyle(),this.style.addSource(x,c),this._update(!0)):this}isSourceLoaded(x){return!!this._isValidId(x)&&!!this.style&&this.style._isSourceCacheLoaded(x)}areTilesLoaded(){return this.style.areTilesLoaded()}addSourceType(x,c,f){this._lazyInitEmptyStyle(),this.style.addSourceType(x,c,f)}removeSource(x){return this._isValidId(x)?(this.style.removeSource(x),this._updateTerrain(),this._update(!0)):this}getSource(x){return this._isValidId(x)?this.style.getOwnSource(x):null}addImage(x,c,{pixelRatio:f=1,sdf:w=!1,stretchX:I,stretchY:L,content:D}={}){if(this._lazyInitEmptyStyle(),c instanceof HTMLImageElement||ImageBitmap&&c instanceof ImageBitmap){const{width:j,height:K,data:Z}=a.q.getImageData(c);this.style.addImage(x,{data:new a.r({width:j,height:K},Z),pixelRatio:f,stretchX:I,stretchY:L,content:D,sdf:w,version:0})}else if(c.width===void 0||c.height===void 0)this.fire(new a.t(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:j,height:K}=c,Z=c;this.style.addImage(x,{data:new a.r({width:j,height:K},new Uint8Array(Z.data)),pixelRatio:f,stretchX:I,stretchY:L,content:D,sdf:w,version:0,userImage:Z}),Z.onAdd&&Z.onAdd(this,x)}}updateImage(x,c){this._lazyInitEmptyStyle();const f=this.style.getImage(x);if(!f)return void this.fire(new a.t(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const w=c instanceof HTMLImageElement||ImageBitmap&&c instanceof ImageBitmap?a.q.getImageData(c):c,{width:I,height:L,data:D}=w;if(I===void 0||L===void 0)return void this.fire(new a.t(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(I!==f.data.width||L!==f.data.height)return void this.fire(new a.t(new Error(`The width and height of the updated image (${I}, ${L})
                must be that same as the previous version of the image
                (${f.data.width}, ${f.data.height})`)));const j=!(c instanceof HTMLImageElement||ImageBitmap&&c instanceof ImageBitmap);f.data.replace(D,j),this.style.updateImage(x,f)}hasImage(x){return x?!!this.style&&!!this.style.getImage(x):(this.fire(new a.t(new Error("Missing required image id"))),!1)}removeImage(x){this.style.removeImage(x)}loadImage(x,c){a.o(this._requestManager.transformRequest(x,a.R.Image),(f,w)=>{c(f,w instanceof HTMLImageElement?a.q.getImageData(w):w)})}listImages(){return this.style.listImages()}addModel(x,c){this._lazyInitEmptyStyle(),this.style.addModel(x,c)}hasModel(x){return x?this.style.hasModel(x):(this.fire(new a.t(new Error("Missing required model id"))),!1)}removeModel(x){this.style.removeModel(x)}listModels(){return this.style.listModels()}addLayer(x,c){return this._isValidId(x.id)?(this._lazyInitEmptyStyle(),this.style.addLayer(x,c),this._update(!0)):this}getSlot(x){const c=this.getLayer(x);return c&&c.slot||null}setSlot(x,c){return this.style.setSlot(x,c),this.style.mergeLayers(),this._update(!0)}addImport(x,c){return this.style.addImport(x,c),this}updateImport(x,c){return typeof c!="string"&&c.id!==x?(this.removeImport(x),this.addImport(c)):(this.style.updateImport(x,c),this._update(!0))}removeImport(x){return this.style.removeImport(x),this}moveImport(x,c){return this.style.moveImport(x,c),this._update(!0)}moveLayer(x,c){return this._isValidId(x)?(this.style.moveLayer(x,c),this._update(!0)):this}removeLayer(x){return this._isValidId(x)?(this.style.removeLayer(x),this._update(!0)):this}getLayer(x){if(!this._isValidId(x))return null;const c=this.style.getOwnLayer(x);return c?c.type==="custom"?c.implementation:c.serialize():void 0}getSlots(){return this.style.getSlots()}setLayerZoomRange(x,c,f){return this._isValidId(x)?(this.style.setLayerZoomRange(x,c,f),this._update(!0)):this}setFilter(x,c,f={}){return this._isValidId(x)?(this.style.setFilter(x,c,f),this._update(!0)):this}getFilter(x){return this._isValidId(x)?this.style.getFilter(x):null}setPaintProperty(x,c,f,w={}){return this._isValidId(x)?(this.style.setPaintProperty(x,c,f,w),this._update(!0)):this}getPaintProperty(x,c){return this._isValidId(x)?this.style.getPaintProperty(x,c):null}setLayoutProperty(x,c,f,w={}){return this._isValidId(x)?(this.style.setLayoutProperty(x,c,f,w),this._update(!0)):this}getLayoutProperty(x,c){return this._isValidId(x)?this.style.getLayoutProperty(x,c):null}getSchema(x){return this.style.getSchema(x)}setSchema(x,c){return this.style.setSchema(x,c),this._update(!0)}getConfig(x){return this.style.getConfig(x)}setConfig(x,c){return this.style.setConfig(x,c),this._update(!0)}getConfigProperty(x,c){return this.style.getConfigProperty(x,c)}setConfigProperty(x,c,f){return this.style.setConfigProperty(x,c,f),this._update(!0)}setLights(x){if(this._lazyInitEmptyStyle(),x&&x.length===1&&x[0].type==="flat"){const c=x[0];c.properties?this.style.setFlatLight(c.properties,c.id,{}):this.style.setFlatLight({},"flat")}else this.style.setLights(x),this.painter.terrain&&(this.painter.terrain.invalidateRenderCache=!0);return this._update(!0)}getLights(){const x=this.style.getLights()||[];return x.length===0&&x.push({id:this.style.light.id,type:"flat",properties:this.style.getFlatLight()}),x}setLight(x,c={}){return console.log("The `map.setLight` function is deprecated, prefer using `map.setLights` with `flat` light type instead."),this.setLights([{id:"flat",type:"flat",properties:x}])}getLight(){return console.log("The `map.getLight` function is deprecated, prefer using `map.getLights` instead."),this.style.getFlatLight()}setTerrain(x){return this._lazyInitEmptyStyle(),!x&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(x),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(x){return this._lazyInitEmptyStyle(),this.style.setFog(x),this._update(!0)}getFog(){return this.style?this.style.getFog():null}setColorTheme(x){return this._lazyInitEmptyStyle(),this.style.setColorTheme(x),this._update(!0)}setCamera(x){return this.style.setCamera(x),this._triggerCameraUpdate(x)}_triggerCameraUpdate(x){return this._update(this.transform.setOrthographicProjectionAtLowPitch(x["camera-projection"]==="orthographic"))}getCamera(){return this.style.camera}_queryFogOpacity(x){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(a.bK.convert(x),this.transform):0}setFeatureState(x,c){return this._isValidId(x.source)?(this.style.setFeatureState(x,c),this._update()):this}removeFeatureState(x,c){return this._isValidId(x.source)?(this.style.removeFeatureState(x,c),this._update()):this}getFeatureState(x){return this._isValidId(x.source)?this.style.getFeatureState(x):null}_updateContainerDimensions(){if(!this._container)return;const x=this._container.getBoundingClientRect().width||400,c=this._container.getBoundingClientRect().height||300;let f,w,I,L=this._container;for(;L&&(!w||!I);){const D=window.getComputedStyle(L).transform;D&&D!=="none"&&(f=D.match(/matrix.*\((.+)\)/)[1].split(", "),f[0]&&f[0]!=="0"&&f[0]!=="1"&&(w=f[0]),f[3]&&f[3]!=="0"&&f[3]!=="1"&&(I=f[3])),L=L.parentElement}this._containerWidth=w?Math.abs(x/w):x,this._containerHeight=I?Math.abs(c/I):c}_detectMissingCSS(){window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&a.w("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const x=this._container;x.classList.add("mapboxgl-map"),(this._missingCSSCanary=E("div","mapboxgl-canary",x)).style.visibility="hidden",this._detectMissingCSS();const c=this._canvasContainer=E("div","mapboxgl-canvas-container",x);this._canvas=E("canvas","mapboxgl-canvas",c),this._interactive&&(c.classList.add("mapboxgl-interactive"),this._canvas.setAttribute("tabindex","0")),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const f=this._controlContainer=E("div","mapboxgl-control-container",x),w=this._controlPositions={};["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"].forEach(I=>{w[I]=E("div",`mapboxgl-ctrl-${I}`,f)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(x,c){const f=a.q.devicePixelRatio||1;this._canvas.width=f*Math.ceil(x),this._canvas.height=f*Math.ceil(c),this._canvas.style.width=`${x}px`,this._canvas.style.height=`${c}px`}_addMarker(x){this._markers.push(x)}_removeMarker(x){const c=this._markers.indexOf(x);c!==-1&&this._markers.splice(c,1)}_addPopup(x){this._popups.push(x)}_removePopup(x){const c=this._popups.indexOf(x);c!==-1&&this._popups.splice(c,1)}_setupPainter(){const x=a.l({},M.supported.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),c=this._canvas.getContext("webgl2",x);c?(Ne(c,!0),this.painter=new Uy(c,this._contextCreateOptions,this.transform,this._tp),this.on("data",f=>{f.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),a.m.testSupport(c)):this.fire(new a.t(new Error("Failed to initialize WebGL")))}_contextLost(x){x.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.x("webglcontextlost",{originalEvent:x}))}_contextRestored(x){this._setupPainter(),this.resize(),this._update(),this.fire(new a.x("webglcontextrestored",{originalEvent:x}))}_onMapScroll(x){if(x.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}idle(){return!this.isMoving()&&this.loaded()}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}frameReady(){return this.loaded()&&!this._placementDirty}_update(x){return this.style?(this._styleDirty=this._styleDirty||x,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(x){return this._update(),this._renderTaskQueue.add(x)}_cancelRenderFrame(x){this._renderTaskQueue.remove(x)}_requestDomTask(x){!this.loaded()||this.loaded()&&!this.isMoving()?x():this._domRenderTaskQueue.add(x)}_render(x){let c;this.fire(new a.x("renderstart")),++this._frameId;const f=this.painter.context.extTimerQuery,w=a.q.now(),I=this.painter.context.gl;if(this.listens("gpu-timing-frame")&&(c=I.createQuery(),I.beginQuery(f.TIME_ELAPSED_EXT,c)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],performance.now())),this._renderTaskQueue.run(x),this._domRenderTaskQueue.run(x),this._removed)return;this._updateProjectionTransition();const L=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const Z=this.transform.zoom,J=this.transform.pitch,oe=a.q.now(),ce=new a.a3(Z,{now:oe,fadeDuration:L,pitch:J,transition:this.style.transition});this.style.update(ce)}this.style&&this.style.hasFogTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let D=!1;this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),D=this._updateAverageElevation(w),this.style.updateSources(this.transform),this._forceMarkerAndPopupUpdate()):D=this._updateAverageElevation(w);const j=this.style&&this.style._updatePlacement(this.painter,this.painter.transform,this.showCollisionBoxes,L,this._crossSourceCollisions,this.painter.replacementSource);if(j&&(this._placementDirty=j.needsRerender),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showParseStatus:this.showParseStatus,wireframe:{terrain:this.showTerrainWireframe,layers2D:this.showLayers2DWireframe,layers3D:this.showLayers3DWireframe},showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:L,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new a.x("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,v.mark(m.load),this.fire(new a.x("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),c){const Z=a.q.now()-w;I.endQuery(f.TIME_ELAPSED_EXT),setTimeout(()=>{const J=I.getQueryParameter(c,I.QUERY_RESULT)/1e6;I.deleteQuery(c),this.fire(new a.x("gpu-timing-frame",{cpuTime:Z,gpuTime:J}))},50)}if(this.listens("gpu-timing-layer")){const Z=this.painter.collectGpuTimers();setTimeout(()=>{const J=this.painter.queryGpuTimers(Z);this.fire(new a.x("gpu-timing-layer",{layerTimes:J}))},50)}if(this.listens("gpu-timing-deferred-render")){const Z=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const J=this.painter.queryGpuTimeDeferredRender(Z);this.fire(new a.x("gpu-timing-deferred-render",{gpuTime:J}))},50)}const K=this._sourcesDirty||this._styleDirty||this._placementDirty||D;if(K||this._repaint)this.triggerRepaint();else{const Z=this.idle();if(Z&&(D=this._updateAverageElevation(w,!0)),D)this.triggerRepaint();else if(this._triggerFrame(!1),Z&&(this.fire(new a.x("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const J=this._calculateSpeedIndex();this.fire(new a.x("speedindexcompleted",{speedIndex:J})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||K||(this._fullyLoaded=!0,v.mark(m.fullLoad),this._performanceMetricsCollection&&vt(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(x){for(const c of this._markers)x&&!this.getRenderWorldCopies()&&(c._lngLat=c._lngLat.wrap()),c._update();for(const c of this._popups)!x||this.getRenderWorldCopies()||c._trackPointer||(c._lngLat=c._lngLat.wrap()),c._update()}_updateAverageElevation(x,c=!1){const f=I=>(this.transform.averageElevation=I,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&f(0);const w=this.transform.elevation&&this.transform.elevation.exaggeration()!==this._averageElevationExaggeration;if(w||(c||x-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(x)){const I=this.transform.averageElevation;let L=this.transform.sampleAverageElevation();this.transform.elevation!=null&&(this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(L)?L=0:this._averageElevationLastSampledAt=x;const D=Math.abs(I-L);if(D>1){if(this._isInitialLoad||w)return this._averageElevation.jumpTo(L),f(L);this._averageElevation.easeTo(L,x,300)}else if(D>1e-4)return this._averageElevation.jumpTo(L),f(L)}return!!this._averageElevation.isEasing(x)&&f(this._averageElevation.getValue(x))}_authenticate(){Re(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,x=>{if(x&&(x.message===Ie||x.status===401)){const c=this.painter.context.gl;Ne(c,!1),this._logoControl instanceof t1&&this._logoControl._updateLogo(),c&&c.clear(c.DEPTH_BUFFER_BIT|c.COLOR_BUFFER_BIT|c.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new a.t(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),Nt(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_postStyleLoadEvent(){this.style.globalId&&je(this._requestManager._customAccessToken,{map:this,skuToken:this._requestManager._skuToken,style:this.style.globalId,importedStyles:this.style.getImportGlobalIds()})}_updateTerrain(){const x=this._isDragging();this.painter.updateTerrain(this.style,x)}_calculateSpeedIndex(){const x=this.painter.canvasCopy(),c=this.painter.getCanvasCopiesAndTimestamps();c.timeStamps.push(performance.now());const f=this.painter.context.gl,w=f.createFramebuffer();function I(L){f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,L,0);const D=new Uint8Array(f.drawingBufferWidth*f.drawingBufferHeight*4);return f.readPixels(0,0,f.drawingBufferWidth,f.drawingBufferHeight,f.RGBA,f.UNSIGNED_BYTE,D),D}return f.bindFramebuffer(f.FRAMEBUFFER,w),this._canvasPixelComparison(I(x),c.canvasCopies.map(I),c.timeStamps)}_canvasPixelComparison(x,c,f){let w=f[1]-f[0];const I=x.length/4;for(let L=0;L<c.length;L++){const D=c[L];let j=0;for(let K=0;K<D.length;K+=4)D[K]===x[K]&&D[K+1]===x[K+1]&&D[K+2]===x[K+2]&&D[K+3]===x[K+3]&&(j+=1);w+=(f[L+2]-f[L+1])*(1-j/I)}return w}remove(){this._hash&&this._hash.remove();for(const c of this._controls)c.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),window.removeEventListener("resize",this._onWindowResize,!1),window.removeEventListener("orientationchange",this._onWindowResize,!1),window.removeEventListener(this._fullscreenchangeEvent,this._onWindowResize,!1),window.removeEventListener("online",this._onWindowOnline,!1),window.removeEventListener("visibilitychange",this._onVisibilityChange,!1);const x=this.painter.context.gl.getExtension("WEBGL_lose_context");x&&x.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),pt.delete(this.painter.context.gl),Vt.remove(),lt.remove(),this._removed=!0,this.fire(new a.x("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(x){this._renderNextFrame=this._renderNextFrame||x,this.style&&!this._frame&&(this._frame=a.q.frame(c=>{const f=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,f&&this._render(c)}))}_preloadTiles(x){const c=this.style?this.style.getSourceCaches():[];return a.bf(c,(f,w)=>f._preloadTiles(x,w),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(x){this._trackResize&&this.resize({originalEvent:x})._update()}_onVisibilityChange(){document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(x){this._showTileBoundaries!==x&&(this._showTileBoundaries=x,this._tp.refreshUI(),this._update())}get showParseStatus(){return!!this._showParseStatus}set showParseStatus(x){this._showParseStatus!==x&&(this._showParseStatus=x,this._tp.refreshUI(),this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(x){this._showTerrainWireframe!==x&&(this._showTerrainWireframe=x,this._tp.refreshUI(),this._update())}get showLayers2DWireframe(){return!!this._showLayers2DWireframe}set showLayers2DWireframe(x){this._showLayers2DWireframe!==x&&(this._showLayers2DWireframe=x,this._tp.refreshUI(),this._update())}get showLayers3DWireframe(){return!!this._showLayers3DWireframe}set showLayers3DWireframe(x){this._showLayers3DWireframe!==x&&(this._showLayers3DWireframe=x,this._tp.refreshUI(),this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(x){this._speedIndexTiming!==x&&(this._speedIndexTiming=x,this._update())}get showPadding(){return!!this._showPadding}set showPadding(x){this._showPadding!==x&&(this._showPadding=x,this._tp.refreshUI(),this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(x){this._showCollisionBoxes!==x&&(this._showCollisionBoxes=x,this._tp.refreshUI(),x?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(x){this._showOverdrawInspector!==x&&(this._showOverdrawInspector=x,this._tp.refreshUI(),this._update())}get repaint(){return!!this._repaint}set repaint(x){this._repaint!==x&&(this._repaint=x,this._tp.refreshUI(),this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(x){this._vertices=x,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(x){this._showTileAABBs!==x&&(this._showTileAABBs=x,this._tp.refreshUI(),x&&this._update())}_setCacheLimits(x,c){a.dy(x,c)}get version(){return h}},NavigationControl:class{constructor(x={}){this.options=a.l({},tm,x),this._container=E("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",c=>c.preventDefault()),this.options.showZoom&&(a.aJ(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",c=>{this._map&&this._map.zoomIn({},{originalEvent:c})}),E("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",c=>{this._map&&this._map.zoomOut({},{originalEvent:c})}),E("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(a.aJ(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",c=>{const f=this._map;f&&(this.options.visualizePitch?f.resetNorthPitch({},{originalEvent:c}):f.resetNorth({},{originalEvent:c}))}),this._compassIcon=E("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const x=this._map;if(!x)return;const c=x.getZoom(),f=c===x.getMaxZoom(),w=c===x.getMinZoom();this._zoomInButton.disabled=f,this._zoomOutButton.disabled=w,this._zoomInButton.setAttribute("aria-disabled",f.toString()),this._zoomOutButton.setAttribute("aria-disabled",w.toString())}_rotateCompassArrow(){const x=this._map;if(!x)return;const c=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(x.transform.pitch*(Math.PI/180)),.5)}) rotateX(${x.transform.pitch}deg) rotateZ(${x.transform.angle*(180/Math.PI)}deg)`:`rotate(${x.transform.angle*(180/Math.PI)}deg)`;x._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=c)})}onAdd(x){return this._map=x,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),x.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&x.on("pitch",this._rotateCompassArrow),x.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new rf(x,this._compass,this.options.visualizePitch)),this._container}onRemove(){const x=this._map;x&&(this._container.remove(),this.options.showZoom&&x.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&x.off("pitch",this._rotateCompassArrow),x.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(x,c){const f=E("button",x,this._container);return f.type="button",f.addEventListener("click",c),f}_setButtonTitle(x,c){if(!this._map)return;const f=this._map._getUIString(`NavigationControl.${c}`);x.setAttribute("aria-label",f),x.firstElementChild&&x.firstElementChild.setAttribute("title",f)}},GeolocateControl:class extends a.E{constructor(x={}){super();const c=navigator.geolocation;this.options=a.l({geolocation:c},Rd,x),a.aJ(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=Nu(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(x){return this._map=x,this._container=E("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(x){const c=(f=!!this.options.geolocation)=>{this._supportsGeolocation=f,x(f)};this._supportsGeolocation!==void 0?x(this._supportsGeolocation):navigator.permissions!==void 0?navigator.permissions.query({name:"geolocation"}).then(f=>c(f.state!=="denied")).catch(()=>c()):c()}_isOutOfMapMaxBounds(x){const c=this._map.getMaxBounds(),f=x.coords;return!!c&&(f.longitude<c.getWest()||f.longitude>c.getEast()||f.latitude<c.getSouth()||f.latitude>c.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(x){if(this._map){if(this._isOutOfMapMaxBounds(x))return this._setErrorState(),this.fire(new a.x("outofmaxbounds",x)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=x,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(x),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(x),this.options.showUserLocation&&this._userLocationDotMarker.removeClassName("mapboxgl-user-location-dot-stale"),this.fire(new a.x("geolocate",x)),this._finish()}}_updateCamera(x){const c=new a.bK(x.coords.longitude,x.coords.latitude),f=x.coords.accuracy,w=this._map.getBearing(),I=a.l({bearing:w},this.options.fitBoundsOptions);this._map.fitBounds(c.toBounds(f),I,{geolocateSource:!0})}_updateMarker(x){if(x){const c=new a.bK(x.coords.longitude,x.coords.latitude);this._accuracyCircleMarker.setLngLat(c).addTo(this._map),this._userLocationDotMarker.setLngLat(c).addTo(this._map),this._accuracy=x.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const x=this._map.transform,c=a.bD(1,x._center.lat)*x.worldSize,f=Math.ceil(2*this._accuracy*c);this._circleElement.style.width=`${f}px`,this._circleElement.style.height=`${f}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._userLocationDotMarker.addClassName("mapboxgl-user-location-show-heading")):(this._userLocationDotMarker.removeClassName("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(x){if(this._map){if(this.options.trackUserLocation)if(x.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const c=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",c),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",c),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(x.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._userLocationDotMarker.addClassName("mapboxgl-user-location-dot-stale"),this.fire(new a.x("error",x)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(x){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",c=>c.preventDefault()),this._geolocateButton=E("button","mapboxgl-ctrl-geolocate",this._container),E("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",x===!1){a.w("Geolocation support is not available so the GeolocateControl will be disabled.");const c=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",c),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",c)}else{const c=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",c),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",c)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=E("div","mapboxgl-user-location"),this._dotElement.appendChild(E("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(E("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new eu({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=E("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new eu({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",c=>{c.geolocateSource||this._watchState!=="ACTIVE_LOCK"||c.originalEvent&&c.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new a.x("trackuserlocationend")))})}}_onDeviceOrientation(x){this._userLocationDotMarker&&(x.webkitCompassHeading?this._heading=x.webkitCompassHeading:x.absolute===!0&&(this._heading=-1*x.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return a.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.x("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.x("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.x("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let x;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(x={maximumAge:6e5,timeout:0},this._noTimeout=!0):(x=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,x),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=window.setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const x=()=>{"ondeviceorientationabsolute"in window?window.addEventListener("deviceorientationabsolute",this._onDeviceOrientation):window.addEventListener("deviceorientation",this._onDeviceOrientation)};typeof DeviceMotionEvent<"u"&&typeof DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(c=>{c==="granted"&&x()}).catch(console.error):x()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),window.removeEventListener("deviceorientation",this._onDeviceOrientation),window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Pv,ScaleControl:class{constructor(x={}){this.options=a.l({},Oc,x),this._isNumberFormatSupported=function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"short",unit:"meter"}),!0}catch{return!1}}(),a.aJ(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const x=this.options.maxWidth||100,c=this._map,f=c._containerHeight/2,w=c._containerWidth/2-x/2,I=c.unproject([w,f]),L=c.unproject([w+x,f]),D=I.distanceTo(L);if(this.options.unit==="imperial"){const j=3.2808*D;j>5280?this._setScale(x,j/5280,"mile"):this._setScale(x,j,"foot")}else this.options.unit==="nautical"?this._setScale(x,D/1852,"nautical-mile"):D>=1e3?this._setScale(x,D/1e3,"kilometer"):this._setScale(x,D,"meter")}_setScale(x,c,f){this._map._requestDomTask(()=>{const w=function(L){const D=Math.pow(10,`${Math.floor(L)}`.length-1);let j=L/D;return j=j>=10?10:j>=5?5:j>=3?3:j>=2?2:j>=1?1:function(K){const Z=Math.pow(10,Math.ceil(-Math.log(K)/Math.LN10));return Math.round(K*Z)/Z}(j),D*j}(c),I=w/c;this._container.innerHTML=this._isNumberFormatSupported&&f!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"short",unit:f}).format(w):`${w}&nbsp;${VT[f]}`,this._container.style.width=x*I+"px"})}onAdd(x){return this._map=x,this._language=x.getLanguage(),this._container=E("div","mapboxgl-ctrl mapboxgl-ctrl-scale",x.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(x){this._language=x,this._update()}setUnit(x){this.options.unit=x,this._update()}},FullscreenControl:class{constructor(x={}){this._fullscreen=!1,x&&x.container&&(x.container instanceof HTMLElement?this._container=x.container:a.w("Full screen control 'container' must be a DOM element.")),a.aJ(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(x){return this._map=x,this._container||(this._container=this._map.getContainer()),this._controlContainer=E("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.w("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!document.fullscreenEnabled&&!document.webkitFullscreenEnabled)}_setupUI(){const x=this._fullscreenButton=E("button","mapboxgl-ctrl-fullscreen",this._controlContainer);E("span","mapboxgl-ctrl-icon",x).setAttribute("aria-hidden","true"),x.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const x=this._getTitle();this._fullscreenButton.setAttribute("aria-label",x),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",x)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(document.fullscreenElement||document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends a.E{constructor(x){super(),this.options=a.l(Object.create(HT),x),a.aJ(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(x&&x.className?x.className.trim().split(/\s+/):[])}addTo(x){return this._map&&this.remove(),this._map=x,this.options.closeOnClick&&x.on("preclick",this._onClose),this.options.closeOnMove&&x.on("move",this._onClose),x.on("remove",this.remove),this._update(),x._addPopup(this),this._focusFirstElement(),this._trackPointer?(x.on("mousemove",this._onMouseEvent),x.on("mouseup",this._onMouseEvent),x._canvasContainer.classList.add("mapboxgl-track-pointer")):x.on("move",this._update),this.fire(new a.x("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const x=this._map;return x&&(x.off("move",this._update),x.off("move",this._onClose),x.off("preclick",this._onClose),x.off("click",this._onClose),x.off("remove",this.remove),x.off("mousemove",this._onMouseEvent),x.off("mouseup",this._onMouseEvent),x.off("drag",this._onMouseEvent),x._canvasContainer&&x._canvasContainer.classList.remove("mapboxgl-track-pointer"),x._removePopup(this),this._map=void 0),this.fire(new a.x("close")),this}getLngLat(){return this._lngLat}setLngLat(x){this._lngLat=a.bK.convert(x),this._pos=null,this._trackPointer=!1,this._update();const c=this._map;return c&&(c.on("move",this._update),c.off("mousemove",this._onMouseEvent),c._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const x=this._map;return x&&(x.off("move",this._update),x.on("mousemove",this._onMouseEvent),x.on("drag",this._onMouseEvent),x._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(x){return this.setDOMContent(document.createTextNode(x))}setHTML(x){const c=document.createDocumentFragment(),f=document.createElement("body");let w;for(f.innerHTML=x;w=f.firstChild,w;)c.appendChild(w);return this.setDOMContent(c)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(x){return this.options.maxWidth=x,this._update(),this}setDOMContent(x){let c=this._content;if(c)for(;c.hasChildNodes();)c.firstChild&&c.removeChild(c.firstChild);else c=this._content=E("div","mapboxgl-popup-content",this._container||void 0);if(c.appendChild(x),this.options.closeButton){const f=this._closeButton=E("button","mapboxgl-popup-close-button",c);f.type="button",f.setAttribute("aria-label","Close popup"),f.setAttribute("aria-hidden","true"),f.innerHTML="&#215;",f.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(x){return this._classList.add(x),this._updateClassList(),this}removeClassName(x){return this._classList.delete(x),this._updateClassList(),this}setOffset(x){return this.options.offset=x,this._update(),this}toggleClassName(x){let c;return this._classList.delete(x)?c=!1:(this._classList.add(x),c=!0),this._updateClassList(),c}_onMouseEvent(x){this._update(x.point)}_getAnchor(x){if(this.options.anchor)return this.options.anchor;const c=this._map,f=this._container,w=this._pos;if(!c||!f||!w)return"bottom";const I=f.offsetWidth,L=f.offsetHeight,D=w.x<I/2,j=w.x>c.transform.width-I/2;if(w.y+x<L)return D?"top-left":j?"top-right":"top";if(w.y>c.transform.height-L){if(D)return"bottom-left";if(j)return"bottom-right"}return D?"left":j?"right":"bottom"}_updateClassList(){const x=this._container;if(!x)return;const c=[...this._classList];c.push("mapboxgl-popup"),this._anchor&&c.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&c.push("mapboxgl-popup-track-pointer"),x.className=c.join(" ")}_update(x){const c=this._map,f=this._content;if(!c||!this._lngLat&&!this._trackPointer||!f)return;let w=this._container;if(w||(w=this._container=E("div","mapboxgl-popup",c.getContainer()),this._tip=E("div","mapboxgl-popup-tip",w),w.appendChild(f)),this.options.maxWidth&&w.style.maxWidth!==this.options.maxWidth&&(w.style.maxWidth=this.options.maxWidth),c.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Ql(this._lngLat,this._pos,c.transform)),!this._trackPointer||x){const I=this._pos=this._trackPointer&&x instanceof a.P?x:c.project(this._lngLat),L=k4(this.options.offset),D=this._anchor=this._getAnchor(L.y),j=k4(this.options.offset,D),K=I.add(j).round();c._requestDomTask(()=>{this._container&&D&&(this._container.style.transform=`${ks[D]} translate(${K.x}px,${K.y}px)`)})}if(!this._marker&&c._showingGlobe()){const I=a.dz(c.transform,this._lngLat)?0:1;this._setOpacity(I)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const x=this._container.querySelector(UT);x&&x.focus()}_onClose(){this.remove()}_setOpacity(x){this._container&&(this._container.style.opacity=`${x}`),this._content&&(this._content.style.pointerEvents=x?"auto":"none")}},Marker:eu,Style:As,LngLat:a.bK,LngLatBounds:a.as,Point:a.P,MercatorCoordinate:a.a5,FreeCameraOptions:Mc,Evented:a.E,config:a.e,prewarm:a.dE,clearPrewarmedResources:a.dF,get accessToken(){return a.e.ACCESS_TOKEN},set accessToken(x){a.e.ACCESS_TOKEN=x},get baseApiUrl(){return a.e.API_URL},set baseApiUrl(x){a.e.API_URL=x},get workerCount(){return a.dG.workerCount},set workerCount(x){a.dG.workerCount=x},get maxParallelImageRequests(){return a.e.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(x){a.e.MAX_PARALLEL_IMAGE_REQUESTS=x},clearStorage(x){a.dH(x)},get workerUrl(){return a.dI.workerUrl},set workerUrl(x){a.dI.workerUrl=x},get workerClass(){return a.dI.workerClass},set workerClass(x){a.dI.workerClass=x},get workerParams(){return a.dI.workerParams},set workerParams(x){a.dI.workerParams=x},get dracoUrl(){return a.dJ()},set dracoUrl(x){a.dK(x)},get meshoptUrl(){return a.dL()},set meshoptUrl(x){a.dM(x)},setNow:a.q.setNow,restoreNow:a.q.restoreNow}});var u=o;return u})})(Gne);var Xit=Gne.exports;const k3=md(Xit),Jit={class:"map-container"},Qit={class:"left-tabs"},eat={class:"custom-tabs-label"},tat={class:"tab-icon"},nat={class:"tab-content"},rat={class:"content-section"},iat={class:"content-section"},aat={class:"custom-tabs-label"},oat={class:"tab-icon"},sat={class:"custom-tabs-label"},lat={class:"tab-icon"},uat={class:"custom-tabs-label"},cat={class:"tab-icon"},dat={name:"Mapbox"},hat=ge({...dat,setup(e){br(()=>{k3.accessToken="pk.eyJ1IjoibWFya3VzZmVuZyIsImEiOiJjbTJrMjd3ZmMwOWZ6MmlxM2lvczNlOWptIn0.FzDoEjV7qQn8njQZ3YvOUw";const o=new k3.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:[-74.5,40],zoom:9}),s=new k3.NavigationControl({visualizePitch:!0,showCompass:!0,showZoom:!0});o.addControl(s,"top-right");const u=new k3.ScaleControl({maxWidth:80,unit:"imperial"});o.addControl(u,"bottom-right")});const t=Te(""),n=(o,s)=>{const{paneName:u}=o;u===t.value&&(t.value="")},r=Te(!1),i=o=>{};return(o,s)=>{const u=Zn("calendar"),a=Zn("el-icon"),h=Zn("el-badge"),m=Zn("el-switch");return X(),pe("div",Jit,[s[15]||(s[15]=ue("div",{id:"map"},null,-1)),ue("div",Qit,[Fe(A(tX),{modelValue:t.value,"onUpdate:modelValue":s[2]||(s[2]=v=>t.value=v),"tab-position":"left",class:"custom-tabs",onTabClick:n},{default:tt(()=>[Fe(A(bb),{name:"first"},{label:tt(()=>[ue("div",eat,[ue("div",tat,[Fe(h,{value:6,class:"item"},{default:tt(()=>[Fe(a,null,{default:tt(()=>[Fe(u)]),_:1})]),_:1})]),s[3]||(s[3]=ue("div",{class:"tab-text"},"",-1))])]),default:tt(()=>[ue("div",nat,[s[8]||(s[8]=ue("h5",null,"",-1)),ue("div",rat,[Fe(m,{modelValue:r.value,"onUpdate:modelValue":s[0]||(s[0]=v=>r.value=v),size:"small","active-color":"#13ce66","inactive-color":"#ff4949",onChange:i},null,8,["modelValue"]),s[4]||(s[4]=ue("span",{style:{"font-size":"12px","margin-left":"8px",color:"#555"}},"",-1)),s[5]||(s[5]=ue("p",{class:"description"},"GLAD-L/GLAD-S2/RADD  UMD  WURGLAD-L  30 m  10 m",-1))]),Fe(A(IZ)),ue("div",iat,[Fe(m,{modelValue:r.value,"onUpdate:modelValue":s[1]||(s[1]=v=>r.value=v),size:"small","active-color":"#13ce66","inactive-color":"#ff4949",onChange:i},null,8,["modelValue"]),s[6]||(s[6]=ue("span",{style:{"font-size":"12px","margin-left":"8px",color:"#555"}},"",-1)),s[7]||(s[7]=ue("p",{class:"description"},"",-1))])])]),_:1}),Fe(A(bb),{name:"second"},{label:tt(()=>[ue("div",aat,[ue("div",oat,[Fe(a,null,{default:tt(()=>[Fe(u)]),_:1})]),s[9]||(s[9]=ue("div",{class:"tab-text"},"",-1))])]),default:tt(()=>[s[10]||(s[10]=ue("div",{class:"tab-content"},"  ",-1))]),_:1}),Fe(A(bb),{name:"third"},{label:tt(()=>[ue("div",sat,[ue("div",lat,[Fe(a,null,{default:tt(()=>[Fe(u)]),_:1})]),s[11]||(s[11]=ue("div",{class:"tab-text"},"",-1))])]),default:tt(()=>[s[12]||(s[12]=ue("div",{class:"tab-content"},"  ",-1))]),_:1}),Fe(A(bb),{name:"fourth"},{label:tt(()=>[ue("div",uat,[ue("div",cat,[Fe(a,null,{default:tt(()=>[Fe(u)]),_:1})]),s[13]||(s[13]=ue("div",{class:"tab-text"},"",-1))])]),default:tt(()=>[s[14]||(s[14]=ue("div",{class:"tab-content"},"  ",-1))]),_:1})]),_:1},8,["modelValue"])])])}}}),Aj=xp(hat,[["__scopeId","data-v-11cfb77e"]]),fat=[{path:"/index",component:I3,children:[{path:"",component:I3}]},{path:"/home",component:I3,children:[{path:"",component:I3}]},{path:"/terriaMap",component:Ej,children:[{path:"",component:Ej}]},{path:"/mapbox",component:Aj,children:[{path:"",component:Aj}]},{path:"/leaflet",component:Mj,children:[{path:"",component:Mj}]}],pat=Xle({history:Ele("/stellerus-tech-models"),routes:fat}),mat=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];function vat(e){function t(r){return(...i)=>{if(!e.value)throw new Error("ECharts is not initialized yet.");return e.value[r].apply(e.value,i)}}function n(){const r=Object.create(null);return mat.forEach(i=>{r[i]=t(i)}),r}return n()}function gat(e,t,n){Wt([n,e,t],([r,i,o],s,u)=>{let a=null;if(r&&i&&o){const{offsetWidth:h,offsetHeight:m}=r,v=o===!0?{}:o,{throttle:_=100,onResize:b}=v;let T=!1;const M=()=>{i.resize(),b==null||b()},E=_?VD(M,_):M;a=new ResizeObserver(()=>{!T&&(T=!0,r.offsetWidth===h&&r.offsetHeight===m)||E()}),a.observe(r)}u(()=>{a&&(a.disconnect(),a=null)})})}const _at={autoresize:[Boolean,Object]},yat=/^on[^a-z]/,qne=e=>yat.test(e);function bat(e){const t={};for(const n in e)qne(n)||(t[n]=e[n]);return t}function SS(e,t){const n=ra(e)?A(e):e;return n&&typeof n=="object"&&"value"in n?n.value||t:n||t}const xat="ecLoadingOptions";function wat(e,t,n){const r=An(xat,{}),i=le(()=>({...SS(r,{}),...n==null?void 0:n.value}));ko(()=>{const o=e.value;o&&(t.value?o.showLoading(i.value):o.hideLoading())})}const Sat={loading:Boolean,loadingOptions:Object};let vb=null;const Kne="x-vue-echarts";function Cat(){if(vb!=null)return vb;if(typeof HTMLElement>"u"||typeof customElements>"u")return vb=!1;try{new Function("tag","class EChartsElement extends HTMLElement{__dispose=null;disconnectedCallback(){this.__dispose&&(this.__dispose(),this.__dispose=null)}}customElements.get(tag)==null&&customElements.define(tag,EChartsElement);")(Kne)}catch{return vb=!1}return vb=!0}document.head.appendChild(document.createElement("style")).textContent=`x-vue-echarts{display:block;width:100%;height:100%;min-width:0}
`;const Tat=Cat(),Mat="ecTheme",Eat="ecInitOptions",Aat="ecUpdateOptions",Ij=/(^&?~?!?)native:/;var Iat=ge({name:"echarts",props:{option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean,..._at,...Sat},emits:{},inheritAttrs:!1,setup(e,{attrs:t}){const n=Ji(),r=Ji(),i=Ji(),o=An(Mat,null),s=An(Eat,null),u=An(Aat,null),{autoresize:a,manualUpdate:h,loading:m,loadingOptions:v}=Co(e),_=le(()=>i.value||e.option||null),b=le(()=>e.theme||SS(o,{})),T=le(()=>e.initOptions||SS(s,{})),M=le(()=>e.updateOptions||SS(u,{})),E=le(()=>bat(t)),k={},z=Mr().proxy.$listeners,B={};z?Object.keys(z).forEach(ie=>{Ij.test(ie)?k[ie.replace(Ij,"$1")]=z[ie]:B[ie]=z[ie]}):Object.keys(t).filter(ie=>qne(ie)).forEach(ie=>{let ae=ie.charAt(2).toLowerCase()+ie.slice(3);if(ae.indexOf("native:")===0){const re=`on${ae.charAt(7).toUpperCase()}${ae.slice(8)}`;k[re]=t[ie];return}ae.substring(ae.length-4)==="Once"&&(ae=`~${ae.substring(0,ae.length-4)}`),B[ae]=t[ie]});function U(ie){if(!n.value)return;const ae=r.value=Jet(n.value,b.value,T.value);e.group&&(ae.group=e.group),Object.keys(B).forEach(be=>{let Ie=B[be];if(!Ie)return;let Se=be.toLowerCase();Se.charAt(0)==="~"&&(Se=Se.substring(1),Ie.__once__=!0);let me=ae;if(Se.indexOf("zr:")===0&&(me=ae.getZr(),Se=Se.substring(3)),Ie.__once__){delete Ie.__once__;const Le=Ie;Ie=(...Ee)=>{Le(...Ee),me.off(Se,Ie)}}me.on(Se,Ie)});function re(){ae&&!ae.isDisposed()&&ae.resize()}function se(){const be=ie||_.value;be&&ae.setOption(be,M.value)}a.value?Fn(()=>{re(),se()}):se()}function W(ie,ae){e.manualUpdate&&(i.value=ie),r.value?r.value.setOption(ie,ae||{}):U(ie)}function q(){r.value&&(r.value.dispose(),r.value=void 0)}let Q=null;Wt(h,ie=>{typeof Q=="function"&&(Q(),Q=null),ie||(Q=Wt(()=>e.option,(ae,re)=>{ae&&(r.value?r.value.setOption(ae,{notMerge:ae!==re,...M.value}):U())},{deep:!0}))},{immediate:!0}),Wt([b,T],()=>{q(),U()},{deep:!0}),ko(()=>{e.group&&r.value&&(r.value.group=e.group)});const te=vat(r);return wat(r,m,v),gat(r,a,n),br(()=>{U()}),Di(()=>{Tat&&n.value?n.value.__dispose=q:q()}),{chart:r,root:n,setOption:W,nonEventAttrs:E,nativeListeners:k,...te}},render(){const e={...this.nonEventAttrs,...this.nativeListeners};return e.ref="root",e.class=e.class?["echarts"].concat(e.class):"echarts",jn(Kne,e)}});const kat={__name:"App",setup(e){return(t,n)=>(X(),Rt(ZFe))}};FNe({key:"aead2f5addb285e7cdf97d07e4599cf3",securityJsCode:"5e666e91dc497f7417fa4217cf0520a5"});const Yne=tW(kat);for(const[e,t]of Object.entries(_we))Yne.component(e,t);Yne.component("v-chart",Iat).use(bQ).use(VFe).use(pat).mount("#app");
